var IU=Object.defineProperty,MU=Object.defineProperties;var BU=Object.getOwnPropertyDescriptors;var E0=Object.getOwnPropertySymbols;var S4=Object.prototype.hasOwnProperty,w4=Object.prototype.propertyIsEnumerable;var db=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),gn=Math.pow,pb=(e,t,r)=>t in e?IU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ji=(e,t)=>{for(var r in t||(t={}))S4.call(t,r)&&pb(e,r,t[r]);if(E0)for(var r of E0(t))w4.call(t,r)&&pb(e,r,t[r]);return e},Or=(e,t)=>MU(e,BU(t));var T4=(e,t)=>{var r={};for(var n in e)S4.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&E0)for(var n of E0(e))t.indexOf(n)<0&&w4.call(e,n)&&(r[n]=e[n]);return r};var OU=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ei=(e,t,r)=>(pb(e,typeof t!="symbol"?t+"":t,r),r);var oi=(e,t,r)=>new Promise((n,c)=>{var S=i=>{try{g(r.next(i))}catch(a){c(a)}},s=i=>{try{g(r.throw(i))}catch(a){c(a)}},g=i=>i.done?n(i.value):Promise.resolve(i.value).then(S,s);g((r=r.apply(e,t)).next())}),NU=function(e,t){this[0]=e,this[1]=t};var vb=e=>{var t=e[db("asyncIterator")],r=!1,n,c={};return t==null?(t=e[db("iterator")](),n=S=>c[S]=s=>t[S](s)):(t=t.call(e),n=S=>c[S]=s=>{if(r){if(r=!1,S==="throw")throw s;return s}return r=!0,{done:!1,value:new NU(new Promise(g=>{var i=t[S](s);if(!(i instanceof Object))throw TypeError("Object expected");g(i)}),1)}}),c[db("iterator")]=()=>c,n("next"),"throw"in t?n("throw"):c.throw=S=>{throw S},"return"in t&&n("return"),c};var TVt=OU((bn,v1)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))n(c);new MutationObserver(c=>{for(const S of c)if(S.type==="childList")for(const s of S.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(c){const S={};return c.integrity&&(S.integrity=c.integrity),c.referrerPolicy&&(S.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?S.credentials="include":c.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function n(c){if(c.ep)return;c.ep=!0;const S=r(c);fetch(c.href,S)}})();var Dm=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};function Rs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function VP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var c=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,c.get?c:{enumerable:!0,get:function(){return e[n]}})}),r}var WP={exports:{}},Am={},YP={exports:{}},cn={};var C4=Object.getOwnPropertySymbols,FU=Object.prototype.hasOwnProperty,LU=Object.prototype.propertyIsEnumerable;function _U(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function jU(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(S){return t[S]});if(n.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(S){c[S]=S}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch(S){return!1}}var ky=jU()?Object.assign:function(e,t){for(var r,n=_U(e),c,S=1;S<arguments.length;S++){r=Object(arguments[S]);for(var s in r)FU.call(r,s)&&(n[s]=r[s]);if(C4){c=C4(r);for(var g=0;g<c.length;g++)LU.call(r,c[g])&&(n[c[g]]=r[c[g]])}}return n};const UU=Rs(ky);var MC=ky,zl=typeof Symbol=="function"&&Symbol.for,Pm=zl?Symbol.for("react.element"):60103,zU=zl?Symbol.for("react.portal"):60106,GU=zl?Symbol.for("react.fragment"):60107,HU=zl?Symbol.for("react.strict_mode"):60108,$U=zl?Symbol.for("react.profiler"):60114,VU=zl?Symbol.for("react.provider"):60109,WU=zl?Symbol.for("react.context"):60110,YU=zl?Symbol.for("react.forward_ref"):60112,XU=zl?Symbol.for("react.suspense"):60113,QU=zl?Symbol.for("react.memo"):60115,KU=zl?Symbol.for("react.lazy"):60116,E4=typeof Symbol=="function"&&Symbol.iterator;function Rm(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QP={};function Xd(e,t,r){this.props=e,this.context=t,this.refs=QP,this.updater=r||XP}Xd.prototype.isReactComponent={};Xd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Rm(85));this.updater.enqueueSetState(this,e,t,"setState")};Xd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function KP(){}KP.prototype=Xd.prototype;function BC(e,t,r){this.props=e,this.context=t,this.refs=QP,this.updater=r||XP}var OC=BC.prototype=new KP;OC.constructor=BC;MC(OC,Xd.prototype);OC.isPureReactComponent=!0;var NC={current:null},JP=Object.prototype.hasOwnProperty,ZP={key:!0,ref:!0,__self:!0,__source:!0};function qP(e,t,r){var n,c={},S=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(S=""+t.key),t)JP.call(t,n)&&!ZP.hasOwnProperty(n)&&(c[n]=t[n]);var g=arguments.length-2;if(g===1)c.children=r;else if(1<g){for(var i=Array(g),a=0;a<g;a++)i[a]=arguments[a+2];c.children=i}if(e&&e.defaultProps)for(n in g=e.defaultProps,g)c[n]===void 0&&(c[n]=g[n]);return{$$typeof:Pm,type:e,key:S,ref:s,props:c,_owner:NC.current}}function JU(e,t){return{$$typeof:Pm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function FC(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pm}function ZU(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(r){return t[r]})}var tR=/\/+/g,m1=[];function eR(e,t,r,n){if(m1.length){var c=m1.pop();return c.result=e,c.keyPrefix=t,c.func=r,c.context=n,c.count=0,c}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function iR(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>m1.length&&m1.push(e)}function cT(e,t,r,n){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var S=!1;if(e===null)S=!0;else switch(c){case"string":case"number":S=!0;break;case"object":switch(e.$$typeof){case Pm:case zU:S=!0}}if(S)return r(n,e,t===""?"."+mb(e,0):t),1;if(S=0,t=t===""?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){c=e[s];var g=t+mb(c,s);S+=cT(c,g,r,n)}else if(e===null||typeof e!="object"?g=null:(g=E4&&e[E4]||e["@@iterator"],g=typeof g=="function"?g:null),typeof g=="function")for(e=g.call(e),s=0;!(c=e.next()).done;)c=c.value,g=t+mb(c,s++),S+=cT(c,g,r,n);else if(c==="object")throw r=""+e,Error(Rm(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return S}function fT(e,t,r){return e==null?0:cT(e,"",t,r)}function mb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ZU(e.key):t.toString(36)}function qU(e,t){e.func.call(e.context,t,e.count++)}function tz(e,t,r){var n=e.result,c=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?dT(e,n,r,function(S){return S}):e!=null&&(FC(e)&&(e=JU(e,c+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(tR,"$&/")+"/")+r)),n.push(e))}function dT(e,t,r,n,c){var S="";r!=null&&(S=(""+r).replace(tR,"$&/")+"/"),t=eR(t,S,n,c),fT(e,tz,t),iR(t)}var rR={current:null};function dh(){var e=rR.current;if(e===null)throw Error(Rm(321));return e}var ez={ReactCurrentDispatcher:rR,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:NC,IsSomeRendererActing:{current:!1},assign:MC};cn.Children={map:function(e,t,r){if(e==null)return e;var n=[];return dT(e,n,null,t,r),n},forEach:function(e,t,r){if(e==null)return e;t=eR(null,null,t,r),fT(e,qU,t),iR(t)},count:function(e){return fT(e,function(){return null},null)},toArray:function(e){var t=[];return dT(e,t,null,function(r){return r}),t},only:function(e){if(!FC(e))throw Error(Rm(143));return e}};cn.Component=Xd;cn.Fragment=GU;cn.Profiler=$U;cn.PureComponent=BC;cn.StrictMode=HU;cn.Suspense=XU;cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ez;cn.cloneElement=function(e,t,r){if(e==null)throw Error(Rm(267,e));var n=MC({},e.props),c=e.key,S=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(S=t.ref,s=NC.current),t.key!==void 0&&(c=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(i in t)JP.call(t,i)&&!ZP.hasOwnProperty(i)&&(n[i]=t[i]===void 0&&g!==void 0?g[i]:t[i])}var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){g=Array(i);for(var a=0;a<i;a++)g[a]=arguments[a+2];n.children=g}return{$$typeof:Pm,type:e.type,key:c,ref:S,props:n,_owner:s}};cn.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:WU,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:VU,_context:e},e.Consumer=e};cn.createElement=qP;cn.createFactory=function(e){var t=qP.bind(null,e);return t.type=e,t};cn.createRef=function(){return{current:null}};cn.forwardRef=function(e){return{$$typeof:YU,render:e}};cn.isValidElement=FC;cn.lazy=function(e){return{$$typeof:KU,_ctor:e,_status:-1,_result:null}};cn.memo=function(e,t){return{$$typeof:QU,type:e,compare:t===void 0?null:t}};cn.useCallback=function(e,t){return dh().useCallback(e,t)};cn.useContext=function(e,t){return dh().useContext(e,t)};cn.useDebugValue=function(){};cn.useEffect=function(e,t){return dh().useEffect(e,t)};cn.useImperativeHandle=function(e,t,r){return dh().useImperativeHandle(e,t,r)};cn.useLayoutEffect=function(e,t){return dh().useLayoutEffect(e,t)};cn.useMemo=function(e,t){return dh().useMemo(e,t)};cn.useReducer=function(e,t,r){return dh().useReducer(e,t,r)};cn.useRef=function(e){return dh().useRef(e)};cn.useState=function(e){return dh().useState(e)};cn.version="16.14.0";YP.exports=cn;var zi=YP.exports;const ti=Rs(zi);var iz=zi,nR=60103;Am.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var k4=Symbol.for;nR=k4("react.element"),Am.Fragment=k4("react.fragment")}var rz=iz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nz=Object.prototype.hasOwnProperty,sz={key:!0,ref:!0,__self:!0,__source:!0};function sR(e,t,r){var n,c={},S=null,s=null;r!==void 0&&(S=""+r),t.key!==void 0&&(S=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)nz.call(t,n)&&!sz.hasOwnProperty(n)&&(c[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)c[n]===void 0&&(c[n]=t[n]);return{$$typeof:nR,type:e,key:S,ref:s,props:c,_owner:rz.current}}Am.jsx=sR;Am.jsxs=sR;WP.exports=Am;var A=WP.exports,aR={exports:{}},el={},oR={exports:{}},lR={};(function(e){var t,r,n,c,S;if(typeof window=="undefined"||typeof MessageChannel!="function"){var s=null,g=null,i=function(){if(s!==null)try{var F=e.unstable_now();s(!0,F),s=null}catch(O){throw setTimeout(i,0),O}},a=Date.now();e.unstable_now=function(){return Date.now()-a},t=function(F){s!==null?setTimeout(t,0,F):(s=F,setTimeout(i,0))},r=function(F,O){g=setTimeout(F,O)},n=function(){clearTimeout(g)},c=function(){return!1},S=e.unstable_forceFrameRate=function(){}}else{var v=window.performance,f=window.Date,h=window.setTimeout,u=window.clearTimeout;if(typeof console!="undefined"){var o=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof o!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof v=="object"&&typeof v.now=="function")e.unstable_now=function(){return v.now()};else{var d=f.now();e.unstable_now=function(){return f.now()-d}}var p=!1,l=null,m=-1,y=5,x=0;c=function(){return e.unstable_now()>=x},S=function(){},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):y=0<F?Math.floor(1e3/F):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(l!==null){var F=e.unstable_now();x=F+y;try{l(!0,F)?w.postMessage(null):(p=!1,l=null)}catch(O){throw w.postMessage(null),O}}else p=!1},t=function(F){l=F,p||(p=!0,w.postMessage(null))},r=function(F,O){m=h(function(){F(e.unstable_now())},O)},n=function(){u(m),m=-1}}function C(F,O){var j=F.length;F.push(O);t:for(;;){var z=j-1>>>1,W=F[z];if(W!==void 0&&0<k(W,O))F[z]=O,F[j]=W,j=z;else break t}}function E(F){return F=F[0],F===void 0?null:F}function T(F){var O=F[0];if(O!==void 0){var j=F.pop();if(j!==O){F[0]=j;t:for(var z=0,W=F.length;z<W;){var q=2*(z+1)-1,ot=F[q],Q=q+1,rt=F[Q];if(ot!==void 0&&0>k(ot,j))rt!==void 0&&0>k(rt,ot)?(F[z]=rt,F[Q]=j,z=Q):(F[z]=ot,F[q]=j,z=q);else if(rt!==void 0&&0>k(rt,j))F[z]=rt,F[Q]=j,z=Q;else break t}}return O}return null}function k(F,O){var j=F.sortIndex-O.sortIndex;return j!==0?j:F.id-O.id}var P=[],R=[],M=1,I=null,B=3,D=!1,N=!1,_=!1;function G(F){for(var O=E(R);O!==null;){if(O.callback===null)T(R);else if(O.startTime<=F)T(R),O.sortIndex=O.expirationTime,C(P,O);else break;O=E(R)}}function $(F){if(_=!1,G(F),!N)if(E(P)!==null)N=!0,t(V);else{var O=E(R);O!==null&&r($,O.startTime-F)}}function V(F,O){N=!1,_&&(_=!1,n()),D=!0;var j=B;try{for(G(O),I=E(P);I!==null&&(!(I.expirationTime>O)||F&&!c());){var z=I.callback;if(z!==null){I.callback=null,B=I.priorityLevel;var W=z(I.expirationTime<=O);O=e.unstable_now(),typeof W=="function"?I.callback=W:I===E(P)&&T(P),G(O)}else T(P);I=E(P)}if(I!==null)var q=!0;else{var ot=E(R);ot!==null&&r($,ot.startTime-O),q=!1}return q}finally{I=null,B=j,D=!1}}function Y(F){switch(F){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=S;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){N||D||(N=!0,t(V))},e.unstable_getCurrentPriorityLevel=function(){return B},e.unstable_getFirstCallbackNode=function(){return E(P)},e.unstable_next=function(F){switch(B){case 1:case 2:case 3:var O=3;break;default:O=B}var j=B;B=O;try{return F()}finally{B=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=U,e.unstable_runWithPriority=function(F,O){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var j=B;B=F;try{return O()}finally{B=j}},e.unstable_scheduleCallback=function(F,O,j){var z=e.unstable_now();if(typeof j=="object"&&j!==null){var W=j.delay;W=typeof W=="number"&&0<W?z+W:z,j=typeof j.timeout=="number"?j.timeout:Y(F)}else j=Y(F),W=z;return j=W+j,F={id:M++,callback:O,priorityLevel:F,startTime:W,expirationTime:j,sortIndex:-1},W>z?(F.sortIndex=W,C(R,F),E(P)===null&&F===E(R)&&(_?n():_=!0,r($,W-z))):(F.sortIndex=j,C(P,F),N||D||(N=!0,t(V))),F},e.unstable_shouldYield=function(){var F=e.unstable_now();G(F);var O=E(P);return O!==I&&I!==null&&O!==null&&O.callback!==null&&O.startTime<=F&&O.expirationTime<I.expirationTime||c()},e.unstable_wrapCallback=function(F){var O=B;return function(){var j=B;B=O;try{return F.apply(this,arguments)}finally{B=j}}}})(lR);oR.exports=lR;var az=oR.exports;var Dy=zi,Fa=ky,oa=az;function gi(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Dy)throw Error(gi(227));function oz(e,t,r,n,c,S,s,g,i){var a=Array.prototype.slice.call(arguments,3);try{t.apply(r,a)}catch(v){this.onError(v)}}var xv=!1,g1=null,y1=!1,pT=null,lz={onError:function(e){xv=!0,g1=e}};function uz(e,t,r,n,c,S,s,g,i){xv=!1,g1=null,oz.apply(lz,arguments)}function hz(e,t,r,n,c,S,s,g,i){if(uz.apply(this,arguments),xv){if(xv){var a=g1;xv=!1,g1=null}else throw Error(gi(198));y1||(y1=!0,pT=a)}}var LC=null,uR=null,hR=null;function D4(e,t,r){var n=e.type||"unknown-event";e.currentTarget=hR(r),hz(n,t,void 0,e),e.currentTarget=null}var x1=null,nd={};function cR(){if(x1)for(var e in nd){var t=nd[e],r=x1.indexOf(e);if(!(-1<r))throw Error(gi(96,e));if(!b1[r]){if(!t.extractEvents)throw Error(gi(97,e));b1[r]=t,r=t.eventTypes;for(var n in r){var c=void 0,S=r[n],s=t,g=n;if(vT.hasOwnProperty(g))throw Error(gi(99,g));vT[g]=S;var i=S.phasedRegistrationNames;if(i){for(c in i)i.hasOwnProperty(c)&&A4(i[c],s,g);c=!0}else S.registrationName?(A4(S.registrationName,s,g),c=!0):c=!1;if(!c)throw Error(gi(98,n,e))}}}}function A4(e,t,r){if(Dd[e])throw Error(gi(100,e));Dd[e]=t,_C[e]=t.eventTypes[r].dependencies}var b1=[],vT={},Dd={},_C={};function fR(e){var t=!1,r;for(r in e)if(e.hasOwnProperty(r)){var n=e[r];if(!nd.hasOwnProperty(r)||nd[r]!==n){if(nd[r])throw Error(gi(102,r));nd[r]=n,t=!0}}t&&cR()}var xc=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),mT=null,fd=null,dd=null;function P4(e){if(e=uR(e)){if(typeof mT!="function")throw Error(gi(280));var t=e.stateNode;t&&(t=LC(t),mT(e.stateNode,e.type,t))}}function dR(e){fd?dd?dd.push(e):dd=[e]:fd=e}function pR(){if(fd){var e=fd,t=dd;if(dd=fd=null,P4(e),t)for(e=0;e<t.length;e++)P4(t[e])}}function jC(e,t){return e(t)}function vR(e,t,r,n,c){return e(t,r,n,c)}function UC(){}var mR=jC,Kc=!1,gb=!1;function zC(){(fd!==null||dd!==null)&&(UC(),pR())}function gR(e,t,r){if(gb)return e(t,r);gb=!0;try{return mR(e,t,r)}finally{gb=!1,zC()}}var cz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R4=Object.prototype.hasOwnProperty,I4={},M4={};function fz(e){return R4.call(M4,e)?!0:R4.call(I4,e)?!1:cz.test(e)?M4[e]=!0:(I4[e]=!0,!1)}function dz(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pz(e,t,r,n){if(t===null||typeof t=="undefined"||dz(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _a(e,t,r,n,c,S){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=c,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=S}var la={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){la[e]=new _a(e,0,!1,e,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];la[t]=new _a(t,1,!1,e[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){la[e]=new _a(e,2,!1,e.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){la[e]=new _a(e,2,!1,e,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){la[e]=new _a(e,3,!1,e.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(e){la[e]=new _a(e,3,!0,e,null,!1)});["capture","download"].forEach(function(e){la[e]=new _a(e,4,!1,e,null,!1)});["cols","rows","size","span"].forEach(function(e){la[e]=new _a(e,6,!1,e,null,!1)});["rowSpan","start"].forEach(function(e){la[e]=new _a(e,5,!1,e.toLowerCase(),null,!1)});var GC=/[\-:]([a-z])/g;function HC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(GC,HC);la[t]=new _a(t,1,!1,e,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(GC,HC);la[t]=new _a(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(GC,HC);la[t]=new _a(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(e){la[e]=new _a(e,1,!1,e.toLowerCase(),null,!1)});la.xlinkHref=new _a("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(e){la[e]=new _a(e,1,!1,e.toLowerCase(),null,!0)});var Nl=Dy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Nl.hasOwnProperty("ReactCurrentDispatcher")||(Nl.ReactCurrentDispatcher={current:null});Nl.hasOwnProperty("ReactCurrentBatchConfig")||(Nl.ReactCurrentBatchConfig={suspense:null});function $C(e,t,r,n){var c=la.hasOwnProperty(t)?la[t]:null,S=c!==null?c.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");S||(pz(t,r,c,n)&&(r=null),n||c===null?fz(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):c.mustUseProperty?e[c.propertyName]=r===null?c.type===3?!1:"":r:(t=c.attributeName,n=c.attributeNamespace,r===null?e.removeAttribute(t):(c=c.type,r=c===3||c===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var vz=/^(.*)[\\\/]/,ho=typeof Symbol=="function"&&Symbol.for,k0=ho?Symbol.for("react.element"):60103,sd=ho?Symbol.for("react.portal"):60106,Vc=ho?Symbol.for("react.fragment"):60107,yR=ho?Symbol.for("react.strict_mode"):60108,Cg=ho?Symbol.for("react.profiler"):60114,xR=ho?Symbol.for("react.provider"):60109,bR=ho?Symbol.for("react.context"):60110,mz=ho?Symbol.for("react.concurrent_mode"):60111,VC=ho?Symbol.for("react.forward_ref"):60112,Eg=ho?Symbol.for("react.suspense"):60113,gT=ho?Symbol.for("react.suspense_list"):60120,WC=ho?Symbol.for("react.memo"):60115,SR=ho?Symbol.for("react.lazy"):60116,wR=ho?Symbol.for("react.block"):60121,B4=typeof Symbol=="function"&&Symbol.iterator;function Pp(e){return e===null||typeof e!="object"?null:(e=B4&&e[B4]||e["@@iterator"],typeof e=="function"?e:null)}function gz(e){if(e._status===-1){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}}function ah(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vc:return"Fragment";case sd:return"Portal";case Cg:return"Profiler";case yR:return"StrictMode";case Eg:return"Suspense";case gT:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bR:return"Context.Consumer";case xR:return"Context.Provider";case VC:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case WC:return ah(e.type);case wR:return ah(e.render);case SR:if(e=e._status===1?e._result:null)return ah(e)}return null}function YC(e){var t="";do{t:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break t;default:var n=e._debugOwner,c=e._debugSource,S=ah(e.type);r=null,n&&(r=ah(n.type)),n=S,S="",c?S=" (at "+c.fileName.replace(vz,"")+":"+c.lineNumber+")":r&&(S=" (created by "+r+")"),r=`
    in `+(n||"Unknown")+S}t+=r,e=e.return}while(e);return t}function ac(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function TR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yz(e){var t=TR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,S=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(s){n=""+s,S.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function D0(e){e._valueTracker||(e._valueTracker=yz(e))}function CR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=TR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function yT(e,t){var r=t.checked;return Fa({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function O4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ac(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ER(e,t){t=t.checked,t!=null&&$C(e,"checked",t,!1)}function xT(e,t){ER(e,t);var r=ac(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bT(e,t.type,r):t.hasOwnProperty("defaultValue")&&bT(e,t.type,ac(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function N4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function bT(e,t,r){(t!=="number"||e.ownerDocument.activeElement!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function xz(e){var t="";return Dy.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function ST(e,t){return e=Fa({children:void 0},t),(t=xz(t.children))&&(e.children=t),e}function pd(e,t,r,n){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ac(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,n&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function wT(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(gi(91));return Fa({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function F4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(gi(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(gi(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ac(r)}}function kR(e,t){var r=ac(t.value),n=ac(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function L4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var DR={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function AR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function TT(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?AR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var A0,PR=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,c){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,c)})}:e}(function(e,t){if(e.namespaceURI!==DR.svg||"innerHTML"in e)e.innerHTML=t;else{for(A0=A0||document.createElement("div"),A0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=A0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}function P0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ad={animationend:P0("Animation","AnimationEnd"),animationiteration:P0("Animation","AnimationIteration"),animationstart:P0("Animation","AnimationStart"),transitionend:P0("Transition","TransitionEnd")},yb={},RR={};xc&&(RR=document.createElement("div").style,"AnimationEvent"in window||(delete ad.animationend.animation,delete ad.animationiteration.animation,delete ad.animationstart.animation),"TransitionEvent"in window||delete ad.transitionend.transition);function Ay(e){if(yb[e])return yb[e];if(!ad[e])return e;var t=ad[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in RR)return yb[e]=t[r];return e}var IR=Ay("animationend"),MR=Ay("animationiteration"),BR=Ay("animationstart"),OR=Ay("transitionend"),uv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_4=new(typeof WeakMap=="function"?WeakMap:Map);function XC(e){var t=_4.get(e);return t===void 0&&(t=new Map,_4.set(e,t)),t}function wf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.effectTag&1026&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function NR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function j4(e){if(wf(e)!==e)throw Error(gi(188))}function bz(e){var t=e.alternate;if(!t){if(t=wf(e),t===null)throw Error(gi(188));return t!==e?null:e}for(var r=e,n=t;;){var c=r.return;if(c===null)break;var S=c.alternate;if(S===null){if(n=c.return,n!==null){r=n;continue}break}if(c.child===S.child){for(S=c.child;S;){if(S===r)return j4(c),e;if(S===n)return j4(c),t;S=S.sibling}throw Error(gi(188))}if(r.return!==n.return)r=c,n=S;else{for(var s=!1,g=c.child;g;){if(g===r){s=!0,r=c,n=S;break}if(g===n){s=!0,n=c,r=S;break}g=g.sibling}if(!s){for(g=S.child;g;){if(g===r){s=!0,r=S,n=c;break}if(g===n){s=!0,n=S,r=c;break}g=g.sibling}if(!s)throw Error(gi(189))}}if(r.alternate!==n)throw Error(gi(190))}if(r.tag!==3)throw Error(gi(188));return r.stateNode.current===r?e:t}function FR(e){if(e=bz(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ad(e,t){if(t==null)throw Error(gi(30));return e==null?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function QC(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var Rp=null;function Sz(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)D4(e,t[n],r[n]);else t&&D4(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function Py(e){if(e!==null&&(Rp=Ad(Rp,e)),e=Rp,Rp=null,e){if(QC(e,Sz),Rp)throw Error(gi(95));if(y1)throw e=pT,y1=!1,pT=null,e}}function KC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}function LR(e){if(!xc)return!1;e="on"+e;var t=e in document;return t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t=typeof t[e]=="function"),t}var S1=[];function _R(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>S1.length&&S1.push(e)}function jR(e,t,r,n){if(S1.length){var c=S1.pop();return c.topLevelType=e,c.eventSystemFlags=n,c.nativeEvent=t,c.targetInst=r,c}return{topLevelType:e,eventSystemFlags:n,nativeEvent:t,targetInst:r,ancestors:[]}}function UR(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(n.tag===3)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=n.tag!==3?null:n.stateNode.containerInfo}if(!n)break;t=r.tag,t!==5&&t!==6||e.ancestors.push(r),r=Mm(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var c=KC(e.nativeEvent);n=e.topLevelType;var S=e.nativeEvent,s=e.eventSystemFlags;r===0&&(s|=64);for(var g=null,i=0;i<b1.length;i++){var a=b1[i];a&&(a=a.extractEvents(n,t,S,c,s))&&(g=Ad(g,a))}Py(g)}}function CT(e,t,r){if(!r.has(e)){switch(e){case"scroll":hv(t,"scroll",!0);break;case"focus":case"blur":hv(t,"focus",!0),hv(t,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":LR(e)&&hv(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:uv.indexOf(e)===-1&&qn(e,t)}r.set(e,null)}}var zR,JC,GR,ET=!1,vu=[],Kh=null,Jh=null,Zh=null,Qv=new Map,Kv=new Map,Ip=[],kT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),wz="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Tz(e,t){var r=XC(t);kT.forEach(function(n){CT(n,t,r)}),wz.forEach(function(n){CT(n,t,r)})}function DT(e,t,r,n,c){return{blockedOn:e,topLevelType:t,eventSystemFlags:r|32,nativeEvent:c,container:n}}function U4(e,t){switch(e){case"focus":case"blur":Kh=null;break;case"dragenter":case"dragleave":Jh=null;break;case"mouseover":case"mouseout":Zh=null;break;case"pointerover":case"pointerout":Qv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kv.delete(t.pointerId)}}function Mp(e,t,r,n,c,S){return e===null||e.nativeEvent!==S?(e=DT(t,r,n,c,S),t!==null&&(t=Bm(t),t!==null&&JC(t)),e):(e.eventSystemFlags|=n,e)}function Cz(e,t,r,n,c){switch(t){case"focus":return Kh=Mp(Kh,e,t,r,n,c),!0;case"dragenter":return Jh=Mp(Jh,e,t,r,n,c),!0;case"mouseover":return Zh=Mp(Zh,e,t,r,n,c),!0;case"pointerover":var S=c.pointerId;return Qv.set(S,Mp(Qv.get(S)||null,e,t,r,n,c)),!0;case"gotpointercapture":return S=c.pointerId,Kv.set(S,Mp(Kv.get(S)||null,e,t,r,n,c)),!0}return!1}function Ez(e){var t=Mm(e.target);if(t!==null){var r=wf(t);if(r!==null){if(t=r.tag,t===13){if(t=NR(r),t!==null){e.blockedOn=t,oa.unstable_runWithPriority(e.priority,function(){GR(r)});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kg(e){if(e.blockedOn!==null)return!1;var t=t3(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(t!==null){var r=Bm(t);return r!==null&&JC(r),e.blockedOn=t,!1}return!0}function z4(e,t,r){kg(e)&&r.delete(t)}function kz(){for(ET=!1;0<vu.length;){var e=vu[0];if(e.blockedOn!==null){e=Bm(e.blockedOn),e!==null&&zR(e);break}var t=t3(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);t!==null?e.blockedOn=t:vu.shift()}Kh!==null&&kg(Kh)&&(Kh=null),Jh!==null&&kg(Jh)&&(Jh=null),Zh!==null&&kg(Zh)&&(Zh=null),Qv.forEach(z4),Kv.forEach(z4)}function Bp(e,t){e.blockedOn===t&&(e.blockedOn=null,ET||(ET=!0,oa.unstable_scheduleCallback(oa.unstable_NormalPriority,kz)))}function HR(e){function t(c){return Bp(c,e)}if(0<vu.length){Bp(vu[0],e);for(var r=1;r<vu.length;r++){var n=vu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kh!==null&&Bp(Kh,e),Jh!==null&&Bp(Jh,e),Zh!==null&&Bp(Zh,e),Qv.forEach(t),Kv.forEach(t),r=0;r<Ip.length;r++)n=Ip[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ip.length&&(r=Ip[0],r.blockedOn===null);)Ez(r),r.blockedOn===null&&Ip.shift()}var $R={},VR=new Map,ZC=new Map,Dz=["abort","abort",IR,"animationEnd",MR,"animationIteration",BR,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",OR,"transitionEnd","waiting","waiting"];function qC(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],c=e[r+1],S="on"+(c[0].toUpperCase()+c.slice(1));S={phasedRegistrationNames:{bubbled:S,captured:S+"Capture"},dependencies:[n],eventPriority:t},ZC.set(n,t),VR.set(n,S),$R[c]=S}}qC("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);qC("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);qC(Dz,2);for(var G4="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xb=0;xb<G4.length;xb++)ZC.set(G4[xb],0);var Az=oa.unstable_UserBlockingPriority,Pz=oa.unstable_runWithPriority,Dg=!0;function qn(e,t){hv(t,e,!1)}function hv(e,t,r){var n=ZC.get(t);switch(n===void 0?2:n){case 0:n=Rz.bind(null,t,1,e);break;case 1:n=Iz.bind(null,t,1,e);break;default:n=Ry.bind(null,t,1,e)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function Rz(e,t,r,n){Kc||UC();var c=Ry,S=Kc;Kc=!0;try{vR(c,e,t,r,n)}finally{(Kc=S)||zC()}}function Iz(e,t,r,n){Pz(Az,Ry.bind(null,e,t,r,n))}function Ry(e,t,r,n){if(Dg)if(0<vu.length&&-1<kT.indexOf(e))e=DT(null,e,t,r,n),vu.push(e);else{var c=t3(e,t,r,n);if(c===null)U4(e,n);else if(-1<kT.indexOf(e))e=DT(c,e,t,r,n),vu.push(e);else if(!Cz(c,e,t,r,n)){U4(e,n),e=jR(e,n,null,t);try{gR(UR,e)}finally{_R(e)}}}}function t3(e,t,r,n){if(r=KC(n),r=Mm(r),r!==null){var c=wf(r);if(c===null)r=null;else{var S=c.tag;if(S===13){if(r=NR(c),r!==null)return r;r=null}else if(S===3){if(c.stateNode.hydrate)return c.tag===3?c.stateNode.containerInfo:null;r=null}else c!==r&&(r=null)}}e=jR(e,n,r,t);try{gR(UR,e)}finally{_R(e)}return null}var bv={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mz=["Webkit","ms","Moz","O"];Object.keys(bv).forEach(function(e){Mz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bv[t]=bv[e]})});function WR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bv.hasOwnProperty(e)&&bv[e]?(""+t).trim():t+"px"}function YR(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,c=WR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,c):e[r]=c}}var Bz=Fa({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function AT(e,t){if(t){if(Bz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(gi(137,e,""));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(gi(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(gi(61))}if(t.style!=null&&typeof t.style!="object")throw Error(gi(62,""))}}function PT(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var H4=DR.html;function Gu(e,t){e=e.nodeType===9||e.nodeType===11?e:e.ownerDocument;var r=XC(e);t=_C[t];for(var n=0;n<t.length;n++)CT(t[n],e,r)}function w1(){}function RT(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function V4(e,t){var r=$4(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=$4(r)}}function XR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?XR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function W4(){for(var e=window,t=RT();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=RT(e.document)}return t}function IT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var QR="$",KR="/$",e3="$?",i3="$!",bb=null,Sb=null;function JR(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function MT(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wb=typeof setTimeout=="function"?setTimeout:void 0,Oz=typeof clearTimeout=="function"?clearTimeout:void 0;function vd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function Y4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r===QR||r===i3||r===e3){if(t===0)return e;t--}else r===KR&&t++}e=e.previousSibling}return null}var r3=Math.random().toString(36).slice(2),jh="__reactInternalInstance$"+r3,T1="__reactEventHandlers$"+r3,Im="__reactContainere$"+r3;function Mm(e){var t=e[jh];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Im]||r[jh]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Y4(e);e!==null;){if(r=e[jh])return r;e=Y4(e)}return t}e=r,r=e.parentNode}return null}function Bm(e){return e=e[jh]||e[Im],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(gi(33))}function n3(e){return e[T1]||null}function Hu(e){do e=e.return;while(e&&e.tag!==5);return e||null}function ZR(e,t){var r=e.stateNode;if(!r)return null;var n=LC(r);if(!n)return null;r=n[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(gi(231,t,typeof r));return r}function X4(e,t,r){(t=ZR(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=Ad(r._dispatchListeners,t),r._dispatchInstances=Ad(r._dispatchInstances,e))}function Nz(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=Hu(t);for(t=r.length;0<t--;)X4(r[t],"captured",e);for(t=0;t<r.length;t++)X4(r[t],"bubbled",e)}}function BT(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=ZR(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=Ad(r._dispatchListeners,t),r._dispatchInstances=Ad(r._dispatchInstances,e))}function Fz(e){e&&e.dispatchConfig.registrationName&&BT(e._targetInst,null,e)}function Pd(e){QC(e,Nz)}var Uh=null,s3=null,Ag=null;function qR(){if(Ag)return Ag;var e,t=s3,r=t.length,n,c="value"in Uh?Uh.value:Uh.textContent,S=c.length;for(e=0;e<r&&t[e]===c[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===c[S-n];n++);return Ag=c.slice(e,1<n?1-n:void 0)}function Pg(){return!0}function C1(){return!1}function Do(e,t,r,n){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface;for(var c in e)e.hasOwnProperty(c)&&((t=e[c])?this[c]=t(r):c==="target"?this.target=n:this[c]=r[c]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Pg:C1,this.isPropagationStopped=C1,this}Fa(Do.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Pg)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Pg)},persist:function(){this.isPersistent=Pg},isPersistent:C1,destructor:function(){var e=this.constructor.Interface,t;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=C1,this._dispatchInstances=this._dispatchListeners=null}});Do.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};Do.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var c=new t;return Fa(c,r.prototype),r.prototype=c,r.prototype.constructor=r,r.Interface=Fa({},n.Interface,e),r.extend=n.extend,tI(r),r};tI(Do);function Lz(e,t,r,n){if(this.eventPool.length){var c=this.eventPool.pop();return this.call(c,e,t,r,n),c}return new this(e,t,r,n)}function _z(e){if(!(e instanceof this))throw Error(gi(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function tI(e){e.eventPool=[],e.getPooled=Lz,e.release=_z}var jz=Do.extend({data:null}),Uz=Do.extend({data:null}),zz=[9,13,27,32],a3=xc&&"CompositionEvent"in window,Sv=null;xc&&"documentMode"in document&&(Sv=document.documentMode);var Gz=xc&&"TextEvent"in window&&!Sv,eI=xc&&(!a3||Sv&&8<Sv&&11>=Sv),Q4=" ",Nu={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},K4=!1;function iI(e,t){switch(e){case"keyup":return zz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function rI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var od=!1;function Hz(e,t){switch(e){case"compositionend":return rI(t);case"keypress":return t.which!==32?null:(K4=!0,Q4);case"textInput":return e=t.data,e===Q4&&K4?null:e;default:return null}}function $z(e,t){if(od)return e==="compositionend"||!a3&&iI(e,t)?(e=qR(),Ag=s3=Uh=null,od=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eI&&t.locale!=="ko"?null:t.data;default:return null}}var Vz={eventTypes:Nu,extractEvents:function(e,t,r,n){var c;if(a3)t:{switch(e){case"compositionstart":var S=Nu.compositionStart;break t;case"compositionend":S=Nu.compositionEnd;break t;case"compositionupdate":S=Nu.compositionUpdate;break t}S=void 0}else od?iI(e,r)&&(S=Nu.compositionEnd):e==="keydown"&&r.keyCode===229&&(S=Nu.compositionStart);return S?(eI&&r.locale!=="ko"&&(od||S!==Nu.compositionStart?S===Nu.compositionEnd&&od&&(c=qR()):(Uh=n,s3="value"in Uh?Uh.value:Uh.textContent,od=!0)),S=jz.getPooled(S,t,r,n),c?S.data=c:(c=rI(r),c!==null&&(S.data=c)),Pd(S),c=S):c=null,(e=Gz?Hz(e,r):$z(e,r))?(t=Uz.getPooled(Nu.beforeInput,t,r,n),t.data=e,Pd(t)):t=null,c===null?t:t===null?c:[c,t]}},Wz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wz[e.type]:t==="textarea"}var sI={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function aI(e,t,r){return e=Do.getPooled(sI.change,e,t,r),e.type="change",dR(r),Pd(e),e}var wv=null,Jv=null;function Yz(e){Py(e)}function Iy(e){var t=mf(e);if(CR(t))return e}function Xz(e,t){if(e==="change")return t}var OT=!1;xc&&(OT=LR("input")&&(!document.documentMode||9<document.documentMode));function J4(){wv&&(wv.detachEvent("onpropertychange",oI),Jv=wv=null)}function oI(e){if(e.propertyName==="value"&&Iy(Jv))if(e=aI(Jv,e,KC(e)),Kc)Py(e);else{Kc=!0;try{jC(Yz,e)}finally{Kc=!1,zC()}}}function Qz(e,t,r){e==="focus"?(J4(),wv=t,Jv=r,wv.attachEvent("onpropertychange",oI)):e==="blur"&&J4()}function Kz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iy(Jv)}function Jz(e,t){if(e==="click")return Iy(t)}function Zz(e,t){if(e==="input"||e==="change")return Iy(t)}var qz={eventTypes:sI,_isInputEventSupported:OT,extractEvents:function(e,t,r,n){var c=t?mf(t):window,S=c.nodeName&&c.nodeName.toLowerCase();if(S==="select"||S==="input"&&c.type==="file")var s=Xz;else if(nI(c))if(OT)s=Zz;else{s=Kz;var g=Qz}else(S=c.nodeName)&&S.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(s=Jz);if(s&&(s=s(e,t)))return aI(s,r,n);g&&g(e,c,t),e==="blur"&&(e=c._wrapperState)&&e.controlled&&c.type==="number"&&bT(c,"number",c.value)}},Om=Do.extend({view:null,detail:null}),tG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eG(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tG[e])?!!t[e]:!1}function o3(){return eG}var Z4=0,q4=0,t6=!1,e6=!1,Nm=Om.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:o3,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Z4;return Z4=e.screenX,t6?e.type==="mousemove"?e.screenX-t:0:(t6=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=q4;return q4=e.screenY,e6?e.type==="mousemove"?e.screenY-t:0:(e6=!0,0)}}),lI=Nm.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Op={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},iG={eventTypes:Op,extractEvents:function(e,t,r,n,c){var S=e==="mouseover"||e==="pointerover",s=e==="mouseout"||e==="pointerout";if(S&&!(c&32)&&(r.relatedTarget||r.fromElement)||!s&&!S)return null;if(S=n.window===n?n:(S=n.ownerDocument)?S.defaultView||S.parentWindow:window,s){if(s=t,t=(t=r.relatedTarget||r.toElement)?Mm(t):null,t!==null){var g=wf(t);(t!==g||t.tag!==5&&t.tag!==6)&&(t=null)}}else s=null;if(s===t)return null;if(e==="mouseout"||e==="mouseover")var i=Nm,a=Op.mouseLeave,v=Op.mouseEnter,f="mouse";else(e==="pointerout"||e==="pointerover")&&(i=lI,a=Op.pointerLeave,v=Op.pointerEnter,f="pointer");if(e=s==null?S:mf(s),S=t==null?S:mf(t),a=i.getPooled(a,s,r,n),a.type=f+"leave",a.target=e,a.relatedTarget=S,r=i.getPooled(v,t,r,n),r.type=f+"enter",r.target=S,r.relatedTarget=e,n=s,f=t,n&&f)t:{for(i=n,v=f,s=0,e=i;e;e=Hu(e))s++;for(e=0,t=v;t;t=Hu(t))e++;for(;0<s-e;)i=Hu(i),s--;for(;0<e-s;)v=Hu(v),e--;for(;s--;){if(i===v||i===v.alternate)break t;i=Hu(i),v=Hu(v)}i=null}else i=null;for(v=i,i=[];n&&n!==v&&(s=n.alternate,!(s!==null&&s===v));)i.push(n),n=Hu(n);for(n=[];f&&f!==v&&(s=f.alternate,!(s!==null&&s===v));)n.push(f),f=Hu(f);for(f=0;f<i.length;f++)BT(i[f],"bubbled",a);for(f=n.length;0<f--;)BT(n[f],"captured",r);return c&64?[a,r]:[a]}};function rG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gf=typeof Object.is=="function"?Object.is:rG,nG=Object.prototype.hasOwnProperty;function Zv(e,t){if(gf(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!nG.call(t,r[n])||!gf(e[r[n]],t[r[n]]))return!1;return!0}var sG=xc&&"documentMode"in document&&11>=document.documentMode,uI={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ld=null,NT=null,Tv=null,FT=!1;function i6(e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;return FT||ld==null||ld!==RT(r)?null:(r=ld,"selectionStart"in r&&IT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tv&&Zv(Tv,r)?null:(Tv=r,e=Do.getPooled(uI.select,NT,e,t),e.type="select",e.target=ld,Pd(e),e))}var aG={eventTypes:uI,extractEvents:function(e,t,r,n,c,S){if(c=S||(n.window===n?n.document:n.nodeType===9?n:n.ownerDocument),!(S=!c)){t:{c=XC(c),S=_C.onSelect;for(var s=0;s<S.length;s++)if(!c.has(S[s])){c=!1;break t}c=!0}S=!c}if(S)return null;switch(c=t?mf(t):window,e){case"focus":(nI(c)||c.contentEditable==="true")&&(ld=c,NT=t,Tv=null);break;case"blur":Tv=NT=ld=null;break;case"mousedown":FT=!0;break;case"contextmenu":case"mouseup":case"dragend":return FT=!1,i6(r,n);case"selectionchange":if(sG)break;case"keydown":case"keyup":return i6(r,n)}return null}},oG=Do.extend({animationName:null,elapsedTime:null,pseudoElement:null}),lG=Do.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uG=Om.extend({relatedTarget:null});function Rg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}var hG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fG=Om.extend({key:function(e){if(e.key){var t=hG[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cG[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:o3,charCode:function(e){return e.type==="keypress"?Rg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dG=Nm.extend({dataTransfer:null}),pG=Om.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o3}),vG=Do.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mG=Nm.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),gG={eventTypes:$R,extractEvents:function(e,t,r,n){var c=VR.get(e);if(!c)return null;switch(e){case"keypress":if(Rg(r)===0)return null;case"keydown":case"keyup":e=fG;break;case"blur":case"focus":e=uG;break;case"click":if(r.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=dG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=pG;break;case IR:case MR:case BR:e=oG;break;case OR:e=vG;break;case"scroll":e=Om;break;case"wheel":e=mG;break;case"copy":case"cut":case"paste":e=lG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=lI;break;default:e=Do}return t=e.getPooled(c,t,r,n),Pd(t),t}};if(x1)throw Error(gi(101));x1=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));cR();var yG=Bm;LC=n3;uR=yG;hR=mf;fR({SimpleEventPlugin:gG,EnterLeaveEventPlugin:iG,ChangeEventPlugin:qz,SelectEventPlugin:aG,BeforeInputEventPlugin:Vz});var LT=[],ud=-1;function Xn(e){0>ud||(e.current=LT[ud],LT[ud]=null,ud--)}function bs(e,t){ud++,LT[ud]=e.current,e.current=t}var oc={},Ea={current:oc},io={current:!1},yf=oc;function Rd(e,t){var r=e.type.contextTypes;if(!r)return oc;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var c={},S;for(S in r)c[S]=t[S];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function ro(e){return e=e.childContextTypes,e!=null}function E1(){Xn(io),Xn(Ea)}function r6(e,t,r){if(Ea.current!==oc)throw Error(gi(168));bs(Ea,t),bs(io,r)}function hI(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var c in n)if(!(c in e))throw Error(gi(108,ah(t)||"Unknown",c));return Fa({},r,{},n)}function Ig(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oc,yf=Ea.current,bs(Ea,e),bs(io,io.current),!0}function n6(e,t,r){var n=e.stateNode;if(!n)throw Error(gi(169));r?(e=hI(e,t,yf),n.__reactInternalMemoizedMergedChildContext=e,Xn(io),Xn(Ea),bs(Ea,e)):Xn(io),bs(io,r)}var xG=oa.unstable_runWithPriority,l3=oa.unstable_scheduleCallback,cI=oa.unstable_cancelCallback,s6=oa.unstable_requestPaint,_T=oa.unstable_now,bG=oa.unstable_getCurrentPriorityLevel,My=oa.unstable_ImmediatePriority,fI=oa.unstable_UserBlockingPriority,dI=oa.unstable_NormalPriority,pI=oa.unstable_LowPriority,vI=oa.unstable_IdlePriority,mI={},SG=oa.unstable_shouldYield,wG=s6!==void 0?s6:function(){},Yu=null,Mg=null,Tb=!1,a6=_T(),Vo=1e4>a6?_T:function(){return _T()-a6};function By(){switch(bG()){case My:return 99;case fI:return 98;case dI:return 97;case pI:return 96;case vI:return 95;default:throw Error(gi(332))}}function gI(e){switch(e){case 99:return My;case 98:return fI;case 97:return dI;case 96:return pI;case 95:return vI;default:throw Error(gi(332))}}function lc(e,t){return e=gI(e),xG(e,t)}function yI(e,t,r){return e=gI(e),l3(e,t,r)}function o6(e){return Yu===null?(Yu=[e],Mg=l3(My,xI)):Yu.push(e),mI}function ku(){if(Mg!==null){var e=Mg;Mg=null,cI(e)}xI()}function xI(){if(!Tb&&Yu!==null){Tb=!0;var e=0;try{var t=Yu;lc(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),Yu=null}catch(r){throw Yu!==null&&(Yu=Yu.slice(e+1)),l3(My,ku),r}finally{Tb=!1}}}function Bg(e,t,r){return r/=10,1073741821-(((1073741821-e+t/10)/r|0)+1)*r}function cl(e,t){if(e&&e.defaultProps){t=Fa({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r])}return t}var k1={current:null},D1=null,hd=null,A1=null;function u3(){A1=hd=D1=null}function h3(e){var t=k1.current;Xn(k1),e.type._context._currentValue=t}function bI(e,t){for(;e!==null;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,r!==null&&r.childExpirationTime<t&&(r.childExpirationTime=t);else if(r!==null&&r.childExpirationTime<t)r.childExpirationTime=t;else break;e=e.return}}function md(e,t){D1=e,A1=hd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.expirationTime>=t&&(mu=!0),e.firstContext=null)}function Qo(e,t){if(A1!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(A1=e,t=1073741823),t={context:e,observedBits:t,next:null},hd===null){if(D1===null)throw Error(gi(308));hd=t,D1.dependencies={expirationTime:0,firstContext:t,responders:null}}else hd=hd.next=t;return e._currentValue}var Fh=!1;function c3(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function f3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function qh(e,t){return e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null},e.next=e}function tc(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function l6(e,t){var r=e.alternate;r!==null&&f3(r,e),e=e.updateQueue,r=e.baseQueue,r===null?(e.baseQueue=t.next=t,t.next=t):(t.next=r.next,r.next=t)}function qv(e,t,r,n){var c=e.updateQueue;Fh=!1;var S=c.baseQueue,s=c.shared.pending;if(s!==null){if(S!==null){var g=S.next;S.next=s.next,s.next=g}S=s,c.shared.pending=null,g=e.alternate,g!==null&&(g=g.updateQueue,g!==null&&(g.baseQueue=s))}if(S!==null){g=S.next;var i=c.baseState,a=0,v=null,f=null,h=null;if(g!==null){var u=g;do{if(s=u.expirationTime,s<n){var o={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,tag:u.tag,payload:u.payload,callback:u.callback,next:null};h===null?(f=h=o,v=i):h=h.next=o,s>a&&(a=s)}else{h!==null&&(h=h.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,tag:u.tag,payload:u.payload,callback:u.callback,next:null}),KI(s,u.suspenseConfig);t:{var d=e,p=u;switch(s=t,o=r,p.tag){case 1:if(d=p.payload,typeof d=="function"){i=d.call(o,i,s);break t}i=d;break t;case 3:d.effectTag=d.effectTag&-4097|64;case 0:if(d=p.payload,s=typeof d=="function"?d.call(o,i,s):d,s==null)break t;i=Fa({},i,s);break t;case 2:Fh=!0}}u.callback!==null&&(e.effectTag|=32,s=c.effects,s===null?c.effects=[u]:s.push(u))}if(u=u.next,u===null||u===g){if(s=c.shared.pending,s===null)break;u=S.next=s.next,s.next=g,c.baseQueue=S=s,c.shared.pending=null}}while(!0)}h===null?v=i:h.next=f,c.baseState=v,c.baseQueue=h,_y(a),e.expirationTime=a,e.memoizedState=i}}function u6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],c=n.callback;if(c!==null){if(n.callback=null,n=c,c=r,typeof n!="function")throw Error(gi(191,n));n.call(c)}}}var Cv=Nl.ReactCurrentBatchConfig,SI=new Dy.Component().refs;function P1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Fa({},t,r),e.memoizedState=r,e.expirationTime===0&&(e.updateQueue.baseState=r)}var Oy={isMounted:function(e){return(e=e._reactInternalFiber)?wf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=Su(),c=Cv.suspense;n=lf(n,e,c),c=qh(n,c),c.payload=t,r!=null&&(c.callback=r),tc(e,c),ic(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=Su(),c=Cv.suspense;n=lf(n,e,c),c=qh(n,c),c.tag=1,c.payload=t,r!=null&&(c.callback=r),tc(e,c),ic(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=Su(),n=Cv.suspense;r=lf(r,e,n),n=qh(r,n),n.tag=2,t!=null&&(n.callback=t),tc(e,n),ic(e,r)}};function h6(e,t,r,n,c,S,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,S,s):t.prototype&&t.prototype.isPureReactComponent?!Zv(r,n)||!Zv(c,S):!0}function wI(e,t,r){var n=!1,c=oc,S=t.contextType;return typeof S=="object"&&S!==null?S=Qo(S):(c=ro(t)?yf:Ea.current,n=t.contextTypes,S=(n=n!=null)?Rd(e,c):oc),t=new t(r,S),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oy,e.stateNode=t,t._reactInternalFiber=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=S),t}function c6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Oy.enqueueReplaceState(t,t.state,null)}function jT(e,t,r,n){var c=e.stateNode;c.props=r,c.state=e.memoizedState,c.refs=SI,c3(e);var S=t.contextType;typeof S=="object"&&S!==null?c.context=Qo(S):(S=ro(t)?yf:Ea.current,c.context=Rd(e,S)),qv(e,r,c,n),c.state=e.memoizedState,S=t.getDerivedStateFromProps,typeof S=="function"&&(P1(e,t,S,r),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Oy.enqueueReplaceState(c,c.state,null),qv(e,r,c,n),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.effectTag|=4)}var R0=Array.isArray;function Np(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(gi(309));var n=r.stateNode}if(!n)throw Error(gi(147,e));var c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(S){var s=n.refs;s===SI&&(s=n.refs={}),S===null?delete s[c]:s[c]=S},t._stringRef=c,t)}if(typeof e!="string")throw Error(gi(284));if(!r._owner)throw Error(gi(290,e))}return e}function I0(e,t){if(e.type!=="textarea")throw Error(gi(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function TI(e){function t(p,l){if(e){var m=p.lastEffect;m!==null?(m.nextEffect=l,p.lastEffect=l):p.firstEffect=p.lastEffect=l,l.nextEffect=null,l.effectTag=8}}function r(p,l){if(!e)return null;for(;l!==null;)t(p,l),l=l.sibling;return null}function n(p,l){for(p=new Map;l!==null;)l.key!==null?p.set(l.key,l):p.set(l.index,l),l=l.sibling;return p}function c(p,l){return p=xf(p,l),p.index=0,p.sibling=null,p}function S(p,l,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<l?(p.effectTag=2,l):m):(p.effectTag=2,l)):l}function s(p){return e&&p.alternate===null&&(p.effectTag=2),p}function g(p,l,m,y){return l===null||l.tag!==6?(l=Pb(m,p.mode,y),l.return=p,l):(l=c(l,m),l.return=p,l)}function i(p,l,m,y){return l!==null&&l.elementType===m.type?(y=c(l,m.props),y.ref=Np(p,l,m),y.return=p,y):(y=Lg(m.type,m.key,m.props,null,p.mode,y),y.ref=Np(p,l,m),y.return=p,y)}function a(p,l,m,y){return l===null||l.tag!==4||l.stateNode.containerInfo!==m.containerInfo||l.stateNode.implementation!==m.implementation?(l=Rb(m,p.mode,y),l.return=p,l):(l=c(l,m.children||[]),l.return=p,l)}function v(p,l,m,y,x){return l===null||l.tag!==7?(l=Hh(m,p.mode,y,x),l.return=p,l):(l=c(l,m),l.return=p,l)}function f(p,l,m){if(typeof l=="string"||typeof l=="number")return l=Pb(""+l,p.mode,m),l.return=p,l;if(typeof l=="object"&&l!==null){switch(l.$$typeof){case k0:return m=Lg(l.type,l.key,l.props,null,p.mode,m),m.ref=Np(p,null,l),m.return=p,m;case sd:return l=Rb(l,p.mode,m),l.return=p,l}if(R0(l)||Pp(l))return l=Hh(l,p.mode,m,null),l.return=p,l;I0(p,l)}return null}function h(p,l,m,y){var x=l!==null?l.key:null;if(typeof m=="string"||typeof m=="number")return x!==null?null:g(p,l,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case k0:return m.key===x?m.type===Vc?v(p,l,m.props.children,y,x):i(p,l,m,y):null;case sd:return m.key===x?a(p,l,m,y):null}if(R0(m)||Pp(m))return x!==null?null:v(p,l,m,y,null);I0(p,m)}return null}function u(p,l,m,y,x){if(typeof y=="string"||typeof y=="number")return p=p.get(m)||null,g(l,p,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case k0:return p=p.get(y.key===null?m:y.key)||null,y.type===Vc?v(l,p,y.props.children,x,y.key):i(l,p,y,x);case sd:return p=p.get(y.key===null?m:y.key)||null,a(l,p,y,x)}if(R0(y)||Pp(y))return p=p.get(m)||null,v(l,p,y,x,null);I0(l,y)}return null}function o(p,l,m,y){for(var x=null,b=null,w=l,C=l=0,E=null;w!==null&&C<m.length;C++){w.index>C?(E=w,w=null):E=w.sibling;var T=h(p,w,m[C],y);if(T===null){w===null&&(w=E);break}e&&w&&T.alternate===null&&t(p,w),l=S(T,l,C),b===null?x=T:b.sibling=T,b=T,w=E}if(C===m.length)return r(p,w),x;if(w===null){for(;C<m.length;C++)w=f(p,m[C],y),w!==null&&(l=S(w,l,C),b===null?x=w:b.sibling=w,b=w);return x}for(w=n(p,w);C<m.length;C++)E=u(w,p,C,m[C],y),E!==null&&(e&&E.alternate!==null&&w.delete(E.key===null?C:E.key),l=S(E,l,C),b===null?x=E:b.sibling=E,b=E);return e&&w.forEach(function(k){return t(p,k)}),x}function d(p,l,m,y){var x=Pp(m);if(typeof x!="function")throw Error(gi(150));if(m=x.call(m),m==null)throw Error(gi(151));for(var b=x=null,w=l,C=l=0,E=null,T=m.next();w!==null&&!T.done;C++,T=m.next()){w.index>C?(E=w,w=null):E=w.sibling;var k=h(p,w,T.value,y);if(k===null){w===null&&(w=E);break}e&&w&&k.alternate===null&&t(p,w),l=S(k,l,C),b===null?x=k:b.sibling=k,b=k,w=E}if(T.done)return r(p,w),x;if(w===null){for(;!T.done;C++,T=m.next())T=f(p,T.value,y),T!==null&&(l=S(T,l,C),b===null?x=T:b.sibling=T,b=T);return x}for(w=n(p,w);!T.done;C++,T=m.next())T=u(w,p,C,T.value,y),T!==null&&(e&&T.alternate!==null&&w.delete(T.key===null?C:T.key),l=S(T,l,C),b===null?x=T:b.sibling=T,b=T);return e&&w.forEach(function(P){return t(p,P)}),x}return function(p,l,m,y){var x=typeof m=="object"&&m!==null&&m.type===Vc&&m.key===null;x&&(m=m.props.children);var b=typeof m=="object"&&m!==null;if(b)switch(m.$$typeof){case k0:t:{for(b=m.key,x=l;x!==null;){if(x.key===b){switch(x.tag){case 7:if(m.type===Vc){r(p,x.sibling),l=c(x,m.props.children),l.return=p,p=l;break t}break;default:if(x.elementType===m.type){r(p,x.sibling),l=c(x,m.props),l.ref=Np(p,x,m),l.return=p,p=l;break t}}r(p,x);break}else t(p,x);x=x.sibling}m.type===Vc?(l=Hh(m.props.children,p.mode,y,m.key),l.return=p,p=l):(y=Lg(m.type,m.key,m.props,null,p.mode,y),y.ref=Np(p,l,m),y.return=p,p=y)}return s(p);case sd:t:{for(x=m.key;l!==null;){if(l.key===x)if(l.tag===4&&l.stateNode.containerInfo===m.containerInfo&&l.stateNode.implementation===m.implementation){r(p,l.sibling),l=c(l,m.children||[]),l.return=p,p=l;break t}else{r(p,l);break}else t(p,l);l=l.sibling}l=Rb(m,p.mode,y),l.return=p,p=l}return s(p)}if(typeof m=="string"||typeof m=="number")return m=""+m,l!==null&&l.tag===6?(r(p,l.sibling),l=c(l,m),l.return=p,p=l):(r(p,l),l=Pb(m,p.mode,y),l.return=p,p=l),s(p);if(R0(m))return o(p,l,m,y);if(Pp(m))return d(p,l,m,y);if(b&&I0(p,m),typeof m=="undefined"&&!x)switch(p.tag){case 1:case 0:throw p=p.type,Error(gi(152,p.displayName||p.name||"Component"))}return r(p,l)}}var Id=TI(!0),d3=TI(!1),Fm={},bu={current:Fm},tm={current:Fm},em={current:Fm};function Jc(e){if(e===Fm)throw Error(gi(174));return e}function UT(e,t){switch(bs(em,t),bs(tm,e),bs(bu,Fm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:TT(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=TT(t,e)}Xn(bu),bs(bu,t)}function Md(){Xn(bu),Xn(tm),Xn(em)}function f6(e){Jc(em.current);var t=Jc(bu.current),r=TT(t,e.type);t!==r&&(bs(tm,e),bs(bu,r))}function p3(e){tm.current===e&&(Xn(bu),Xn(tm))}var ns={current:0};function R1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data===e3||r.data===i3))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.effectTag&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function v3(e,t){return{responder:e,props:t}}var Og=Nl.ReactCurrentDispatcher,Xo=Nl.ReactCurrentBatchConfig,zh=0,_s=null,ya=null,xa=null,I1=!1;function mo(){throw Error(gi(321))}function m3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gf(e[r],t[r]))return!1;return!0}function g3(e,t,r,n,c,S){if(zh=S,_s=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Og.current=e===null||e.memoizedState===null?TG:CG,e=r(n,c),t.expirationTime===zh){S=0;do{if(t.expirationTime=0,!(25>S))throw Error(gi(301));S+=1,xa=ya=null,t.updateQueue=null,Og.current=EG,e=r(n,c)}while(t.expirationTime===zh)}if(Og.current=O1,t=ya!==null&&ya.next!==null,zh=0,xa=ya=_s=null,I1=!1,t)throw Error(gi(300));return e}function gd(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xa===null?_s.memoizedState=xa=e:xa=xa.next=e,xa}function Qd(){if(ya===null){var e=_s.alternate;e=e!==null?e.memoizedState:null}else e=ya.next;var t=xa===null?_s.memoizedState:xa.next;if(t!==null)xa=t,ya=e;else{if(e===null)throw Error(gi(310));ya=e,e={memoizedState:ya.memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null},xa===null?_s.memoizedState=xa=e:xa=xa.next=e}return xa}function sf(e,t){return typeof t=="function"?t(e):t}function M0(e){var t=Qd(),r=t.queue;if(r===null)throw Error(gi(311));r.lastRenderedReducer=e;var n=ya,c=n.baseQueue,S=r.pending;if(S!==null){if(c!==null){var s=c.next;c.next=S.next,S.next=s}n.baseQueue=c=S,r.pending=null}if(c!==null){c=c.next,n=n.baseState;var g=s=S=null,i=c;do{var a=i.expirationTime;if(a<zh){var v={expirationTime:i.expirationTime,suspenseConfig:i.suspenseConfig,action:i.action,eagerReducer:i.eagerReducer,eagerState:i.eagerState,next:null};g===null?(s=g=v,S=n):g=g.next=v,a>_s.expirationTime&&(_s.expirationTime=a,_y(a))}else g!==null&&(g=g.next={expirationTime:1073741823,suspenseConfig:i.suspenseConfig,action:i.action,eagerReducer:i.eagerReducer,eagerState:i.eagerState,next:null}),KI(a,i.suspenseConfig),n=i.eagerReducer===e?i.eagerState:e(n,i.action);i=i.next}while(i!==null&&i!==c);g===null?S=n:g.next=s,gf(n,t.memoizedState)||(mu=!0),t.memoizedState=n,t.baseState=S,t.baseQueue=g,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function B0(e){var t=Qd(),r=t.queue;if(r===null)throw Error(gi(311));r.lastRenderedReducer=e;var n=r.dispatch,c=r.pending,S=t.memoizedState;if(c!==null){r.pending=null;var s=c=c.next;do S=e(S,s.action),s=s.next;while(s!==c);gf(S,t.memoizedState)||(mu=!0),t.memoizedState=S,t.baseQueue===null&&(t.baseState=S),r.lastRenderedState=S}return[S,n]}function Cb(e){var t=gd();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:sf,lastRenderedState:e},e=e.dispatch=PI.bind(null,_s,e),[t.memoizedState,e]}function zT(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=_s.updateQueue,t===null?(t={lastEffect:null},_s.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function CI(){return Qd().memoizedState}function GT(e,t,r,n){var c=gd();_s.effectTag|=e,c.memoizedState=zT(1|t,r,void 0,n===void 0?null:n)}function y3(e,t,r,n){var c=Qd();n=n===void 0?null:n;var S=void 0;if(ya!==null){var s=ya.memoizedState;if(S=s.destroy,n!==null&&m3(n,s.deps)){zT(t,r,S,n);return}}_s.effectTag|=e,c.memoizedState=zT(1|t,r,S,n)}function d6(e,t){return GT(516,4,e,t)}function M1(e,t){return y3(516,4,e,t)}function EI(e,t){return y3(4,2,e,t)}function kI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function DI(e,t,r){return r=r!=null?r.concat([e]):null,y3(4,2,kI.bind(null,t,e),r)}function x3(){}function p6(e,t){return gd().memoizedState=[e,t===void 0?null:t],e}function B1(e,t){var r=Qd();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&m3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function AI(e,t){var r=Qd();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&m3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function b3(e,t,r){var n=By();lc(98>n?98:n,function(){e(!0)}),lc(97<n?97:n,function(){var c=Xo.suspense;Xo.suspense=t===void 0?null:t;try{e(!1),r()}finally{Xo.suspense=c}})}function PI(e,t,r){var n=Su(),c=Cv.suspense;n=lf(n,e,c),c={expirationTime:n,suspenseConfig:c,action:r,eagerReducer:null,eagerState:null,next:null};var S=t.pending;if(S===null?c.next=c:(c.next=S.next,S.next=c),t.pending=c,S=e.alternate,e===_s||S!==null&&S===_s)I1=!0,c.expirationTime=zh,_s.expirationTime=zh;else{if(e.expirationTime===0&&(S===null||S.expirationTime===0)&&(S=t.lastRenderedReducer,S!==null))try{var s=t.lastRenderedState,g=S(s,r);if(c.eagerReducer=S,c.eagerState=g,gf(g,s))return}catch(i){}finally{}ic(e,n)}}var O1={readContext:Qo,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useResponder:mo,useDeferredValue:mo,useTransition:mo},TG={readContext:Qo,useCallback:p6,useContext:Qo,useEffect:d6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,GT(4,2,kI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return GT(4,2,e,t)},useMemo:function(e,t){var r=gd();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=gd();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=PI.bind(null,_s,e),[n.memoizedState,e]},useRef:function(e){var t=gd();return e={current:e},t.memoizedState=e},useState:Cb,useDebugValue:x3,useResponder:v3,useDeferredValue:function(e,t){var r=Cb(e),n=r[0],c=r[1];return d6(function(){var S=Xo.suspense;Xo.suspense=t===void 0?null:t;try{c(e)}finally{Xo.suspense=S}},[e,t]),n},useTransition:function(e){var t=Cb(!1),r=t[0];return t=t[1],[p6(b3.bind(null,t,e),[t,e]),r]}},CG={readContext:Qo,useCallback:B1,useContext:Qo,useEffect:M1,useImperativeHandle:DI,useLayoutEffect:EI,useMemo:AI,useReducer:M0,useRef:CI,useState:function(){return M0(sf)},useDebugValue:x3,useResponder:v3,useDeferredValue:function(e,t){var r=M0(sf),n=r[0],c=r[1];return M1(function(){var S=Xo.suspense;Xo.suspense=t===void 0?null:t;try{c(e)}finally{Xo.suspense=S}},[e,t]),n},useTransition:function(e){var t=M0(sf),r=t[0];return t=t[1],[B1(b3.bind(null,t,e),[t,e]),r]}},EG={readContext:Qo,useCallback:B1,useContext:Qo,useEffect:M1,useImperativeHandle:DI,useLayoutEffect:EI,useMemo:AI,useReducer:B0,useRef:CI,useState:function(){return B0(sf)},useDebugValue:x3,useResponder:v3,useDeferredValue:function(e,t){var r=B0(sf),n=r[0],c=r[1];return M1(function(){var S=Xo.suspense;Xo.suspense=t===void 0?null:t;try{c(e)}finally{Xo.suspense=S}},[e,t]),n},useTransition:function(e){var t=B0(sf),r=t[0];return t=t[1],[B1(b3.bind(null,t,e),[t,e]),r]}},eh=null,Gh=null,af=!1;function RI(e,t){var r=gu(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function v6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function HT(e){if(af){var t=Gh;if(t){var r=t;if(!v6(e,t)){if(t=vd(r.nextSibling),!t||!v6(e,t)){e.effectTag=e.effectTag&-1025|2,af=!1,eh=e;return}RI(eh,r)}eh=e,Gh=vd(t.firstChild)}else e.effectTag=e.effectTag&-1025|2,af=!1,eh=e}}function m6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;eh=e}function O0(e){if(e!==eh)return!1;if(!af)return m6(e),af=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!MT(t,e.memoizedProps))for(t=Gh;t;)RI(e,t),t=vd(t.nextSibling);if(m6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(gi(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r===KR){if(t===0){Gh=vd(e.nextSibling);break t}t--}else r!==QR&&r!==i3&&r!==e3||t++}e=e.nextSibling}Gh=null}}else Gh=eh?vd(e.stateNode.nextSibling):null;return!0}function Eb(){Gh=eh=null,af=!1}var kG=Nl.ReactCurrentOwner,mu=!1;function xo(e,t,r,n){t.child=e===null?d3(t,null,r,n):Id(t,e.child,r,n)}function g6(e,t,r,n,c){r=r.render;var S=t.ref;return md(t,c),n=g3(e,t,r,n,S,c),e!==null&&!mu?(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=c&&(e.expirationTime=0),ih(e,t,c)):(t.effectTag|=1,xo(e,t,n,c),t.child)}function y6(e,t,r,n,c,S){if(e===null){var s=r.type;return typeof s=="function"&&!E3(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,II(e,t,s,n,c,S)):(e=Lg(r.type,null,n,null,t.mode,S),e.ref=t.ref,e.return=t,t.child=e)}return s=e.child,c<S&&(c=s.memoizedProps,r=r.compare,r=r!==null?r:Zv,r(c,n)&&e.ref===t.ref)?ih(e,t,S):(t.effectTag|=1,e=xf(s,n),e.ref=t.ref,e.return=t,t.child=e)}function II(e,t,r,n,c,S){return e!==null&&Zv(e.memoizedProps,n)&&e.ref===t.ref&&(mu=!1,c<S)?(t.expirationTime=e.expirationTime,ih(e,t,S)):$T(e,t,r,n,S)}function MI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.effectTag|=128)}function $T(e,t,r,n,c){var S=ro(r)?yf:Ea.current;return S=Rd(t,S),md(t,c),r=g3(e,t,r,n,S,c),e!==null&&!mu?(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=c&&(e.expirationTime=0),ih(e,t,c)):(t.effectTag|=1,xo(e,t,r,c),t.child)}function x6(e,t,r,n,c){if(ro(r)){var S=!0;Ig(t)}else S=!1;if(md(t,c),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),wI(t,r,n),jT(t,r,n,c),n=!0;else if(e===null){var s=t.stateNode,g=t.memoizedProps;s.props=g;var i=s.context,a=r.contextType;typeof a=="object"&&a!==null?a=Qo(a):(a=ro(r)?yf:Ea.current,a=Rd(t,a));var v=r.getDerivedStateFromProps,f=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(g!==n||i!==a)&&c6(t,s,n,a),Fh=!1;var h=t.memoizedState;s.state=h,qv(t,n,s,c),i=t.memoizedState,g!==n||h!==i||io.current||Fh?(typeof v=="function"&&(P1(t,r,v,n),i=t.memoizedState),(g=Fh||h6(t,r,g,n,h,i,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.effectTag|=4)):(typeof s.componentDidMount=="function"&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=i),s.props=n,s.state=i,s.context=a,n=g):(typeof s.componentDidMount=="function"&&(t.effectTag|=4),n=!1)}else s=t.stateNode,f3(e,t),g=t.memoizedProps,s.props=t.type===t.elementType?g:cl(t.type,g),i=s.context,a=r.contextType,typeof a=="object"&&a!==null?a=Qo(a):(a=ro(r)?yf:Ea.current,a=Rd(t,a)),v=r.getDerivedStateFromProps,(f=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(g!==n||i!==a)&&c6(t,s,n,a),Fh=!1,i=t.memoizedState,s.state=i,qv(t,n,s,c),h=t.memoizedState,g!==n||i!==h||io.current||Fh?(typeof v=="function"&&(P1(t,r,v,n),h=t.memoizedState),(v=Fh||h6(t,r,g,n,i,h,a))?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,h,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,h,a)),typeof s.componentDidUpdate=="function"&&(t.effectTag|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.effectTag|=256)):(typeof s.componentDidUpdate!="function"||g===e.memoizedProps&&i===e.memoizedState||(t.effectTag|=4),typeof s.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&i===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=h),s.props=n,s.state=h,s.context=a,n=v):(typeof s.componentDidUpdate!="function"||g===e.memoizedProps&&i===e.memoizedState||(t.effectTag|=4),typeof s.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&i===e.memoizedState||(t.effectTag|=256),n=!1);return VT(e,t,r,n,S,c)}function VT(e,t,r,n,c,S){MI(e,t);var s=(t.effectTag&64)!==0;if(!n&&!s)return c&&n6(t,r,!1),ih(e,t,S);n=t.stateNode,kG.current=t;var g=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.effectTag|=1,e!==null&&s?(t.child=Id(t,e.child,null,S),t.child=Id(t,null,g,S)):xo(e,t,g,S),t.memoizedState=n.state,c&&n6(t,r,!0),t.child}function b6(e){var t=e.stateNode;t.pendingContext?r6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&r6(e,t.context,!1),UT(e,t.containerInfo)}var kb={dehydrated:null,retryTime:0};function S6(e,t,r){var n=t.mode,c=t.pendingProps,S=ns.current,s=!1,g;if((g=(t.effectTag&64)!==0)||(g=(S&2)!==0&&(e===null||e.memoizedState!==null)),g?(s=!0,t.effectTag&=-65):e!==null&&e.memoizedState===null||c.fallback===void 0||c.unstable_avoidThisFallback===!0||(S|=1),bs(ns,S&1),e===null){if(c.fallback!==void 0&&HT(t),s){if(s=c.fallback,c=Hh(null,n,0,null),c.return=t,!(t.mode&2))for(e=t.memoizedState!==null?t.child.child:t.child,c.child=e;e!==null;)e.return=c,e=e.sibling;return r=Hh(s,n,r,null),r.return=t,c.sibling=r,t.memoizedState=kb,t.child=c,r}return n=c.children,t.memoizedState=null,t.child=d3(t,null,n,r)}if(e.memoizedState!==null){if(e=e.child,n=e.sibling,s){if(c=c.fallback,r=xf(e,e.pendingProps),r.return=t,!(t.mode&2)&&(s=t.memoizedState!==null?t.child.child:t.child,s!==e.child))for(r.child=s;s!==null;)s.return=r,s=s.sibling;return n=xf(n,c),n.return=t,r.sibling=n,r.childExpirationTime=0,t.memoizedState=kb,t.child=r,n}return r=Id(t,e.child,c.children,r),t.memoizedState=null,t.child=r}if(e=e.child,s){if(s=c.fallback,c=Hh(null,n,0,null),c.return=t,c.child=e,e!==null&&(e.return=c),!(t.mode&2))for(e=t.memoizedState!==null?t.child.child:t.child,c.child=e;e!==null;)e.return=c,e=e.sibling;return r=Hh(s,n,r,null),r.return=t,c.sibling=r,r.effectTag|=2,c.childExpirationTime=0,t.memoizedState=kb,t.child=c,r}return t.memoizedState=null,t.child=Id(t,e,c.children,r)}function w6(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;r!==null&&r.expirationTime<t&&(r.expirationTime=t),bI(e.return,t)}function Db(e,t,r,n,c,S){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:c,lastEffect:S}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailExpiration=0,s.tailMode=c,s.lastEffect=S)}function T6(e,t,r){var n=t.pendingProps,c=n.revealOrder,S=n.tail;if(xo(e,t,n.children,r),n=ns.current,n&2)n=n&1|2,t.effectTag|=64;else{if(e!==null&&e.effectTag&64)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&w6(e,r);else if(e.tag===19)w6(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(bs(ns,n),!(t.mode&2))t.memoizedState=null;else switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&R1(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),Db(t,!1,c,r,S,t.lastEffect);break;case"backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&R1(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Db(t,!0,r,null,S,t.lastEffect);break;case"together":Db(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ih(e,t,r){e!==null&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(n!==0&&_y(n),t.childExpirationTime<r)return null;if(e!==null&&t.child!==e.child)throw Error(gi(153));if(t.child!==null){for(e=t.child,r=xf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}var BI,WT,OI,NI;BI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};WT=function(){};OI=function(e,t,r,n,c){var S=e.memoizedProps;if(S!==n){var s=t.stateNode;switch(Jc(bu.current),e=null,r){case"input":S=yT(s,S),n=yT(s,n),e=[];break;case"option":S=ST(s,S),n=ST(s,n),e=[];break;case"select":S=Fa({},S,{value:void 0}),n=Fa({},n,{value:void 0}),e=[];break;case"textarea":S=wT(s,S),n=wT(s,n),e=[];break;default:typeof S.onClick!="function"&&typeof n.onClick=="function"&&(s.onclick=w1)}AT(r,n);var g,i;r=null;for(g in S)if(!n.hasOwnProperty(g)&&S.hasOwnProperty(g)&&S[g]!=null)if(g==="style")for(i in s=S[g],s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="");else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Dd.hasOwnProperty(g)?e||(e=[]):(e=e||[]).push(g,null));for(g in n){var a=n[g];if(s=S!=null?S[g]:void 0,n.hasOwnProperty(g)&&a!==s&&(a!=null||s!=null))if(g==="style")if(s){for(i in s)!s.hasOwnProperty(i)||a&&a.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in a)a.hasOwnProperty(i)&&s[i]!==a[i]&&(r||(r={}),r[i]=a[i])}else r||(e||(e=[]),e.push(g,r)),r=a;else g==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(e=e||[]).push(g,a)):g==="children"?s===a||typeof a!="string"&&typeof a!="number"||(e=e||[]).push(g,""+a):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Dd.hasOwnProperty(g)?(a!=null&&Gu(c,g),e||s===a||(e=[])):(e=e||[]).push(g,a))}r&&(e=e||[]).push("style",r),c=e,(t.updateQueue=c)&&(t.effectTag|=4)}};NI=function(e,t,r,n){r!==n&&(t.effectTag|=4)};function N0(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function DG(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ro(t.type)&&E1(),null;case 3:return Md(),Xn(io),Xn(Ea),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),e!==null&&e.child!==null||!O0(t)||(t.effectTag|=4),WT(t),null;case 5:p3(t),r=Jc(em.current);var c=t.type;if(e!==null&&t.stateNode!=null)OI(e,t,c,n,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!n){if(t.stateNode===null)throw Error(gi(166));return null}if(e=Jc(bu.current),O0(t)){n=t.stateNode,c=t.type;var S=t.memoizedProps;switch(n[jh]=t,n[T1]=S,c){case"iframe":case"object":case"embed":qn("load",n);break;case"video":case"audio":for(e=0;e<uv.length;e++)qn(uv[e],n);break;case"source":qn("error",n);break;case"img":case"image":case"link":qn("error",n),qn("load",n);break;case"form":qn("reset",n),qn("submit",n);break;case"details":qn("toggle",n);break;case"input":O4(n,S),qn("invalid",n),Gu(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!S.multiple},qn("invalid",n),Gu(r,"onChange");break;case"textarea":F4(n,S),qn("invalid",n),Gu(r,"onChange")}AT(c,S),e=null;for(var s in S)if(S.hasOwnProperty(s)){var g=S[s];s==="children"?typeof g=="string"?n.textContent!==g&&(e=["children",g]):typeof g=="number"&&n.textContent!==""+g&&(e=["children",""+g]):Dd.hasOwnProperty(s)&&g!=null&&Gu(r,s)}switch(c){case"input":D0(n),N4(n,S,!0);break;case"textarea":D0(n),L4(n);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(n.onclick=w1)}r=e,t.updateQueue=r,r!==null&&(t.effectTag|=4)}else{switch(s=r.nodeType===9?r:r.ownerDocument,e===H4&&(e=AR(c)),e===H4?c==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(c,{is:n.is}):(e=s.createElement(c),c==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,c),e[jh]=t,e[T1]=n,BI(e,t,!1,!1),t.stateNode=e,s=PT(c,n),c){case"iframe":case"object":case"embed":qn("load",e),g=n;break;case"video":case"audio":for(g=0;g<uv.length;g++)qn(uv[g],e);g=n;break;case"source":qn("error",e),g=n;break;case"img":case"image":case"link":qn("error",e),qn("load",e),g=n;break;case"form":qn("reset",e),qn("submit",e),g=n;break;case"details":qn("toggle",e),g=n;break;case"input":O4(e,n),g=yT(e,n),qn("invalid",e),Gu(r,"onChange");break;case"option":g=ST(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},g=Fa({},n,{value:void 0}),qn("invalid",e),Gu(r,"onChange");break;case"textarea":F4(e,n),g=wT(e,n),qn("invalid",e),Gu(r,"onChange");break;default:g=n}AT(c,g);var i=g;for(S in i)if(i.hasOwnProperty(S)){var a=i[S];S==="style"?YR(e,a):S==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&PR(e,a)):S==="children"?typeof a=="string"?(c!=="textarea"||a!=="")&&Xv(e,a):typeof a=="number"&&Xv(e,""+a):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(Dd.hasOwnProperty(S)?a!=null&&Gu(r,S):a!=null&&$C(e,S,a,s))}switch(c){case"input":D0(e),N4(e,n,!1);break;case"textarea":D0(e),L4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ac(n.value));break;case"select":e.multiple=!!n.multiple,r=n.value,r!=null?pd(e,!!n.multiple,r,!1):n.defaultValue!=null&&pd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof g.onClick=="function"&&(e.onclick=w1)}JR(c,n)&&(t.effectTag|=4)}t.ref!==null&&(t.effectTag|=128)}return null;case 6:if(e&&t.stateNode!=null)NI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(gi(166));r=Jc(em.current),Jc(bu.current),O0(t)?(r=t.stateNode,n=t.memoizedProps,r[jh]=t,r.nodeValue!==n&&(t.effectTag|=4)):(r=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),r[jh]=t,t.stateNode=r)}return null;case 13:return Xn(ns),n=t.memoizedState,t.effectTag&64?(t.expirationTime=r,t):(r=n!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&O0(t):(c=e.memoizedState,n=c!==null,r||c===null||(c=e.child.sibling,c!==null&&(S=t.firstEffect,S!==null?(t.firstEffect=c,c.nextEffect=S):(t.firstEffect=t.lastEffect=c,c.nextEffect=null),c.effectTag=8))),r&&!n&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||ns.current&1?Xs===of&&(Xs=L1):((Xs===of||Xs===L1)&&(Xs=Ny),rm!==0&&Eo!==null&&(tf(Eo,so),e7(Eo,rm)))),(r||n)&&(t.effectTag|=4),null);case 4:return Md(),WT(t),null;case 10:return h3(t),null;case 17:return ro(t.type)&&E1(),null;case 19:if(Xn(ns),n=t.memoizedState,n===null)return null;if(c=(t.effectTag&64)!==0,S=n.rendering,S===null){if(c)N0(n,!1);else if(Xs!==of||e!==null&&e.effectTag&64)for(S=t.child;S!==null;){if(e=R1(S),e!==null){for(t.effectTag|=64,N0(n,!1),c=e.updateQueue,c!==null&&(t.updateQueue=c,t.effectTag|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=t.child;n!==null;)c=n,S=r,c.effectTag&=2,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null,e=c.alternate,e===null?(c.childExpirationTime=0,c.expirationTime=S,c.child=null,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null):(c.childExpirationTime=e.childExpirationTime,c.expirationTime=e.expirationTime,c.child=e.child,c.memoizedProps=e.memoizedProps,c.memoizedState=e.memoizedState,c.updateQueue=e.updateQueue,S=e.dependencies,c.dependencies=S===null?null:{expirationTime:S.expirationTime,firstContext:S.firstContext,responders:S.responders}),n=n.sibling;return bs(ns,ns.current&1|2),t.child}S=S.sibling}}else{if(!c)if(e=R1(S),e!==null){if(t.effectTag|=64,c=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.effectTag|=4),N0(n,!0),n.tail===null&&n.tailMode==="hidden"&&!S.alternate)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Vo()-n.renderingStartTime>n.tailExpiration&&1<r&&(t.effectTag|=64,c=!0,N0(n,!1),t.expirationTime=t.childExpirationTime=r-1);n.isBackwards?(S.sibling=t.child,t.child=S):(r=n.last,r!==null?r.sibling=S:t.child=S,n.last=S)}return n.tail!==null?(n.tailExpiration===0&&(n.tailExpiration=Vo()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Vo(),r.sibling=null,t=ns.current,bs(ns,c?t&1|2:t&1),r):null}throw Error(gi(156,t.tag))}function AG(e){switch(e.tag){case 1:ro(e.type)&&E1();var t=e.effectTag;return t&4096?(e.effectTag=t&-4097|64,e):null;case 3:if(Md(),Xn(io),Xn(Ea),t=e.effectTag,t&64)throw Error(gi(285));return e.effectTag=t&-4097|64,e;case 5:return p3(e),null;case 13:return Xn(ns),t=e.effectTag,t&4096?(e.effectTag=t&-4097|64,e):null;case 19:return Xn(ns),null;case 4:return Md(),null;case 10:return h3(e),null;default:return null}}function S3(e,t){return{value:e,source:t,stack:YC(t)}}var PG=typeof WeakSet=="function"?WeakSet:Set;function YT(e,t){var r=t.source,n=t.stack;n===null&&r!==null&&(n=YC(r)),r!==null&&ah(r.type),t=t.value,e!==null&&e.tag===1&&ah(e.type);try{console.error(t)}catch(c){setTimeout(function(){throw c})}}function RG(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(r){uf(e,r)}}function C6(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){uf(e,r)}else t.current=null}function IG(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.effectTag&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:cl(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(gi(163))}function FI(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0,n!==void 0&&n()}r=r.next}while(r!==t)}}function LI(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function MG(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:LI(3,r);return;case 1:if(e=r.stateNode,r.effectTag&4)if(t===null)e.componentDidMount();else{var n=r.elementType===r.type?t.memoizedProps:cl(r.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}t=r.updateQueue,t!==null&&u6(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}u6(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.effectTag&4&&JR(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&HR(r))));return;case 19:case 17:case 20:case 21:return}throw Error(gi(163))}function E6(e,t,r){switch(typeof e2=="function"&&e2(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e.next;lc(97<r?97:r,function(){var c=n;do{var S=c.destroy;if(S!==void 0){var s=t;try{S()}catch(g){uf(s,g)}}c=c.next}while(c!==n)})}break;case 1:C6(t),r=t.stateNode,typeof r.componentWillUnmount=="function"&&RG(t,r);break;case 5:C6(t);break;case 4:jI(e,t,r)}}function _I(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,t!==null&&_I(t)}function k6(e){return e.tag===5||e.tag===3||e.tag===4}function D6(e){t:{for(var t=e.return;t!==null;){if(k6(t)){var r=t;break t}t=t.return}throw Error(gi(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(gi(161))}r.effectTag&16&&(Xv(t,""),r.effectTag&=-17);t:e:for(r=e;;){for(;r.sibling===null;){if(r.return===null||k6(r.return)){r=null;break t}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.effectTag&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.effectTag&2)){r=r.stateNode;break t}}n?XT(e,r,t):QT(e,r,t)}function XT(e,t,r){var n=e.tag,c=n===5||n===6;if(c)e=c?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=w1));else if(n!==4&&(e=e.child,e!==null))for(XT(e,t,r),e=e.sibling;e!==null;)XT(e,t,r),e=e.sibling}function QT(e,t,r){var n=e.tag,c=n===5||n===6;if(c)e=c?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(QT(e,t,r),e=e.sibling;e!==null;)QT(e,t,r),e=e.sibling}function jI(e,t,r){for(var n=t,c=!1,S,s;;){if(!c){c=n.return;t:for(;;){if(c===null)throw Error(gi(160));switch(S=c.stateNode,c.tag){case 5:s=!1;break t;case 3:S=S.containerInfo,s=!0;break t;case 4:S=S.containerInfo,s=!0;break t}c=c.return}c=!0}if(n.tag===5||n.tag===6){t:for(var g=e,i=n,a=r,v=i;;)if(E6(g,v,a),v.child!==null&&v.tag!==4)v.child.return=v,v=v.child;else{if(v===i)break t;for(;v.sibling===null;){if(v.return===null||v.return===i)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}s?(g=S,i=n.stateNode,g.nodeType===8?g.parentNode.removeChild(i):g.removeChild(i)):S.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){S=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(E6(e,n,r),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(c=!1)}n.sibling.return=n.return,n=n.sibling}}function Ab(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:FI(3,t);return;case 1:return;case 5:var r=t.stateNode;if(r!=null){var n=t.memoizedProps,c=e!==null?e.memoizedProps:n;e=t.type;var S=t.updateQueue;if(t.updateQueue=null,S!==null){for(r[T1]=n,e==="input"&&n.type==="radio"&&n.name!=null&&ER(r,n),PT(e,c),t=PT(e,n),c=0;c<S.length;c+=2){var s=S[c],g=S[c+1];s==="style"?YR(r,g):s==="dangerouslySetInnerHTML"?PR(r,g):s==="children"?Xv(r,g):$C(r,s,g,t)}switch(e){case"input":xT(r,n);break;case"textarea":kR(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,e=n.value,e!=null?pd(r,!!n.multiple,e,!1):t!==!!n.multiple&&(n.defaultValue!=null?pd(r,!!n.multiple,n.defaultValue,!0):pd(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(gi(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:t=t.stateNode,t.hydrate&&(t.hydrate=!1,HR(t.containerInfo));return;case 12:return;case 13:if(r=t,t.memoizedState===null?n=!1:(n=!0,r=t.child,C3=Vo()),r!==null)t:for(e=r;;){if(e.tag===5)S=e.stateNode,n?(S=S.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(S=e.stateNode,c=e.memoizedProps.style,c=c!=null&&c.hasOwnProperty("display")?c.display:null,S.style.display=WR("display",c));else if(e.tag===6)e.stateNode.nodeValue=n?"":e.memoizedProps;else if(e.tag===13&&e.memoizedState!==null&&e.memoizedState.dehydrated===null){S=e.child.sibling,S.return=e,e=S;continue}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}A6(t);return;case 19:A6(t);return;case 17:return}throw Error(gi(163))}function A6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new PG),t.forEach(function(n){var c=GG.bind(null,e,n);r.has(n)||(r.add(n),n.then(c,c))})}}var BG=typeof WeakMap=="function"?WeakMap:Map;function UI(e,t,r){r=qh(r,null),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){U1||(U1=!0,KT=n),YT(e,t)},r}function zI(e,t,r){r=qh(r,null),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var c=t.value;r.payload=function(){return YT(e,t),n(c)}}var S=e.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(ec===null?ec=new Set([this]):ec.add(this),YT(e,t));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}var OG=Math.ceil,N1=Nl.ReactCurrentDispatcher,GI=Nl.ReactCurrentOwner,Qs=0,w3=8,Fl=16,Tu=32,of=0,F1=1,HI=2,L1=3,Ny=4,T3=5,pr=Qs,Eo=null,Cr=null,so=0,Xs=of,Fy=null,Ku=1073741823,im=1073741823,_1=null,rm=0,j1=!1,C3=0,$I=500,Ki=null,U1=!1,KT=null,ec=null,z1=!1,Ev=null,cv=90,Zc=null,kv=0,JT=null,Ng=0;function Su(){return(pr&(Fl|Tu))!==Qs?1073741821-(Vo()/10|0):Ng!==0?Ng:Ng=1073741821-(Vo()/10|0)}function lf(e,t,r){if(t=t.mode,!(t&2))return 1073741823;var n=By();if(!(t&4))return n===99?1073741823:1073741822;if((pr&Fl)!==Qs)return so;if(r!==null)e=Bg(e,r.timeoutMs|0||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=Bg(e,150,100);break;case 97:case 96:e=Bg(e,5e3,250);break;case 95:e=2;break;default:throw Error(gi(326))}return Eo!==null&&e===so&&--e,e}function ic(e,t){if(50<kv)throw kv=0,JT=null,Error(gi(185));if(e=Ly(e,t),e!==null){var r=By();t===1073741823?(pr&w3)!==Qs&&(pr&(Fl|Tu))===Qs?ZT(e):(ko(e),pr===Qs&&ku()):ko(e),(pr&4)===Qs||r!==98&&r!==99||(Zc===null?Zc=new Map([[e,t]]):(r=Zc.get(e),(r===void 0||r>t)&&Zc.set(e,t)))}}function Ly(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;r!==null&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,c=null;if(n===null&&e.tag===3)c=e.stateNode;else for(;n!==null;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),r!==null&&r.childExpirationTime<t&&(r.childExpirationTime=t),n.return===null&&n.tag===3){c=n.stateNode;break}n=n.return}return c!==null&&(Eo===c&&(_y(t),Xs===Ny&&tf(c,so)),e7(c,t)),c}function Fg(e){var t=e.lastExpiredTime;if(t!==0||(t=e.firstPendingTime,!t7(e,t)))return t;var r=e.lastPingedTime;return e=e.nextKnownPendingLevel,e=r>e?r:e,2>=e&&t!==e?0:e}function ko(e){if(e.lastExpiredTime!==0)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=o6(ZT.bind(null,e));else{var t=Fg(e),r=e.callbackNode;if(t===0)r!==null&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=Su();if(t===1073741823?n=99:t===1||t===2?n=95:(n=10*(1073741821-t)-10*(1073741821-n),n=0>=n?99:250>=n?98:5250>=n?97:95),r!==null){var c=e.callbackPriority;if(e.callbackExpirationTime===t&&c>=n)return;r!==mI&&cI(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=t===1073741823?o6(ZT.bind(null,e)):yI(n,VI.bind(null,e),{timeout:10*(1073741821-t)-Vo()}),e.callbackNode=t}}}function VI(e,t){if(Ng=0,t)return t=Su(),i2(e,t),ko(e),null;var r=Fg(e);if(r!==0){if(t=e.callbackNode,(pr&(Fl|Tu))!==Qs)throw Error(gi(327));if(Kd(),e===Eo&&r===so||qc(e,r),Cr!==null){var n=pr;pr|=Fl;var c=QI();do try{LG();break}catch(g){XI(e,g)}while(!0);if(u3(),pr=n,N1.current=c,Xs===F1)throw t=Fy,qc(e,r),tf(e,r),ko(e),t;if(Cr===null)switch(c=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=Xs,Eo=null,n){case of:case F1:throw Error(gi(345));case HI:i2(e,2<r?2:r);break;case L1:if(tf(e,r),n=e.lastSuspendedTime,r===n&&(e.nextKnownPendingLevel=qT(c)),Ku===1073741823&&(c=C3+$I-Vo(),10<c)){if(j1){var S=e.lastPingedTime;if(S===0||S>=r){e.lastPingedTime=r,qc(e,r);break}}if(S=Fg(e),S!==0&&S!==r)break;if(n!==0&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=wb(Gc.bind(null,e),c);break}Gc(e);break;case Ny:if(tf(e,r),n=e.lastSuspendedTime,r===n&&(e.nextKnownPendingLevel=qT(c)),j1&&(c=e.lastPingedTime,c===0||c>=r)){e.lastPingedTime=r,qc(e,r);break}if(c=Fg(e),c!==0&&c!==r)break;if(n!==0&&n!==r){e.lastPingedTime=n;break}if(im!==1073741823?n=10*(1073741821-im)-Vo():Ku===1073741823?n=0:(n=10*(1073741821-Ku)-5e3,c=Vo(),r=10*(1073741821-r)-c,n=c-n,0>n&&(n=0),n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*OG(n/1960))-n,r<n&&(n=r)),10<n){e.timeoutHandle=wb(Gc.bind(null,e),n);break}Gc(e);break;case T3:if(Ku!==1073741823&&_1!==null){S=Ku;var s=_1;if(n=s.busyMinDurationMs|0,0>=n?n=0:(c=s.busyDelayMs|0,S=Vo()-(10*(1073741821-S)-(s.timeoutMs|0||5e3)),n=S<=c?0:c+n-S),10<n){tf(e,r),e.timeoutHandle=wb(Gc.bind(null,e),n);break}}Gc(e);break;default:throw Error(gi(329))}if(ko(e),e.callbackNode===t)return VI.bind(null,e)}}return null}function ZT(e){var t=e.lastExpiredTime;if(t=t!==0?t:1073741823,(pr&(Fl|Tu))!==Qs)throw Error(gi(327));if(Kd(),e===Eo&&t===so||qc(e,t),Cr!==null){var r=pr;pr|=Fl;var n=QI();do try{FG();break}catch(c){XI(e,c)}while(!0);if(u3(),pr=r,N1.current=n,Xs===F1)throw r=Fy,qc(e,t),tf(e,t),ko(e),r;if(Cr!==null)throw Error(gi(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Eo=null,Gc(e),ko(e)}return null}function NG(){if(Zc!==null){var e=Zc;Zc=null,e.forEach(function(t,r){i2(r,t),ko(r)}),ku()}}function WI(e,t){var r=pr;pr|=1;try{return e(t)}finally{pr=r,pr===Qs&&ku()}}function YI(e,t){var r=pr;pr&=-2,pr|=w3;try{return e(t)}finally{pr=r,pr===Qs&&ku()}}function qc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Oz(r)),Cr!==null)for(r=Cr.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&E1();break;case 3:Md(),Xn(io),Xn(Ea);break;case 5:p3(n);break;case 4:Md();break;case 13:Xn(ns);break;case 19:Xn(ns);break;case 10:h3(n)}r=r.return}Eo=e,Cr=xf(e.current,null),so=t,Xs=of,Fy=null,im=Ku=1073741823,_1=null,rm=0,j1=!1}function XI(e,t){do{try{if(u3(),Og.current=O1,I1)for(var r=_s.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}if(zh=0,xa=ya=_s=null,I1=!1,Cr===null||Cr.return===null)return Xs=F1,Fy=t,Cr=null;t:{var c=e,S=Cr.return,s=Cr,g=t;if(t=so,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,g!==null&&typeof g=="object"&&typeof g.then=="function"){var i=g;if(!(s.mode&2)){var a=s.alternate;a?(s.updateQueue=a.updateQueue,s.memoizedState=a.memoizedState,s.expirationTime=a.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var v=(ns.current&1)!==0,f=S;do{var h;if(h=f.tag===13){var u=f.memoizedState;if(u!==null)h=u.dehydrated!==null;else{var o=f.memoizedProps;h=o.fallback===void 0?!1:o.unstable_avoidThisFallback!==!0?!0:!v}}if(h){var d=f.updateQueue;if(d===null){var p=new Set;p.add(i),f.updateQueue=p}else d.add(i);if(!(f.mode&2)){if(f.effectTag|=64,s.effectTag&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var l=qh(1073741823,null);l.tag=2,tc(s,l)}s.expirationTime=1073741823;break t}g=void 0,s=t;var m=c.pingCache;if(m===null?(m=c.pingCache=new BG,g=new Set,m.set(i,g)):(g=m.get(i),g===void 0&&(g=new Set,m.set(i,g))),!g.has(s)){g.add(s);var y=zG.bind(null,c,i,s);i.then(y,y)}f.effectTag|=4096,f.expirationTime=t;break t}f=f.return}while(f!==null);g=Error((ah(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`+YC(s))}Xs!==T3&&(Xs=HI),g=S3(g,s),f=S;do{switch(f.tag){case 3:i=g,f.effectTag|=4096,f.expirationTime=t;var x=UI(f,i,t);l6(f,x);break t;case 1:i=g;var b=f.type,w=f.stateNode;if(!(f.effectTag&64)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ec===null||!ec.has(w)))){f.effectTag|=4096,f.expirationTime=t;var C=zI(f,i,t);l6(f,C);break t}}f=f.return}while(f!==null)}Cr=ZI(Cr)}catch(E){t=E;continue}break}while(!0)}function QI(){var e=N1.current;return N1.current=O1,e===null?O1:e}function KI(e,t){e<Ku&&2<e&&(Ku=e),t!==null&&e<im&&2<e&&(im=e,_1=t)}function _y(e){e>rm&&(rm=e)}function FG(){for(;Cr!==null;)Cr=JI(Cr)}function LG(){for(;Cr!==null&&!SG();)Cr=JI(Cr)}function JI(e){var t=qI(e.alternate,e,so);return e.memoizedProps=e.pendingProps,t===null&&(t=ZI(e)),GI.current=null,t}function ZI(e){Cr=e;do{var t=Cr.alternate;if(e=Cr.return,Cr.effectTag&2048){if(t=AG(Cr),t!==null)return t.effectTag&=2047,t;e!==null&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}else{if(t=DG(t,Cr,so),so===1||Cr.childExpirationTime!==1){for(var r=0,n=Cr.child;n!==null;){var c=n.expirationTime,S=n.childExpirationTime;c>r&&(r=c),S>r&&(r=S),n=n.sibling}Cr.childExpirationTime=r}if(t!==null)return t;e!==null&&!(e.effectTag&2048)&&(e.firstEffect===null&&(e.firstEffect=Cr.firstEffect),Cr.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=Cr.firstEffect),e.lastEffect=Cr.lastEffect),1<Cr.effectTag&&(e.lastEffect!==null?e.lastEffect.nextEffect=Cr:e.firstEffect=Cr,e.lastEffect=Cr))}if(t=Cr.sibling,t!==null)return t;Cr=e}while(Cr!==null);return Xs===of&&(Xs=T3),null}function qT(e){var t=e.expirationTime;return e=e.childExpirationTime,t>e?t:e}function Gc(e){var t=By();return lc(99,_G.bind(null,e,t)),null}function _G(e,t){do Kd();while(Ev!==null);if((pr&(Fl|Tu))!==Qs)throw Error(gi(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(r===null)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(gi(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var c=qT(r);if(e.firstPendingTime=c,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Eo&&(Cr=Eo=null,so=0),1<r.effectTag?r.lastEffect!==null?(r.lastEffect.nextEffect=r,c=r.firstEffect):c=r:c=r.firstEffect,c!==null){var S=pr;pr|=Tu,GI.current=null,bb=Dg;var s=W4();if(IT(s)){if("selectionStart"in s)var g={start:s.selectionStart,end:s.selectionEnd};else t:{g=(g=s.ownerDocument)&&g.defaultView||window;var i=g.getSelection&&g.getSelection();if(i&&i.rangeCount!==0){g=i.anchorNode;var a=i.anchorOffset,v=i.focusNode;i=i.focusOffset;try{g.nodeType,v.nodeType}catch(T){g=null;break t}var f=0,h=-1,u=-1,o=0,d=0,p=s,l=null;e:for(;;){for(var m;p!==g||a!==0&&p.nodeType!==3||(h=f+a),p!==v||i!==0&&p.nodeType!==3||(u=f+i),p.nodeType===3&&(f+=p.nodeValue.length),(m=p.firstChild)!==null;)l=p,p=m;for(;;){if(p===s)break e;if(l===g&&++o===a&&(h=f),l===v&&++d===i&&(u=f),(m=p.nextSibling)!==null)break;p=l,l=p.parentNode}p=m}g=h===-1||u===-1?null:{start:h,end:u}}else g=null}g=g||{start:0,end:0}}else g=null;Sb={activeElementDetached:null,focusedElem:s,selectionRange:g},Dg=!1,Ki=c;do try{jG()}catch(T){if(Ki===null)throw Error(gi(330));uf(Ki,T),Ki=Ki.nextEffect}while(Ki!==null);Ki=c;do try{for(s=e,g=t;Ki!==null;){var y=Ki.effectTag;if(y&16&&Xv(Ki.stateNode,""),y&128){var x=Ki.alternate;if(x!==null){var b=x.ref;b!==null&&(typeof b=="function"?b(null):b.current=null)}}switch(y&1038){case 2:D6(Ki),Ki.effectTag&=-3;break;case 6:D6(Ki),Ki.effectTag&=-3,Ab(Ki.alternate,Ki);break;case 1024:Ki.effectTag&=-1025;break;case 1028:Ki.effectTag&=-1025,Ab(Ki.alternate,Ki);break;case 4:Ab(Ki.alternate,Ki);break;case 8:a=Ki,jI(s,a,g),_I(a)}Ki=Ki.nextEffect}}catch(T){if(Ki===null)throw Error(gi(330));uf(Ki,T),Ki=Ki.nextEffect}while(Ki!==null);if(b=Sb,x=W4(),y=b.focusedElem,g=b.selectionRange,x!==y&&y&&y.ownerDocument&&XR(y.ownerDocument.documentElement,y)){for(g!==null&&IT(y)&&(x=g.start,b=g.end,b===void 0&&(b=x),"selectionStart"in y?(y.selectionStart=x,y.selectionEnd=Math.min(b,y.value.length)):(b=(x=y.ownerDocument||document)&&x.defaultView||window,b.getSelection&&(b=b.getSelection(),a=y.textContent.length,s=Math.min(g.start,a),g=g.end===void 0?s:Math.min(g.end,a),!b.extend&&s>g&&(a=g,g=s,s=a),a=V4(y,s),v=V4(y,g),a&&v&&(b.rangeCount!==1||b.anchorNode!==a.node||b.anchorOffset!==a.offset||b.focusNode!==v.node||b.focusOffset!==v.offset)&&(x=x.createRange(),x.setStart(a.node,a.offset),b.removeAllRanges(),s>g?(b.addRange(x),b.extend(v.node,v.offset)):(x.setEnd(v.node,v.offset),b.addRange(x)))))),x=[],b=y;b=b.parentNode;)b.nodeType===1&&x.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<x.length;y++)b=x[y],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}Dg=!!bb,Sb=bb=null,e.current=r,Ki=c;do try{for(y=e;Ki!==null;){var w=Ki.effectTag;if(w&36&&MG(y,Ki.alternate,Ki),w&128){x=void 0;var C=Ki.ref;if(C!==null){var E=Ki.stateNode;switch(Ki.tag){case 5:x=E;break;default:x=E}typeof C=="function"?C(x):C.current=x}}Ki=Ki.nextEffect}}catch(T){if(Ki===null)throw Error(gi(330));uf(Ki,T),Ki=Ki.nextEffect}while(Ki!==null);Ki=null,wG(),pr=S}else e.current=r;if(z1)z1=!1,Ev=e,cv=t;else for(Ki=c;Ki!==null;)t=Ki.nextEffect,Ki.nextEffect=null,Ki=t;if(t=e.firstPendingTime,t===0&&(ec=null),t===1073741823?e===JT?kv++:(kv=0,JT=e):kv=0,typeof t2=="function"&&t2(r.stateNode,n),ko(e),U1)throw U1=!1,e=KT,KT=null,e;return(pr&w3)!==Qs||ku(),null}function jG(){for(;Ki!==null;){var e=Ki.effectTag;e&256&&IG(Ki.alternate,Ki),!(e&512)||z1||(z1=!0,yI(97,function(){return Kd(),null})),Ki=Ki.nextEffect}}function Kd(){if(cv!==90){var e=97<cv?97:cv;return cv=90,lc(e,UG)}}function UG(){if(Ev===null)return!1;var e=Ev;if(Ev=null,(pr&(Fl|Tu))!==Qs)throw Error(gi(331));var t=pr;for(pr|=Tu,e=e.current.firstEffect;e!==null;){try{var r=e;if(r.effectTag&512)switch(r.tag){case 0:case 11:case 15:case 22:FI(5,r),LI(5,r)}}catch(n){if(e===null)throw Error(gi(330));uf(e,n)}r=e.nextEffect,e.nextEffect=null,e=r}return pr=t,ku(),!0}function P6(e,t,r){t=S3(r,t),t=UI(e,t,1073741823),tc(e,t),e=Ly(e,1073741823),e!==null&&ko(e)}function uf(e,t){if(e.tag===3)P6(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){P6(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ec===null||!ec.has(n))){e=S3(t,e),e=zI(r,e,1073741823),tc(r,e),r=Ly(r,1073741823),r!==null&&ko(r);break}}r=r.return}}function zG(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),Eo===e&&so===r?Xs===Ny||Xs===L1&&Ku===1073741823&&Vo()-C3<$I?qc(e,so):j1=!0:t7(e,r)&&(t=e.lastPingedTime,t!==0&&t<r||(e.lastPingedTime=r,ko(e)))}function GG(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=Su(),t=lf(t,e,null)),e=Ly(e,t),e!==null&&ko(e)}var qI;qI=function(e,t,r){var n=t.expirationTime;if(e!==null){var c=t.pendingProps;if(e.memoizedProps!==c||io.current)mu=!0;else{if(n<r){switch(mu=!1,t.tag){case 3:b6(t),Eb();break;case 5:if(f6(t),t.mode&4&&r!==1&&c.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:ro(t.type)&&Ig(t);break;case 4:UT(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value,c=t.type._context,bs(k1,c._currentValue),c._currentValue=n;break;case 13:if(t.memoizedState!==null)return n=t.child.childExpirationTime,n!==0&&n>=r?S6(e,t,r):(bs(ns,ns.current&1),t=ih(e,t,r),t!==null?t.sibling:null);bs(ns,ns.current&1);break;case 19:if(n=t.childExpirationTime>=r,e.effectTag&64){if(n)return T6(e,t,r);t.effectTag|=64}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null),bs(ns,ns.current),!n)return null}return ih(e,t,r)}mu=!1}}else mu=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,c=Rd(t,Ea.current),md(t,r),c=g3(null,t,n,e,c,r),t.effectTag|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ro(n)){var S=!0;Ig(t)}else S=!1;t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c3(t);var s=n.getDerivedStateFromProps;typeof s=="function"&&P1(t,n,s,e),c.updater=Oy,t.stateNode=c,c._reactInternalFiber=t,jT(t,n,e,r),t=VT(null,t,n,!0,S,r)}else t.tag=0,xo(null,t,c,r),t=t.child;return t;case 16:t:{if(c=t.elementType,e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,gz(c),c._status!==1)throw c._result;switch(c=c._result,t.type=c,S=t.tag=VG(c),e=cl(c,e),S){case 0:t=$T(null,t,c,e,r);break t;case 1:t=x6(null,t,c,e,r);break t;case 11:t=g6(null,t,c,e,r);break t;case 14:t=y6(null,t,c,cl(c.type,e),n,r);break t}throw Error(gi(306,c,""))}return t;case 0:return n=t.type,c=t.pendingProps,c=t.elementType===n?c:cl(n,c),$T(e,t,n,c,r);case 1:return n=t.type,c=t.pendingProps,c=t.elementType===n?c:cl(n,c),x6(e,t,n,c,r);case 3:if(b6(t),n=t.updateQueue,e===null||n===null)throw Error(gi(282));if(n=t.pendingProps,c=t.memoizedState,c=c!==null?c.element:null,f3(e,t),qv(t,n,null,r),n=t.memoizedState.element,n===c)Eb(),t=ih(e,t,r);else{if((c=t.stateNode.hydrate)&&(Gh=vd(t.stateNode.containerInfo.firstChild),eh=t,c=af=!0),c)for(r=d3(t,null,n,r),t.child=r;r;)r.effectTag=r.effectTag&-3|1024,r=r.sibling;else xo(e,t,n,r),Eb();t=t.child}return t;case 5:return f6(t),e===null&&HT(t),n=t.type,c=t.pendingProps,S=e!==null?e.memoizedProps:null,s=c.children,MT(n,c)?s=null:S!==null&&MT(n,S)&&(t.effectTag|=16),MI(e,t),t.mode&4&&r!==1&&c.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(xo(e,t,s,r),t=t.child),t;case 6:return e===null&&HT(t),null;case 13:return S6(e,t,r);case 4:return UT(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Id(t,null,n,r):xo(e,t,n,r),t.child;case 11:return n=t.type,c=t.pendingProps,c=t.elementType===n?c:cl(n,c),g6(e,t,n,c,r);case 7:return xo(e,t,t.pendingProps,r),t.child;case 8:return xo(e,t,t.pendingProps.children,r),t.child;case 12:return xo(e,t,t.pendingProps.children,r),t.child;case 10:t:{n=t.type._context,c=t.pendingProps,s=t.memoizedProps,S=c.value;var g=t.type._context;if(bs(k1,g._currentValue),g._currentValue=S,s!==null)if(g=s.value,S=gf(g,S)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(g,S):1073741823)|0,S===0){if(s.children===c.children&&!io.current){t=ih(e,t,r);break t}}else for(g=t.child,g!==null&&(g.return=t);g!==null;){var i=g.dependencies;if(i!==null){s=g.child;for(var a=i.firstContext;a!==null;){if(a.context===n&&a.observedBits&S){g.tag===1&&(a=qh(r,null),a.tag=2,tc(g,a)),g.expirationTime<r&&(g.expirationTime=r),a=g.alternate,a!==null&&a.expirationTime<r&&(a.expirationTime=r),bI(g.return,r),i.expirationTime<r&&(i.expirationTime=r);break}a=a.next}}else s=g.tag===10&&g.type===t.type?null:g.child;if(s!==null)s.return=g;else for(s=g;s!==null;){if(s===t){s=null;break}if(g=s.sibling,g!==null){g.return=s.return,s=g;break}s=s.return}g=s}xo(e,t,c.children,r),t=t.child}return t;case 9:return c=t.type,S=t.pendingProps,n=S.children,md(t,r),c=Qo(c,S.unstable_observedBits),n=n(c),t.effectTag|=1,xo(e,t,n,r),t.child;case 14:return c=t.type,S=cl(c,t.pendingProps),S=cl(c.type,S),y6(e,t,c,S,n,r);case 15:return II(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,c=t.pendingProps,c=t.elementType===n?c:cl(n,c),e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,ro(n)?(e=!0,Ig(t)):e=!1,md(t,r),wI(t,n,c),jT(t,n,c,r),VT(null,t,n,!0,e,r);case 19:return T6(e,t,r)}throw Error(gi(156,t.tag))};var t2=null,e2=null;function HG(e){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);t2=function(n){try{t.onCommitFiberRoot(r,n,void 0,(n.current.effectTag&64)===64)}catch(c){}},e2=function(n){try{t.onCommitFiberUnmount(r,n)}catch(c){}}}catch(n){}return!0}function $G(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function gu(e,t,r,n){return new $G(e,t,r,n)}function E3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function VG(e){if(typeof e=="function")return E3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===VC)return 11;if(e===WC)return 14}return 2}function xf(e,t){var r=e.alternate;return r===null?(r=gu(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Lg(e,t,r,n,c,S){var s=2;if(n=e,typeof e=="function")E3(e)&&(s=1);else if(typeof e=="string")s=5;else t:switch(e){case Vc:return Hh(r.children,c,S,t);case mz:s=8,c|=7;break;case yR:s=8,c|=1;break;case Cg:return e=gu(12,r,t,c|8),e.elementType=Cg,e.type=Cg,e.expirationTime=S,e;case Eg:return e=gu(13,r,t,c),e.type=Eg,e.elementType=Eg,e.expirationTime=S,e;case gT:return e=gu(19,r,t,c),e.elementType=gT,e.expirationTime=S,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xR:s=10;break t;case bR:s=9;break t;case VC:s=11;break t;case WC:s=14;break t;case SR:s=16,n=null;break t;case wR:s=22;break t}throw Error(gi(130,e==null?e:typeof e,""))}return t=gu(s,r,t,c),t.elementType=e,t.type=n,t.expirationTime=S,t}function Hh(e,t,r,n){return e=gu(7,e,n,t),e.expirationTime=r,e}function Pb(e,t,r){return e=gu(6,e,null,t),e.expirationTime=r,e}function Rb(e,t,r){return t=gu(4,e.children!==null?e.children:[],e.key,t),t.expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WG(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function t7(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,r!==0&&r>=t&&e<=t}function tf(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||r===0)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function e7(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;r!==0&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function i2(e,t){var r=e.lastExpiredTime;(r===0||r>t)&&(e.lastExpiredTime=t)}function G1(e,t,r,n){var c=t.current,S=Su(),s=Cv.suspense;S=lf(S,c,s);t:if(r){r=r._reactInternalFiber;e:{if(wf(r)!==r||r.tag!==1)throw Error(gi(170));var g=r;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(ro(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(gi(171))}if(r.tag===1){var i=r.type;if(ro(i)){r=hI(r,i,g);break t}}r=g}else r=oc;return t.context===null?t.context=r:t.pendingContext=r,t=qh(S,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),tc(c,t),ic(c,S),S}function Ib(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function R6(e,t){e=e.memoizedState,e!==null&&e.dehydrated!==null&&e.retryTime<t&&(e.retryTime=t)}function k3(e,t){R6(e,t),(e=e.alternate)&&R6(e,t)}function D3(e,t,r){r=r!=null&&r.hydrate===!0;var n=new WG(e,t,r),c=gu(3,null,null,t===2?7:t===1?3:0);n.current=c,c.stateNode=n,c3(c),e[Im]=n.current,r&&t!==0&&Tz(e,e.nodeType===9?e:e.ownerDocument),this._internalRoot=n}D3.prototype.render=function(e){G1(e,this._internalRoot,null,null)};D3.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;G1(null,e,null,function(){t[Im]=null})};function Lm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function YG(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new D3(e,0,t?{hydrate:!0}:void 0)}function jy(e,t,r,n,c){var S=r._reactRootContainer;if(S){var s=S._internalRoot;if(typeof c=="function"){var g=c;c=function(){var a=Ib(s);g.call(a)}}G1(t,s,e,c)}else{if(S=r._reactRootContainer=YG(r,n),s=S._internalRoot,typeof c=="function"){var i=c;c=function(){var a=Ib(s);i.call(a)}}YI(function(){G1(t,s,e,c)})}return Ib(s)}function XG(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}zR=function(e){if(e.tag===13){var t=Bg(Su(),150,100);ic(e,t),k3(e,t)}};JC=function(e){e.tag===13&&(ic(e,3),k3(e,3))};GR=function(e){if(e.tag===13){var t=Su();t=lf(t,e,null),ic(e,t),k3(e,t)}};mT=function(e,t,r){switch(t){case"input":if(xT(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var c=n3(n);if(!c)throw Error(gi(90));CR(n),xT(n,c)}}}break;case"textarea":kR(e,r);break;case"select":t=r.value,t!=null&&pd(e,!!r.multiple,t,!1)}};jC=WI;vR=function(e,t,r,n,c){var S=pr;pr|=4;try{return lc(98,e.bind(null,t,r,n,c))}finally{pr=S,pr===Qs&&ku()}};UC=function(){(pr&(1|Fl|Tu))===Qs&&(NG(),Kd())};mR=function(e,t){var r=pr;pr|=2;try{return e(t)}finally{pr=r,pr===Qs&&ku()}};function i7(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lm(t))throw Error(gi(200));return XG(e,t,null,r)}var QG={Events:[Bm,mf,n3,fR,vT,Pd,function(e){QC(e,Fz)},dR,pR,Ry,Py,Kd,{current:!1}]};(function(e){var t=e.findFiberByHostInstance;return HG(Fa({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nl.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=FR(r),r===null?null:r.stateNode},findFiberByHostInstance:function(r){return t?t(r):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Mm,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});el.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QG;el.createPortal=i7;el.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternalFiber;if(t===void 0)throw typeof e.render=="function"?Error(gi(188)):Error(gi(268,Object.keys(e)));return e=FR(t),e=e===null?null:e.stateNode,e};el.flushSync=function(e,t){if((pr&(Fl|Tu))!==Qs)throw Error(gi(187));var r=pr;pr|=1;try{return lc(99,e.bind(null,t))}finally{pr=r,ku()}};el.hydrate=function(e,t,r){if(!Lm(t))throw Error(gi(200));return jy(null,e,t,!0,r)};el.render=function(e,t,r){if(!Lm(t))throw Error(gi(200));return jy(null,e,t,!1,r)};el.unmountComponentAtNode=function(e){if(!Lm(e))throw Error(gi(40));return e._reactRootContainer?(YI(function(){jy(null,null,e,!1,function(){e._reactRootContainer=null,e[Im]=null})}),!0):!1};el.unstable_batchedUpdates=WI;el.unstable_createPortal=function(e,t){return i7(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};el.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Lm(r))throw Error(gi(200));if(e==null||e._reactInternalFiber===void 0)throw Error(gi(38));return jy(e,t,r,!1,n)};el.version="16.14.0";function r7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r7)}catch(e){console.error(e)}}r7(),aR.exports=el;var n7=aR.exports;const KG=Rs(n7);function r2(e,t){return r2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,c){return n.__proto__=c,n},r2(e,t)}function Ko(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r2(e,t)}var s7={exports:{}},JG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ZG=JG,qG=ZG;function a7(){}function o7(){}o7.resetWarningCache=a7;var tH=function(){function e(n,c,S,s,g,i){if(i!==qG){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o7,resetWarningCache:a7};return r.PropTypes=r,r};s7.exports=tH();var Jd=s7.exports;const Wt=Rs(Jd);var l7=ti.createContext(null),u7=function(e){Ko(t,e);function t(n){var c;c=e.call(this,n)||this;var S=n.store;return c.state={storeState:S.getState(),store:S},c}var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0,this.subscribe()},r.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},r.componentDidUpdate=function(c){this.props.store!==c.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},r.subscribe=function(){var c=this,S=this.props.store;this.unsubscribe=S.subscribe(function(){var g=S.getState();c._isMounted&&c.setState(function(i){return i.storeState===g?null:{storeState:g}})});var s=S.getState();s!==this.state.storeState&&this.setState({storeState:s})},r.render=function(){var c=this.props.context||l7;return ti.createElement(c.Provider,{value:this.state},this.props.children)},t}(zi.Component);u7.propTypes={store:Wt.shape({subscribe:Wt.func.isRequired,dispatch:Wt.func.isRequired,getState:Wt.func.isRequired}),context:Wt.object,children:Wt.any};function eH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kn.apply(this,arguments)}function ph(e,t){if(e==null)return{};var r={},n=Object.keys(e),c,S;for(S=0;S<n.length;S++)c=n[S],!(t.indexOf(c)>=0)&&(r[c]=e[c]);return r}var h7={exports:{}},fn={};var Js=typeof Symbol=="function"&&Symbol.for,A3=Js?Symbol.for("react.element"):60103,P3=Js?Symbol.for("react.portal"):60106,Uy=Js?Symbol.for("react.fragment"):60107,zy=Js?Symbol.for("react.strict_mode"):60108,Gy=Js?Symbol.for("react.profiler"):60114,Hy=Js?Symbol.for("react.provider"):60109,$y=Js?Symbol.for("react.context"):60110,R3=Js?Symbol.for("react.async_mode"):60111,Vy=Js?Symbol.for("react.concurrent_mode"):60111,Wy=Js?Symbol.for("react.forward_ref"):60112,Yy=Js?Symbol.for("react.suspense"):60113,iH=Js?Symbol.for("react.suspense_list"):60120,Xy=Js?Symbol.for("react.memo"):60115,Qy=Js?Symbol.for("react.lazy"):60116,rH=Js?Symbol.for("react.block"):60121,nH=Js?Symbol.for("react.fundamental"):60117,sH=Js?Symbol.for("react.responder"):60118,aH=Js?Symbol.for("react.scope"):60119;function Ao(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case A3:switch(e=e.type,e){case R3:case Vy:case Uy:case Gy:case zy:case Yy:return e;default:switch(e=e&&e.$$typeof,e){case $y:case Wy:case Qy:case Xy:case Hy:return e;default:return t}}case P3:return t}}}function c7(e){return Ao(e)===Vy}fn.AsyncMode=R3;fn.ConcurrentMode=Vy;fn.ContextConsumer=$y;fn.ContextProvider=Hy;fn.Element=A3;fn.ForwardRef=Wy;fn.Fragment=Uy;fn.Lazy=Qy;fn.Memo=Xy;fn.Portal=P3;fn.Profiler=Gy;fn.StrictMode=zy;fn.Suspense=Yy;fn.isAsyncMode=function(e){return c7(e)||Ao(e)===R3};fn.isConcurrentMode=c7;fn.isContextConsumer=function(e){return Ao(e)===$y};fn.isContextProvider=function(e){return Ao(e)===Hy};fn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===A3};fn.isForwardRef=function(e){return Ao(e)===Wy};fn.isFragment=function(e){return Ao(e)===Uy};fn.isLazy=function(e){return Ao(e)===Qy};fn.isMemo=function(e){return Ao(e)===Xy};fn.isPortal=function(e){return Ao(e)===P3};fn.isProfiler=function(e){return Ao(e)===Gy};fn.isStrictMode=function(e){return Ao(e)===zy};fn.isSuspense=function(e){return Ao(e)===Yy};fn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Uy||e===Vy||e===Gy||e===zy||e===Yy||e===iH||typeof e=="object"&&e!==null&&(e.$$typeof===Qy||e.$$typeof===Xy||e.$$typeof===Hy||e.$$typeof===$y||e.$$typeof===Wy||e.$$typeof===nH||e.$$typeof===sH||e.$$typeof===aH||e.$$typeof===rH)};fn.typeOf=Ao;h7.exports=fn;var f7=h7.exports,I3=f7,oH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},lH={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},uH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},d7={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},M3={};M3[I3.ForwardRef]=uH;M3[I3.Memo]=d7;function I6(e){return I3.isMemo(e)?d7:M3[e.$$typeof]||oH}var hH=Object.defineProperty,cH=Object.getOwnPropertyNames,M6=Object.getOwnPropertySymbols,fH=Object.getOwnPropertyDescriptor,dH=Object.getPrototypeOf,B6=Object.prototype;function p7(e,t,r){if(typeof t!="string"){if(B6){var n=dH(t);n&&n!==B6&&p7(e,n,r)}var c=cH(t);M6&&(c=c.concat(M6(t)));for(var S=I6(e),s=I6(t),g=0;g<c.length;++g){var i=c[g];if(!lH[i]&&!(r&&r[i])&&!(s&&s[i])&&!(S&&S[i])){var a=fH(t,i);try{hH(e,i,a)}catch(v){}}}}return e}var pH=p7;const n2=Rs(pH);var vH=function(e,t,r,n,c,S,s,g){if(!e){var i;if(t===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=[r,n,c,S,s,g],v=0;i=new Error(t.replace(/%s/g,function(){return a[v++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}},v7=vH;const Fp=Rs(v7);function mH(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,c=n===void 0?function(w){return"ConnectAdvanced("+w+")"}:n,S=r.methodName,s=S===void 0?"connectAdvanced":S,g=r.renderCountProp,i=g===void 0?void 0:g,a=r.shouldHandleStateChanges,v=a===void 0?!0:a,f=r.storeKey,h=f===void 0?"store":f,u=r.withRef,o=u===void 0?!1:u,d=r.forwardRef,p=d===void 0?!1:d,l=r.context,m=l===void 0?l7:l,y=ph(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);Fp(i===void 0,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),Fp(!o,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var x="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";Fp(h==="store","storeKey has been removed and does not do anything. "+x);var b=m;return function(C){var E=C.displayName||C.name||"Component",T=c(E),k=Kn({},y,{getDisplayName:c,methodName:s,renderCountProp:i,shouldHandleStateChanges:v,storeKey:h,displayName:T,wrappedComponentName:E,WrappedComponent:C}),P=y.pure,R=zi.Component;P&&(R=zi.PureComponent);function M(){var N,_,G,$,V,Y;return function(F,O,j,z){if(P&&N===O&&_===F)return G;(j!==$||V!==z)&&($=j,V=z,Y=e(j.dispatch,z)),N=O,_=F;var W=Y(F,O);return G=W,G}}function I(){var N,_,G,$;return function(Y,U,F){return(U!==N||F!==_||$!==Y)&&(N=U,_=F,$=Y,G=ti.createElement(Y,Kn({},U,{ref:F}))),G}}var B=function(N){Ko(_,N);function _($){var V;return V=N.call(this,$)||this,Fp(p?!$.wrapperProps[h]:!$[h],"Passing redux store in props has been removed and does not do anything. "+x),V.selectDerivedProps=M(),V.selectChildElement=I(),V.indirectRenderWrappedComponent=V.indirectRenderWrappedComponent.bind(eH(V)),V}var G=_.prototype;return G.indirectRenderWrappedComponent=function(V){return this.renderWrappedComponent(V)},G.renderWrappedComponent=function(V){Fp(V,'Could not find "store" in the context of '+('"'+T+'". Either wrap the root component in a <Provider>, ')+"or pass a custom React context provider to <Provider> and the corresponding "+("React context consumer to "+T+" in connect options."));var Y=V.storeState,U=V.store,F=this.props,O;p&&(F=this.props.wrapperProps,O=this.props.forwardedRef);var j=this.selectDerivedProps(Y,F,U,k);return this.selectChildElement(C,j,O)},G.render=function(){var V=this.props.context&&this.props.context.Consumer&&f7.isContextConsumer(ti.createElement(this.props.context.Consumer,null))?this.props.context:b;return ti.createElement(V.Consumer,null,this.indirectRenderWrappedComponent)},_}(R);if(B.WrappedComponent=C,B.displayName=T,p){var D=ti.forwardRef(function(_,G){return ti.createElement(B,{wrapperProps:_,forwardedRef:G})});return D.displayName=T,D.WrappedComponent=C,n2(D,C)}return n2(B,C)}}var gH=Object.prototype.hasOwnProperty;function O6(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Mb(e,t){if(O6(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var c=0;c<r.length;c++)if(!gH.call(t,r[c])||!O6(e[r[c]],t[r[c]]))return!1;return!0}function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function yH(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xH(e){var t=yH(e,"string");return nm(t)=="symbol"?t:t+""}function bH(e,t,r){return t=xH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),r.push.apply(r,n)}return r}function F6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N6(Object(r),!0).forEach(function(n){bH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ia(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var L6=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Bb=function(){return Math.random().toString(36).substring(7).split("").join(".")},H1={INIT:"@@redux/INIT"+Bb(),REPLACE:"@@redux/REPLACE"+Bb(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Bb()}};function SH(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function m7(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ia(0));if(typeof t=="function"&&typeof r=="undefined"&&(r=t,t=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error(ia(1));return r(m7)(e,t)}if(typeof e!="function")throw new Error(ia(2));var c=e,S=t,s=[],g=s,i=!1;function a(){g===s&&(g=s.slice())}function v(){if(i)throw new Error(ia(3));return S}function f(d){if(typeof d!="function")throw new Error(ia(4));if(i)throw new Error(ia(5));var p=!0;return a(),g.push(d),function(){if(p){if(i)throw new Error(ia(6));p=!1,a();var m=g.indexOf(d);g.splice(m,1),s=null}}}function h(d){if(!SH(d))throw new Error(ia(7));if(typeof d.type=="undefined")throw new Error(ia(8));if(i)throw new Error(ia(9));try{i=!0,S=c(S,d)}finally{i=!1}for(var p=s=g,l=0;l<p.length;l++){var m=p[l];m()}return d}function u(d){if(typeof d!="function")throw new Error(ia(10));c=d,h({type:H1.REPLACE})}function o(){var d,p=f;return d={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(ia(11));function y(){m.next&&m.next(v())}y();var x=p(y);return{unsubscribe:x}}},d[L6]=function(){return this},d}return h({type:H1.INIT}),n={dispatch:h,subscribe:f,getState:v,replaceReducer:u},n[L6]=o,n}function wH(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:H1.INIT});if(typeof n=="undefined")throw new Error(ia(12));if(typeof r(void 0,{type:H1.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(ia(13))})}function TH(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var c=t[n];typeof e[c]=="function"&&(r[c]=e[c])}var S=Object.keys(r),s;try{wH(r)}catch(g){s=g}return function(i,a){if(i===void 0&&(i={}),s)throw s;for(var v=!1,f={},h=0;h<S.length;h++){var u=S[h],o=r[u],d=i[u],p=o(d,a);if(typeof p=="undefined")throw a&&a.type,new Error(ia(14));f[u]=p,v=v||p!==d}return v=v||S.length!==Object.keys(i).length,v?f:i}}function _6(e,t){return function(){return t(e.apply(this,arguments))}}function ws(e,t){if(typeof e=="function")return _6(e,t);if(typeof e!="object"||e===null)throw new Error(ia(16));var r={};for(var n in e){var c=e[n];typeof c=="function"&&(r[n]=_6(c,t))}return r}function g7(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,c){return function(){return n(c.apply(void 0,arguments))}})}function CH(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var c=n.apply(void 0,arguments),S=function(){throw new Error(ia(15))},s={getState:c.getState,dispatch:function(){return S.apply(void 0,arguments)}},g=t.map(function(i){return i(s)});return S=g7.apply(void 0,g)(c.dispatch),F6(F6({},c),{},{dispatch:S})}}}function B3(e){return function(r,n){var c=e(r,n);function S(){return c}return S.dependsOnOwnProps=!1,S}}function j6(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function y7(e,t){return function(n,c){c.displayName;var S=function(g,i){return S.dependsOnOwnProps?S.mapToProps(g,i):S.mapToProps(g)};return S.dependsOnOwnProps=!0,S.mapToProps=function(g,i){S.mapToProps=e,S.dependsOnOwnProps=j6(e);var a=S(g,i);return typeof a=="function"&&(S.mapToProps=a,S.dependsOnOwnProps=j6(a),a=S(g,i)),a},S}}function EH(e){return typeof e=="function"?y7(e):void 0}function kH(e){return e?void 0:B3(function(t){return{dispatch:t}})}function DH(e){return e&&typeof e=="object"?B3(function(t){return ws(e,t)}):void 0}const AH=[EH,kH,DH];function PH(e){return typeof e=="function"?y7(e):void 0}function RH(e){return e?void 0:B3(function(){return{}})}const IH=[PH,RH];function MH(e,t,r){return Kn({},r,e,t)}function BH(e){return function(r,n){n.displayName;var c=n.pure,S=n.areMergedPropsEqual,s=!1,g;return function(a,v,f){var h=e(a,v,f);return s?(!c||!S(h,g))&&(g=h):(s=!0,g=h),g}}}function OH(e){return typeof e=="function"?BH(e):void 0}function NH(e){return e?void 0:function(){return MH}}const FH=[OH,NH];function LH(e,t,r,n){return function(S,s){return r(e(S,s),t(n,s),s)}}function _H(e,t,r,n,c){var S=c.areStatesEqual,s=c.areOwnPropsEqual,g=c.areStatePropsEqual,i=!1,a,v,f,h,u;function o(y,x){return a=y,v=x,f=e(a,v),h=t(n,v),u=r(f,h,v),i=!0,u}function d(){return f=e(a,v),t.dependsOnOwnProps&&(h=t(n,v)),u=r(f,h,v),u}function p(){return e.dependsOnOwnProps&&(f=e(a,v)),t.dependsOnOwnProps&&(h=t(n,v)),u=r(f,h,v),u}function l(){var y=e(a,v),x=!g(y,f);return f=y,x&&(u=r(f,h,v)),u}function m(y,x){var b=!s(x,v),w=!S(y,a);return a=y,v=x,b&&w?d():b?p():w?l():u}return function(x,b){return i?m(x,b):o(x,b)}}function jH(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,c=t.initMergeProps,S=ph(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),s=r(e,S),g=n(e,S),i=c(e,S),a=S.pure?_H:LH;return a(s,g,i,e,S)}function Ob(e,t,r){for(var n=t.length-1;n>=0;n--){var c=t[n](e);if(c)return c}return function(S,s){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+s.wrappedComponentName+".")}}function UH(e,t){return e===t}function zH(e){var t={},r=t.connectHOC,n=r===void 0?mH:r,c=t.mapStateToPropsFactories,S=c===void 0?IH:c,s=t.mapDispatchToPropsFactories,g=s===void 0?AH:s,i=t.mergePropsFactories,a=i===void 0?FH:i,v=t.selectorFactory,f=v===void 0?jH:v;return function(u,o,d,p){p===void 0&&(p={});var l=p,m=l.pure,y=m===void 0?!0:m,x=l.areStatesEqual,b=x===void 0?UH:x,w=l.areOwnPropsEqual,C=w===void 0?Mb:w,E=l.areStatePropsEqual,T=E===void 0?Mb:E,k=l.areMergedPropsEqual,P=k===void 0?Mb:k,R=ph(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),M=Ob(u,S,"mapStateToProps"),I=Ob(o,g,"mapDispatchToProps"),B=Ob(d,a,"mergeProps");return n(f,Kn({methodName:"connect",getDisplayName:function(N){return"Connect("+N+")"},shouldHandleStateChanges:!!u,initMapStateToProps:M,initMapDispatchToProps:I,initMergeProps:B,pure:y,areStatesEqual:b,areOwnPropsEqual:C,areStatePropsEqual:T,areMergedPropsEqual:P},R))}}const Is=zH();function F0(e){return e.charAt(0)==="/"}function Nb(e,t){for(var r=t,n=r+1,c=e.length;n<c;r+=1,n+=1)e[r]=e[n];e.pop()}function GH(e,t){t===void 0&&(t="");var r=e&&e.split("/")||[],n=t&&t.split("/")||[],c=e&&F0(e),S=t&&F0(t),s=c||S;if(e&&F0(e)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";var g;if(n.length){var i=n[n.length-1];g=i==="."||i===".."||i===""}else g=!1;for(var a=0,v=n.length;v>=0;v--){var f=n[v];f==="."?Nb(n,v):f===".."?(Nb(n,v),a++):a&&(Nb(n,v),a--)}if(!s)for(;a--;a)n.unshift("..");s&&n[0]!==""&&(!n[0]||!F0(n[0]))&&n.unshift("");var h=n.join("/");return g&&h.substr(-1)!=="/"&&(h+="/"),h}function U6(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function _g(e,t){if(e===t)return!0;if(e==null||t==null)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(c,S){return _g(c,t[S])});if(typeof e=="object"||typeof t=="object"){var r=U6(e),n=U6(t);return r!==e||n!==t?_g(r,n):Object.keys(Object.assign({},e,t)).every(function(c){return _g(e[c],t[c])})}return!1}var HH="Invariant failed";function vh(e,t){throw new Error(HH)}function Dv(e){return e.charAt(0)==="/"?e:"/"+e}function z6(e){return e.charAt(0)==="/"?e.substr(1):e}function $H(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function x7(e,t){return $H(e,t)?e.substr(t.length):e}function b7(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function VH(e){var t=e||"/",r="",n="",c=t.indexOf("#");c!==-1&&(n=t.substr(c),t=t.substr(0,c));var S=t.indexOf("?");return S!==-1&&(r=t.substr(S),t=t.substr(0,S)),{pathname:t,search:r==="?"?"":r,hash:n==="#"?"":n}}function to(e){var t=e.pathname,r=e.search,n=e.hash,c=t||"/";return r&&r!=="?"&&(c+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(c+=n.charAt(0)==="#"?n:"#"+n),c}function Ba(e,t,r,n){var c;typeof e=="string"?(c=VH(e),c.state=t):(c=Kn({},e),c.pathname===void 0&&(c.pathname=""),c.search?c.search.charAt(0)!=="?"&&(c.search="?"+c.search):c.search="",c.hash?c.hash.charAt(0)!=="#"&&(c.hash="#"+c.hash):c.hash="",t!==void 0&&c.state===void 0&&(c.state=t));try{c.pathname=decodeURI(c.pathname)}catch(S){throw S instanceof URIError?new URIError('Pathname "'+c.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):S}return r&&(c.key=r),n?c.pathname?c.pathname.charAt(0)!=="/"&&(c.pathname=GH(c.pathname,n.pathname)):c.pathname=n.pathname:c.pathname||(c.pathname="/"),c}function WH(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&_g(e.state,t.state)}function O3(){var e=null;function t(s){return e=s,function(){e===s&&(e=null)}}function r(s,g,i,a){if(e!=null){var v=typeof e=="function"?e(s,g):e;typeof v=="string"?typeof i=="function"?i(v,a):a(!0):a(v!==!1)}else a(!0)}var n=[];function c(s){var g=!0;function i(){g&&s.apply(void 0,arguments)}return n.push(i),function(){g=!1,n=n.filter(function(a){return a!==i})}}function S(){for(var s=arguments.length,g=new Array(s),i=0;i<s;i++)g[i]=arguments[i];n.forEach(function(a){return a.apply(void 0,g)})}return{setPrompt:t,confirmTransitionTo:r,appendListener:c,notifyListeners:S}}var S7=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function w7(e,t){t(window.confirm(e))}function YH(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function XH(){return window.navigator.userAgent.indexOf("Trident")===-1}function QH(){return window.navigator.userAgent.indexOf("Firefox")===-1}function KH(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var G6="popstate",H6="hashchange";function $6(){try{return window.history.state||{}}catch(e){return{}}}function JH(e){e===void 0&&(e={}),S7||vh();var t=window.history,r=YH(),n=!XH(),c=e,S=c.forceRefresh,s=S===void 0?!1:S,g=c.getUserConfirmation,i=g===void 0?w7:g,a=c.keyLength,v=a===void 0?6:a,f=e.basename?b7(Dv(e.basename)):"";function h(G){var $=G||{},V=$.key,Y=$.state,U=window.location,F=U.pathname,O=U.search,j=U.hash,z=F+O+j;return f&&(z=x7(z,f)),Ba(z,Y,V)}function u(){return Math.random().toString(36).substr(2,v)}var o=O3();function d(G){Kn(_,G),_.length=t.length,o.notifyListeners(_.location,_.action)}function p(G){KH(G)||y(h(G.state))}function l(){y(h($6()))}var m=!1;function y(G){if(m)m=!1,d();else{var $="POP";o.confirmTransitionTo(G,$,i,function(V){V?d({action:$,location:G}):x(G)})}}function x(G){var $=_.location,V=w.indexOf($.key);V===-1&&(V=0);var Y=w.indexOf(G.key);Y===-1&&(Y=0);var U=V-Y;U&&(m=!0,k(U))}var b=h($6()),w=[b.key];function C(G){return f+to(G)}function E(G,$){var V="PUSH",Y=Ba(G,$,u(),_.location);o.confirmTransitionTo(Y,V,i,function(U){if(U){var F=C(Y),O=Y.key,j=Y.state;if(r)if(t.pushState({key:O,state:j},null,F),s)window.location.href=F;else{var z=w.indexOf(_.location.key),W=w.slice(0,z+1);W.push(Y.key),w=W,d({action:V,location:Y})}else window.location.href=F}})}function T(G,$){var V="REPLACE",Y=Ba(G,$,u(),_.location);o.confirmTransitionTo(Y,V,i,function(U){if(U){var F=C(Y),O=Y.key,j=Y.state;if(r)if(t.replaceState({key:O,state:j},null,F),s)window.location.replace(F);else{var z=w.indexOf(_.location.key);z!==-1&&(w[z]=Y.key),d({action:V,location:Y})}else window.location.replace(F)}})}function k(G){t.go(G)}function P(){k(-1)}function R(){k(1)}var M=0;function I(G){M+=G,M===1&&G===1?(window.addEventListener(G6,p),n&&window.addEventListener(H6,l)):M===0&&(window.removeEventListener(G6,p),n&&window.removeEventListener(H6,l))}var B=!1;function D(G){G===void 0&&(G=!1);var $=o.setPrompt(G);return B||(I(1),B=!0),function(){return B&&(B=!1,I(-1)),$()}}function N(G){var $=o.appendListener(G);return I(1),function(){I(-1),$()}}var _={length:t.length,action:"POP",location:b,createHref:C,push:E,replace:T,go:k,goBack:P,goForward:R,block:D,listen:N};return _}var V6="hashchange",ZH={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+z6(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:z6,decodePath:Dv},slash:{encodePath:Dv,decodePath:Dv}};function T7(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Lp(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function qH(e){window.location.hash=e}function Fb(e){window.location.replace(T7(window.location.href)+"#"+e)}function t$(e){e===void 0&&(e={}),S7||vh();var t=window.history;QH();var r=e,n=r.getUserConfirmation,c=n===void 0?w7:n,S=r.hashType,s=S===void 0?"slash":S,g=e.basename?b7(Dv(e.basename)):"",i=ZH[s],a=i.encodePath,v=i.decodePath;function f(){var $=v(Lp());return g&&($=x7($,g)),Ba($)}var h=O3();function u($){Kn(G,$),G.length=t.length,h.notifyListeners(G.location,G.action)}var o=!1,d=null;function p($,V){return $.pathname===V.pathname&&$.search===V.search&&$.hash===V.hash}function l(){var $=Lp(),V=a($);if($!==V)Fb(V);else{var Y=f(),U=G.location;if(!o&&p(U,Y)||d===to(Y))return;d=null,m(Y)}}function m($){if(o)o=!1,u();else{var V="POP";h.confirmTransitionTo($,V,c,function(Y){Y?u({action:V,location:$}):y($)})}}function y($){var V=G.location,Y=C.lastIndexOf(to(V));Y===-1&&(Y=0);var U=C.lastIndexOf(to($));U===-1&&(U=0);var F=Y-U;F&&(o=!0,P(F))}var x=Lp(),b=a(x);x!==b&&Fb(b);var w=f(),C=[to(w)];function E($){var V=document.querySelector("base"),Y="";return V&&V.getAttribute("href")&&(Y=T7(window.location.href)),Y+"#"+a(g+to($))}function T($,V){var Y="PUSH",U=Ba($,void 0,void 0,G.location);h.confirmTransitionTo(U,Y,c,function(F){if(F){var O=to(U),j=a(g+O),z=Lp()!==j;if(z){d=O,qH(j);var W=C.lastIndexOf(to(G.location)),q=C.slice(0,W+1);q.push(O),C=q,u({action:Y,location:U})}else u()}})}function k($,V){var Y="REPLACE",U=Ba($,void 0,void 0,G.location);h.confirmTransitionTo(U,Y,c,function(F){if(F){var O=to(U),j=a(g+O),z=Lp()!==j;z&&(d=O,Fb(j));var W=C.indexOf(to(G.location));W!==-1&&(C[W]=O),u({action:Y,location:U})}})}function P($){t.go($)}function R(){P(-1)}function M(){P(1)}var I=0;function B($){I+=$,I===1&&$===1?window.addEventListener(V6,l):I===0&&window.removeEventListener(V6,l)}var D=!1;function N($){$===void 0&&($=!1);var V=h.setPrompt($);return D||(B(1),D=!0),function(){return D&&(D=!1,B(-1)),V()}}function _($){var V=h.appendListener($);return B(1),function(){B(-1),V()}}var G={length:t.length,action:"POP",location:w,createHref:E,push:T,replace:k,go:P,goBack:R,goForward:M,block:N,listen:_};return G}function W6(e,t,r){return Math.min(Math.max(e,t),r)}function e$(e){e===void 0&&(e={});var t=e,r=t.getUserConfirmation,n=t.initialEntries,c=n===void 0?["/"]:n,S=t.initialIndex,s=S===void 0?0:S,g=t.keyLength,i=g===void 0?6:g,a=O3();function v(E){Kn(C,E),C.length=C.entries.length,a.notifyListeners(C.location,C.action)}function f(){return Math.random().toString(36).substr(2,i)}var h=W6(s,0,c.length-1),u=c.map(function(E){return typeof E=="string"?Ba(E,void 0,f()):Ba(E,void 0,E.key||f())}),o=to;function d(E,T){var k="PUSH",P=Ba(E,T,f(),C.location);a.confirmTransitionTo(P,k,r,function(R){if(R){var M=C.index,I=M+1,B=C.entries.slice(0);B.length>I?B.splice(I,B.length-I,P):B.push(P),v({action:k,location:P,index:I,entries:B})}})}function p(E,T){var k="REPLACE",P=Ba(E,T,f(),C.location);a.confirmTransitionTo(P,k,r,function(R){R&&(C.entries[C.index]=P,v({action:k,location:P}))})}function l(E){var T=W6(C.index+E,0,C.entries.length-1),k="POP",P=C.entries[T];a.confirmTransitionTo(P,k,r,function(R){R?v({action:k,location:P,index:T}):v()})}function m(){l(-1)}function y(){l(1)}function x(E){var T=C.index+E;return T>=0&&T<C.entries.length}function b(E){return E===void 0&&(E=!1),a.setPrompt(E)}function w(E){return a.appendListener(E)}var C={length:u.length,action:"POP",location:u[h],index:h,entries:u,createHref:o,push:d,replace:p,go:l,goBack:m,goForward:y,canGo:x,block:b,listen:w};return C}var Zd={exports:{}},i$=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},$1=i$;Zd.exports=k7;Zd.exports.parse=N3;Zd.exports.compile=n$;Zd.exports.tokensToFunction=C7;Zd.exports.tokensToRegExp=E7;var r$=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function N3(e,t){for(var r=[],n=0,c=0,S="",s=t&&t.delimiter||"/",g;(g=r$.exec(e))!=null;){var i=g[0],a=g[1],v=g.index;if(S+=e.slice(c,v),c=v+i.length,a){S+=a[1];continue}var f=e[c],h=g[2],u=g[3],o=g[4],d=g[5],p=g[6],l=g[7];S&&(r.push(S),S="");var m=h!=null&&f!=null&&f!==h,y=p==="+"||p==="*",x=p==="?"||p==="*",b=g[2]||s,w=o||d;r.push({name:u||n++,prefix:h||"",delimiter:b,optional:x,repeat:y,partial:m,asterisk:!!l,pattern:w?o$(w):l?".*":"[^"+jg(b)+"]+?"})}return c<e.length&&(S+=e.substr(c)),S&&r.push(S),r}function n$(e,t){return C7(N3(e,t),t)}function s$(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function a$(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function C7(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)typeof e[n]=="object"&&(r[n]=new RegExp("^(?:"+e[n].pattern+")$",L3(t)));return function(c,S){for(var s="",g=c||{},i=S||{},a=i.pretty?s$:encodeURIComponent,v=0;v<e.length;v++){var f=e[v];if(typeof f=="string"){s+=f;continue}var h=g[f.name],u;if(h==null)if(f.optional){f.partial&&(s+=f.prefix);continue}else throw new TypeError('Expected "'+f.name+'" to be defined');if($1(h)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var o=0;o<h.length;o++){if(u=a(h[o]),!r[v].test(u))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(u)+"`");s+=(o===0?f.prefix:f.delimiter)+u}continue}if(u=f.asterisk?a$(h):a(h),!r[v].test(u))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+u+'"');s+=f.prefix+u}return s}}function jg(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function o$(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function F3(e,t){return e.keys=t,e}function L3(e){return e&&e.sensitive?"":"i"}function l$(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return F3(e,t)}function u$(e,t,r){for(var n=[],c=0;c<e.length;c++)n.push(k7(e[c],t,r).source);var S=new RegExp("(?:"+n.join("|")+")",L3(r));return F3(S,t)}function h$(e,t,r){return E7(N3(e,r),t,r)}function E7(e,t,r){$1(t)||(r=t||r,t=[]),r=r||{};for(var n=r.strict,c=r.end!==!1,S="",s=0;s<e.length;s++){var g=e[s];if(typeof g=="string")S+=jg(g);else{var i=jg(g.prefix),a="(?:"+g.pattern+")";t.push(g),g.repeat&&(a+="(?:"+i+a+")*"),g.optional?g.partial?a=i+"("+a+")?":a="(?:"+i+"("+a+"))?":a=i+"("+a+")",S+=a}}var v=jg(r.delimiter||"/"),f=S.slice(-v.length)===v;return n||(S=(f?S.slice(0,-v.length):S)+"(?:"+v+"(?=$))?"),c?S+="$":S+=n&&f?"":"(?="+v+"|$)",F3(new RegExp("^"+S,L3(r)),t)}function k7(e,t,r){return $1(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?l$(e,t):$1(e)?u$(e,t,r):h$(e,t,r)}var c$=Zd.exports;const D7=Rs(c$);var Lb=1073741823,Y6=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:{};function f$(){var e="__global_unique_id__";return Y6[e]=(Y6[e]||0)+1}function d$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function p$(e){var t=[];return{on:function(n){t.push(n)},off:function(n){t=t.filter(function(c){return c!==n})},get:function(){return e},set:function(n,c){e=n,t.forEach(function(S){return S(e,c)})}}}function v$(e){return Array.isArray(e)?e[0]:e}function m$(e,t){var r,n,c="__create-react-context-"+f$()+"__",S=function(g){Ko(i,g);function i(){for(var v,f=arguments.length,h=new Array(f),u=0;u<f;u++)h[u]=arguments[u];return v=g.call.apply(g,[this].concat(h))||this,v.emitter=p$(v.props.value),v}var a=i.prototype;return a.getChildContext=function(){var f;return f={},f[c]=this.emitter,f},a.componentWillReceiveProps=function(f){if(this.props.value!==f.value){var h=this.props.value,u=f.value,o;d$(h,u)?o=0:(o=typeof t=="function"?t(h,u):Lb,o|=0,o!==0&&this.emitter.set(f.value,o))}},a.render=function(){return this.props.children},i}(ti.Component);S.childContextTypes=(r={},r[c]=Wt.object.isRequired,r);var s=function(g){Ko(i,g);function i(){for(var v,f=arguments.length,h=new Array(f),u=0;u<f;u++)h[u]=arguments[u];return v=g.call.apply(g,[this].concat(h))||this,v.observedBits=void 0,v.state={value:v.getValue()},v.onUpdate=function(o,d){var p=v.observedBits|0;p&d&&v.setState({value:v.getValue()})},v}var a=i.prototype;return a.componentWillReceiveProps=function(f){var h=f.observedBits;this.observedBits=h==null?Lb:h},a.componentDidMount=function(){this.context[c]&&this.context[c].on(this.onUpdate);var f=this.props.observedBits;this.observedBits=f==null?Lb:f},a.componentWillUnmount=function(){this.context[c]&&this.context[c].off(this.onUpdate)},a.getValue=function(){return this.context[c]?this.context[c].get():e},a.render=function(){return v$(this.props.children)(this.state.value)},i}(ti.Component);return s.contextTypes=(n={},n[c]=Wt.object,n),{Provider:S,Consumer:s}}var g$=ti.createContext||m$,A7=function(t){var r=g$();return r.displayName=t,r},P7=A7("Router-History"),uc=A7("Router"),Ky=function(e){Ko(t,e),t.computeRootMatch=function(c){return{path:"/",url:"/",params:{},isExact:c==="/"}};function t(n){var c;return c=e.call(this,n)||this,c.state={location:n.history.location},c._isMounted=!1,c._pendingLocation=null,n.staticContext||(c.unlisten=n.history.listen(function(S){c._pendingLocation=S})),c}var r=t.prototype;return r.componentDidMount=function(){var c=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(S){c._isMounted&&c.setState({location:S})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return ti.createElement(uc.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},ti.createElement(P7.Provider,{children:this.props.children||null,value:this.props.history}))},t}(ti.Component);ti.Component;var y$=function(e){Ko(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(c){this.props.onUpdate&&this.props.onUpdate.call(this,this,c)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},t}(ti.Component),_b={},x$=1e4,X6=0;function b$(e){if(_b[e])return _b[e];var t=D7.compile(e);return X6<x$&&(_b[e]=t,X6++),t}function Q6(e,t){return e===void 0&&(e="/"),t===void 0&&(t={}),e==="/"?e:b$(e)(t,{pretty:!0})}function hc(e){var t=e.computedMatch,r=e.to,n=e.push,c=n===void 0?!1:n;return ti.createElement(uc.Consumer,null,function(S){S||vh();var s=S.history,g=S.staticContext,i=c?s.push:s.replace,a=Ba(t?typeof r=="string"?Q6(r,t.params):Kn({},r,{pathname:Q6(r.pathname,t.params)}):r);return g?(i(a),null):ti.createElement(y$,{onMount:function(){i(a)},onUpdate:function(f,h){var u=Ba(h.to);WH(u,Kn({},a,{key:u.key}))||i(a)},to:r})})}var K6={},S$=1e4,J6=0;function w$(e,t){var r=""+t.end+t.strict+t.sensitive,n=K6[r]||(K6[r]={});if(n[e])return n[e];var c=[],S=D7(e,c,t),s={regexp:S,keys:c};return J6<S$&&(n[e]=s,J6++),s}function _3(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var r=t,n=r.path,c=r.exact,S=c===void 0?!1:c,s=r.strict,g=s===void 0?!1:s,i=r.sensitive,a=i===void 0?!1:i,v=[].concat(n);return v.reduce(function(f,h){if(!h&&h!=="")return null;if(f)return f;var u=w$(h,{end:S,strict:g,sensitive:a}),o=u.regexp,d=u.keys,p=o.exec(e);if(!p)return null;var l=p[0],m=p.slice(1),y=e===l;return S&&!y?null:{path:h,url:h==="/"&&l===""?"/":l,isExact:y,params:d.reduce(function(x,b,w){return x[b.name]=m[w],x},{})}},null)}function T$(e){return ti.Children.count(e)===0}var on=function(e){Ko(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var c=this;return ti.createElement(uc.Consumer,null,function(S){S||vh();var s=c.props.location||S.location,g=c.props.computedMatch?c.props.computedMatch:c.props.path?_3(s.pathname,c.props):S.match,i=Kn({},S,{location:s,match:g}),a=c.props,v=a.children,f=a.component,h=a.render;return Array.isArray(v)&&T$(v)&&(v=null),ti.createElement(uc.Provider,{value:i},i.match?v?typeof v=="function"?v(i):v:f?ti.createElement(f,i):h?h(i):null:typeof v=="function"?v(i):null)})},t}(ti.Component);function j3(e){return e.charAt(0)==="/"?e:"/"+e}function C$(e,t){return e?Kn({},t,{pathname:j3(e)+t.pathname}):t}function E$(e,t){if(!e)return t;var r=j3(e);return t.pathname.indexOf(r)!==0?t:Kn({},t,{pathname:t.pathname.substr(r.length)})}function Z6(e){return typeof e=="string"?e:to(e)}function jb(e){return function(){vh()}}function q6(){}ti.Component;var k$=function(e){Ko(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var c=this;return ti.createElement(uc.Consumer,null,function(S){S||vh();var s=c.props.location||S.location,g,i;return ti.Children.forEach(c.props.children,function(a){if(i==null&&ti.isValidElement(a)){g=a;var v=a.props.path||a.props.from;i=v?_3(s.pathname,Kn({},a.props,{path:v})):S.match}}),i?ti.cloneElement(g,{location:s,computedMatch:i}):null})},t}(ti.Component);function Ts(e){var t="withRouter("+(e.displayName||e.name)+")",r=function(c){var S=c.wrappedComponentRef,s=ph(c,["wrappedComponentRef"]);return ti.createElement(uc.Consumer,null,function(g){return g||vh(),ti.createElement(e,Kn({},s,g,{ref:S}))})};return r.displayName=t,r.WrappedComponent=e,n2(r,e)}var D$=ti.useContext;function A$(){return D$(P7)}var P$=function(e){Ko(t,e);function t(){for(var n,c=arguments.length,S=new Array(c),s=0;s<c;s++)S[s]=arguments[s];return n=e.call.apply(e,[this].concat(S))||this,n.history=JH(n.props),n}var r=t.prototype;return r.render=function(){return ti.createElement(Ky,{history:this.history,children:this.props.children})},t}(ti.Component);ti.Component;var s2=function(t,r){return typeof t=="function"?t(r):t},a2=function(t,r){return typeof t=="string"?Ba(t,null,null,r):t},U3=function(t){return t},Bd=ti.forwardRef;typeof Bd=="undefined"&&(Bd=U3);function R$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var I$=Bd(function(e,t){var r=e.innerRef,n=e.navigate,c=e.onClick,S=ph(e,["innerRef","navigate","onClick"]),s=S.target,g=Kn({},S,{onClick:function(a){try{c&&c(a)}catch(v){throw a.preventDefault(),v}!a.defaultPrevented&&a.button===0&&(!s||s==="_self")&&!R$(a)&&(a.preventDefault(),n())}});return U3!==Bd?g.ref=t||r:g.ref=r,ti.createElement("a",g)}),ss=Bd(function(e,t){var r=e.component,n=r===void 0?I$:r,c=e.replace,S=e.to,s=e.innerRef,g=ph(e,["component","replace","to","innerRef"]);return ti.createElement(uc.Consumer,null,function(i){i||vh();var a=i.history,v=a2(s2(S,i.location),i.location),f=v?a.createHref(v):"",h=Kn({},g,{href:f,navigate:function(){var o=s2(S,i.location),d=to(i.location)===to(a2(o)),p=c||d?a.replace:a.push;p(o)}});return U3!==Bd?h.ref=t||s:h.innerRef=s,ti.createElement(n,h)})}),R7=function(t){return t},V1=ti.forwardRef;typeof V1=="undefined"&&(V1=R7);function M$(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(n){return n}).join(" ")}V1(function(e,t){var r=e["aria-current"],n=r===void 0?"page":r,c=e.activeClassName,S=c===void 0?"active":c,s=e.activeStyle,g=e.className,i=e.exact,a=e.isActive,v=e.location,f=e.sensitive,h=e.strict,u=e.style,o=e.to,d=e.innerRef,p=ph(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return ti.createElement(uc.Consumer,null,function(l){l||vh();var m=v||l.location,y=a2(s2(o,m),m),x=y.pathname,b=x&&x.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?_3(m.pathname,{path:b,exact:i,sensitive:f,strict:h}):null,C=!!(a?a(w,m):w),E=typeof g=="function"?g(C):g,T=typeof u=="function"?u(C):u;C&&(E=M$(E,S),T=Kn({},T,s));var k=Kn({"aria-current":C&&n||null,className:E,style:T,to:y},p);return R7!==V1?k.ref=t||d:k.innerRef=d,ti.createElement(ss,k)})});function B$(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I7={exports:{}},Cs=I7.exports={},iu,ru;function o2(){throw new Error("setTimeout has not been defined")}function l2(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?iu=setTimeout:iu=o2}catch(e){iu=o2}try{typeof clearTimeout=="function"?ru=clearTimeout:ru=l2}catch(e){ru=l2}})();function M7(e){if(iu===setTimeout)return setTimeout(e,0);if((iu===o2||!iu)&&setTimeout)return iu=setTimeout,setTimeout(e,0);try{return iu(e,0)}catch(t){try{return iu.call(null,e,0)}catch(r){return iu.call(this,e,0)}}}function O$(e){if(ru===clearTimeout)return clearTimeout(e);if((ru===l2||!ru)&&clearTimeout)return ru=clearTimeout,clearTimeout(e);try{return ru(e)}catch(t){try{return ru.call(null,e)}catch(r){return ru.call(this,e)}}}var rh=[],yd=!1,ef,Ug=-1;function N$(){!yd||!ef||(yd=!1,ef.length?rh=ef.concat(rh):Ug=-1,rh.length&&B7())}function B7(){if(!yd){var e=M7(N$);yd=!0;for(var t=rh.length;t;){for(ef=rh,rh=[];++Ug<t;)ef&&ef[Ug].run();Ug=-1,t=rh.length}ef=null,yd=!1,O$(e)}}Cs.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];rh.push(new O7(e,t)),rh.length===1&&!yd&&M7(B7)};function O7(e,t){this.fun=e,this.array=t}O7.prototype.run=function(){this.fun.apply(null,this.array)};Cs.title="browser";Cs.browser=!0;Cs.env={};Cs.argv=[];Cs.version="";Cs.versions={};function mh(){}Cs.on=mh;Cs.addListener=mh;Cs.once=mh;Cs.off=mh;Cs.removeListener=mh;Cs.removeAllListeners=mh;Cs.emit=mh;Cs.prependListener=mh;Cs.prependOnceListener=mh;Cs.listeners=function(e){return[]};Cs.binding=function(e){throw new Error("process.binding is not supported")};Cs.cwd=function(){return"/"};Cs.chdir=function(e){throw new Error("process.chdir is not supported")};Cs.umask=function(){return 0};var F$=I7.exports;const lr=B$(F$),L$=Object.freeze(Object.defineProperty({__proto__:null,default:lr,process:lr},Symbol.toStringTag,{value:"Module"}));function as(e,t){if(!e)throw new Error(t)}const _$=34028234663852886e22,j$=-34028234663852886e22,U$=4294967295,z$=2147483647,G$=-2147483648;function zg(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>z$||e<G$)throw new Error("invalid int 32: "+e)}function u2(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>U$||e<0)throw new Error("invalid uint 32: "+e)}function N7(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>_$||e<j$))throw new Error("invalid float 32: "+e)}const F7=Symbol("@bufbuild/protobuf/enum-type");function H$(e){const t=e[F7];return as(t,"missing enum type on enum object"),t}function L7(e,t,r,n){e[F7]=_7(t,r.map(c=>({no:c.no,name:c.name,localName:e[c.no]})))}function _7(e,t,r){const n=Object.create(null),c=Object.create(null),S=[];for(const s of t){const g=j7(s);S.push(g),n[s.name]=g,c[s.no]=g}return{typeName:e,values:S,findName(s){return n[s]},findNumber(s){return c[s]}}}function $$(e,t,r){const n={};for(const c of t){const S=j7(c);n[S.localName]=S.no,n[S.no]=S.localName}return L7(n,e,t),n}function j7(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}let z3=class{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,r){const n=this.getType(),c=n.runtime.bin,S=c.makeReadOptions(r);return c.readMessage(this,S.readerFactory(t),t.byteLength,S),this}fromJson(t,r){const n=this.getType(),c=n.runtime.json,S=c.makeReadOptions(r);return c.readMessage(n,t,S,this),this}fromJsonString(t,r){let n;try{n=JSON.parse(t)}catch(c){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${c instanceof Error?c.message:String(c)}`)}return this.fromJson(n,r)}toBinary(t){const r=this.getType(),n=r.runtime.bin,c=n.makeWriteOptions(t),S=c.writerFactory();return n.writeMessage(this,S,c),S.finish()}toJson(t){const r=this.getType(),n=r.runtime.json,c=n.makeWriteOptions(t);return n.writeMessage(this,c)}toJsonString(t){var r;const n=this.toJson(t);return JSON.stringify(n,null,(r=t==null?void 0:t.prettySpaces)!==null&&r!==void 0?r:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}};function V$(e,t,r,n){var c;const S=(c=n==null?void 0:n.localName)!==null&&c!==void 0?c:t.substring(t.lastIndexOf(".")+1),s={[S]:function(g){e.util.initFields(this),e.util.initPartial(g,this)}}[S];return Object.setPrototypeOf(s.prototype,new z3),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(r),fromBinary(g,i){return new s().fromBinary(g,i)},fromJson(g,i){return new s().fromJson(g,i)},fromJsonString(g,i){return new s().fromJsonString(g,i)},equals(g,i){return e.util.equals(s,g,i)}}),s}function W$(){let e=0,t=0;for(let n=0;n<28;n+=7){let c=this.buf[this.pos++];if(e|=(c&127)<<n,!(c&128))return this.assertBounds(),[e,t]}let r=this.buf[this.pos++];if(e|=(r&15)<<28,t=(r&112)>>4,!(r&128))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let c=this.buf[this.pos++];if(t|=(c&127)<<n,!(c&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Ub(e,t,r){for(let S=0;S<28;S=S+7){const s=e>>>S,g=!(!(s>>>7)&&t==0),i=(g?s|128:s)&255;if(r.push(i),!g)return}const n=e>>>28&15|(t&7)<<4,c=!!(t>>3);if(r.push((c?n|128:n)&255),!!c){for(let S=3;S<31;S=S+7){const s=t>>>S,g=!!(s>>>7),i=(g?s|128:s)&255;if(r.push(i),!g)return}r.push(t>>>31&1)}}const Gg=4294967296;function t9(e){const t=e[0]==="-";t&&(e=e.slice(1));const r=1e6;let n=0,c=0;function S(s,g){const i=Number(e.slice(s,g));c*=r,n=n*r+i,n>=Gg&&(c=c+(n/Gg|0),n=n%Gg)}return S(-24,-18),S(-18,-12),S(-12,-6),S(-6),t?z7(n,c):G3(n,c)}function Y$(e,t){let r=G3(e,t);const n=r.hi&2147483648;n&&(r=z7(r.lo,r.hi));const c=U7(r.lo,r.hi);return n?"-"+c:c}function U7(e,t){if({lo:e,hi:t}=X$(e,t),t<=2097151)return String(Gg*t+e);const r=e&16777215,n=(e>>>24|t<<8)&16777215,c=t>>16&65535;let S=r+n*6777216+c*6710656,s=n+c*8147497,g=c*2;const i=1e7;return S>=i&&(s+=Math.floor(S/i),S%=i),s>=i&&(g+=Math.floor(s/i),s%=i),g.toString()+e9(s)+e9(S)}function X$(e,t){return{lo:e>>>0,hi:t>>>0}}function G3(e,t){return{lo:e|0,hi:t|0}}function z7(e,t){return t=~t,e?e=~e+1:t+=1,G3(e,t)}const e9=e=>{const t=String(e);return"0000000".slice(t.length)+t};function i9(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let r=0;r<9;r++)t.push(e&127|128),e=e>>7;t.push(1)}}function Q$(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let r=5;e&128&&r<10;r++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}var r9={};function K$(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof lr!="object"||typeof r9!="object"||r9.BUF_BIGINT_DISABLE!=="1")){const c=BigInt("-9223372036854775808"),S=BigInt("9223372036854775807"),s=BigInt("0"),g=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(i){const a=typeof i=="bigint"?i:BigInt(i);if(a>S||a<c)throw new Error(`int64 invalid: ${i}`);return a},uParse(i){const a=typeof i=="bigint"?i:BigInt(i);if(a>g||a<s)throw new Error(`uint64 invalid: ${i}`);return a},enc(i){return e.setBigInt64(0,this.parse(i),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(i){return e.setBigInt64(0,this.uParse(i),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(i,a){return e.setInt32(0,i,!0),e.setInt32(4,a,!0),e.getBigInt64(0,!0)},uDec(i,a){return e.setInt32(0,i,!0),e.setInt32(4,a,!0),e.getBigUint64(0,!0)}}}const r=c=>as(/^-?[0-9]+$/.test(c),`int64 invalid: ${c}`),n=c=>as(/^[0-9]+$/.test(c),`uint64 invalid: ${c}`);return{zero:"0",supported:!1,parse(c){return typeof c!="string"&&(c=c.toString()),r(c),c},uParse(c){return typeof c!="string"&&(c=c.toString()),n(c),c},enc(c){return typeof c!="string"&&(c=c.toString()),r(c),t9(c)},uEnc(c){return typeof c!="string"&&(c=c.toString()),n(c),t9(c)},dec(c,S){return Y$(c,S)},uDec(c,S){return U7(c,S)}}}const Sa=K$();var si;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(si||(si={}));var cc;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(cc||(cc={}));function Ah(e,t,r){if(t===r)return!0;if(e==si.BYTES){if(!(t instanceof Uint8Array)||!(r instanceof Uint8Array)||t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==r[n])return!1;return!0}switch(e){case si.UINT64:case si.FIXED64:case si.INT64:case si.SFIXED64:case si.SINT64:return t==r}return!1}function Od(e,t){switch(e){case si.BOOL:return!1;case si.UINT64:case si.FIXED64:case si.INT64:case si.SFIXED64:case si.SINT64:return t==0?Sa.zero:"0";case si.DOUBLE:case si.FLOAT:return 0;case si.BYTES:return new Uint8Array(0);case si.STRING:return"";default:return 0}}function G7(e,t){switch(e){case si.BOOL:return t===!1;case si.STRING:return t==="";case si.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var ys;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(ys||(ys={}));let J$=class{constructor(t){this.stack=[],this.textEncoder=t!=null?t:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let c=0;c<this.chunks.length;c++)t+=this.chunks[c].length;let r=new Uint8Array(t),n=0;for(let c=0;c<this.chunks.length;c++)r.set(this.chunks[c],n),n+=this.chunks[c].length;return this.chunks=[],r}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),r=this.stack.pop();if(!r)throw new Error("invalid state, fork stack empty");return this.chunks=r.chunks,this.buf=r.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,r){return this.uint32((t<<3|r)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(u2(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return zg(t),i9(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let r=this.textEncoder.encode(t);return this.uint32(r.byteLength),this.raw(r)}float(t){N7(t);let r=new Uint8Array(4);return new DataView(r.buffer).setFloat32(0,t,!0),this.raw(r)}double(t){let r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,t,!0),this.raw(r)}fixed32(t){u2(t);let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t,!0),this.raw(r)}sfixed32(t){zg(t);let r=new Uint8Array(4);return new DataView(r.buffer).setInt32(0,t,!0),this.raw(r)}sint32(t){return zg(t),t=(t<<1^t>>31)>>>0,i9(t,this.buf),this}sfixed64(t){let r=new Uint8Array(8),n=new DataView(r.buffer),c=Sa.enc(t);return n.setInt32(0,c.lo,!0),n.setInt32(4,c.hi,!0),this.raw(r)}fixed64(t){let r=new Uint8Array(8),n=new DataView(r.buffer),c=Sa.uEnc(t);return n.setInt32(0,c.lo,!0),n.setInt32(4,c.hi,!0),this.raw(r)}int64(t){let r=Sa.enc(t);return Ub(r.lo,r.hi,this.buf),this}sint64(t){let r=Sa.enc(t),n=r.hi>>31,c=r.lo<<1^n,S=(r.hi<<1|r.lo>>>31)^n;return Ub(c,S,this.buf),this}uint64(t){let r=Sa.uEnc(t);return Ub(r.lo,r.hi,this.buf),this}},Z$=class{constructor(t,r){this.varint64=W$,this.uint32=Q$,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=r!=null?r:new TextDecoder}tag(){let t=this.uint32(),r=t>>>3,n=t&7;if(r<=0||n<0||n>5)throw new Error("illegal tag: field no "+r+" wire type "+n);return[r,n]}skip(t){let r=this.pos;switch(t){case ys.Varint:for(;this.buf[this.pos++]&128;);break;case ys.Bit64:this.pos+=4;case ys.Bit32:this.pos+=4;break;case ys.LengthDelimited:let n=this.uint32();this.pos+=n;break;case ys.StartGroup:let c;for(;(c=this.tag()[1])!==ys.EndGroup;)this.skip(c);break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return Sa.dec(...this.varint64())}uint64(){return Sa.uDec(...this.varint64())}sint64(){let[t,r]=this.varint64(),n=-(t&1);return t=(t>>>1|(r&1)<<31)^n,r=r>>>1^n,Sa.dec(t,r)}bool(){let[t,r]=this.varint64();return t!==0||r!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Sa.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Sa.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),r=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(r,r+t)}string(){return this.textDecoder.decode(this.bytes())}};function q$(e,t,r,n){let c;return{typeName:t,extendee:r,get field(){if(!c){const S=typeof n=="function"?n():n;S.name=t.split(".").pop(),S.jsonName=`[${t}]`,c=e.util.newFieldList([S]).list()[0]}return c},runtime:e}}function H7(e){const t=e.field.localName,r=Object.create(null);return r[t]=tV(e),[r,()=>r[t]]}function tV(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return Od(t.T,t.L);case"message":const r=t.T,n=new r;return r.fieldWrapper?r.fieldWrapper.unwrapField(n):n;case"map":throw"map fields are not allowed to be extensions"}}function eV(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let r=e.length-1;r>=0;--r)if(e[r].no==t.no)return[e[r]];return[]}return e.filter(r=>r.no===t.no)}let Ju="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Jy=[];for(let e=0;e<Ju.length;e++)Jy[Ju[e].charCodeAt(0)]=e;Jy[45]=Ju.indexOf("+");Jy[95]=Ju.indexOf("/");const Zy={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let r=new Uint8Array(t),n=0,c=0,S,s=0;for(let g=0;g<e.length;g++){if(S=Jy[e.charCodeAt(g)],S===void 0)switch(e[g]){case"=":c=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(c){case 0:s=S,c=1;break;case 1:r[n++]=s<<2|(S&48)>>4,s=S,c=2;break;case 2:r[n++]=(s&15)<<4|(S&60)>>2,s=S,c=3;break;case 3:r[n++]=(s&3)<<6|S,c=0;break}}if(c==1)throw Error("invalid base64 string.");return r.subarray(0,n)},enc(e){let t="",r=0,n,c=0;for(let S=0;S<e.length;S++)switch(n=e[S],r){case 0:t+=Ju[n>>2],c=(n&3)<<4,r=1;break;case 1:t+=Ju[c|n>>4],c=(n&15)<<2,r=2;break;case 2:t+=Ju[c|n>>6],t+=Ju[n&63],r=0;break}return r&&(t+=Ju[c],t+="=",r==1&&(t+="=")),t}};function iV(e,t,r){V7(t,e);const n=t.runtime.bin.makeReadOptions(r),c=eV(e.getType().runtime.bin.listUnknownFields(e),t.field),[S,s]=H7(t);for(const g of c)t.runtime.bin.readField(S,n.readerFactory(g.data),t.field,g.wireType,n);return s()}function rV(e,t,r,n){V7(t,e);const c=t.runtime.bin.makeReadOptions(n),S=t.runtime.bin.makeWriteOptions(n);if($7(e,t)){const a=e.getType().runtime.bin.listUnknownFields(e).filter(v=>v.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const v of a)e.getType().runtime.bin.onUnknownField(e,v.no,v.wireType,v.data)}const s=S.writerFactory();let g=t.field;!g.opt&&!g.repeated&&(g.kind=="enum"||g.kind=="scalar")&&(g=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(g,r,s,S);const i=c.readerFactory(s.finish());for(;i.pos<i.len;){const[a,v]=i.tag(),f=i.skip(v);e.getType().runtime.bin.onUnknownField(e,a,v,f)}}function $7(e,t){const r=e.getType();return t.extendee.typeName===r.typeName&&!!r.runtime.bin.listUnknownFields(e).find(n=>n.no==t.field.no)}function V7(e,t){as(e.extendee.typeName==t.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}function W7(e,t){const r=e.localName;if(e.repeated)return t[r].length>0;if(e.oneof)return t[e.oneof.localName].case===r;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[r]!==void 0:e.kind=="enum"?t[r]!==e.T.values[0].no:!G7(e.T,t[r]);case"message":return t[r]!==void 0;case"map":return Object.keys(t[r]).length>0}}function n9(e,t){const r=e.localName,n=!e.opt&&!e.req;if(e.repeated)t[r]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[r]={};break;case"enum":t[r]=n?e.T.values[0].no:void 0;break;case"scalar":t[r]=n?Od(e.T,e.L):void 0;break;case"message":t[r]=void 0;break}}function hf(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(z3.prototype).every(n=>n in e&&typeof e[n]=="function"))return!1;const r=e.getType();return r===null||typeof r!="function"||!("typeName"in r)||typeof r.typeName!="string"?!1:t===void 0?!0:r.typeName==t.typeName}function Y7(e,t){return hf(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}si.DOUBLE,si.FLOAT,si.INT64,si.UINT64,si.INT32,si.UINT32,si.BOOL,si.STRING,si.BYTES;const s9={ignoreUnknownFields:!1},a9={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function nV(e){return e?Object.assign(Object.assign({},s9),e):s9}function sV(e){return e?Object.assign(Object.assign({},a9),e):a9}const W1=Symbol(),Hg=Symbol();function aV(){return{makeReadOptions:nV,makeWriteOptions:sV,readMessage(e,t,r,n){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message ${e.typeName} from JSON: ${nu(t)}`);n=n!=null?n:new e;const c=new Map,S=r.typeRegistry;for(const[s,g]of Object.entries(t)){const i=e.fields.findJsonName(s);if(i){if(i.oneof){if(g===null&&i.kind=="scalar")continue;const a=c.get(i.oneof);if(a!==void 0)throw new Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${i.oneof.name}" present: "${a}", "${s}"`);c.set(i.oneof,s)}o9(n,g,i,r,e)}else{let a=!1;if(S!=null&&S.findExtension&&s.startsWith("[")&&s.endsWith("]")){const v=S.findExtension(s.substring(1,s.length-1));if(v&&v.extendee.typeName==e.typeName){a=!0;const[f,h]=H7(v);o9(f,g,v.field,r,v),rV(n,v,h(),r)}}if(!a&&!r.ignoreUnknownFields)throw new Error(`cannot decode message ${e.typeName} from JSON: key "${s}" is unknown`)}}return n},writeMessage(e,t){const r=e.getType(),n={};let c;try{for(c of r.fields.byNumber()){if(!W7(c,e)){if(c.req)throw"required field not set";if(!t.emitDefaultValues||!lV(c))continue}const s=c.oneof?e[c.oneof.localName].value:e[c.localName],g=l9(c,s,t);g!==void 0&&(n[t.useProtoFieldName?c.name:c.jsonName]=g)}const S=t.typeRegistry;if(S!=null&&S.findExtensionFor)for(const s of r.runtime.bin.listUnknownFields(e)){const g=S.findExtensionFor(r.typeName,s.no);if(g&&$7(e,g)){const i=iV(e,g,t),a=l9(g.field,i,t);a!==void 0&&(n[g.field.jsonName]=a)}}}catch(S){const s=c?`cannot encode field ${r.typeName}.${c.name} to JSON`:`cannot encode message ${r.typeName} to JSON`,g=S instanceof Error?S.message:String(S);throw new Error(s+(g.length>0?`: ${g}`:""))}return n},readScalar(e,t,r){return Av(e,t,r!=null?r:cc.BIGINT,!0)},writeScalar(e,t,r){if(t!==void 0&&(r||G7(e,t)))return $g(e,t)},debug:nu}}function nu(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function o9(e,t,r,n,c){let S=r.localName;if(r.repeated){if(as(r.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${c.typeName}.${r.name} from JSON: ${nu(t)}`);const s=e[S];for(const g of t){if(g===null)throw new Error(`cannot decode field ${c.typeName}.${r.name} from JSON: ${nu(g)}`);switch(r.kind){case"message":s.push(r.T.fromJson(g,n));break;case"enum":const i=zb(r.T,g,n.ignoreUnknownFields,!0);i!==Hg&&s.push(i);break;case"scalar":try{s.push(Av(r.T,g,r.L,!0))}catch(a){let v=`cannot decode field ${c.typeName}.${r.name} from JSON: ${nu(g)}`;throw a instanceof Error&&a.message.length>0&&(v+=`: ${a.message}`),new Error(v)}break}}}else if(r.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error(`cannot decode field ${c.typeName}.${r.name} from JSON: ${nu(t)}`);const s=e[S];for(const[g,i]of Object.entries(t)){if(i===null)throw new Error(`cannot decode field ${c.typeName}.${r.name} from JSON: map value null`);let a;try{a=oV(r.K,g)}catch(v){let f=`cannot decode map key for field ${c.typeName}.${r.name} from JSON: ${nu(t)}`;throw v instanceof Error&&v.message.length>0&&(f+=`: ${v.message}`),new Error(f)}switch(r.V.kind){case"message":s[a]=r.V.T.fromJson(i,n);break;case"enum":const v=zb(r.V.T,i,n.ignoreUnknownFields,!0);v!==Hg&&(s[a]=v);break;case"scalar":try{s[a]=Av(r.V.T,i,cc.BIGINT,!0)}catch(f){let h=`cannot decode map value for field ${c.typeName}.${r.name} from JSON: ${nu(t)}`;throw f instanceof Error&&f.message.length>0&&(h+=`: ${f.message}`),new Error(h)}break}}}else switch(r.oneof&&(e=e[r.oneof.localName]={case:S},S="value"),r.kind){case"message":const s=r.T;if(t===null&&s.typeName!="google.protobuf.Value")return;let g=e[S];hf(g)?g.fromJson(t,n):(e[S]=g=s.fromJson(t,n),s.fieldWrapper&&!r.oneof&&(e[S]=s.fieldWrapper.unwrapField(g)));break;case"enum":const i=zb(r.T,t,n.ignoreUnknownFields,!1);switch(i){case W1:n9(r,e);break;case Hg:break;default:e[S]=i;break}break;case"scalar":try{const a=Av(r.T,t,r.L,!1);switch(a){case W1:n9(r,e);break;default:e[S]=a;break}}catch(a){let v=`cannot decode field ${c.typeName}.${r.name} from JSON: ${nu(t)}`;throw a instanceof Error&&a.message.length>0&&(v+=`: ${a.message}`),new Error(v)}break}}function oV(e,t){if(e===si.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return Av(e,t,cc.BIGINT,!0).toString()}function Av(e,t,r,n){if(t===null)return n?Od(e,r):W1;switch(e){case si.DOUBLE:case si.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const c=Number(t);if(Number.isNaN(c)||!Number.isFinite(c))break;return e==si.FLOAT&&N7(c),c;case si.INT32:case si.FIXED32:case si.SFIXED32:case si.SINT32:case si.UINT32:let S;if(typeof t=="number"?S=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(S=Number(t)),S===void 0)break;return e==si.UINT32||e==si.FIXED32?u2(S):zg(S),S;case si.INT64:case si.SFIXED64:case si.SINT64:if(typeof t!="number"&&typeof t!="string")break;const s=Sa.parse(t);return r?s.toString():s;case si.FIXED64:case si.UINT64:if(typeof t!="number"&&typeof t!="string")break;const g=Sa.uParse(t);return r?g.toString():g;case si.BOOL:if(typeof t!="boolean")break;return t;case si.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch(i){throw new Error("invalid UTF8")}return t;case si.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return Zy.dec(t)}throw new Error}function zb(e,t,r,n){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:n?e.values[0].no:W1;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const c=e.findName(t);if(c!==void 0)return c.no;if(r)return Hg;break}throw new Error(`cannot decode enum ${e.typeName} from JSON: ${nu(t)}`)}function lV(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function l9(e,t,r){if(e.kind=="map"){as(typeof t=="object"&&t!=null);const n={},c=Object.entries(t);switch(e.V.kind){case"scalar":for(const[s,g]of c)n[s.toString()]=$g(e.V.T,g);break;case"message":for(const[s,g]of c)n[s.toString()]=g.toJson(r);break;case"enum":const S=e.V.T;for(const[s,g]of c)n[s.toString()]=Gb(S,g,r.enumAsInteger);break}return r.emitDefaultValues||c.length>0?n:void 0}if(e.repeated){as(Array.isArray(t));const n=[];switch(e.kind){case"scalar":for(let c=0;c<t.length;c++)n.push($g(e.T,t[c]));break;case"enum":for(let c=0;c<t.length;c++)n.push(Gb(e.T,t[c],r.enumAsInteger));break;case"message":for(let c=0;c<t.length;c++)n.push(t[c].toJson(r));break}return r.emitDefaultValues||n.length>0?n:void 0}switch(e.kind){case"scalar":return $g(e.T,t);case"enum":return Gb(e.T,t,r.enumAsInteger);case"message":return Y7(e.T,t).toJson(r)}}function Gb(e,t,r){var n;if(as(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(r)return t;const c=e.findNumber(t);return(n=c==null?void 0:c.name)!==null&&n!==void 0?n:t}function $g(e,t){switch(e){case si.INT32:case si.SFIXED32:case si.SINT32:case si.FIXED32:case si.UINT32:return as(typeof t=="number"),t;case si.FLOAT:case si.DOUBLE:return as(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case si.STRING:return as(typeof t=="string"),t;case si.BOOL:return as(typeof t=="boolean"),t;case si.UINT64:case si.FIXED64:case si.INT64:case si.SFIXED64:case si.SINT64:return as(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case si.BYTES:return as(t instanceof Uint8Array),Zy.enc(t)}}const _f=Symbol("@bufbuild/protobuf/unknown-fields"),u9={readUnknownFields:!0,readerFactory:e=>new Z$(e)},h9={writeUnknownFields:!0,writerFactory:()=>new J$};function uV(e){return e?Object.assign(Object.assign({},u9),e):u9}function hV(e){return e?Object.assign(Object.assign({},h9),e):h9}function cV(){return{makeReadOptions:uV,makeWriteOptions:hV,listUnknownFields(e){var t;return(t=e[_f])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[_f]},writeUnknownFields(e,t){const n=e[_f];if(n)for(const c of n)t.tag(c.no,c.wireType).raw(c.data)},onUnknownField(e,t,r,n){const c=e;Array.isArray(c[_f])||(c[_f]=[]),c[_f].push({no:t,wireType:r,data:n})},readMessage(e,t,r,n,c){const S=e.getType(),s=c?t.len:t.pos+r;let g,i;for(;t.pos<s&&([g,i]=t.tag(),i!=ys.EndGroup);){const a=S.fields.find(g);if(!a){const v=t.skip(i);n.readUnknownFields&&this.onUnknownField(e,g,i,v);continue}c9(e,t,a,i,n)}if(c&&(i!=ys.EndGroup||g!==r))throw new Error("invalid end group tag")},readField:c9,writeMessage(e,t,r){const n=e.getType();for(const c of n.fields.byNumber()){if(!W7(c,e)){if(c.req)throw new Error(`cannot encode field ${n.typeName}.${c.name} to binary: required field not set`);continue}const S=c.oneof?e[c.oneof.localName].value:e[c.localName];f9(c,S,t,r)}return r.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,r,n){t!==void 0&&f9(e,t,r,n)}}}function c9(e,t,r,n,c){let{repeated:S,localName:s}=r;switch(r.oneof&&(e=e[r.oneof.localName],e.case!=s&&delete e.value,e.case=s,s="value"),r.kind){case"scalar":case"enum":const g=r.kind=="enum"?si.INT32:r.T;let i=Y1;if(r.kind=="scalar"&&r.L>0&&(i=dV),S){let h=e[s];if(n==ys.LengthDelimited&&g!=si.STRING&&g!=si.BYTES){let o=t.uint32()+t.pos;for(;t.pos<o;)h.push(i(t,g))}else h.push(i(t,g))}else e[s]=i(t,g);break;case"message":const a=r.T;S?e[s].push(Vg(t,new a,c,r)):hf(e[s])?Vg(t,e[s],c,r):(e[s]=Vg(t,new a,c,r),a.fieldWrapper&&!r.oneof&&!r.repeated&&(e[s]=a.fieldWrapper.unwrapField(e[s])));break;case"map":let[v,f]=fV(r,t,c);e[s][v]=f;break}}function Vg(e,t,r,n){const c=t.getType().runtime.bin,S=n==null?void 0:n.delimited;return c.readMessage(t,e,S?n.no:e.uint32(),r,S),t}function fV(e,t,r){const n=t.uint32(),c=t.pos+n;let S,s;for(;t.pos<c;){const[g]=t.tag();switch(g){case 1:S=Y1(t,e.K);break;case 2:switch(e.V.kind){case"scalar":s=Y1(t,e.V.T);break;case"enum":s=t.int32();break;case"message":s=Vg(t,new e.V.T,r,void 0);break}break}}if(S===void 0&&(S=Od(e.K,cc.BIGINT)),typeof S!="string"&&typeof S!="number"&&(S=S.toString()),s===void 0)switch(e.V.kind){case"scalar":s=Od(e.V.T,cc.BIGINT);break;case"enum":s=e.V.T.values[0].no;break;case"message":s=new e.V.T;break}return[S,s]}function dV(e,t){const r=Y1(e,t);return typeof r=="bigint"?r.toString():r}function Y1(e,t){switch(t){case si.STRING:return e.string();case si.BOOL:return e.bool();case si.DOUBLE:return e.double();case si.FLOAT:return e.float();case si.INT32:return e.int32();case si.INT64:return e.int64();case si.UINT64:return e.uint64();case si.FIXED64:return e.fixed64();case si.BYTES:return e.bytes();case si.FIXED32:return e.fixed32();case si.SFIXED32:return e.sfixed32();case si.SFIXED64:return e.sfixed64();case si.SINT64:return e.sint64();case si.UINT32:return e.uint32();case si.SINT32:return e.sint32()}}function f9(e,t,r,n){as(t!==void 0);const c=e.repeated;switch(e.kind){case"scalar":case"enum":let S=e.kind=="enum"?si.INT32:e.T;if(c)if(as(Array.isArray(t)),e.packed)vV(r,S,e.no,t);else for(const s of t)Pv(r,S,e.no,s);else Pv(r,S,e.no,t);break;case"message":if(c){as(Array.isArray(t));for(const s of t)d9(r,n,e,s)}else d9(r,n,e,t);break;case"map":as(typeof t=="object"&&t!=null);for(const[s,g]of Object.entries(t))pV(r,n,e,s,g);break}}function pV(e,t,r,n,c){e.tag(r.no,ys.LengthDelimited),e.fork();let S=n;switch(r.K){case si.INT32:case si.FIXED32:case si.UINT32:case si.SFIXED32:case si.SINT32:S=Number.parseInt(n);break;case si.BOOL:as(n=="true"||n=="false"),S=n=="true";break}switch(Pv(e,r.K,1,S),r.V.kind){case"scalar":Pv(e,r.V.T,2,c);break;case"enum":Pv(e,si.INT32,2,c);break;case"message":as(c!==void 0),e.tag(2,ys.LengthDelimited).bytes(c.toBinary(t));break}e.join()}function d9(e,t,r,n){const c=Y7(r.T,n);r.delimited?e.tag(r.no,ys.StartGroup).raw(c.toBinary(t)).tag(r.no,ys.EndGroup):e.tag(r.no,ys.LengthDelimited).bytes(c.toBinary(t))}function Pv(e,t,r,n){as(n!==void 0);let[c,S]=X7(t);e.tag(r,c)[S](n)}function vV(e,t,r,n){if(!n.length)return;e.tag(r,ys.LengthDelimited).fork();let[,c]=X7(t);for(let S=0;S<n.length;S++)e[c](n[S]);e.join()}function X7(e){let t=ys.Varint;switch(e){case si.BYTES:case si.STRING:t=ys.LengthDelimited;break;case si.DOUBLE:case si.FIXED64:case si.SFIXED64:t=ys.Bit64;break;case si.FIXED32:case si.SFIXED32:case si.FLOAT:t=ys.Bit32;break}const r=si[e].toLowerCase();return[t,r]}function mV(){return{setEnumType:L7,initPartial(e,t){if(e===void 0)return;const r=t.getType();for(const n of r.fields.byMember()){const c=n.localName,S=t,s=e;if(s[c]!==void 0)switch(n.kind){case"oneof":const g=s[c].case;if(g===void 0)continue;const i=n.findField(g);let a=s[c].value;i&&i.kind=="message"&&!hf(a,i.T)?a=new i.T(a):i&&i.kind==="scalar"&&i.T===si.BYTES&&(a=_p(a)),S[c]={case:g,value:a};break;case"scalar":case"enum":let v=s[c];n.T===si.BYTES&&(v=n.repeated?v.map(_p):_p(v)),S[c]=v;break;case"map":switch(n.V.kind){case"scalar":case"enum":if(n.V.T===si.BYTES)for(const[u,o]of Object.entries(s[c]))S[c][u]=_p(o);else Object.assign(S[c],s[c]);break;case"message":const h=n.V.T;for(const u of Object.keys(s[c])){let o=s[c][u];h.fieldWrapper||(o=new h(o)),S[c][u]=o}break}break;case"message":const f=n.T;if(n.repeated)S[c]=s[c].map(h=>hf(h,f)?h:new f(h));else{const h=s[c];f.fieldWrapper?f.typeName==="google.protobuf.BytesValue"?S[c]=_p(h):S[c]=h:S[c]=hf(h,f)?h:new f(h)}break}}},equals(e,t,r){return t===r?!0:!t||!r?!1:e.fields.byMember().every(n=>{const c=t[n.localName],S=r[n.localName];if(n.repeated){if(c.length!==S.length)return!1;switch(n.kind){case"message":return c.every((s,g)=>n.T.equals(s,S[g]));case"scalar":return c.every((s,g)=>Ah(n.T,s,S[g]));case"enum":return c.every((s,g)=>Ah(si.INT32,s,S[g]))}throw new Error(`repeated cannot contain ${n.kind}`)}switch(n.kind){case"message":return n.T.equals(c,S);case"enum":return Ah(si.INT32,c,S);case"scalar":return Ah(n.T,c,S);case"oneof":if(c.case!==S.case)return!1;const s=n.findField(c.case);if(s===void 0)return!0;switch(s.kind){case"message":return s.T.equals(c.value,S.value);case"enum":return Ah(si.INT32,c.value,S.value);case"scalar":return Ah(s.T,c.value,S.value)}throw new Error(`oneof cannot contain ${s.kind}`);case"map":const g=Object.keys(c).concat(Object.keys(S));switch(n.V.kind){case"message":const i=n.V.T;return g.every(v=>i.equals(c[v],S[v]));case"enum":return g.every(v=>Ah(si.INT32,c[v],S[v]));case"scalar":const a=n.V.T;return g.every(v=>Ah(a,c[v],S[v]))}break}})},clone(e){const t=e.getType(),r=new t,n=r;for(const c of t.fields.byMember()){const S=e[c.localName];let s;if(c.repeated)s=S.map(L0);else if(c.kind=="map"){s=n[c.localName];for(const[g,i]of Object.entries(S))s[g]=L0(i)}else c.kind=="oneof"?s=c.findField(S.case)?{case:S.case,value:L0(S.value)}:{case:void 0}:s=L0(S);n[c.localName]=s}for(const c of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(n,c.no,c.wireType,c.data);return r}}}function L0(e){if(e===void 0)return e;if(hf(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function _p(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function gV(e,t,r){return{syntax:e,json:aV(),bin:cV(),util:Object.assign(Object.assign({},mV()),{newFieldList:t,initFields:r}),makeMessageType(n,c,S){return V$(this,n,c,S)},makeEnum:$$,makeEnumType:_7,getEnumType:H$,makeExtension(n,c,S){return q$(this,n,c,S)}}}let yV=class{constructor(t,r){this._fields=t,this._normalizer=r}findJsonName(t){if(!this.jsonNames){const r={};for(const n of this.list())r[n.jsonName]=r[n.name]=n;this.jsonNames=r}return this.jsonNames[t]}find(t){if(!this.numbers){const r={};for(const n of this.list())r[n.no]=n;this.numbers=r}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,r)=>t.no-r.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let r;for(const n of this.list())n.oneof?n.oneof!==r&&(r=n.oneof,t.push(r)):t.push(n)}return this.members}};function Q7(e,t){const r=K7(e);return t?r:CV(TV(r))}function xV(e){return Q7(e,!1)}const bV=K7;function K7(e){let t=!1;const r=[];for(let n=0;n<e.length;n++){let c=e.charAt(n);switch(c){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r.push(c),t=!1;break;default:t&&(t=!1,c=c.toUpperCase()),r.push(c);break}}return r.join("")}const SV=new Set(["constructor","toString","toJSON","valueOf"]),wV=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),J7=e=>`${e}$`,TV=e=>wV.has(e)?J7(e):e,CV=e=>SV.has(e)?J7(e):e;let EV=class{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=xV(t)}addField(t){as(t.oneof===this,`field ${t.name} not one of ${this.name}`),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let r=0;r<this.fields.length;r++)this._lookup[this.fields[r].localName]=this.fields[r]}return this._lookup[t]}};function kV(e,t){var r,n,c,S,s,g;const i=[];let a;for(const v of typeof e=="function"?e():e){const f=v;if(f.localName=Q7(v.name,v.oneof!==void 0),f.jsonName=(r=v.jsonName)!==null&&r!==void 0?r:bV(v.name),f.repeated=(n=v.repeated)!==null&&n!==void 0?n:!1,v.kind=="scalar"&&(f.L=(c=v.L)!==null&&c!==void 0?c:cc.BIGINT),f.delimited=(S=v.delimited)!==null&&S!==void 0?S:!1,f.req=(s=v.req)!==null&&s!==void 0?s:!1,f.opt=(g=v.opt)!==null&&g!==void 0?g:!1,v.packed===void 0&&(f.packed=v.kind=="enum"||v.kind=="scalar"&&v.T!=si.BYTES&&v.T!=si.STRING),v.oneof!==void 0){const h=typeof v.oneof=="string"?v.oneof:v.oneof.name;(!a||a.name!=h)&&(a=new EV(h)),f.oneof=a,a.addField(f)}i.push(f)}return i}const $i=gV("proto3",e=>new yV(e,t=>kV(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const r=t.localName,n=e;if(t.repeated){n[r]=[];continue}switch(t.kind){case"oneof":n[r]={case:void 0};break;case"enum":n[r]=0;break;case"map":n[r]={};break;case"scalar":n[r]=Od(t.T,t.L);break}}});var rn;(function(e){e[e.Unary=0]="Unary",e[e.ServerStreaming=1]="ServerStreaming",e[e.ClientStreaming=2]="ClientStreaming",e[e.BiDiStreaming=3]="BiDiStreaming"})(rn||(rn={}));var h2;(function(e){e[e.NoSideEffects=1]="NoSideEffects",e[e.Idempotent=2]="Idempotent"})(h2||(h2={}));class Go extends z3{constructor(t){super(),this.seconds=Sa.zero,this.nanos=0,$i.util.initPartial(t,this)}fromJson(t,r){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${$i.json.debug(t)}`);const n=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const c=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(c))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(c<Date.parse("0001-01-01T00:00:00Z")||c>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Sa.parse(c/1e3),this.nanos=0,n[7]&&(this.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),this}toJson(t){const r=Number(this.seconds)*1e3;if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let n="Z";if(this.nanos>0){const c=(this.nanos+1e9).toString().substring(1);c.substring(3)==="000000"?n="."+c.substring(0,3)+"Z":c.substring(6)==="000"?n="."+c.substring(0,6)+"Z":n="."+c+"Z"}return new Date(r).toISOString().replace(".000Z",n)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Go.fromDate(new Date)}static fromDate(t){const r=t.getTime();return new Go({seconds:Sa.parse(Math.floor(r/1e3)),nanos:r%1e3*1e6})}static fromBinary(t,r){return new Go().fromBinary(t,r)}static fromJson(t,r){return new Go().fromJson(t,r)}static fromJsonString(t,r){return new Go().fromJsonString(t,r)}static equals(t,r){return $i.util.equals(Go,t,r)}}Go.runtime=$i;Go.typeName="google.protobuf.Timestamp";Go.fields=$i.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);var Jr;(function(e){e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"})(Jr||(Jr={}));function c2(e){const t=Jr[e];return typeof t!="string"?e.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,r=>"_"+r.toLowerCase())}let _0;function DV(e){if(!_0){_0={};for(const t of Object.values(Jr))typeof t!="string"&&(_0[c2(t)]=t)}return _0[e]}class Fs extends Error{constructor(t,r=Jr.Unknown,n,c,S){super(AV(t,r)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=t,this.code=r,this.metadata=new Headers(n!=null?n:{}),this.details=c!=null?c:[],this.cause=S}static from(t,r=Jr.Unknown){return t instanceof Fs?t:t instanceof Error?t.name=="AbortError"?new Fs(t.message,Jr.Canceled):new Fs(t.message,r,void 0,void 0,t):new Fs(String(t),r,void 0,void 0,t)}static[Symbol.hasInstance](t){return t instanceof Error?Object.getPrototypeOf(t)===Fs.prototype?!0:t.name==="ConnectError"&&"code"in t&&typeof t.code=="number"&&"metadata"in t&&"details"in t&&Array.isArray(t.details)&&"rawMessage"in t&&typeof t.rawMessage=="string"&&"cause"in t:!1}findDetails(t){const r="typeName"in t?{findMessage:c=>c===t.typeName?t:void 0}:t,n=[];for(const c of this.details){if("getType"in c){r.findMessage(c.getType().typeName)&&n.push(c);continue}const S=r.findMessage(c.type);if(S)try{n.push(S.fromBinary(c.value))}catch(s){}}return n}}function AV(e,t){return e.length?`[${c2(t)}] ${e}`:`[${c2(t)}]`}function PV(...e){const t=new Headers;for(const r of e)r.forEach((n,c)=>{t.append(c,n)});return t}function RV(e,t){const r={};for(const[n,c]of Object.entries(e.methods)){const S=t(Object.assign(Object.assign({},c),{localName:n,service:e}));S!=null&&(r[n]=S)}return r}function IV(e){let t,r=new Uint8Array(0);function n(S){const s=new Uint8Array(r.length+S.length);s.set(r),s.set(S,r.length),r=s}return new ReadableStream({start(){t=e.getReader()},pull(S){return oi(this,null,function*(){let s;for(;;){if(s===void 0&&r.byteLength>=5){let a=0;for(let v=1;v<5;v++)a=(a<<8)+r[v];s={flags:r[0],length:a}}if(s!==void 0&&r.byteLength>=s.length+5)break;const i=yield t.read();if(i.done)break;n(i.value)}if(s===void 0){if(r.byteLength==0){S.close();return}S.error(new Fs("premature end of stream",Jr.DataLoss));return}const g=r.subarray(5,5+s.length);r=r.subarray(5+s.length),S.enqueue({flags:s.flags,data:g})})}})}function MV(e,t){const r=new Uint8Array(t.length+5);r.set(t,5);const n=new DataView(r.buffer,r.byteOffset,r.byteLength);return n.setUint8(0,e),n.setUint32(1,t.length),r}var BV=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(S){r[S]=e[S]&&function(s){return new Promise(function(g,i){s=e[S](s),c(g,i,s.done,s.value)})}}function c(S,s,g,i){Promise.resolve(i).then(function(a){S({value:a,done:g})},s)}},sm=function(e){return this instanceof sm?(this.v=e,this):new sm(e)},OV=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),c,S=[];return c={},g("next"),g("throw"),g("return",s),c[Symbol.asyncIterator]=function(){return this},c;function s(u){return function(o){return Promise.resolve(o).then(u,f)}}function g(u,o){n[u]&&(c[u]=function(d){return new Promise(function(p,l){S.push([u,d,p,l])>1||i(u,d)})},o&&(c[u]=o(c[u])))}function i(u,o){try{a(n[u](o))}catch(d){h(S[0][3],d)}}function a(u){u.value instanceof sm?Promise.resolve(u.value.v).then(v,f):h(S[0][2],u)}function v(u){i("next",u)}function f(u){i("throw",u)}function h(u,o){u(o),S.shift(),S.length&&i(S[0][0],S[0][1])}},NV=function(e){var t,r;return t={},n("next"),n("throw",function(c){throw c}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(c,S){t[c]=e[c]?function(s){return(r=!r)?{value:sm(e[c](s)),done:!1}:S?S(s):s}:S}};function FV(e){return OV(this,arguments,function*(){yield sm(yield*vb(NV(BV(e))))})}var Z7=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(S){r[S]=e[S]&&function(s){return new Promise(function(g,i){s=e[S](s),c(g,i,s.done,s.value)})}}function c(S,s,g,i){Promise.resolve(i).then(function(a){S({value:a,done:g})},s)}},Nd=function(e){return this instanceof Nd?(this.v=e,this):new Nd(e)},LV=function(e){var t,r;return t={},n("next"),n("throw",function(c){throw c}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(c,S){t[c]=e[c]?function(s){return(r=!r)?{value:Nd(e[c](s)),done:!1}:S?S(s):s}:S}},_V=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),c,S=[];return c={},g("next"),g("throw"),g("return",s),c[Symbol.asyncIterator]=function(){return this},c;function s(u){return function(o){return Promise.resolve(o).then(u,f)}}function g(u,o){n[u]&&(c[u]=function(d){return new Promise(function(p,l){S.push([u,d,p,l])>1||i(u,d)})},o&&(c[u]=o(c[u])))}function i(u,o){try{a(n[u](o))}catch(d){h(S[0][3],d)}}function a(u){u.value instanceof Nd?Promise.resolve(u.value.v).then(v,f):h(S[0][2],u)}function v(u){i("next",u)}function f(u){i("throw",u)}function h(u,o){u(o),S.shift(),S.length&&i(S[0][0],S[0][1])}};function jV(e,t){return RV(e,r=>{switch(r.kind){case rn.Unary:return UV(t,e,r);case rn.ServerStreaming:return zV(t,e,r);case rn.ClientStreaming:return GV(t,e,r);case rn.BiDiStreaming:return HV(t,e,r);default:return null}})}function UV(e,t,r){return function(n,c){return oi(this,null,function*(){var S,s;const g=yield e.unary(t,r,c==null?void 0:c.signal,c==null?void 0:c.timeoutMs,c==null?void 0:c.headers,n,c==null?void 0:c.contextValues);return(S=c==null?void 0:c.onHeader)===null||S===void 0||S.call(c,g.header),(s=c==null?void 0:c.onTrailer)===null||s===void 0||s.call(c,g.trailer),g.message})}}function zV(e,t,r){return function(n,c){return q7(e.stream(t,r,c==null?void 0:c.signal,c==null?void 0:c.timeoutMs,c==null?void 0:c.headers,FV([n]),c==null?void 0:c.contextValues),c)}}function GV(e,t,r){return function(n,c){return oi(this,null,function*(){var S,s,g,i,a,v;const f=yield e.stream(t,r,c==null?void 0:c.signal,c==null?void 0:c.timeoutMs,c==null?void 0:c.headers,n,c==null?void 0:c.contextValues);(a=c==null?void 0:c.onHeader)===null||a===void 0||a.call(c,f.header);let h;try{for(var u=!0,o=Z7(f.message),d;d=yield o.next(),S=d.done,!S;u=!0)i=d.value,u=!1,h=i}catch(p){s={error:p}}finally{try{!u&&!S&&(g=o.return)&&(yield g.call(o))}finally{if(s)throw s.error}}if(!h)throw new Fs("protocol error: missing response message",Jr.Internal);return(v=c==null?void 0:c.onTrailer)===null||v===void 0||v.call(c,f.trailer),h})}}function HV(e,t,r){return function(n,c){return q7(e.stream(t,r,c==null?void 0:c.signal,c==null?void 0:c.timeoutMs,c==null?void 0:c.headers,n,c==null?void 0:c.contextValues),c)}}function q7(e,t){const r=function(){var n,c;return _V(this,arguments,function*(){const S=yield Nd(e);(n=t==null?void 0:t.onHeader)===null||n===void 0||n.call(t,S.header),yield Nd(yield*vb(LV(Z7(S.message)))),(c=t==null?void 0:t.onTrailer)===null||c===void 0||c.call(t,S.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>r.next()})}}function $V(...e){const t=new AbortController,r=e.filter(c=>c!==void 0).concat(t.signal);for(const c of r){if(c.aborted){n.apply(c);break}c.addEventListener("abort",n)}function n(){t.signal.aborted||t.abort(tM(this));for(const c of r)c.removeEventListener("abort",n)}return t}function VV(e){const t=new AbortController,r=()=>{t.abort(new Fs("the operation timed out",Jr.DeadlineExceeded))};let n;return e!==void 0&&(e<=0?r():n=setTimeout(r,e)),{signal:t.signal,cleanup:()=>clearTimeout(n)}}function tM(e){if(!e.aborted)return;if(e.reason!==void 0)return e.reason;const t=new Error("This operation was aborted");return t.name="AbortError",t}function p9(){return{get(e){return e.id in this?this[e.id]:e.defaultValue},set(e,t){return this[e.id]=t,this},delete(e){return delete this[e.id],this}}}function v9(e,t,r){const n=typeof t=="string"?t:t.typeName,c=typeof r=="string"?r:r.name;return e.toString().replace(/\/?$/,`/${n}/${c}`)}function eM(e,t){return t instanceof e?t:new e(t)}function WV(e,t){function r(n){return n.done===!0?n:{done:n.done,value:eM(e,n.value)}}return{[Symbol.asyncIterator](){const n=t[Symbol.asyncIterator](),c={next:()=>n.next().then(r)};return n.throw!==void 0&&(c.throw=S=>n.throw(S).then(r)),n.return!==void 0&&(c.return=S=>n.return(S).then(r)),c}}}function iM(e,t){var r;return(r=t==null?void 0:t.concat().reverse().reduce((n,c)=>c(n),e))!==null&&r!==void 0?r:e}function rM(e){var t;const r=Object.assign({},e);return(t=r.ignoreUnknownFields)!==null&&t!==void 0||(r.ignoreUnknownFields=!0),r}function m9(e,t,r,n){const c=t?g9(e.I,n):y9(e.I,r);return{parse:(t?g9(e.O,n):y9(e.O,r)).parse,serialize:c.serialize}}function g9(e,t){return{parse(r){try{return e.fromBinary(r,t)}catch(n){const c=n instanceof Error?n.message:String(n);throw new Fs(`parse binary: ${c}`,Jr.InvalidArgument)}},serialize(r){try{return r.toBinary(t)}catch(n){const c=n instanceof Error?n.message:String(n);throw new Fs(`serialize binary: ${c}`,Jr.Internal)}}}}function y9(e,t){var r,n;const c=(r=t==null?void 0:t.textEncoder)!==null&&r!==void 0?r:new TextEncoder,S=(n=t==null?void 0:t.textDecoder)!==null&&n!==void 0?n:new TextDecoder,s=rM(t);return{parse(g){try{const i=S.decode(g);return e.fromJsonString(i,s)}catch(i){throw Fs.from(i,Jr.InvalidArgument)}},serialize(g){try{const i=g.toJsonString(s);return c.encode(i)}catch(i){throw Fs.from(i,Jr.Internal)}}}}const YV=/^application\/(connect\+)?(?:(json)(?:; ?charset=utf-?8)?|(proto))$/i,XV="application/proto",QV="application/json",KV="application/connect+proto",JV="application/connect+json";function ZV(e){const t=e==null?void 0:e.match(YV);if(!t)return;const r=!!t[1],n=!!t[3];return{stream:r,binary:n}}function nM(e,t,r){if(t&&new Headers(t).forEach((s,g)=>r.metadata.append(g,s)),typeof e!="object"||e==null||Array.isArray(e)||!("code"in e)||typeof e.code!="string")throw r;const n=DV(e.code);if(n===void 0)throw r;const c=e.message;if(c!=null&&typeof c!="string")throw r;const S=new Fs(c!=null?c:"",n,t);if("details"in e&&Array.isArray(e.details))for(const s of e.details){if(s===null||typeof s!="object"||Array.isArray(s)||typeof s.type!="string"||typeof s.value!="string"||"debug"in s&&typeof s.debug!="object")throw r;try{S.details.push({type:s.type,value:Zy.dec(s.value),debug:s.debug})}catch(g){throw r}}return S}const x9=2;function qV(e){const t=new Fs("invalid end stream",Jr.InvalidArgument);let r;try{r=JSON.parse(typeof e=="string"?e:new TextDecoder().decode(e))}catch(S){throw t}if(typeof r!="object"||r==null||Array.isArray(r))throw t;const n=new Headers;if("metadata"in r){if(typeof r.metadata!="object"||r.metadata==null||Array.isArray(r.metadata))throw t;for(const[S,s]of Object.entries(r.metadata)){if(!Array.isArray(s)||s.some(g=>typeof g!="string"))throw t;for(const g of s)n.append(S,g)}}const c="error"in r?nM(r.error,n,t):void 0;return{metadata:n,error:c}}const f2="Content-Type",tW="Content-Length",b9="Content-Encoding",eW="Accept-Encoding",iW="Connect-Timeout-Ms",sM="Connect-Protocol-Version";function rW(e){switch(e){case 400:return Jr.InvalidArgument;case 401:return Jr.Unauthenticated;case 403:return Jr.PermissionDenied;case 404:return Jr.Unimplemented;case 408:return Jr.DeadlineExceeded;case 409:return Jr.Aborted;case 412:return Jr.FailedPrecondition;case 413:return Jr.ResourceExhausted;case 415:return Jr.Internal;case 429:return Jr.Unavailable;case 431:return Jr.ResourceExhausted;case 502:return Jr.Unavailable;case 503:return Jr.Unavailable;case 504:return Jr.Unavailable;default:return Jr.Unknown}}function S9(e){const t=new Headers,r=new Headers;return e.forEach((n,c)=>{c.toLowerCase().startsWith("trailer-")?r.set(c.substring(8),n):t.set(c,n)}),[t,r]}const aM="1";function w9(e,t,r,n,c){const S=new Headers(n!=null?n:{});return r!==void 0&&S.set(iW,`${r}`),S.set(f2,e==rn.Unary?t?XV:QV:t?KV:JV),S.set(sM,aM),S}function T9(e,t,r){const n=r.get("Content-Type"),c=ZV(n);if(t!==200){const S=new Fs(`HTTP ${t}`,rW(t),r);if(e==rn.Unary&&c&&!c.binary)return{isUnaryError:!0,unaryError:S};throw S}return{isUnaryError:!1}}const C9="application/";function nW(e,t){return t?Zy.enc(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):encodeURIComponent(new TextDecoder().decode(e))}function sW(e,t,r){let n=`?connect=v${aM}`;const c=e.header.get(f2);(c==null?void 0:c.indexOf(C9))===0&&(n+="&encoding="+encodeURIComponent(c.slice(C9.length)));const S=e.header.get(b9);S!==null&&S!=="identity"&&(n+="&compression="+encodeURIComponent(S),r=!0),r&&(n+="&base64=1"),n+="&message="+nW(t,r);const s=e.url+n,g=new Headers(e.header);return[sM,f2,tW,b9,eW].forEach(i=>g.delete(i)),Object.assign(Object.assign({},e),{init:Object.assign(Object.assign({},e.init),{method:"GET"}),url:s,header:g})}function aW(e){const t=iM(e.next,e.interceptors),[r,n,c]=oM(e),S=Object.assign(Object.assign({},e.req),{message:eM(e.req.method.I,e.req.message),signal:r});return t(S).then(s=>(c(),s),n)}function oW(e){const t=iM(e.next,e.interceptors),[r,n,c]=oM(e),S=Object.assign(Object.assign({},e.req),{message:WV(e.req.method.I,e.req.message),signal:r});let s=!1;return r.addEventListener("abort",function(){var g,i;const a=e.req.message[Symbol.asyncIterator]();s||(g=a.throw)===null||g===void 0||g.call(a,this.reason).catch(()=>{}),(i=a.return)===null||i===void 0||i.call(a).catch(()=>{})}),t(S).then(g=>Object.assign(Object.assign({},g),{message:{[Symbol.asyncIterator](){const i=g.message[Symbol.asyncIterator]();return{next(){return i.next().then(a=>(a.done==!0&&(s=!0,c()),a),n)}}}}}),n)}function oM(e){const{signal:t,cleanup:r}=VV(e.timeoutMs),n=$V(e.signal,t);return[n.signal,function(S){const s=Fs.from(t.aborted?tM(t):S);return n.abort(s),r(),Promise.reject(s)},function(){r(),n.abort()}]}function lW(){try{new Headers}catch(e){throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}var am=function(e){return this instanceof am?(this.v=e,this):new am(e)},uW=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),c,S=[];return c={},g("next"),g("throw"),g("return",s),c[Symbol.asyncIterator]=function(){return this},c;function s(u){return function(o){return Promise.resolve(o).then(u,f)}}function g(u,o){n[u]&&(c[u]=function(d){return new Promise(function(p,l){S.push([u,d,p,l])>1||i(u,d)})},o&&(c[u]=o(c[u])))}function i(u,o){try{a(n[u](o))}catch(d){h(S[0][3],d)}}function a(u){u.value instanceof am?Promise.resolve(u.value.v).then(v,f):h(S[0][2],u)}function v(u){i("next",u)}function f(u){i("throw",u)}function h(u,o){u(o),S.shift(),S.length&&i(S[0][0],S[0][1])}};function hW(e){var t;lW();const r=(t=e.useBinaryFormat)!==null&&t!==void 0?t:!1;return{unary(c,S,s,g,i,a,v){return oi(this,null,function*(){var f;const{serialize:h,parse:u}=m9(S,r,e.jsonOptions,e.binaryOptions);return g=g===void 0?e.defaultTimeoutMs:g<=0?void 0:g,yield aW({interceptors:e.interceptors,signal:s,timeoutMs:g,req:{stream:!1,service:c,method:S,url:v9(e.baseUrl,c,S),init:{method:"POST",credentials:(f=e.credentials)!==null&&f!==void 0?f:"same-origin",redirect:"error",mode:"cors"},header:w9(S.kind,r,g,i),contextValues:v!=null?v:p9(),message:a},next:o=>oi(this,null,function*(){var d;const p=e.useHttpGet===!0&&S.idempotency===h2.NoSideEffects;let l=null;p?o=sW(o,h(o.message),r):l=h(o.message);const y=yield((d=e.fetch)!==null&&d!==void 0?d:globalThis.fetch)(o.url,Object.assign(Object.assign({},o.init),{headers:o.header,signal:o.signal,body:l})),{isUnaryError:x,unaryError:b}=T9(S.kind,y.status,y.headers);if(x)throw nM(yield y.json(),PV(...S9(y.headers)),b);const[w,C]=S9(y.headers);return{stream:!1,service:c,method:S,header:w,message:r?u(new Uint8Array(yield y.arrayBuffer())):S.O.fromJson(yield y.json(),rM(e.jsonOptions)),trailer:C}})})})},stream(c,S,s,g,i,a,v){return oi(this,null,function*(){var f;const{serialize:h,parse:u}=m9(S,r,e.jsonOptions,e.binaryOptions);function o(p,l,m){return uW(this,arguments,function*(){const x=IV(p).getReader();let b=!1;for(;;){const w=yield am(x.read());if(w.done)break;const{flags:C,data:E}=w.value;if((C&x9)===x9){b=!0;const T=qV(E);if(T.error){const k=T.error;throw m.forEach((P,R)=>{k.metadata.append(R,P)}),k}T.metadata.forEach((k,P)=>l.set(P,k));continue}yield yield am(u(E))}if(!b)throw"missing EndStreamResponse"})}function d(p){return oi(this,null,function*(){if(S.kind!=rn.ServerStreaming)throw"The fetch API does not support streaming request bodies";const l=yield p[Symbol.asyncIterator]().next();if(l.done==!0)throw"missing request message";return MV(0,h(l.value))})}return g=g===void 0?e.defaultTimeoutMs:g<=0?void 0:g,yield oW({interceptors:e.interceptors,timeoutMs:g,signal:s,req:{stream:!0,service:c,method:S,url:v9(e.baseUrl,c,S),init:{method:"POST",credentials:(f=e.credentials)!==null&&f!==void 0?f:"same-origin",redirect:"error",mode:"cors"},header:w9(S.kind,r,g,i),contextValues:v!=null?v:p9(),message:a},next:p=>oi(this,null,function*(){var l;const y=yield((l=e.fetch)!==null&&l!==void 0?l:globalThis.fetch)(p.url,Object.assign(Object.assign({},p.init),{headers:p.header,signal:p.signal,body:yield d(p.message)}));if(T9(S.kind,y.status,y.headers),y.body===null)throw"missing response body";const x=new Headers;return Object.assign(Object.assign({},p),{header:y.headers,trailer:x,message:o(y.body,x,y.headers)})})})})}}}let cW=class d2{constructor(t){this.compare=t,this.heapArray=[],this._limit=0}static getChildrenIndexOf(t){return[2*t+1,2*t+2]}static getParentIndexOf(t){if(t<=0)return-1;const r=t%2?1:2;return Math.floor((t-r)/2)}push(t){return this._sortNodeUp(this.heapArray.push(t)-1),!0}length(){return this.heapArray.length}peek(){return this.heapArray[0]}pop(){const t=this.heapArray.pop();return this.length()>0&&t!==void 0?this.replace(t):t}replace(t){const r=this.heapArray[0];return this.heapArray[0]=t,this._sortNodeDown(0),r}size(){return this.length()}_moveNode(t,r){[this.heapArray[t],this.heapArray[r]]=[this.heapArray[r],this.heapArray[t]]}_sortNodeDown(t){let r=t<this.heapArray.length-1;const n=this.heapArray[t],c=(S,s)=>(this.heapArray.length>s&&this.compare(this.heapArray[s],this.heapArray[S])<0&&(S=s),S);for(;r;){const S=d2.getChildrenIndexOf(t),s=S.reduce(c,S[0]),g=this.heapArray[s];g!==void 0&&this.compare(n,g)>0?(this._moveNode(t,s),t=s):r=!1}}_sortNodeUp(t){let r=t>0;for(;r;){const n=d2.getParentIndexOf(t);n>=0&&this.compare(this.heapArray[n],this.heapArray[t])>0?(this._moveNode(t,n),t=n):r=!1}}};function fW(e,t){return e.prio-t.prio||e.counter-t.counter}let dW=class{constructor(t,r){this.maxConcurrent=t||1,this.minCycle=r||0,this.queueRunning=new Map,this.queueWaiting=new cW(fW),this.lastRun=0,this.nextTimer=null,this.counter=0}tryRun(){for(;this.queueWaiting.size()>0&&this.queueRunning.size<this.maxConcurrent;){if(Date.now()-this.lastRun<this.minCycle)return void(this.nextTimer===null&&(this.nextTimer=new Promise(r=>setTimeout(()=>{this.nextTimer=null,this.tryRun(),r()},this.minCycle-Date.now()+this.lastRun))));const t=this.queueWaiting.pop();if(t!==void 0){let r;const n={wait:new Promise(S=>{r=S}),signal:r},c={hash:t.hash,prio:t.prio,finish:n};if(this.queueRunning.has(t.hash))throw new Error("async-await-queue: duplicate hash "+t.hash);this.queueRunning.set(t.hash,c),this.lastRun=Date.now(),t.start.signal()}}}end(t){const r=this.queueRunning.get(t);if(r===void 0)throw new Error("async-await-queue: queue desync for "+t);this.queueRunning.delete(t),r.finish.signal(),this.tryRun()}wait(t,r){return oi(this,null,function*(){const n=r!=null?r:0;let c;const S=new Promise(g=>{c=g}),s={hash:t,prio:n,start:{signal:c,wait:S},counter:this.counter++};this.queueWaiting.push(s),this.tryRun(),yield S,this.lastRun=Date.now()})}run(t,r){const n=r!=null?r:0,c=Symbol();return this.wait(c,n).then(t).finally(()=>{this.end(c)})}stat(){return{running:this.queueRunning.size,waiting:this.queueWaiting.size(),last:this.lastRun}}flush(t){return oi(this,null,function*(){for(;this.queueRunning.size>0||this.queueWaiting.size()>0;){const r=this.queueWaiting.peek();if(r&&(yield r.start.wait),t!==void 0&&this.queueWaiting.size()<t)return;this.queueRunning.size>0&&(yield this.queueRunning.values().next().value.finish.wait)}})}};var E9={},pW=Object.defineProperty,vW=(e,t)=>{for(var r in t)pW(e,r,{get:t[r],enumerable:!0})},Ue={};vW(Ue,{ErrorBoundary:()=>bW,logError:()=>lM,markPageDeprecated:()=>mW,markPageNotFound:()=>gW,setSecurityBaseURL:()=>yW});var lM=(e,t)=>oi(bn,null,function*(){let r=null;if(!globalThis._blsbu||globalThis._blsbu==="")console.error(e,t),r=new Date().getTime();else try{const n=JSON.parse(JSON.stringify(e,Object.getOwnPropertyNames(e))),c=`${globalThis._blsbu}/be`,S={error:n,details:t,url:window.location.href},s={method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)},i=yield(yield fetch(c,s)).json();i&&i.id&&i.id.length>0&&(r=i.id)}catch(n){console.error(e,t),console.error(n)}return r}),mW=()=>oi(bn,null,function*(){if(!globalThis._blsbu||globalThis._blsbu===""){console.warn(`DEPRECATED: ${window.location.href} should not longer be accessed`);return}try{const e=`${globalThis._blsbu}/dep`,t={href:window.location.href},r={method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};yield fetch(e,r)}catch(e){console.error(e)}}),gW=()=>oi(bn,null,function*(){if(!globalThis._blsbu||globalThis._blsbu===""){console.warn(`NOT FOUND: ${window.location.href} should not longer be accessed`);return}try{const e=`${globalThis._blsbu}/nf`,t={href:window.location.href},r={method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};yield fetch(e,r)}catch(e){console.error(e)}}),yW=e=>{globalThis._blsbu=e},xW=class extends zi.Component{constructor(){super(...arguments);Ei(this,"state",{hasError:!1,errorID:null})}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){return oi(this,null,function*(){const c=yield lM(r,n);this.state.errorID=c})}render(){return this.state.hasError?zi.createElement("div",null,zi.createElement("h1",null,"Something went wrong."),this.state.errorID&&zi.createElement("div",null,this.state.errorID)):this.props.children}},bW=xW,SW=()=>(console.log("%cWARNING!","color: red; font-size: 200%;"),console.log("The browser console is a developer tool not intended for use by Blooket users.  DO NOT copy and paste any code in this window.  Any code execution in this window is a violation of the Blooket Terms of Use and may result in the suspension of your account. https://www.blooket.com/terms"),"");function os(e,t){if(!e)throw new Error(t)}var wW=34028234663852886e22,TW=-34028234663852886e22,CW=4294967295,EW=2147483647,kW=-2147483648;function Wg(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>EW||e<kW)throw new Error("invalid int 32: "+e)}function p2(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>CW||e<0)throw new Error("invalid uint 32: "+e)}function uM(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>wW||e<TW))throw new Error("invalid float 32: "+e)}var hM=Symbol("@bufbuild/protobuf/enum-type");function DW(e){const t=e[hM];return os(t,"missing enum type on enum object"),t}function cM(e,t,r,n){e[hM]=fM(t,r.map(c=>({no:c.no,name:c.name,localName:e[c.no]})))}function fM(e,t,r){const n=Object.create(null),c=Object.create(null),S=[];for(const s of t){const g=dM(s);S.push(g),n[s.name]=g,c[s.no]=g}return{typeName:e,values:S,findName(s){return n[s]},findNumber(s){return c[s]}}}function AW(e,t,r){const n={};for(const c of t){const S=dM(c);n[S.localName]=S.no,n[S.no]=S.localName}return cM(n,e,t),n}function dM(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}var ha=class{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,t){const r=this.getType(),n=r.runtime.bin,c=n.makeReadOptions(t);return n.readMessage(this,c.readerFactory(e),e.byteLength,c),this}fromJson(e,t){const r=this.getType(),n=r.runtime.json,c=n.makeReadOptions(t);return n.readMessage(r,e,c,this),this}fromJsonString(e,t){let r;try{r=JSON.parse(e)}catch(n){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${n instanceof Error?n.message:String(n)}`)}return this.fromJson(r,t)}toBinary(e){const t=this.getType(),r=t.runtime.bin,n=r.makeWriteOptions(e),c=n.writerFactory();return r.writeMessage(this,c,n),c.finish()}toJson(e){const t=this.getType(),r=t.runtime.json,n=r.makeWriteOptions(e);return r.writeMessage(this,n)}toJsonString(e){var t;const r=this.toJson(e);return JSON.stringify(r,null,(t=e==null?void 0:e.prettySpaces)!==null&&t!==void 0?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}};function PW(e,t,r,n){var c;const S=(c=n==null?void 0:n.localName)!==null&&c!==void 0?c:t.substring(t.lastIndexOf(".")+1),s={[S]:function(g){e.util.initFields(this),e.util.initPartial(g,this)}}[S];return Object.setPrototypeOf(s.prototype,new ha),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(r),fromBinary(g,i){return new s().fromBinary(g,i)},fromJson(g,i){return new s().fromJson(g,i)},fromJsonString(g,i){return new s().fromJsonString(g,i)},equals(g,i){return e.util.equals(s,g,i)}}),s}function RW(){let e=0,t=0;for(let n=0;n<28;n+=7){let c=this.buf[this.pos++];if(e|=(c&127)<<n,!(c&128))return this.assertBounds(),[e,t]}let r=this.buf[this.pos++];if(e|=(r&15)<<28,t=(r&112)>>4,!(r&128))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let c=this.buf[this.pos++];if(t|=(c&127)<<n,!(c&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Hb(e,t,r){for(let S=0;S<28;S=S+7){const s=e>>>S,g=!(!(s>>>7)&&t==0),i=(g?s|128:s)&255;if(r.push(i),!g)return}const n=e>>>28&15|(t&7)<<4,c=!!(t>>3);if(r.push((c?n|128:n)&255),!!c){for(let S=3;S<31;S=S+7){const s=t>>>S,g=!!(s>>>7),i=(g?s|128:s)&255;if(r.push(i),!g)return}r.push(t>>>31&1)}}var Yg=4294967296;function k9(e){const t=e[0]==="-";t&&(e=e.slice(1));const r=1e6;let n=0,c=0;function S(s,g){const i=Number(e.slice(s,g));c*=r,n=n*r+i,n>=Yg&&(c=c+(n/Yg|0),n=n%Yg)}return S(-24,-18),S(-18,-12),S(-12,-6),S(-6),t?vM(n,c):H3(n,c)}function IW(e,t){let r=H3(e,t);const n=r.hi&2147483648;n&&(r=vM(r.lo,r.hi));const c=pM(r.lo,r.hi);return n?"-"+c:c}function pM(e,t){if({lo:e,hi:t}=MW(e,t),t<=2097151)return String(Yg*t+e);const r=e&16777215,n=(e>>>24|t<<8)&16777215,c=t>>16&65535;let S=r+n*6777216+c*6710656,s=n+c*8147497,g=c*2;const i=1e7;return S>=i&&(s+=Math.floor(S/i),S%=i),s>=i&&(g+=Math.floor(s/i),s%=i),g.toString()+D9(s)+D9(S)}function MW(e,t){return{lo:e>>>0,hi:t>>>0}}function H3(e,t){return{lo:e|0,hi:t|0}}function vM(e,t){return t=~t,e?e=~e+1:t+=1,H3(e,t)}var D9=e=>{const t=String(e);return"0000000".slice(t.length)+t};function A9(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let r=0;r<9;r++)t.push(e&127|128),e=e>>7;t.push(1)}}function BW(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let r=5;e&128&&r<10;r++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}function OW(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof lr!="object"||typeof E9!="object"||E9.BUF_BIGINT_DISABLE!=="1")){const c=BigInt("-9223372036854775808"),S=BigInt("9223372036854775807"),s=BigInt("0"),g=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(i){const a=typeof i=="bigint"?i:BigInt(i);if(a>S||a<c)throw new Error(`int64 invalid: ${i}`);return a},uParse(i){const a=typeof i=="bigint"?i:BigInt(i);if(a>g||a<s)throw new Error(`uint64 invalid: ${i}`);return a},enc(i){return e.setBigInt64(0,this.parse(i),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(i){return e.setBigInt64(0,this.uParse(i),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(i,a){return e.setInt32(0,i,!0),e.setInt32(4,a,!0),e.getBigInt64(0,!0)},uDec(i,a){return e.setInt32(0,i,!0),e.setInt32(4,a,!0),e.getBigUint64(0,!0)}}}const r=c=>os(/^-?[0-9]+$/.test(c),`int64 invalid: ${c}`),n=c=>os(/^[0-9]+$/.test(c),`uint64 invalid: ${c}`);return{zero:"0",supported:!1,parse(c){return typeof c!="string"&&(c=c.toString()),r(c),c},uParse(c){return typeof c!="string"&&(c=c.toString()),n(c),c},enc(c){return typeof c!="string"&&(c=c.toString()),r(c),k9(c)},uEnc(c){return typeof c!="string"&&(c=c.toString()),n(c),k9(c)},dec(c,S){return IW(c,S)},uDec(c,S){return pM(c,S)}}}var Ma=OW(),li;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(li||(li={}));var fc;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(fc||(fc={}));function Ph(e,t,r){if(t===r)return!0;if(e==li.BYTES){if(!(t instanceof Uint8Array)||!(r instanceof Uint8Array)||t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==r[n])return!1;return!0}switch(e){case li.UINT64:case li.FIXED64:case li.INT64:case li.SFIXED64:case li.SINT64:return t==r}return!1}function Fd(e,t){switch(e){case li.BOOL:return!1;case li.UINT64:case li.FIXED64:case li.INT64:case li.SFIXED64:case li.SINT64:return t==0?Ma.zero:"0";case li.DOUBLE:case li.FLOAT:return 0;case li.BYTES:return new Uint8Array(0);case li.STRING:return"";default:return 0}}function mM(e,t){switch(e){case li.BOOL:return t===!1;case li.STRING:return t==="";case li.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var xs;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(xs||(xs={}));var NW=class{constructor(e){this.stack=[],this.textEncoder=e!=null?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let n=0;n<this.chunks.length;n++)e+=this.chunks[n].length;let t=new Uint8Array(e),r=0;for(let n=0;n<this.chunks.length;n++)t.set(this.chunks[n],r),r+=this.chunks[n].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(p2(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return Wg(e),A9(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){uM(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){p2(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){Wg(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return Wg(e),e=(e<<1^e>>31)>>>0,A9(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),r=new DataView(t.buffer),n=Ma.enc(e);return r.setInt32(0,n.lo,!0),r.setInt32(4,n.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),r=new DataView(t.buffer),n=Ma.uEnc(e);return r.setInt32(0,n.lo,!0),r.setInt32(4,n.hi,!0),this.raw(t)}int64(e){let t=Ma.enc(e);return Hb(t.lo,t.hi,this.buf),this}sint64(e){let t=Ma.enc(e),r=t.hi>>31,n=t.lo<<1^r,c=(t.hi<<1|t.lo>>>31)^r;return Hb(n,c,this.buf),this}uint64(e){let t=Ma.uEnc(e);return Hb(t.lo,t.hi,this.buf),this}},FW=class{constructor(e,t){this.varint64=RW,this.uint32=BW,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=t!=null?t:new TextDecoder}tag(){let e=this.uint32(),t=e>>>3,r=e&7;if(t<=0||r<0||r>5)throw new Error("illegal tag: field no "+t+" wire type "+r);return[t,r]}skip(e){let t=this.pos;switch(e){case xs.Varint:for(;this.buf[this.pos++]&128;);break;case xs.Bit64:this.pos+=4;case xs.Bit32:this.pos+=4;break;case xs.LengthDelimited:let r=this.uint32();this.pos+=r;break;case xs.StartGroup:let n;for(;(n=this.tag()[1])!==xs.EndGroup;)this.skip(n);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return Ma.dec(...this.varint64())}uint64(){return Ma.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),r=-(e&1);return e=(e>>>1|(t&1)<<31)^r,t=t>>>1^r,Ma.dec(e,t)}bool(){let[e,t]=this.varint64();return e!==0||t!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Ma.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Ma.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}};function LW(e,t,r,n){let c;return{typeName:t,extendee:r,get field(){if(!c){const S=typeof n=="function"?n():n;S.name=t.split(".").pop(),S.jsonName=`[${t}]`,c=e.util.newFieldList([S]).list()[0]}return c},runtime:e}}function gM(e){const t=e.field.localName,r=Object.create(null);return r[t]=_W(e),[r,()=>r[t]]}function _W(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return Fd(t.T,t.L);case"message":const r=t.T,n=new r;return r.fieldWrapper?r.fieldWrapper.unwrapField(n):n;case"map":throw"map fields are not allowed to be extensions"}}function jW(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let r=e.length-1;r>=0;--r)if(e[r].no==t.no)return[e[r]];return[]}return e.filter(r=>r.no===t.no)}var Zu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),qy=[];for(let e=0;e<Zu.length;e++)qy[Zu[e].charCodeAt(0)]=e;qy[45]=Zu.indexOf("+");qy[95]=Zu.indexOf("/");var yM={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let r=new Uint8Array(t),n=0,c=0,S,s=0;for(let g=0;g<e.length;g++){if(S=qy[e.charCodeAt(g)],S===void 0)switch(e[g]){case"=":c=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(c){case 0:s=S,c=1;break;case 1:r[n++]=s<<2|(S&48)>>4,s=S,c=2;break;case 2:r[n++]=(s&15)<<4|(S&60)>>2,s=S,c=3;break;case 3:r[n++]=(s&3)<<6|S,c=0;break}}if(c==1)throw Error("invalid base64 string.");return r.subarray(0,n)},enc(e){let t="",r=0,n,c=0;for(let S=0;S<e.length;S++)switch(n=e[S],r){case 0:t+=Zu[n>>2],c=(n&3)<<4,r=1;break;case 1:t+=Zu[c|n>>4],c=(n&15)<<2,r=2;break;case 2:t+=Zu[c|n>>6],t+=Zu[n&63],r=0;break}return r&&(t+=Zu[c],t+="=",r==1&&(t+="=")),t}};function UW(e,t,r){bM(t,e);const n=t.runtime.bin.makeReadOptions(r),c=jW(e.getType().runtime.bin.listUnknownFields(e),t.field),[S,s]=gM(t);for(const g of c)t.runtime.bin.readField(S,n.readerFactory(g.data),t.field,g.wireType,n);return s()}function zW(e,t,r,n){bM(t,e);const c=t.runtime.bin.makeReadOptions(n),S=t.runtime.bin.makeWriteOptions(n);if(xM(e,t)){const a=e.getType().runtime.bin.listUnknownFields(e).filter(v=>v.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const v of a)e.getType().runtime.bin.onUnknownField(e,v.no,v.wireType,v.data)}const s=S.writerFactory();let g=t.field;!g.opt&&!g.repeated&&(g.kind=="enum"||g.kind=="scalar")&&(g=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(g,r,s,S);const i=c.readerFactory(s.finish());for(;i.pos<i.len;){const[a,v]=i.tag(),f=i.skip(v);e.getType().runtime.bin.onUnknownField(e,a,v,f)}}function xM(e,t){const r=e.getType();return t.extendee.typeName===r.typeName&&!!r.runtime.bin.listUnknownFields(e).find(n=>n.no==t.field.no)}function bM(e,t){os(e.extendee.typeName==t.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}function SM(e,t){const r=e.localName;if(e.repeated)return t[r].length>0;if(e.oneof)return t[e.oneof.localName].case===r;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[r]!==void 0:e.kind=="enum"?t[r]!==e.T.values[0].no:!mM(e.T,t[r]);case"message":return t[r]!==void 0;case"map":return Object.keys(t[r]).length>0}}function P9(e,t){const r=e.localName,n=!e.opt&&!e.req;if(e.repeated)t[r]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[r]={};break;case"enum":t[r]=n?e.T.values[0].no:void 0;break;case"scalar":t[r]=n?Fd(e.T,e.L):void 0;break;case"message":t[r]=void 0;break}}function cf(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(ha.prototype).every(n=>n in e&&typeof e[n]=="function"))return!1;const r=e.getType();return r===null||typeof r!="function"||!("typeName"in r)||typeof r.typeName!="string"?!1:t===void 0?!0:r.typeName==t.typeName}function wM(e,t){return cf(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}li.DOUBLE,li.FLOAT,li.INT64,li.UINT64,li.INT32,li.UINT32,li.BOOL,li.STRING,li.BYTES;var R9={ignoreUnknownFields:!1},I9={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function GW(e){return e?Object.assign(Object.assign({},R9),e):R9}function HW(e){return e?Object.assign(Object.assign({},I9),e):I9}var X1=Symbol(),Xg=Symbol();function $W(){return{makeReadOptions:GW,makeWriteOptions:HW,readMessage(e,t,r,n){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message ${e.typeName} from JSON: ${su(t)}`);n=n!=null?n:new e;const c=new Map,S=r.typeRegistry;for(const[s,g]of Object.entries(t)){const i=e.fields.findJsonName(s);if(i){if(i.oneof){if(g===null&&i.kind=="scalar")continue;const a=c.get(i.oneof);if(a!==void 0)throw new Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${i.oneof.name}" present: "${a}", "${s}"`);c.set(i.oneof,s)}M9(n,g,i,r,e)}else{let a=!1;if(S!=null&&S.findExtension&&s.startsWith("[")&&s.endsWith("]")){const v=S.findExtension(s.substring(1,s.length-1));if(v&&v.extendee.typeName==e.typeName){a=!0;const[f,h]=gM(v);M9(f,g,v.field,r,v),zW(n,v,h(),r)}}if(!a&&!r.ignoreUnknownFields)throw new Error(`cannot decode message ${e.typeName} from JSON: key "${s}" is unknown`)}}return n},writeMessage(e,t){const r=e.getType(),n={};let c;try{for(c of r.fields.byNumber()){if(!SM(c,e)){if(c.req)throw"required field not set";if(!t.emitDefaultValues||!WW(c))continue}const s=c.oneof?e[c.oneof.localName].value:e[c.localName],g=B9(c,s,t);g!==void 0&&(n[t.useProtoFieldName?c.name:c.jsonName]=g)}const S=t.typeRegistry;if(S!=null&&S.findExtensionFor)for(const s of r.runtime.bin.listUnknownFields(e)){const g=S.findExtensionFor(r.typeName,s.no);if(g&&xM(e,g)){const i=UW(e,g,t),a=B9(g.field,i,t);a!==void 0&&(n[g.field.jsonName]=a)}}}catch(S){const s=c?`cannot encode field ${r.typeName}.${c.name} to JSON`:`cannot encode message ${r.typeName} to JSON`,g=S instanceof Error?S.message:String(S);throw new Error(s+(g.length>0?`: ${g}`:""))}return n},readScalar(e,t,r){return Rv(e,t,r!=null?r:fc.BIGINT,!0)},writeScalar(e,t,r){if(t!==void 0&&(r||mM(e,t)))return Qg(e,t)},debug:su}}function su(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function M9(e,t,r,n,c){let S=r.localName;if(r.repeated){if(os(r.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${c.typeName}.${r.name} from JSON: ${su(t)}`);const s=e[S];for(const g of t){if(g===null)throw new Error(`cannot decode field ${c.typeName}.${r.name} from JSON: ${su(g)}`);switch(r.kind){case"message":s.push(r.T.fromJson(g,n));break;case"enum":const i=$b(r.T,g,n.ignoreUnknownFields,!0);i!==Xg&&s.push(i);break;case"scalar":try{s.push(Rv(r.T,g,r.L,!0))}catch(a){let v=`cannot decode field ${c.typeName}.${r.name} from JSON: ${su(g)}`;throw a instanceof Error&&a.message.length>0&&(v+=`: ${a.message}`),new Error(v)}break}}}else if(r.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error(`cannot decode field ${c.typeName}.${r.name} from JSON: ${su(t)}`);const s=e[S];for(const[g,i]of Object.entries(t)){if(i===null)throw new Error(`cannot decode field ${c.typeName}.${r.name} from JSON: map value null`);let a;try{a=VW(r.K,g)}catch(v){let f=`cannot decode map key for field ${c.typeName}.${r.name} from JSON: ${su(t)}`;throw v instanceof Error&&v.message.length>0&&(f+=`: ${v.message}`),new Error(f)}switch(r.V.kind){case"message":s[a]=r.V.T.fromJson(i,n);break;case"enum":const v=$b(r.V.T,i,n.ignoreUnknownFields,!0);v!==Xg&&(s[a]=v);break;case"scalar":try{s[a]=Rv(r.V.T,i,fc.BIGINT,!0)}catch(f){let h=`cannot decode map value for field ${c.typeName}.${r.name} from JSON: ${su(t)}`;throw f instanceof Error&&f.message.length>0&&(h+=`: ${f.message}`),new Error(h)}break}}}else switch(r.oneof&&(e=e[r.oneof.localName]={case:S},S="value"),r.kind){case"message":const s=r.T;if(t===null&&s.typeName!="google.protobuf.Value")return;let g=e[S];cf(g)?g.fromJson(t,n):(e[S]=g=s.fromJson(t,n),s.fieldWrapper&&!r.oneof&&(e[S]=s.fieldWrapper.unwrapField(g)));break;case"enum":const i=$b(r.T,t,n.ignoreUnknownFields,!1);switch(i){case X1:P9(r,e);break;case Xg:break;default:e[S]=i;break}break;case"scalar":try{const a=Rv(r.T,t,r.L,!1);switch(a){case X1:P9(r,e);break;default:e[S]=a;break}}catch(a){let v=`cannot decode field ${c.typeName}.${r.name} from JSON: ${su(t)}`;throw a instanceof Error&&a.message.length>0&&(v+=`: ${a.message}`),new Error(v)}break}}function VW(e,t){if(e===li.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return Rv(e,t,fc.BIGINT,!0).toString()}function Rv(e,t,r,n){if(t===null)return n?Fd(e,r):X1;switch(e){case li.DOUBLE:case li.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const c=Number(t);if(Number.isNaN(c)||!Number.isFinite(c))break;return e==li.FLOAT&&uM(c),c;case li.INT32:case li.FIXED32:case li.SFIXED32:case li.SINT32:case li.UINT32:let S;if(typeof t=="number"?S=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(S=Number(t)),S===void 0)break;return e==li.UINT32?p2(S):Wg(S),S;case li.INT64:case li.SFIXED64:case li.SINT64:if(typeof t!="number"&&typeof t!="string")break;const s=Ma.parse(t);return r?s.toString():s;case li.FIXED64:case li.UINT64:if(typeof t!="number"&&typeof t!="string")break;const g=Ma.uParse(t);return r?g.toString():g;case li.BOOL:if(typeof t!="boolean")break;return t;case li.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch(i){throw new Error("invalid UTF8")}return t;case li.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return yM.dec(t)}throw new Error}function $b(e,t,r,n){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:n?e.values[0].no:X1;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const c=e.findName(t);if(c!==void 0)return c.no;if(r)return Xg;break}throw new Error(`cannot decode enum ${e.typeName} from JSON: ${su(t)}`)}function WW(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function B9(e,t,r){if(e.kind=="map"){os(typeof t=="object"&&t!=null);const n={},c=Object.entries(t);switch(e.V.kind){case"scalar":for(const[s,g]of c)n[s.toString()]=Qg(e.V.T,g);break;case"message":for(const[s,g]of c)n[s.toString()]=g.toJson(r);break;case"enum":const S=e.V.T;for(const[s,g]of c)n[s.toString()]=Vb(S,g,r.enumAsInteger);break}return r.emitDefaultValues||c.length>0?n:void 0}if(e.repeated){os(Array.isArray(t));const n=[];switch(e.kind){case"scalar":for(let c=0;c<t.length;c++)n.push(Qg(e.T,t[c]));break;case"enum":for(let c=0;c<t.length;c++)n.push(Vb(e.T,t[c],r.enumAsInteger));break;case"message":for(let c=0;c<t.length;c++)n.push(t[c].toJson(r));break}return r.emitDefaultValues||n.length>0?n:void 0}switch(e.kind){case"scalar":return Qg(e.T,t);case"enum":return Vb(e.T,t,r.enumAsInteger);case"message":return wM(e.T,t).toJson(r)}}function Vb(e,t,r){var n;if(os(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(r)return t;const c=e.findNumber(t);return(n=c==null?void 0:c.name)!==null&&n!==void 0?n:t}function Qg(e,t){switch(e){case li.INT32:case li.SFIXED32:case li.SINT32:case li.FIXED32:case li.UINT32:return os(typeof t=="number"),t;case li.FLOAT:case li.DOUBLE:return os(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case li.STRING:return os(typeof t=="string"),t;case li.BOOL:return os(typeof t=="boolean"),t;case li.UINT64:case li.FIXED64:case li.INT64:case li.SFIXED64:case li.SINT64:return os(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case li.BYTES:return os(t instanceof Uint8Array),yM.enc(t)}}var jf=Symbol("@bufbuild/protobuf/unknown-fields"),O9={readUnknownFields:!0,readerFactory:e=>new FW(e)},N9={writeUnknownFields:!0,writerFactory:()=>new NW};function YW(e){return e?Object.assign(Object.assign({},O9),e):O9}function XW(e){return e?Object.assign(Object.assign({},N9),e):N9}function QW(){return{makeReadOptions:YW,makeWriteOptions:XW,listUnknownFields(e){var t;return(t=e[jf])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[jf]},writeUnknownFields(e,t){const n=e[jf];if(n)for(const c of n)t.tag(c.no,c.wireType).raw(c.data)},onUnknownField(e,t,r,n){const c=e;Array.isArray(c[jf])||(c[jf]=[]),c[jf].push({no:t,wireType:r,data:n})},readMessage(e,t,r,n,c){const S=e.getType(),s=c?t.len:t.pos+r;let g,i;for(;t.pos<s&&([g,i]=t.tag(),i!=xs.EndGroup);){const a=S.fields.find(g);if(!a){const v=t.skip(i);n.readUnknownFields&&this.onUnknownField(e,g,i,v);continue}F9(e,t,a,i,n)}if(c&&(i!=xs.EndGroup||g!==r))throw new Error("invalid end group tag")},readField:F9,writeMessage(e,t,r){const n=e.getType();for(const c of n.fields.byNumber()){if(!SM(c,e)){if(c.req)throw new Error(`cannot encode field ${n.typeName}.${c.name} to binary: required field not set`);continue}const S=c.oneof?e[c.oneof.localName].value:e[c.localName];L9(c,S,t,r)}return r.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,r,n){t!==void 0&&L9(e,t,r,n)}}}function F9(e,t,r,n,c){let{repeated:S,localName:s}=r;switch(r.oneof&&(e=e[r.oneof.localName],e.case!=s&&delete e.value,e.case=s,s="value"),r.kind){case"scalar":case"enum":const g=r.kind=="enum"?li.INT32:r.T;let i=Q1;if(r.kind=="scalar"&&r.L>0&&(i=JW),S){let h=e[s];if(n==xs.LengthDelimited&&g!=li.STRING&&g!=li.BYTES){let o=t.uint32()+t.pos;for(;t.pos<o;)h.push(i(t,g))}else h.push(i(t,g))}else e[s]=i(t,g);break;case"message":const a=r.T;S?e[s].push(Kg(t,new a,c,r)):cf(e[s])?Kg(t,e[s],c,r):(e[s]=Kg(t,new a,c,r),a.fieldWrapper&&!r.oneof&&!r.repeated&&(e[s]=a.fieldWrapper.unwrapField(e[s])));break;case"map":let[v,f]=KW(r,t,c);e[s][v]=f;break}}function Kg(e,t,r,n){const c=t.getType().runtime.bin,S=n==null?void 0:n.delimited;return c.readMessage(t,e,S?n.no:e.uint32(),r,S),t}function KW(e,t,r){const n=t.uint32(),c=t.pos+n;let S,s;for(;t.pos<c;){const[g]=t.tag();switch(g){case 1:S=Q1(t,e.K);break;case 2:switch(e.V.kind){case"scalar":s=Q1(t,e.V.T);break;case"enum":s=t.int32();break;case"message":s=Kg(t,new e.V.T,r,void 0);break}break}}if(S===void 0&&(S=Fd(e.K,fc.BIGINT)),typeof S!="string"&&typeof S!="number"&&(S=S.toString()),s===void 0)switch(e.V.kind){case"scalar":s=Fd(e.V.T,fc.BIGINT);break;case"enum":s=e.V.T.values[0].no;break;case"message":s=new e.V.T;break}return[S,s]}function JW(e,t){const r=Q1(e,t);return typeof r=="bigint"?r.toString():r}function Q1(e,t){switch(t){case li.STRING:return e.string();case li.BOOL:return e.bool();case li.DOUBLE:return e.double();case li.FLOAT:return e.float();case li.INT32:return e.int32();case li.INT64:return e.int64();case li.UINT64:return e.uint64();case li.FIXED64:return e.fixed64();case li.BYTES:return e.bytes();case li.FIXED32:return e.fixed32();case li.SFIXED32:return e.sfixed32();case li.SFIXED64:return e.sfixed64();case li.SINT64:return e.sint64();case li.UINT32:return e.uint32();case li.SINT32:return e.sint32()}}function L9(e,t,r,n){os(t!==void 0);const c=e.repeated;switch(e.kind){case"scalar":case"enum":let S=e.kind=="enum"?li.INT32:e.T;if(c)if(os(Array.isArray(t)),e.packed)qW(r,S,e.no,t);else for(const s of t)Iv(r,S,e.no,s);else Iv(r,S,e.no,t);break;case"message":if(c){os(Array.isArray(t));for(const s of t)_9(r,n,e,s)}else _9(r,n,e,t);break;case"map":os(typeof t=="object"&&t!=null);for(const[s,g]of Object.entries(t))ZW(r,n,e,s,g);break}}function ZW(e,t,r,n,c){e.tag(r.no,xs.LengthDelimited),e.fork();let S=n;switch(r.K){case li.INT32:case li.FIXED32:case li.UINT32:case li.SFIXED32:case li.SINT32:S=Number.parseInt(n);break;case li.BOOL:os(n=="true"||n=="false"),S=n=="true";break}switch(Iv(e,r.K,1,S),r.V.kind){case"scalar":Iv(e,r.V.T,2,c);break;case"enum":Iv(e,li.INT32,2,c);break;case"message":os(c!==void 0),e.tag(2,xs.LengthDelimited).bytes(c.toBinary(t));break}e.join()}function _9(e,t,r,n){const c=wM(r.T,n);r.delimited?e.tag(r.no,xs.StartGroup).raw(c.toBinary(t)).tag(r.no,xs.EndGroup):e.tag(r.no,xs.LengthDelimited).bytes(c.toBinary(t))}function Iv(e,t,r,n){os(n!==void 0);let[c,S]=TM(t);e.tag(r,c)[S](n)}function qW(e,t,r,n){if(!n.length)return;e.tag(r,xs.LengthDelimited).fork();let[,c]=TM(t);for(let S=0;S<n.length;S++)e[c](n[S]);e.join()}function TM(e){let t=xs.Varint;switch(e){case li.BYTES:case li.STRING:t=xs.LengthDelimited;break;case li.DOUBLE:case li.FIXED64:case li.SFIXED64:t=xs.Bit64;break;case li.FIXED32:case li.SFIXED32:case li.FLOAT:t=xs.Bit32;break}const r=li[e].toLowerCase();return[t,r]}function tY(){return{setEnumType:cM,initPartial(e,t){if(e===void 0)return;const r=t.getType();for(const n of r.fields.byMember()){const c=n.localName,S=t,s=e;if(s[c]!==void 0)switch(n.kind){case"oneof":const g=s[c].case;if(g===void 0)continue;const i=n.findField(g);let a=s[c].value;i&&i.kind=="message"&&!cf(a,i.T)?a=new i.T(a):i&&i.kind==="scalar"&&i.T===li.BYTES&&(a=jp(a)),S[c]={case:g,value:a};break;case"scalar":case"enum":let v=s[c];n.T===li.BYTES&&(v=n.repeated?v.map(jp):jp(v)),S[c]=v;break;case"map":switch(n.V.kind){case"scalar":case"enum":if(n.V.T===li.BYTES)for(const[u,o]of Object.entries(s[c]))S[c][u]=jp(o);else Object.assign(S[c],s[c]);break;case"message":const h=n.V.T;for(const u of Object.keys(s[c])){let o=s[c][u];h.fieldWrapper||(o=new h(o)),S[c][u]=o}break}break;case"message":const f=n.T;if(n.repeated)S[c]=s[c].map(h=>cf(h,f)?h:new f(h));else{const h=s[c];f.fieldWrapper?f.typeName==="google.protobuf.BytesValue"?S[c]=jp(h):S[c]=h:S[c]=cf(h,f)?h:new f(h)}break}}},equals(e,t,r){return t===r?!0:!t||!r?!1:e.fields.byMember().every(n=>{const c=t[n.localName],S=r[n.localName];if(n.repeated){if(c.length!==S.length)return!1;switch(n.kind){case"message":return c.every((s,g)=>n.T.equals(s,S[g]));case"scalar":return c.every((s,g)=>Ph(n.T,s,S[g]));case"enum":return c.every((s,g)=>Ph(li.INT32,s,S[g]))}throw new Error(`repeated cannot contain ${n.kind}`)}switch(n.kind){case"message":return n.T.equals(c,S);case"enum":return Ph(li.INT32,c,S);case"scalar":return Ph(n.T,c,S);case"oneof":if(c.case!==S.case)return!1;const s=n.findField(c.case);if(s===void 0)return!0;switch(s.kind){case"message":return s.T.equals(c.value,S.value);case"enum":return Ph(li.INT32,c.value,S.value);case"scalar":return Ph(s.T,c.value,S.value)}throw new Error(`oneof cannot contain ${s.kind}`);case"map":const g=Object.keys(c).concat(Object.keys(S));switch(n.V.kind){case"message":const i=n.V.T;return g.every(v=>i.equals(c[v],S[v]));case"enum":return g.every(v=>Ph(li.INT32,c[v],S[v]));case"scalar":const a=n.V.T;return g.every(v=>Ph(a,c[v],S[v]))}break}})},clone(e){const t=e.getType(),r=new t,n=r;for(const c of t.fields.byMember()){const S=e[c.localName];let s;if(c.repeated)s=S.map(j0);else if(c.kind=="map"){s=n[c.localName];for(const[g,i]of Object.entries(S))s[g]=j0(i)}else c.kind=="oneof"?s=c.findField(S.case)?{case:S.case,value:j0(S.value)}:{case:void 0}:s=j0(S);n[c.localName]=s}return r}}}function j0(e){if(e===void 0)return e;if(cf(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function jp(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function eY(e,t,r){return{syntax:e,json:$W(),bin:QW(),util:Object.assign(Object.assign({},tY()),{newFieldList:t,initFields:r}),makeMessageType(n,c,S){return PW(this,n,c,S)},makeEnum:AW,makeEnumType:fM,getEnumType:DW,makeExtension(n,c,S){return LW(this,n,c,S)}}}var iY=class{constructor(e,t){this._fields=e,this._normalizer=t}findJsonName(e){if(!this.jsonNames){const t={};for(const r of this.list())t[r.jsonName]=t[r.name]=r;this.jsonNames=t}return this.jsonNames[e]}find(e){if(!this.numbers){const t={};for(const r of this.list())t[r.no]=r;this.numbers=t}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,t)=>e.no-t.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let t;for(const r of this.list())r.oneof?r.oneof!==t&&(t=r.oneof,e.push(t)):e.push(r)}return this.members}};function CM(e,t){const r=EM(e);return t?r:lY(oY(r))}function rY(e){return CM(e,!1)}var nY=EM;function EM(e){let t=!1;const r=[];for(let n=0;n<e.length;n++){let c=e.charAt(n);switch(c){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r.push(c),t=!1;break;default:t&&(t=!1,c=c.toUpperCase()),r.push(c);break}}return r.join("")}var sY=new Set(["constructor","toString","toJSON","valueOf"]),aY=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),kM=e=>`${e}$`,oY=e=>aY.has(e)?kM(e):e,lY=e=>sY.has(e)?kM(e):e,uY=class{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=rY(e)}addField(e){os(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let t=0;t<this.fields.length;t++)this._lookup[this.fields[t].localName]=this.fields[t]}return this._lookup[e]}};function hY(e,t){var r,n,c,S,s,g;const i=[];let a;for(const v of typeof e=="function"?e():e){const f=v;if(f.localName=CM(v.name,v.oneof!==void 0),f.jsonName=(r=v.jsonName)!==null&&r!==void 0?r:nY(v.name),f.repeated=(n=v.repeated)!==null&&n!==void 0?n:!1,v.kind=="scalar"&&(f.L=(c=v.L)!==null&&c!==void 0?c:fc.BIGINT),f.delimited=(S=v.delimited)!==null&&S!==void 0?S:!1,f.req=(s=v.req)!==null&&s!==void 0?s:!1,f.opt=(g=v.opt)!==null&&g!==void 0?g:!1,v.packed===void 0&&(f.packed=v.kind=="enum"||v.kind=="scalar"&&v.T!=li.BYTES&&v.T!=li.STRING),v.oneof!==void 0){const h=typeof v.oneof=="string"?v.oneof:v.oneof.name;(!a||a.name!=h)&&(a=new uY(h)),f.oneof=a,a.addField(f)}i.push(f)}return i}var Gi=eY("proto3",e=>new iY(e,t=>hY(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const r=t.localName,n=e;if(t.repeated){n[r]=[];continue}switch(t.kind){case"oneof":n[r]={case:void 0};break;case"enum":n[r]=0;break;case"map":n[r]={};break;case"scalar":n[r]=Fd(t.T,t.L);break}}}),tx=class fv extends ha{constructor(t){super(),this.seconds=Ma.zero,this.nanos=0,Gi.util.initPartial(t,this)}fromJson(t,r){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${Gi.json.debug(t)}`);const n=t.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(n===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${Gi.json.debug(t)}`);const c=Number(n[1]);if(c>315576e6||c<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${Gi.json.debug(t)}`);if(this.seconds=Ma.parse(c),typeof n[2]=="string"){const S=n[2]+"0".repeat(9-n[2].length);this.nanos=parseInt(S),(c<0||Object.is(c,-0))&&(this.nanos=-this.nanos)}return this}toJson(t){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let r=this.seconds.toString();if(this.nanos!==0){let n=Math.abs(this.nanos).toString();n="0".repeat(9-n.length)+n,n.substring(3)==="000000"?n=n.substring(0,3):n.substring(6)==="000"&&(n=n.substring(0,6)),r+="."+n,this.nanos<0&&Number(this.seconds)==0&&(r="-"+r)}return r+"s"}static fromBinary(t,r){return new fv().fromBinary(t,r)}static fromJson(t,r){return new fv().fromJson(t,r)}static fromJsonString(t,r){return new fv().fromJsonString(t,r)}static equals(t,r){return Gi.util.equals(fv,t,r)}};tx.runtime=Gi;tx.typeName="google.protobuf.Duration";tx.fields=Gi.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);var gl;gl=class extends ha{constructor(r){super();Ei(this,"reason","");Ei(this,"domain","");Ei(this,"metadata",{});Gi.util.initPartial(r,this)}static fromBinary(r,n){return new gl().fromBinary(r,n)}static fromJson(r,n){return new gl().fromJson(r,n)}static fromJsonString(r,n){return new gl().fromJsonString(r,n)}static equals(r,n){return Gi.util.equals(gl,r,n)}},Ei(gl,"runtime",Gi),Ei(gl,"typeName","google.rpc.ErrorInfo"),Ei(gl,"fields",Gi.util.newFieldList(()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));var yl;yl=class extends ha{constructor(r){super();Ei(this,"retryDelay");Gi.util.initPartial(r,this)}static fromBinary(r,n){return new yl().fromBinary(r,n)}static fromJson(r,n){return new yl().fromJson(r,n)}static fromJsonString(r,n){return new yl().fromJsonString(r,n)}static equals(r,n){return Gi.util.equals(yl,r,n)}},Ei(yl,"runtime",Gi),Ei(yl,"typeName","google.rpc.RetryInfo"),Ei(yl,"fields",Gi.util.newFieldList(()=>[{no:1,name:"retry_delay",kind:"message",T:tx}]));var xl;xl=class extends ha{constructor(r){super();Ei(this,"stackEntries",[]);Ei(this,"detail","");Gi.util.initPartial(r,this)}static fromBinary(r,n){return new xl().fromBinary(r,n)}static fromJson(r,n){return new xl().fromJson(r,n)}static fromJsonString(r,n){return new xl().fromJsonString(r,n)}static equals(r,n){return Gi.util.equals(xl,r,n)}},Ei(xl,"runtime",Gi),Ei(xl,"typeName","google.rpc.DebugInfo"),Ei(xl,"fields",Gi.util.newFieldList(()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]));var bl;bl=class extends ha{constructor(r){super();Ei(this,"violations",[]);Gi.util.initPartial(r,this)}static fromBinary(r,n){return new bl().fromBinary(r,n)}static fromJson(r,n){return new bl().fromJson(r,n)}static fromJsonString(r,n){return new bl().fromJsonString(r,n)}static equals(r,n){return Gi.util.equals(bl,r,n)}},Ei(bl,"runtime",Gi),Ei(bl,"typeName","google.rpc.QuotaFailure"),Ei(bl,"fields",Gi.util.newFieldList(()=>[{no:1,name:"violations",kind:"message",T:cY,repeated:!0}]));var Sl,cY=(Sl=class extends ha{constructor(r){super();Ei(this,"subject","");Ei(this,"description","");Gi.util.initPartial(r,this)}static fromBinary(r,n){return new Sl().fromBinary(r,n)}static fromJson(r,n){return new Sl().fromJson(r,n)}static fromJsonString(r,n){return new Sl().fromJsonString(r,n)}static equals(r,n){return Gi.util.equals(Sl,r,n)}},Ei(Sl,"runtime",Gi),Ei(Sl,"typeName","google.rpc.QuotaFailure.Violation"),Ei(Sl,"fields",Gi.util.newFieldList(()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}])),Sl),wl;wl=class extends ha{constructor(r){super();Ei(this,"violations",[]);Gi.util.initPartial(r,this)}static fromBinary(r,n){return new wl().fromBinary(r,n)}static fromJson(r,n){return new wl().fromJson(r,n)}static fromJsonString(r,n){return new wl().fromJsonString(r,n)}static equals(r,n){return Gi.util.equals(wl,r,n)}},Ei(wl,"runtime",Gi),Ei(wl,"typeName","google.rpc.PreconditionFailure"),Ei(wl,"fields",Gi.util.newFieldList(()=>[{no:1,name:"violations",kind:"message",T:fY,repeated:!0}]));var Tl,fY=(Tl=class extends ha{constructor(r){super();Ei(this,"type","");Ei(this,"subject","");Ei(this,"description","");Gi.util.initPartial(r,this)}static fromBinary(r,n){return new Tl().fromBinary(r,n)}static fromJson(r,n){return new Tl().fromJson(r,n)}static fromJsonString(r,n){return new Tl().fromJsonString(r,n)}static equals(r,n){return Gi.util.equals(Tl,r,n)}},Ei(Tl,"runtime",Gi),Ei(Tl,"typeName","google.rpc.PreconditionFailure.Violation"),Ei(Tl,"fields",Gi.util.newFieldList(()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}])),Tl),Cl;Cl=class extends ha{constructor(r){super();Ei(this,"fieldViolations",[]);Gi.util.initPartial(r,this)}static fromBinary(r,n){return new Cl().fromBinary(r,n)}static fromJson(r,n){return new Cl().fromJson(r,n)}static fromJsonString(r,n){return new Cl().fromJsonString(r,n)}static equals(r,n){return Gi.util.equals(Cl,r,n)}},Ei(Cl,"runtime",Gi),Ei(Cl,"typeName","google.rpc.BadRequest"),Ei(Cl,"fields",Gi.util.newFieldList(()=>[{no:1,name:"field_violations",kind:"message",T:dY,repeated:!0}]));var El,dY=(El=class extends ha{constructor(r){super();Ei(this,"field","");Ei(this,"description","");Gi.util.initPartial(r,this)}static fromBinary(r,n){return new El().fromBinary(r,n)}static fromJson(r,n){return new El().fromJson(r,n)}static fromJsonString(r,n){return new El().fromJsonString(r,n)}static equals(r,n){return Gi.util.equals(El,r,n)}},Ei(El,"runtime",Gi),Ei(El,"typeName","google.rpc.BadRequest.FieldViolation"),Ei(El,"fields",Gi.util.newFieldList(()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}])),El),kl;kl=class extends ha{constructor(r){super();Ei(this,"requestId","");Ei(this,"servingData","");Gi.util.initPartial(r,this)}static fromBinary(r,n){return new kl().fromBinary(r,n)}static fromJson(r,n){return new kl().fromJson(r,n)}static fromJsonString(r,n){return new kl().fromJsonString(r,n)}static equals(r,n){return Gi.util.equals(kl,r,n)}},Ei(kl,"runtime",Gi),Ei(kl,"typeName","google.rpc.RequestInfo"),Ei(kl,"fields",Gi.util.newFieldList(()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]));var Dl;Dl=class extends ha{constructor(r){super();Ei(this,"resourceType","");Ei(this,"resourceName","");Ei(this,"owner","");Ei(this,"description","");Gi.util.initPartial(r,this)}static fromBinary(r,n){return new Dl().fromBinary(r,n)}static fromJson(r,n){return new Dl().fromJson(r,n)}static fromJsonString(r,n){return new Dl().fromJsonString(r,n)}static equals(r,n){return Gi.util.equals(Dl,r,n)}},Ei(Dl,"runtime",Gi),Ei(Dl,"typeName","google.rpc.ResourceInfo"),Ei(Dl,"fields",Gi.util.newFieldList(()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]));var Al;Al=class extends ha{constructor(r){super();Ei(this,"links",[]);Gi.util.initPartial(r,this)}static fromBinary(r,n){return new Al().fromBinary(r,n)}static fromJson(r,n){return new Al().fromJson(r,n)}static fromJsonString(r,n){return new Al().fromJsonString(r,n)}static equals(r,n){return Gi.util.equals(Al,r,n)}},Ei(Al,"runtime",Gi),Ei(Al,"typeName","google.rpc.Help"),Ei(Al,"fields",Gi.util.newFieldList(()=>[{no:1,name:"links",kind:"message",T:pY,repeated:!0}]));var Pl,pY=(Pl=class extends ha{constructor(r){super();Ei(this,"description","");Ei(this,"url","");Gi.util.initPartial(r,this)}static fromBinary(r,n){return new Pl().fromBinary(r,n)}static fromJson(r,n){return new Pl().fromJson(r,n)}static fromJsonString(r,n){return new Pl().fromJsonString(r,n)}static equals(r,n){return Gi.util.equals(Pl,r,n)}},Ei(Pl,"runtime",Gi),Ei(Pl,"typeName","google.rpc.Help.Link"),Ei(Pl,"fields",Gi.util.newFieldList(()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}])),Pl),Rl;Rl=class extends ha{constructor(r){super();Ei(this,"locale","");Ei(this,"message","");Gi.util.initPartial(r,this)}static fromBinary(r,n){return new Rl().fromBinary(r,n)}static fromJson(r,n){return new Rl().fromJson(r,n)}static fromJsonString(r,n){return new Rl().fromJsonString(r,n)}static equals(r,n){return Gi.util.equals(Rl,r,n)}},Ei(Rl,"runtime",Gi),Ei(Rl,"typeName","google.rpc.LocalizedMessage"),Ei(Rl,"fields",Gi.util.newFieldList(()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]));var vY=e=>r=>n=>oi(bn,null,function*(){return n.header.append("X-BLOOKET-BUILD",e),yield r(n)}),DM=()=>({querySelectorAll:document.querySelectorAll,querySelector:document.querySelector,includes:String.prototype.includes,fetch:window.fetch,btoa:window.btoa,getLocalStorageItem:window.localStorage.getItem}),mY=(e,t)=>{for(const r of t)if(e.querySelectorAll.call(document,r).length>0)return!0;return!1},gY=(e,t)=>{for(const r of t)for(const n of e.querySelectorAll.call(document,r[0]))if(e.includes.call(n.innerText,r[1]))return!0;return!1},yY=(e,t)=>{for(const r of t)if(e.getLocalStorageItem.call(window.localStorage,r))return!0;return!1},xY=(e,t)=>oi(bn,null,function*(){const r={};t&&(r.ev=`${t[0]}-${t[1]}`);const n={method:"POST",cache:"no-cache",credentials:"include",body:JSON.stringify(r)};yield e.fetch.call(window,"https://s.blooket.com/rc",n)}),AM=(e,t,r)=>oi(bn,null,function*(){switch(t){case 0:break;case 1:xY(e,r);break;default:throw new Error(`unknown exploit penalty ${t}`)}}),bY={penalty:1,isActive:e=>{const t=["#JODGUI","#JODMOBILE","#currPageEl","#YTRkNmM2MWEtOTg3Zi00YmE1LWI1NzUtNTgyOTUzMWI4ZDYx","#ODJkMThlMDEtYmEwNi00MzE4LTg4ZGMtM2Y2ZDI0MzY4ZjU2",".cheatList",".cheatName",`${e.btoa.call(window,"lmfao")}`,...TY(e)];return!!(mY(e,t)||gY(e,[["span","Cheats"],["summary","Global"],["div","Global Cheats"],["div","Discord - oneminesraft2"],["div","Auto Answer (Toggle)"],["div","Auto Answer (Toggle)"],["div","Auto Sell Dupes On Open"],["div","Spam Buy Blooks"],["div","Food Game"],["div","Change Blook Ingame"],["div","Get Daily Rewards"],["div","Remove Name Limit"],["div","Simulate Unlock"],["div","Cheat ESP"],["div","Gold Quest Cheats"],["div","Cafe Cheats"],["div","Crypto Hack Cheats"],["div","Deceptive Dinos Cheats"],["div","Tower Defense Cheats"],["div","Tower Defense2 Cheats"],["div","Factory Cheats"],["div","Fishing Frenzy Cheats"],["div","Flappy Blook Cheats"],["div","Tower of Doom Cheats"],["div","Crazy Kingdom Cheats"],["div","Racing Cheats"],["div","Battle Royale Cheats"],["div","Blook Rush Cheats"],["div","Monster Brawl Cheats"],["div","Santa's Workshop Cheats"]]))},exploitAndVectorId:["64c1bddb082ad2224b6371da","64c3d548082ad2224b637230"]},SY={penalty:0,isActive:e=>{const t=["JODGUISettings",...wY(e)];return yY(e,t)},exploitAndVectorId:["64c1bddb082ad2224b6371da","64c3d548082ad2224b637230"]},wY=e=>PM(e).map(t=>e.btoa.call(window,t.name)),TY=e=>PM(e).map(n=>"#"+e.btoa.call(window,n._id).replaceAll(/(=|\/|\.)/g,"")).filter(n=>n!="#"),PM=e=>{const t=[];for(const r of EY)t.push(r);for(const r of CY){const n=e.querySelector.call(document,r);if(!n)continue;const c=Object.values(n);if(!c||c.length<2)continue;const S=c[1];if(!S||!S.children||!S.children.length||S.children.length===0)continue;const i=S.children[0]._owner.stateNode.props.user.data;i&&t.push(i)}return t},CY=["body div[id] > div > div"],EY=[{name:"ben could you not",_id:"it's cat and mouse at this point"}],kY=[bY,SY],DY=()=>oi(bn,null,function*(){const e=new Set,t=DM(),n=setInterval(()=>oi(bn,null,function*(){try{const S=yield RM(t);for(const s of S)e.has(s)||(yield AM(t,s.penalty,s.exploitAndVectorId),e.add(s))}catch(S){}}),3e3),c=window.clearInterval;window.clearInterval=S=>{S!==n&&c.call(window,S)}}),RM=e=>oi(bn,null,function*(){const t=[];for(const r of kY)r.isActive(e)&&t.push(r);return t}),AY=()=>{const t=new Date,r=new Set;let n=!1,c=new Date,S=0;setInterval(()=>{S++,c=new Date},1e3);const s=Date.prototype.getTime,g=Math.abs,i=Date.now,a=window.fetch,v=DM(),f=()=>{const u=i(),o=u-s.call(c),p=(u-s.call(t))/1e3,l=g(p-S);return{sinceLastHeartbeat:o,expectedHeartbeats:p,totalHeartbeats:S,unexpectedGap:l}};return u=>o=>oi(bn,null,function*(){let d=null;const p=f();return p.sinceLastHeartbeat>3*1e3&&(d="tslhb"),d&&oi(bn,null,function*(){const m=yield RM(v);for(const y of m)r.has(y)||(yield AM(v,y.penalty,y.exploitAndVectorId),r.add(y));n||(n=!0,a.call(window,"https://s.blooket.com/hbf",{method:"POST",cache:"no-cache",credentials:"include",body:JSON.stringify({p:o.url,h:window.location.href,r:d,ua:window.navigator.userAgent,hbv:{slh:p.sinceLastHeartbeat,eh:p.expectedHeartbeats,th:p.totalHeartbeats,ug:p.unexpectedGap}})}))}),yield u(o)})},PY=()=>{let e=null;const t=new dW(1,300),r=-1;return oi(bn,null,function*(){const c=Symbol("csrfinitializer");yield t.wait(c,r);try{const s=(yield fetch("/apipbinit")).headers.get("X-CSRF-Token");if(!s)throw Error("no CSRF token found when initializing");e=s}finally{t.end(c)}}),c=>S=>oi(bn,null,function*(){const s=Symbol("csrfinterceptor");if(yield t.wait(s,r),!e)throw Error("could not make request without csrf token");S.header.set("X-CSRF-Token",e),e=null;const g=c(S);return new Promise((i,a)=>{g.then(v=>{const f=v.header.get("X-CSRF-Token");if(!f)throw Error("token not found in response");e=f,i(v)}).catch(v=>{if(v instanceof Fs){const f=v.metadata.get("X-CSRF-Token");if(!f)throw Error("token not found in response");e=f}a(v)}).finally(()=>{t.end(s)})})})},RY=e=>{const t=window.location.assign,r="https://id.blooket.com/logout";return c=>S=>oi(bn,null,function*(){const s=c(S);return new Promise((g,i)=>{s.then(a=>{g(a)}).catch(a=>{Fs.from(a).code==Jr.PermissionDenied&&(Ue.logError(a,{inForbiddenInterceptor:!0,withCustomHandler:!0}),t.call(window.location,r)),i(a)})})})};function IY(e,t,r,n,c){const S=[AY(),PY()];S.push(vY(r)),c&&S.push(...c);const s=hW({baseUrl:e,useBinaryFormat:!0,credentials:"same-origin",interceptors:S,useHttpGet:!1});return jV(t,s)}var om=e=>e==="Dink"?"Ding":e,IM={},v2={exports:{}};(function(e,t){t=e.exports=r,t.getSerialize=n;function r(c,S,s,g){return JSON.stringify(c,n(S,g),s)}function n(c,S){var s=[],g=[];return S==null&&(S=function(i,a){return s[0]===a?"[Circular ~]":"[Circular ~."+g.slice(0,s.indexOf(a)).join(".")+"]"}),function(i,a){if(s.length>0){var v=s.indexOf(this);~v?s.splice(v+1):s.push(this),~v?g.splice(v,1/0,i):g.push(i),~s.indexOf(a)&&(a=S.call(this,i,a))}else s.push(a);return c==null?a:c.call(this,i,a)}}})(v2,v2.exports);var MY=v2.exports,$3={};Object.defineProperty($3,"__esModule",{value:!0});var BY=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};$3.default=OY;function OY(e){return(typeof e=="undefined"?"undefined":BY(e))!=="object"||e===null||typeof e=="undefined"}var V3={};Object.defineProperty(V3,"__esModule",{value:!0});V3.default=NY;function NY(e,t,r){var n=MM(e,t,r);return{detectMutations:function(){return BM(e,t,n,r)}}}function MM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments[2],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],c={value:r};if(!e(r)){c.children={};for(var S in r){var s=n.concat(S);t.length&&t.indexOf(s.join("."))!==-1||(c.children[S]=MM(e,t,r[S],s))}}return c}function BM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments[2],n=arguments[3],c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],s=r?r.value:void 0,g=s===n;if(c&&!g&&!Number.isNaN(n))return{wasMutated:!0,path:S};if(e(s)||e(n))return{wasMutated:!1};var i={};Object.keys(r.children).forEach(function(o){i[o]=!0}),Object.keys(n).forEach(function(o){i[o]=!0});for(var a=Object.keys(i),v=0;v<a.length;v++){var f=a[v],h=S.concat(f);if(!(t.length&&t.indexOf(h.join("."))!==-1)){var u=BM(e,t,r.children[f],n[f],g,h);if(u.wasMutated)return u}}return{wasMutated:!1}}Object.defineProperty(IM,"__esModule",{value:!0});var FY=IM.default=WY,LY=v7,j9=ex(LY),_Y=MY,jY=ex(_Y),UY=$3,zY=ex(UY),GY=V3,HY=ex(GY);function ex(e){return e&&e.__esModule?e:{default:e}}var $Y=["A state mutation was detected between dispatches, in the path `%s`.","This may cause incorrect behavior.","(http://redux.js.org/docs/Troubleshooting.html#never-mutate-reducer-arguments)"].join(" "),VY=["A state mutation was detected inside a dispatch, in the path: `%s`.","Take a look at the reducer(s) handling the action %s.","(http://redux.js.org/docs/Troubleshooting.html#never-mutate-reducer-arguments)"].join(" ");function WY(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.isImmutable,r=t===void 0?zY.default:t,n=e.ignore,c=HY.default.bind(null,r,n);return function(S){var s=S.getState,g=s(),i=c(g),a=void 0;return function(v){return function(f){g=s(),a=i.detectMutations(),i=c(g),(0,j9.default)(!a.wasMutated,$Y,(a.path||[]).join("."));var h=v(f);return g=s(),a=i.detectMutations(),i=c(g),a.wasMutated&&(0,j9.default)(!a.wasMutated,VY,(a.path||[]).join("."),(0,jY.default)(f)),h}}}}var Gl=function(t){return"@@redux-saga/"+t},YY=Gl("CANCEL_PROMISE"),OM=Gl("CHANNEL_END"),NM=Gl("IO"),U9=Gl("MATCH"),XY=Gl("MULTICAST"),FM=Gl("SAGA_ACTION"),QY=Gl("SELF_CANCELLATION"),KY=Gl("TASK"),xd=Gl("TASK_CANCEL"),LM=Gl("TERMINATE"),JY=Gl("LOCATION"),ZY=function(t){return t==null},qY=function(t){return t!=null},dc=function(t){return typeof t=="function"},tX=function(t){return typeof t=="string"},qd=Array.isArray,ix=function(t){return t&&dc(t.then)},W3=function(t){return t&&dc(t.next)&&dc(t.throw)},eX=function(t){return dc(t)&&t.hasOwnProperty("toString")},iX=function(t){return!!t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype},rX=function(t){return function(){return t}},nX=rX(!0),Ia=function(){},sX=function(t){return t},Y3=function(t,r){Kn(t,r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(function(n){t[n]=r[n]})},aX=function(t,r){var n;return(n=[]).concat.apply(n,r.map(t))};function rx(e,t){var r=e.indexOf(t);r>=0&&e.splice(r,1)}function oX(e){var t=!1;return function(){t||(t=!0,e())}}var lX=function(t){throw t},uX=function(t){return{value:t,done:!0}};function z9(e,t,r){t=lX,r="iterator";var n={meta:{name:r},next:e,throw:t,return:uX,isSagaIterator:!0};return typeof Symbol!="undefined"&&(n[Symbol.iterator]=function(){return n}),n}function hX(e,t){var r=t.sagaStack;console.error(e),console.error(r)}var _M=function(t){return Array.apply(null,new Array(t))},cX=function(t){return function(r){return t(Object.defineProperty(r,FM,{value:!0}))}},jM=function(t){return t===LM},UM=function(t){return t===xd},zM=function(t){return jM(t)||UM(t)};function GM(e,t){var r=Object.keys(e),n=r.length,c=0,S,s=qd(e)?_M(n):{},g={};function i(){c===n&&(S=!0,t(s))}return r.forEach(function(a){var v=function(h,u){S||(u||zM(h)?(t.cancel(),t(h,u)):(s[a]=h,c++,i()))};v.cancel=Ia,g[a]=v}),t.cancel=function(){S||(S=!0,r.forEach(function(a){return g[a].cancel()}))},g}function X3(e){return{name:e.name||"anonymous",location:HM(e)}}function HM(e){return e[JY]}function fX(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,c){return function(){return n(c.apply(void 0,arguments))}})}var dX="Channel's Buffer overflow!",pX=1,vX=3,$M=4;function mX(e,t){e===void 0&&(e=10);var r=new Array(e),n=0,c=0,S=0,s=function(v){r[c]=v,c=(c+1)%e,n++},g=function(){if(n!=0){var v=r[S];return r[S]=null,n--,S=(S+1)%e,v}},i=function(){for(var v=[];n;)v.push(g());return v};return{isEmpty:function(){return n==0},put:function(v){if(n<e)s(v);else{var f;switch(t){case pX:throw new Error(dX);case vX:r[c]=v,c=(c+1)%e,S=c;break;case $M:f=2*e,r=i(),n=r.length,c=r.length,S=0,r.length=f,e=f,s(v);break}}},take:g,flush:i}}var gX=function(t){return mX(t,$M)},yX="TAKE",xX="PUT",VM="ALL",bX="RACE",SX="CALL",wX="CPS",TX="FORK",CX="JOIN",EX="CANCEL",kX="SELECT",DX="ACTION_CHANNEL",AX="CANCELLED",PX="FLUSH",RX="GET_CONTEXT",IX="SET_CONTEXT",MX=function(t,r){var n;return n={},n[NM]=!0,n.combinator=!1,n.type=t,n.payload=r,n};function BX(e){var t=MX(VM,e);return t.combinator=!0,t}function OX(){var e={};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e}var WM=[],nx=0;function NX(e){try{Q3(),e()}finally{QM()}}function YM(e){WM.push(e),nx||(Q3(),KM())}function XM(e){try{return Q3(),e()}finally{KM()}}function Q3(){nx++}function QM(){nx--}function KM(){QM();for(var e;!nx&&(e=WM.shift())!==void 0;)NX(e)}var FX=function(t){return function(r){return t.some(function(n){return K3(n)(r)})}},LX=function(t){return function(r){return t(r)}},G9=function(t){return function(r){return r.type===String(t)}},_X=function(t){return function(r){return r.type===t}},JM=function(){return nX};function K3(e){var t=e==="*"?JM:tX(e)?G9:qd(e)?FX:eX(e)?G9:dc(e)?LX:iX(e)?_X:null;if(t===null)throw new Error("invalid pattern: "+e);return t(e)}var Mv={type:OM},J3=function(t){return t&&t.type===OM};function jX(e){e===void 0&&(e=gX());var t=!1,r=[];function n(g){if(!t){if(r.length===0)return e.put(g);var i=r.shift();i(g)}}function c(g){t&&e.isEmpty()?g(Mv):e.isEmpty()?(r.push(g),g.cancel=function(){rx(r,g)}):g(e.take())}function S(g){if(t&&e.isEmpty()){g(Mv);return}g(e.flush())}function s(){if(!t){t=!0;var g=r;r=[];for(var i=0,a=g.length;i<a;i++){var v=g[i];v(Mv)}}}return{take:c,put:n,flush:S,close:s}}function UX(){var e,t=!1,r=[],n=r,c=function(){n===r&&(n=r.slice())},S=function(){t=!0;var g=r=n;n=[],g.forEach(function(i){i(Mv)})};return e={},e[XY]=!0,e.put=function(g){if(!t){if(J3(g)){S();return}for(var i=r=n,a=0,v=i.length;a<v;a++){var f=i[a];f[U9](g)&&(f.cancel(),f(g))}}},e.take=function(g,i){if(i===void 0&&(i=JM),t){g(Mv);return}g[U9]=i,c(),n.push(g),g.cancel=oX(function(){c(),rx(n,g)})},e.close=S,e}function ZM(){var e=UX(),t=e.put;return e.put=function(r){if(r[FM]){t(r);return}YM(function(){t(r)})},e}var Wc=0,qu=1,Jg=2,qM=3;function Z3(e,t){var r=e[YY];dc(r)&&(t.cancel=r),e.then(t,function(n){t(n,!0)})}var _m=0,tB=function(){return++_m},ta;function zX(e,t){return e.isSagaIterator?{name:e.meta.name}:X3(t)}function GX(e){var t=e.context,r=e.fn,n=e.args;try{var c=r.apply(t,n);if(W3(c))return c;var S=!1,s=function(i){return S?{value:i,done:!0}:(S=!0,{value:c,done:!ix(c)})};return z9(s)}catch(g){return z9(function(){throw g})}}function HX(e,t,r){var n=t.channel,c=t.action,S=t.resolve;YM(function(){var s;try{s=(n?n.put:e.dispatch)(c)}catch(g){r(g,!0);return}S&&ix(s)?Z3(s,r):r(s)})}function $X(e,t,r){var n=t.channel,c=n===void 0?e.channel:n,S=t.pattern,s=t.maybe,g=function(a){if(a instanceof Error){r(a,!0);return}if(J3(a)&&!s){r(LM);return}r(a)};try{c.take(g,qY(S)?K3(S):null)}catch(i){r(i,!0);return}r.cancel=g.cancel}function VX(e,t,r,n){var c=t.context,S=t.fn,s=t.args,g=n.task;try{var i=S.apply(c,s);if(ix(i)){Z3(i,r);return}if(W3(i)){sx(e,i,g.context,_m,X3(S),!1,r);return}r(i)}catch(a){r(a,!0)}}function WX(e,t,r){var n=t.context,c=t.fn,S=t.args;try{var s=function(i,a){ZY(i)?r(a):r(i,!0)};c.apply(n,S.concat(s)),s.cancel&&(r.cancel=s.cancel)}catch(g){r(g,!0)}}function YX(e,t,r,n){var c=t.context,S=t.fn,s=t.args,g=t.detached,i=n.task,a=GX({context:c,fn:S,args:s}),v=zX(a,S);XM(function(){var f=sx(e,a,i.context,_m,v,g,void 0);g?r(f):f.isRunning()?(i.queue.addTask(f),r(f)):f.isAborted()?i.queue.abort(f.error()):r(f)})}function XX(e,t,r,n){var c=n.task,S=function(i,a){if(i.isRunning()){var v={task:c,cb:a};a.cancel=function(){i.isRunning()&&rx(i.joiners,v)},i.joiners.push(v)}else i.isAborted()?a(i.error(),!0):a(i.result())};if(qd(t)){if(t.length===0){r([]);return}var s=GM(t,r);t.forEach(function(g,i){S(g,s[i])})}else S(t,r)}function Wb(e){e.isRunning()&&e.cancel()}function QX(e,t,r,n){var c=n.task;t===QY?Wb(c):qd(t)?t.forEach(Wb):Wb(t),r()}function KX(e,t,r,n){var c=n.digestEffect,S=_m,s=Object.keys(t);if(s.length===0){r(qd(t)?[]:{});return}var g=GM(t,r);s.forEach(function(i){c(t[i],S,g[i],i)})}function JX(e,t,r,n){var c=n.digestEffect,S=_m,s=Object.keys(t),g=qd(t)?_M(s.length):{},i={},a=!1;s.forEach(function(v){var f=function(u,o){a||(o||zM(u)?(r.cancel(),r(u,o)):(r.cancel(),a=!0,g[v]=u,r(g)))};f.cancel=Ia,i[v]=f}),r.cancel=function(){a||(a=!0,s.forEach(function(v){return i[v].cancel()}))},s.forEach(function(v){a||c(t[v],S,i[v],v)})}function ZX(e,t,r){var n=t.selector,c=t.args;try{var S=n.apply(void 0,[e.getState()].concat(c));r(S)}catch(s){r(s,!0)}}function qX(e,t,r){var n=t.pattern,c=t.buffer,S=jX(c),s=K3(n),g=function a(v){J3(v)||e.channel.take(a,s),S.put(v)},i=S.close;S.close=function(){g.cancel(),i()},e.channel.take(g,s),r(S)}function tQ(e,t,r,n){var c=n.task;r(c.isCancelled())}function eQ(e,t,r){t.flush(r)}function iQ(e,t,r,n){var c=n.task;r(c.context[t])}function rQ(e,t,r,n){var c=n.task;Y3(c.context,t),r()}var nQ=(ta={},ta[yX]=$X,ta[xX]=HX,ta[VM]=KX,ta[bX]=JX,ta[SX]=VX,ta[wX]=WX,ta[TX]=YX,ta[CX]=XX,ta[EX]=QX,ta[kX]=ZX,ta[DX]=qX,ta[AX]=tQ,ta[PX]=eQ,ta[RX]=iQ,ta[IX]=rQ,ta);function sQ(e,t,r){var n=[],c,S=!1;i(e);var s=function(){return n};function g(v){t(),a(),r(v,!0)}function i(v){n.push(v),v.cont=function(f,h){S||(rx(n,v),v.cont=Ia,h?g(f):(v===e&&(c=f),n.length||(S=!0,r(c))))}}function a(){S||(S=!0,n.forEach(function(v){v.cont=Ia,v.cancel()}),n=[])}return{addTask:i,cancelAll:a,abort:g,getTasks:s}}function eB(e,t){return e+"?"+t}function aQ(e){var t=HM(e);if(t){var r=t.code,n=t.fileName,c=t.lineNumber,S=r+"  "+eB(n,c);return S}return""}function H9(e){var t=e.name,r=e.location;return r?t+"  "+eB(r.fileName,r.lineNumber):t}function oQ(e){var t=aX(function(r){return r.cancelledTasks},e);return t.length?["Tasks cancelled due to error:"].concat(t).join(`
`):""}var q3=null,Bv=[],lQ=function(t){t.crashedEffect=q3,Bv.push(t)},iB=function(){q3=null,Bv.length=0},uQ=function(t){q3=t},hQ=function(){var t=Bv[0],r=Bv.slice(1),n=t.crashedEffect?aQ(t.crashedEffect):null,c="The above error occurred in task "+H9(t.meta)+(n?` 
 when executing effect `+n:"");return[c].concat(r.map(function(S){return"    created by "+H9(S.meta)}),[oQ(Bv)]).join(`
`)};function cQ(e,t,r,n,c,S,s){var g;s===void 0&&(s=Ia);var i=Wc,a,v,f=null,h=[],u=Object.create(r),o=sQ(t,function(){h.push.apply(h,o.getTasks().map(function(b){return b.meta.name}))},p);function d(){i===Wc&&(i=qu,o.cancelAll(),p(xd,!1))}function p(x,b){if(!b)x===xd?i=qu:i!==qu&&(i=qM),a=x,f&&f.resolve(x);else{if(i=Jg,lQ({meta:c,cancelledTasks:h}),y.isRoot){var w=hQ();iB(),e.onError(x,{sagaStack:w})}v=x,f&&f.reject(x)}y.cont(x,b),y.joiners.forEach(function(C){C.cb(x,b)}),y.joiners=null}function l(x){Y3(u,x)}function m(){return f||(f=OX(),i===Jg?f.reject(v):i!==Wc&&f.resolve(a)),f.promise}var y=(g={},g[KY]=!0,g.id=n,g.meta=c,g.isRoot=S,g.context=u,g.joiners=[],g.queue=o,g.cancel=d,g.cont=s,g.end=p,g.setContext=l,g.toPromise=m,g.isRunning=function(){return i===Wc},g.isCancelled=function(){return i===qu||i===Wc&&t.status===qu},g.isAborted=function(){return i===Jg},g.result=function(){return a},g.error=function(){return v},g);return y}function sx(e,t,r,n,c,S,s){var g=e.finalizeRunEffect(u);h.cancel=Ia;var i={meta:c,cancel:f,status:Wc},a=cQ(e,i,r,n,c,S,s),v={task:a,digestEffect:o};function f(){i.status===Wc&&(i.status=qu,h(xd))}return s&&(s.cancel=a.cancel),h(),a;function h(d,p){try{var l;p?(l=t.throw(d),iB()):UM(d)?(i.status=qu,h.cancel(),l=dc(t.return)?t.return(xd):{done:!0,value:xd}):jM(d)?l=dc(t.return)?t.return():{done:!0}:l=t.next(d),l.done?(i.status!==qu&&(i.status=qM),i.cont(l.value)):o(l.value,n,h)}catch(m){if(i.status===qu)throw m;i.status=Jg,i.cont(m,!0)}}function u(d,p,l){if(ix(d))Z3(d,l);else if(W3(d))sx(e,d,a.context,p,c,!1,l);else if(d&&d[NM]){var m=nQ[d.type];m(e,d.payload,l,v)}else l(d)}function o(d,p,l,m){m===void 0&&(m="");var y=tB();e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:y,parentEffectId:p,label:m,effect:d});var x;function b(w,C){x||(x=!0,l.cancel=Ia,e.sagaMonitor&&(C?e.sagaMonitor.effectRejected(y,w):e.sagaMonitor.effectResolved(y,w)),C&&uQ(d),l(w,C))}b.cancel=Ia,l.cancel=function(){x||(x=!0,b.cancel(),b.cancel=Ia,e.sagaMonitor&&e.sagaMonitor.effectCancelled(y))},g(d,y,b)}}function fQ(e,t){for(var r=e.channel,n=r===void 0?ZM():r,c=e.dispatch,S=e.getState,s=e.context,g=s===void 0?{}:s,i=e.sagaMonitor,a=e.effectMiddlewares,v=e.onError,f=v===void 0?hX:v,h=arguments.length,u=new Array(h>2?h-2:0),o=2;o<h;o++)u[o-2]=arguments[o];var d=t.apply(void 0,u),p=tB();i&&(i.rootSagaStarted=i.rootSagaStarted||Ia,i.effectTriggered=i.effectTriggered||Ia,i.effectResolved=i.effectResolved||Ia,i.effectRejected=i.effectRejected||Ia,i.effectCancelled=i.effectCancelled||Ia,i.actionDispatched=i.actionDispatched||Ia,i.rootSagaStarted({effectId:p,saga:t,args:u}));var l;if(a){var m=fX.apply(void 0,a);l=function(b){return function(w,C,E){var T=function(P){return b(P,C,E)};return m(T)(w)}}}else l=sX;var y={channel:n,dispatch:cX(c),getState:S,sagaMonitor:i,onError:f,finalizeRunEffect:l};return XM(function(){var x=sx(y,d,g,p,X3(t),!0,void 0);return i&&i.effectResolved(p,x),x})}function dQ(e){var t={},r=t.context,n=r===void 0?{}:r,c=t.channel,S=c===void 0?ZM():c,s=t.sagaMonitor,g=ph(t,["context","channel","sagaMonitor"]),i;function a(v){var f=v.getState,h=v.dispatch;return i=fQ.bind(null,Kn({},g,{context:n,channel:S,dispatch:h,getState:f,sagaMonitor:s})),function(u){return function(o){s&&s.actionDispatched&&s.actionDispatched(o);var d=u(o);return S.put(o),d}}}return a.run=function(){return i.apply(void 0,arguments)},a.setContext=function(v){Y3(n,v)},a}var jm="delete",Nn=5,Wo=1<<Nn,Oa=Wo-1,Nr={};function m2(){return{value:!1}}function Yo(e){e&&(e.value=!0)}function tE(){}function Ld(e){return e.size===void 0&&(e.size=e.__iterate(rB)),e.size}function pc(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?Ld(e)+t:t}function rB(){return!0}function ax(e,t,r){return(e===0&&!sB(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function Um(e,t){return nB(e,t,0)}function ox(e,t){return nB(e,t,t)}function nB(e,t,r){return e===void 0?r:sB(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function sB(e){return e<0||e===0&&1/e===-1/0}var aB="@@__IMMUTABLE_ITERABLE__@@";function ao(e){return!!(e&&e[aB])}var oB="@@__IMMUTABLE_KEYED__@@";function Fn(e){return!!(e&&e[oB])}var lB="@@__IMMUTABLE_INDEXED__@@";function Na(e){return!!(e&&e[lB])}function lx(e){return Fn(e)||Na(e)}var Ss=function(t){return ao(t)?t:lo(t)},il=function(e){function t(r){return Fn(r)?r:bc(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ss),Tf=function(e){function t(r){return Na(r)?r:$l(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ss),tp=function(e){function t(r){return ao(r)&&!lx(r)?r:np(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ss);Ss.Keyed=il;Ss.Indexed=Tf;Ss.Set=tp;var uB="@@__IMMUTABLE_SEQ__@@";function eE(e){return!!(e&&e[uB])}var hB="@@__IMMUTABLE_RECORD__@@";function ep(e){return!!(e&&e[hB])}function Hl(e){return ao(e)||ep(e)}var ip="@@__IMMUTABLE_ORDERED__@@";function Ol(e){return!!(e&&e[ip])}var zm=0,Ll=1,Jo=2,g2=typeof Symbol=="function"&&Symbol.iterator,cB="@@iterator",ux=g2||cB,Zr=function(t){this.next=t};Zr.prototype.toString=function(){return"[Iterator]"};Zr.KEYS=zm;Zr.VALUES=Ll;Zr.ENTRIES=Jo;Zr.prototype.inspect=Zr.prototype.toSource=function(){return this.toString()};Zr.prototype[ux]=function(){return this};function Qn(e,t,r,n){var c=e===0?t:e===1?r:[t,r];return n?n.value=c:n={value:c,done:!1},n}function oo(){return{value:void 0,done:!0}}function iE(e){return Array.isArray(e)?!0:!!hx(e)}function $9(e){return e&&typeof e.next=="function"}function y2(e){var t=hx(e);return t&&t.call(e)}function hx(e){var t=e&&(g2&&e[g2]||e[cB]);if(typeof t=="function")return t}function pQ(e){var t=hx(e);return t&&t===e.entries}function vQ(e){var t=hx(e);return t&&t===e.keys}var rp=Object.prototype.hasOwnProperty;function rE(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var lo=function(e){function t(r){return r==null?sE():Hl(r)?r.toSeq():gQ(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,c){var S=this._cache;if(S){for(var s=S.length,g=0;g!==s;){var i=S[c?s-++g:g++];if(n(i[1],i[0],this)===!1)break}return g}return this.__iterateUncached(n,c)},t.prototype.__iterator=function(n,c){var S=this._cache;if(S){var s=S.length,g=0;return new Zr(function(){if(g===s)return oo();var i=S[c?s-++g:g++];return Qn(n,i[0],i[1])})}return this.__iteratorUncached(n,c)},t}(Ss),bc=function(e){function t(r){return r==null?sE().toKeyedSeq():ao(r)?Fn(r)?r.toSeq():r.fromEntrySeq():ep(r)?r.toSeq():aE(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(lo),$l=function(e){function t(r){return r==null?sE():ao(r)?Fn(r)?r.entrySeq():r.toIndexedSeq():ep(r)?r.toSeq().entrySeq():fB(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(lo),np=function(e){function t(r){return(ao(r)&&!lx(r)?r:$l(r)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(lo);lo.isSeq=eE;lo.Keyed=bc;lo.Set=np;lo.Indexed=$l;lo.prototype[uB]=!0;var bf=function(e){function t(r){this._array=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,c){return this.has(n)?this._array[pc(this,n)]:c},t.prototype.__iterate=function(n,c){for(var S=this._array,s=S.length,g=0;g!==s;){var i=c?s-++g:g++;if(n(S[i],i,this)===!1)break}return g},t.prototype.__iterator=function(n,c){var S=this._array,s=S.length,g=0;return new Zr(function(){if(g===s)return oo();var i=c?s-++g:g++;return Qn(n,i,S[i])})},t}($l),nE=function(e){function t(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,c){return c!==void 0&&!this.has(n)?c:this._object[n]},t.prototype.has=function(n){return rp.call(this._object,n)},t.prototype.__iterate=function(n,c){for(var S=this._object,s=this._keys,g=s.length,i=0;i!==g;){var a=s[c?g-++i:i++];if(n(S[a],a,this)===!1)break}return i},t.prototype.__iterator=function(n,c){var S=this._object,s=this._keys,g=s.length,i=0;return new Zr(function(){if(i===g)return oo();var a=s[c?g-++i:i++];return Qn(n,a,S[a])})},t}(bc);nE.prototype[ip]=!0;var mQ=function(e){function t(r){this._collection=r,this.size=r.length||r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,c){if(c)return this.cacheResult().__iterate(n,c);var S=this._collection,s=y2(S),g=0;if($9(s))for(var i;!(i=s.next()).done&&n(i.value,g++,this)!==!1;);return g},t.prototype.__iteratorUncached=function(n,c){if(c)return this.cacheResult().__iterator(n,c);var S=this._collection,s=y2(S);if(!$9(s))return new Zr(oo);var g=0;return new Zr(function(){var i=s.next();return i.done?i:Qn(n,g++,i.value)})},t}($l),V9;function sE(){return V9||(V9=new bf([]))}function aE(e){var t=oE(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new nE(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function fB(e){var t=oE(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function gQ(e){var t=oE(e);if(t)return pQ(e)?t.fromEntrySeq():vQ(e)?t.toSetSeq():t;if(typeof e=="object")return new nE(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function oE(e){return rE(e)?new bf(e):iE(e)?new mQ(e):void 0}var dB="@@__IMMUTABLE_MAP__@@";function lE(e){return!!(e&&e[dB])}function pB(e){return lE(e)&&Ol(e)}function W9(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function wo(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(W9(e)&&W9(t)&&e.equals(t))}var Up=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,r){t|=0,r|=0;var n=t&65535,c=r&65535;return n*c+((t>>>16)*c+n*(r>>>16)<<16>>>0)|0};function cx(e){return e>>>1&1073741824|e&3221225471}var yQ=Object.prototype.valueOf;function bo(e){if(e==null)return Y9(e);if(typeof e.hashCode=="function")return cx(e.hashCode(e));var t=CQ(e);if(t==null)return Y9(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return xQ(t);case"string":return t.length>kQ?bQ(t):x2(t);case"object":case"function":return wQ(t);case"symbol":return SQ(t);default:if(typeof t.toString=="function")return x2(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function Y9(e){return e===null?1108378658:1108378659}function xQ(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return cx(t)}function bQ(e){var t=Qb[e];return t===void 0&&(t=x2(e),Xb===DQ&&(Xb=0,Qb={}),Xb++,Qb[e]=t),t}function x2(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return cx(t)}function SQ(e){var t=K9[e];return t!==void 0||(t=vB(),K9[e]=t),t}function wQ(e){var t;if(b2&&(t=S2.get(e),t!==void 0)||(t=e[Yc],t!==void 0)||!Q9&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Yc],t!==void 0||(t=TQ(e),t!==void 0)))return t;if(t=vB(),b2)S2.set(e,t);else{if(X9!==void 0&&X9(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Q9)Object.defineProperty(e,Yc,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Yc]=t;else if(e.nodeType!==void 0)e[Yc]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var X9=Object.isExtensible,Q9=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function TQ(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function CQ(e){return e.valueOf!==yQ&&typeof e.valueOf=="function"?e.valueOf(e):e}function vB(){var e=++Yb;return Yb&1073741824&&(Yb=0),e}var b2=typeof WeakMap=="function",S2;b2&&(S2=new WeakMap);var K9=Object.create(null),Yb=0,Yc="__immutablehash__";typeof Symbol=="function"&&(Yc=Symbol(Yc));var kQ=16,DQ=255,Xb=0,Qb={},fx=function(e){function t(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,c){return this._iter.get(n,c)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,c=uE(this,!0);return this._useKeys||(c.valueSeq=function(){return n._iter.toSeq().reverse()}),c},t.prototype.map=function(n,c){var S=this,s=bB(this,n,c);return this._useKeys||(s.valueSeq=function(){return S._iter.toSeq().map(n,c)}),s},t.prototype.__iterate=function(n,c){var S=this;return this._iter.__iterate(function(s,g){return n(s,g,S)},c)},t.prototype.__iterator=function(n,c){return this._iter.__iterator(n,c)},t}(bc);fx.prototype[ip]=!0;var mB=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,c){var S=this,s=0;return c&&Ld(this),this._iter.__iterate(function(g){return n(g,c?S.size-++s:s++,S)},c)},t.prototype.__iterator=function(n,c){var S=this,s=this._iter.__iterator(Ll,c),g=0;return c&&Ld(this),new Zr(function(){var i=s.next();return i.done?i:Qn(n,c?S.size-++g:g++,i.value,i)})},t}($l),gB=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,c){var S=this;return this._iter.__iterate(function(s){return n(s,s,S)},c)},t.prototype.__iterator=function(n,c){var S=this._iter.__iterator(Ll,c);return new Zr(function(){var s=S.next();return s.done?s:Qn(n,s.value,s.value,s)})},t}(np),yB=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,c){var S=this;return this._iter.__iterate(function(s){if(s){Z9(s);var g=ao(s);return n(g?s.get(1):s[1],g?s.get(0):s[0],S)}},c)},t.prototype.__iterator=function(n,c){var S=this._iter.__iterator(Ll,c);return new Zr(function(){for(;;){var s=S.next();if(s.done)return s;var g=s.value;if(g){Z9(g);var i=ao(g);return Qn(n,i?g.get(0):g[0],i?g.get(1):g[1],s)}}})},t}(bc);mB.prototype.cacheResult=fx.prototype.cacheResult=gB.prototype.cacheResult=yB.prototype.cacheResult=fE;function xB(e){var t=Du(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=fE,t.__iterateUncached=function(r,n){var c=this;return e.__iterate(function(S,s){return r(s,S,c)!==!1},n)},t.__iteratorUncached=function(r,n){if(r===Jo){var c=e.__iterator(r,n);return new Zr(function(){var S=c.next();if(!S.done){var s=S.value[0];S.value[0]=S.value[1],S.value[1]=s}return S})}return e.__iterator(r===Ll?zm:Ll,n)},t}function bB(e,t,r){var n=Du(e);return n.size=e.size,n.has=function(c){return e.has(c)},n.get=function(c,S){var s=e.get(c,Nr);return s===Nr?S:t.call(r,s,c,e)},n.__iterateUncached=function(c,S){var s=this;return e.__iterate(function(g,i,a){return c(t.call(r,g,i,a),i,s)!==!1},S)},n.__iteratorUncached=function(c,S){var s=e.__iterator(Jo,S);return new Zr(function(){var g=s.next();if(g.done)return g;var i=g.value,a=i[0];return Qn(c,a,t.call(r,i[1],a,e),g)})},n}function uE(e,t){var r=this,n=Du(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var c=xB(e);return c.reverse=function(){return e.flip()},c}),n.get=function(c,S){return e.get(t?c:-1-c,S)},n.has=function(c){return e.has(t?c:-1-c)},n.includes=function(c){return e.includes(c)},n.cacheResult=fE,n.__iterate=function(c,S){var s=this,g=0;return S&&Ld(e),e.__iterate(function(i,a){return c(i,t?a:S?s.size-++g:g++,s)},!S)},n.__iterator=function(c,S){var s=0;S&&Ld(e);var g=e.__iterator(Jo,!S);return new Zr(function(){var i=g.next();if(i.done)return i;var a=i.value;return Qn(c,t?a[0]:S?r.size-++s:s++,a[1],i)})},n}function SB(e,t,r,n){var c=Du(e);return n&&(c.has=function(S){var s=e.get(S,Nr);return s!==Nr&&!!t.call(r,s,S,e)},c.get=function(S,s){var g=e.get(S,Nr);return g!==Nr&&t.call(r,g,S,e)?g:s}),c.__iterateUncached=function(S,s){var g=this,i=0;return e.__iterate(function(a,v,f){if(t.call(r,a,v,f))return i++,S(a,n?v:i-1,g)},s),i},c.__iteratorUncached=function(S,s){var g=e.__iterator(Jo,s),i=0;return new Zr(function(){for(;;){var a=g.next();if(a.done)return a;var v=a.value,f=v[0],h=v[1];if(t.call(r,h,f,e))return Qn(S,n?f:i++,h,a)}})},c}function AQ(e,t,r){var n=ap().asMutable();return e.__iterate(function(c,S){n.update(t.call(r,c,S,e),0,function(s){return s+1})}),n.asImmutable()}function PQ(e,t,r){var n=Fn(e),c=(Ol(e)?hh():ap()).asMutable();e.__iterate(function(s,g){c.update(t.call(r,s,g,e),function(i){return i=i||[],i.push(n?[g,s]:s),i})});var S=cE(e);return c.map(function(s){return yn(e,S(s))}).asImmutable()}function RQ(e,t,r){var n=Fn(e),c=[[],[]];e.__iterate(function(s,g){c[t.call(r,s,g,e)?1:0].push(n?[g,s]:s)});var S=cE(e);return c.map(function(s){return yn(e,S(s))})}function hE(e,t,r,n){var c=e.size;if(ax(t,r,c))return e;var S=Um(t,c),s=ox(r,c);if(S!==S||s!==s)return hE(e.toSeq().cacheResult(),t,r,n);var g=s-S,i;g===g&&(i=g<0?0:g);var a=Du(e);return a.size=i===0?i:e.size&&i||void 0,!n&&eE(e)&&i>=0&&(a.get=function(v,f){return v=pc(this,v),v>=0&&v<i?e.get(v+S,f):f}),a.__iterateUncached=function(v,f){var h=this;if(i===0)return 0;if(f)return this.cacheResult().__iterate(v,f);var u=0,o=!0,d=0;return e.__iterate(function(p,l){if(!(o&&(o=u++<S)))return d++,v(p,n?l:d-1,h)!==!1&&d!==i}),d},a.__iteratorUncached=function(v,f){if(i!==0&&f)return this.cacheResult().__iterator(v,f);if(i===0)return new Zr(oo);var h=e.__iterator(v,f),u=0,o=0;return new Zr(function(){for(;u++<S;)h.next();if(++o>i)return oo();var d=h.next();return n||v===Ll||d.done?d:v===zm?Qn(v,o-1,void 0,d):Qn(v,o-1,d.value[1],d)})},a}function IQ(e,t,r){var n=Du(e);return n.__iterateUncached=function(c,S){var s=this;if(S)return this.cacheResult().__iterate(c,S);var g=0;return e.__iterate(function(i,a,v){return t.call(r,i,a,v)&&++g&&c(i,a,s)}),g},n.__iteratorUncached=function(c,S){var s=this;if(S)return this.cacheResult().__iterator(c,S);var g=e.__iterator(Jo,S),i=!0;return new Zr(function(){if(!i)return oo();var a=g.next();if(a.done)return a;var v=a.value,f=v[0],h=v[1];return t.call(r,h,f,s)?c===Jo?a:Qn(c,f,h,a):(i=!1,oo())})},n}function wB(e,t,r,n){var c=Du(e);return c.__iterateUncached=function(S,s){var g=this;if(s)return this.cacheResult().__iterate(S,s);var i=!0,a=0;return e.__iterate(function(v,f,h){if(!(i&&(i=t.call(r,v,f,h))))return a++,S(v,n?f:a-1,g)}),a},c.__iteratorUncached=function(S,s){var g=this;if(s)return this.cacheResult().__iterator(S,s);var i=e.__iterator(Jo,s),a=!0,v=0;return new Zr(function(){var f,h,u;do{if(f=i.next(),f.done)return n||S===Ll?f:S===zm?Qn(S,v++,void 0,f):Qn(S,v++,f.value[1],f);var o=f.value;h=o[0],u=o[1],a&&(a=t.call(r,u,h,g))}while(a);return S===Jo?f:Qn(S,h,u,f)})},c}function MQ(e,t){var r=Fn(e),n=[e].concat(t).map(function(s){return ao(s)?r&&(s=il(s)):s=r?aE(s):fB(Array.isArray(s)?s:[s]),s}).filter(function(s){return s.size!==0});if(n.length===0)return e;if(n.length===1){var c=n[0];if(c===e||r&&Fn(c)||Na(e)&&Na(c))return c}var S=new bf(n);return r?S=S.toKeyedSeq():Na(e)||(S=S.toSetSeq()),S=S.flatten(!0),S.size=n.reduce(function(s,g){if(s!==void 0){var i=g.size;if(i!==void 0)return s+i}},0),S}function TB(e,t,r){var n=Du(e);return n.__iterateUncached=function(c,S){if(S)return this.cacheResult().__iterate(c,S);var s=0,g=!1;function i(a,v){a.__iterate(function(f,h){return(!t||v<t)&&ao(f)?i(f,v+1):(s++,c(f,r?h:s-1,n)===!1&&(g=!0)),!g},S)}return i(e,0),s},n.__iteratorUncached=function(c,S){if(S)return this.cacheResult().__iterator(c,S);var s=e.__iterator(c,S),g=[],i=0;return new Zr(function(){for(;s;){var a=s.next();if(a.done!==!1){s=g.pop();continue}var v=a.value;if(c===Jo&&(v=v[1]),(!t||g.length<t)&&ao(v))g.push(s),s=v.__iterator(c,S);else return r?a:Qn(c,i++,v,a)}return oo()})},n}function BQ(e,t,r){var n=cE(e);return e.toSeq().map(function(c,S){return n(t.call(r,c,S,e))}).flatten(!0)}function OQ(e,t){var r=Du(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(n,c){var S=this,s=0;return e.__iterate(function(g){return(!s||n(t,s++,S)!==!1)&&n(g,s++,S)!==!1},c),s},r.__iteratorUncached=function(n,c){var S=e.__iterator(Ll,c),s=0,g;return new Zr(function(){return(!g||s%2)&&(g=S.next(),g.done)?g:s%2?Qn(n,s++,t):Qn(n,s++,g.value,g)})},r}function _d(e,t,r){t||(t=CB);var n=Fn(e),c=0,S=e.toSeq().map(function(s,g){return[g,s,c++,r?r(s,g,e):s]}).valueSeq().toArray();return S.sort(function(s,g){return t(s[3],g[3])||s[2]-g[2]}).forEach(n?function(s,g){S[g].length=2}:function(s,g){S[g]=s[1]}),n?bc(S):Na(e)?$l(S):np(S)}function U0(e,t,r){if(t||(t=CB),r){var n=e.toSeq().map(function(c,S){return[c,r(c,S,e)]}).reduce(function(c,S){return J9(t,c[1],S[1])?S:c});return n&&n[0]}return e.reduce(function(c,S){return J9(t,c,S)?S:c})}function J9(e,t,r){var n=e(r,t);return n===0&&r!==t&&(r==null||r!==r)||n>0}function z0(e,t,r,n){var c=Du(e),S=new bf(r).map(function(s){return s.size});return c.size=n?S.max():S.min(),c.__iterate=function(s,g){for(var i=this.__iterator(Ll,g),a,v=0;!(a=i.next()).done&&s(a.value,v++,this)!==!1;);return v},c.__iteratorUncached=function(s,g){var i=r.map(function(f){return f=Ss(f),y2(g?f.reverse():f)}),a=0,v=!1;return new Zr(function(){var f;return v||(f=i.map(function(h){return h.next()}),v=n?f.every(function(h){return h.done}):f.some(function(h){return h.done})),v?oo():Qn(s,a++,t.apply(null,f.map(function(h){return h.value})))})},c}function yn(e,t){return e===t?e:eE(e)?t:e.constructor(t)}function Z9(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function cE(e){return Fn(e)?il:Na(e)?Tf:tp}function Du(e){return Object.create((Fn(e)?bc:Na(e)?$l:np).prototype)}function fE(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):lo.prototype.cacheResult.call(this)}function CB(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function ou(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),c=0;c<r;c++)n[c]=e[c+t];return n}function dE(e,t){if(!e)throw new Error(t)}function So(e){dE(e!==1/0,"Cannot perform this action with an infinite size.")}function EB(e){if(rE(e)&&typeof e!="string")return e;if(Ol(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var NQ=Object.prototype.toString;function kB(e){if(!e||typeof e!="object"||NQ.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t,n=Object.getPrototypeOf(t);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===t}function vc(e){return typeof e=="object"&&(Hl(e)||Array.isArray(e)||kB(e))}function lm(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function FQ(e,t){return Hl(e)?e.has(t):vc(e)&&rp.call(e,t)}function DB(e,t,r){return Hl(e)?e.get(t,r):FQ(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function K1(e){if(Array.isArray(e))return ou(e);var t={};for(var r in e)rp.call(e,r)&&(t[r]=e[r]);return t}function LQ(e,t){if(!vc(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Hl(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!rp.call(e,t))return e;var r=K1(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function _Q(e,t,r){if(!vc(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Hl(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(rp.call(e,t)&&r===e[t])return e;var n=K1(e);return n[t]=r,n}function sp(e,t,r,n){n||(n=r,r=void 0);var c=AB(Hl(e),e,EB(t),0,r,n);return c===Nr?r:c}function AB(e,t,r,n,c,S){var s=t===Nr;if(n===r.length){var g=s?c:t,i=S(g);return i===g?t:i}if(!s&&!vc(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(lm)+"]: "+t);var a=r[n],v=s?Nr:DB(t,a,Nr),f=AB(v===Nr?e:Hl(v),v,r,n+1,c,S);return f===v?t:f===Nr?LQ(t,a):_Q(s?e?vl():{}:t,a,f)}function jQ(e,t,r){return sp(e,t,Nr,function(){return r})}function pE(e,t){return jQ(this,e,t)}function UQ(e,t){return sp(e,t,function(){return Nr})}function vE(e){return UQ(this,e)}function PB(e,t,r,n){return sp(e,[t],r,n)}function mE(e,t,r){return arguments.length===1?e(this):PB(this,e,t,r)}function gE(e,t,r){return sp(this,e,t,r)}function RB(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return MB(this,e)}function IB(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return MB(this,t,e)}function MB(e,t,r){for(var n=[],c=0;c<t.length;c++){var S=il(t[c]);S.size!==0&&n.push(S)}return n.length===0?e:e.toSeq().size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(s){for(var g=r?function(a,v){PB(s,v,Nr,function(f){return f===Nr?a:r(f,a,v)})}:function(a,v){s.set(v,a)},i=0;i<n.length;i++)n[i].forEach(g)})}function yE(e,t,r){return xE(e,t,zQ(r))}function xE(e,t,r){if(!vc(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(Hl(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),c=e,S=n?Tf:il,s=n?function(i){c===e&&(c=K1(c)),c.push(i)}:function(i,a){var v=rp.call(c,a),f=v&&r?r(c[a],i,a):i;(!v||f!==c[a])&&(c===e&&(c=K1(c)),c[a]=f)},g=0;g<t.length;g++)S(t[g]).forEach(s);return c}function zQ(e){function t(r,n,c){return vc(r)&&vc(n)&&GQ(r,n)?xE(r,[n],t):e?e(r,n,c):n}return t}function GQ(e,t){var r=lo(e),n=lo(t);return Na(r)===Na(n)&&Fn(r)===Fn(n)}function BB(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return yE(this,e)}function OB(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return yE(this,t,e)}function bE(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return sp(this,e,vl(),function(n){return xE(n,t)})}function SE(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return sp(this,e,vl(),function(n){return yE(n,t)})}function Gm(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Hm(){return this.__ownerID?this:this.__ensureOwner(new tE)}function $m(){return this.__ensureOwner()}function wE(){return this.__altered}var ap=function(e){function t(r){return r==null?vl():lE(r)&&!Ol(r)?r:vl().withMutations(function(n){var c=e(r);So(c.size),c.forEach(function(S,s){return n.set(s,S)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],c=arguments.length;c--;)n[c]=arguments[c];return vl().withMutations(function(S){for(var s=0;s<n.length;s+=2){if(s+1>=n.length)throw new Error("Missing value for key: "+n[s]);S.set(n[s],n[s+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,c){return this._root?this._root.get(0,void 0,n,c):c},t.prototype.set=function(n,c){return e8(this,n,c)},t.prototype.remove=function(n){return e8(this,n,Nr)},t.prototype.deleteAll=function(n){var c=Ss(n);return c.size===0?this:this.withMutations(function(S){c.forEach(function(s){return S.remove(s)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):vl()},t.prototype.sort=function(n){return hh(_d(this,n))},t.prototype.sortBy=function(n,c){return hh(_d(this,c,n))},t.prototype.map=function(n,c){var S=this;return this.withMutations(function(s){s.forEach(function(g,i){s.set(i,n.call(c,g,i,S))})})},t.prototype.__iterator=function(n,c){return new HQ(this,n,c)},t.prototype.__iterate=function(n,c){var S=this,s=0;return this._root&&this._root.iterate(function(g){return s++,n(g[1],g[0],S)},c),s},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?TE(this.size,this._root,n,this.__hash):this.size===0?vl():(this.__ownerID=n,this.__altered=!1,this)},t}(il);ap.isMap=lE;var _n=ap.prototype;_n[dB]=!0;_n[jm]=_n.remove;_n.removeAll=_n.deleteAll;_n.setIn=pE;_n.removeIn=_n.deleteIn=vE;_n.update=mE;_n.updateIn=gE;_n.merge=_n.concat=RB;_n.mergeWith=IB;_n.mergeDeep=BB;_n.mergeDeepWith=OB;_n.mergeIn=bE;_n.mergeDeepIn=SE;_n.withMutations=Gm;_n.wasAltered=wE;_n.asImmutable=$m;_n["@@transducer/init"]=_n.asMutable=Hm;_n["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};_n["@@transducer/result"]=function(e){return e.asImmutable()};var um=function(t,r){this.ownerID=t,this.entries=r};um.prototype.get=function(t,r,n,c){for(var S=this.entries,s=0,g=S.length;s<g;s++)if(wo(n,S[s][0]))return S[s][1];return c};um.prototype.update=function(t,r,n,c,S,s,g){for(var i=S===Nr,a=this.entries,v=0,f=a.length;v<f&&!wo(c,a[v][0]);v++);var h=v<f;if(h?a[v][1]===S:i)return this;if(Yo(g),(i||!h)&&Yo(s),!(i&&a.length===1)){if(!h&&!i&&a.length>=QQ)return $Q(t,a,c,S);var u=t&&t===this.ownerID,o=u?a:ou(a);return h?i?v===f-1?o.pop():o[v]=o.pop():o[v]=[c,S]:o.push([c,S]),u?(this.entries=o,this):new um(t,o)}};var jd=function(t,r,n){this.ownerID=t,this.bitmap=r,this.nodes=n};jd.prototype.get=function(t,r,n,c){r===void 0&&(r=bo(n));var S=1<<((t===0?r:r>>>t)&Oa),s=this.bitmap;return s&S?this.nodes[NB(s&S-1)].get(t+Nn,r,n,c):c};jd.prototype.update=function(t,r,n,c,S,s,g){n===void 0&&(n=bo(c));var i=(r===0?n:n>>>r)&Oa,a=1<<i,v=this.bitmap,f=(v&a)!==0;if(!f&&S===Nr)return this;var h=NB(v&a-1),u=this.nodes,o=f?u[h]:void 0,d=CE(o,t,r+Nn,n,c,S,s,g);if(d===o)return this;if(!f&&d&&u.length>=KQ)return WQ(t,u,v,i,d);if(f&&!d&&u.length===2&&i8(u[h^1]))return u[h^1];if(f&&d&&u.length===1&&i8(d))return d;var p=t&&t===this.ownerID,l=f?d?v:v^a:v|a,m=f?d?FB(u,h,d,p):XQ(u,h,p):YQ(u,h,d,p);return p?(this.bitmap=l,this.nodes=m,this):new jd(t,l,m)};var hm=function(t,r,n){this.ownerID=t,this.count=r,this.nodes=n};hm.prototype.get=function(t,r,n,c){r===void 0&&(r=bo(n));var S=(t===0?r:r>>>t)&Oa,s=this.nodes[S];return s?s.get(t+Nn,r,n,c):c};hm.prototype.update=function(t,r,n,c,S,s,g){n===void 0&&(n=bo(c));var i=(r===0?n:n>>>r)&Oa,a=S===Nr,v=this.nodes,f=v[i];if(a&&!f)return this;var h=CE(f,t,r+Nn,n,c,S,s,g);if(h===f)return this;var u=this.count;if(!f)u++;else if(!h&&(u--,u<JQ))return VQ(t,v,u,i);var o=t&&t===this.ownerID,d=FB(v,i,h,o);return o?(this.count=u,this.nodes=d,this):new hm(t,u,d)};var Ud=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entries=n};Ud.prototype.get=function(t,r,n,c){for(var S=this.entries,s=0,g=S.length;s<g;s++)if(wo(n,S[s][0]))return S[s][1];return c};Ud.prototype.update=function(t,r,n,c,S,s,g){n===void 0&&(n=bo(c));var i=S===Nr;if(n!==this.keyHash)return i?this:(Yo(g),Yo(s),EE(this,t,r,n,[c,S]));for(var a=this.entries,v=0,f=a.length;v<f&&!wo(c,a[v][0]);v++);var h=v<f;if(h?a[v][1]===S:i)return this;if(Yo(g),(i||!h)&&Yo(s),i&&f===2)return new uh(t,this.keyHash,a[v^1]);var u=t&&t===this.ownerID,o=u?a:ou(a);return h?i?v===f-1?o.pop():o[v]=o.pop():o[v]=[c,S]:o.push([c,S]),u?(this.entries=o,this):new Ud(t,this.keyHash,o)};var uh=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entry=n};uh.prototype.get=function(t,r,n,c){return wo(n,this.entry[0])?this.entry[1]:c};uh.prototype.update=function(t,r,n,c,S,s,g){var i=S===Nr,a=wo(c,this.entry[0]);if(a?S===this.entry[1]:i)return this;if(Yo(g),i){Yo(s);return}return a?t&&t===this.ownerID?(this.entry[1]=S,this):new uh(t,this.keyHash,[c,S]):(Yo(s),EE(this,t,r,bo(c),[c,S]))};um.prototype.iterate=Ud.prototype.iterate=function(e,t){for(var r=this.entries,n=0,c=r.length-1;n<=c;n++)if(e(r[t?c-n:n])===!1)return!1};jd.prototype.iterate=hm.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,c=r.length-1;n<=c;n++){var S=r[t?c-n:n];if(S&&S.iterate(e,t)===!1)return!1}};uh.prototype.iterate=function(e,t){return e(this.entry)};var HQ=function(e){function t(r,n,c){this._type=n,this._reverse=c,this._stack=r._root&&q9(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this._type,c=this._stack;c;){var S=c.node,s=c.index++,g=void 0;if(S.entry){if(s===0)return Kb(n,S.entry)}else if(S.entries){if(g=S.entries.length-1,s<=g)return Kb(n,S.entries[this._reverse?g-s:s])}else if(g=S.nodes.length-1,s<=g){var i=S.nodes[this._reverse?g-s:s];if(i){if(i.entry)return Kb(n,i.entry);c=this._stack=q9(i,c)}continue}c=this._stack=this._stack.__prev}return oo()},t}(Zr);function Kb(e,t){return Qn(e,t[0],t[1])}function q9(e,t){return{node:e,index:0,__prev:t}}function TE(e,t,r,n){var c=Object.create(_n);return c.size=e,c._root=t,c.__ownerID=r,c.__hash=n,c.__altered=!1,c}var t8;function vl(){return t8||(t8=TE(0))}function e8(e,t,r){var n,c;if(e._root){var S=m2(),s=m2();if(n=CE(e._root,e.__ownerID,0,void 0,t,r,S,s),!s.value)return e;c=e.size+(S.value?r===Nr?-1:1:0)}else{if(r===Nr)return e;c=1,n=new um(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=c,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?TE(c,n):vl()}function CE(e,t,r,n,c,S,s,g){return e?e.update(t,r,n,c,S,s,g):S===Nr?e:(Yo(g),Yo(s),new uh(t,n,[c,S]))}function i8(e){return e.constructor===uh||e.constructor===Ud}function EE(e,t,r,n,c){if(e.keyHash===n)return new Ud(t,n,[e.entry,c]);var S=(r===0?e.keyHash:e.keyHash>>>r)&Oa,s=(r===0?n:n>>>r)&Oa,g,i=S===s?[EE(e,t,r+Nn,n,c)]:(g=new uh(t,n,c),S<s?[e,g]:[g,e]);return new jd(t,1<<S|1<<s,i)}function $Q(e,t,r,n){e||(e=new tE);for(var c=new uh(e,bo(r),[r,n]),S=0;S<t.length;S++){var s=t[S];c=c.update(e,0,void 0,s[0],s[1])}return c}function VQ(e,t,r,n){for(var c=0,S=0,s=new Array(r),g=0,i=1,a=t.length;g<a;g++,i<<=1){var v=t[g];v!==void 0&&g!==n&&(c|=i,s[S++]=v)}return new jd(e,c,s)}function WQ(e,t,r,n,c){for(var S=0,s=new Array(Wo),g=0;r!==0;g++,r>>>=1)s[g]=r&1?t[S++]:void 0;return s[n]=c,new hm(e,S+1,s)}function NB(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function FB(e,t,r,n){var c=n?e:ou(e);return c[t]=r,c}function YQ(e,t,r,n){var c=e.length+1;if(n&&t+1===c)return e[t]=r,e;for(var S=new Array(c),s=0,g=0;g<c;g++)g===t?(S[g]=r,s=-1):S[g]=e[g+s];return S}function XQ(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var c=new Array(n),S=0,s=0;s<n;s++)s===t&&(S=1),c[s]=e[s+S];return c}var QQ=Wo/4,KQ=Wo/2,JQ=Wo/4,LB="@@__IMMUTABLE_LIST__@@";function _B(e){return!!(e&&e[LB])}var dx=function(e){function t(r){var n=Zg();if(r==null)return n;if(_B(r))return r;var c=e(r),S=c.size;return S===0?n:(So(S),S>0&&S<Wo?cm(0,S,Nn,null,new rc(c.toArray())):n.withMutations(function(s){s.setSize(S),c.forEach(function(g,i){return s.set(i,g)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,c){if(n=pc(this,n),n>=0&&n<this.size){n+=this._origin;var S=jB(this,n);return S&&S.array[n&Oa]}return c},t.prototype.set=function(n,c){return ZQ(this,n,c)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,c){return this.splice(n,0,c)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Nn,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Zg()},t.prototype.push=function(){var n=arguments,c=this.size;return this.withMutations(function(S){Lh(S,0,c+n.length);for(var s=0;s<n.length;s++)S.set(c+s,n[s])})},t.prototype.pop=function(){return Lh(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(c){Lh(c,-n.length);for(var S=0;S<n.length;S++)c.set(S,n[S])})},t.prototype.shift=function(){return Lh(this,1)},t.prototype.concat=function(){for(var n=arguments,c=[],S=0;S<arguments.length;S++){var s=n[S],g=e(typeof s!="string"&&iE(s)?s:[s]);g.size!==0&&c.push(g)}return c.length===0?this:this.size===0&&!this.__ownerID&&c.length===1?this.constructor(c[0]):this.withMutations(function(i){c.forEach(function(a){return a.forEach(function(v){return i.push(v)})})})},t.prototype.setSize=function(n){return Lh(this,0,n)},t.prototype.map=function(n,c){var S=this;return this.withMutations(function(s){for(var g=0;g<S.size;g++)s.set(g,n.call(c,s.get(g),g,S))})},t.prototype.slice=function(n,c){var S=this.size;return ax(n,c,S)?this:Lh(this,Um(n,S),ox(c,S))},t.prototype.__iterator=function(n,c){var S=c?this.size:0,s=r8(this,c);return new Zr(function(){var g=s();return g===Ov?oo():Qn(n,c?--S:S++,g)})},t.prototype.__iterate=function(n,c){for(var S=c?this.size:0,s=r8(this,c),g;(g=s())!==Ov&&n(g,c?--S:S++,this)!==!1;);return S},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?cm(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?Zg():(this.__ownerID=n,this.__altered=!1,this)},t}(Tf);dx.isList=_B;var Ps=dx.prototype;Ps[LB]=!0;Ps[jm]=Ps.remove;Ps.merge=Ps.concat;Ps.setIn=pE;Ps.deleteIn=Ps.removeIn=vE;Ps.update=mE;Ps.updateIn=gE;Ps.mergeIn=bE;Ps.mergeDeepIn=SE;Ps.withMutations=Gm;Ps.wasAltered=wE;Ps.asImmutable=$m;Ps["@@transducer/init"]=Ps.asMutable=Hm;Ps["@@transducer/step"]=function(e,t){return e.push(t)};Ps["@@transducer/result"]=function(e){return e.asImmutable()};var rc=function(t,r){this.array=t,this.ownerID=r};rc.prototype.removeBefore=function(t,r,n){if(n===r?1<<r:this.array.length===0)return this;var c=n>>>r&Oa;if(c>=this.array.length)return new rc([],t);var S=c===0,s;if(r>0){var g=this.array[c];if(s=g&&g.removeBefore(t,r-Nn,n),s===g&&S)return this}if(S&&!s)return this;var i=zd(this,t);if(!S)for(var a=0;a<c;a++)i.array[a]=void 0;return s&&(i.array[c]=s),i};rc.prototype.removeAfter=function(t,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var c=n-1>>>r&Oa;if(c>=this.array.length)return this;var S;if(r>0){var s=this.array[c];if(S=s&&s.removeAfter(t,r-Nn,n),S===s&&c===this.array.length-1)return this}var g=zd(this,t);return g.array.splice(c+1),S&&(g.array[c]=S),g};var Ov={};function r8(e,t){var r=e._origin,n=e._capacity,c=fm(n),S=e._tail;return s(e._root,e._level,0);function s(a,v,f){return v===0?g(a,f):i(a,v,f)}function g(a,v){var f=v===c?S&&S.array:a&&a.array,h=v>r?0:r-v,u=n-v;return u>Wo&&(u=Wo),function(){if(h===u)return Ov;var o=t?--u:h++;return f&&f[o]}}function i(a,v,f){var h,u=a&&a.array,o=f>r?0:r-f>>v,d=(n-f>>v)+1;return d>Wo&&(d=Wo),function(){for(;;){if(h){var p=h();if(p!==Ov)return p;h=null}if(o===d)return Ov;var l=t?--d:o++;h=s(u&&u[l],v-Nn,f+(l<<v))}}}}function cm(e,t,r,n,c,S,s){var g=Object.create(Ps);return g.size=t-e,g._origin=e,g._capacity=t,g._level=r,g._root=n,g._tail=c,g.__ownerID=S,g.__hash=s,g.__altered=!1,g}var n8;function Zg(){return n8||(n8=cm(0,0,Nn))}function ZQ(e,t,r){if(t=pc(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(s){t<0?Lh(s,t).set(0,r):Lh(s,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,c=e._root,S=m2();return t>=fm(e._capacity)?n=w2(n,e.__ownerID,0,t,r,S):c=w2(c,e.__ownerID,e._level,t,r,S),S.value?e.__ownerID?(e._root=c,e._tail=n,e.__hash=void 0,e.__altered=!0,e):cm(e._origin,e._capacity,e._level,c,n):e}function w2(e,t,r,n,c,S){var s=n>>>r&Oa,g=e&&s<e.array.length;if(!g&&c===void 0)return e;var i;if(r>0){var a=e&&e.array[s],v=w2(a,t,r-Nn,n,c,S);return v===a?e:(i=zd(e,t),i.array[s]=v,i)}return g&&e.array[s]===c?e:(S&&Yo(S),i=zd(e,t),c===void 0&&s===i.array.length-1?i.array.pop():i.array[s]=c,i)}function zd(e,t){return t&&e&&t===e.ownerID?e:new rc(e?e.array.slice():[],t)}function jB(e,t){if(t>=fm(e._capacity))return e._tail;if(t<1<<e._level+Nn){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&Oa],n-=Nn;return r}}function Lh(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var n=e.__ownerID||new tE,c=e._origin,S=e._capacity,s=c+t,g=r===void 0?S:r<0?S+r:c+r;if(s===c&&g===S)return e;if(s>=g)return e.clear();for(var i=e._level,a=e._root,v=0;s+v<0;)a=new rc(a&&a.array.length?[void 0,a]:[],n),i+=Nn,v+=1<<i;v&&(s+=v,c+=v,g+=v,S+=v);for(var f=fm(S),h=fm(g);h>=1<<i+Nn;)a=new rc(a&&a.array.length?[a]:[],n),i+=Nn;var u=e._tail,o=h<f?jB(e,g-1):h>f?new rc([],n):u;if(u&&h>f&&s<S&&u.array.length){a=zd(a,n);for(var d=a,p=i;p>Nn;p-=Nn){var l=f>>>p&Oa;d=d.array[l]=zd(d.array[l],n)}d.array[f>>>Nn&Oa]=u}if(g<S&&(o=o&&o.removeAfter(n,0,g)),s>=h)s-=h,g-=h,i=Nn,a=null,o=o&&o.removeBefore(n,0,s);else if(s>c||h<f){for(v=0;a;){var m=s>>>i&Oa;if(m!==h>>>i&Oa)break;m&&(v+=(1<<i)*m),i-=Nn,a=a.array[m]}a&&s>c&&(a=a.removeBefore(n,i,s-v)),a&&h<f&&(a=a.removeAfter(n,i,h-v)),v&&(s-=v,g-=v)}return e.__ownerID?(e.size=g-s,e._origin=s,e._capacity=g,e._level=i,e._root=a,e._tail=o,e.__hash=void 0,e.__altered=!0,e):cm(s,g,i,a,o)}function fm(e){return e<Wo?0:e-1>>>Nn<<Nn}var hh=function(e){function t(r){return r==null?dv():pB(r)?r:dv().withMutations(function(n){var c=il(r);So(c.size),c.forEach(function(S,s){return n.set(s,S)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,c){var S=this._map.get(n);return S!==void 0?this._list.get(S)[1]:c},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):dv()},t.prototype.set=function(n,c){return a8(this,n,c)},t.prototype.remove=function(n){return a8(this,n,Nr)},t.prototype.__iterate=function(n,c){var S=this;return this._list.__iterate(function(s){return s&&n(s[1],s[0],S)},c)},t.prototype.__iterator=function(n,c){return this._list.fromEntrySeq().__iterator(n,c)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var c=this._map.__ensureOwner(n),S=this._list.__ensureOwner(n);return n?kE(c,S,n,this.__hash):this.size===0?dv():(this.__ownerID=n,this.__altered=!1,this._map=c,this._list=S,this)},t}(ap);hh.isOrderedMap=pB;hh.prototype[ip]=!0;hh.prototype[jm]=hh.prototype.remove;function kE(e,t,r,n){var c=Object.create(hh.prototype);return c.size=e?e.size:0,c._map=e,c._list=t,c.__ownerID=r,c.__hash=n,c.__altered=!1,c}var s8;function dv(){return s8||(s8=kE(vl(),Zg()))}function a8(e,t,r){var n=e._map,c=e._list,S=n.get(t),s=S!==void 0,g,i;if(r===Nr){if(!s)return e;c.size>=Wo&&c.size>=n.size*2?(i=c.filter(function(a,v){return a!==void 0&&S!==v}),g=i.toKeyedSeq().map(function(a){return a[0]}).flip().toMap(),e.__ownerID&&(g.__ownerID=i.__ownerID=e.__ownerID)):(g=n.remove(t),i=S===c.size-1?c.pop():c.set(S,void 0))}else if(s){if(r===c.get(S)[1])return e;g=n,i=c.set(S,[t,r])}else g=n.set(t,c.size),i=c.set(c.size,[t,r]);return e.__ownerID?(e.size=g.size,e._map=g,e._list=i,e.__hash=void 0,e.__altered=!0,e):kE(g,i)}var UB="@@__IMMUTABLE_STACK__@@";function T2(e){return!!(e&&e[UB])}var DE=function(e){function t(r){return r==null?G0():T2(r)?r:G0().pushAll(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,c){var S=this._head;for(n=pc(this,n);S&&n--;)S=S.next;return S?S.value:c},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var c=this.size+arguments.length,S=this._head,s=arguments.length-1;s>=0;s--)S={value:n[s],next:S};return this.__ownerID?(this.size=c,this._head=S,this.__hash=void 0,this.__altered=!0,this):pv(c,S)},t.prototype.pushAll=function(n){if(n=e(n),n.size===0)return this;if(this.size===0&&T2(n))return n;So(n.size);var c=this.size,S=this._head;return n.__iterate(function(s){c++,S={value:s,next:S}},!0),this.__ownerID?(this.size=c,this._head=S,this.__hash=void 0,this.__altered=!0,this):pv(c,S)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):G0()},t.prototype.slice=function(n,c){if(ax(n,c,this.size))return this;var S=Um(n,this.size),s=ox(c,this.size);if(s!==this.size)return e.prototype.slice.call(this,n,c);for(var g=this.size-S,i=this._head;S--;)i=i.next;return this.__ownerID?(this.size=g,this._head=i,this.__hash=void 0,this.__altered=!0,this):pv(g,i)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?pv(this.size,this._head,n,this.__hash):this.size===0?G0():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,c){var S=this;if(c)return new bf(this.toArray()).__iterate(function(i,a){return n(i,a,S)},c);for(var s=0,g=this._head;g&&n(g.value,s++,this)!==!1;)g=g.next;return s},t.prototype.__iterator=function(n,c){if(c)return new bf(this.toArray()).__iterator(n,c);var S=0,s=this._head;return new Zr(function(){if(s){var g=s.value;return s=s.next,Qn(n,S++,g)}return oo()})},t}(Tf);DE.isStack=T2;var La=DE.prototype;La[UB]=!0;La.shift=La.pop;La.unshift=La.push;La.unshiftAll=La.pushAll;La.withMutations=Gm;La.wasAltered=wE;La.asImmutable=$m;La["@@transducer/init"]=La.asMutable=Hm;La["@@transducer/step"]=function(e,t){return e.unshift(t)};La["@@transducer/result"]=function(e){return e.asImmutable()};function pv(e,t,r,n){var c=Object.create(La);return c.size=e,c._head=t,c.__ownerID=r,c.__hash=n,c.__altered=!1,c}var o8;function G0(){return o8||(o8=pv(0))}var zB="@@__IMMUTABLE_SET__@@";function AE(e){return!!(e&&e[zB])}function GB(e){return AE(e)&&Ol(e)}function HB(e,t){if(e===t)return!0;if(!ao(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||Fn(e)!==Fn(t)||Na(e)!==Na(t)||Ol(e)!==Ol(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!lx(e);if(Ol(e)){var n=e.entries();return t.every(function(i,a){var v=n.next().value;return v&&wo(v[1],i)&&(r||wo(v[0],a))})&&n.next().done}var c=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{c=!0;var S=e;e=t,t=S}var s=!0,g=t.__iterate(function(i,a){if(r?!e.has(i):c?!wo(i,e.get(a,Nr)):!wo(e.get(a,Nr),i))return s=!1,!1});return s&&e.size===g}function Cf(e,t){var r=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function J1(e){if(!e||typeof e!="object")return e;if(!ao(e)){if(!vc(e))return e;e=lo(e)}if(Fn(e)){var t={};return e.__iterate(function(n,c){t[c]=J1(n)}),t}var r=[];return e.__iterate(function(n){r.push(J1(n))}),r}var px=function(e){function t(r){return r==null?vv():AE(r)&&!Ol(r)?r:vv().withMutations(function(n){var c=e(r);So(c.size),c.forEach(function(S){return n.add(S)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(il(n).keySeq())},t.intersect=function(n){return n=Ss(n).toArray(),n.length?sa.intersect.apply(t(n.pop()),n):vv()},t.union=function(n){return n=Ss(n).toArray(),n.length?sa.union.apply(t(n.pop()),n):vv()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return H0(this,this._map.set(n,n))},t.prototype.remove=function(n){return H0(this,this._map.remove(n))},t.prototype.clear=function(){return H0(this,this._map.clear())},t.prototype.map=function(n,c){var S=this,s=!1,g=H0(this,this._map.mapEntries(function(i){var a=i[1],v=n.call(c,a,a,S);return v!==a&&(s=!0),[v,v]},c));return s?g:this},t.prototype.union=function(){for(var n=[],c=arguments.length;c--;)n[c]=arguments[c];return n=n.filter(function(S){return S.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(S){for(var s=0;s<n.length;s++)typeof n[s]=="string"?S.add(n[s]):e(n[s]).forEach(function(g){return S.add(g)})})},t.prototype.intersect=function(){for(var n=[],c=arguments.length;c--;)n[c]=arguments[c];if(n.length===0)return this;n=n.map(function(s){return e(s)});var S=[];return this.forEach(function(s){n.every(function(g){return g.includes(s)})||S.push(s)}),this.withMutations(function(s){S.forEach(function(g){s.remove(g)})})},t.prototype.subtract=function(){for(var n=[],c=arguments.length;c--;)n[c]=arguments[c];if(n.length===0)return this;n=n.map(function(s){return e(s)});var S=[];return this.forEach(function(s){n.some(function(g){return g.includes(s)})&&S.push(s)}),this.withMutations(function(s){S.forEach(function(g){s.remove(g)})})},t.prototype.sort=function(n){return dm(_d(this,n))},t.prototype.sortBy=function(n,c){return dm(_d(this,c,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,c){var S=this;return this._map.__iterate(function(s){return n(s,s,S)},c)},t.prototype.__iterator=function(n,c){return this._map.__iterator(n,c)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var c=this._map.__ensureOwner(n);return n?this.__make(c,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=c,this)},t}(tp);px.isSet=AE;var sa=px.prototype;sa[zB]=!0;sa[jm]=sa.remove;sa.merge=sa.concat=sa.union;sa.withMutations=Gm;sa.asImmutable=$m;sa["@@transducer/init"]=sa.asMutable=Hm;sa["@@transducer/step"]=function(e,t){return e.add(t)};sa["@@transducer/result"]=function(e){return e.asImmutable()};sa.__empty=vv;sa.__make=$B;function H0(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function $B(e,t){var r=Object.create(sa);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var l8;function vv(){return l8||(l8=$B(vl()))}var qQ=function(e){function t(r,n,c){if(!(this instanceof t))return new t(r,n,c);if(dE(c!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),c=c===void 0?1:Math.abs(c),n<r&&(c=-c),this._start=r,this._end=n,this._step=c,this.size=Math.max(0,Math.ceil((n-r)/c-1)+1),this.size===0){if(Jb)return Jb;Jb=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,c){return this.has(n)?this._start+pc(this,n)*this._step:c},t.prototype.includes=function(n){var c=(n-this._start)/this._step;return c>=0&&c<this.size&&c===Math.floor(c)},t.prototype.slice=function(n,c){return ax(n,c,this.size)?this:(n=Um(n,this.size),c=ox(c,this.size),c<=n?new t(0,0):new t(this.get(n,this._end),this.get(c,this._end),this._step))},t.prototype.indexOf=function(n){var c=n-this._start;if(c%this._step===0){var S=c/this._step;if(S>=0&&S<this.size)return S}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,c){for(var S=this.size,s=this._step,g=c?this._start+(S-1)*s:this._start,i=0;i!==S&&n(g,c?S-++i:i++,this)!==!1;)g+=c?-s:s;return i},t.prototype.__iterator=function(n,c){var S=this.size,s=this._step,g=c?this._start+(S-1)*s:this._start,i=0;return new Zr(function(){if(i===S)return oo();var a=g;return g+=c?-s:s,Qn(n,c?S-++i:i++,a)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:HB(this,n)},t}($l),Jb;function VB(e,t,r){for(var n=EB(t),c=0;c!==n.length;)if(e=DB(e,n[c++],Nr),e===Nr)return r;return e}function WB(e,t){return VB(this,e,t)}function tK(e,t){return VB(e,t,Nr)!==Nr}function eK(e){return tK(this,e)}function YB(){So(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}Ss.isIterable=ao;Ss.isKeyed=Fn;Ss.isIndexed=Na;Ss.isAssociative=lx;Ss.isOrdered=Ol;Ss.Iterator=Zr;Cf(Ss,{toArray:function(){So(this.size);var t=new Array(this.size||0),r=Fn(this),n=0;return this.__iterate(function(c,S){t[n++]=r?[S,c]:c}),t},toIndexedSeq:function(){return new mB(this)},toJS:function(){return J1(this)},toKeyedSeq:function(){return new fx(this,!0)},toMap:function(){return ap(this.toKeyedSeq())},toObject:YB,toOrderedMap:function(){return hh(this.toKeyedSeq())},toOrderedSet:function(){return dm(Fn(this)?this.valueSeq():this)},toSet:function(){return px(Fn(this)?this.valueSeq():this)},toSetSeq:function(){return new gB(this)},toSeq:function(){return Na(this)?this.toIndexedSeq():Fn(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return DE(Fn(this)?this.valueSeq():this)},toList:function(){return dx(Fn(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,r){return this.size===0?t+r:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return yn(this,MQ(this,t))},includes:function(t){return this.some(function(r){return wo(r,t)})},entries:function(){return this.__iterator(Jo)},every:function(t,r){So(this.size);var n=!0;return this.__iterate(function(c,S,s){if(!t.call(r,c,S,s))return n=!1,!1}),n},filter:function(t,r){return yn(this,SB(this,t,r,!0))},partition:function(t,r){return RQ(this,t,r)},find:function(t,r,n){var c=this.findEntry(t,r);return c?c[1]:n},forEach:function(t,r){return So(this.size),this.__iterate(r?t.bind(r):t)},join:function(t){So(this.size),t=t!==void 0?""+t:",";var r="",n=!0;return this.__iterate(function(c){n?n=!1:r+=t,r+=c!=null?c.toString():""}),r},keys:function(){return this.__iterator(zm)},map:function(t,r){return yn(this,bB(this,t,r))},reduce:function(t,r,n){return u8(this,t,r,n,arguments.length<2,!1)},reduceRight:function(t,r,n){return u8(this,t,r,n,arguments.length<2,!0)},reverse:function(){return yn(this,uE(this,!0))},slice:function(t,r){return yn(this,hE(this,t,r,!0))},some:function(t,r){So(this.size);var n=!1;return this.__iterate(function(c,S,s){if(t.call(r,c,S,s))return n=!0,!1}),n},sort:function(t){return yn(this,_d(this,t))},values:function(){return this.__iterator(Ll)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,r){return Ld(t?this.toSeq().filter(t,r):this)},countBy:function(t,r){return AQ(this,t,r)},equals:function(t){return HB(this,t)},entrySeq:function(){var t=this;if(t._cache)return new bf(t._cache);var r=t.toSeq().map(rK).toIndexedSeq();return r.fromEntrySeq=function(){return t.toSeq()},r},filterNot:function(t,r){return this.filter(Zb(t),r)},findEntry:function(t,r,n){var c=n;return this.__iterate(function(S,s,g){if(t.call(r,S,s,g))return c=[s,S],!1}),c},findKey:function(t,r){var n=this.findEntry(t,r);return n&&n[0]},findLast:function(t,r,n){return this.toKeyedSeq().reverse().find(t,r,n)},findLastEntry:function(t,r,n){return this.toKeyedSeq().reverse().findEntry(t,r,n)},findLastKey:function(t,r){return this.toKeyedSeq().reverse().findKey(t,r)},first:function(t){return this.find(rB,null,t)},flatMap:function(t,r){return yn(this,BQ(this,t,r))},flatten:function(t){return yn(this,TB(this,t,!0))},fromEntrySeq:function(){return new yB(this)},get:function(t,r){return this.find(function(n,c){return wo(c,t)},void 0,r)},getIn:WB,groupBy:function(t,r){return PQ(this,t,r)},has:function(t){return this.get(t,Nr)!==Nr},hasIn:eK,isSubset:function(t){return t=typeof t.includes=="function"?t:Ss(t),this.every(function(r){return t.includes(r)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:Ss(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(r){return wo(r,t)})},keySeq:function(){return this.toSeq().map(iK).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return U0(this,t)},maxBy:function(t,r){return U0(this,r,t)},min:function(t){return U0(this,t?h8(t):f8)},minBy:function(t,r){return U0(this,r?h8(r):f8,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,r){return yn(this,wB(this,t,r,!0))},skipUntil:function(t,r){return this.skipWhile(Zb(t),r)},sortBy:function(t,r){return yn(this,_d(this,r,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,r){return yn(this,IQ(this,t,r))},takeUntil:function(t,r){return this.takeWhile(Zb(t),r)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=nK(this))}});var ka=Ss.prototype;ka[aB]=!0;ka[ux]=ka.values;ka.toJSON=ka.toArray;ka.__toStringMapper=lm;ka.inspect=ka.toSource=function(){return this.toString()};ka.chain=ka.flatMap;ka.contains=ka.includes;Cf(il,{flip:function(){return yn(this,xB(this))},mapEntries:function(t,r){var n=this,c=0;return yn(this,this.toSeq().map(function(S,s){return t.call(r,[s,S],c++,n)}).fromEntrySeq())},mapKeys:function(t,r){var n=this;return yn(this,this.toSeq().flip().map(function(c,S){return t.call(r,c,S,n)}).flip())}});var Vm=il.prototype;Vm[oB]=!0;Vm[ux]=ka.entries;Vm.toJSON=YB;Vm.__toStringMapper=function(e,t){return lm(t)+": "+lm(e)};Cf(Tf,{toKeyedSeq:function(){return new fx(this,!1)},filter:function(t,r){return yn(this,SB(this,t,r,!1))},findIndex:function(t,r){var n=this.findEntry(t,r);return n?n[0]:-1},indexOf:function(t){var r=this.keyOf(t);return r===void 0?-1:r},lastIndexOf:function(t){var r=this.lastKeyOf(t);return r===void 0?-1:r},reverse:function(){return yn(this,uE(this,!1))},slice:function(t,r){return yn(this,hE(this,t,r,!1))},splice:function(t,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;t=Um(t,t<0?this.count():this.size);var c=this.slice(0,t);return yn(this,n===1?c:c.concat(ou(arguments,2),this.slice(t+r)))},findLastIndex:function(t,r){var n=this.findLastEntry(t,r);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return yn(this,TB(this,t,!1))},get:function(t,r){return t=pc(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?r:this.find(function(n,c){return c===t},void 0,r)},has:function(t){return t=pc(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return yn(this,OQ(this,t))},interleave:function(){var t=[this].concat(ou(arguments)),r=z0(this.toSeq(),$l.of,t),n=r.flatten(!0);return r.size&&(n.size=r.size*t.length),yn(this,n)},keySeq:function(){return qQ(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,r){return yn(this,wB(this,t,r,!1))},zip:function(){var t=[this].concat(ou(arguments));return yn(this,z0(this,c8,t))},zipAll:function(){var t=[this].concat(ou(arguments));return yn(this,z0(this,c8,t,!0))},zipWith:function(t){var r=ou(arguments);return r[0]=this,yn(this,z0(this,t,r))}});var op=Tf.prototype;op[lB]=!0;op[ip]=!0;Cf(tp,{get:function(t,r){return this.has(t)?t:r},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var Gd=tp.prototype;Gd.has=ka.includes;Gd.contains=Gd.includes;Gd.keys=Gd.values;Cf(bc,Vm);Cf($l,op);Cf(np,Gd);function u8(e,t,r,n,c,S){return So(e.size),e.__iterate(function(s,g,i){c?(c=!1,r=s):r=t.call(n,r,s,g,i)},S),r}function iK(e,t){return t}function rK(e,t){return[t,e]}function Zb(e){return function(){return!e.apply(this,arguments)}}function h8(e){return function(){return-e.apply(this,arguments)}}function c8(){return ou(arguments)}function f8(e,t){return e<t?1:e>t?-1:0}function nK(e){if(e.size===1/0)return 0;var t=Ol(e),r=Fn(e),n=t?1:0,c=e.__iterate(r?t?function(S,s){n=31*n+d8(bo(S),bo(s))|0}:function(S,s){n=n+d8(bo(S),bo(s))|0}:t?function(S){n=31*n+bo(S)|0}:function(S){n=n+bo(S)|0});return sK(c,n)}function sK(e,t){return t=Up(t,3432918353),t=Up(t<<15|t>>>-15,461845907),t=Up(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Up(t^t>>>16,2246822507),t=Up(t^t>>>13,3266489909),t=cx(t^t>>>16),t}function d8(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var dm=function(e){function t(r){return r==null?C2():GB(r)?r:C2().withMutations(function(n){var c=tp(r);So(c.size),c.forEach(function(S){return n.add(S)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(il(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(px);dm.isOrderedSet=GB;var Ef=dm.prototype;Ef[ip]=!0;Ef.zip=op.zip;Ef.zipWith=op.zipWith;Ef.zipAll=op.zipAll;Ef.__empty=C2;Ef.__make=XB;function XB(e,t){var r=Object.create(Ef);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var p8;function C2(){return p8||(p8=XB(dv()))}function aK(e){if(ep(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Hl(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Zs=function(t,r){var n;aK(t);var c=function(g){var i=this;if(g instanceof c)return g;if(!(this instanceof c))return new c(g);if(!n){n=!0;var a=Object.keys(t),v=S._indices={};S._name=r,S._keys=a,S._defaultValues=t;for(var f=0;f<a.length;f++){var h=a[f];v[h]=f,S[h]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+RE(this)+' with property "'+h+'" since that property name is part of the Record API.'):oK(S,h)}}return this.__ownerID=void 0,this._values=dx().withMutations(function(u){u.setSize(i._keys.length),il(g).forEach(function(o,d){u.set(i._indices[d],o===i._defaultValues[d]?void 0:o)})}),this},S=c.prototype=Object.create(Pn);return S.constructor=c,r&&(c.displayName=r),c};Zs.prototype.toString=function(){for(var t=RE(this)+" { ",r=this._keys,n,c=0,S=r.length;c!==S;c++)n=r[c],t+=(c?", ":"")+n+": "+lm(this.get(n));return t+" }"};Zs.prototype.equals=function(t){return this===t||ep(t)&&Hd(this).equals(Hd(t))};Zs.prototype.hashCode=function(){return Hd(this).hashCode()};Zs.prototype.has=function(t){return this._indices.hasOwnProperty(t)};Zs.prototype.get=function(t,r){if(!this.has(t))return r;var n=this._indices[t],c=this._values.get(n);return c===void 0?this._defaultValues[t]:c};Zs.prototype.set=function(t,r){if(this.has(t)){var n=this._values.set(this._indices[t],r===this._defaultValues[t]?void 0:r);if(n!==this._values&&!this.__ownerID)return PE(this,n)}return this};Zs.prototype.remove=function(t){return this.set(t)};Zs.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:PE(this,t)};Zs.prototype.wasAltered=function(){return this._values.wasAltered()};Zs.prototype.toSeq=function(){return Hd(this)};Zs.prototype.toJS=function(){return J1(this)};Zs.prototype.entries=function(){return this.__iterator(Jo)};Zs.prototype.__iterator=function(t,r){return Hd(this).__iterator(t,r)};Zs.prototype.__iterate=function(t,r){return Hd(this).__iterate(t,r)};Zs.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._values.__ensureOwner(t);return t?PE(this,r,t):(this.__ownerID=t,this._values=r,this)};Zs.isRecord=ep;Zs.getDescriptiveName=RE;var Pn=Zs.prototype;Pn[hB]=!0;Pn[jm]=Pn.remove;Pn.deleteIn=Pn.removeIn=vE;Pn.getIn=WB;Pn.hasIn=ka.hasIn;Pn.merge=RB;Pn.mergeWith=IB;Pn.mergeIn=bE;Pn.mergeDeep=BB;Pn.mergeDeepWith=OB;Pn.mergeDeepIn=SE;Pn.setIn=pE;Pn.update=mE;Pn.updateIn=gE;Pn.withMutations=Gm;Pn.asMutable=Hm;Pn.asImmutable=$m;Pn[ux]=Pn.entries;Pn.toJSON=Pn.toObject=ka.toObject;Pn.inspect=Pn.toSource=function(){return this.toString()};function PE(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function RE(e){return e.constructor.displayName||e.constructor.name||"Record"}function Hd(e){return aE(e._keys.map(function(t){return[t,e.get(t)]}))}function oK(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){dE(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch(r){}}function lK(e,t){return QB([],t||uK,e,"",t&&t.length>2?[]:void 0,{"":e})}function QB(e,t,r,n,c,S){if(typeof r!="string"&&!Hl(r)&&(rE(r)||iE(r)||kB(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),c&&n!==""&&c.push(n);var s=t.call(S,n,lo(r).map(function(g,i){return QB(e,t,g,i,c,r)}),c&&c.slice());return e.pop(),c&&c.pop(),s}return r}function uK(e,t){return Na(t)?t.toList():Fn(t)?t.toMap():t.toSet()}const hK=lK({});function cK(e=hK,t){switch(t.type){default:return e}}const fK=TH({hosts:cK});function*dK(){yield BX([])}const v8=dQ(),pK=window.__REDUX_DEVTOOLS_EXTENSION__||(()=>e=>e);function vK(e){const t=[v8,FY()],r=[CH(...t),pK()],n=m7(fK,e,g7(...r));return n.runSaga=v8.run(dK),n}var Li={},E2={exports:{}};(function(e,t){(function(r,n){var c="1.0.37",S="",s="?",g="function",i="undefined",a="object",v="string",f="major",h="model",u="name",o="type",d="vendor",p="version",l="architecture",m="console",y="mobile",x="tablet",b="smarttv",w="wearable",C="embedded",E=500,T="Amazon",k="Apple",P="ASUS",R="BlackBerry",M="Browser",I="Chrome",B="Edge",D="Firefox",N="Google",_="Huawei",G="LG",$="Microsoft",V="Motorola",Y="Opera",U="Samsung",F="Sharp",O="Sony",j="Xiaomi",z="Zebra",W="Facebook",q="Chromium OS",ot="Mac OS",Q=function(ve,Fe){var Ze={};for(var ei in ve)Fe[ei]&&Fe[ei].length%2===0?Ze[ei]=Fe[ei].concat(ve[ei]):Ze[ei]=ve[ei];return Ze},rt=function(ve){for(var Fe={},Ze=0;Ze<ve.length;Ze++)Fe[ve[Ze].toUpperCase()]=ve[Ze];return Fe},Mt=function(ve,Fe){return typeof ve===v?K(Fe).indexOf(K(ve))!==-1:!1},K=function(ve){return ve.toLowerCase()},It=function(ve){return typeof ve===v?ve.replace(/[^\d\.]/g,S).split(".")[0]:n},Ft=function(ve,Fe){if(typeof ve===v)return ve=ve.replace(/^\s\s*/,S),typeof Fe===i?ve:ve.substring(0,E)},ft=function(ve,Fe){for(var Ze=0,ei,Ci,xt,et,tt,Ot;Ze<Fe.length&&!tt;){var ie=Fe[Ze],Ce=Fe[Ze+1];for(ei=Ci=0;ei<ie.length&&!tt&&ie[ei];)if(tt=ie[ei++].exec(ve),tt)for(xt=0;xt<Ce.length;xt++)Ot=tt[++Ci],et=Ce[xt],typeof et===a&&et.length>0?et.length===2?typeof et[1]==g?this[et[0]]=et[1].call(this,Ot):this[et[0]]=et[1]:et.length===3?typeof et[1]===g&&!(et[1].exec&&et[1].test)?this[et[0]]=Ot?et[1].call(this,Ot,et[2]):n:this[et[0]]=Ot?Ot.replace(et[1],et[2]):n:et.length===4&&(this[et[0]]=Ot?et[3].call(this,Ot.replace(et[1],et[2])):n):this[et]=Ot||n;Ze+=2}},yt=function(ve,Fe){for(var Ze in Fe)if(typeof Fe[Ze]===a&&Fe[Ze].length>0){for(var ei=0;ei<Fe[Ze].length;ei++)if(Mt(Fe[Ze][ei],ve))return Ze===s?n:Ze}else if(Mt(Fe[Ze],ve))return Ze===s?n:Ze;return ve},At={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Bt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},le={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,p],[/opios[\/ ]+([\w\.]+)/i],[p,[u,Y+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[u,Y]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[u,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[u,"UC"+M]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[u,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[u,"Smart Lenovo "+M]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+M],p],[/\bfocus\/([\w\.]+)/i],[p,[u,D+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[u,Y+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[u,Y+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[u,"MIUI "+M]],[/fxios\/([-\w\.]+)/i],[p,[u,D]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+M]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+M],p],[/samsungbrowser\/([\w\.]+)/i],[p,[u,U+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],p],[/metasr[\/ ]?([\d\.]+)/i],[p,[u,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[u,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[u,p],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,W],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[u,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[u,I+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,I+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[u,"Android "+M]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[p,yt,At]],[/(webkit|khtml)\/([\w\.]+)/i],[u,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[u,D+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[u,p],[/(cobalt)\/([\w\.]+)/i],[u,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[l,"amd64"]],[/(ia32(?=;))/i],[[l,K]],[/((?:i[346]|x)86)[;\)]/i],[[l,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[l,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[l,"armhf"]],[/windows (ce|mobile); ppc;/i],[[l,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[l,/ower/,S,K]],[/(sun4\w)[;\)]/i],[[l,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[l,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[d,U],[o,x]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[d,U],[o,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[d,k],[o,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[d,k],[o,x]],[/(macintosh);/i],[h,[d,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[d,F],[o,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[d,_],[o,x]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[d,_],[o,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[d,j],[o,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[d,j],[o,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[d,"OPPO"],[o,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[d,"Vivo"],[o,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[d,"Realme"],[o,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[d,V],[o,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[d,V],[o,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[d,G],[o,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[d,G],[o,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[d,"Lenovo"],[o,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[d,"Nokia"],[o,y]],[/(pixel c)\b/i],[h,[d,N],[o,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[d,N],[o,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[d,O],[o,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[d,O],[o,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[d,"OnePlus"],[o,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[d,T],[o,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[d,T],[o,y]],[/(playbook);[-\w\),; ]+(rim)/i],[h,d,[o,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[d,R],[o,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[d,P],[o,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[d,P],[o,y]],[/(nexus 9)/i],[h,[d,"HTC"],[o,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[h,/_/g," "],[o,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[d,"Acer"],[o,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[d,"Meizu"],[o,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[d,"Ulefone"],[o,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,h,[o,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,h,[o,x]],[/(surface duo)/i],[h,[d,$],[o,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[d,"Fairphone"],[o,y]],[/(u304aa)/i],[h,[d,"AT&T"],[o,y]],[/\bsie-(\w*)/i],[h,[d,"Siemens"],[o,y]],[/\b(rct\w+) b/i],[h,[d,"RCA"],[o,x]],[/\b(venue[\d ]{2,7}) b/i],[h,[d,"Dell"],[o,x]],[/\b(q(?:mv|ta)\w+) b/i],[h,[d,"Verizon"],[o,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[d,"Barnes & Noble"],[o,x]],[/\b(tm\d{3}\w+) b/i],[h,[d,"NuVision"],[o,x]],[/\b(k88) b/i],[h,[d,"ZTE"],[o,x]],[/\b(nx\d{3}j) b/i],[h,[d,"ZTE"],[o,y]],[/\b(gen\d{3}) b.+49h/i],[h,[d,"Swiss"],[o,y]],[/\b(zur\d{3}) b/i],[h,[d,"Swiss"],[o,x]],[/\b((zeki)?tb.*\b) b/i],[h,[d,"Zeki"],[o,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],h,[o,x]],[/\b(ns-?\w{0,9}) b/i],[h,[d,"Insignia"],[o,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[d,"NextBook"],[o,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],h,[o,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],h,[o,y]],[/\b(ph-1) /i],[h,[d,"Essential"],[o,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[d,"Envizen"],[o,x]],[/\b(trio[-\w\. ]+) b/i],[h,[d,"MachSpeed"],[o,x]],[/\btu_(1491) b/i],[h,[d,"Rotor"],[o,x]],[/(shield[\w ]+) b/i],[h,[d,"Nvidia"],[o,x]],[/(sprint) (\w+)/i],[d,h,[o,y]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[d,$],[o,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[d,z],[o,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[d,z],[o,y]],[/smart-tv.+(samsung)/i],[d,[o,b]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[d,U],[o,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,G],[o,b]],[/(apple) ?tv/i],[d,[h,k+" TV"],[o,b]],[/crkey/i],[[h,I+"cast"],[d,N],[o,b]],[/droid.+aft(\w+)( bui|\))/i],[h,[d,T],[o,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[d,F],[o,b]],[/(bravia[\w ]+)( bui|\))/i],[h,[d,O],[o,b]],[/(mitv-\w{5}) bui/i],[h,[d,j],[o,b]],[/Hbbtv.*(technisat) (.*);/i],[d,h,[o,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[d,Ft],[h,Ft],[o,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[o,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,h,[o,m]],[/droid.+; (shield) bui/i],[h,[d,"Nvidia"],[o,m]],[/(playstation [345portablevi]+)/i],[h,[d,O],[o,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[d,$],[o,m]],[/((pebble))app/i],[d,h,[o,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[d,k],[o,w]],[/droid.+; (glass) \d/i],[h,[d,N],[o,w]],[/droid.+; (wt63?0{2,3})\)/i],[h,[d,z],[o,w]],[/(quest( 2| pro)?)/i],[h,[d,W],[o,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[o,C]],[/(aeobc)\b/i],[h,[d,T],[o,C]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[o,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[o,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[o,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[o,y]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[u,B+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,p],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[u,[p,yt,Bt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,yt,Bt],[u,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,ot],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,p],[/\(bb(10);/i],[p,[u,R]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[u,D+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[u,I+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,q],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,p],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,p]]},_t=function(ve,Fe){if(typeof ve===a&&(Fe=ve,ve=n),!(this instanceof _t))return new _t(ve,Fe).getResult();var Ze=typeof r!==i&&r.navigator?r.navigator:n,ei=ve||(Ze&&Ze.userAgent?Ze.userAgent:S),Ci=Ze&&Ze.userAgentData?Ze.userAgentData:n,xt=Fe?Q(le,Fe):le,et=Ze&&Ze.userAgent==ei;return this.getBrowser=function(){var tt={};return tt[u]=n,tt[p]=n,ft.call(tt,ei,xt.browser),tt[f]=It(tt[p]),et&&Ze&&Ze.brave&&typeof Ze.brave.isBrave==g&&(tt[u]="Brave"),tt},this.getCPU=function(){var tt={};return tt[l]=n,ft.call(tt,ei,xt.cpu),tt},this.getDevice=function(){var tt={};return tt[d]=n,tt[h]=n,tt[o]=n,ft.call(tt,ei,xt.device),et&&!tt[o]&&Ci&&Ci.mobile&&(tt[o]=y),et&&tt[h]=="Macintosh"&&Ze&&typeof Ze.standalone!==i&&Ze.maxTouchPoints&&Ze.maxTouchPoints>2&&(tt[h]="iPad",tt[o]=x),tt},this.getEngine=function(){var tt={};return tt[u]=n,tt[p]=n,ft.call(tt,ei,xt.engine),tt},this.getOS=function(){var tt={};return tt[u]=n,tt[p]=n,ft.call(tt,ei,xt.os),et&&!tt[u]&&Ci&&Ci.platform!="Unknown"&&(tt[u]=Ci.platform.replace(/chrome os/i,q).replace(/macos/i,ot)),tt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ei},this.setUA=function(tt){return ei=typeof tt===v&&tt.length>E?Ft(tt,E):tt,this},this.setUA(ei),this};_t.VERSION=c,_t.BROWSER=rt([u,p,f]),_t.CPU=rt([l]),_t.DEVICE=rt([h,d,o,m,y,b,x,w,C]),_t.ENGINE=_t.OS=rt([u,p]),e.exports&&(t=e.exports=_t),t.UAParser=_t;var xe=typeof r!==i&&(r.jQuery||r.Zepto);if(xe&&!xe.ua){var Ee=new _t;xe.ua=Ee.getResult(),xe.ua.get=function(){return Ee.getUA()},xe.ua.set=function(ve){Ee.setUA(ve);var Fe=Ee.getResult();for(var Ze in Fe)xe.ua[Ze]=Fe[Ze]}}})(typeof window=="object"?window:Dm)})(E2,E2.exports);var mK=E2.exports;Object.defineProperty(Li,"__esModule",{value:!0});function gK(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Ta=zi,Rn=gK(Ta),KB=mK,Sc=new KB,Da=Sc.getBrowser(),yK=Sc.getCPU(),Po=Sc.getDevice(),IE=Sc.getEngine(),wc=Sc.getOS(),Wm=Sc.getUA(),JB=function(t){return Sc.setUA(t)},Ym=function(t){if(!t){console.error("No userAgent string was provided");return}var r=new KB(t);return{UA:r,browser:r.getBrowser(),cpu:r.getCPU(),device:r.getDevice(),engine:r.getEngine(),os:r.getOS(),ua:r.getUA(),setUserAgent:function(c){return r.setUA(c)}}},ZB=Object.freeze({ClientUAInstance:Sc,browser:Da,cpu:yK,device:Po,engine:IE,os:wc,ua:Wm,setUa:JB,parseUserAgent:Ym});function m8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),r.push.apply(r,n)}return r}function xK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(r),!0).forEach(function(n){TK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nv(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nv=function(t){return typeof t}:Nv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nv(e)}function bK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wK(e,t,r){return t&&SK(e.prototype,t),e}function TK(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k2(){return k2=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k2.apply(this,arguments)}function CK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A2(e,t)}function D2(e){return D2=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},D2(e)}function A2(e,t){return A2=Object.setPrototypeOf||function(n,c){return n.__proto__=c,n},A2(e,t)}function EK(e,t){if(e==null)return{};var r={},n=Object.keys(e),c,S;for(S=0;S<n.length;S++)c=n[S],!(t.indexOf(c)>=0)&&(r[c]=e[c]);return r}function rl(e,t){if(e==null)return{};var r=EK(e,t),n,c;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(e);for(c=0;c<S.length;c++)n=S[c],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kK(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qg(e)}function DK(e,t){return AK(e)||PK(e,t)||RK(e,t)||IK()}function AK(e){if(Array.isArray(e))return e}function PK(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],c=!0,S=!1,s,g;try{for(r=r.call(e);!(c=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));c=!0);}catch(i){S=!0,g=i}finally{try{!c&&r.return!=null&&r.return()}finally{if(S)throw g}}return n}}function RK(e,t){if(e){if(typeof e=="string")return g8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g8(e,t)}}function g8(e,t){t>e.length&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ba={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},uo={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},lp={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},MK={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},BK=function(t){switch(t){case ba.Mobile:return{isMobile:!0};case ba.Tablet:return{isTablet:!0};case ba.SmartTv:return{isSmartTV:!0};case ba.Console:return{isConsole:!0};case ba.Wearable:return{isWearable:!0};case ba.Browser:return{isBrowser:!0};case ba.Embedded:return{isEmbedded:!0};default:return MK}},OK=function(t){return JB(t)},fr=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return t||r},ME=function(){return typeof window!="undefined"&&(window.navigator||navigator)?window.navigator||navigator:!1},BE=function(t){var r=ME();return r&&r.platform&&(r.platform.indexOf(t)!==-1||r.platform==="MacIntel"&&r.maxTouchPoints>1&&!window.MSStream)},NK=function(t,r,n,c,S){return{isBrowser:t,browserMajorVersion:fr(r.major),browserFullVersion:fr(r.version),browserName:fr(r.name),engineName:fr(n.name),engineVersion:fr(n.version),osName:fr(c.name),osVersion:fr(c.version),userAgent:fr(S)}},y8=function(t,r,n,c){return xK({},t,{vendor:fr(r.vendor),model:fr(r.model),os:fr(n.name),osVersion:fr(n.version),ua:fr(c)})},FK=function(t,r,n,c){return{isSmartTV:t,engineName:fr(r.name),engineVersion:fr(r.version),osName:fr(n.name),osVersion:fr(n.version),userAgent:fr(c)}},LK=function(t,r,n,c){return{isConsole:t,engineName:fr(r.name),engineVersion:fr(r.version),osName:fr(n.name),osVersion:fr(n.version),userAgent:fr(c)}},_K=function(t,r,n,c){return{isWearable:t,engineName:fr(r.name),engineVersion:fr(r.version),osName:fr(n.name),osVersion:fr(n.version),userAgent:fr(c)}},jK=function(t,r,n,c,S){return{isEmbedded:t,vendor:fr(r.vendor),model:fr(r.model),engineName:fr(n.name),engineVersion:fr(n.version),osName:fr(c.name),osVersion:fr(c.version),userAgent:fr(S)}};function UK(e){var t=e?Ym(e):ZB,r=t.device,n=t.browser,c=t.engine,S=t.os,s=t.ua,g=BK(r.type),i=g.isBrowser,a=g.isMobile,v=g.isTablet,f=g.isSmartTV,h=g.isConsole,u=g.isWearable,o=g.isEmbedded;if(i)return NK(i,n,c,S,s);if(f)return FK(f,c,S,s);if(h)return LK(h,c,S,s);if(a||v)return y8(g,r,S,s);if(u)return _K(u,c,S,s);if(o)return jK(o,r,c,S,s)}var qB=function(t){var r=t.type;return r===ba.Mobile},tO=function(t){var r=t.type;return r===ba.Tablet},eO=function(t){var r=t.type;return r===ba.Mobile||r===ba.Tablet},iO=function(t){var r=t.type;return r===ba.SmartTv},Z1=function(t){var r=t.type;return r===ba.Browser},rO=function(t){var r=t.type;return r===ba.Wearable},nO=function(t){var r=t.type;return r===ba.Console},sO=function(t){var r=t.type;return r===ba.Embedded},aO=function(t){var r=t.vendor;return fr(r)},oO=function(t){var r=t.model;return fr(r)},lO=function(t){var r=t.type;return fr(r,"browser")},uO=function(t){var r=t.name;return r===lp.Android},hO=function(t){var r=t.name;return r===lp.Windows},cO=function(t){var r=t.name;return r===lp.MAC_OS},fO=function(t){var r=t.name;return r===lp.WindowsPhone},dO=function(t){var r=t.name;return r===lp.IOS},pO=function(t){var r=t.version;return fr(r)},vO=function(t){var r=t.name;return fr(r)},mO=function(t){var r=t.name;return r===uo.Chrome},gO=function(t){var r=t.name;return r===uo.Firefox},yO=function(t){var r=t.name;return r===uo.Chromium},q1=function(t){var r=t.name;return r===uo.Edge},xO=function(t){var r=t.name;return r===uo.Yandex},bO=function(t){var r=t.name;return r===uo.Safari||r===uo.MobileSafari},SO=function(t){var r=t.name;return r===uo.MobileSafari},wO=function(t){var r=t.name;return r===uo.Opera},TO=function(t){var r=t.name;return r===uo.InternetExplorer||r===uo.Ie},CO=function(t){var r=t.name;return r===uo.MIUI},EO=function(t){var r=t.name;return r===uo.SamsungBrowser},kO=function(t){var r=t.version;return fr(r)},DO=function(t){var r=t.major;return fr(r)},AO=function(t){var r=t.name;return fr(r)},PO=function(t){var r=t.name;return fr(r)},RO=function(t){var r=t.version;return fr(r)},IO=function(){var t=ME(),r=t&&t.userAgent&&t.userAgent.toLowerCase();return typeof r=="string"?/electron/.test(r):!1},bd=function(t){return typeof t=="string"&&t.indexOf("Edg/")!==-1},MO=function(){var t=ME();return t&&(/iPad|iPhone|iPod/.test(t.platform)||t.platform==="MacIntel"&&t.maxTouchPoints>1)&&!window.MSStream},lu=function(){return BE("iPad")},BO=function(){return BE("iPhone")},OO=function(){return BE("iPod")},NO=function(t){return fr(t)};function FO(e){var t=e||ZB,r=t.device,n=t.browser,c=t.os,S=t.engine,s=t.ua;return{isSmartTV:iO(r),isConsole:nO(r),isWearable:rO(r),isEmbedded:sO(r),isMobileSafari:SO(n)||lu(),isChromium:yO(n),isMobile:eO(r)||lu(),isMobileOnly:qB(r),isTablet:tO(r)||lu(),isBrowser:Z1(r),isDesktop:Z1(r),isAndroid:uO(c),isWinPhone:fO(c),isIOS:dO(c)||lu(),isChrome:mO(n),isFirefox:gO(n),isSafari:bO(n),isOpera:wO(n),isIE:TO(n),osVersion:pO(c),osName:vO(c),fullBrowserVersion:kO(n),browserVersion:DO(n),browserName:AO(n),mobileVendor:aO(r),mobileModel:oO(r),engineName:PO(S),engineVersion:RO(S),getUA:NO(s),isEdge:q1(n)||bd(s),isYandex:xO(n),deviceType:lO(r),isIOS13:MO(),isIPad13:lu(),isIPhone13:BO(),isIPod13:OO(),isElectron:IO(),isEdgeChromium:bd(s),isLegacyEdge:q1(n)&&!bd(s),isWindows:hO(c),isMacOs:cO(c),isMIUI:CO(n),isSamsungBrowser:EO(n)}}var LO=iO(Po),_O=nO(Po),jO=rO(Po),zK=sO(Po),GK=SO(Da)||lu(),HK=yO(Da),vx=eO(Po)||lu(),UO=qB(Po),zO=tO(Po)||lu(),GO=Z1(Po),$K=Z1(Po),HO=uO(wc),$O=fO(wc),VO=dO(wc)||lu(),VK=mO(Da),WK=gO(Da),YK=bO(Da),XK=wO(Da),WO=TO(Da),QK=pO(wc),KK=vO(wc),JK=kO(Da),ZK=DO(Da),qK=AO(Da),tJ=aO(Po),eJ=oO(Po),iJ=PO(IE),rJ=RO(IE),nJ=NO(Wm),sJ=q1(Da)||bd(Wm),aJ=xO(Da),oJ=lO(Po),lJ=MO(),uJ=lu(),hJ=BO(),cJ=OO(),fJ=IO(),dJ=bd(Wm),pJ=q1(Da)&&!bd(Wm),vJ=hO(wc),mJ=cO(wc),gJ=CO(Da),yJ=EO(Da),xJ=function(t){if(!t||typeof t!="string"){console.error("No valid user agent string was provided");return}var r=Ym(t),n=r.device,c=r.browser,S=r.os,s=r.engine,g=r.ua;return FO({device:n,browser:c,os:S,engine:s,ua:g})},bJ=function(t){var r=t.renderWithFragment,n=t.children,c=rl(t,["renderWithFragment","children"]);return HO?r?Rn.createElement(Ta.Fragment,null,n):Rn.createElement("div",c,n):null},SJ=function(t){var r=t.renderWithFragment,n=t.children,c=rl(t,["renderWithFragment","children"]);return GO?r?Rn.createElement(Ta.Fragment,null,n):Rn.createElement("div",c,n):null},wJ=function(t){var r=t.renderWithFragment,n=t.children,c=rl(t,["renderWithFragment","children"]);return WO?r?Rn.createElement(Ta.Fragment,null,n):Rn.createElement("div",c,n):null},TJ=function(t){var r=t.renderWithFragment,n=t.children,c=rl(t,["renderWithFragment","children"]);return VO?r?Rn.createElement(Ta.Fragment,null,n):Rn.createElement("div",c,n):null},CJ=function(t){var r=t.renderWithFragment,n=t.children,c=rl(t,["renderWithFragment","children"]);return vx?r?Rn.createElement(Ta.Fragment,null,n):Rn.createElement("div",c,n):null},EJ=function(t){var r=t.renderWithFragment,n=t.children,c=rl(t,["renderWithFragment","children"]);return zO?r?Rn.createElement(Ta.Fragment,null,n):Rn.createElement("div",c,n):null},kJ=function(t){var r=t.renderWithFragment,n=t.children,c=rl(t,["renderWithFragment","children"]);return $O?r?Rn.createElement(Ta.Fragment,null,n):Rn.createElement("div",c,n):null},DJ=function(t){var r=t.renderWithFragment,n=t.children;t.viewClassName,t.style;var c=rl(t,["renderWithFragment","children","viewClassName","style"]);return UO?r?Rn.createElement(Ta.Fragment,null,n):Rn.createElement("div",c,n):null},AJ=function(t){var r=t.renderWithFragment,n=t.children,c=rl(t,["renderWithFragment","children"]);return LO?r?Rn.createElement(Ta.Fragment,null,n):Rn.createElement("div",c,n):null},PJ=function(t){var r=t.renderWithFragment,n=t.children,c=rl(t,["renderWithFragment","children"]);return _O?r?Rn.createElement(Ta.Fragment,null,n):Rn.createElement("div",c,n):null},RJ=function(t){var r=t.renderWithFragment,n=t.children,c=rl(t,["renderWithFragment","children"]);return jO?r?Rn.createElement(Ta.Fragment,null,n):Rn.createElement("div",c,n):null},IJ=function(t){var r=t.renderWithFragment,n=t.children;t.viewClassName,t.style;var c=t.condition,S=rl(t,["renderWithFragment","children","viewClassName","style","condition"]);return c?r?Rn.createElement(Ta.Fragment,null,n):Rn.createElement("div",S,n):null};function MJ(e){return function(t){CK(r,t);function r(n){var c;return bK(this,r),c=kK(this,D2(r).call(this,n)),c.isEventListenerAdded=!1,c.handleOrientationChange=c.handleOrientationChange.bind(qg(c)),c.onOrientationChange=c.onOrientationChange.bind(qg(c)),c.onPageLoad=c.onPageLoad.bind(qg(c)),c.state={isLandscape:!1,isPortrait:!1},c}return wK(r,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var c=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:c===0,isLandscape:c===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window=="undefined"?"undefined":Nv(window))!==void 0&&vx&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return Rn.createElement(e,k2({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),r}(Rn.Component)}function BJ(){var e=Ta.useState(function(){var S=window.innerWidth>window.innerHeight?90:0;return{isPortrait:S===0,isLandscape:S===90,orientation:S===0?"portrait":"landscape"}}),t=DK(e,2),r=t[0],n=t[1],c=Ta.useCallback(function(){var S=window.innerWidth>window.innerHeight?90:0,s={isPortrait:S===0,isLandscape:S===90,orientation:S===0?"portrait":"landscape"};r.orientation!==s.orientation&&n(s)},[r.orientation]);return Ta.useEffect(function(){return(typeof window=="undefined"?"undefined":Nv(window))!==void 0&&vx&&(c(),window.addEventListener("load",c,!1),window.addEventListener("resize",c,!1)),function(){window.removeEventListener("resize",c,!1),window.removeEventListener("load",c,!1)}},[c]),r}function YO(e){var t=e||window.navigator.userAgent;return Ym(t)}function OJ(e){var t=e||window.navigator.userAgent,r=YO(t),n=FO(r);return[n,r]}Li.AndroidView=bJ;Li.BrowserTypes=uo;Li.BrowserView=SJ;Li.ConsoleView=PJ;Li.CustomView=IJ;Li.IEView=wJ;Li.IOSView=TJ;Li.MobileOnlyView=DJ;Li.MobileView=CJ;Li.OsTypes=lp;Li.SmartTVView=AJ;Li.TabletView=EJ;Li.WearableView=RJ;Li.WinPhoneView=kJ;Li.browserName=qK;Li.browserVersion=ZK;Li.deviceDetect=UK;Li.deviceType=oJ;Li.engineName=iJ;Li.engineVersion=rJ;Li.fullBrowserVersion=JK;Li.getSelectorsByUserAgent=xJ;Li.getUA=nJ;Li.isAndroid=HO;Li.isBrowser=GO;Li.isChrome=VK;Li.isChromium=HK;Li.isConsole=_O;Li.isDesktop=$K;Li.isEdge=sJ;Li.isEdgeChromium=dJ;Li.isElectron=fJ;Li.isEmbedded=zK;Li.isFirefox=WK;Li.isIE=WO;Li.isIOS=VO;Li.isIOS13=lJ;Li.isIPad13=uJ;Li.isIPhone13=hJ;Li.isIPod13=cJ;Li.isLegacyEdge=pJ;Li.isMIUI=gJ;Li.isMacOs=mJ;var ur=Li.isMobile=vx;Li.isMobileOnly=UO;Li.isMobileSafari=GK;Li.isOpera=XK;Li.isSafari=YK;Li.isSamsungBrowser=yJ;Li.isSmartTV=LO;Li.isTablet=zO;Li.isWearable=jO;Li.isWinPhone=$O;Li.isWindows=vJ;Li.isYandex=aJ;Li.mobileModel=eJ;Li.mobileVendor=tJ;Li.osName=KK;Li.osVersion=QK;Li.parseUserAgent=Ym;Li.setUserAgent=OK;Li.useDeviceData=YO;Li.useDeviceSelectors=OJ;Li.useMobileOrientation=BJ;Li.withOrientationChange=MJ;var XO={exports:{}};(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var S="",s=0;s<arguments.length;s++){var g=arguments[s];g&&(S=c(S,n(g)))}return S}function n(S){if(typeof S=="string"||typeof S=="number")return S;if(typeof S!="object")return"";if(Array.isArray(S))return r.apply(null,S);if(S.toString!==Object.prototype.toString&&!S.toString.toString().includes("[native code]"))return S.toString();var s="";for(var g in S)t.call(S,g)&&S[g]&&(s=c(s,g));return s}function c(S,s){return s?S?S+" "+s:S+s:S}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(XO);var NJ=XO.exports;const Ct=Rs(NJ);function FJ(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var QO=zi,LJ=FJ(QO);function x8(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _J(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var jJ=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function UJ(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r!="undefined"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(c){return c.displayName||c.name||"Component"}return function(S){if(typeof S!="function")throw new Error("Expected WrappedComponent to be a React component.");var s=[],g;function i(){g=e(s.map(function(v){return v.props})),a.canUseDOM?t(g):r&&(g=r(g))}var a=function(v){_J(f,v);function f(){return v.apply(this,arguments)||this}f.peek=function(){return g},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var o=g;return g=void 0,s=[],o};var h=f.prototype;return h.UNSAFE_componentWillMount=function(){s.push(this),i()},h.componentDidUpdate=function(){i()},h.componentWillUnmount=function(){var o=s.indexOf(this);s.splice(o,1),i()},h.render=function(){return LJ.createElement(S,this.props)},f}(QO.PureComponent);return x8(a,"displayName","SideEffect("+n(S)+")"),x8(a,"canUseDOM",jJ),a}}var zJ=UJ;const GJ=Rs(zJ);var HJ=typeof Element!="undefined",$J=typeof Map=="function",VJ=typeof Set=="function",WJ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function t1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,c;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!t1(e[n],t[n]))return!1;return!0}var S;if($J&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(S=e.entries();!(n=S.next()).done;)if(!t.has(n.value[0]))return!1;for(S=e.entries();!(n=S.next()).done;)if(!t1(n.value[1],t.get(n.value[0])))return!1;return!0}if(VJ&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(S=e.entries();!(n=S.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(WJ&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(c=Object.keys(e),r=c.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,c[n]))return!1;if(HJ&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((c[n]==="_owner"||c[n]==="__v"||c[n]==="__o")&&e.$$typeof)&&!t1(e[c[n]],t[c[n]]))return!1;return!0}return e!==e&&t!==t}var YJ=function(t,r){try{return t1(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const XJ=Rs(YJ);var ff={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},xr={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(xr).map(function(e){return xr[e]});var Wn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},ty={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},pm={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},QJ=Object.keys(ty).reduce(function(e,t){return e[ty[t]]=t,e},{}),KJ=[xr.NOSCRIPT,xr.SCRIPT,xr.STYLE],Il="data-react-helmet",JJ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZJ=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},qJ=function(){function e(t,r){for(var n=0;n<r.length;n++){var c=r[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tZ=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},b8=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},eZ=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},P2=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},iZ=function(t){var r=Sd(t,xr.TITLE),n=Sd(t,pm.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var c=Sd(t,pm.DEFAULT_TITLE);return r||c||void 0},rZ=function(t){return Sd(t,pm.ON_CHANGE_CLIENT_STATE)||function(){}},qb=function(t,r){return r.filter(function(n){return typeof n[t]!="undefined"}).map(function(n){return n[t]}).reduce(function(n,c){return Ja({},n,c)},{})},nZ=function(t,r){return r.filter(function(n){return typeof n[xr.BASE]!="undefined"}).map(function(n){return n[xr.BASE]}).reverse().reduce(function(n,c){if(!n.length)for(var S=Object.keys(c),s=0;s<S.length;s++){var g=S[s],i=g.toLowerCase();if(t.indexOf(i)!==-1&&c[i])return n.concat(c)}return n},[])},zp=function(t,r,n){var c={};return n.filter(function(S){return Array.isArray(S[t])?!0:(typeof S[t]!="undefined"&&lZ("Helmet: "+t+' should be of type "Array". Instead found type "'+JJ(S[t])+'"'),!1)}).map(function(S){return S[t]}).reverse().reduce(function(S,s){var g={};s.filter(function(h){for(var u=void 0,o=Object.keys(h),d=0;d<o.length;d++){var p=o[d],l=p.toLowerCase();r.indexOf(l)!==-1&&!(u===Wn.REL&&h[u].toLowerCase()==="canonical")&&!(l===Wn.REL&&h[l].toLowerCase()==="stylesheet")&&(u=l),r.indexOf(p)!==-1&&(p===Wn.INNER_HTML||p===Wn.CSS_TEXT||p===Wn.ITEM_PROP)&&(u=p)}if(!u||!h[u])return!1;var m=h[u].toLowerCase();return c[u]||(c[u]={}),g[u]||(g[u]={}),c[u][m]?!1:(g[u][m]=!0,!0)}).reverse().forEach(function(h){return S.push(h)});for(var i=Object.keys(g),a=0;a<i.length;a++){var v=i[a],f=UU({},c[v],g[v]);c[v]=f}return S},[]).reverse()},Sd=function(t,r){for(var n=t.length-1;n>=0;n--){var c=t[n];if(c.hasOwnProperty(r))return c[r]}return null},sZ=function(t){return{baseTag:nZ([Wn.HREF,Wn.TARGET],t),bodyAttributes:qb(ff.BODY,t),defer:Sd(t,pm.DEFER),encode:Sd(t,pm.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:qb(ff.HTML,t),linkTags:zp(xr.LINK,[Wn.REL,Wn.HREF],t),metaTags:zp(xr.META,[Wn.NAME,Wn.CHARSET,Wn.HTTPEQUIV,Wn.PROPERTY,Wn.ITEM_PROP],t),noscriptTags:zp(xr.NOSCRIPT,[Wn.INNER_HTML],t),onChangeClientState:rZ(t),scriptTags:zp(xr.SCRIPT,[Wn.SRC,Wn.INNER_HTML],t),styleTags:zp(xr.STYLE,[Wn.CSS_TEXT],t),title:iZ(t),titleAttributes:qb(ff.TITLE,t)}},R2=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){R2(t)},0)}}(),S8=function(t){return clearTimeout(t)},aZ=typeof window!="undefined"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||R2:globalThis.requestAnimationFrame||R2,oZ=typeof window!="undefined"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||S8:globalThis.cancelAnimationFrame||S8,lZ=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Gp=null,uZ=function(t){Gp&&oZ(Gp),t.defer?Gp=aZ(function(){w8(t,function(){Gp=null})}):(w8(t),Gp=null)},w8=function(t,r){var n=t.baseTag,c=t.bodyAttributes,S=t.htmlAttributes,s=t.linkTags,g=t.metaTags,i=t.noscriptTags,a=t.onChangeClientState,v=t.scriptTags,f=t.styleTags,h=t.title,u=t.titleAttributes;I2(xr.BODY,c),I2(xr.HTML,S),hZ(h,u);var o={baseTag:Uf(xr.BASE,n),linkTags:Uf(xr.LINK,s),metaTags:Uf(xr.META,g),noscriptTags:Uf(xr.NOSCRIPT,i),scriptTags:Uf(xr.SCRIPT,v),styleTags:Uf(xr.STYLE,f)},d={},p={};Object.keys(o).forEach(function(l){var m=o[l],y=m.newTags,x=m.oldTags;y.length&&(d[l]=y),x.length&&(p[l]=o[l].oldTags)}),r&&r(),a(t,d,p)},KO=function(t){return Array.isArray(t)?t.join(""):t},hZ=function(t,r){typeof t!="undefined"&&document.title!==t&&(document.title=KO(t)),I2(xr.TITLE,r)},I2=function(t,r){var n=document.getElementsByTagName(t)[0];if(n){for(var c=n.getAttribute(Il),S=c?c.split(","):[],s=[].concat(S),g=Object.keys(r),i=0;i<g.length;i++){var a=g[i],v=r[a]||"";n.getAttribute(a)!==v&&n.setAttribute(a,v),S.indexOf(a)===-1&&S.push(a);var f=s.indexOf(a);f!==-1&&s.splice(f,1)}for(var h=s.length-1;h>=0;h--)n.removeAttribute(s[h]);S.length===s.length?n.removeAttribute(Il):n.getAttribute(Il)!==g.join(",")&&n.setAttribute(Il,g.join(","))}},Uf=function(t,r){var n=document.head||document.querySelector(xr.HEAD),c=n.querySelectorAll(t+"["+Il+"]"),S=Array.prototype.slice.call(c),s=[],g=void 0;return r&&r.length&&r.forEach(function(i){var a=document.createElement(t);for(var v in i)if(i.hasOwnProperty(v))if(v===Wn.INNER_HTML)a.innerHTML=i.innerHTML;else if(v===Wn.CSS_TEXT)a.styleSheet?a.styleSheet.cssText=i.cssText:a.appendChild(document.createTextNode(i.cssText));else{var f=typeof i[v]=="undefined"?"":i[v];a.setAttribute(v,f)}a.setAttribute(Il,"true"),S.some(function(h,u){return g=u,a.isEqualNode(h)})?S.splice(g,1):s.push(a)}),S.forEach(function(i){return i.parentNode.removeChild(i)}),s.forEach(function(i){return n.appendChild(i)}),{oldTags:S,newTags:s}},JO=function(t){return Object.keys(t).reduce(function(r,n){var c=typeof t[n]!="undefined"?n+'="'+t[n]+'"':""+n;return r?r+" "+c:c},"")},cZ=function(t,r,n,c){var S=JO(n),s=KO(r);return S?"<"+t+" "+Il+'="true" '+S+">"+P2(s,c)+"</"+t+">":"<"+t+" "+Il+'="true">'+P2(s,c)+"</"+t+">"},fZ=function(t,r,n){return r.reduce(function(c,S){var s=Object.keys(S).filter(function(a){return!(a===Wn.INNER_HTML||a===Wn.CSS_TEXT)}).reduce(function(a,v){var f=typeof S[v]=="undefined"?v:v+'="'+P2(S[v],n)+'"';return a?a+" "+f:f},""),g=S.innerHTML||S.cssText||"",i=KJ.indexOf(t)===-1;return c+"<"+t+" "+Il+'="true" '+s+(i?"/>":">"+g+"</"+t+">")},"")},ZO=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,c){return n[ty[c]||c]=t[c],n},r)},dZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,c){return n[QJ[c]||c]=t[c],n},r)},pZ=function(t,r,n){var c,S=(c={key:r},c[Il]=!0,c),s=ZO(n,S);return[ti.createElement(xr.TITLE,s,r)]},vZ=function(t,r){return r.map(function(n,c){var S,s=(S={key:c},S[Il]=!0,S);return Object.keys(n).forEach(function(g){var i=ty[g]||g;if(i===Wn.INNER_HTML||i===Wn.CSS_TEXT){var a=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:a}}else s[i]=n[g]}),ti.createElement(t,s)})},Fu=function(t,r,n){switch(t){case xr.TITLE:return{toComponent:function(){return pZ(t,r.title,r.titleAttributes)},toString:function(){return cZ(t,r.title,r.titleAttributes,n)}};case ff.BODY:case ff.HTML:return{toComponent:function(){return ZO(r)},toString:function(){return JO(r)}};default:return{toComponent:function(){return vZ(t,r)},toString:function(){return fZ(t,r,n)}}}},qO=function(t){var r=t.baseTag,n=t.bodyAttributes,c=t.encode,S=t.htmlAttributes,s=t.linkTags,g=t.metaTags,i=t.noscriptTags,a=t.scriptTags,v=t.styleTags,f=t.title,h=f===void 0?"":f,u=t.titleAttributes;return{base:Fu(xr.BASE,r,c),bodyAttributes:Fu(ff.BODY,n,c),htmlAttributes:Fu(ff.HTML,S,c),link:Fu(xr.LINK,s,c),meta:Fu(xr.META,g,c),noscript:Fu(xr.NOSCRIPT,i,c),script:Fu(xr.SCRIPT,a,c),style:Fu(xr.STYLE,v,c),title:Fu(xr.TITLE,{title:h,titleAttributes:u},c)}},mZ=function(t){var r,n;return n=r=function(c){tZ(S,c);function S(){return ZJ(this,S),eZ(this,c.apply(this,arguments))}return S.prototype.shouldComponentUpdate=function(g){return!XJ(this.props,g)},S.prototype.mapNestedChildrenToProps=function(g,i){if(!i)return null;switch(g.type){case xr.SCRIPT:case xr.NOSCRIPT:return{innerHTML:i};case xr.STYLE:return{cssText:i}}throw new Error("<"+g.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},S.prototype.flattenArrayTypeChildren=function(g){var i,a=g.child,v=g.arrayTypeChildren,f=g.newChildProps,h=g.nestedChildren;return Ja({},v,(i={},i[a.type]=[].concat(v[a.type]||[],[Ja({},f,this.mapNestedChildrenToProps(a,h))]),i))},S.prototype.mapObjectTypeChildren=function(g){var i,a,v=g.child,f=g.newProps,h=g.newChildProps,u=g.nestedChildren;switch(v.type){case xr.TITLE:return Ja({},f,(i={},i[v.type]=u,i.titleAttributes=Ja({},h),i));case xr.BODY:return Ja({},f,{bodyAttributes:Ja({},h)});case xr.HTML:return Ja({},f,{htmlAttributes:Ja({},h)})}return Ja({},f,(a={},a[v.type]=Ja({},h),a))},S.prototype.mapArrayTypeChildrenToProps=function(g,i){var a=Ja({},i);return Object.keys(g).forEach(function(v){var f;a=Ja({},a,(f={},f[v]=g[v],f))}),a},S.prototype.warnOnInvalidChildren=function(g,i){return!0},S.prototype.mapChildrenToProps=function(g,i){var a=this,v={};return ti.Children.forEach(g,function(f){if(!(!f||!f.props)){var h=f.props,u=h.children,o=b8(h,["children"]),d=dZ(o);switch(a.warnOnInvalidChildren(f,u),f.type){case xr.LINK:case xr.META:case xr.NOSCRIPT:case xr.SCRIPT:case xr.STYLE:v=a.flattenArrayTypeChildren({child:f,arrayTypeChildren:v,newChildProps:d,nestedChildren:u});break;default:i=a.mapObjectTypeChildren({child:f,newProps:i,newChildProps:d,nestedChildren:u});break}}}),i=this.mapArrayTypeChildrenToProps(v,i),i},S.prototype.render=function(){var g=this.props,i=g.children,a=b8(g,["children"]),v=Ja({},a);return i&&(v=this.mapChildrenToProps(i,v)),ti.createElement(t,v)},qJ(S,null,[{key:"canUseDOM",set:function(g){t.canUseDOM=g}}]),S}(ti.Component),r.propTypes={base:Wt.object,bodyAttributes:Wt.object,children:Wt.oneOfType([Wt.arrayOf(Wt.node),Wt.node]),defaultTitle:Wt.string,defer:Wt.bool,encodeSpecialCharacters:Wt.bool,htmlAttributes:Wt.object,link:Wt.arrayOf(Wt.object),meta:Wt.arrayOf(Wt.object),noscript:Wt.arrayOf(Wt.object),onChangeClientState:Wt.func,script:Wt.arrayOf(Wt.object),style:Wt.arrayOf(Wt.object),title:Wt.string,titleAttributes:Wt.object,titleTemplate:Wt.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var c=t.rewind();return c||(c=qO({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),c},n},gZ=function(){return null},yZ=GJ(sZ,uZ,qO)(gZ),M2=mZ(yZ);M2.renderStatic=M2.rewind;const xZ="https://ac.blooket.com/dashboard/assets/BlookCheckers-BykpA7vd.png",bZ="https://ac.blooket.com/dashboard/assets/Blooket_Spreadsheet_Import_Template-CRBqcEp3.xlsx",SZ="https://ac.blooket.com/dashboard/assets/Blooket-M6jYh_hk.png",wZ="https://ac.blooket.com/dashboard/assets/BlooketSquare16-Cad01EB-.png",TZ="https://ac.blooket.com/dashboard/assets/BlooketSquare32-Dsr-B0eG.png",CZ="https://ac.blooket.com/dashboard/assets/BlooketSquare180-BARZEjNt.png",EZ="https://ac.blooket.com/dashboard/assets/candy-BoREoeX4.svg",kZ="https://ac.blooket.com/dashboard/assets/candyDark-PeQDxmOl.svg",DZ="https://ac.blooket.com/dashboard/assets/castleTile-xVoiTfwd.svg",AZ="https://ac.blooket.com/dashboard/assets/chest1-C_Kgg2Ui.svg",PZ="https://ac.blooket.com/dashboard/assets/chest2-DgTYmzNf.svg",RZ="https://ac.blooket.com/dashboard/assets/chest3-oiu39qh7.svg",IZ="https://ac.blooket.com/dashboard/assets/EventTrophy-NKWgYkMF.svg",MZ="https://ac.blooket.com/dashboard/assets/FinishLine-BLSKIFVK.svg",BZ="https://ac.blooket.com/dashboard/assets/FinishLine2-BiTz515P.svg",OZ="https://ac.blooket.com/dashboard/assets/Gift1-ChLV2N7a.svg",NZ="https://ac.blooket.com/dashboard/assets/Gift2-DW-Q5Jla.svg",FZ="https://ac.blooket.com/dashboard/assets/Gift3-BLbyLNBJ.svg",LZ="https://ac.blooket.com/dashboard/assets/gold-DFRCSqw9.svg",_Z="https://ac.blooket.com/dashboard/assets/GoogleLogo-9Ga02loa.svg",jZ="https://ac.blooket.com/dashboard/assets/ImproveTools-K_iTAT49.svg",UZ="https://ac.blooket.com/dashboard/assets/mountains-DoN8d23B.png",zZ="https://ac.blooket.com/dashboard/assets/pumpkin1-B3JJEt0A.svg",GZ="https://ac.blooket.com/dashboard/assets/pumpkin2-CoYMcbN7.svg",HZ="https://ac.blooket.com/dashboard/assets/pumpkin3-KeYcQAX1.svg",$Z="https://ac.blooket.com/dashboard/assets/santaHat-D4ClqMOj.svg",VZ="https://ac.blooket.com/dashboard/assets/shield-DEeSqHMF.png",WZ="https://ac.blooket.com/dashboard/assets/snowTile-8Pweq9fO.png",YZ="https://ac.blooket.com/dashboard/assets/StuffBox-DXhsUJ2k.svg",XZ="https://ac.blooket.com/dashboard/assets/sword-BOuPZz8C.png",QZ="https://ac.blooket.com/dashboard/assets/Token-DmrosBZF.svg",KZ="https://ac.blooket.com/dashboard/assets/toy-CO4-YS66.svg",JZ="https://ac.blooket.com/dashboard/assets/Tree-CIB63QU_.svg",ZZ="https://ac.blooket.com/dashboard/assets/UnsplashLogo-AgHLHbC7.svg",qZ="https://ac.blooket.com/dashboard/assets/xp-CtoOB8eQ.svg",tq="https://ac.blooket.com/dashboard/assets/QuizletLogo-CioRDHKr.png",eq="https://ac.blooket.com/dashboard/assets/QuizletFullLogo-DQOjSgU_.svg",iq="https://ac.blooket.com/dashboard/assets/QuizletImportStep1-BpIj24cT.png",rq="https://ac.blooket.com/dashboard/assets/QuizletImportStep2-D4CKtDaO.png",nq="https://ac.blooket.com/dashboard/assets/QuizletImportStep3-SoaH8Ynu.png",sq="https://ac.blooket.com/dashboard/assets/DamageIcon-DOzOf3R5.svg",aq="https://ac.blooket.com/dashboard/assets/PackTop-B_oZNFnG.svg",oq="https://ac.blooket.com/dashboard/assets/doubloon-dNhmeg4g.svg",lq={blookCheckers:xZ,spreadsheetTemplate:bZ,blooket:SZ,blooket16:wZ,blooket32:TZ,blooket180:CZ,candy:EZ,candyDark:kZ,castleTile:DZ,chest1:AZ,chest2:PZ,chest3:RZ,eventTrophy:IZ,finishLine:MZ,finishLine2:BZ,gift1:OZ,gift2:NZ,gift3:FZ,gold:LZ,googleLogo:_Z,improveTools:jZ,mountains:UZ,pumpkin1:zZ,pumpkin2:GZ,pumpkin3:HZ,santaHat:$Z,shield:VZ,snowTile:WZ,stuffBox:YZ,sword:XZ,token:QZ,toy:KZ,tree:JZ,unsplashLogo:ZZ,xp:qZ,QuizletLogo:tq,QuizletFullLogo:eq,QuizletImportStep1:iq,QuizletImportStep2:rq,QuizletImportStep3:nq,DamageIcon:sq,PackTop:aq,doubloon:oq},uq="https://ac.blooket.com/dashboard/assets/basicMap-BdvjIwk0.jpg",hq="https://ac.blooket.com/dashboard/assets/grassTile-I2Fdiuvy.svg",cq="https://ac.blooket.com/dashboard/assets/mineMap-B0k79lS_.jpg",fq="https://ac.blooket.com/dashboard/assets/sandMap-BTO39y3u.jpg",dq="https://ac.blooket.com/dashboard/assets/sandTile-D-a4CYes.svg",pq="https://ac.blooket.com/dashboard/assets/stoneTile-ChEC0mpc.svg",vq={basicMap:uq,grassTile:hq,mineMap:cq,sandMap:fq,sandTile:dq,stoneTile:pq},mq="https://ac.blooket.com/dashboard/assets/magnifyingGlass-B7YiA0vO.svg",gq="https://ac.blooket.com/dashboard/assets/paperTexture-8PG-GX0u.png",yq="https://ac.blooket.com/dashboard/assets/pickaxe-CCLGuBWb.svg",xq="https://ac.blooket.com/dashboard/assets/rock1-B6XK3feV.svg",bq="https://ac.blooket.com/dashboard/assets/rock2-C57icCXd.svg",Sq="https://ac.blooket.com/dashboard/assets/rock3--9YEEvrN.svg",wq="https://ac.blooket.com/dashboard/assets/rock4-D8x1WjMP.svg",Tq={magnifyingGlass:mq,paperTexture:gq,pickaxe:yq,rock1:xq,rock2:bq,rock3:Sq,rock4:wq},Cq="https://ac.blooket.com/dashboard/assets/elaBackground-DGe6wmad.svg",Eq="https://ac.blooket.com/dashboard/assets/mathBackground-1HwzXV40.svg",kq="https://ac.blooket.com/dashboard/assets/scienceBackground-CdrU_qcn.svg",Dq="https://ac.blooket.com/dashboard/assets/socialStudiesBackground-CXb4wAkB.svg",Aq="https://ac.blooket.com/dashboard/assets/triviaBackground-BVl-uwXs.svg",Pq="https://ac.blooket.com/dashboard/assets/worldLanguagesBackground-DJvR_Ppq.svg",Rq="https://ac.blooket.com/dashboard/assets/aslIcon-Cu3qKzTr.svg",Iq="https://ac.blooket.com/dashboard/assets/frenchFlag-ueGkVUg8.svg",Mq="https://ac.blooket.com/dashboard/assets/japaneseFlag-NNt8MrZA.svg",Bq="https://ac.blooket.com/dashboard/assets/spanishFlag-Y3G7VNoD.svg",Oq={elaBackground:Cq,mathBackground:Eq,scienceBackground:kq,socialStudiesBackground:Dq,triviaBackground:Aq,worldLanguagesBackground:Pq,aslIcon:Rq,frenchFlag:Iq,japaneseFlag:Mq,spanishFlag:Bq},Nq="https://ac.blooket.com/dashboard/assets/shamrock-BPAnA-K6.svg",Fq="https://ac.blooket.com/dashboard/assets/shamrockBlack-Bj3d-qYQ.svg",Lq="https://ac.blooket.com/dashboard/assets/shamrockWhite-k63aJTU2.svg",_q={shamrock:Nq,shamrockBlack:Fq,shamrockWhite:Lq},jq="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Aquatic-CDVAa5Z1.svg",Uq="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Arctic-DnFet-Es.svg",zq="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Blizzard-BEOZGRo9.svg",Gq="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Bots-CWFp85lE.svg",Hq="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Breakfast-rXV3rN0C.svg",$q="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Dino-qvYP8NHH.svg",Vq="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Farm-Cf8P0mJz.svg",Wq="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Forest-56I9sRnu.svg",Yq="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Generic-BG3_DSfA.svg",Xq="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Ice_Monster-IrnSpiG5.svg",Qq="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Medieval-HAKt-8uS.svg",Kq="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Outback-CCDUJgD9.svg",Jq="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Pets--9tpvwHe.svg",Zq="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Safari-Bov1ICT4.svg",qq="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Space-BVfDeCoN.svg",ttt="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Spooky-BE3Q44ax.svg",ett="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Tropical-DV9rwhsh.svg",itt="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Wonderland-By4voe3_.svg",rtt="https://ac.blooket.com/dashboard/assets/Highlighted_Background_Pirate-CrD0PKuQ.svg",ntt={Aquatic:jq,Arctic:Uq,Blizzard:zq,Bots:Gq,Breakfast:Hq,Dino:$q,Farm:Vq,Forest:Wq,Generic:Yq,IceMonster:Xq,Medieval:Qq,Outback:Kq,Pets:Jq,Safari:Zq,Space:qq,Spooky:ttt,Tropical:ett,Wonderland:itt,Pirate:rtt},stt="https://ac.blooket.com/dashboard/assets/Array_Tile_Aquatic-DGwJPWGz.svg",att="https://ac.blooket.com/dashboard/assets/Array_Tile_Arctic-DDrKhmGU.svg",ott="https://ac.blooket.com/dashboard/assets/Array_Tile_Blizzard-1tBAxntU.svg",ltt="https://ac.blooket.com/dashboard/assets/Array_Tile_Bots-YTkeidrh.svg",utt="https://ac.blooket.com/dashboard/assets/Array_Tile_Breakfast-B-1YRZrQ.svg",htt="https://ac.blooket.com/dashboard/assets/Array_Tile_Dino-BBW2BSz4.svg",ctt="https://ac.blooket.com/dashboard/assets/Array_Tile_Farm-tIM3PSNI.svg",ftt="https://ac.blooket.com/dashboard/assets/Array_Tile_Forest-o55Ym2tr.svg",dtt="https://ac.blooket.com/dashboard/assets/Array_Tile_Hidden-CMaRBsLQ.svg",ptt="https://ac.blooket.com/dashboard/assets/Array_Tile_Ice_Monster-CR2XHQJ_.svg",vtt="https://ac.blooket.com/dashboard/assets/Array_Tile_Medieval-CA_b442C.svg",mtt="https://ac.blooket.com/dashboard/assets/Array_Tile_Outback-B82RC2JI.svg",gtt="https://ac.blooket.com/dashboard/assets/Array_Tile_Pets-C2ajWRc5.svg",ytt="https://ac.blooket.com/dashboard/assets/Array_Tile_Safari-D2a8aM2f.svg",xtt="https://ac.blooket.com/dashboard/assets/Array_Tile_Space-BmB22OdP.svg",btt="https://ac.blooket.com/dashboard/assets/Array_Tile_Spooky-BYEu7oY7.svg",Stt="https://ac.blooket.com/dashboard/assets/Array_Tile_Tropical-H6uvZaOa.svg",wtt="https://ac.blooket.com/dashboard/assets/Array_Tile_Wonderland-D_oloIw6.svg",Ttt="https://ac.blooket.com/dashboard/assets/Array_Tile_Pirate-BbgcatPA.svg",Ctt={Aquatic:stt,Arctic:att,Blizzard:ott,Bots:ltt,Breakfast:utt,Dino:htt,Farm:ctt,Forest:ftt,Hidden:dtt,IceMonster:ptt,Medieval:vtt,Outback:mtt,Pets:gtt,Safari:ytt,Space:xtt,Spooky:btt,Tropical:Stt,Wonderland:wtt,Pirate:Ttt},Ett="https://ac.blooket.com/dashboard/assets/Nav_Icon_Aquatic-D4fC_G1v.svg",ktt="https://ac.blooket.com/dashboard/assets/Nav_Icon_Arctic-DzaIX0Uv.svg",Dtt="https://ac.blooket.com/dashboard/assets/Nav_Icon_Blizzard-FwlNPZIo.svg",Att="https://ac.blooket.com/dashboard/assets/Nav_Icon_Bots-D7ASpw7Y.svg",Ptt="https://ac.blooket.com/dashboard/assets/Nav_Icon_Breakfast-B4PUbejt.svg",Rtt="https://ac.blooket.com/dashboard/assets/Nav_Icon_Dino-LR7kweKQ.svg",Itt="https://ac.blooket.com/dashboard/assets/Nav_Icon_Farm-DLJOEU1H.svg",Mtt="https://ac.blooket.com/dashboard/assets/Nav_Icon_Forest-D7iXnxVN.svg",Btt="https://ac.blooket.com/dashboard/assets/Nav_Icon_Ice_Monster-BPkY957e.svg",Ott="https://ac.blooket.com/dashboard/assets/Nav_Icon_Medieval-CqobdGj3.svg",Ntt="https://ac.blooket.com/dashboard/assets/Nav_Icon_Outback-B7eUZyV5.svg",Ftt="https://ac.blooket.com/dashboard/assets/Nav_Icon_Pets-BgCBMaDh.svg",Ltt="https://ac.blooket.com/dashboard/assets/Nav_Icon_Safari-BCPCVgql.svg",_tt="https://ac.blooket.com/dashboard/assets/Nav_Icon_Space-BLoNMfKq.svg",jtt="https://ac.blooket.com/dashboard/assets/Nav_Icon_Spooky-T-OEBdM8.svg",Utt="https://ac.blooket.com/dashboard/assets/Nav_Icon_Tropical-DFEdkGBU.svg",ztt="https://ac.blooket.com/dashboard/assets/Nav_Icon_Wonderland-B-wcr4i9.svg",Gtt="https://ac.blooket.com/dashboard/assets/Nav_Icon_Pirate-ew8qi374.svg",Htt={Aquatic:Ett,Arctic:ktt,Blizzard:Dtt,Bots:Att,Breakfast:Ptt,Dino:Rtt,Farm:Itt,Forest:Mtt,IceMonster:Btt,Medieval:Ott,Outback:Ntt,Pets:Ftt,Safari:Ltt,Space:_tt,Spooky:jtt,Tropical:Utt,Wonderland:ztt,Pirate:Gtt},$tt="https://ac.blooket.com/dashboard/assets/Aquatic_Pack-jzoFduWG.png",Vtt="https://ac.blooket.com/dashboard/assets/Blizzard_Pack-BOoWpsti.png",Wtt="https://ac.blooket.com/dashboard/assets/Bot_Pack-DH_cssp8.png",Ytt="https://ac.blooket.com/dashboard/assets/Breakfast_Pack-Dbk28uOc.png",Xtt="https://ac.blooket.com/dashboard/assets/Dino_Pack-DAApPtRS.png",Qtt="https://ac.blooket.com/dashboard/assets/Ice_Monsters_Pack-BkSPnfqh.png",Ktt="https://ac.blooket.com/dashboard/assets/Medieval_Pack-Cv60cQFL.png",Jtt="https://ac.blooket.com/dashboard/assets/Outback_Pack-Y8OWSe8a.png",Ztt="https://ac.blooket.com/dashboard/assets/Safari_Pack-CH238vQG.png",qtt="https://ac.blooket.com/dashboard/assets/Space_Pack-Ck3VoVFZ.png",tet="https://ac.blooket.com/dashboard/assets/Spooky_Pack-B3my0xUo.png",eet="https://ac.blooket.com/dashboard/assets/Wonderland_Pack-CaB8iqtb.png",iet="https://ac.blooket.com/dashboard/assets/Pirate_Pack-Uir9GffU.png",ret={Aquatic:$tt,Blizzard:Vtt,Bot:Wtt,Breakfast:Ytt,Dino:Xtt,IceMonsters:Qtt,Medieval:Ktt,Outback:Jtt,Safari:Ztt,Space:qtt,Spooky:tet,Wonderland:eet,Pirate:iet},net="https://ac.blooket.com/dashboard/assets/AquaticPackBottom-Dk36aDOZ.png",set="https://ac.blooket.com/dashboard/assets/BlizzardPackBottom-DECOyX4X.png",aet="https://ac.blooket.com/dashboard/assets/BotPackBottom-iLZlOi2k.png",oet="https://ac.blooket.com/dashboard/assets/BreakfastPackBottom-BePUCwMd.png",uet="https://ac.blooket.com/dashboard/assets/DinoPackBottom-DPkVSzb5.png",het="https://ac.blooket.com/dashboard/assets/IceMonstersPackBottom-UDSf4--N.png",cet="https://ac.blooket.com/dashboard/assets/MedievalPackBottom-DYgpSoFQ.png",fet="https://ac.blooket.com/dashboard/assets/OutbackPackBottom-D1jQ4J55.png",det="https://ac.blooket.com/dashboard/assets/SafariPackBottom-C__RkKo-.png",pet="https://ac.blooket.com/dashboard/assets/SpacePackBottom-D7AfM-Ek.png",vet="https://ac.blooket.com/dashboard/assets/SpookyPackBottom-Bb7nZ1oD.png",met="https://ac.blooket.com/dashboard/assets/WonderlandPackBottom-CI9kR2jx.png",get="https://ac.blooket.com/dashboard/assets/PiratePackBottom-BZOz9aW_.png",yet={Aquatic:net,Blizzard:set,Bot:aet,Breakfast:oet,Dino:uet,IceMonsters:het,Medieval:cet,Outback:fet,Safari:det,Space:pet,Spooky:vet,Wonderland:met,Pirate:get},xet="https://ac.blooket.com/dashboard/assets/Cashier-BqZ02xhF.svg",bet="https://ac.blooket.com/dashboard/assets/CashierEaster-Bh0mFoyC.svg",wet="https://ac.blooket.com/dashboard/assets/CashierFall-Cg3ijRVn.svg",Tet="https://ac.blooket.com/dashboard/assets/CashierShamrock-DSHQnSgz.svg",Cet="https://ac.blooket.com/dashboard/assets/CashierSpooky-CagSNFLd.svg",Eet="https://ac.blooket.com/dashboard/assets/CashierWinter-BFKbO_d-.svg",ket="https://ac.blooket.com/dashboard/assets/Store-Cplf8Qtz.svg",Det="https://ac.blooket.com/dashboard/assets/StoreEaster-Ci0NZbMz.png",Aet="https://ac.blooket.com/dashboard/assets/StoreFall-Cv90vKMQ.svg",Pet="https://ac.blooket.com/dashboard/assets/StoreShamrock-DluE1k2K.svg",Ret="https://ac.blooket.com/dashboard/assets/StoreSpooky-jY8ZeAsa.png",Iet="https://ac.blooket.com/dashboard/assets/StoreWinter-DOhqNDCZ.svg",Met={Cashier:xet,CashierEaster:bet,CashierFall:wet,CashierShamrock:Tet,CashierSpooky:Cet,CashierWinter:Eet,Store:ket,StoreEaster:Det,StoreFall:Aet,StoreShamrock:Pet,StoreSpooky:Ret,StoreWinter:Iet},Bet="https://ac.blooket.com/dashboard/assets/uncommon1-yL2BU84K.svg",Oet="https://ac.blooket.com/dashboard/assets/uncommon2-CE9UzEHC.svg",Net="https://ac.blooket.com/dashboard/assets/uncommon3-C10Y2vxU.svg",Fet="https://ac.blooket.com/dashboard/assets/uncommon4-CDCRZ6FE.svg",Let="https://ac.blooket.com/dashboard/assets/uncommon5-PV3px8P_.svg",_et="https://ac.blooket.com/dashboard/assets/uncommon6-CLpojwpY.svg",jet="https://ac.blooket.com/dashboard/assets/uncommon7-B4jMHcUt.svg",Uet="https://ac.blooket.com/dashboard/assets/rare1-D2_CdO_B.svg",zet="https://ac.blooket.com/dashboard/assets/rare2-DneKuLDK.svg",Get="https://ac.blooket.com/dashboard/assets/rare3-BUPemjT8.svg",Het="https://ac.blooket.com/dashboard/assets/rare4-C7FUAL6k.svg",$et="https://ac.blooket.com/dashboard/assets/rare5-BTnMO-9F.svg",Vet="https://ac.blooket.com/dashboard/assets/rare6-CLfRv1hr.svg",Wet="https://ac.blooket.com/dashboard/assets/rare7-D6ZDTps5.svg",Yet="https://ac.blooket.com/dashboard/assets/epic1-Ev0R6hfx.svg",Xet="https://ac.blooket.com/dashboard/assets/epic2-C0oZnOVL.svg",Qet="https://ac.blooket.com/dashboard/assets/epic3-wxQfdD_j.svg",Ket="https://ac.blooket.com/dashboard/assets/epic4-CCH54aQq.svg",Jet="https://ac.blooket.com/dashboard/assets/epic5-CLughOmm.svg",Zet="https://ac.blooket.com/dashboard/assets/epic6-DNNZzQcV.svg",qet="https://ac.blooket.com/dashboard/assets/epic7-D4G2TmEM.svg",tit="https://ac.blooket.com/dashboard/assets/legendary1-CfsutOVi.svg",eit="https://ac.blooket.com/dashboard/assets/legendary2-B2zyA7-V.svg",iit="https://ac.blooket.com/dashboard/assets/legendary3-C3aeA_Gg.svg",rit="https://ac.blooket.com/dashboard/assets/legendary4-DPnr2AMJ.svg",nit="https://ac.blooket.com/dashboard/assets/legendary5-_aZVIvrn.svg",sit="https://ac.blooket.com/dashboard/assets/legendary6-B3XHGBJS.svg",ait="https://ac.blooket.com/dashboard/assets/legendary7-BOecKyRq.svg",oit="https://ac.blooket.com/dashboard/assets/chroma1-i9hGthHG.svg",lit="https://ac.blooket.com/dashboard/assets/chroma2-37oaxJoz.svg",uit="https://ac.blooket.com/dashboard/assets/chroma3-Dczw7J6I.svg",hit="https://ac.blooket.com/dashboard/assets/chroma4-DtTnzwAV.svg",cit="https://ac.blooket.com/dashboard/assets/chroma5-DHZmGJ_x.svg",fit="https://ac.blooket.com/dashboard/assets/chroma6-D8XrDU6M.svg",dit="https://ac.blooket.com/dashboard/assets/chroma7-BTUtqlTq.svg",pit={uncommon1:Bet,uncommon2:Oet,uncommon3:Net,uncommon4:Fet,uncommon5:Let,uncommon6:_et,uncommon7:jet,rare1:Uet,rare2:zet,rare3:Get,rare4:Het,rare5:$et,rare6:Vet,rare7:Wet,epic1:Yet,epic2:Xet,epic3:Qet,epic4:Ket,epic5:Jet,epic6:Zet,epic7:qet,legendary1:tit,legendary2:eit,legendary3:iit,legendary4:rit,legendary5:nit,legendary6:sit,legendary7:ait,chroma1:oit,chroma2:lit,chroma3:uit,chroma4:hit,chroma5:cit,chroma6:fit,chroma7:dit},vit="https://ac.blooket.com/dashboard/assets/BlooksUnlocked-C2aoxAs0.svg",mit="https://ac.blooket.com/dashboard/assets/CorrectAnswers-BMzYvD5t.svg",git="https://ac.blooket.com/dashboard/assets/CryptoIcon-UVd8wGsI.svg",yit="https://ac.blooket.com/dashboard/assets/Days-DFrhXKWm.svg",xit="https://ac.blooket.com/dashboard/assets/FactoryUpgrades-CqEofR-q.svg",bit="https://ac.blooket.com/dashboard/assets/FishWeight-DxmrKsPp.svg",Sit="https://ac.blooket.com/dashboard/assets/GamesPlayed-ChTFMXFQ.svg",wit="https://ac.blooket.com/dashboard/assets/Gold-CrltWEr0.svg",Tit="https://ac.blooket.com/dashboard/assets/LevelStar-tmvShqvY.svg",Cit="https://ac.blooket.com/dashboard/assets/PlayersDefeated-CO8z_rNu.svg",Eit="https://ac.blooket.com/dashboard/assets/Points-D4uD8X6I.svg",kit="https://ac.blooket.com/dashboard/assets/RacingProgress-CBfHMMYl.svg",Dit="https://ac.blooket.com/dashboard/assets/ShowdownWins-DoV57TSn.svg",Ait="https://ac.blooket.com/dashboard/assets/TimeBeforeReset-CDNOz-Y-.svg",Pit="https://ac.blooket.com/dashboard/assets/Top5s-DqVmEajZ.svg",Rit="https://ac.blooket.com/dashboard/assets/TotalCash-0BjvtiRQ.svg",Iit="https://ac.blooket.com/dashboard/assets/Wins-DwAC4320.svg",Mit={BlooksUnlocked:vit,CorrectAnswers:mit,CryptoIcon:git,Days:yit,FactoryUpgrades:xit,FishWeight:bit,GamesPlayed:Sit,Gold:wit,LevelStar:Tit,PlayersDefeated:Cit,Points:Eit,RacingProgress:kit,ShowdownWins:Dit,TimeBeforeReset:Ait,Top5s:Pit,TotalCash:Rit,Wins:Iit},Re={basic:lq,defense:vq,dino:Tq,discoverCategories:Oq,shamrock:_q,setBackgrounds:ntt,setTextures:Ctt,setIcons:Htt,fullPacks:ret,packBottoms:yet,market:Met,rarityParticles:pit,profile:Mit},nn=({title:e,desc:t})=>A.jsxs(M2,{children:[A.jsx("title",{children:e}),A.jsx("meta",{name:"description",content:t}),A.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"}),A.jsx("link",{rel:"apple-touch-icon",href:Re.basic.blooket180,sizes:"180x180"}),A.jsx("link",{rel:"icon",type:"image/png",href:Re.basic.blooket32,sizes:"32x32"}),A.jsx("link",{rel:"icon",type:"image/png",href:Re.basic.blooket16,sizes:"16x16"})]});nn.propTypes={title:Wt.string,desc:Wt.string};const Bit="_header_1kbyw_1",Oit="_blooketText_1kbyw_18",Nit="_headerRight_1kbyw_31",Fit="_expandIcon_1kbyw_44",Lit="_headerLeft_1kbyw_52",Hp={header:Bit,blooketText:Oit,headerRight:Nit,expandIcon:Fit,headerLeft:Lit},_it=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;var tN={exports:{}};(function(e,t){(function(r,n){e.exports=n(zi)})(globalThis,r=>(()=>{var n={991:(g,i,a)=>{a.d(i,{Z:()=>b});var v=a(156),f=a.n(v),h=a(697),u=a.n(h),o=a(703);function d(w){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},d(w)}var p=["latex","onChange","config","mathquillDidMount"];function l(){return l=Object.assign?Object.assign.bind():function(w){for(var C=1;C<arguments.length;C++){var E=arguments[C];for(var T in E)Object.prototype.hasOwnProperty.call(E,T)&&(w[T]=E[T])}return w},l.apply(this,arguments)}function m(w,C){var E=Object.keys(w);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(w);C&&(T=T.filter(function(k){return Object.getOwnPropertyDescriptor(w,k).enumerable})),E.push.apply(E,T)}return E}function y(w){for(var C=1;C<arguments.length;C++){var E=arguments[C]!=null?arguments[C]:{};C%2?m(Object(E),!0).forEach(function(T){var k,P,R,M;k=w,P=T,R=E[T],M=function(I,B){if(d(I)!="object"||!I)return I;var D=I[Symbol.toPrimitive];if(D!==void 0){var N=D.call(I,"string");if(d(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(P),(P=d(M)=="symbol"?M:String(M))in k?Object.defineProperty(k,P,{value:R,enumerable:!0,configurable:!0,writable:!0}):k[P]=R}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(E)):m(Object(E)).forEach(function(T){Object.defineProperty(w,T,Object.getOwnPropertyDescriptor(E,T))})}return w}var x=function(w){var C=w.latex,E=w.onChange,T=w.config,k=w.mathquillDidMount,P=function(D,N){if(D==null)return{};var _,G,$=function(Y,U){if(Y==null)return{};var F,O,j={},z=Object.keys(Y);for(O=0;O<z.length;O++)F=z[O],U.indexOf(F)>=0||(j[F]=Y[F]);return j}(D,N);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(D);for(G=0;G<V.length;G++)_=V[G],N.indexOf(_)>=0||Object.prototype.propertyIsEnumerable.call(D,_)&&($[_]=D[_])}return $}(w,p),R=(0,v.useRef)(2),M=(0,v.useRef)(null),I=(0,v.useRef)(null),B=(0,v.useRef)(E);return(0,v.useEffect)(function(){B.current=E},[E]),(0,v.useEffect)(function(){if(I.current){var D={restrictMismatchedBrackets:!0,handlers:{}};T&&(D=y(y({},D),T));var N=D.handlers.edit;D.handlers.edit=function(_){N&&N(),R.current>0?R.current-=1:B.current&&B.current(_)},M.current=o.Z.MathField(I.current,D),M.current.latex(C||""),k&&k(M.current)}},[I]),(0,v.useEffect)(function(){M.current&&M.current.latex()!==C&&M.current.latex(C)},[C]),f().createElement("span",l({},P,{ref:I}))};x.propTypes={latex:u().string,onChange:u().func,config:u().object,mathquillDidMount:u().func};const b=x},717:(g,i,a)=>{a.d(i,{Z:()=>m});var v=a(156),f=a.n(v),h=a(697),u=a.n(h),o=a(703),d=["mathquillDidMount","children"];function p(){return p=Object.assign?Object.assign.bind():function(y){for(var x=1;x<arguments.length;x++){var b=arguments[x];for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(y[w]=b[w])}return y},p.apply(this,arguments)}var l=function(y){var x=y.mathquillDidMount,b=y.children,w=function(T,k){if(T==null)return{};var P,R,M=function(B,D){if(B==null)return{};var N,_,G={},$=Object.keys(B);for(_=0;_<$.length;_++)N=$[_],D.indexOf(N)>=0||(G[N]=B[N]);return G}(T,k);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(T);for(R=0;R<I.length;R++)P=I[R],k.indexOf(P)>=0||Object.prototype.propertyIsEnumerable.call(T,P)&&(M[P]=T[P])}return M}(y,d),C=(0,v.useRef)(null),E=(0,v.useRef)(null);return(0,v.useLayoutEffect)(function(){C&&(E.current=o.Z.StaticMath(C.current),x&&x(E.current))},[C,b]),f().createElement("span",p({},w,{ref:C}),b)};l.propTypes={children:u().string,mathquillDidMount:u().func};const m=l},703:(g,i,a)=>{a.d(i,{Z:()=>v});const v=a(338).getInterface(2)},527:(g,i,a)=>{a.d(i,{Z:()=>o});var v=a(81),f=a.n(v),h=a(645),u=a.n(h)()(f());u.push([g.id,`/*
 * MathQuill v0.11.0, by Han, Jeanine, and Mary
 * http://mathquill.com | maintainers@mathquill.com
 *
 * This Source Code Form is subject to the terms of the
 * Mozilla Public License, v. 2.0. If a copy of the MPL
 * was not distributed with this file, You can obtain
 * one at http://mozilla.org/MPL/2.0/.
 */
@font-face {
  /* Heavy fonts have been removed */
  font-family: Symbola;
}
.mq-editable-field {
  display: -moz-inline-box;
  display: inline-block;
}
.mq-editable-field .mq-cursor {
  border-left: 1px solid black;
  margin-left: -1px;
  position: relative;
  z-index: 1;
  padding: 0;
  display: -moz-inline-box;
  display: inline-block;
}
.mq-editable-field .mq-cursor.mq-blink {
  visibility: hidden;
}
.mq-editable-field,
.mq-math-mode .mq-editable-field {
  border: 1px solid gray;
}
.mq-editable-field.mq-focused,
.mq-math-mode .mq-editable-field.mq-focused {
  -webkit-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;
  -moz-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;
  box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;
  border-color: #709AC0;
  border-radius: 1px;
}
.mq-math-mode .mq-editable-field {
  margin: 1px;
}
.mq-editable-field .mq-latex-command-input {
  color: inherit;
  font-family: "Courier New", monospace;
  border: 1px solid gray;
  padding-right: 1px;
  margin-right: 1px;
  margin-left: 2px;
}
.mq-editable-field .mq-latex-command-input.mq-empty {
  background: transparent;
}
.mq-editable-field .mq-latex-command-input.mq-hasCursor {
  border-color: ActiveBorder;
}
.mq-editable-field.mq-empty:after,
.mq-editable-field.mq-text-mode:after,
.mq-math-mode .mq-empty:after {
  visibility: hidden;
  content: 'c';
}
.mq-editable-field .mq-cursor:only-child:after,
.mq-editable-field .mq-textarea + .mq-cursor:last-child:after {
  visibility: hidden;
  content: 'c';
}
.mq-editable-field .mq-text-mode .mq-cursor:only-child:after {
  content: '';
}
.mq-editable-field.mq-text-mode {
  overflow-x: auto;
  overflow-y: hidden;
}
.mq-root-block,
.mq-math-mode .mq-root-block {
  display: -moz-inline-box;
  display: inline-block;
  width: 100%;
  padding: 2px;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  white-space: nowrap;
  overflow: hidden;
  vertical-align: middle;
}
.mq-math-mode {
  font-variant: normal;
  font-weight: normal;
  font-style: normal;
  font-size: 115%;
  line-height: 1;
  display: -moz-inline-box;
  display: inline-block;
}
.mq-math-mode .mq-non-leaf,
.mq-math-mode .mq-scaled {
  display: -moz-inline-box;
  display: inline-block;
}
.mq-math-mode var,
.mq-math-mode .mq-text-mode,
.mq-math-mode .mq-nonSymbola {
  font-family: "Times New Roman", Symbola, serif;
  line-height: 0.9;
}
.mq-math-mode * {
  font-size: inherit;
  line-height: inherit;
  margin: 0;
  padding: 0;
  border-color: black;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  box-sizing: border-box;
}
.mq-math-mode .mq-empty {
  background: #ccc;
}
.mq-math-mode .mq-empty.mq-root-block {
  background: transparent;
}
.mq-math-mode.mq-empty {
  background: transparent;
}
.mq-math-mode .mq-text-mode {
  display: inline-block;
  white-space: pre;
}
.mq-math-mode .mq-text-mode.mq-hasCursor {
  box-shadow: inset darkgray 0 0.1em 0.2em;
  padding: 0 0.1em;
  margin: 0 -0.1em;
  min-width: 1ex;
}
.mq-math-mode .mq-font {
  font: 1em "Times New Roman", Symbola, serif;
}
.mq-math-mode .mq-font * {
  font-family: inherit;
  font-style: inherit;
}
.mq-math-mode b,
.mq-math-mode b.mq-font {
  font-weight: bolder;
}
.mq-math-mode var,
.mq-math-mode i,
.mq-math-mode i.mq-font {
  font-style: italic;
}
.mq-math-mode var.mq-f {
  margin-right: 0.2em;
  margin-left: 0.1em;
}
.mq-math-mode .mq-roman var.mq-f {
  margin: 0;
}
.mq-math-mode big {
  font-size: 200%;
}
.mq-math-mode .mq-int > big {
  display: inline-block;
  -webkit-transform: scaleX(0.7);
  -moz-transform: scaleX(0.7);
  -ms-transform: scaleX(0.7);
  -o-transform: scaleX(0.7);
  transform: scaleX(0.7);
  vertical-align: -0.16em;
}
.mq-math-mode .mq-int > .mq-supsub {
  font-size: 80%;
  vertical-align: -1.1em;
  padding-right: 0.2em;
}
.mq-math-mode .mq-int > .mq-supsub > .mq-sup > .mq-sup-inner {
  vertical-align: 1.3em;
}
.mq-math-mode .mq-int > .mq-supsub > .mq-sub {
  margin-left: -0.35em;
}
.mq-math-mode .mq-roman {
  font-style: normal;
}
.mq-math-mode .mq-sans-serif {
  font-family: sans-serif, Symbola, serif;
}
.mq-math-mode .mq-monospace {
  font-family: monospace, Symbola, serif;
}
.mq-math-mode .mq-overline {
  border-top: 1px solid black;
  margin-top: 1px;
}
.mq-math-mode .mq-underline {
  border-bottom: 1px solid black;
  margin-bottom: 1px;
}
.mq-math-mode .mq-binary-operator {
  padding: 0 0.2em;
  display: -moz-inline-box;
  display: inline-block;
}
.mq-math-mode .mq-supsub {
  text-align: left;
  font-size: 90%;
  vertical-align: -0.5em;
}
.mq-math-mode .mq-supsub.mq-sup-only {
  vertical-align: 0.5em;
}
.mq-math-mode .mq-supsub.mq-sup-only .mq-sup {
  display: inline-block;
  vertical-align: text-bottom;
}
.mq-math-mode .mq-supsub .mq-sup {
  display: block;
}
.mq-math-mode .mq-supsub .mq-sub {
  display: block;
  float: left;
}
.mq-math-mode .mq-supsub .mq-binary-operator {
  padding: 0 0.1em;
}
.mq-math-mode .mq-supsub .mq-fraction {
  font-size: 70%;
}
.mq-math-mode sup.mq-nthroot {
  font-size: 80%;
  vertical-align: 0.8em;
  margin-right: -0.6em;
  margin-left: 0.2em;
  min-width: 0.5em;
}
.mq-math-mode .mq-paren {
  padding: 0 0.1em;
  vertical-align: top;
  -webkit-transform-origin: center 0.06em;
  -moz-transform-origin: center 0.06em;
  -ms-transform-origin: center 0.06em;
  -o-transform-origin: center 0.06em;
  transform-origin: center 0.06em;
}
.mq-math-mode .mq-paren.mq-ghost {
  color: silver;
}
.mq-math-mode .mq-paren + span {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}
.mq-math-mode .mq-array {
  vertical-align: middle;
  text-align: center;
}
.mq-math-mode .mq-array > span {
  display: block;
}
.mq-math-mode .mq-operator-name {
  font-family: Symbola, "Times New Roman", serif;
  line-height: 0.9;
  font-style: normal;
}
.mq-math-mode var.mq-operator-name.mq-first {
  padding-left: 0.2em;
}
.mq-math-mode var.mq-operator-name.mq-last,
.mq-math-mode .mq-supsub.mq-after-operator-name {
  padding-right: 0.2em;
}
.mq-math-mode .mq-fraction {
  font-size: 90%;
  text-align: center;
  vertical-align: -0.4em;
  padding: 0 0.2em;
}
.mq-math-mode .mq-fraction,
.mq-math-mode .mq-large-operator,
.mq-math-mode x:-moz-any-link {
  display: -moz-groupbox;
}
.mq-math-mode .mq-fraction,
.mq-math-mode .mq-large-operator,
.mq-math-mode x:-moz-any-link,
.mq-math-mode x:default {
  display: inline-block;
}
.mq-math-mode .mq-numerator,
.mq-math-mode .mq-denominator,
.mq-math-mode .mq-dot-recurring {
  display: block;
}
.mq-math-mode .mq-numerator {
  padding: 0 0.1em;
}
.mq-math-mode .mq-denominator {
  border-top: 1px solid;
  float: right;
  width: 100%;
  padding: 0.1em;
}
.mq-math-mode .mq-dot-recurring {
  text-align: center;
  height: 0.3em;
}
.mq-math-mode .mq-sqrt-prefix {
  padding-top: 0;
  position: relative;
  top: 0.1em;
  vertical-align: top;
  -webkit-transform-origin: top;
  -moz-transform-origin: top;
  -ms-transform-origin: top;
  -o-transform-origin: top;
  transform-origin: top;
}
.mq-math-mode .mq-sqrt-stem {
  border-top: 1px solid;
  margin-top: 1px;
  padding-left: 0.15em;
  padding-right: 0.2em;
  margin-right: 0.1em;
  padding-top: 1px;
}
.mq-math-mode .mq-diacritic-above {
  display: block;
  text-align: center;
  line-height: 0.4em;
}
.mq-math-mode .mq-diacritic-stem {
  display: block;
  text-align: center;
}
.mq-math-mode .mq-hat-prefix {
  display: block;
  text-align: center;
  line-height: 0.95em;
  margin-bottom: -0.7em;
  transform: scaleX(1.5);
  -moz-transform: scaleX(1.5);
  -o-transform: scaleX(1.5);
  -webkit-transform: scaleX(1.5);
}
.mq-math-mode .mq-hat-stem {
  display: block;
}
.mq-math-mode .mq-large-operator {
  vertical-align: -0.2em;
  padding: 0.2em;
  text-align: center;
}
.mq-math-mode .mq-large-operator .mq-from,
.mq-math-mode .mq-large-operator big,
.mq-math-mode .mq-large-operator .mq-to {
  display: block;
}
.mq-math-mode .mq-large-operator .mq-from,
.mq-math-mode .mq-large-operator .mq-to {
  font-size: 80%;
}
.mq-math-mode .mq-large-operator .mq-from {
  float: right;
  /* take out of normal flow to manipulate baseline */
  width: 100%;
}
.mq-math-mode,
.mq-math-mode .mq-editable-field {
  cursor: text;
  font-family: Symbola, "Times New Roman", serif;
}
.mq-math-mode .mq-overarc {
  border-top: 1px solid black;
  -webkit-border-top-right-radius: 50% 0.3em;
  -moz-border-radius-topright: 50% 0.3em;
  border-top-right-radius: 50% 0.3em;
  -webkit-border-top-left-radius: 50% 0.3em;
  -moz-border-radius-topleft: 50% 0.3em;
  border-top-left-radius: 50% 0.3em;
  margin-top: 1px;
  padding-top: 0.15em;
}
.mq-math-mode .mq-overarrow {
  min-width: 0.5em;
  border-top: 1px solid black;
  margin-top: 1px;
  padding-top: 0.2em;
  text-align: center;
}
.mq-math-mode .mq-overarrow:before {
  display: block;
  position: relative;
  top: -0.34em;
  font-size: 0.5em;
  line-height: 0em;
  content: '\\27A4';
  text-align: right;
}
.mq-math-mode .mq-overarrow.mq-arrow-left:before {
  -moz-transform: scaleX(-1);
  -o-transform: scaleX(-1);
  -webkit-transform: scaleX(-1);
  transform: scaleX(-1);
  filter: FlipH;
  -ms-filter: "FlipH";
}
.mq-math-mode .mq-overarrow.mq-arrow-both {
  vertical-align: text-bottom;
}
.mq-math-mode .mq-overarrow.mq-arrow-both.mq-empty {
  min-height: 1.23em;
}
.mq-math-mode .mq-overarrow.mq-arrow-both.mq-empty:after {
  top: -0.34em;
}
.mq-math-mode .mq-overarrow.mq-arrow-both:before {
  -moz-transform: scaleX(-1);
  -o-transform: scaleX(-1);
  -webkit-transform: scaleX(-1);
  transform: scaleX(-1);
  filter: FlipH;
  -ms-filter: "FlipH";
}
.mq-math-mode .mq-overarrow.mq-arrow-both:after {
  display: block;
  position: relative;
  top: -2.3em;
  font-size: 0.5em;
  line-height: 0em;
  content: '\\27A4';
  visibility: visible;
  text-align: right;
}
.mq-math-mode .mq-selection,
.mq-editable-field .mq-selection,
.mq-math-mode .mq-selection .mq-non-leaf,
.mq-editable-field .mq-selection .mq-non-leaf,
.mq-math-mode .mq-selection .mq-scaled,
.mq-editable-field .mq-selection .mq-scaled {
  background: #B4D5FE !important;
  background: Highlight !important;
  color: HighlightText;
  border-color: HighlightText;
}
.mq-math-mode .mq-selection .mq-matrixed,
.mq-editable-field .mq-selection .mq-matrixed {
  background: #39F !important;
}
.mq-math-mode .mq-selection .mq-matrixed-container,
.mq-editable-field .mq-selection .mq-matrixed-container {
  filter: progid:DXImageTransform.Microsoft.Chroma(color='#3399FF') !important;
}
.mq-math-mode .mq-selection.mq-blur,
.mq-editable-field .mq-selection.mq-blur,
.mq-math-mode .mq-selection.mq-blur .mq-non-leaf,
.mq-editable-field .mq-selection.mq-blur .mq-non-leaf,
.mq-math-mode .mq-selection.mq-blur .mq-scaled,
.mq-editable-field .mq-selection.mq-blur .mq-scaled,
.mq-math-mode .mq-selection.mq-blur .mq-matrixed,
.mq-editable-field .mq-selection.mq-blur .mq-matrixed {
  background: #D4D4D4 !important;
  color: black;
  border-color: black;
}
.mq-math-mode .mq-selection.mq-blur .mq-matrixed-container,
.mq-editable-field .mq-selection.mq-blur .mq-matrixed-container {
  filter: progid:DXImageTransform.Microsoft.Chroma(color='#D4D4D4') !important;
}
.mq-editable-field .mq-textarea,
.mq-math-mode .mq-textarea {
  position: relative;
  -webkit-user-select: text;
  -moz-user-select: text;
  user-select: text;
}
.mq-editable-field .mq-textarea *,
.mq-math-mode .mq-textarea *,
.mq-editable-field .mq-selectable,
.mq-math-mode .mq-selectable {
  -webkit-user-select: text;
  -moz-user-select: text;
  user-select: text;
  position: absolute;
  clip: rect(1em 1em 1em 1em);
  -webkit-transform: scale(0);
  -moz-transform: scale(0);
  -ms-transform: scale(0);
  -o-transform: scale(0);
  transform: scale(0);
  resize: none;
  width: 1px;
  height: 1px;
  box-sizing: content-box;
}
.mq-math-mode .mq-matrixed {
  background: white;
  display: -moz-inline-box;
  display: inline-block;
}
.mq-math-mode .mq-matrixed-container {
  filter: progid:DXImageTransform.Microsoft.Chroma(color='white');
  margin-top: -0.1em;
}
`,""]);const o=u},645:g=>{g.exports=function(i){var a=[];return a.toString=function(){return this.map(function(v){var f="",h=v[5]!==void 0;return v[4]&&(f+="@supports (".concat(v[4],") {")),v[2]&&(f+="@media ".concat(v[2]," {")),h&&(f+="@layer".concat(v[5].length>0?" ".concat(v[5]):""," {")),f+=i(v),h&&(f+="}"),v[2]&&(f+="}"),v[4]&&(f+="}"),f}).join("")},a.i=function(v,f,h,u,o){typeof v=="string"&&(v=[[null,v,void 0]]);var d={};if(h)for(var p=0;p<this.length;p++){var l=this[p][0];l!=null&&(d[l]=!0)}for(var m=0;m<v.length;m++){var y=[].concat(v[m]);h&&d[y[0]]||(o!==void 0&&(y[5]===void 0||(y[1]="@layer".concat(y[5].length>0?" ".concat(y[5]):""," {").concat(y[1],"}")),y[5]=o),f&&(y[2]&&(y[1]="@media ".concat(y[2]," {").concat(y[1],"}")),y[2]=f),u&&(y[4]?(y[1]="@supports (".concat(y[4],") {").concat(y[1],"}"),y[4]=u):y[4]="".concat(u)),a.push(y))}},a}},81:g=>{g.exports=function(i){return i[1]}},338:(g,i,a)=>{var v=a(755);window.jQuery=v,function(){var f,h=window.jQuery,u="mathquill-command-id",o="mathquill-block-id",d=Math.min,p=Math.max;if(!h)throw"MathQuill requires jQuery 1.5.2+ to be loaded first";function l(){}var m=[].slice;function y(dt){var Et=dt.length-1;return function(){var X=m.call(arguments,0,Et),Z=m.call(arguments,Et);return dt.apply(this,X.concat([Z]))}}var x=y(function(dt,Et){return y(function(X,Z){if(dt in X)return X[dt].apply(X,Et.concat(Z))})});function b(dt){return y(function(Et,X){return typeof Et!="function"&&(Et=x(Et)),dt.call(this,function(Z){return Et.apply(Z,[Z].concat(X))})})}function w(dt){var Et=m.call(arguments,1);return function(){return dt.apply(this,Et)}}function C(dt,Et){if(!Et)throw new Error("prayer failed: "+dt)}var E=function(dt,Et,X){function Z(Jt){return typeof Jt=="object"}function ut(Jt){return typeof Jt=="function"}function Pt(){}return function Jt(ce,fe){function $e(){var Di=new pi;return ut(Di.init)&&Di.init.apply(Di,arguments),Di}function pi(){}fe===void 0&&(fe=ce,ce=Object),$e.Bare=pi;var _i,Wi=Pt[dt]=ce[dt],hr=pi[dt]=$e[dt]=$e.p=new Pt;return hr.constructor=$e,$e.extend=function(Di){return Jt($e,Di)},($e.open=function(Di){if(_i={},ut(Di)?_i=Di.call($e,hr,Wi,$e,ce):Z(Di)&&(_i=Di),Z(_i))for(var Mr in _i)Et.call(_i,Mr)&&(hr[Mr]=_i[Mr]);return ut(hr.init)||(hr.init=ce),$e})(fe)}}("prototype",{}.hasOwnProperty),T=-1;function k(dt){C("a direction was passed",dt===T||dt===1)}var P=E(h,function(dt){dt.insDirOf=function(Et,X){return Et===T?this.insertBefore(X.first()):this.insertAfter(X.last())},dt.insAtDirEnd=function(Et,X){return Et===T?this.prependTo(X):this.appendTo(X)}}),R=E(function(dt){dt.parent=0,dt[T]=0,dt[1]=0,dt.init=function(Et,X,Z){this.parent=Et,this[T]=X,this[1]=Z},this.copy=function(Et){return R(Et.parent,Et[T],Et[1])}}),M=E(function(dt){dt[T]=0,dt[1]=0,dt.parent=0;var Et=0;this.byId={},dt.init=function(){this.id=Et+=1,M.byId[this.id]=this,this.ends={},this.ends[T]=0,this.ends[1]=0},dt.dispose=function(){delete M.byId[this.id]},dt.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},dt.jQ=P(),dt.jQadd=function(X){return this.jQ=this.jQ.add(X)},dt.jQize=function(X){function Z(Pt){if(Pt.getAttribute){var Jt=Pt.getAttribute("mathquill-command-id"),ce=Pt.getAttribute("mathquill-block-id");Jt&&M.byId[Jt].jQadd(Pt),ce&&M.byId[ce].jQadd(Pt)}for(Pt=Pt.firstChild;Pt;Pt=Pt.nextSibling)Z(Pt)}X=P(X||this.html());for(var ut=0;ut<X.length;ut+=1)Z(X[ut]);return X},dt.createDir=function(X,Z){k(X);var ut=this;return ut.jQize(),ut.jQ.insDirOf(X,Z.jQ),Z[X]=ut.adopt(Z.parent,Z[T],Z[1]),ut},dt.createLeftOf=function(X){return this.createDir(T,X)},dt.selectChildren=function(X,Z){return G(X,Z)},dt.bubble=b(function(X){for(var Z=this;Z&&X(Z)!==!1;Z=Z.parent);return this}),dt.postOrder=b(function(X){return function Z(ut){ut.eachChild(Z),X(ut)}(this),this}),dt.isEmpty=function(){return this.ends[T]===0&&this.ends[1]===0},dt.isStyleBlock=function(){return!1},dt.children=function(){return B(this.ends[T],this.ends[1])},dt.eachChild=function(){var X=this.children();return X.each.apply(X,arguments),this},dt.foldChildren=function(X,Z){return this.children().fold(X,Z)},dt.withDirAdopt=function(X,Z,ut,Pt){return B(this,this).withDirAdopt(X,Z,ut,Pt),this},dt.adopt=function(X,Z,ut){return B(this,this).adopt(X,Z,ut),this},dt.disown=function(){return B(this,this).disown(),this},dt.remove=function(){return this.jQ.remove(),this.postOrder("dispose"),this.disown()}});function I(dt,Et,X){C("a parent is always present",dt),C("leftward is properly set up",Et?Et[1]===X&&Et.parent===dt:dt.ends[T]===X),C("rightward is properly set up",X?X[T]===Et&&X.parent===dt:dt.ends[1]===Et)}var B=E(function(dt){dt.init=function(Et,X,Z){if(Z===f&&(Z=T),k(Z),C("no half-empty fragments",!Et==!X),this.ends={},Et){C("withDir is passed to Fragment",Et instanceof M),C("oppDir is passed to Fragment",X instanceof M),C("withDir and oppDir have the same parent",Et.parent===X.parent),this.ends[Z]=Et,this.ends[-Z]=X;var ut=this.fold([],function(Pt,Jt){return Pt.push.apply(Pt,Jt.jQ.get()),Pt});this.jQ=this.jQ.add(ut)}},dt.jQ=P(),dt.withDirAdopt=function(Et,X,Z,ut){return Et===T?this.adopt(X,Z,ut):this.adopt(X,ut,Z)},dt.adopt=function(Et,X,Z){I(Et,X,Z);var ut=this;ut.disowned=!1;var Pt=ut.ends[T];if(!Pt)return this;var Jt=ut.ends[1];return X||(Et.ends[T]=Pt),Z?Z[T]=Jt:Et.ends[1]=Jt,ut.ends[1][1]=Z,ut.each(function(ce){ce[T]=X,ce.parent=Et,X&&(X[1]=ce),X=ce}),ut},dt.disown=function(){var Et=this,X=Et.ends[T];if(!X||Et.disowned)return Et;Et.disowned=!0;var Z=Et.ends[1],ut=X.parent;return I(ut,X[T],X),I(ut,Z,Z[1]),X[T]?X[T][1]=Z[1]:ut.ends[T]=Z[1],Z[1]?Z[1][T]=X[T]:ut.ends[1]=X[T],Et},dt.remove=function(){return this.jQ.remove(),this.each("postOrder","dispose"),this.disown()},dt.each=b(function(Et){var X=this,Z=X.ends[T];if(!Z)return X;for(;Z!==X.ends[1][1]&&Et(Z)!==!1;Z=Z[1]);return X}),dt.fold=function(Et,X){return this.each(function(Z){Et=X.call(this,Et,Z)}),Et}}),D={},N={},_=E(R,function(dt){dt.init=function(Et,X){this.parent=Et,this.options=X;var Z=this.jQ=this._jQ=P('<span class="mq-cursor">&#8203;</span>');this.blink=function(){Z.toggleClass("mq-blink")},this.upDownCache={}},dt.show=function(){return this.jQ=this._jQ.removeClass("mq-blink"),"intervalId"in this?clearInterval(this.intervalId):(this[1]?this.selection&&this.selection.ends[T][T]===this[T]?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this[1].jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},dt.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=P(),this},dt.withDirInsertAt=function(Et,X,Z,ut){var Pt=this.parent;this.parent=X,this[Et]=Z,this[-Et]=ut,Pt!==X&&Pt.blur&&Pt.blur(this)},dt.insDirOf=function(Et,X){return k(Et),this.jQ.insDirOf(Et,X.jQ),this.withDirInsertAt(Et,X.parent,X[Et],X),this.parent.jQ.addClass("mq-hasCursor"),this},dt.insLeftOf=function(Et){return this.insDirOf(T,Et)},dt.insRightOf=function(Et){return this.insDirOf(1,Et)},dt.insAtDirEnd=function(Et,X){return k(Et),this.jQ.insAtDirEnd(Et,X.jQ),this.withDirInsertAt(Et,X,0,X.ends[Et]),X.focus(),this},dt.insAtLeftEnd=function(Et){return this.insAtDirEnd(T,Et)},dt.insAtRightEnd=function(Et){return this.insAtDirEnd(1,Et)},dt.jumpUpDown=function(Et,X){var Z=this;Z.upDownCache[Et.id]=R.copy(Z);var ut=Z.upDownCache[X.id];if(ut)ut[1]?Z.insLeftOf(ut[1]):Z.insAtRightEnd(ut.parent);else{var Pt=Z.offset().left;X.seek(Pt,Z)}},dt.offset=function(){var Et=this.jQ.removeClass("mq-cursor").offset();return this.jQ.addClass("mq-cursor"),Et},dt.unwrapGramp=function(){var Et=this.parent.parent,X=Et.parent,Z=Et[1],ut=Et[T];if(Et.disown().eachChild(function(Pt){Pt.isEmpty()||(Pt.children().adopt(X,ut,Z).each(function(Jt){Jt.jQ.insertBefore(Et.jQ.first())}),ut=Pt.ends[1])}),!this[1])if(this[T])this[1]=this[T][1];else for(;!this[1];){if(this.parent=this.parent[1],!this.parent){this[1]=Et[1],this.parent=X;break}this[1]=this.parent.ends[T]}this[1]?this.insLeftOf(this[1]):this.insAtRightEnd(X),Et.jQ.remove(),Et[T].siblingDeleted&&Et[T].siblingDeleted(this.options,1),Et[1].siblingDeleted&&Et[1].siblingDeleted(this.options,T)},dt.startSelection=function(){for(var Et=this.anticursor=R.copy(this),X=Et.ancestors={},Z=Et;Z.parent;Z=Z.parent)X[Z.parent.id]=Z},dt.endSelection=function(){delete this.anticursor},dt.select=function(){var Et=this.anticursor;if(this[T]===Et[T]&&this.parent===Et.parent)return!1;for(var X=this;X.parent;X=X.parent)if(X.parent.id in Et.ancestors){var Z=X.parent;break}C("cursor and anticursor in the same tree",Z);var ut,Pt,Jt=Et.ancestors[Z.id],ce=1;if(X[T]!==Jt){for(var fe=X;fe;fe=fe[1])if(fe[1]===Jt[1]){ce=T,ut=X,Pt=Jt;break}}return ce===1&&(ut=Jt,Pt=X),ut instanceof R&&(ut=ut[1]),Pt instanceof R&&(Pt=Pt[T]),this.hide().selection=Z.selectChildren(ut,Pt),this.insDirOf(ce,this.selection.ends[ce]),this.selectionChanged(),!0},dt.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},dt.deleteSelection=function(){this.selection&&(this[T]=this.selection.ends[T][T],this[1]=this.selection.ends[1][1],this.selection.remove(),this.selectionChanged(),delete this.selection)},dt.replaceSelection=function(){var Et=this.selection;return Et&&(this[T]=Et.ends[T][T],this[1]=Et.ends[1][1],delete this.selection),Et},dt.depth=function(){for(var Et=this,X=0;Et=Et.parent;)X+=Et instanceof _t?1:0;return X},dt.isTooDeep=function(Et){if(this.options.maxDepth!==f)return this.depth()+(Et||0)>this.options.maxDepth}}),G=E(B,function(dt,Et){dt.init=function(){Et.init.apply(this,arguments),this.jQ=this.jQ.wrapAll('<span class="mq-selection"></span>').parent()},dt.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),Et.adopt.apply(this,arguments)},dt.clear=function(){return this.jQ.replaceWith(this.jQ[0].childNodes),this},dt.join=function(X){return this.fold("",function(Z,ut){return Z+ut[X]()})}}),$=E(function(dt){dt.init=function(X,Z,ut){this.id=X.id,this.data={},this.root=X,this.container=Z,this.options=ut,X.controller=this,this.cursor=X.cursor=_(X,ut)},dt.handle=function(X,Z){var ut=this.options.handlers;if(ut&&ut.fns[X]){var Pt=ut.APIClasses[this.KIND_OF_MQ](this);Z===T||Z===1?ut.fns[X](Z,Pt):ut.fns[X](Pt)}};var Et=[];this.onNotify=function(X){Et.push(X)},dt.notify=function(){for(var X=0;X<Et.length;X+=1)Et[X].apply(this.cursor,arguments);return this}}),V={},Y=E(),U={},F=E(),O={};function j(){window.console&&console.warn(`You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:

    MathQuill = MathQuill.getInterface(1);
    // now MathQuill.MathField() works like it used to

See also the "\`dev\` branch (20142015)  v0.10.0 Migration Guide" at
  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide`)}function z(dt){return j(),Th(dt)}z.prototype=F.p,z.VERSION="v0.11.0",z.interfaceVersion=function(dt){if(dt!==1)throw"Only interface version 1 supported. You specified: "+dt;return(j=function(){window.console&&console.warn(`You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:

    MathQuill = MathQuill.getInterface(1);
    // now MathQuill.MathField() works like it used to

See also the "\`dev\` branch (20142015)  v0.10.0 Migration Guide" at
  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide`)})(),z},z.getInterface=ot;var W=ot.MIN=1,q=ot.MAX=2;function ot(dt){if(!(W<=dt&&dt<=q))throw"Only interface versions between "+W+" and "+q+" supported. You specified: "+dt;function Et(Jt){if(!Jt||!Jt.nodeType)return null;var ce=P(Jt).children(".mq-root-block").attr(o),fe=ce&&M.byId[ce].controller;return fe?X[fe.KIND_OF_MQ](fe):null}var X={};function Z(Jt,ce){for(var fe in ce&&ce.handlers&&(ce.handlers={fns:ce.handlers,APIClasses:X}),ce)if(ce.hasOwnProperty(fe)){var $e=ce[fe],pi=U[fe];Jt[fe]=pi?pi($e):$e}}Et.L=T,Et.R=1,Et.saneKeyboardEvents=K,Et.config=function(Jt){return Z(Y.p,Jt),this},Et.registerEmbed=function(Jt,ce){if(!/^[a-z][a-z0-9]*$/i.test(Jt))throw"Embed name must start with letter and be only letters and digits";O[Jt]=ce};var ut=X.AbstractMathQuill=E(F,function(Jt){Jt.init=function(ce){this.__controller=ce,this.__options=ce.options,this.id=ce.id,this.data=ce.data},Jt.__mathquillify=function(ce){var fe=this.__controller,$e=fe.root,pi=fe.container;fe.createTextarea();var _i=pi.addClass(ce).contents().detach();$e.jQ=P('<span class="mq-root-block"/>').attr(o,$e.id).appendTo(pi),this.latex(_i.text()),this.revert=function(){return pi.empty().unbind(".mathquill").removeClass("mq-editable-field mq-math-mode mq-text-mode").append(_i)}},Jt.config=function(ce){return Z(this.__options,ce),this},Jt.el=function(){return this.__controller.container[0]},Jt.text=function(){return this.__controller.exportText()},Jt.latex=function(ce){return arguments.length>0?(this.__controller.renderLatexMath(ce),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},Jt.html=function(){return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?mq-cursor( mq-blink)?"?>.?<\/span>/i,"").replace(/ mq-hasCursor|mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},Jt.reflow=function(){return this.__controller.root.postOrder("reflow"),this}});for(var Pt in Et.prototype=ut.prototype,X.EditableField=E(ut,function(Jt,ce){Jt.__mathquillify=function(){return ce.__mathquillify.apply(this,arguments),this.__controller.editable=!0,this.__controller.delegateMouseEvents(),this.__controller.editablesTextareaEvents(),this},Jt.focus=function(){return this.__controller.textarea.focus(),this},Jt.blur=function(){return this.__controller.textarea.blur(),this},Jt.write=function(fe){return this.__controller.writeLatex(fe),this.__controller.scrollHoriz(),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this},Jt.empty=function(){var fe=this.__controller.root,$e=this.__controller.cursor;return fe.eachChild("postOrder","dispose"),fe.ends[T]=fe.ends[1]=0,fe.jQ.empty(),delete $e.selection,$e.insAtRightEnd(fe),this},Jt.cmd=function(fe){var $e=this.__controller.notify(),pi=$e.cursor;if(/^\\[a-z]+$/i.test(fe)&&!pi.isTooDeep()){fe=fe.slice(1);var _i=D[fe];_i&&(fe=_i(fe),pi.selection&&fe.replaces(pi.replaceSelection()),fe.createLeftOf(pi.show()),this.__controller.scrollHoriz())}else pi.parent.write(pi,fe);return $e.blurred&&pi.hide().parent.blur(),this},Jt.select=function(){var fe=this.__controller;for(fe.notify("move").cursor.insAtRightEnd(fe.root);fe.cursor[T];)fe.selectLeft();return this},Jt.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},Jt.moveToDirEnd=function(fe){return this.__controller.notify("move").cursor.insAtDirEnd(fe,this.__controller.root),this},Jt.moveToLeftEnd=function(){return this.moveToDirEnd(T)},Jt.moveToRightEnd=function(){return this.moveToDirEnd(1)},Jt.keystroke=function(fe){fe=fe.replace(/^\s+|\s+$/g,"").split(/\s+/);for(var $e=0;$e<fe.length;$e+=1)this.__controller.keystroke(fe[$e],{preventDefault:l});return this},Jt.typedText=function(fe){for(var $e=0;$e<fe.length;$e+=1)this.__controller.typedText(fe.charAt($e));return this},Jt.dropEmbedded=function(fe,$e,pi){var _i=fe-P(window).scrollLeft(),Wi=$e-P(window).scrollTop(),hr=document.elementFromPoint(_i,Wi);this.__controller.seek(P(hr),fe,$e),hs().setOptions(pi).createLeftOf(this.__controller.cursor)},Jt.clickAt=function(fe,$e,pi){pi=pi||document.elementFromPoint(fe,$e);var _i=this.__controller,Wi=_i.root;return h.contains(Wi.jQ[0],pi)||(pi=Wi.jQ[0]),_i.seek(P(pi),fe+pageXOffset,$e+pageYOffset),_i.blurred&&this.focus(),this},Jt.ignoreNextMousedown=function(fe){return this.__controller.cursor.options.ignoreNextMousedown=fe,this}}),Et.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"},Et.EditableField.prototype=X.EditableField.prototype,V)(function(Jt,ce){var fe=X[Jt]=ce(X);Et[Jt]=function($e,pi){var _i=Et($e);if(_i instanceof fe||!$e||!$e.nodeType)return _i;var Wi=$(fe.RootBlock(),P($e),Y());return Wi.KIND_OF_MQ=Jt,fe(Wi).__mathquillify(pi,dt)},Et[Jt].prototype=fe.prototype})(Pt,V[Pt]);return Et}z.noConflict=function(){return window.MathQuill=Q,z};var Q=window.MathQuill;function rt(dt){for(var Et="moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" "),X=0;X<Et.length;X+=1)(function(Z){dt[Z]=function(ut){this.controller.handle(Z,ut)}})(Et[X]);dt.reflow=function(){this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}window.MathQuill=z;var Mt,K=(Mt={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"},function(dt,Et){var X,Z=null,ut=null,Pt=h(dt),Jt=h(Et.container||Pt),ce=l;function fe(Di){ce=Di,clearTimeout(X),X=setTimeout(Di)}function $e(Di){fe(function(Mr){ce=l,clearTimeout(X),Di(Mr)})}Jt.bind("keydown keypress input keyup focusout paste",function(Di){ce(Di)});var pi=!1;function _i(){Et.keystroke(function(Di){var Mr,Fr=Di.which||Di.keyCode,sn=Mt[Fr],Ms=[];return Di.ctrlKey&&Ms.push("Ctrl"),Di.originalEvent&&Di.originalEvent.metaKey&&Ms.push("Meta"),Di.altKey&&Ms.push("Alt"),Di.shiftKey&&Ms.push("Shift"),Mr=sn||String.fromCharCode(Fr),Ms.length||sn?(Ms.push(Mr),Ms.join("-")):Mr}(Z),Z)}function Wi(){if(!("selectionStart"in(Di=Pt[0]))||Di.selectionStart===Di.selectionEnd){var Di,Mr=Pt.val();Mr.length===1?(Pt.val(""),Et.typedText(Mr)):Mr&&Pt[0].select&&Pt[0].select()}}function hr(){var Di=Pt.val();Pt.val(""),Di&&Et.paste(Di)}return Jt.bind({keydown:function(Di){Z=Di,ut=null,pi&&$e(function(Mr){Mr&&Mr.type==="focusout"||!Pt[0].select||Pt[0].select()}),_i()},keypress:function(Di){Z&&ut&&_i(),ut=Di,fe(Wi)},keyup:function(Di){Z&&!ut&&fe(Wi)},focusout:function(){Z=ut=null},cut:function(){$e(function(){Et.cut()})},copy:function(){$e(function(){Et.copy()})},paste:function(Di){Pt.focus(),fe(hr)}}),{select:function(Di){ce(),ce=l,clearTimeout(X),Pt.val(Di),Di&&Pt[0].select&&Pt[0].select(),pi=!!Di}}}),It=E(function(dt,Et,X){function Z(ce,fe){throw"Parse Error: "+fe+" at "+(ce?"'"+ce+"'":"EOF")}dt.init=function(ce){this._=ce},dt.parse=function(ce){return this.skip(Jt)._(""+ce,function(fe,$e){return $e},Z)},dt.or=function(ce){C("or is passed a parser",ce instanceof X);var fe=this;return X(function($e,pi,_i){return fe._($e,pi,function(Wi){return ce._($e,pi,_i)})})},dt.then=function(ce){var fe=this;return X(function($e,pi,_i){return fe._($e,function(Wi,hr){var Di=ce instanceof X?ce:ce(hr);return C("a parser is returned",Di instanceof X),Di._(Wi,pi,_i)},_i)})},dt.many=function(){var ce=this;return X(function(fe,$e,pi){for(var _i=[];ce._(fe,Wi,hr););return $e(fe,_i);function Wi(Di,Mr){return fe=Di,_i.push(Mr),!0}function hr(){return!1}})},dt.times=function(ce,fe){arguments.length<2&&(fe=ce);var $e=this;return X(function(pi,_i,Wi){for(var hr,Di=[],Mr=!0,Fr=0;Fr<ce;Fr+=1)if(!(Mr=$e._(pi,sn,Ms)))return Wi(pi,hr);for(;Fr<fe&&Mr;Fr+=1)Mr=$e._(pi,sn,Rc);return _i(pi,Di);function sn(ll,Hs){return Di.push(Hs),pi=ll,!0}function Ms(ll,Hs){return hr=Hs,pi=ll,!1}function Rc(ll,Hs){return!1}})},dt.result=function(ce){return this.then(Pt(ce))},dt.atMost=function(ce){return this.times(0,ce)},dt.atLeast=function(ce){var fe=this;return fe.times(ce).then(function($e){return fe.many().map(function(pi){return $e.concat(pi)})})},dt.map=function(ce){return this.then(function(fe){return Pt(ce(fe))})},dt.skip=function(ce){return this.then(function(fe){return ce.result(fe)})},this.string=function(ce){var fe=ce.length,$e="expected '"+ce+"'";return X(function(pi,_i,Wi){var hr=pi.slice(0,fe);return hr===ce?_i(pi.slice(fe),hr):Wi(pi,$e)})};var ut=this.regex=function(ce){C("regexp parser is anchored",ce.toString().charAt(1)==="^");var fe="expected "+ce;return X(function($e,pi,_i){var Wi=ce.exec($e);if(Wi){var hr=Wi[0];return pi($e.slice(hr.length),hr)}return _i($e,fe)})},Pt=X.succeed=function(ce){return X(function(fe,$e){return $e(fe,ce)})},Jt=(X.fail=function(ce){return X(function(fe,$e,pi){return pi(fe,ce)})},X.letter=ut(/^[a-z]/i),X.letters=ut(/^[a-z]*/i),X.digit=ut(/^[0-9]/),X.digits=ut(/^[0-9]*/),X.whitespace=ut(/^\s+/),X.optWhitespace=ut(/^\s*/),X.any=X(function(ce,fe,$e){return ce?fe(ce.slice(1),ce.charAt(0)):$e(ce,"expected any character")}),X.all=X(function(ce,fe,$e){return fe("",ce)}),X.eof=X(function(ce,fe,$e){return ce?$e(ce,"expected EOF"):fe(ce,ce)}))});$.open(function(dt){dt.focusBlurEvents=function(){var Et,X=this,Z=X.root,ut=X.cursor;function Pt(){clearTimeout(Et),ut.selection&&ut.selection.jQ.addClass("mq-blur"),Jt()}function Jt(){ut.hide().parent.blur(),X.container.removeClass("mq-focused"),P(window).unbind("blur",Pt)}X.textarea.focus(function(){X.blurred=!1,clearTimeout(Et),X.container.addClass("mq-focused"),ut.parent||ut.insAtRightEnd(Z),ut.selection?(ut.selection.jQ.removeClass("mq-blur"),X.selectionChanged()):ut.show()}).blur(function(){X.blurred=!0,Et=setTimeout(function(){Z.postOrder("intentionalBlur"),ut.clearSelection().endSelection(),Jt()}),P(window).bind("blur",Pt)}),X.blurred=!0,ut.hide().parent.blur()}}),$.open(function(dt,Et){dt.exportText=function(){return this.root.foldChildren("",function(X,Z){return X+Z.text()})}}),$.open(function(dt){Y.p.ignoreNextMousedown=l,dt.delegateMouseEvents=function(){var Et=this.root.jQ;this.container.bind("mousedown.mathquill",function(X){var Z,ut=P(X.target).closest(".mq-root-block"),Pt=M.byId[ut.attr(o)||Et.attr(o)].controller,Jt=Pt.cursor,ce=Jt.blink,fe=Pt.textareaSpan,$e=Pt.textarea;function pi(Wi){Z=P(Wi.target)}function _i(Wi){Jt.anticursor||Jt.startSelection(),Pt.seek(Z,Wi.pageX,Wi.pageY).cursor.select(),Z=f}X.preventDefault(),X.target.unselectable=!0,Jt.options.ignoreNextMousedown(X)||(Jt.options.ignoreNextMousedown=l,Pt.blurred&&(Pt.editable||ut.prepend(fe),$e.focus()),Jt.blink=l,Pt.seek(P(X.target),X.pageX,X.pageY).cursor.startSelection(),ut.mousemove(pi),P(X.target.ownerDocument).mousemove(_i).mouseup(function Wi(hr){Jt.blink=ce,Jt.selection||(Pt.editable?Jt.show():fe.detach()),ut.unbind("mousemove",pi),P(hr.target.ownerDocument).unbind("mousemove",_i).unbind("mouseup",Wi)}))})}}),$.open(function(dt){dt.seek=function(Et,X,Z){var ut=this.notify("select").cursor;if(Et){var Pt=Et.attr(o)||Et.attr(u);if(!Pt){var Jt=Et.parent();Pt=Jt.attr(o)||Jt.attr(u)}}var ce=Pt?M.byId[Pt]:this.root;return C("nodeId is the id of some Node that exists",ce),ut.clearSelection().show(),ce.seek(X,ut),this.scrollHoriz(),this}}),$.open(function(dt){dt.keystroke=function(Et,X){this.cursor.parent.keystroke(Et,X,this)}}),M.open(function(dt){dt.keystroke=function(Et,X,Z){var ut=Z.cursor;switch(Et){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":Z.ctrlDeleteDir(T);break;case"Shift-Backspace":case"Backspace":Z.backspace();break;case"Esc":case"Tab":return void Z.escapeDir(1,Et,X);case"Shift-Tab":case"Shift-Esc":return void Z.escapeDir(T,Et,X);case"End":Z.notify("move").cursor.insAtRightEnd(ut.parent);break;case"Ctrl-End":Z.notify("move").cursor.insAtRightEnd(Z.root);break;case"Shift-End":for(;ut[1];)Z.selectRight();break;case"Ctrl-Shift-End":for(;ut[1]||ut.parent!==Z.root;)Z.selectRight();break;case"Home":Z.notify("move").cursor.insAtLeftEnd(ut.parent);break;case"Ctrl-Home":Z.notify("move").cursor.insAtLeftEnd(Z.root);break;case"Shift-Home":for(;ut[T];)Z.selectLeft();break;case"Ctrl-Shift-Home":for(;ut[T]||ut.parent!==Z.root;)Z.selectLeft();break;case"Left":Z.moveLeft();break;case"Shift-Left":Z.selectLeft();break;case"Ctrl-Left":break;case"Right":Z.moveRight();break;case"Shift-Right":Z.selectRight();break;case"Ctrl-Right":break;case"Up":Z.moveUp();break;case"Down":Z.moveDown();break;case"Shift-Up":if(ut[T])for(;ut[T];)Z.selectLeft();else Z.selectLeft();case"Shift-Down":if(ut[1])for(;ut[1];)Z.selectRight();else Z.selectRight();case"Ctrl-Up":case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":Z.ctrlDeleteDir(1);break;case"Shift-Del":case"Del":Z.deleteForward();break;case"Meta-A":case"Ctrl-A":for(Z.notify("move").cursor.insAtRightEnd(Z.root);ut[T];)Z.selectLeft();break;default:return}X.preventDefault(),Z.scrollHoriz()},dt.moveOutOf=dt.moveTowards=dt.deleteOutOf=dt.deleteTowards=dt.unselectInto=dt.selectOutOf=dt.selectTowards=function(){C("overridden or never called on this node")}}),$.open(function(dt){function Et(X,Z){var ut=X.notify("upDown").cursor,Pt=Z+"Into",Jt=Z+"OutOf";return ut[1][Pt]?ut.insAtLeftEnd(ut[1][Pt]):ut[T][Pt]?ut.insAtRightEnd(ut[T][Pt]):ut.parent.bubble(function(ce){var fe=ce[Jt];if(fe&&(typeof fe=="function"&&(fe=ce[Jt](ut)),fe instanceof M&&ut.jumpUpDown(ce,fe),fe!==!0))return!1}),X}this.onNotify(function(X){X!=="move"&&X!=="upDown"||this.show().clearSelection()}),dt.escapeDir=function(X,Z,ut){k(X);var Pt=this.cursor;if(Pt.parent!==this.root&&ut.preventDefault(),Pt.parent!==this.root)return Pt.parent.moveOutOf(X,Pt),this.notify("move")},U.leftRightIntoCmdGoes=function(X){if(X&&X!=="up"&&X!=="down")throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+X+'"';return X},dt.moveDir=function(X){k(X);var Z=this.cursor,ut=Z.options.leftRightIntoCmdGoes;return Z.selection?Z.insDirOf(X,Z.selection.ends[X]):Z[X]?Z[X].moveTowards(X,Z,ut):Z.parent.moveOutOf(X,Z,ut),this.notify("move")},dt.moveLeft=function(){return this.moveDir(T)},dt.moveRight=function(){return this.moveDir(1)},dt.moveUp=function(){return Et(this,"up")},dt.moveDown=function(){return Et(this,"down")},this.onNotify(function(X){X!=="upDown"&&(this.upDownCache={})}),this.onNotify(function(X){X==="edit"&&this.show().deleteSelection()}),dt.deleteDir=function(X){k(X);var Z=this.cursor,ut=Z.selection;return this.notify("edit"),ut||(Z[X]?Z[X].deleteTowards(X,Z):Z.parent.deleteOutOf(X,Z)),Z[T].siblingDeleted&&Z[T].siblingDeleted(Z.options,1),Z[1].siblingDeleted&&Z[1].siblingDeleted(Z.options,T),Z.parent.bubble("reflow"),this},dt.ctrlDeleteDir=function(X){k(X);var Z=this.cursor;return!Z[X]||Z.selection?this.deleteDir(X):(this.notify("edit"),X===T?B(Z.parent.ends[T],Z[T]).remove():B(Z[1],Z.parent.ends[1]).remove(),Z.insAtDirEnd(X,Z.parent),Z[T].siblingDeleted&&Z[T].siblingDeleted(Z.options,1),Z[1].siblingDeleted&&Z[1].siblingDeleted(Z.options,T),Z.parent.bubble("reflow"),this)},dt.backspace=function(){return this.deleteDir(T)},dt.deleteForward=function(){return this.deleteDir(1)},this.onNotify(function(X){X!=="select"&&this.endSelection()}),dt.selectDir=function(X){var Z=this.notify("select").cursor,ut=Z.selection;k(X),Z.anticursor||Z.startSelection();var Pt=Z[X];Pt?ut&&ut.ends[X]===Pt&&Z.anticursor[-X]!==Pt?Pt.unselectInto(X,Z):Pt.selectTowards(X,Z):Z.parent.selectOutOf(X,Z),Z.clearSelection(),Z.select()||Z.show()},dt.selectLeft=function(){return this.selectDir(T)},dt.selectRight=function(){return this.selectDir(1)}}),$.open(function(dt){Y.p.substituteTextarea=function(){return P("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true />")[0]},dt.createTextarea=function(){var Et=this.textareaSpan=P('<span class="mq-textarea"></span>'),X=this.options.substituteTextarea();if(!X.nodeType)throw"substituteTextarea() must return a DOM element, got "+X;X=this.textarea=P(X).appendTo(Et);var Z=this;Z.cursor.selectionChanged=function(){Z.selectionChanged()}},dt.selectionChanged=function(){var Et=this;et(Et.container[0]),Et.textareaSelectionTimeout===f&&(Et.textareaSelectionTimeout=setTimeout(function(){Et.setTextareaSelection()}))},dt.setTextareaSelection=function(){this.textareaSelectionTimeout=f;var Et="";this.cursor.selection&&(Et=this.cursor.selection.join("latex"),this.options.statelessClipboard&&(Et="$"+Et+"$")),this.selectFn(Et)},dt.staticMathTextareaEvents=function(){var Et=this,X=(Et.root,Et.cursor),Z=Et.textarea,ut=Et.textareaSpan;function Pt(){ut.detach(),Et.blurred=!0}this.container.prepend(h('<span class="mq-selectable">').text("$"+Et.exportLatex()+"$")),Et.blurred=!0,Z.bind("cut paste",!1).bind("copy",function(){Et.setTextareaSelection()}).focus(function(){Et.blurred=!1}).blur(function(){X.selection&&X.selection.clear(),setTimeout(Pt)}),Et.selectFn=function(Jt){Z.val(Jt),Jt&&Z.select()}},Y.p.substituteKeyboardEvents=K,dt.editablesTextareaEvents=function(){var Et=this.textarea,X=this.textareaSpan,Z=this.options.substituteKeyboardEvents(Et,this);this.selectFn=function(ut){Z.select(ut)},this.container.prepend(X),this.focusBlurEvents()},dt.typedText=function(Et){if(Et===`
`)return this.handle("enter");var X=this.notify().cursor;X.parent.write(X,Et),this.scrollHoriz()},dt.cut=function(){var Et=this,X=Et.cursor;X.selection&&setTimeout(function(){Et.notify("edit"),X.parent.bubble("reflow")})},dt.copy=function(){this.setTextareaSelection()},dt.paste=function(Et){this.options.statelessClipboard&&(Et=Et.slice(0,1)==="$"&&Et.slice(-1)==="$"?Et.slice(1,-1):"\\text{"+Et+"}"),this.writeLatex(Et).cursor.show()}});var Ft=function(){function dt(Fr){for(var sn=Fr[0]||_t(),Ms=1;Ms<Fr.length;Ms+=1)Fr[Ms].children().adopt(sn,sn.ends[1],0);return sn}var Et=It.string,X=It.regex,Z=It.letter,ut=It.any,Pt=It.optWhitespace,Jt=It.succeed,ce=It.fail,fe=Z.map(function(Fr){return Dr(Fr)}),$e=X(/^[^${}\\_^]/).map(function(Fr){return Bt(Fr)}),pi=X(/^[^\\a-eg-zA-Z]/).or(Et("\\").then(X(/^[a-z]+/i).or(X(/^\s+/).result(" ")).or(ut))).then(function(Fr){var sn=D[Fr];return sn?sn(Fr).parser():ce("unknown command: \\"+Fr)}).or(fe).or($e),_i=Et("{").then(function(){return hr}).skip(Et("}")),Wi=Pt.then(_i.or(pi.map(function(Fr){var sn=_t();return Fr.adopt(sn,0,0),sn}))),hr=Wi.many().map(dt).skip(Pt),Di=Et("[").then(Wi.then(function(Fr){return Fr.join("latex")!=="]"?Jt(Fr):ce()}).many().map(dt).skip(Pt)).skip(Et("]")),Mr=hr;return Mr.block=Wi,Mr.optBlock=Di,Mr}();$.open(function(dt,Et){dt.exportLatex=function(){return this.root.latex().replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},U.maxDepth=function(X){return typeof X=="number"?X:f},dt.writeLatex=function(X){var Z=this.notify("edit").cursor,ut=It.all,Pt=It.eof,Jt=Ft.skip(Pt).or(ut.result(!1)).parse(X);return Jt&&!Jt.isEmpty()&&Jt.prepareInsertionAt(Z)&&(Jt.children().adopt(Z.parent,Z[T],Z[1]),Jt.jQize().insertBefore(Z.jQ),Z[T]=Jt.ends[1],Jt.finalizeInsert(Z.options,Z),Jt.ends[1][1].siblingCreated&&Jt.ends[1][1].siblingCreated(Z.options,T),Jt.ends[T][T].siblingCreated&&Jt.ends[T][T].siblingCreated(Z.options,1),Z.parent.bubble("reflow")),this},dt.renderLatexMath=function(X){var Z=this.root,ut=this.cursor,Pt=(ut.options,Z.jQ),Jt=It.all,ce=It.eof,fe=Ft.skip(ce).or(Jt.result(!1)).parse(X);if(Z.eachChild("postOrder","dispose"),Z.ends[T]=Z.ends[1]=0,fe&&fe.prepareInsertionAt(ut)){fe.children().adopt(Z,0,0);var $e=fe.join("html");Pt.html($e),Z.jQize(Pt.children()),Z.finalizeInsert(ut.options)}else Pt.empty();delete ut.selection,ut.insAtRightEnd(Z)},dt.renderLatexText=function(X){var Z=this.root,ut=this.cursor;Z.jQ.children().slice(1).remove(),Z.eachChild("postOrder","dispose"),Z.ends[T]=Z.ends[1]=0,delete ut.selection,ut.show().insAtRightEnd(Z);var Pt=It.regex,Jt=It.string,ce=It.eof,fe=It.all,$e=Jt("$").then(Ft).skip(Jt("$").or(ce)).map(function(hr){var Di=Ze(ut);Di.createBlocks();var Mr=Di.ends[T];return hr.children().adopt(Mr,0,0),Di}),pi=Jt("\\$").result("$").or(Pt(/^[^$]/)).map(Bt),_i=$e.or(pi).many().skip(ce).or(fe.result(!1)).parse(X);if(_i){for(var Wi=0;Wi<_i.length;Wi+=1)_i[Wi].adopt(Z,Z.ends[1],0);Z.jQize().appendTo(Z.jQ),Z.finalizeInsert(ut.options)}}}),$.open(function(dt){dt.scrollHoriz=function(){var Et=this.cursor,X=Et.selection,Z=this.root.jQ[0].getBoundingClientRect();if(X){var ut=X.jQ[0].getBoundingClientRect(),Pt=ut.left-(Z.left+20),Jt=ut.right-(Z.right-20);if(X.ends[T]===Et[1])if(Pt<0)fe=Pt;else{if(!(Jt>0))return;fe=ut.left-Jt<Z.left+20?Pt:Jt}else if(Jt>0)fe=Jt;else{if(!(Pt<0))return;fe=ut.right-Pt>Z.right-20?Jt:Pt}}else{var ce=Et.jQ[0].getBoundingClientRect().left;if(ce>Z.right-20)var fe=ce-(Z.right-20);else{if(!(ce<Z.left+20))return;fe=ce-(Z.left+20)}}this.root.jQ.stop().animate({scrollLeft:"+="+fe},100)}});var ft=E(M,function(dt,Et){dt.finalizeInsert=function(X,Z){var ut=this;ut.postOrder("finalizeTree",X),ut.postOrder("contactWeld",Z),ut.postOrder("blur"),ut.postOrder("reflow"),ut[1].siblingCreated&&ut[1].siblingCreated(X,T),ut[T].siblingCreated&&ut[T].siblingCreated(X,1),ut.bubble("reflow")},dt.prepareInsertionAt=function(X){var Z=X.options.maxDepth;if(Z!==f){var ut=X.depth();if(ut>Z)return!1;this.removeNodesDeeperThan(Z-ut)}return!0},dt.removeNodesDeeperThan=function(X){for(var Z,ut=0,Pt=[[this,ut]];Pt.length;)(Z=Pt.shift())[0].children().each(function(Jt){var ce=Jt instanceof _t?1:0;(ut=Z[1]+ce)<=X?Pt.push([Jt,ut]):(ce?Jt.children():Jt).remove()})}}),yt=E(ft,function(dt,Et){dt.init=function(X,Z,ut){var Pt=this;Et.init.call(Pt),Pt.ctrlSeq||(Pt.ctrlSeq=X),Z&&(Pt.htmlTemplate=Z),ut&&(Pt.textTemplate=ut)},dt.replaces=function(X){X.disown(),this.replacedFragment=X},dt.isEmpty=function(){return this.foldChildren(!0,function(X,Z){return X&&Z.isEmpty()})},dt.parser=function(){var X=Ft.block,Z=this;return X.times(Z.numBlocks()).map(function(ut){Z.blocks=ut;for(var Pt=0;Pt<ut.length;Pt+=1)ut[Pt].adopt(Z,Z.ends[1],0);return Z})},dt.createLeftOf=function(X){var Z=this,ut=Z.replacedFragment;Z.createBlocks(),Et.createLeftOf.call(Z,X),ut&&(ut.adopt(Z.ends[T],0,0),ut.jQ.appendTo(Z.ends[T].jQ),Z.placeCursor(X),Z.prepareInsertionAt(X)),Z.finalizeInsert(X.options),Z.placeCursor(X)},dt.createBlocks=function(){for(var X=this,Z=X.numBlocks(),ut=X.blocks=Array(Z),Pt=0;Pt<Z;Pt+=1)(ut[Pt]=_t()).adopt(X,X.ends[1],0)},dt.placeCursor=function(X){X.insAtRightEnd(this.foldChildren(this.ends[T],function(Z,ut){return Z.isEmpty()?Z:ut}))},dt.moveTowards=function(X,Z,ut){var Pt=ut&&this[ut+"Into"];Z.insAtDirEnd(-X,Pt||this.ends[-X])},dt.deleteTowards=function(X,Z){this.isEmpty()?Z[X]=this.remove()[X]:this.moveTowards(X,Z,null)},dt.selectTowards=function(X,Z){Z[-X]=this,Z[X]=this[X]},dt.selectChildren=function(){return G(this,this)},dt.unselectInto=function(X,Z){Z.insAtDirEnd(-X,Z.anticursor.ancestors[this.id])},dt.seek=function(X,Z){function ut(fe){var $e={};return $e[T]=fe.jQ.offset().left,$e[1]=$e[T]+fe.jQ.outerWidth(),$e}var Pt=this,Jt=ut(Pt);if(X<Jt[T])return Z.insLeftOf(Pt);if(X>Jt[1])return Z.insRightOf(Pt);var ce=Jt[T];Pt.eachChild(function(fe){var $e=ut(fe);return X<$e[T]?(X-ce<$e[T]-X?fe[T]?Z.insAtRightEnd(fe[T]):Z.insLeftOf(Pt):Z.insAtLeftEnd(fe),!1):X>$e[1]?void(fe[1]?ce=$e[1]:Jt[1]-X<X-$e[1]?Z.insRightOf(Pt):Z.insAtRightEnd(fe)):(fe.seek(X,Z),!1)})},dt.numBlocks=function(){var X=this.htmlTemplate.match(/&\d+/g);return X?X.length:0},dt.html=function(){var X=this,Z=X.blocks,ut=" mathquill-command-id="+X.id,Pt=X.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);C("no unmatched angle brackets",Pt.join("")===this.htmlTemplate);for(var Jt=0,ce=Pt[0];ce;ce=Pt[Jt+=1])if(ce.slice(-2)==="/>")Pt[Jt]=ce.slice(0,-2)+ut+"/>";else if(ce.charAt(0)==="<"){C("not an unmatched top-level close tag",ce.charAt(1)!=="/"),Pt[Jt]=ce.slice(0,-1)+ut+">";var fe=1;do C("no missing close tags",ce=Pt[Jt+=1]),ce.slice(0,2)==="</"?fe-=1:ce.charAt(0)==="<"&&ce.slice(-2)!=="/>"&&(fe+=1);while(fe>0)}return Pt.join("").replace(/>&(\d+)/g,function($e,pi){return" mathquill-block-id="+Z[pi].id+">"+Z[pi].join("html")})},dt.latex=function(){return this.foldChildren(this.ctrlSeq,function(X,Z){return X+"{"+(Z.latex()||" ")+"}"})},dt.textTemplate=[""],dt.text=function(){var X=this,Z=0;return X.foldChildren(X.textTemplate[Z],function(ut,Pt){Z+=1;var Jt=Pt.text();return ut&&X.textTemplate[Z]==="("&&Jt[0]==="("&&Jt.slice(-1)===")"?ut+Jt.slice(1,-1)+X.textTemplate[Z]:ut+Jt+(X.textTemplate[Z]||"")})}}),At=E(yt,function(dt,Et){dt.init=function(X,Z,ut){ut||(ut=X&&X.length>1?X.slice(1):X),Et.init.call(this,X,Z,[ut])},dt.parser=function(){return It.succeed(this)},dt.numBlocks=function(){return 0},dt.replaces=function(X){X.remove()},dt.createBlocks=l,dt.moveTowards=function(X,Z){Z.jQ.insDirOf(X,this.jQ),Z[-X]=this,Z[X]=this[X]},dt.deleteTowards=function(X,Z){Z[X]=this.remove()[X]},dt.seek=function(X,Z){X-this.jQ.offset().left<this.jQ.outerWidth()/2?Z.insLeftOf(this):Z.insRightOf(this)},dt.latex=function(){return this.ctrlSeq},dt.text=function(){return this.textTemplate},dt.placeCursor=l,dt.isEmpty=function(){return!0}}),Bt=E(At,function(dt,Et){dt.init=function(X,Z){Et.init.call(this,X,"<span>"+(Z||X)+"</span>")}}),le=E(At,function(dt,Et){dt.init=function(X,Z,ut){Et.init.call(this,X,'<span class="mq-binary-operator">'+Z+"</span>",ut)}}),_t=E(ft,function(dt,Et){dt.join=function(X){return this.foldChildren("",function(Z,ut){return Z+ut[X]()})},dt.html=function(){return this.join("html")},dt.latex=function(){return this.join("latex")},dt.text=function(){return this.ends[T]===this.ends[1]&&this.ends[T]!==0?this.ends[T].text():this.join("text")},dt.keystroke=function(X,Z,ut){return!ut.options.spaceBehavesLikeTab||X!=="Spacebar"&&X!=="Shift-Spacebar"?Et.keystroke.apply(this,arguments):(Z.preventDefault(),void ut.escapeDir(X==="Shift-Spacebar"?T:1,X,Z))},dt.moveOutOf=function(X,Z,ut){ut&&this.parent[ut+"Into"]||!this[X]?Z.insDirOf(X,this.parent):Z.insAtDirEnd(-X,this[X])},dt.selectOutOf=function(X,Z){Z.insDirOf(X,this.parent)},dt.deleteOutOf=function(X,Z){Z.unwrapGramp()},dt.seek=function(X,Z){var ut=this.ends[1];if(!ut||ut.jQ.offset().left+ut.jQ.outerWidth()<X)return Z.insAtRightEnd(this);if(X<this.ends[T].jQ.offset().left)return Z.insAtLeftEnd(this);for(;X<ut.jQ.offset().left;)ut=ut[T];return ut.seek(X,Z)},dt.chToCmd=function(X,Z){var ut;return X.match(/^[a-eg-zA-Z]$/)?Dr(X):/^\d$/.test(X)?ol(X):Z&&Z.typingSlashWritesDivisionSymbol&&X==="/"?D[""](X):Z&&Z.typingAsteriskWritesTimesSymbol&&X==="*"?D[""](X):(ut=N[X]||D[X])?ut(X):Bt(X)},dt.write=function(X,Z){var ut=this.chToCmd(Z,X.options);X.selection&&ut.replaces(X.replaceSelection()),X.isTooDeep()||ut.createLeftOf(X.show())},dt.focus=function(){return this.jQ.addClass("mq-hasCursor"),this.jQ.removeClass("mq-empty"),this},dt.blur=function(){return this.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.jQ.addClass("mq-empty"),this}});Y.p.mouseEvents=!0,V.StaticMath=function(dt){return E(dt.AbstractMathQuill,function(Et,X){this.RootBlock=_t,Et.__mathquillify=function(Z,ut){return this.config(Z),X.__mathquillify.call(this,"mq-math-mode"),this.__options.mouseEvents&&(this.__controller.delegateMouseEvents(),this.__controller.staticMathTextareaEvents()),this},Et.init=function(){X.init.apply(this,arguments),this.__controller.root.postOrder("registerInnerField",this.innerFields=[],dt.MathField)},Et.latex=function(){var Z=X.latex.apply(this,arguments);return arguments.length>0&&this.__controller.root.postOrder("registerInnerField",this.innerFields=[],dt.MathField),Z}})};var xe=E(_t,rt);V.MathField=function(dt){return E(dt.EditableField,function(Et,X){this.RootBlock=xe,Et.__mathquillify=function(Z,ut){return this.config(Z),ut>1&&(this.__controller.root.reflow=l),X.__mathquillify.call(this,"mq-editable-field mq-math-mode"),delete this.__controller.root.reflow,this}})};var Ee=E(M,function(dt,Et){function X(Z){Z.jQ[0].normalize();var ut=Z.jQ[0].firstChild;if(ut){C("only node in TextBlock span is Text node",ut.nodeType===3);var Pt=ve(ut.data);return Pt.jQadd(ut),Z.children().disown(),Pt.adopt(Z,0,0)}}dt.ctrlSeq="\\text",dt.replaces=function(Z){Z instanceof B?this.replacedText=Z.remove().jQ.text():typeof Z=="string"&&(this.replacedText=Z)},dt.jQadd=function(Z){Et.jQadd.call(this,Z),this.ends[T]&&this.ends[T].jQadd(this.jQ[0].firstChild)},dt.createLeftOf=function(Z){var ut=this;if(Et.createLeftOf.call(this,Z),ut[1].siblingCreated&&ut[1].siblingCreated(Z.options,T),ut[T].siblingCreated&&ut[T].siblingCreated(Z.options,1),ut.bubble("reflow"),Z.insAtRightEnd(ut),ut.replacedText)for(var Pt=0;Pt<ut.replacedText.length;Pt+=1)ut.write(Z,ut.replacedText.charAt(Pt))},dt.parser=function(){var Z=this,ut=It.string,Pt=It.regex;return It.optWhitespace.then(ut("{")).then(Pt(/^[^}]*/)).skip(ut("}")).map(function(Jt){return Jt.length===0?B():(ve(Jt).adopt(Z,0,0),Z)})},dt.textContents=function(){return this.foldChildren("",function(Z,ut){return Z+ut.text})},dt.text=function(){return'"'+this.textContents()+'"'},dt.latex=function(){var Z=this.textContents();return Z.length===0?"":"\\text{"+Z.replace(/\\/g,"\\backslash ").replace(/[{}]/g,"\\$&")+"}"},dt.html=function(){return'<span class="mq-text-mode" mathquill-command-id='+this.id+">"+this.textContents()+"</span>"},dt.moveTowards=function(Z,ut){ut.insAtDirEnd(-Z,this)},dt.moveOutOf=function(Z,ut){ut.insDirOf(Z,this)},dt.unselectInto=dt.moveTowards,dt.selectTowards=yt.prototype.selectTowards,dt.deleteTowards=yt.prototype.deleteTowards,dt.selectOutOf=function(Z,ut){ut.insDirOf(Z,this)},dt.deleteOutOf=function(Z,ut){this.isEmpty()&&ut.insRightOf(this)},dt.write=function(Z,ut){if(Z.show().deleteSelection(),ut!=="$")Z[T]?Z[T].appendText(ut):ve(ut).createLeftOf(Z);else if(this.isEmpty())Z.insRightOf(this),Bt("\\$","$").createLeftOf(Z);else if(Z[1])if(Z[T]){var Pt=Ee(),Jt=this.ends[T];Jt.disown().jQ.detach(),Jt.adopt(Pt,0,0),Z.insLeftOf(this),Et.createLeftOf.call(Pt,Z)}else Z.insLeftOf(this);else Z.insRightOf(this)},dt.seek=function(Z,ut){ut.hide();var Pt=X(this),Jt=this.jQ.width()/this.text.length,ce=Math.round((Z-this.jQ.offset().left)/Jt);ce<=0?ut.insAtLeftEnd(this):ce>=Pt.text.length?ut.insAtRightEnd(this):ut.insLeftOf(Pt.splitRight(ce));for(var fe=Z-ut.show().offset().left,$e=fe&&fe<0?T:1,pi=$e;ut[$e]&&fe*pi>0;)ut[$e].moveTowards($e,ut),pi=fe,fe=Z-ut.offset().left;if($e*fe<-$e*pi&&ut[-$e].moveTowards(-$e,ut),ut.anticursor){if(ut.anticursor.parent===this){var _i=ut[T]&&ut[T].text.length;if(this.anticursorPosition===_i)ut.anticursor=R.copy(ut);else{if(this.anticursorPosition<_i){var Wi=ut[T].splitRight(this.anticursorPosition);ut[T]=Wi}else Wi=ut[1].splitRight(this.anticursorPosition-_i);ut.anticursor=R(this,Wi[T],Wi)}}}else this.anticursorPosition=ut[T]&&ut[T].text.length},dt.blur=function(Z){_t.prototype.blur.call(this),Z&&(this.textContents()===""?(this.remove(),Z[T]===this?Z[T]=this[T]:Z[1]===this&&(Z[1]=this[1])):X(this))},dt.focus=_t.prototype.focus}),ve=E(M,function(dt,Et){function X(Z,ut){return ut.charAt(Z===T?0:-1+ut.length)}dt.init=function(Z){Et.init.call(this),this.text=Z},dt.jQadd=function(Z){this.dom=Z,this.jQ=P(Z)},dt.jQize=function(){return this.jQadd(document.createTextNode(this.text))},dt.appendText=function(Z){this.text+=Z,this.dom.appendData(Z)},dt.prependText=function(Z){this.text=Z+this.text,this.dom.insertData(0,Z)},dt.insTextAtDirEnd=function(Z,ut){k(ut),ut===1?this.appendText(Z):this.prependText(Z)},dt.splitRight=function(Z){var ut=ve(this.text.slice(Z)).adopt(this.parent,this,this[1]);return ut.jQadd(this.dom.splitText(Z)),this.text=this.text.slice(0,Z),ut},dt.moveTowards=function(Z,ut){k(Z);var Pt=X(-Z,this.text),Jt=this[-Z];return Jt?Jt.insTextAtDirEnd(Pt,Z):ve(Pt).createDir(-Z,ut),this.deleteTowards(Z,ut)},dt.latex=function(){return this.text},dt.deleteTowards=function(Z,ut){this.text.length>1?Z===1?(this.dom.deleteData(0,1),this.text=this.text.slice(1)):(this.dom.deleteData(-1+this.text.length,1),this.text=this.text.slice(0,-1)):(this.remove(),this.jQ.remove(),ut[Z]=this[Z])},dt.selectTowards=function(Z,ut){k(Z);var Pt=ut.anticursor,Jt=X(-Z,this.text);if(Pt[Z]===this){var ce=ve(Jt).createDir(Z,ut);Pt[Z]=ce,ut.insDirOf(Z,ce)}else{var fe=this[-Z];fe?fe.insTextAtDirEnd(Jt,Z):(ce=ve(Jt).createDir(-Z,ut)).jQ.insDirOf(-Z,ut.selection.jQ),this.text.length===1&&Pt[-Z]===this&&(Pt[-Z]=this[-Z])}return this.deleteTowards(Z,ut)}});function Fe(dt,Et,X){return E(Ee,{ctrlSeq:dt,htmlTemplate:"<"+Et+" "+X+">&0</"+Et+">"})}D.text=D.textnormal=D.textrm=D.textup=D.textmd=Ee,D.em=D.italic=D.italics=D.emph=D.textit=D.textsl=Fe("\\textit","i",'class="mq-text-mode"'),D.strong=D.bold=D.textbf=Fe("\\textbf","b",'class="mq-text-mode"'),D.sf=D.textsf=Fe("\\textsf","span",'class="mq-sans-serif mq-text-mode"'),D.tt=D.texttt=Fe("\\texttt","span",'class="mq-monospace mq-text-mode"'),D.textsc=Fe("\\textsc","span",'style="font-variant:small-caps" class="mq-text-mode"'),D.uppercase=Fe("\\uppercase","span",'style="text-transform:uppercase" class="mq-text-mode"'),D.lowercase=Fe("\\lowercase","span",'style="text-transform:lowercase" class="mq-text-mode"');var Ze=E(yt,function(dt,Et){dt.init=function(X){Et.init.call(this,"$"),this.cursor=X},dt.htmlTemplate='<span class="mq-math-mode">&0</span>',dt.createBlocks=function(){Et.createBlocks.call(this),this.ends[T].cursor=this.cursor,this.ends[T].write=function(X,Z){Z!=="$"?_t.prototype.write.call(this,X,Z):this.isEmpty()?(X.insRightOf(this.parent),this.parent.deleteTowards(dir,X),Bt("\\$","$").createLeftOf(X.show())):X[1]?X[T]?_t.prototype.write.call(this,X,Z):X.insLeftOf(this.parent):X.insRightOf(this.parent)}},dt.latex=function(){return"$"+this.ends[T].latex()+"$"}}),ei=E(xe,function(dt,Et){dt.keystroke=function(X){if(X!=="Spacebar"&&X!=="Shift-Spacebar")return Et.keystroke.apply(this,arguments)},dt.write=function(X,Z){var ut;X.show().deleteSelection(),Z==="$"?Ze(X).createLeftOf(X):(Z==="<"?ut="&lt;":Z===">"&&(ut="&gt;"),Bt(Z,ut).createLeftOf(X))}});V.TextField=function(dt){return E(dt.EditableField,function(Et,X){this.RootBlock=ei,Et.__mathquillify=function(){return X.__mathquillify.call(this,"mq-editable-field mq-text-mode")},Et.latex=function(Z){return arguments.length>0?(this.__controller.renderLatexText(Z),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()}})},N["\\"]=E(yt,function(dt,Et){dt.ctrlSeq="\\",dt.replaces=function(X){this._replacedFragment=X.disown(),this.isEmpty=function(){return!1}},dt.htmlTemplate='<span class="mq-latex-command-input mq-non-leaf">\\<span>&0</span></span>',dt.textTemplate=["\\"],dt.createBlocks=function(){Et.createBlocks.call(this),this.ends[T].focus=function(){return this.parent.jQ.addClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.removeClass("mq-empty"),this},this.ends[T].blur=function(){return this.parent.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.addClass("mq-empty"),this},this.ends[T].write=function(X,Z){X.show().deleteSelection(),Z.match(/[a-z]/i)?Bt(Z).createLeftOf(X):(this.parent.renderCommand(X),Z==="\\"&&this.isEmpty()||X.parent.write(X,Z))},this.ends[T].keystroke=function(X,Z,ut){return X==="Tab"||X==="Enter"||X==="Spacebar"?(this.parent.renderCommand(ut.cursor),void Z.preventDefault()):Et.keystroke.apply(this,arguments)}},dt.createLeftOf=function(X){if(Et.createLeftOf.call(this,X),this._replacedFragment){var Z=this.jQ[0];this.jQ=this._replacedFragment.jQ.addClass("mq-blur").bind("mousedown mousemove",function(ut){return P(ut.target=Z).trigger(ut),!1}).insertBefore(this.jQ).add(this.jQ)}},dt.latex=function(){return"\\"+this.ends[T].latex()+" "},dt.renderCommand=function(X){this.jQ=this.jQ.last(),this.remove(),this[1]?X.insLeftOf(this[1]):X.insAtRightEnd(this.parent);var Z=this.ends[T].latex();Z||(Z=" ");var ut=D[Z];ut?(ut=ut(Z),this._replacedFragment&&ut.replaces(this._replacedFragment),ut.createLeftOf(X)):((ut=Ee()).replaces(Z),ut.createLeftOf(X),X.insRightOf(ut),this._replacedFragment&&this._replacedFragment.remove())}});var Ci,xt,et=l,tt=document.createElement("div").style;for(var Ot in{transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1})if(Ot in tt){xt=Ot;break}xt?Ci=function(dt,Et,X){dt.css(xt,"scale("+Et+","+X+")")}:"filter"in tt?(et=function(dt){dt.className=dt.className},Ci=function(dt,Et,X){Et/=1+(X-1)/2,dt.css("fontSize",X+"em"),dt.hasClass("mq-matrixed-container")||dt.addClass("mq-matrixed-container").wrapInner('<span class="mq-matrixed"></span>');var Z=dt.children().css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+Et+",SizingMethod='auto expand')");function ut(){dt.css("marginRight",(Z.width()-1)*(Et-1)/Et+"px")}ut();var Pt=setInterval(ut);P(window).load(function(){clearTimeout(Pt),ut()})}):Ci=function(dt,Et,X){dt.css("fontSize",X+"em")};var ie=E(yt,function(dt,Et){dt.init=function(X,Z,ut){Et.init.call(this,X,"<"+Z+" "+ut+">&0</"+Z+">")}});D.mathrm=w(ie,"\\mathrm","span",'class="mq-roman mq-font"'),D.mathit=w(ie,"\\mathit","i",'class="mq-font"'),D.mathbf=w(ie,"\\mathbf","b",'class="mq-font"'),D.mathsf=w(ie,"\\mathsf","span",'class="mq-sans-serif mq-font"'),D.mathtt=w(ie,"\\mathtt","span",'class="mq-monospace mq-font"'),D.underline=w(ie,"\\underline","span",'class="mq-non-leaf mq-underline"'),D.overline=D.bar=w(ie,"\\overline","span",'class="mq-non-leaf mq-overline"'),D.overrightarrow=w(ie,"\\overrightarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-right"'),D.overleftarrow=w(ie,"\\overleftarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-left"'),D.overleftrightarrow=w(ie,"\\overleftrightarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-both"'),D.overarc=w(ie,"\\overarc","span",'class="mq-non-leaf mq-overarc"'),D.dot=E(yt,function(dt,Et){dt.init=function(){Et.init.call(this,"\\dot",'<span class="mq-non-leaf"><span class="mq-dot-recurring-inner"><span class="mq-dot-recurring">&#x2d9;</span><span class="mq-empty-box">&0</span></span></span>')}}),D.textcolor=E(yt,function(dt,Et){dt.setColor=function(X){this.color=X,this.htmlTemplate='<span class="mq-textcolor" style="color:'+X+'">&0</span>'},dt.latex=function(){return"\\textcolor{"+this.color+"}{"+this.blocks[0].latex()+"}"},dt.parser=function(){var X=this,Z=It.optWhitespace,ut=It.string,Pt=It.regex;return Z.then(ut("{")).then(Pt(/^[#\w\s.,()%-]*/)).skip(ut("}")).then(function(Jt){return X.setColor(Jt),Et.parser.call(X)})},dt.isStyleBlock=function(){return!0}}),D.class=E(yt,function(dt,Et){dt.parser=function(){var X=this,Z=It.string,ut=It.regex;return It.optWhitespace.then(Z("{")).then(ut(/^[-\w\s\\\xA0-\xFF]*/)).skip(Z("}")).then(function(Pt){return X.cls=Pt||"",X.htmlTemplate='<span class="mq-class '+Pt+'">&0</span>',Et.parser.call(X)})},dt.latex=function(){return"\\class{"+this.cls+"}{"+this.blocks[0].latex()+"}"},dt.isStyleBlock=function(){return!0}});var Ce=E(yt,function(dt,Et){dt.ctrlSeq="_{...}^{...}",dt.createLeftOf=function(X){if(this.replacedFragment||X[T]||!X.options.supSubsRequireOperand)return Et.createLeftOf.apply(this,arguments)},dt.contactWeld=function(X){for(var Z=T;Z;Z=Z===T&&1)if(this[Z]instanceof Ce){for(var ut="sub";ut;ut=ut==="sub"&&"sup"){var Pt=this[ut],Jt=this[Z][ut];if(Pt){if(Jt)if(Pt.isEmpty())fe=R(Jt,0,Jt.ends[T]);else{Pt.jQ.children().insAtDirEnd(-Z,Jt.jQ);var ce=Pt.children().disown(),fe=R(Jt,ce.ends[1],Jt.ends[T]);Z===T?ce.adopt(Jt,Jt.ends[1],0):ce.adopt(Jt,0,Jt.ends[T])}else this[Z].addBlock(Pt.disown());this.placeCursor=function($e,pi){return function(_i){_i.insAtDirEnd(-Z,$e||pi)}}(Jt,Pt)}}this.remove(),X&&X[T]===this&&(Z===1&&fe?fe[T]?X.insRightOf(fe[T]):X.insAtLeftEnd(fe.parent):X.insRightOf(this[Z]));break}},Y.p.charsThatBreakOutOfSupSub="",dt.finalizeTree=function(){this.ends[T].write=function(X,Z){if(X.options.autoSubscriptNumerals&&this===this.parent.sub){if(Z==="_")return;var ut=this.chToCmd(Z,X.options);return ut instanceof At?X.deleteSelection():X.clearSelection().insRightOf(this.parent),ut.createLeftOf(X.show())}X[T]&&!X[1]&&!X.selection&&X.options.charsThatBreakOutOfSupSub.indexOf(Z)>-1&&X.insRightOf(this.parent),_t.p.write.apply(this,arguments)}},dt.moveTowards=function(X,Z,ut){Z.options.autoSubscriptNumerals&&!this.sup?Z.insDirOf(X,this):Et.moveTowards.apply(this,arguments)},dt.deleteTowards=function(X,Z){if(Z.options.autoSubscriptNumerals&&this.sub){var ut=this.sub.ends[-X];ut instanceof At?ut.remove():ut&&ut.deleteTowards(X,Z.insAtDirEnd(-X,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(T,Z.insAtLeftEnd(this.sub)),this.sup&&Z.insDirOf(-X,this))}else Et.deleteTowards.apply(this,arguments)},dt.latex=function(){function X(Z,ut){var Pt=ut&&ut.latex();return ut?Z+(Pt.length===1?Pt:"{"+(Pt||" ")+"}"):""}return X("_",this.sub)+X("^",this.sup)},dt.addBlock=function(X){this.supsub==="sub"?(this.sup=this.upInto=this.sub.upOutOf=X,X.adopt(this,this.sub,0).downOutOf=this.sub,X.jQ=P('<span class="mq-sup"/>').append(X.jQ.children()).attr(o,X.id).prependTo(this.jQ)):(this.sub=this.downInto=this.sup.downOutOf=X,X.adopt(this,0,this.sup).upOutOf=this.sup,X.jQ=P('<span class="mq-sub"></span>').append(X.jQ.children()).attr(o,X.id).appendTo(this.jQ.removeClass("mq-sup-only")),this.jQ.append('<span style="display:inline-block;width:0">&#8203;</span>'));for(var Z=0;Z<2;Z+=1)(function(ut,Pt,Jt,ce){ut[Pt].deleteOutOf=function(fe,$e){if($e.insDirOf(this[fe]?-fe:fe,this.parent),!this.isEmpty()){var pi=this.ends[fe];this.children().disown().withDirAdopt(fe,$e.parent,$e[fe],$e[-fe]).jQ.insDirOf(-fe,$e.jQ),$e[-fe]=pi}ut.supsub=Jt,delete ut[Pt],delete ut[ce+"Into"],ut[Jt][ce+"OutOf"]=Ne,delete ut[Jt].deleteOutOf,Pt==="sub"&&P(ut.jQ.addClass("mq-sup-only")[0].lastChild).remove(),this.remove()}})(this,"sub sup".split(" ")[Z],"sup sub".split(" ")[Z],"down up".split(" ")[Z])},dt.reflow=function(){var X=this.jQ,Z=X.prev();if(Z.length){var ut=X.children(".mq-sup");if(ut.length){var Pt=parseInt(ut.css("font-size")),Jt=ut.offset().top+ut.height()-Z.offset().top-.7*Pt,ce=parseInt(ut.css("margin-bottom"));ut.css("margin-bottom",ce+Jt)}}}});function Ne(dt){var Et=this.parent,X=dt;do{if(X[1])return dt.insLeftOf(Et);X=X.parent.parent}while(X!==Et);dt.insRightOf(Et)}D.subscript=D._=E(Ce,function(dt,Et){dt.supsub="sub",dt.htmlTemplate='<span class="mq-supsub mq-non-leaf"><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>',dt.textTemplate=["_"],dt.finalizeTree=function(){this.downInto=this.sub=this.ends[T],this.sub.upOutOf=Ne,Et.finalizeTree.call(this)}}),D.superscript=D.supscript=D["^"]=E(Ce,function(dt,Et){dt.supsub="sup",dt.htmlTemplate='<span class="mq-supsub mq-non-leaf mq-sup-only"><span class="mq-sup">&0</span></span>',dt.textTemplate=["^"],dt.finalizeTree=function(){this.upInto=this.sup=this.ends[1],this.sup.downOutOf=Ne,Et.finalizeTree.call(this)}});var Ui=E(yt,function(dt,Et){dt.init=function(X,Z){var ut='<span class="mq-large-operator mq-non-leaf"><span class="mq-to"><span>&1</span></span><big>'+Z+'</big><span class="mq-from"><span>&0</span></span></span>';At.prototype.init.call(this,X,ut)},dt.createLeftOf=function(X){Et.createLeftOf.apply(this,arguments),X.options.sumStartsWithNEquals&&(Dr("n").createLeftOf(X),Mf().createLeftOf(X))},dt.latex=function(){function X(Z){return Z.length===1?Z:"{"+(Z||" ")+"}"}return this.ctrlSeq+"_"+X(this.ends[T].latex())+"^"+X(this.ends[1].latex())},dt.parser=function(){for(var X=It.string,Z=It.optWhitespace,ut=It.succeed,Pt=Ft.block,Jt=this,ce=Jt.blocks=[_t(),_t()],fe=0;fe<ce.length;fe+=1)ce[fe].adopt(Jt,Jt.ends[1],0);return Z.then(X("_").or(X("^"))).then(function($e){var pi=ce[$e==="_"?0:1];return Pt.then(function(_i){return _i.children().adopt(pi,pi.ends[1],0),ut(Jt)})}).many().result(Jt)},dt.finalizeTree=function(){this.downInto=this.ends[T],this.upInto=this.ends[1],this.ends[T].upOutOf=this.ends[1],this.ends[1].downOutOf=this.ends[T]}});D[""]=D.sum=D.summation=w(Ui,"\\sum ","&sum;"),D[""]=D.prod=D.product=w(Ui,"\\prod ","&prod;"),D.coprod=D.coproduct=w(Ui,"\\coprod ","&#8720;"),D[""]=D.int=D.integral=E(Ui,function(dt,Et){dt.init=function(){At.prototype.init.call(this,"\\int ",'<span class="mq-int mq-non-leaf"><big>&int;</big><span class="mq-supsub mq-non-leaf"><span class="mq-sup"><span class="mq-sup-inner">&1</span></span><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203</span></span></span>')},dt.createLeftOf=yt.p.createLeftOf});var br=D.frac=D.dfrac=D.cfrac=D.fraction=E(yt,function(dt,Et){dt.ctrlSeq="\\frac",dt.htmlTemplate='<span class="mq-fraction mq-non-leaf"><span class="mq-numerator">&0</span><span class="mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>',dt.textTemplate=["(",")/(",")"],dt.finalizeTree=function(){this.upInto=this.ends[1].upOutOf=this.ends[T],this.downInto=this.ends[T].downOutOf=this.ends[1]}}),ar=D.over=N["/"]=E(br,function(dt,Et){dt.createLeftOf=function(X){if(!this.replacedFragment){for(var Z=X[T];Z&&!(Z instanceof le||Z instanceof(D.text||l)||Z instanceof Ui||Z.ctrlSeq==="\\ "||/^[,;:]$/.test(Z.ctrlSeq));)Z=Z[T];Z instanceof Ui&&Z[1]instanceof Ce&&(Z=Z[1])[1]instanceof Ce&&Z[1].ctrlSeq!=Z.ctrlSeq&&(Z=Z[1]),Z===X[T]||X.isTooDeep(1)||(this.replaces(B(Z[1]||X.parent.ends[T],X[T])),X[T]=Z)}Et.createLeftOf.call(this,X)}}),vr=D.sqrt=D[""]=E(yt,function(dt,Et){dt.ctrlSeq="\\sqrt",dt.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-sqrt-prefix">&radic;</span><span class="mq-non-leaf mq-sqrt-stem">&0</span></span>',dt.textTemplate=["sqrt(",")"],dt.parser=function(){return Ft.optBlock.then(function(X){return Ft.block.map(function(Z){var ut=Tr();return ut.blocks=[X,Z],X.adopt(ut,0,0),Z.adopt(ut,X,0),ut})}).or(Et.parser.call(this))},dt.reflow=function(){var X=this.ends[1].jQ;Ci(X.prev(),1,X.innerHeight()/+X.css("fontSize").slice(0,-2)-.1)}}),Tr=(D.hat=E(yt,function(dt,Et){dt.ctrlSeq="\\hat",dt.htmlTemplate='<span class="mq-non-leaf"><span class="mq-hat-prefix">^</span><span class="mq-hat-stem">&0</span></span>',dt.textTemplate=["hat(",")"]}),D.nthroot=E(vr,function(dt,Et){dt.htmlTemplate='<sup class="mq-nthroot mq-non-leaf">&0</sup><span class="mq-scaled"><span class="mq-sqrt-prefix mq-scaled">&radic;</span><span class="mq-sqrt-stem mq-non-leaf">&1</span></span>',dt.textTemplate=["sqrt[","](",")"],dt.latex=function(){return"\\sqrt["+this.ends[T].latex()+"]{"+this.ends[1].latex()+"}"}})),Bo=E(yt,function(dt,Et){dt.init=function(X,Z,ut){var Pt='<span class="mq-non-leaf"><span class="mq-diacritic-above">'+Z+'</span><span class="mq-diacritic-stem">&0</span></span>';Et.init.call(this,X,Pt,ut)}});function za(dt,Et){dt.jQadd=function(){Et.jQadd.apply(this,arguments),this.delimjQs=this.jQ.children(":first").add(this.jQ.children(":last")),this.contentjQ=this.jQ.children(":eq(1)")},dt.reflow=function(){var X=this.contentjQ.outerHeight()/parseFloat(this.contentjQ.css("fontSize"));Ci(this.delimjQs,d(1+.2*(X-1),1.2),1.2*X)}}D.vec=w(Bo,"\\vec","&rarr;",["vec(",")"]),D.tilde=w(Bo,"\\tilde","~",["tilde(",")"]);var ca=E(E(yt,za),function(dt,Et){dt.init=function(X,Z,ut,Pt,Jt){Et.init.call(this,"\\left"+Pt,f,[Z,ut]),this.side=X,this.sides={},this.sides[T]={ch:Z,ctrlSeq:Pt},this.sides[1]={ch:ut,ctrlSeq:Jt}},dt.numBlocks=function(){return 1},dt.html=function(){return this.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-paren'+(this.side===1?" mq-ghost":"")+'">'+this.sides[T].ch+'</span><span class="mq-non-leaf">&0</span><span class="mq-scaled mq-paren'+(this.side===T?" mq-ghost":"")+'">'+this.sides[1].ch+"</span></span>",Et.html.call(this)},dt.latex=function(){return"\\left"+this.sides[T].ctrlSeq+this.ends[T].latex()+"\\right"+this.sides[1].ctrlSeq},dt.matchBrack=function(X,Z,ut){return ut instanceof ca&&ut.side&&ut.side!==-Z&&(!X.restrictMismatchedBrackets||Yl[this.sides[this.side].ch]===ut.sides[ut.side].ch||{"(":"]","[":")"}[this.sides[T].ch]===ut.sides[1].ch)&&ut},dt.closeOpposing=function(X){X.side=0,X.sides[this.side]=this.sides[this.side],X.delimjQs.eq(this.side===T?0:1).removeClass("mq-ghost").html(this.sides[this.side].ch)},dt.createLeftOf=function(X){if(!this.replacedFragment){var Z=X.options;if(this.sides[T].ch==="|")var ut=this.matchBrack(Z,1,X[1])||this.matchBrack(Z,T,X[T])||this.matchBrack(Z,0,X.parent.parent);else ut=this.matchBrack(Z,-this.side,X[-this.side])||this.matchBrack(Z,-this.side,X.parent.parent)}if(ut){var Pt=this.side=-ut.side;this.closeOpposing(ut),ut===X.parent.parent&&X[Pt]&&B(X[Pt],X.parent.ends[Pt],-Pt).disown().withDirAdopt(-Pt,ut.parent,ut,ut[Pt]).jQ.insDirOf(Pt,ut.jQ),ut.bubble("reflow")}else Pt=(ut=this).side,ut.replacedFragment?ut.side=0:X[-Pt]&&(ut.replaces(B(X[-Pt],X.parent.ends[-Pt],Pt)),X[-Pt]=0),Et.createLeftOf.call(ut,X);Pt===T?X.insAtLeftEnd(ut.ends[T]):X.insRightOf(ut)},dt.placeCursor=l,dt.unwrap=function(){this.ends[T].children().disown().adopt(this.parent,this,this[1]).jQ.insertAfter(this.jQ),this.remove()},dt.deleteSide=function(X,Z,ut){var Pt=this.parent,Jt=this[X],ce=Pt.ends[X];if(X===this.side)return this.unwrap(),void(Jt?ut.insDirOf(-X,Jt):ut.insAtDirEnd(X,Pt));var fe=ut.options,$e=!this.side;if(this.side=-X,this.matchBrack(fe,X,this.ends[T].ends[this.side])){this.closeOpposing(this.ends[T].ends[this.side]);var pi=this.ends[T].ends[X];this.unwrap(),pi.siblingCreated&&pi.siblingCreated(ut.options,X),Jt?ut.insDirOf(-X,Jt):ut.insAtDirEnd(X,Pt)}else{if(this.matchBrack(fe,X,this.parent.parent))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(Z&&$e)return this.unwrap(),void(Jt?ut.insDirOf(-X,Jt):ut.insAtDirEnd(X,Pt));this.sides[X]={ch:Yl[this.sides[this.side].ch],ctrlSeq:Yl[this.sides[this.side].ctrlSeq]},this.delimjQs.removeClass("mq-ghost").eq(X===T?0:1).addClass("mq-ghost").html(this.sides[X].ch)}Jt?(pi=this.ends[T].ends[X],B(Jt,ce,-X).disown().withDirAdopt(-X,this.ends[T],pi,0).jQ.insAtDirEnd(X,this.ends[T].jQ.removeClass("mq-empty")),pi.siblingCreated&&pi.siblingCreated(ut.options,X),ut.insDirOf(-X,Jt)):Z?ut.insDirOf(X,this):ut.insAtDirEnd(X,this.ends[T])}},dt.deleteTowards=function(X,Z){this.deleteSide(-X,!1,Z)},dt.finalizeTree=function(){this.ends[T].deleteOutOf=function(X,Z){this.parent.deleteSide(X,!0,Z)},this.finalizeTree=this.intentionalBlur=function(){this.delimjQs.eq(this.side===T?1:0).removeClass("mq-ghost"),this.side=0}},dt.siblingCreated=function(X,Z){Z===-this.side&&this.finalizeTree()}}),Yl={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|","\\lVert ":"\\rVert ","\\rVert ":"\\lVert "};function Us(dt,Et){Et=Et||dt;var X=Yl[dt],Z=Yl[Et];N[dt]=w(ca,T,dt,X,Et,Z),N[X]=w(ca,1,dt,X,Et,Z)}Us("("),Us("["),Us("{","\\{"),D.langle=w(ca,T,"&lang;","&rang;","\\langle ","\\rangle "),D.rangle=w(ca,1,"&lang;","&rang;","\\langle ","\\rangle "),N["|"]=w(ca,T,"|","|","|","|"),D.lVert=w(ca,T,"&#8741;","&#8741;","\\lVert ","\\rVert "),D.rVert=w(ca,1,"&#8741;","&#8741;","\\lVert ","\\rVert "),D.left=E(yt,function(dt){dt.parser=function(){var Et=It.regex,X=It.string,Z=(It.succeed,It.optWhitespace);return Z.then(Et(/^(?:[([|]|\\\{|\\langle(?![a-zA-Z])|\\lVert(?![a-zA-Z]))/)).then(function(ut){var Pt=ut.charAt(0)==="\\"?ut.slice(1):ut;return ut=="\\langle"&&(Pt="&lang;",ut+=" "),ut=="\\lVert"&&(Pt="&#8741;",ut+=" "),Ft.then(function(Jt){return X("\\right").skip(Z).then(Et(/^(?:[\])|]|\\\}|\\rangle(?![a-zA-Z])|\\rVert(?![a-zA-Z]))/)).map(function(ce){var fe=ce.charAt(0)==="\\"?ce.slice(1):ce;ce=="\\rangle"&&(fe="&rang;",ce+=" "),ce=="\\rVert"&&(fe="&#8741;",ce+=" ");var $e=ca(0,Pt,fe,ut,ce);return $e.blocks=[Jt],Jt.adopt($e,0,0),$e})})})}}),D.right=E(yt,function(dt){dt.parser=function(){return It.fail("unmatched \\right")}});var fa=D.binom=D.binomial=E(E(yt,za),function(dt,Et){dt.ctrlSeq="\\binom",dt.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">(</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span></span></span><span class="mq-paren mq-scaled">)</span></span>',dt.textTemplate=["choose(",",",")"]});D.choose=E(fa,function(dt){dt.createLeftOf=ar.prototype.createLeftOf}),D.editable=D.MathQuillMathField=E(yt,function(dt,Et){dt.ctrlSeq="\\MathQuillMathField",dt.htmlTemplate='<span class="mq-editable-field"><span class="mq-root-block">&0</span></span>',dt.parser=function(){var X=this,Z=It.string,ut=It.regex,Pt=It.succeed;return Z("[").then(ut(/^[a-z][a-z0-9]*/i)).skip(Z("]")).map(function(Jt){X.name=Jt}).or(Pt()).then(Et.parser.call(X))},dt.finalizeTree=function(X){var Z=$(this.ends[T],this.jQ,X);Z.KIND_OF_MQ="MathField",Z.editable=!0,Z.createTextarea(),Z.editablesTextareaEvents(),Z.cursor.insAtRightEnd(Z.root),rt(Z.root)},dt.registerInnerField=function(X,Z){X.push(X[this.name]=Z(this.ends[T].controller))},dt.latex=function(){return this.ends[T].latex()},dt.text=function(){return this.ends[T].text()}});var hs=D.embed=E(At,function(dt,Et){dt.setOptions=function(X){function Z(){return""}return this.text=X.text||Z,this.htmlTemplate=X.htmlString||"",this.latex=X.latex||Z,this},dt.parser=function(){var X=this,Z=It.string,ut=It.regex,Pt=It.succeed;return Z("{").then(ut(/^[a-z][a-z0-9]*/i)).skip(Z("}")).then(function(Jt){return Z("[").then(ut(/^[-\w\s]*/)).skip(Z("]")).or(Pt()).map(function(ce){return X.setOptions(O[Jt](ce))})})}});D.notin=D.cong=D.equiv=D.oplus=D.otimes=E(le,function(dt,Et){dt.init=function(X){Et.init.call(this,"\\"+X+" ","&"+X+";")}}),D[" "]=D.ne=D.neq=w(le,"\\ne ","&ne;"),D[""]=D.ast=D.star=D.loast=D.lowast=w(le,"\\ast ","&lowast;"),D.therefor=D.therefore=w(le,"\\therefore ","&there4;"),D.cuz=D.because=w(le,"\\because ","&#8757;"),D.prop=D.propto=w(le,"\\propto ","&prop;"),D[""]=D.asymp=D.approx=w(le,"\\approx ","&asymp;"),D.isin=D.in=w(le,"\\in ","&isin;"),D.ni=D.contains=w(le,"\\ni ","&ni;"),D.notni=D.niton=D.notcontains=D.doesnotcontain=w(le,"\\not\\ni ","&#8716;"),D.sub=D.subset=w(le,"\\subset ","&sub;"),D.sup=D.supset=D.superset=w(le,"\\supset ","&sup;"),D.nsub=D.notsub=D.nsubset=D.notsubset=w(le,"\\not\\subset ","&#8836;"),D.nsup=D.notsup=D.nsupset=D.notsupset=D.nsuperset=D.notsuperset=w(le,"\\not\\supset ","&#8837;"),D.sube=D.subeq=D.subsete=D.subseteq=w(le,"\\subseteq ","&sube;"),D.supe=D.supeq=D.supsete=D.supseteq=D.supersete=D.superseteq=w(le,"\\supseteq ","&supe;"),D.nsube=D.nsubeq=D.notsube=D.notsubeq=D.nsubsete=D.nsubseteq=D.notsubsete=D.notsubseteq=w(le,"\\not\\subseteq ","&#8840;"),D.nsupe=D.nsupeq=D.notsupe=D.notsupeq=D.nsupsete=D.nsupseteq=D.notsupsete=D.notsupseteq=D.nsupersete=D.nsuperseteq=D.notsupersete=D.notsuperseteq=w(le,"\\not\\supseteq ","&#8841;"),D.N=D.naturals=D.Naturals=w(Bt,"\\mathbb{N}","&#8469;"),D.P=D.primes=D.Primes=D.projective=D.Projective=D.probability=D.Probability=w(Bt,"\\mathbb{P}","&#8473;"),D.Z=D.integers=D.Integers=w(Bt,"\\mathbb{Z}","&#8484;"),D.Q=D.rationals=D.Rationals=w(Bt,"\\mathbb{Q}","&#8474;"),D.R=D.reals=D.Reals=w(Bt,"\\mathbb{R}","&#8477;"),D.C=D.complex=D.Complex=D.complexes=D.Complexes=D.complexplane=D.Complexplane=D.ComplexPlane=w(Bt,"\\mathbb{C}","&#8450;"),D.H=D.Hamiltonian=D.quaternions=D.Quaternions=w(Bt,"\\mathbb{H}","&#8461;"),D.quad=D.emsp=w(Bt,"\\quad ","    "),D.qquad=w(Bt,"\\qquad ","        "),D.diamond=w(Bt,"\\diamond ","&#9671;"),D.bigtriangleup=w(Bt,"\\bigtriangleup ","&#9651;"),D.ominus=w(Bt,"\\ominus ","&#8854;"),D.uplus=w(Bt,"\\uplus ","&#8846;"),D.bigtriangledown=w(Bt,"\\bigtriangledown ","&#9661;"),D.sqcap=w(Bt,"\\sqcap ","&#8851;"),D.triangleleft=w(Bt,"\\triangleleft ","&#8882;"),D.sqcup=w(Bt,"\\sqcup ","&#8852;"),D.triangleright=w(Bt,"\\triangleright ","&#8883;"),D.odot=D.circledot=w(Bt,"\\odot ","&#8857;"),D.bigcirc=w(Bt,"\\bigcirc ","&#9711;"),D.dagger=w(Bt,"\\dagger ","&#0134;"),D.ddagger=w(Bt,"\\ddagger ","&#135;"),D.wr=w(Bt,"\\wr ","&#8768;"),D.amalg=w(Bt,"\\amalg ","&#8720;"),D.models=w(Bt,"\\models ","&#8872;"),D.prec=w(Bt,"\\prec ","&#8826;"),D.succ=w(Bt,"\\succ ","&#8827;"),D.preceq=w(Bt,"\\preceq ","&#8828;"),D.succeq=w(Bt,"\\succeq ","&#8829;"),D.simeq=w(Bt,"\\simeq ","&#8771;"),D.mid=w(Bt,"\\mid ","&#8739;"),D.ll=w(Bt,"\\ll ","&#8810;"),D.gg=w(Bt,"\\gg ","&#8811;"),D.parallel=w(Bt,"\\parallel ","&#8741;"),D.nparallel=w(Bt,"\\nparallel ","&#8742;"),D.bowtie=w(Bt,"\\bowtie ","&#8904;"),D.sqsubset=w(Bt,"\\sqsubset ","&#8847;"),D.sqsupset=w(Bt,"\\sqsupset ","&#8848;"),D.smile=w(Bt,"\\smile ","&#8995;"),D.sqsubseteq=w(Bt,"\\sqsubseteq ","&#8849;"),D.sqsupseteq=w(Bt,"\\sqsupseteq ","&#8850;"),D.doteq=w(Bt,"\\doteq ","&#8784;"),D.frown=w(Bt,"\\frown ","&#8994;"),D.vdash=w(Bt,"\\vdash ","&#8870;"),D.dashv=w(Bt,"\\dashv ","&#8867;"),D.nless=w(Bt,"\\nless ","&#8814;"),D.ngtr=w(Bt,"\\ngtr ","&#8815;"),D.longleftarrow=w(Bt,"\\longleftarrow ","&#8592;"),D.longrightarrow=w(Bt,"\\longrightarrow ","&#8594;"),D.Longleftarrow=w(Bt,"\\Longleftarrow ","&#8656;"),D.Longrightarrow=w(Bt,"\\Longrightarrow ","&#8658;"),D.longleftrightarrow=w(Bt,"\\longleftrightarrow ","&#8596;"),D.updownarrow=w(Bt,"\\updownarrow ","&#8597;"),D.Longleftrightarrow=w(Bt,"\\Longleftrightarrow ","&#8660;"),D.Updownarrow=w(Bt,"\\Updownarrow ","&#8661;"),D.mapsto=w(Bt,"\\mapsto ","&#8614;"),D.nearrow=w(Bt,"\\nearrow ","&#8599;"),D.hookleftarrow=w(Bt,"\\hookleftarrow ","&#8617;"),D.hookrightarrow=w(Bt,"\\hookrightarrow ","&#8618;"),D.searrow=w(Bt,"\\searrow ","&#8600;"),D.leftharpoonup=w(Bt,"\\leftharpoonup ","&#8636;"),D.rightharpoonup=w(Bt,"\\rightharpoonup ","&#8640;"),D.swarrow=w(Bt,"\\swarrow ","&#8601;"),D.leftharpoondown=w(Bt,"\\leftharpoondown ","&#8637;"),D.rightharpoondown=w(Bt,"\\rightharpoondown ","&#8641;"),D.nwarrow=w(Bt,"\\nwarrow ","&#8598;"),D.ldots=w(Bt,"\\ldots ","&#8230;"),D.cdots=w(Bt,"\\cdots ","&#8943;"),D.vdots=w(Bt,"\\vdots ","&#8942;"),D.ddots=w(Bt,"\\ddots ","&#8945;"),D.surd=w(Bt,"\\surd ","&#8730;"),D.triangle=w(Bt,"\\triangle ","&#9651;"),D.ell=w(Bt,"\\ell ","&#8467;"),D.top=w(Bt,"\\top ","&#8868;"),D.flat=w(Bt,"\\flat ","&#9837;"),D.natural=w(Bt,"\\natural ","&#9838;"),D.sharp=w(Bt,"\\sharp ","&#9839;"),D.wp=w(Bt,"\\wp ","&#8472;"),D.bot=w(Bt,"\\bot ","&#8869;"),D.clubsuit=w(Bt,"\\clubsuit ","&#9827;"),D.diamondsuit=w(Bt,"\\diamondsuit ","&#9826;"),D.heartsuit=w(Bt,"\\heartsuit ","&#9825;"),D.spadesuit=w(Bt,"\\spadesuit ","&#9824;"),D.parallelogram=w(Bt,"\\parallelogram ","&#9649;"),D.square=w(Bt,"\\square ","&#11036;"),D.oint=w(Bt,"\\oint ","&#8750;"),D.bigcap=w(Bt,"\\bigcap ","&#8745;"),D.bigcup=w(Bt,"\\bigcup ","&#8746;"),D.bigsqcup=w(Bt,"\\bigsqcup ","&#8852;"),D.bigvee=w(Bt,"\\bigvee ","&#8744;"),D.bigwedge=w(Bt,"\\bigwedge ","&#8743;"),D.bigodot=w(Bt,"\\bigodot ","&#8857;"),D.bigotimes=w(Bt,"\\bigotimes ","&#8855;"),D.bigoplus=w(Bt,"\\bigoplus ","&#8853;"),D.biguplus=w(Bt,"\\biguplus ","&#8846;"),D.lfloor=w(Bt,"\\lfloor ","&#8970;"),D.rfloor=w(Bt,"\\rfloor ","&#8971;"),D.lceil=w(Bt,"\\lceil ","&#8968;"),D.rceil=w(Bt,"\\rceil ","&#8969;"),D.opencurlybrace=D.lbrace=w(Bt,"\\lbrace ","{"),D.closecurlybrace=D.rbrace=w(Bt,"\\rbrace ","}"),D.lbrack=w(Bt,"["),D.rbrack=w(Bt,"]"),D.slash=w(Bt,"/"),D.vert=w(Bt,"|"),D.perp=D.perpendicular=w(Bt,"\\perp ","&perp;"),D.nabla=D.del=w(Bt,"\\nabla ","&nabla;"),D.hbar=w(Bt,"\\hbar ","&#8463;"),D.AA=D.Angstrom=D.angstrom=w(Bt,"\\text\\AA ","&#8491;"),D.ring=D.circ=D.circle=w(Bt,"\\circ ","&#8728;"),D.bull=D.bullet=w(Bt,"\\bullet ","&bull;"),D.setminus=D.smallsetminus=w(Bt,"\\setminus ","&#8726;"),D.not=D[""]=D.neg=w(Bt,"\\neg ","&not;"),D[""]=D.dots=D.ellip=D.hellip=D.ellipsis=D.hellipsis=w(Bt,"\\dots ","&hellip;"),D.converges=D.darr=D.dnarr=D.dnarrow=D.downarrow=w(Bt,"\\downarrow ","&darr;"),D.dArr=D.dnArr=D.dnArrow=D.Downarrow=w(Bt,"\\Downarrow ","&dArr;"),D.diverges=D.uarr=D.uparrow=w(Bt,"\\uparrow ","&uarr;"),D.uArr=D.Uparrow=w(Bt,"\\Uparrow ","&uArr;"),D.to=w(le,"\\to ","&rarr;"),D.rarr=D.rightarrow=w(Bt,"\\rightarrow ","&rarr;"),D.implies=w(le,"\\Rightarrow ","&rArr;"),D.rArr=D.Rightarrow=w(Bt,"\\Rightarrow ","&rArr;"),D.gets=w(le,"\\gets ","&larr;"),D.larr=D.leftarrow=w(Bt,"\\leftarrow ","&larr;"),D.impliedby=w(le,"\\Leftarrow ","&lArr;"),D.lArr=D.Leftarrow=w(Bt,"\\Leftarrow ","&lArr;"),D.harr=D.lrarr=D.leftrightarrow=w(Bt,"\\leftrightarrow ","&harr;"),D.iff=w(le,"\\Leftrightarrow ","&hArr;"),D.hArr=D.lrArr=D.Leftrightarrow=w(Bt,"\\Leftrightarrow ","&hArr;"),D.Re=D.Real=D.real=w(Bt,"\\Re ","&real;"),D.Im=D.imag=D.image=D.imagin=D.imaginary=D.Imaginary=w(Bt,"\\Im ","&image;"),D.part=D.partial=w(Bt,"\\partial ","&part;"),D.infty=D.infin=D.infinity=w(Bt,"\\infty ","&infin;"),D.pounds=w(Bt,"\\pounds ","&pound;"),D.alef=D.alefsym=D.aleph=D.alephsym=w(Bt,"\\aleph ","&alefsym;"),D.xist=D.xists=D.exist=D.exists=w(Bt,"\\exists ","&exist;"),D.nexists=D.nexist=w(Bt,"\\nexists ","&#8708;"),D.and=D.land=D.wedge=w(le,"\\wedge ","&and;"),D.or=D.lor=D.vee=w(le,"\\vee ","&or;"),D.o=D.O=D.empty=D.emptyset=D.oslash=D.Oslash=D.nothing=D.varnothing=w(le,"\\varnothing ","&empty;"),D.cup=D.union=w(le,"\\cup ","&cup;"),D.cap=D.intersect=D.intersection=w(le,"\\cap ","&cap;"),D.deg=D.degree=w(Bt,"\\degree ","&deg;"),D.ang=D.angle=w(Bt,"\\angle ","&ang;"),D.measuredangle=w(Bt,"\\measuredangle ","&#8737;");var ol=E(Bt,function(dt,Et){dt.createLeftOf=function(X){X.options.autoSubscriptNumerals&&X.parent!==X.parent.parent.sub&&(X[T]instanceof $r&&X[T].isItalic!==!1||X[T]instanceof Ce&&X[T][T]instanceof $r&&X[T][T].isItalic!==!1)?(D._().createLeftOf(X),Et.createLeftOf.call(this,X),X.insRightOf(X.parent.parent)):Et.createLeftOf.call(this,X)}}),$r=E(At,function(dt,Et){dt.init=function(X,Z){Et.init.call(this,X,"<var>"+(Z||X)+"</var>")},dt.text=function(){var X=this.ctrlSeq;return this.isPartOfOperator?X[0]=="\\"?X=X.slice(1,X.length):X[X.length-1]==" "&&(X=X.slice(0,-1)):(!this[T]||this[T]instanceof $r||this[T]instanceof le||this[T].ctrlSeq==="\\ "||(X="*"+X),!this[1]||this[1]instanceof le||this[1]instanceof Ce||(X+="*")),X}});Y.p.autoCommands={_maxLength:0},U.autoCommands=function(dt){if(!/^[a-z]+(?: [a-z]+)*$/i.test(dt))throw'"'+dt+'" not a space-delimited list of only letters';for(var Et=dt.split(" "),X={},Z=0,ut=0;ut<Et.length;ut+=1){var Pt=Et[ut];if(Pt.length<2)throw'autocommand "'+Pt+'" not minimum length of 2';if(D[Pt]===cs)throw'"'+Pt+'" is a built-in operator name';X[Pt]=1,Z=p(Z,Pt.length)}return X._maxLength=Z,X};var Dr=E($r,function(dt,Et){function X(Z){return!Z||Z instanceof le||Z instanceof Ui}dt.init=function(Z){return Et.init.call(this,this.letter=Z)},dt.createLeftOf=function(Z){Et.createLeftOf.apply(this,arguments);var ut=Z.options.autoCommands,Pt=ut._maxLength;if(Pt>0){for(var Jt="",ce=this,fe=0;ce instanceof Dr&&ce.ctrlSeq===ce.letter&&fe<Pt;)Jt=ce.letter+Jt,ce=ce[T],fe+=1;for(;Jt.length;){if(ut.hasOwnProperty(Jt)){for(fe=1,ce=this;fe<Jt.length;fe+=1,ce=ce[T]);return B(ce,this).remove(),Z[T]=ce[T],D[Jt](Jt).createLeftOf(Z)}Jt=Jt.slice(1)}}},dt.italicize=function(Z){return this.isItalic=Z,this.isPartOfOperator=!Z,this.jQ.toggleClass("mq-operator-name",!Z),this},dt.finalizeTree=dt.siblingDeleted=dt.siblingCreated=function(Z,ut){ut!==T&&this[1]instanceof Dr||this.autoUnItalicize(Z)},dt.autoUnItalicize=function(Z){var ut=Z.autoOperatorNames;if(ut._maxLength!==0){for(var Pt=this.letter,Jt=this[T];Jt instanceof Dr;Jt=Jt[T])Pt=Jt.letter+Pt;for(var ce=this[1];ce instanceof Dr;ce=ce[1])Pt+=ce.letter;B(Jt[1]||this.parent.ends[T],ce[T]||this.parent.ends[1]).each(function(sn){sn.italicize(!0).jQ.removeClass("mq-first mq-last mq-followed-by-supsub"),sn.ctrlSeq=sn.letter});t:for(var fe=0,$e=Jt[1]||this.parent.ends[T];fe<Pt.length;fe+=1,$e=$e[1])for(var pi=d(ut._maxLength,Pt.length-fe);pi>0;pi-=1){var _i=Pt.slice(fe,fe+pi);if(ut.hasOwnProperty(_i)){for(var Wi=0,hr=$e;Wi<pi;Wi+=1,hr=hr[1]){hr.italicize(!1);var Di=hr}var Mr=Ga.hasOwnProperty(_i);if($e.ctrlSeq=(Mr?"\\":"\\operatorname{")+$e.ctrlSeq,Di.ctrlSeq+=Mr?" ":"}",zs.hasOwnProperty(_i)&&Di[T][T][T].jQ.addClass("mq-last"),X($e[T])||$e.jQ.addClass("mq-first"),!X(Di[1]))if(Di[1]instanceof Ce){var Fr=Di[1];(Fr.siblingCreated=Fr.siblingDeleted=function(){Fr.jQ.toggleClass("mq-after-operator-name",!(Fr[1]instanceof ca))})()}else Di.jQ.toggleClass("mq-last",!(Di[1]instanceof ca));fe+=pi-1,$e=Di;continue t}}}}}),Ga={},zn=Y.p.autoOperatorNames={_maxLength:9},zs={limsup:1,liminf:1,projlim:1,injlim:1};(function(){for(var dt="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),Et=0;Et<dt.length;Et+=1)Ga[dt[Et]]=zn[dt[Et]]=1;var X="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" ");for(Et=0;Et<X.length;Et+=1)Ga[X[Et]]=1;var Z="sin cos tan sec cosec csc cotan cot ctg".split(" ");for(Et=0;Et<Z.length;Et+=1)zn[Z[Et]]=zn["arc"+Z[Et]]=zn[Z[Et]+"h"]=zn["ar"+Z[Et]+"h"]=zn["arc"+Z[Et]+"h"]=1;var ut="gcf hcf lcm proj span".split(" ");for(Et=0;Et<ut.length;Et+=1)zn[ut[Et]]=1})(),U.autoOperatorNames=function(dt){if(!/^[a-z]+(?: [a-z]+)*$/i.test(dt))throw'"'+dt+'" not a space-delimited list of only letters';for(var Et=dt.split(" "),X={},Z=0,ut=0;ut<Et.length;ut+=1){var Pt=Et[ut];if(Pt.length<2)throw'"'+Pt+'" not minimum length of 2';X[Pt]=1,Z=p(Z,Pt.length)}return X._maxLength=Z,X};var cs=E(At,function(dt,Et){dt.init=function(X){this.ctrlSeq=X},dt.createLeftOf=function(X){for(var Z=this.ctrlSeq,ut=0;ut<Z.length;ut+=1)Dr(Z.charAt(ut)).createLeftOf(X)},dt.parser=function(){for(var X=this.ctrlSeq,Z=_t(),ut=0;ut<X.length;ut+=1)Dr(X.charAt(ut)).adopt(Z,Z.ends[1],0);return It.succeed(Z.children())}});for(var Ac in zn)zn.hasOwnProperty(Ac)&&(D[Ac]=cs);D.operatorname=E(yt,function(dt){dt.createLeftOf=l,dt.numBlocks=function(){return 1},dt.parser=function(){return Ft.block.map(function(Et){return Et.children()})}}),D.f=E(Dr,function(dt,Et){dt.init=function(){At.p.init.call(this,this.letter="f",'<var class="mq-f">f</var>')},dt.italicize=function(X){return this.jQ.html("f").toggleClass("mq-f",X),Et.italicize.apply(this,arguments)}}),D[" "]=D.space=w(Bt,"\\ ","&nbsp;"),D["'"]=D.prime=w(Bt,"'","&prime;"),D[""]=D.dprime=w(Bt,"","&Prime;"),D.backslash=w(Bt,"\\backslash ","\\"),N["\\"]||(N["\\"]=D.backslash),D.$=w(Bt,"\\$","$");var Xr=E(At,function(dt,Et){dt.init=function(X,Z){Et.init.call(this,X,'<span class="mq-nonSymbola">'+(Z||X)+"</span>")}});D["@"]=Xr,D["&"]=w(Xr,"\\&","&amp;"),D["%"]=w(Xr,"\\%","%"),D.alpha=D.beta=D.gamma=D.delta=D.zeta=D.eta=D.theta=D.iota=D.kappa=D.mu=D.nu=D.xi=D.rho=D.sigma=D.tau=D.chi=D.psi=D.omega=E($r,function(dt,Et){dt.init=function(X){Et.init.call(this,"\\"+X+" ","&"+X+";")}}),D.phi=w($r,"\\phi ","&#981;"),D.phiv=D.varphi=w($r,"\\varphi ","&phi;"),D.epsilon=w($r,"\\epsilon ","&#1013;"),D.epsiv=D.varepsilon=w($r,"\\varepsilon ","&epsilon;"),D.piv=D.varpi=w($r,"\\varpi ","&piv;"),D.sigmaf=D.sigmav=D.varsigma=w($r,"\\varsigma ","&sigmaf;"),D.thetav=D.vartheta=D.thetasym=w($r,"\\vartheta ","&thetasym;"),D.upsilon=D.upsi=w($r,"\\upsilon ","&upsilon;"),D.gammad=D.Gammad=D.digamma=w($r,"\\digamma ","&#989;"),D.kappav=D.varkappa=w($r,"\\varkappa ","&#1008;"),D.rhov=D.varrho=w($r,"\\varrho ","&#1009;"),D.pi=D.=w(Xr,"\\pi ","&pi;"),D.lambda=w(Xr,"\\lambda ","&lambda;"),D.Upsilon=D.Upsi=D.upsih=D.Upsih=w(At,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>'),D.Gamma=D.Delta=D.Theta=D.Lambda=D.Xi=D.Pi=D.Sigma=D.Phi=D.Psi=D.Omega=D.forall=E(Bt,function(dt,Et){dt.init=function(X){Et.init.call(this,"\\"+X+" ","&"+X+";")}});var In=E(yt,function(dt){dt.init=function(Et){this.latex=Et},dt.createLeftOf=function(Et){var X=Ft.parse(this.latex);X.children().adopt(Et.parent,Et[T],Et[1]),Et[T]=X.ends[1],X.jQize().insertBefore(Et.jQ),X.finalizeInsert(Et.options,Et),X.ends[1][1].siblingCreated&&X.ends[1][1].siblingCreated(Et.options,T),X.ends[T][T].siblingCreated&&X.ends[T][T].siblingCreated(Et.options,1),Et.parent.bubble("reflow")},dt.parser=function(){var Et=Ft.parse(this.latex).children();return It.succeed(Et)}});D[""]=w(In,"^1"),D[""]=w(In,"^2"),D[""]=w(In,"^3"),D[""]=w(In,"\\frac14"),D[""]=w(In,"\\frac12"),D[""]=w(In,"\\frac34");var Gs=E(le,function(dt){dt.init=Bt.prototype.init,dt.contactWeld=dt.siblingCreated=dt.siblingDeleted=function(Et,X){if(X!==1)return this.jQ[0].className=function Z(ut){return ut[T]?ut[T]instanceof le||/^[,;:\(\[]$/.test(ut[T].ctrlSeq)?"":"mq-binary-operator":ut.parent&&ut.parent.parent&&ut.parent.parent.isStyleBlock()?Z(ut.parent.parent):""}(this),this}});D["+"]=w(Gs,"+","+"),D[""]=D["-"]=w(Gs,"-","&minus;"),D[""]=D.pm=D.plusmn=D.plusminus=w(Gs,"\\pm ","&plusmn;"),D.mp=D.mnplus=D.minusplus=w(Gs,"\\mp ","&#8723;"),N["*"]=D.sdot=D.cdot=w(le,"\\cdot ","&middot;","*");var Aa=E(le,function(dt,Et){dt.init=function(X,Z){this.data=X,this.strict=Z;var ut=Z?"Strict":"";Et.init.call(this,X["ctrlSeq"+ut],X["html"+ut],X["text"+ut])},dt.swap=function(X){this.strict=X;var Z=X?"Strict":"";this.ctrlSeq=this.data["ctrlSeq"+Z],this.jQ.html(this.data["html"+Z]),this.textTemplate=[this.data["text"+Z]]},dt.deleteTowards=function(X,Z){if(X===T&&!this.strict)return this.swap(!0),void this.bubble("reflow");Et.deleteTowards.apply(this,arguments)}}),wh={ctrlSeq:"\\le ",html:"&le;",text:"",ctrlSeqStrict:"<",htmlStrict:"&lt;",textStrict:"<"},Mu={ctrlSeq:"\\ge ",html:"&ge;",text:"",ctrlSeqStrict:">",htmlStrict:"&gt;",textStrict:">"};D["<"]=D.lt=w(Aa,wh,!0),D[">"]=D.gt=w(Aa,Mu,!0),D[""]=D.le=D.leq=w(Aa,wh,!1),D[""]=D.ge=D.geq=w(Aa,Mu,!1);var Mf=E(le,function(dt,Et){dt.init=function(){Et.init.call(this,"=","=")},dt.createLeftOf=function(X){if(X[T]instanceof Aa&&X[T].strict)return X[T].swap(!1),void X[T].bubble("reflow");Et.createLeftOf.apply(this,arguments)}});D["="]=Mf,D[""]=D.times=w(le,"\\times ","&times;","[x]"),D[""]=D.div=D.divide=D.divides=w(le,"\\div ","&divide;","[/]"),N["~"]=D.sim=w(le,"\\sim ","~","~");var Th=ot(1);for(var Pc in Th)(function(dt,Et){typeof Et=="function"?(z[dt]=function(){return j(),Et.apply(this,arguments)},z[dt].prototype=Et.prototype):z[dt]=Et})(Pc,Th[Pc])}(),g.exports=window.MathQuill},755:function(g,i){var a;(function(v,f){typeof g.exports=="object"?g.exports=v.document?f(v,!0):function(h){if(!h.document)throw new Error("jQuery requires a window with a document");return f(h)}:f(v)})(typeof window!="undefined"?window:this,function(v,f){var h=[],u=Object.getPrototypeOf,o=h.slice,d=h.flat?function(L){return h.flat.call(L)}:function(L){return h.concat.apply([],L)},p=h.push,l=h.indexOf,m={},y=m.toString,x=m.hasOwnProperty,b=x.toString,w=b.call(Object),C={},E=function(L){return typeof L=="function"&&typeof L.nodeType!="number"&&typeof L.item!="function"},T=function(L){return L!=null&&L===L.window},k=v.document,P={type:!0,src:!0,nonce:!0,noModule:!0};function R(L,H,it){var st,mt,St=(it=it||k).createElement("script");if(St.text=L,H)for(st in P)(mt=H[st]||H.getAttribute&&H.getAttribute(st))&&St.setAttribute(st,mt);it.head.appendChild(St).parentNode.removeChild(St)}function M(L){return L==null?L+"":typeof L=="object"||typeof L=="function"?m[y.call(L)]||"object":typeof L}var I="3.7.1",B=/HTML$/i,D=function(L,H){return new D.fn.init(L,H)};function N(L){var H=!!L&&"length"in L&&L.length,it=M(L);return!E(L)&&!T(L)&&(it==="array"||H===0||typeof H=="number"&&H>0&&H-1 in L)}function _(L,H){return L.nodeName&&L.nodeName.toLowerCase()===H.toLowerCase()}D.fn=D.prototype={jquery:I,constructor:D,length:0,toArray:function(){return o.call(this)},get:function(L){return L==null?o.call(this):L<0?this[L+this.length]:this[L]},pushStack:function(L){var H=D.merge(this.constructor(),L);return H.prevObject=this,H},each:function(L){return D.each(this,L)},map:function(L){return this.pushStack(D.map(this,function(H,it){return L.call(H,it,H)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(D.grep(this,function(L,H){return(H+1)%2}))},odd:function(){return this.pushStack(D.grep(this,function(L,H){return H%2}))},eq:function(L){var H=this.length,it=+L+(L<0?H:0);return this.pushStack(it>=0&&it<H?[this[it]]:[])},end:function(){return this.prevObject||this.constructor()},push:p,sort:h.sort,splice:h.splice},D.extend=D.fn.extend=function(){var L,H,it,st,mt,St,Nt=arguments[0]||{},ue=1,he=arguments.length,ke=!1;for(typeof Nt=="boolean"&&(ke=Nt,Nt=arguments[ue]||{},ue++),typeof Nt=="object"||E(Nt)||(Nt={}),ue===he&&(Nt=this,ue--);ue<he;ue++)if((L=arguments[ue])!=null)for(H in L)st=L[H],H!=="__proto__"&&Nt!==st&&(ke&&st&&(D.isPlainObject(st)||(mt=Array.isArray(st)))?(it=Nt[H],St=mt&&!Array.isArray(it)?[]:mt||D.isPlainObject(it)?it:{},mt=!1,Nt[H]=D.extend(ke,St,st)):st!==void 0&&(Nt[H]=st));return Nt},D.extend({expando:"jQuery"+(I+Math.random()).replace(/\D/g,""),isReady:!0,error:function(L){throw new Error(L)},noop:function(){},isPlainObject:function(L){var H,it;return!(!L||y.call(L)!=="[object Object]"||(H=u(L))&&(typeof(it=x.call(H,"constructor")&&H.constructor)!="function"||b.call(it)!==w))},isEmptyObject:function(L){var H;for(H in L)return!1;return!0},globalEval:function(L,H,it){R(L,{nonce:H&&H.nonce},it)},each:function(L,H){var it,st=0;if(N(L))for(it=L.length;st<it&&H.call(L[st],st,L[st])!==!1;st++);else for(st in L)if(H.call(L[st],st,L[st])===!1)break;return L},text:function(L){var H,it="",st=0,mt=L.nodeType;if(!mt)for(;H=L[st++];)it+=D.text(H);return mt===1||mt===11?L.textContent:mt===9?L.documentElement.textContent:mt===3||mt===4?L.nodeValue:it},makeArray:function(L,H){var it=H||[];return L!=null&&(N(Object(L))?D.merge(it,typeof L=="string"?[L]:L):p.call(it,L)),it},inArray:function(L,H,it){return H==null?-1:l.call(H,L,it)},isXMLDoc:function(L){var H=L&&L.namespaceURI,it=L&&(L.ownerDocument||L).documentElement;return!B.test(H||it&&it.nodeName||"HTML")},merge:function(L,H){for(var it=+H.length,st=0,mt=L.length;st<it;st++)L[mt++]=H[st];return L.length=mt,L},grep:function(L,H,it){for(var st=[],mt=0,St=L.length,Nt=!it;mt<St;mt++)!H(L[mt],mt)!==Nt&&st.push(L[mt]);return st},map:function(L,H,it){var st,mt,St=0,Nt=[];if(N(L))for(st=L.length;St<st;St++)(mt=H(L[St],St,it))!=null&&Nt.push(mt);else for(St in L)(mt=H(L[St],St,it))!=null&&Nt.push(mt);return d(Nt)},guid:1,support:C}),typeof Symbol=="function"&&(D.fn[Symbol.iterator]=h[Symbol.iterator]),D.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(L,H){m["[object "+H+"]"]=H.toLowerCase()});var G=h.pop,$=h.sort,V=h.splice,Y="[\\x20\\t\\r\\n\\f]",U=new RegExp("^"+Y+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Y+"+$","g");D.contains=function(L,H){var it=H&&H.parentNode;return L===it||!(!it||it.nodeType!==1||!(L.contains?L.contains(it):L.compareDocumentPosition&&16&L.compareDocumentPosition(it)))};var F=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function O(L,H){return H?L==="\0"?"":L.slice(0,-1)+"\\"+L.charCodeAt(L.length-1).toString(16)+" ":"\\"+L}D.escapeSelector=function(L){return(L+"").replace(F,O)};var j=k,z=p;(function(){var L,H,it,st,mt,St,Nt,ue,he,ke,Ye=z,Qe=D.expando,Be=0,qe=0,qi=Ut(),Sr=Ut(),sr=Ut(),Jn=Ut(),Es=function(wt,$t){return wt===$t&&(mt=!0),0},Xt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ge="(?:\\\\[\\da-fA-F]{1,6}"+Y+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",be="\\["+Y+"*("+ge+")(?:"+Y+"*([*^$|!~]?=)"+Y+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ge+"))|)"+Y+"*\\]",Se=":("+ge+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+be+")*)|.*)\\)|)",Le=new RegExp(Y+"+","g"),me=new RegExp("^"+Y+"*,"+Y+"*"),_e=new RegExp("^"+Y+"*([>+~]|"+Y+")"+Y+"*"),hi=new RegExp(Y+"|>"),ai=new RegExp(Se),se=new RegExp("^"+ge+"$"),Ge={ID:new RegExp("^#("+ge+")"),CLASS:new RegExp("^\\.("+ge+")"),TAG:new RegExp("^("+ge+"|[*])"),ATTR:new RegExp("^"+be),PSEUDO:new RegExp("^"+Se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Y+"*(even|odd|(([+-]|)(\\d*)n|)"+Y+"*(?:([+-]|)"+Y+"*(\\d+)|))"+Y+"*\\)|)","i"),bool:new RegExp("^(?:"+Xt+")$","i"),needsContext:new RegExp("^"+Y+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Y+"*((?:-\\d)?\\d*)"+Y+"*\\)|)(?=[^-]|$)","i")},Gt=/^(?:input|select|textarea|button)$/i,Vt=/^h\d$/i,Qt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,ae=new RegExp("\\\\[\\da-fA-F]{1,6}"+Y+"?|\\\\([^\\r\\n\\f])","g"),ne=function(wt,$t){var te="0x"+wt.slice(1)-65536;return $t||(te<0?String.fromCharCode(te+65536):String.fromCharCode(te>>10|55296,1023&te|56320))},Zt=function(){kt()},lt=Yt(function(wt){return wt.disabled===!0&&_(wt,"fieldset")},{dir:"parentNode",next:"legend"});try{Ye.apply(h=o.call(j.childNodes),j.childNodes),h[j.childNodes.length].nodeType}catch(wt){Ye={apply:function($t,te){z.apply($t,o.call(te))},call:function($t){z.apply($t,o.call(arguments,1))}}}function Dt(wt,$t,te,re){var de,Je,ze,Ie,ci,rr,ki,Ni=$t&&$t.ownerDocument,Yi=$t?$t.nodeType:9;if(te=te||[],typeof wt!="string"||!wt||Yi!==1&&Yi!==9&&Yi!==11)return te;if(!re&&(kt($t),$t=$t||St,ue)){if(Yi!==11&&(ci=Qt.exec(wt)))if(de=ci[1]){if(Yi===9){if(!(ze=$t.getElementById(de)))return te;if(ze.id===de)return Ye.call(te,ze),te}else if(Ni&&(ze=Ni.getElementById(de))&&Dt.contains($t,ze)&&ze.id===de)return Ye.call(te,ze),te}else{if(ci[2])return Ye.apply(te,$t.getElementsByTagName(wt)),te;if((de=ci[3])&&$t.getElementsByClassName)return Ye.apply(te,$t.getElementsByClassName(de)),te}if(!(Jn[wt+" "]||he&&he.test(wt))){if(ki=wt,Ni=$t,Yi===1&&(hi.test(wt)||_e.test(wt))){for((Ni=J.test(wt)&&Tt($t.parentNode)||$t)==$t&&C.scope||((Ie=$t.getAttribute("id"))?Ie=D.escapeSelector(Ie):$t.setAttribute("id",Ie=Qe)),Je=(rr=pt(wt)).length;Je--;)rr[Je]=(Ie?"#"+Ie:":scope")+" "+vt(rr[Je]);ki=rr.join(",")}try{return Ye.apply(te,Ni.querySelectorAll(ki)),te}catch(Mi){Jn(wt,!0)}finally{Ie===Qe&&$t.removeAttribute("id")}}}return Me(wt.replace(U,"$1"),$t,te,re)}function Ut(){var wt=[];return function $t(te,re){return wt.push(te+" ")>H.cacheLength&&delete $t[wt.shift()],$t[te+" "]=re}}function zt(wt){return wt[Qe]=!0,wt}function Ht(wt){var $t=St.createElement("fieldset");try{return!!wt($t)}catch(te){return!1}finally{$t.parentNode&&$t.parentNode.removeChild($t),$t=null}}function nt(wt){return function($t){return _($t,"input")&&$t.type===wt}}function Rt(wt){return function($t){return(_($t,"input")||_($t,"button"))&&$t.type===wt}}function bt(wt){return function($t){return"form"in $t?$t.parentNode&&$t.disabled===!1?"label"in $t?"label"in $t.parentNode?$t.parentNode.disabled===wt:$t.disabled===wt:$t.isDisabled===wt||$t.isDisabled!==!wt&&lt($t)===wt:$t.disabled===wt:"label"in $t&&$t.disabled===wt}}function ct(wt){return zt(function($t){return $t=+$t,zt(function(te,re){for(var de,Je=wt([],te.length,$t),ze=Je.length;ze--;)te[de=Je[ze]]&&(te[de]=!(re[de]=te[de]))})})}function Tt(wt){return wt&&wt.getElementsByTagName!==void 0&&wt}function kt(wt){var $t,te=wt?wt.ownerDocument||wt:j;return te!=St&&te.nodeType===9&&te.documentElement&&(Nt=(St=te).documentElement,ue=!D.isXMLDoc(St),ke=Nt.matches||Nt.webkitMatchesSelector||Nt.msMatchesSelector,Nt.msMatchesSelector&&j!=St&&($t=St.defaultView)&&$t.top!==$t&&$t.addEventListener("unload",Zt),C.getById=Ht(function(re){return Nt.appendChild(re).id=D.expando,!St.getElementsByName||!St.getElementsByName(D.expando).length}),C.disconnectedMatch=Ht(function(re){return ke.call(re,"*")}),C.scope=Ht(function(){return St.querySelectorAll(":scope")}),C.cssHas=Ht(function(){try{return St.querySelector(":has(*,:jqfake)"),!1}catch(re){return!0}}),C.getById?(H.filter.ID=function(re){var de=re.replace(ae,ne);return function(Je){return Je.getAttribute("id")===de}},H.find.ID=function(re,de){if(de.getElementById!==void 0&&ue){var Je=de.getElementById(re);return Je?[Je]:[]}}):(H.filter.ID=function(re){var de=re.replace(ae,ne);return function(Je){var ze=Je.getAttributeNode!==void 0&&Je.getAttributeNode("id");return ze&&ze.value===de}},H.find.ID=function(re,de){if(de.getElementById!==void 0&&ue){var Je,ze,Ie,ci=de.getElementById(re);if(ci){if((Je=ci.getAttributeNode("id"))&&Je.value===re)return[ci];for(Ie=de.getElementsByName(re),ze=0;ci=Ie[ze++];)if((Je=ci.getAttributeNode("id"))&&Je.value===re)return[ci]}return[]}}),H.find.TAG=function(re,de){return de.getElementsByTagName!==void 0?de.getElementsByTagName(re):de.querySelectorAll(re)},H.find.CLASS=function(re,de){if(de.getElementsByClassName!==void 0&&ue)return de.getElementsByClassName(re)},he=[],Ht(function(re){var de;Nt.appendChild(re).innerHTML="<a id='"+Qe+"' href='' disabled='disabled'></a><select id='"+Qe+"-\r\\' disabled='disabled'><option selected=''></option></select>",re.querySelectorAll("[selected]").length||he.push("\\["+Y+"*(?:value|"+Xt+")"),re.querySelectorAll("[id~="+Qe+"-]").length||he.push("~="),re.querySelectorAll("a#"+Qe+"+*").length||he.push(".#.+[+~]"),re.querySelectorAll(":checked").length||he.push(":checked"),(de=St.createElement("input")).setAttribute("type","hidden"),re.appendChild(de).setAttribute("name","D"),Nt.appendChild(re).disabled=!0,re.querySelectorAll(":disabled").length!==2&&he.push(":enabled",":disabled"),(de=St.createElement("input")).setAttribute("name",""),re.appendChild(de),re.querySelectorAll("[name='']").length||he.push("\\["+Y+"*name"+Y+"*="+Y+`*(?:''|"")`)}),C.cssHas||he.push(":has"),he=he.length&&new RegExp(he.join("|")),Es=function(re,de){if(re===de)return mt=!0,0;var Je=!re.compareDocumentPosition-!de.compareDocumentPosition;return Je||(1&(Je=(re.ownerDocument||re)==(de.ownerDocument||de)?re.compareDocumentPosition(de):1)||!C.sortDetached&&de.compareDocumentPosition(re)===Je?re===St||re.ownerDocument==j&&Dt.contains(j,re)?-1:de===St||de.ownerDocument==j&&Dt.contains(j,de)?1:st?l.call(st,re)-l.call(st,de):0:4&Je?-1:1)}),St}for(L in Dt.matches=function(wt,$t){return Dt(wt,null,null,$t)},Dt.matchesSelector=function(wt,$t){if(kt(wt),ue&&!Jn[$t+" "]&&(!he||!he.test($t)))try{var te=ke.call(wt,$t);if(te||C.disconnectedMatch||wt.document&&wt.document.nodeType!==11)return te}catch(re){Jn($t,!0)}return Dt($t,St,null,[wt]).length>0},Dt.contains=function(wt,$t){return(wt.ownerDocument||wt)!=St&&kt(wt),D.contains(wt,$t)},Dt.attr=function(wt,$t){(wt.ownerDocument||wt)!=St&&kt(wt);var te=H.attrHandle[$t.toLowerCase()],re=te&&x.call(H.attrHandle,$t.toLowerCase())?te(wt,$t,!ue):void 0;return re!==void 0?re:wt.getAttribute($t)},Dt.error=function(wt){throw new Error("Syntax error, unrecognized expression: "+wt)},D.uniqueSort=function(wt){var $t,te=[],re=0,de=0;if(mt=!C.sortStable,st=!C.sortStable&&o.call(wt,0),$.call(wt,Es),mt){for(;$t=wt[de++];)$t===wt[de]&&(re=te.push(de));for(;re--;)V.call(wt,te[re],1)}return st=null,wt},D.fn.uniqueSort=function(){return this.pushStack(D.uniqueSort(o.apply(this)))},H=D.expr={cacheLength:50,createPseudo:zt,match:Ge,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(wt){return wt[1]=wt[1].replace(ae,ne),wt[3]=(wt[3]||wt[4]||wt[5]||"").replace(ae,ne),wt[2]==="~="&&(wt[3]=" "+wt[3]+" "),wt.slice(0,4)},CHILD:function(wt){return wt[1]=wt[1].toLowerCase(),wt[1].slice(0,3)==="nth"?(wt[3]||Dt.error(wt[0]),wt[4]=+(wt[4]?wt[5]+(wt[6]||1):2*(wt[3]==="even"||wt[3]==="odd")),wt[5]=+(wt[7]+wt[8]||wt[3]==="odd")):wt[3]&&Dt.error(wt[0]),wt},PSEUDO:function(wt){var $t,te=!wt[6]&&wt[2];return Ge.CHILD.test(wt[0])?null:(wt[3]?wt[2]=wt[4]||wt[5]||"":te&&ai.test(te)&&($t=pt(te,!0))&&($t=te.indexOf(")",te.length-$t)-te.length)&&(wt[0]=wt[0].slice(0,$t),wt[2]=te.slice(0,$t)),wt.slice(0,3))}},filter:{TAG:function(wt){var $t=wt.replace(ae,ne).toLowerCase();return wt==="*"?function(){return!0}:function(te){return _(te,$t)}},CLASS:function(wt){var $t=qi[wt+" "];return $t||($t=new RegExp("(^|"+Y+")"+wt+"("+Y+"|$)"))&&qi(wt,function(te){return $t.test(typeof te.className=="string"&&te.className||te.getAttribute!==void 0&&te.getAttribute("class")||"")})},ATTR:function(wt,$t,te){return function(re){var de=Dt.attr(re,wt);return de==null?$t==="!=":!$t||(de+="",$t==="="?de===te:$t==="!="?de!==te:$t==="^="?te&&de.indexOf(te)===0:$t==="*="?te&&de.indexOf(te)>-1:$t==="$="?te&&de.slice(-te.length)===te:$t==="~="?(" "+de.replace(Le," ")+" ").indexOf(te)>-1:$t==="|="&&(de===te||de.slice(0,te.length+1)===te+"-"))}},CHILD:function(wt,$t,te,re,de){var Je=wt.slice(0,3)!=="nth",ze=wt.slice(-4)!=="last",Ie=$t==="of-type";return re===1&&de===0?function(ci){return!!ci.parentNode}:function(ci,rr,ki){var Ni,Yi,Mi,Ar,mn,Qr=Je!==ze?"nextSibling":"previousSibling",an=ci.parentNode,Bn=Ie&&ci.nodeName.toLowerCase(),Bs=!ki&&!Ie,Lr=!1;if(an){if(Je){for(;Qr;){for(Mi=ci;Mi=Mi[Qr];)if(Ie?_(Mi,Bn):Mi.nodeType===1)return!1;mn=Qr=wt==="only"&&!mn&&"nextSibling"}return!0}if(mn=[ze?an.firstChild:an.lastChild],ze&&Bs){for(Lr=(Ar=(Ni=(Yi=an[Qe]||(an[Qe]={}))[wt]||[])[0]===Be&&Ni[1])&&Ni[2],Mi=Ar&&an.childNodes[Ar];Mi=++Ar&&Mi&&Mi[Qr]||(Lr=Ar=0)||mn.pop();)if(Mi.nodeType===1&&++Lr&&Mi===ci){Yi[wt]=[Be,Ar,Lr];break}}else if(Bs&&(Lr=Ar=(Ni=(Yi=ci[Qe]||(ci[Qe]={}))[wt]||[])[0]===Be&&Ni[1]),Lr===!1)for(;(Mi=++Ar&&Mi&&Mi[Qr]||(Lr=Ar=0)||mn.pop())&&(!(Ie?_(Mi,Bn):Mi.nodeType===1)||!++Lr||(Bs&&((Yi=Mi[Qe]||(Mi[Qe]={}))[wt]=[Be,Lr]),Mi!==ci)););return(Lr-=de)===re||Lr%re==0&&Lr/re>=0}}},PSEUDO:function(wt,$t){var te,re=H.pseudos[wt]||H.setFilters[wt.toLowerCase()]||Dt.error("unsupported pseudo: "+wt);return re[Qe]?re($t):re.length>1?(te=[wt,wt,"",$t],H.setFilters.hasOwnProperty(wt.toLowerCase())?zt(function(de,Je){for(var ze,Ie=re(de,$t),ci=Ie.length;ci--;)de[ze=l.call(de,Ie[ci])]=!(Je[ze]=Ie[ci])}):function(de){return re(de,0,te)}):re}},pseudos:{not:zt(function(wt){var $t=[],te=[],re=gt(wt.replace(U,"$1"));return re[Qe]?zt(function(de,Je,ze,Ie){for(var ci,rr=re(de,null,Ie,[]),ki=de.length;ki--;)(ci=rr[ki])&&(de[ki]=!(Je[ki]=ci))}):function(de,Je,ze){return $t[0]=de,re($t,null,ze,te),$t[0]=null,!te.pop()}}),has:zt(function(wt){return function($t){return Dt(wt,$t).length>0}}),contains:zt(function(wt){return wt=wt.replace(ae,ne),function($t){return($t.textContent||D.text($t)).indexOf(wt)>-1}}),lang:zt(function(wt){return se.test(wt||"")||Dt.error("unsupported lang: "+wt),wt=wt.replace(ae,ne).toLowerCase(),function($t){var te;do if(te=ue?$t.lang:$t.getAttribute("xml:lang")||$t.getAttribute("lang"))return(te=te.toLowerCase())===wt||te.indexOf(wt+"-")===0;while(($t=$t.parentNode)&&$t.nodeType===1);return!1}}),target:function(wt){var $t=v.location&&v.location.hash;return $t&&$t.slice(1)===wt.id},root:function(wt){return wt===Nt},focus:function(wt){return wt===function(){try{return St.activeElement}catch($t){}}()&&St.hasFocus()&&!!(wt.type||wt.href||~wt.tabIndex)},enabled:bt(!1),disabled:bt(!0),checked:function(wt){return _(wt,"input")&&!!wt.checked||_(wt,"option")&&!!wt.selected},selected:function(wt){return wt.parentNode&&wt.parentNode.selectedIndex,wt.selected===!0},empty:function(wt){for(wt=wt.firstChild;wt;wt=wt.nextSibling)if(wt.nodeType<6)return!1;return!0},parent:function(wt){return!H.pseudos.empty(wt)},header:function(wt){return Vt.test(wt.nodeName)},input:function(wt){return Gt.test(wt.nodeName)},button:function(wt){return _(wt,"input")&&wt.type==="button"||_(wt,"button")},text:function(wt){var $t;return _(wt,"input")&&wt.type==="text"&&(($t=wt.getAttribute("type"))==null||$t.toLowerCase()==="text")},first:ct(function(){return[0]}),last:ct(function(wt,$t){return[$t-1]}),eq:ct(function(wt,$t,te){return[te<0?te+$t:te]}),even:ct(function(wt,$t){for(var te=0;te<$t;te+=2)wt.push(te);return wt}),odd:ct(function(wt,$t){for(var te=1;te<$t;te+=2)wt.push(te);return wt}),lt:ct(function(wt,$t,te){var re;for(re=te<0?te+$t:te>$t?$t:te;--re>=0;)wt.push(re);return wt}),gt:ct(function(wt,$t,te){for(var re=te<0?te+$t:te;++re<$t;)wt.push(re);return wt})}},H.pseudos.nth=H.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})H.pseudos[L]=nt(L);for(L in{submit:!0,reset:!0})H.pseudos[L]=Rt(L);function ht(){}function pt(wt,$t){var te,re,de,Je,ze,Ie,ci,rr=Sr[wt+" "];if(rr)return $t?0:rr.slice(0);for(ze=wt,Ie=[],ci=H.preFilter;ze;){for(Je in te&&!(re=me.exec(ze))||(re&&(ze=ze.slice(re[0].length)||ze),Ie.push(de=[])),te=!1,(re=_e.exec(ze))&&(te=re.shift(),de.push({value:te,type:re[0].replace(U," ")}),ze=ze.slice(te.length)),H.filter)!(re=Ge[Je].exec(ze))||ci[Je]&&!(re=ci[Je](re))||(te=re.shift(),de.push({value:te,type:Je,matches:re}),ze=ze.slice(te.length));if(!te)break}return $t?ze.length:ze?Dt.error(wt):Sr(wt,Ie).slice(0)}function vt(wt){for(var $t=0,te=wt.length,re="";$t<te;$t++)re+=wt[$t].value;return re}function Yt(wt,$t,te){var re=$t.dir,de=$t.next,Je=de||re,ze=te&&Je==="parentNode",Ie=qe++;return $t.first?function(ci,rr,ki){for(;ci=ci[re];)if(ci.nodeType===1||ze)return wt(ci,rr,ki);return!1}:function(ci,rr,ki){var Ni,Yi,Mi=[Be,Ie];if(ki){for(;ci=ci[re];)if((ci.nodeType===1||ze)&&wt(ci,rr,ki))return!0}else for(;ci=ci[re];)if(ci.nodeType===1||ze)if(Yi=ci[Qe]||(ci[Qe]={}),de&&_(ci,de))ci=ci[re]||ci;else{if((Ni=Yi[Je])&&Ni[0]===Be&&Ni[1]===Ie)return Mi[2]=Ni[2];if(Yi[Je]=Mi,Mi[2]=wt(ci,rr,ki))return!0}return!1}}function Ae(wt){return wt.length>1?function($t,te,re){for(var de=wt.length;de--;)if(!wt[de]($t,te,re))return!1;return!0}:wt[0]}function ee(wt,$t,te,re,de){for(var Je,ze=[],Ie=0,ci=wt.length,rr=$t!=null;Ie<ci;Ie++)(Je=wt[Ie])&&(te&&!te(Je,re,de)||(ze.push(Je),rr&&$t.push(Ie)));return ze}function pe(wt,$t,te,re,de,Je){return re&&!re[Qe]&&(re=pe(re)),de&&!de[Qe]&&(de=pe(de,Je)),zt(function(ze,Ie,ci,rr){var ki,Ni,Yi,Mi,Ar=[],mn=[],Qr=Ie.length,an=ze||function(Bs,Lr,fs){for(var Os=0,Va=Lr.length;Os<Va;Os++)Dt(Bs,Lr[Os],fs);return fs}($t||"*",ci.nodeType?[ci]:ci,[]),Bn=!wt||!ze&&$t?an:ee(an,Ar,wt,ci,rr);if(te?te(Bn,Mi=de||(ze?wt:Qr||re)?[]:Ie,ci,rr):Mi=Bn,re)for(ki=ee(Mi,mn),re(ki,[],ci,rr),Ni=ki.length;Ni--;)(Yi=ki[Ni])&&(Mi[mn[Ni]]=!(Bn[mn[Ni]]=Yi));if(ze){if(de||wt){if(de){for(ki=[],Ni=Mi.length;Ni--;)(Yi=Mi[Ni])&&ki.push(Bn[Ni]=Yi);de(null,Mi=[],ki,rr)}for(Ni=Mi.length;Ni--;)(Yi=Mi[Ni])&&(ki=de?l.call(ze,Yi):Ar[Ni])>-1&&(ze[ki]=!(Ie[ki]=Yi))}}else Mi=ee(Mi===Ie?Mi.splice(Qr,Mi.length):Mi),de?de(null,Ie,Mi,rr):Ye.apply(Ie,Mi)})}function at(wt){for(var $t,te,re,de=wt.length,Je=H.relative[wt[0].type],ze=Je||H.relative[" "],Ie=Je?1:0,ci=Yt(function(Ni){return Ni===$t},ze,!0),rr=Yt(function(Ni){return l.call($t,Ni)>-1},ze,!0),ki=[function(Ni,Yi,Mi){var Ar=!Je&&(Mi||Yi!=it)||(($t=Yi).nodeType?ci(Ni,Yi,Mi):rr(Ni,Yi,Mi));return $t=null,Ar}];Ie<de;Ie++)if(te=H.relative[wt[Ie].type])ki=[Yt(Ae(ki),te)];else{if((te=H.filter[wt[Ie].type].apply(null,wt[Ie].matches))[Qe]){for(re=++Ie;re<de&&!H.relative[wt[re].type];re++);return pe(Ie>1&&Ae(ki),Ie>1&&vt(wt.slice(0,Ie-1).concat({value:wt[Ie-2].type===" "?"*":""})).replace(U,"$1"),te,Ie<re&&at(wt.slice(Ie,re)),re<de&&at(wt=wt.slice(re)),re<de&&vt(wt))}ki.push(te)}return Ae(ki)}function gt(wt,$t){var te,re=[],de=[],Je=sr[wt+" "];if(!Je){for($t||($t=pt(wt)),te=$t.length;te--;)(Je=at($t[te]))[Qe]?re.push(Je):de.push(Je);Je=sr(wt,function(ze,Ie){var ci=Ie.length>0,rr=ze.length>0,ki=function(Ni,Yi,Mi,Ar,mn){var Qr,an,Bn,Bs=0,Lr="0",fs=Ni&&[],Os=[],Va=it,pa=Ni||rr&&H.find.TAG("*",mn),Ou=Be+=Va==null?1:Math.random()||.1,w0=pa.length;for(mn&&(it=Yi==St||Yi||mn);Lr!==w0&&(Qr=pa[Lr])!=null;Lr++){if(rr&&Qr){for(an=0,Yi||Qr.ownerDocument==St||(kt(Qr),Mi=!ue);Bn=ze[an++];)if(Bn(Qr,Yi||St,Mi)){Ye.call(Ar,Qr);break}mn&&(Be=Ou)}ci&&((Qr=!Bn&&Qr)&&Bs--,Ni&&fs.push(Qr))}if(Bs+=Lr,ci&&Lr!==Bs){for(an=0;Bn=Ie[an++];)Bn(fs,Os,Yi,Mi);if(Ni){if(Bs>0)for(;Lr--;)fs[Lr]||Os[Lr]||(Os[Lr]=G.call(Ar));Os=ee(Os)}Ye.apply(Ar,Os),mn&&!Ni&&Os.length>0&&Bs+Ie.length>1&&D.uniqueSort(Ar)}return mn&&(Be=Ou,it=Va),fs};return ci?zt(ki):ki}(de,re)),Je.selector=wt}return Je}function Me(wt,$t,te,re){var de,Je,ze,Ie,ci,rr=typeof wt=="function"&&wt,ki=!re&&pt(wt=rr.selector||wt);if(te=te||[],ki.length===1){if((Je=ki[0]=ki[0].slice(0)).length>2&&(ze=Je[0]).type==="ID"&&$t.nodeType===9&&ue&&H.relative[Je[1].type]){if(!($t=(H.find.ID(ze.matches[0].replace(ae,ne),$t)||[])[0]))return te;rr&&($t=$t.parentNode),wt=wt.slice(Je.shift().value.length)}for(de=Ge.needsContext.test(wt)?0:Je.length;de--&&(ze=Je[de],!H.relative[Ie=ze.type]);)if((ci=H.find[Ie])&&(re=ci(ze.matches[0].replace(ae,ne),J.test(Je[0].type)&&Tt($t.parentNode)||$t))){if(Je.splice(de,1),!(wt=re.length&&vt(Je)))return Ye.apply(te,re),te;break}}return(rr||gt(wt,ki))(re,$t,!ue,te,!$t||J.test(wt)&&Tt($t.parentNode)||$t),te}ht.prototype=H.filters=H.pseudos,H.setFilters=new ht,C.sortStable=Qe.split("").sort(Es).join("")===Qe,kt(),C.sortDetached=Ht(function(wt){return 1&wt.compareDocumentPosition(St.createElement("fieldset"))}),D.find=Dt,D.expr[":"]=D.expr.pseudos,D.unique=D.uniqueSort,Dt.compile=gt,Dt.select=Me,Dt.setDocument=kt,Dt.tokenize=pt,Dt.escape=D.escapeSelector,Dt.getText=D.text,Dt.isXML=D.isXMLDoc,Dt.selectors=D.expr,Dt.support=D.support,Dt.uniqueSort=D.uniqueSort})();var W=function(L,H,it){for(var st=[],mt=it!==void 0;(L=L[H])&&L.nodeType!==9;)if(L.nodeType===1){if(mt&&D(L).is(it))break;st.push(L)}return st},q=function(L,H){for(var it=[];L;L=L.nextSibling)L.nodeType===1&&L!==H&&it.push(L);return it},ot=D.expr.match.needsContext,Q=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function rt(L,H,it){return E(H)?D.grep(L,function(st,mt){return!!H.call(st,mt,st)!==it}):H.nodeType?D.grep(L,function(st){return st===H!==it}):typeof H!="string"?D.grep(L,function(st){return l.call(H,st)>-1!==it}):D.filter(H,L,it)}D.filter=function(L,H,it){var st=H[0];return it&&(L=":not("+L+")"),H.length===1&&st.nodeType===1?D.find.matchesSelector(st,L)?[st]:[]:D.find.matches(L,D.grep(H,function(mt){return mt.nodeType===1}))},D.fn.extend({find:function(L){var H,it,st=this.length,mt=this;if(typeof L!="string")return this.pushStack(D(L).filter(function(){for(H=0;H<st;H++)if(D.contains(mt[H],this))return!0}));for(it=this.pushStack([]),H=0;H<st;H++)D.find(L,mt[H],it);return st>1?D.uniqueSort(it):it},filter:function(L){return this.pushStack(rt(this,L||[],!1))},not:function(L){return this.pushStack(rt(this,L||[],!0))},is:function(L){return!!rt(this,typeof L=="string"&&ot.test(L)?D(L):L||[],!1).length}});var Mt,K=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(D.fn.init=function(L,H,it){var st,mt;if(!L)return this;if(it=it||Mt,typeof L=="string"){if(!(st=L[0]==="<"&&L[L.length-1]===">"&&L.length>=3?[null,L,null]:K.exec(L))||!st[1]&&H)return!H||H.jquery?(H||it).find(L):this.constructor(H).find(L);if(st[1]){if(H=H instanceof D?H[0]:H,D.merge(this,D.parseHTML(st[1],H&&H.nodeType?H.ownerDocument||H:k,!0)),Q.test(st[1])&&D.isPlainObject(H))for(st in H)E(this[st])?this[st](H[st]):this.attr(st,H[st]);return this}return(mt=k.getElementById(st[2]))&&(this[0]=mt,this.length=1),this}return L.nodeType?(this[0]=L,this.length=1,this):E(L)?it.ready!==void 0?it.ready(L):L(D):D.makeArray(L,this)}).prototype=D.fn,Mt=D(k);var It=/^(?:parents|prev(?:Until|All))/,Ft={children:!0,contents:!0,next:!0,prev:!0};function ft(L,H){for(;(L=L[H])&&L.nodeType!==1;);return L}D.fn.extend({has:function(L){var H=D(L,this),it=H.length;return this.filter(function(){for(var st=0;st<it;st++)if(D.contains(this,H[st]))return!0})},closest:function(L,H){var it,st=0,mt=this.length,St=[],Nt=typeof L!="string"&&D(L);if(!ot.test(L)){for(;st<mt;st++)for(it=this[st];it&&it!==H;it=it.parentNode)if(it.nodeType<11&&(Nt?Nt.index(it)>-1:it.nodeType===1&&D.find.matchesSelector(it,L))){St.push(it);break}}return this.pushStack(St.length>1?D.uniqueSort(St):St)},index:function(L){return L?typeof L=="string"?l.call(D(L),this[0]):l.call(this,L.jquery?L[0]:L):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(L,H){return this.pushStack(D.uniqueSort(D.merge(this.get(),D(L,H))))},addBack:function(L){return this.add(L==null?this.prevObject:this.prevObject.filter(L))}}),D.each({parent:function(L){var H=L.parentNode;return H&&H.nodeType!==11?H:null},parents:function(L){return W(L,"parentNode")},parentsUntil:function(L,H,it){return W(L,"parentNode",it)},next:function(L){return ft(L,"nextSibling")},prev:function(L){return ft(L,"previousSibling")},nextAll:function(L){return W(L,"nextSibling")},prevAll:function(L){return W(L,"previousSibling")},nextUntil:function(L,H,it){return W(L,"nextSibling",it)},prevUntil:function(L,H,it){return W(L,"previousSibling",it)},siblings:function(L){return q((L.parentNode||{}).firstChild,L)},children:function(L){return q(L.firstChild)},contents:function(L){return L.contentDocument!=null&&u(L.contentDocument)?L.contentDocument:(_(L,"template")&&(L=L.content||L),D.merge([],L.childNodes))}},function(L,H){D.fn[L]=function(it,st){var mt=D.map(this,H,it);return L.slice(-5)!=="Until"&&(st=it),st&&typeof st=="string"&&(mt=D.filter(st,mt)),this.length>1&&(Ft[L]||D.uniqueSort(mt),It.test(L)&&mt.reverse()),this.pushStack(mt)}});var yt=/[^\x20\t\r\n\f]+/g;function At(L){return L}function Bt(L){throw L}function le(L,H,it,st){var mt;try{L&&E(mt=L.promise)?mt.call(L).done(H).fail(it):L&&E(mt=L.then)?mt.call(L,H,it):H.apply(void 0,[L].slice(st))}catch(St){it.apply(void 0,[St])}}D.Callbacks=function(L){L=typeof L=="string"?function(Ye){var Qe={};return D.each(Ye.match(yt)||[],function(Be,qe){Qe[qe]=!0}),Qe}(L):D.extend({},L);var H,it,st,mt,St=[],Nt=[],ue=-1,he=function(){for(mt=mt||L.once,st=H=!0;Nt.length;ue=-1)for(it=Nt.shift();++ue<St.length;)St[ue].apply(it[0],it[1])===!1&&L.stopOnFalse&&(ue=St.length,it=!1);L.memory||(it=!1),H=!1,mt&&(St=it?[]:"")},ke={add:function(){return St&&(it&&!H&&(ue=St.length-1,Nt.push(it)),function Ye(Qe){D.each(Qe,function(Be,qe){E(qe)?L.unique&&ke.has(qe)||St.push(qe):qe&&qe.length&&M(qe)!=="string"&&Ye(qe)})}(arguments),it&&!H&&he()),this},remove:function(){return D.each(arguments,function(Ye,Qe){for(var Be;(Be=D.inArray(Qe,St,Be))>-1;)St.splice(Be,1),Be<=ue&&ue--}),this},has:function(Ye){return Ye?D.inArray(Ye,St)>-1:St.length>0},empty:function(){return St&&(St=[]),this},disable:function(){return mt=Nt=[],St=it="",this},disabled:function(){return!St},lock:function(){return mt=Nt=[],it||H||(St=it=""),this},locked:function(){return!!mt},fireWith:function(Ye,Qe){return mt||(Qe=[Ye,(Qe=Qe||[]).slice?Qe.slice():Qe],Nt.push(Qe),H||he()),this},fire:function(){return ke.fireWith(this,arguments),this},fired:function(){return!!st}};return ke},D.extend({Deferred:function(L){var H=[["notify","progress",D.Callbacks("memory"),D.Callbacks("memory"),2],["resolve","done",D.Callbacks("once memory"),D.Callbacks("once memory"),0,"resolved"],["reject","fail",D.Callbacks("once memory"),D.Callbacks("once memory"),1,"rejected"]],it="pending",st={state:function(){return it},always:function(){return mt.done(arguments).fail(arguments),this},catch:function(St){return st.then(null,St)},pipe:function(){var St=arguments;return D.Deferred(function(Nt){D.each(H,function(ue,he){var ke=E(St[he[4]])&&St[he[4]];mt[he[1]](function(){var Ye=ke&&ke.apply(this,arguments);Ye&&E(Ye.promise)?Ye.promise().progress(Nt.notify).done(Nt.resolve).fail(Nt.reject):Nt[he[0]+"With"](this,ke?[Ye]:arguments)})}),St=null}).promise()},then:function(St,Nt,ue){var he=0;function ke(Ye,Qe,Be,qe){return function(){var qi=this,Sr=arguments,sr=function(){var Es,Xt;if(!(Ye<he)){if((Es=Be.apply(qi,Sr))===Qe.promise())throw new TypeError("Thenable self-resolution");Xt=Es&&(typeof Es=="object"||typeof Es=="function")&&Es.then,E(Xt)?qe?Xt.call(Es,ke(he,Qe,At,qe),ke(he,Qe,Bt,qe)):(he++,Xt.call(Es,ke(he,Qe,At,qe),ke(he,Qe,Bt,qe),ke(he,Qe,At,Qe.notifyWith))):(Be!==At&&(qi=void 0,Sr=[Es]),(qe||Qe.resolveWith)(qi,Sr))}},Jn=qe?sr:function(){try{sr()}catch(Es){D.Deferred.exceptionHook&&D.Deferred.exceptionHook(Es,Jn.error),Ye+1>=he&&(Be!==Bt&&(qi=void 0,Sr=[Es]),Qe.rejectWith(qi,Sr))}};Ye?Jn():(D.Deferred.getErrorHook?Jn.error=D.Deferred.getErrorHook():D.Deferred.getStackHook&&(Jn.error=D.Deferred.getStackHook()),v.setTimeout(Jn))}}return D.Deferred(function(Ye){H[0][3].add(ke(0,Ye,E(ue)?ue:At,Ye.notifyWith)),H[1][3].add(ke(0,Ye,E(St)?St:At)),H[2][3].add(ke(0,Ye,E(Nt)?Nt:Bt))}).promise()},promise:function(St){return St!=null?D.extend(St,st):st}},mt={};return D.each(H,function(St,Nt){var ue=Nt[2],he=Nt[5];st[Nt[1]]=ue.add,he&&ue.add(function(){it=he},H[3-St][2].disable,H[3-St][3].disable,H[0][2].lock,H[0][3].lock),ue.add(Nt[3].fire),mt[Nt[0]]=function(){return mt[Nt[0]+"With"](this===mt?void 0:this,arguments),this},mt[Nt[0]+"With"]=ue.fireWith}),st.promise(mt),L&&L.call(mt,mt),mt},when:function(L){var H=arguments.length,it=H,st=Array(it),mt=o.call(arguments),St=D.Deferred(),Nt=function(ue){return function(he){st[ue]=this,mt[ue]=arguments.length>1?o.call(arguments):he,--H||St.resolveWith(st,mt)}};if(H<=1&&(le(L,St.done(Nt(it)).resolve,St.reject,!H),St.state()==="pending"||E(mt[it]&&mt[it].then)))return St.then();for(;it--;)le(mt[it],Nt(it),St.reject);return St.promise()}});var _t=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;D.Deferred.exceptionHook=function(L,H){v.console&&v.console.warn&&L&&_t.test(L.name)&&v.console.warn("jQuery.Deferred exception: "+L.message,L.stack,H)},D.readyException=function(L){v.setTimeout(function(){throw L})};var xe=D.Deferred();function Ee(){k.removeEventListener("DOMContentLoaded",Ee),v.removeEventListener("load",Ee),D.ready()}D.fn.ready=function(L){return xe.then(L).catch(function(H){D.readyException(H)}),this},D.extend({isReady:!1,readyWait:1,ready:function(L){(L===!0?--D.readyWait:D.isReady)||(D.isReady=!0,L!==!0&&--D.readyWait>0||xe.resolveWith(k,[D]))}}),D.ready.then=xe.then,k.readyState==="complete"||k.readyState!=="loading"&&!k.documentElement.doScroll?v.setTimeout(D.ready):(k.addEventListener("DOMContentLoaded",Ee),v.addEventListener("load",Ee));var ve=function(L,H,it,st,mt,St,Nt){var ue=0,he=L.length,ke=it==null;if(M(it)==="object")for(ue in mt=!0,it)ve(L,H,ue,it[ue],!0,St,Nt);else if(st!==void 0&&(mt=!0,E(st)||(Nt=!0),ke&&(Nt?(H.call(L,st),H=null):(ke=H,H=function(Ye,Qe,Be){return ke.call(D(Ye),Be)})),H))for(;ue<he;ue++)H(L[ue],it,Nt?st:st.call(L[ue],ue,H(L[ue],it)));return mt?L:ke?H.call(L):he?H(L[0],it):St},Fe=/^-ms-/,Ze=/-([a-z])/g;function ei(L,H){return H.toUpperCase()}function Ci(L){return L.replace(Fe,"ms-").replace(Ze,ei)}var xt=function(L){return L.nodeType===1||L.nodeType===9||!+L.nodeType};function et(){this.expando=D.expando+et.uid++}et.uid=1,et.prototype={cache:function(L){var H=L[this.expando];return H||(H={},xt(L)&&(L.nodeType?L[this.expando]=H:Object.defineProperty(L,this.expando,{value:H,configurable:!0}))),H},set:function(L,H,it){var st,mt=this.cache(L);if(typeof H=="string")mt[Ci(H)]=it;else for(st in H)mt[Ci(st)]=H[st];return mt},get:function(L,H){return H===void 0?this.cache(L):L[this.expando]&&L[this.expando][Ci(H)]},access:function(L,H,it){return H===void 0||H&&typeof H=="string"&&it===void 0?this.get(L,H):(this.set(L,H,it),it!==void 0?it:H)},remove:function(L,H){var it,st=L[this.expando];if(st!==void 0){if(H!==void 0)for(it=(H=Array.isArray(H)?H.map(Ci):(H=Ci(H))in st?[H]:H.match(yt)||[]).length;it--;)delete st[H[it]];(H===void 0||D.isEmptyObject(st))&&(L.nodeType?L[this.expando]=void 0:delete L[this.expando])}},hasData:function(L){var H=L[this.expando];return H!==void 0&&!D.isEmptyObject(H)}};var tt=new et,Ot=new et,ie=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ce=/[A-Z]/g;function Ne(L,H,it){var st;if(it===void 0&&L.nodeType===1)if(st="data-"+H.replace(Ce,"-$&").toLowerCase(),typeof(it=L.getAttribute(st))=="string"){try{it=function(mt){return mt==="true"||mt!=="false"&&(mt==="null"?null:mt===+mt+""?+mt:ie.test(mt)?JSON.parse(mt):mt)}(it)}catch(mt){}Ot.set(L,H,it)}else it=void 0;return it}D.extend({hasData:function(L){return Ot.hasData(L)||tt.hasData(L)},data:function(L,H,it){return Ot.access(L,H,it)},removeData:function(L,H){Ot.remove(L,H)},_data:function(L,H,it){return tt.access(L,H,it)},_removeData:function(L,H){tt.remove(L,H)}}),D.fn.extend({data:function(L,H){var it,st,mt,St=this[0],Nt=St&&St.attributes;if(L===void 0){if(this.length&&(mt=Ot.get(St),St.nodeType===1&&!tt.get(St,"hasDataAttrs"))){for(it=Nt.length;it--;)Nt[it]&&(st=Nt[it].name).indexOf("data-")===0&&(st=Ci(st.slice(5)),Ne(St,st,mt[st]));tt.set(St,"hasDataAttrs",!0)}return mt}return typeof L=="object"?this.each(function(){Ot.set(this,L)}):ve(this,function(ue){var he;if(St&&ue===void 0)return(he=Ot.get(St,L))!==void 0||(he=Ne(St,L))!==void 0?he:void 0;this.each(function(){Ot.set(this,L,ue)})},null,H,arguments.length>1,null,!0)},removeData:function(L){return this.each(function(){Ot.remove(this,L)})}}),D.extend({queue:function(L,H,it){var st;if(L)return H=(H||"fx")+"queue",st=tt.get(L,H),it&&(!st||Array.isArray(it)?st=tt.access(L,H,D.makeArray(it)):st.push(it)),st||[]},dequeue:function(L,H){H=H||"fx";var it=D.queue(L,H),st=it.length,mt=it.shift(),St=D._queueHooks(L,H);mt==="inprogress"&&(mt=it.shift(),st--),mt&&(H==="fx"&&it.unshift("inprogress"),delete St.stop,mt.call(L,function(){D.dequeue(L,H)},St)),!st&&St&&St.empty.fire()},_queueHooks:function(L,H){var it=H+"queueHooks";return tt.get(L,it)||tt.access(L,it,{empty:D.Callbacks("once memory").add(function(){tt.remove(L,[H+"queue",it])})})}}),D.fn.extend({queue:function(L,H){var it=2;return typeof L!="string"&&(H=L,L="fx",it--),arguments.length<it?D.queue(this[0],L):H===void 0?this:this.each(function(){var st=D.queue(this,L,H);D._queueHooks(this,L),L==="fx"&&st[0]!=="inprogress"&&D.dequeue(this,L)})},dequeue:function(L){return this.each(function(){D.dequeue(this,L)})},clearQueue:function(L){return this.queue(L||"fx",[])},promise:function(L,H){var it,st=1,mt=D.Deferred(),St=this,Nt=this.length,ue=function(){--st||mt.resolveWith(St,[St])};for(typeof L!="string"&&(H=L,L=void 0),L=L||"fx";Nt--;)(it=tt.get(St[Nt],L+"queueHooks"))&&it.empty&&(st++,it.empty.add(ue));return ue(),mt.promise(H)}});var Ui=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,br=new RegExp("^(?:([+-])=|)("+Ui+")([a-z%]*)$","i"),ar=["Top","Right","Bottom","Left"],vr=k.documentElement,Tr=function(L){return D.contains(L.ownerDocument,L)},Bo={composed:!0};vr.getRootNode&&(Tr=function(L){return D.contains(L.ownerDocument,L)||L.getRootNode(Bo)===L.ownerDocument});var za=function(L,H){return(L=H||L).style.display==="none"||L.style.display===""&&Tr(L)&&D.css(L,"display")==="none"};function ca(L,H,it,st){var mt,St,Nt=20,ue=st?function(){return st.cur()}:function(){return D.css(L,H,"")},he=ue(),ke=it&&it[3]||(D.cssNumber[H]?"":"px"),Ye=L.nodeType&&(D.cssNumber[H]||ke!=="px"&&+he)&&br.exec(D.css(L,H));if(Ye&&Ye[3]!==ke){for(he/=2,ke=ke||Ye[3],Ye=+he||1;Nt--;)D.style(L,H,Ye+ke),(1-St)*(1-(St=ue()/he||.5))<=0&&(Nt=0),Ye/=St;Ye*=2,D.style(L,H,Ye+ke),it=it||[]}return it&&(Ye=+Ye||+he||0,mt=it[1]?Ye+(it[1]+1)*it[2]:+it[2],st&&(st.unit=ke,st.start=Ye,st.end=mt)),mt}var Yl={};function Us(L){var H,it=L.ownerDocument,st=L.nodeName,mt=Yl[st];return mt||(H=it.body.appendChild(it.createElement(st)),mt=D.css(H,"display"),H.parentNode.removeChild(H),mt==="none"&&(mt="block"),Yl[st]=mt,mt)}function fa(L,H){for(var it,st,mt=[],St=0,Nt=L.length;St<Nt;St++)(st=L[St]).style&&(it=st.style.display,H?(it==="none"&&(mt[St]=tt.get(st,"display")||null,mt[St]||(st.style.display="")),st.style.display===""&&za(st)&&(mt[St]=Us(st))):it!=="none"&&(mt[St]="none",tt.set(st,"display",it)));for(St=0;St<Nt;St++)mt[St]!=null&&(L[St].style.display=mt[St]);return L}D.fn.extend({show:function(){return fa(this,!0)},hide:function(){return fa(this)},toggle:function(L){return typeof L=="boolean"?L?this.show():this.hide():this.each(function(){za(this)?D(this).show():D(this).hide()})}});var hs,ol,$r=/^(?:checkbox|radio)$/i,Dr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ga=/^$|^module$|\/(?:java|ecma)script/i;hs=k.createDocumentFragment().appendChild(k.createElement("div")),(ol=k.createElement("input")).setAttribute("type","radio"),ol.setAttribute("checked","checked"),ol.setAttribute("name","t"),hs.appendChild(ol),C.checkClone=hs.cloneNode(!0).cloneNode(!0).lastChild.checked,hs.innerHTML="<textarea>x</textarea>",C.noCloneChecked=!!hs.cloneNode(!0).lastChild.defaultValue,hs.innerHTML="<option></option>",C.option=!!hs.lastChild;var zn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function zs(L,H){var it;return it=L.getElementsByTagName!==void 0?L.getElementsByTagName(H||"*"):L.querySelectorAll!==void 0?L.querySelectorAll(H||"*"):[],H===void 0||H&&_(L,H)?D.merge([L],it):it}function cs(L,H){for(var it=0,st=L.length;it<st;it++)tt.set(L[it],"globalEval",!H||tt.get(H[it],"globalEval"))}zn.tbody=zn.tfoot=zn.colgroup=zn.caption=zn.thead,zn.th=zn.td,C.option||(zn.optgroup=zn.option=[1,"<select multiple='multiple'>","</select>"]);var Ac=/<|&#?\w+;/;function Xr(L,H,it,st,mt){for(var St,Nt,ue,he,ke,Ye,Qe=H.createDocumentFragment(),Be=[],qe=0,qi=L.length;qe<qi;qe++)if((St=L[qe])||St===0)if(M(St)==="object")D.merge(Be,St.nodeType?[St]:St);else if(Ac.test(St)){for(Nt=Nt||Qe.appendChild(H.createElement("div")),ue=(Dr.exec(St)||["",""])[1].toLowerCase(),he=zn[ue]||zn._default,Nt.innerHTML=he[1]+D.htmlPrefilter(St)+he[2],Ye=he[0];Ye--;)Nt=Nt.lastChild;D.merge(Be,Nt.childNodes),(Nt=Qe.firstChild).textContent=""}else Be.push(H.createTextNode(St));for(Qe.textContent="",qe=0;St=Be[qe++];)if(st&&D.inArray(St,st)>-1)mt&&mt.push(St);else if(ke=Tr(St),Nt=zs(Qe.appendChild(St),"script"),ke&&cs(Nt),it)for(Ye=0;St=Nt[Ye++];)Ga.test(St.type||"")&&it.push(St);return Qe}var In=/^([^.]*)(?:\.(.+)|)/;function Gs(){return!0}function Aa(){return!1}function wh(L,H,it,st,mt,St){var Nt,ue;if(typeof H=="object"){for(ue in typeof it!="string"&&(st=st||it,it=void 0),H)wh(L,ue,it,st,H[ue],St);return L}if(st==null&&mt==null?(mt=it,st=it=void 0):mt==null&&(typeof it=="string"?(mt=st,st=void 0):(mt=st,st=it,it=void 0)),mt===!1)mt=Aa;else if(!mt)return L;return St===1&&(Nt=mt,mt=function(he){return D().off(he),Nt.apply(this,arguments)},mt.guid=Nt.guid||(Nt.guid=D.guid++)),L.each(function(){D.event.add(this,H,mt,st,it)})}function Mu(L,H,it){it?(tt.set(L,H,!1),D.event.add(L,H,{namespace:!1,handler:function(st){var mt,St=tt.get(this,H);if(1&st.isTrigger&&this[H]){if(St)(D.event.special[H]||{}).delegateType&&st.stopPropagation();else if(St=o.call(arguments),tt.set(this,H,St),this[H](),mt=tt.get(this,H),tt.set(this,H,!1),St!==mt)return st.stopImmediatePropagation(),st.preventDefault(),mt}else St&&(tt.set(this,H,D.event.trigger(St[0],St.slice(1),this)),st.stopPropagation(),st.isImmediatePropagationStopped=Gs)}})):tt.get(L,H)===void 0&&D.event.add(L,H,Gs)}D.event={global:{},add:function(L,H,it,st,mt){var St,Nt,ue,he,ke,Ye,Qe,Be,qe,qi,Sr,sr=tt.get(L);if(xt(L))for(it.handler&&(it=(St=it).handler,mt=St.selector),mt&&D.find.matchesSelector(vr,mt),it.guid||(it.guid=D.guid++),(he=sr.events)||(he=sr.events=Object.create(null)),(Nt=sr.handle)||(Nt=sr.handle=function(Jn){return D!==void 0&&D.event.triggered!==Jn.type?D.event.dispatch.apply(L,arguments):void 0}),ke=(H=(H||"").match(yt)||[""]).length;ke--;)qe=Sr=(ue=In.exec(H[ke])||[])[1],qi=(ue[2]||"").split(".").sort(),qe&&(Qe=D.event.special[qe]||{},qe=(mt?Qe.delegateType:Qe.bindType)||qe,Qe=D.event.special[qe]||{},Ye=D.extend({type:qe,origType:Sr,data:st,handler:it,guid:it.guid,selector:mt,needsContext:mt&&D.expr.match.needsContext.test(mt),namespace:qi.join(".")},St),(Be=he[qe])||((Be=he[qe]=[]).delegateCount=0,Qe.setup&&Qe.setup.call(L,st,qi,Nt)!==!1||L.addEventListener&&L.addEventListener(qe,Nt)),Qe.add&&(Qe.add.call(L,Ye),Ye.handler.guid||(Ye.handler.guid=it.guid)),mt?Be.splice(Be.delegateCount++,0,Ye):Be.push(Ye),D.event.global[qe]=!0)},remove:function(L,H,it,st,mt){var St,Nt,ue,he,ke,Ye,Qe,Be,qe,qi,Sr,sr=tt.hasData(L)&&tt.get(L);if(sr&&(he=sr.events)){for(ke=(H=(H||"").match(yt)||[""]).length;ke--;)if(qe=Sr=(ue=In.exec(H[ke])||[])[1],qi=(ue[2]||"").split(".").sort(),qe){for(Qe=D.event.special[qe]||{},Be=he[qe=(st?Qe.delegateType:Qe.bindType)||qe]||[],ue=ue[2]&&new RegExp("(^|\\.)"+qi.join("\\.(?:.*\\.|)")+"(\\.|$)"),Nt=St=Be.length;St--;)Ye=Be[St],!mt&&Sr!==Ye.origType||it&&it.guid!==Ye.guid||ue&&!ue.test(Ye.namespace)||st&&st!==Ye.selector&&(st!=="**"||!Ye.selector)||(Be.splice(St,1),Ye.selector&&Be.delegateCount--,Qe.remove&&Qe.remove.call(L,Ye));Nt&&!Be.length&&(Qe.teardown&&Qe.teardown.call(L,qi,sr.handle)!==!1||D.removeEvent(L,qe,sr.handle),delete he[qe])}else for(qe in he)D.event.remove(L,qe+H[ke],it,st,!0);D.isEmptyObject(he)&&tt.remove(L,"handle events")}},dispatch:function(L){var H,it,st,mt,St,Nt,ue=new Array(arguments.length),he=D.event.fix(L),ke=(tt.get(this,"events")||Object.create(null))[he.type]||[],Ye=D.event.special[he.type]||{};for(ue[0]=he,H=1;H<arguments.length;H++)ue[H]=arguments[H];if(he.delegateTarget=this,!Ye.preDispatch||Ye.preDispatch.call(this,he)!==!1){for(Nt=D.event.handlers.call(this,he,ke),H=0;(mt=Nt[H++])&&!he.isPropagationStopped();)for(he.currentTarget=mt.elem,it=0;(St=mt.handlers[it++])&&!he.isImmediatePropagationStopped();)he.rnamespace&&St.namespace!==!1&&!he.rnamespace.test(St.namespace)||(he.handleObj=St,he.data=St.data,(st=((D.event.special[St.origType]||{}).handle||St.handler).apply(mt.elem,ue))!==void 0&&(he.result=st)===!1&&(he.preventDefault(),he.stopPropagation()));return Ye.postDispatch&&Ye.postDispatch.call(this,he),he.result}},handlers:function(L,H){var it,st,mt,St,Nt,ue=[],he=H.delegateCount,ke=L.target;if(he&&ke.nodeType&&!(L.type==="click"&&L.button>=1)){for(;ke!==this;ke=ke.parentNode||this)if(ke.nodeType===1&&(L.type!=="click"||ke.disabled!==!0)){for(St=[],Nt={},it=0;it<he;it++)Nt[mt=(st=H[it]).selector+" "]===void 0&&(Nt[mt]=st.needsContext?D(mt,this).index(ke)>-1:D.find(mt,this,null,[ke]).length),Nt[mt]&&St.push(st);St.length&&ue.push({elem:ke,handlers:St})}}return ke=this,he<H.length&&ue.push({elem:ke,handlers:H.slice(he)}),ue},addProp:function(L,H){Object.defineProperty(D.Event.prototype,L,{enumerable:!0,configurable:!0,get:E(H)?function(){if(this.originalEvent)return H(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[L]},set:function(it){Object.defineProperty(this,L,{enumerable:!0,configurable:!0,writable:!0,value:it})}})},fix:function(L){return L[D.expando]?L:new D.Event(L)},special:{load:{noBubble:!0},click:{setup:function(L){var H=this||L;return $r.test(H.type)&&H.click&&_(H,"input")&&Mu(H,"click",!0),!1},trigger:function(L){var H=this||L;return $r.test(H.type)&&H.click&&_(H,"input")&&Mu(H,"click"),!0},_default:function(L){var H=L.target;return $r.test(H.type)&&H.click&&_(H,"input")&&tt.get(H,"click")||_(H,"a")}},beforeunload:{postDispatch:function(L){L.result!==void 0&&L.originalEvent&&(L.originalEvent.returnValue=L.result)}}}},D.removeEvent=function(L,H,it){L.removeEventListener&&L.removeEventListener(H,it)},D.Event=function(L,H){if(!(this instanceof D.Event))return new D.Event(L,H);L&&L.type?(this.originalEvent=L,this.type=L.type,this.isDefaultPrevented=L.defaultPrevented||L.defaultPrevented===void 0&&L.returnValue===!1?Gs:Aa,this.target=L.target&&L.target.nodeType===3?L.target.parentNode:L.target,this.currentTarget=L.currentTarget,this.relatedTarget=L.relatedTarget):this.type=L,H&&D.extend(this,H),this.timeStamp=L&&L.timeStamp||Date.now(),this[D.expando]=!0},D.Event.prototype={constructor:D.Event,isDefaultPrevented:Aa,isPropagationStopped:Aa,isImmediatePropagationStopped:Aa,isSimulated:!1,preventDefault:function(){var L=this.originalEvent;this.isDefaultPrevented=Gs,L&&!this.isSimulated&&L.preventDefault()},stopPropagation:function(){var L=this.originalEvent;this.isPropagationStopped=Gs,L&&!this.isSimulated&&L.stopPropagation()},stopImmediatePropagation:function(){var L=this.originalEvent;this.isImmediatePropagationStopped=Gs,L&&!this.isSimulated&&L.stopImmediatePropagation(),this.stopPropagation()}},D.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},D.event.addProp),D.each({focus:"focusin",blur:"focusout"},function(L,H){function it(st){if(k.documentMode){var mt=tt.get(this,"handle"),St=D.event.fix(st);St.type=st.type==="focusin"?"focus":"blur",St.isSimulated=!0,mt(st),St.target===St.currentTarget&&mt(St)}else D.event.simulate(H,st.target,D.event.fix(st))}D.event.special[L]={setup:function(){var st;if(Mu(this,L,!0),!k.documentMode)return!1;(st=tt.get(this,H))||this.addEventListener(H,it),tt.set(this,H,(st||0)+1)},trigger:function(){return Mu(this,L),!0},teardown:function(){var st;if(!k.documentMode)return!1;(st=tt.get(this,H)-1)?tt.set(this,H,st):(this.removeEventListener(H,it),tt.remove(this,H))},_default:function(st){return tt.get(st.target,L)},delegateType:H},D.event.special[H]={setup:function(){var st=this.ownerDocument||this.document||this,mt=k.documentMode?this:st,St=tt.get(mt,H);St||(k.documentMode?this.addEventListener(H,it):st.addEventListener(L,it,!0)),tt.set(mt,H,(St||0)+1)},teardown:function(){var st=this.ownerDocument||this.document||this,mt=k.documentMode?this:st,St=tt.get(mt,H)-1;St?tt.set(mt,H,St):(k.documentMode?this.removeEventListener(H,it):st.removeEventListener(L,it,!0),tt.remove(mt,H))}}}),D.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(L,H){D.event.special[L]={delegateType:H,bindType:H,handle:function(it){var st,mt=it.relatedTarget,St=it.handleObj;return mt&&(mt===this||D.contains(this,mt))||(it.type=St.origType,st=St.handler.apply(this,arguments),it.type=H),st}}}),D.fn.extend({on:function(L,H,it,st){return wh(this,L,H,it,st)},one:function(L,H,it,st){return wh(this,L,H,it,st,1)},off:function(L,H,it){var st,mt;if(L&&L.preventDefault&&L.handleObj)return st=L.handleObj,D(L.delegateTarget).off(st.namespace?st.origType+"."+st.namespace:st.origType,st.selector,st.handler),this;if(typeof L=="object"){for(mt in L)this.off(mt,H,L[mt]);return this}return H!==!1&&typeof H!="function"||(it=H,H=void 0),it===!1&&(it=Aa),this.each(function(){D.event.remove(this,L,it,H)})}});var Mf=/<script|<style|<link/i,Th=/checked\s*(?:[^=]|=\s*.checked.)/i,Pc=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function dt(L,H){return _(L,"table")&&_(H.nodeType!==11?H:H.firstChild,"tr")&&D(L).children("tbody")[0]||L}function Et(L){return L.type=(L.getAttribute("type")!==null)+"/"+L.type,L}function X(L){return(L.type||"").slice(0,5)==="true/"?L.type=L.type.slice(5):L.removeAttribute("type"),L}function Z(L,H){var it,st,mt,St,Nt,ue;if(H.nodeType===1){if(tt.hasData(L)&&(ue=tt.get(L).events))for(mt in tt.remove(H,"handle events"),ue)for(it=0,st=ue[mt].length;it<st;it++)D.event.add(H,mt,ue[mt][it]);Ot.hasData(L)&&(St=Ot.access(L),Nt=D.extend({},St),Ot.set(H,Nt))}}function ut(L,H){var it=H.nodeName.toLowerCase();it==="input"&&$r.test(L.type)?H.checked=L.checked:it!=="input"&&it!=="textarea"||(H.defaultValue=L.defaultValue)}function Pt(L,H,it,st){H=d(H);var mt,St,Nt,ue,he,ke,Ye=0,Qe=L.length,Be=Qe-1,qe=H[0],qi=E(qe);if(qi||Qe>1&&typeof qe=="string"&&!C.checkClone&&Th.test(qe))return L.each(function(Sr){var sr=L.eq(Sr);qi&&(H[0]=qe.call(this,Sr,sr.html())),Pt(sr,H,it,st)});if(Qe&&(St=(mt=Xr(H,L[0].ownerDocument,!1,L,st)).firstChild,mt.childNodes.length===1&&(mt=St),St||st)){for(ue=(Nt=D.map(zs(mt,"script"),Et)).length;Ye<Qe;Ye++)he=mt,Ye!==Be&&(he=D.clone(he,!0,!0),ue&&D.merge(Nt,zs(he,"script"))),it.call(L[Ye],he,Ye);if(ue)for(ke=Nt[Nt.length-1].ownerDocument,D.map(Nt,X),Ye=0;Ye<ue;Ye++)he=Nt[Ye],Ga.test(he.type||"")&&!tt.access(he,"globalEval")&&D.contains(ke,he)&&(he.src&&(he.type||"").toLowerCase()!=="module"?D._evalUrl&&!he.noModule&&D._evalUrl(he.src,{nonce:he.nonce||he.getAttribute("nonce")},ke):R(he.textContent.replace(Pc,""),he,ke))}return L}function Jt(L,H,it){for(var st,mt=H?D.filter(H,L):L,St=0;(st=mt[St])!=null;St++)it||st.nodeType!==1||D.cleanData(zs(st)),st.parentNode&&(it&&Tr(st)&&cs(zs(st,"script")),st.parentNode.removeChild(st));return L}D.extend({htmlPrefilter:function(L){return L},clone:function(L,H,it){var st,mt,St,Nt,ue=L.cloneNode(!0),he=Tr(L);if(!(C.noCloneChecked||L.nodeType!==1&&L.nodeType!==11||D.isXMLDoc(L)))for(Nt=zs(ue),st=0,mt=(St=zs(L)).length;st<mt;st++)ut(St[st],Nt[st]);if(H)if(it)for(St=St||zs(L),Nt=Nt||zs(ue),st=0,mt=St.length;st<mt;st++)Z(St[st],Nt[st]);else Z(L,ue);return(Nt=zs(ue,"script")).length>0&&cs(Nt,!he&&zs(L,"script")),ue},cleanData:function(L){for(var H,it,st,mt=D.event.special,St=0;(it=L[St])!==void 0;St++)if(xt(it)){if(H=it[tt.expando]){if(H.events)for(st in H.events)mt[st]?D.event.remove(it,st):D.removeEvent(it,st,H.handle);it[tt.expando]=void 0}it[Ot.expando]&&(it[Ot.expando]=void 0)}}}),D.fn.extend({detach:function(L){return Jt(this,L,!0)},remove:function(L){return Jt(this,L)},text:function(L){return ve(this,function(H){return H===void 0?D.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=H)})},null,L,arguments.length)},append:function(){return Pt(this,arguments,function(L){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||dt(this,L).appendChild(L)})},prepend:function(){return Pt(this,arguments,function(L){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var H=dt(this,L);H.insertBefore(L,H.firstChild)}})},before:function(){return Pt(this,arguments,function(L){this.parentNode&&this.parentNode.insertBefore(L,this)})},after:function(){return Pt(this,arguments,function(L){this.parentNode&&this.parentNode.insertBefore(L,this.nextSibling)})},empty:function(){for(var L,H=0;(L=this[H])!=null;H++)L.nodeType===1&&(D.cleanData(zs(L,!1)),L.textContent="");return this},clone:function(L,H){return L=L!=null&&L,H=H==null?L:H,this.map(function(){return D.clone(this,L,H)})},html:function(L){return ve(this,function(H){var it=this[0]||{},st=0,mt=this.length;if(H===void 0&&it.nodeType===1)return it.innerHTML;if(typeof H=="string"&&!Mf.test(H)&&!zn[(Dr.exec(H)||["",""])[1].toLowerCase()]){H=D.htmlPrefilter(H);try{for(;st<mt;st++)(it=this[st]||{}).nodeType===1&&(D.cleanData(zs(it,!1)),it.innerHTML=H);it=0}catch(St){}}it&&this.empty().append(H)},null,L,arguments.length)},replaceWith:function(){var L=[];return Pt(this,arguments,function(H){var it=this.parentNode;D.inArray(this,L)<0&&(D.cleanData(zs(this)),it&&it.replaceChild(H,this))},L)}}),D.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(L,H){D.fn[L]=function(it){for(var st,mt=[],St=D(it),Nt=St.length-1,ue=0;ue<=Nt;ue++)st=ue===Nt?this:this.clone(!0),D(St[ue])[H](st),p.apply(mt,st.get());return this.pushStack(mt)}});var ce=new RegExp("^("+Ui+")(?!px)[a-z%]+$","i"),fe=/^--/,$e=function(L){var H=L.ownerDocument.defaultView;return H&&H.opener||(H=v),H.getComputedStyle(L)},pi=function(L,H,it){var st,mt,St={};for(mt in H)St[mt]=L.style[mt],L.style[mt]=H[mt];for(mt in st=it.call(L),H)L.style[mt]=St[mt];return st},_i=new RegExp(ar.join("|"),"i");function Wi(L,H,it){var st,mt,St,Nt,ue=fe.test(H),he=L.style;return(it=it||$e(L))&&(Nt=it.getPropertyValue(H)||it[H],ue&&Nt&&(Nt=Nt.replace(U,"$1")||void 0),Nt!==""||Tr(L)||(Nt=D.style(L,H)),!C.pixelBoxStyles()&&ce.test(Nt)&&_i.test(H)&&(st=he.width,mt=he.minWidth,St=he.maxWidth,he.minWidth=he.maxWidth=he.width=Nt,Nt=it.width,he.width=st,he.minWidth=mt,he.maxWidth=St)),Nt!==void 0?Nt+"":Nt}function hr(L,H){return{get:function(){if(!L())return(this.get=H).apply(this,arguments);delete this.get}}}(function(){function L(){if(ke){he.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ke.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",vr.appendChild(he).appendChild(ke);var Ye=v.getComputedStyle(ke);it=Ye.top!=="1%",ue=H(Ye.marginLeft)===12,ke.style.right="60%",St=H(Ye.right)===36,st=H(Ye.width)===36,ke.style.position="absolute",mt=H(ke.offsetWidth/3)===12,vr.removeChild(he),ke=null}}function H(Ye){return Math.round(parseFloat(Ye))}var it,st,mt,St,Nt,ue,he=k.createElement("div"),ke=k.createElement("div");ke.style&&(ke.style.backgroundClip="content-box",ke.cloneNode(!0).style.backgroundClip="",C.clearCloneStyle=ke.style.backgroundClip==="content-box",D.extend(C,{boxSizingReliable:function(){return L(),st},pixelBoxStyles:function(){return L(),St},pixelPosition:function(){return L(),it},reliableMarginLeft:function(){return L(),ue},scrollboxSize:function(){return L(),mt},reliableTrDimensions:function(){var Ye,Qe,Be,qe;return Nt==null&&(Ye=k.createElement("table"),Qe=k.createElement("tr"),Be=k.createElement("div"),Ye.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Qe.style.cssText="box-sizing:content-box;border:1px solid",Qe.style.height="1px",Be.style.height="9px",Be.style.display="block",vr.appendChild(Ye).appendChild(Qe).appendChild(Be),qe=v.getComputedStyle(Qe),Nt=parseInt(qe.height,10)+parseInt(qe.borderTopWidth,10)+parseInt(qe.borderBottomWidth,10)===Qe.offsetHeight,vr.removeChild(Ye)),Nt}}))})();var Di=["Webkit","Moz","ms"],Mr=k.createElement("div").style,Fr={};function sn(L){return D.cssProps[L]||Fr[L]||(L in Mr?L:Fr[L]=function(H){for(var it=H[0].toUpperCase()+H.slice(1),st=Di.length;st--;)if((H=Di[st]+it)in Mr)return H}(L)||L)}var Ms=/^(none|table(?!-c[ea]).+)/,Rc={position:"absolute",visibility:"hidden",display:"block"},ll={letterSpacing:"0",fontWeight:"400"};function Hs(L,H,it){var st=br.exec(H);return st?Math.max(0,st[2]-(it||0))+(st[3]||"px"):H}function yp(L,H,it,st,mt,St){var Nt=H==="width"?1:0,ue=0,he=0,ke=0;if(it===(st?"border":"content"))return 0;for(;Nt<4;Nt+=2)it==="margin"&&(ke+=D.css(L,it+ar[Nt],!0,mt)),st?(it==="content"&&(he-=D.css(L,"padding"+ar[Nt],!0,mt)),it!=="margin"&&(he-=D.css(L,"border"+ar[Nt]+"Width",!0,mt))):(he+=D.css(L,"padding"+ar[Nt],!0,mt),it!=="padding"?he+=D.css(L,"border"+ar[Nt]+"Width",!0,mt):ue+=D.css(L,"border"+ar[Nt]+"Width",!0,mt));return!st&&St>=0&&(he+=Math.max(0,Math.ceil(L["offset"+H[0].toUpperCase()+H.slice(1)]-St-he-ue-.5))||0),he+ke}function h0(L,H,it){var st=$e(L),mt=(!C.boxSizingReliable()||it)&&D.css(L,"boxSizing",!1,st)==="border-box",St=mt,Nt=Wi(L,H,st),ue="offset"+H[0].toUpperCase()+H.slice(1);if(ce.test(Nt)){if(!it)return Nt;Nt="auto"}return(!C.boxSizingReliable()&&mt||!C.reliableTrDimensions()&&_(L,"tr")||Nt==="auto"||!parseFloat(Nt)&&D.css(L,"display",!1,st)==="inline")&&L.getClientRects().length&&(mt=D.css(L,"boxSizing",!1,st)==="border-box",(St=ue in L)&&(Nt=L[ue])),(Nt=parseFloat(Nt)||0)+yp(L,H,it||(mt?"border":"content"),St,st,Nt)+"px"}function da(L,H,it,st,mt){return new da.prototype.init(L,H,it,st,mt)}D.extend({cssHooks:{opacity:{get:function(L,H){if(H){var it=Wi(L,"opacity");return it===""?"1":it}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(L,H,it,st){if(L&&L.nodeType!==3&&L.nodeType!==8&&L.style){var mt,St,Nt,ue=Ci(H),he=fe.test(H),ke=L.style;if(he||(H=sn(ue)),Nt=D.cssHooks[H]||D.cssHooks[ue],it===void 0)return Nt&&"get"in Nt&&(mt=Nt.get(L,!1,st))!==void 0?mt:ke[H];(St=typeof it)=="string"&&(mt=br.exec(it))&&mt[1]&&(it=ca(L,H,mt),St="number"),it!=null&&it==it&&(St!=="number"||he||(it+=mt&&mt[3]||(D.cssNumber[ue]?"":"px")),C.clearCloneStyle||it!==""||H.indexOf("background")!==0||(ke[H]="inherit"),Nt&&"set"in Nt&&(it=Nt.set(L,it,st))===void 0||(he?ke.setProperty(H,it):ke[H]=it))}},css:function(L,H,it,st){var mt,St,Nt,ue=Ci(H);return fe.test(H)||(H=sn(ue)),(Nt=D.cssHooks[H]||D.cssHooks[ue])&&"get"in Nt&&(mt=Nt.get(L,!0,it)),mt===void 0&&(mt=Wi(L,H,st)),mt==="normal"&&H in ll&&(mt=ll[H]),it===""||it?(St=parseFloat(mt),it===!0||isFinite(St)?St||0:mt):mt}}),D.each(["height","width"],function(L,H){D.cssHooks[H]={get:function(it,st,mt){if(st)return!Ms.test(D.css(it,"display"))||it.getClientRects().length&&it.getBoundingClientRect().width?h0(it,H,mt):pi(it,Rc,function(){return h0(it,H,mt)})},set:function(it,st,mt){var St,Nt=$e(it),ue=!C.scrollboxSize()&&Nt.position==="absolute",he=(ue||mt)&&D.css(it,"boxSizing",!1,Nt)==="border-box",ke=mt?yp(it,H,mt,he,Nt):0;return he&&ue&&(ke-=Math.ceil(it["offset"+H[0].toUpperCase()+H.slice(1)]-parseFloat(Nt[H])-yp(it,H,"border",!1,Nt)-.5)),ke&&(St=br.exec(st))&&(St[3]||"px")!=="px"&&(it.style[H]=st,st=D.css(it,H)),Hs(0,st,ke)}}}),D.cssHooks.marginLeft=hr(C.reliableMarginLeft,function(L,H){if(H)return(parseFloat(Wi(L,"marginLeft"))||L.getBoundingClientRect().left-pi(L,{marginLeft:0},function(){return L.getBoundingClientRect().left}))+"px"}),D.each({margin:"",padding:"",border:"Width"},function(L,H){D.cssHooks[L+H]={expand:function(it){for(var st=0,mt={},St=typeof it=="string"?it.split(" "):[it];st<4;st++)mt[L+ar[st]+H]=St[st]||St[st-2]||St[0];return mt}},L!=="margin"&&(D.cssHooks[L+H].set=Hs)}),D.fn.extend({css:function(L,H){return ve(this,function(it,st,mt){var St,Nt,ue={},he=0;if(Array.isArray(st)){for(St=$e(it),Nt=st.length;he<Nt;he++)ue[st[he]]=D.css(it,st[he],!1,St);return ue}return mt!==void 0?D.style(it,st,mt):D.css(it,st)},L,H,arguments.length>1)}}),D.Tween=da,da.prototype={constructor:da,init:function(L,H,it,st,mt,St){this.elem=L,this.prop=it,this.easing=mt||D.easing._default,this.options=H,this.start=this.now=this.cur(),this.end=st,this.unit=St||(D.cssNumber[it]?"":"px")},cur:function(){var L=da.propHooks[this.prop];return L&&L.get?L.get(this):da.propHooks._default.get(this)},run:function(L){var H,it=da.propHooks[this.prop];return this.options.duration?this.pos=H=D.easing[this.easing](L,this.options.duration*L,0,1,this.options.duration):this.pos=H=L,this.now=(this.end-this.start)*H+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),it&&it.set?it.set(this):da.propHooks._default.set(this),this}},da.prototype.init.prototype=da.prototype,da.propHooks={_default:{get:function(L){var H;return L.elem.nodeType!==1||L.elem[L.prop]!=null&&L.elem.style[L.prop]==null?L.elem[L.prop]:(H=D.css(L.elem,L.prop,""))&&H!=="auto"?H:0},set:function(L){D.fx.step[L.prop]?D.fx.step[L.prop](L):L.elem.nodeType!==1||!D.cssHooks[L.prop]&&L.elem.style[sn(L.prop)]==null?L.elem[L.prop]=L.now:D.style(L.elem,L.prop,L.now+L.unit)}}},da.propHooks.scrollTop=da.propHooks.scrollLeft={set:function(L){L.elem.nodeType&&L.elem.parentNode&&(L.elem[L.prop]=L.now)}},D.easing={linear:function(L){return L},swing:function(L){return .5-Math.cos(L*Math.PI)/2},_default:"swing"},D.fx=da.prototype.init,D.fx.step={};var Ch,Mn,Bf=/^(?:toggle|show|hide)$/,Xl=/queueHooks$/;function xp(){Mn&&(k.hidden===!1&&v.requestAnimationFrame?v.requestAnimationFrame(xp):v.setTimeout(xp,D.fx.interval),D.fx.tick())}function qr(){return v.setTimeout(function(){Ch=void 0}),Ch=Date.now()}function Eh(L,H){var it,st=0,mt={height:L};for(H=H?1:0;st<4;st+=2-H)mt["margin"+(it=ar[st])]=mt["padding"+it]=L;return H&&(mt.opacity=mt.width=L),mt}function Ql(L,H,it){for(var st,mt=(Ha.tweeners[H]||[]).concat(Ha.tweeners["*"]),St=0,Nt=mt.length;St<Nt;St++)if(st=mt[St].call(it,H,L))return st}function Ha(L,H,it){var st,mt,St=0,Nt=Ha.prefilters.length,ue=D.Deferred().always(function(){delete he.elem}),he=function(){if(mt)return!1;for(var Qe=Ch||qr(),Be=Math.max(0,ke.startTime+ke.duration-Qe),qe=1-(Be/ke.duration||0),qi=0,Sr=ke.tweens.length;qi<Sr;qi++)ke.tweens[qi].run(qe);return ue.notifyWith(L,[ke,qe,Be]),qe<1&&Sr?Be:(Sr||ue.notifyWith(L,[ke,1,0]),ue.resolveWith(L,[ke]),!1)},ke=ue.promise({elem:L,props:D.extend({},H),opts:D.extend(!0,{specialEasing:{},easing:D.easing._default},it),originalProperties:H,originalOptions:it,startTime:Ch||qr(),duration:it.duration,tweens:[],createTween:function(Qe,Be){var qe=D.Tween(L,ke.opts,Qe,Be,ke.opts.specialEasing[Qe]||ke.opts.easing);return ke.tweens.push(qe),qe},stop:function(Qe){var Be=0,qe=Qe?ke.tweens.length:0;if(mt)return this;for(mt=!0;Be<qe;Be++)ke.tweens[Be].run(1);return Qe?(ue.notifyWith(L,[ke,1,0]),ue.resolveWith(L,[ke,Qe])):ue.rejectWith(L,[ke,Qe]),this}}),Ye=ke.props;for(function(Qe,Be){var qe,qi,Sr,sr,Jn;for(qe in Qe)if(Sr=Be[qi=Ci(qe)],sr=Qe[qe],Array.isArray(sr)&&(Sr=sr[1],sr=Qe[qe]=sr[0]),qe!==qi&&(Qe[qi]=sr,delete Qe[qe]),(Jn=D.cssHooks[qi])&&"expand"in Jn)for(qe in sr=Jn.expand(sr),delete Qe[qi],sr)qe in Qe||(Qe[qe]=sr[qe],Be[qe]=Sr);else Be[qi]=Sr}(Ye,ke.opts.specialEasing);St<Nt;St++)if(st=Ha.prefilters[St].call(ke,L,Ye,ke.opts))return E(st.stop)&&(D._queueHooks(ke.elem,ke.opts.queue).stop=st.stop.bind(st)),st;return D.map(Ye,Ql,ke),E(ke.opts.start)&&ke.opts.start.call(L,ke),ke.progress(ke.opts.progress).done(ke.opts.done,ke.opts.complete).fail(ke.opts.fail).always(ke.opts.always),D.fx.timer(D.extend(he,{elem:L,anim:ke,queue:ke.opts.queue})),ke}D.Animation=D.extend(Ha,{tweeners:{"*":[function(L,H){var it=this.createTween(L,H);return ca(it.elem,L,br.exec(H),it),it}]},tweener:function(L,H){E(L)?(H=L,L=["*"]):L=L.match(yt);for(var it,st=0,mt=L.length;st<mt;st++)it=L[st],Ha.tweeners[it]=Ha.tweeners[it]||[],Ha.tweeners[it].unshift(H)},prefilters:[function(L,H,it){var st,mt,St,Nt,ue,he,ke,Ye,Qe="width"in H||"height"in H,Be=this,qe={},qi=L.style,Sr=L.nodeType&&za(L),sr=tt.get(L,"fxshow");for(st in it.queue||((Nt=D._queueHooks(L,"fx")).unqueued==null&&(Nt.unqueued=0,ue=Nt.empty.fire,Nt.empty.fire=function(){Nt.unqueued||ue()}),Nt.unqueued++,Be.always(function(){Be.always(function(){Nt.unqueued--,D.queue(L,"fx").length||Nt.empty.fire()})})),H)if(mt=H[st],Bf.test(mt)){if(delete H[st],St=St||mt==="toggle",mt===(Sr?"hide":"show")){if(mt!=="show"||!sr||sr[st]===void 0)continue;Sr=!0}qe[st]=sr&&sr[st]||D.style(L,st)}if((he=!D.isEmptyObject(H))||!D.isEmptyObject(qe))for(st in Qe&&L.nodeType===1&&(it.overflow=[qi.overflow,qi.overflowX,qi.overflowY],(ke=sr&&sr.display)==null&&(ke=tt.get(L,"display")),(Ye=D.css(L,"display"))==="none"&&(ke?Ye=ke:(fa([L],!0),ke=L.style.display||ke,Ye=D.css(L,"display"),fa([L]))),(Ye==="inline"||Ye==="inline-block"&&ke!=null)&&D.css(L,"float")==="none"&&(he||(Be.done(function(){qi.display=ke}),ke==null&&(Ye=qi.display,ke=Ye==="none"?"":Ye)),qi.display="inline-block")),it.overflow&&(qi.overflow="hidden",Be.always(function(){qi.overflow=it.overflow[0],qi.overflowX=it.overflow[1],qi.overflowY=it.overflow[2]})),he=!1,qe)he||(sr?"hidden"in sr&&(Sr=sr.hidden):sr=tt.access(L,"fxshow",{display:ke}),St&&(sr.hidden=!Sr),Sr&&fa([L],!0),Be.done(function(){for(st in Sr||fa([L]),tt.remove(L,"fxshow"),qe)D.style(L,st,qe[st])})),he=Ql(Sr?sr[st]:0,st,Be),st in sr||(sr[st]=he.start,Sr&&(he.end=he.start,he.start=0))}],prefilter:function(L,H){H?Ha.prefilters.unshift(L):Ha.prefilters.push(L)}}),D.speed=function(L,H,it){var st=L&&typeof L=="object"?D.extend({},L):{complete:it||!it&&H||E(L)&&L,duration:L,easing:it&&H||H&&!E(H)&&H};return D.fx.off?st.duration=0:typeof st.duration!="number"&&(st.duration in D.fx.speeds?st.duration=D.fx.speeds[st.duration]:st.duration=D.fx.speeds._default),st.queue!=null&&st.queue!==!0||(st.queue="fx"),st.old=st.complete,st.complete=function(){E(st.old)&&st.old.call(this),st.queue&&D.dequeue(this,st.queue)},st},D.fn.extend({fadeTo:function(L,H,it,st){return this.filter(za).css("opacity",0).show().end().animate({opacity:H},L,it,st)},animate:function(L,H,it,st){var mt=D.isEmptyObject(L),St=D.speed(H,it,st),Nt=function(){var ue=Ha(this,D.extend({},L),St);(mt||tt.get(this,"finish"))&&ue.stop(!0)};return Nt.finish=Nt,mt||St.queue===!1?this.each(Nt):this.queue(St.queue,Nt)},stop:function(L,H,it){var st=function(mt){var St=mt.stop;delete mt.stop,St(it)};return typeof L!="string"&&(it=H,H=L,L=void 0),H&&this.queue(L||"fx",[]),this.each(function(){var mt=!0,St=L!=null&&L+"queueHooks",Nt=D.timers,ue=tt.get(this);if(St)ue[St]&&ue[St].stop&&st(ue[St]);else for(St in ue)ue[St]&&ue[St].stop&&Xl.test(St)&&st(ue[St]);for(St=Nt.length;St--;)Nt[St].elem!==this||L!=null&&Nt[St].queue!==L||(Nt[St].anim.stop(it),mt=!1,Nt.splice(St,1));!mt&&it||D.dequeue(this,L)})},finish:function(L){return L!==!1&&(L=L||"fx"),this.each(function(){var H,it=tt.get(this),st=it[L+"queue"],mt=it[L+"queueHooks"],St=D.timers,Nt=st?st.length:0;for(it.finish=!0,D.queue(this,L,[]),mt&&mt.stop&&mt.stop.call(this,!0),H=St.length;H--;)St[H].elem===this&&St[H].queue===L&&(St[H].anim.stop(!0),St.splice(H,1));for(H=0;H<Nt;H++)st[H]&&st[H].finish&&st[H].finish.call(this);delete it.finish})}}),D.each(["toggle","show","hide"],function(L,H){var it=D.fn[H];D.fn[H]=function(st,mt,St){return st==null||typeof st=="boolean"?it.apply(this,arguments):this.animate(Eh(H,!0),st,mt,St)}}),D.each({slideDown:Eh("show"),slideUp:Eh("hide"),slideToggle:Eh("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(L,H){D.fn[L]=function(it,st,mt){return this.animate(H,it,st,mt)}}),D.timers=[],D.fx.tick=function(){var L,H=0,it=D.timers;for(Ch=Date.now();H<it.length;H++)(L=it[H])()||it[H]!==L||it.splice(H--,1);it.length||D.fx.stop(),Ch=void 0},D.fx.timer=function(L){D.timers.push(L),D.fx.start()},D.fx.interval=13,D.fx.start=function(){Mn||(Mn=!0,xp())},D.fx.stop=function(){Mn=null},D.fx.speeds={slow:600,fast:200,_default:400},D.fn.delay=function(L,H){return L=D.fx&&D.fx.speeds[L]||L,H=H||"fx",this.queue(H,function(it,st){var mt=v.setTimeout(it,L);st.stop=function(){v.clearTimeout(mt)}})},function(){var L=k.createElement("input"),H=k.createElement("select").appendChild(k.createElement("option"));L.type="checkbox",C.checkOn=L.value!=="",C.optSelected=H.selected,(L=k.createElement("input")).value="t",L.type="radio",C.radioValue=L.value==="t"}();var c0,$a=D.expr.attrHandle;D.fn.extend({attr:function(L,H){return ve(this,D.attr,L,H,arguments.length>1)},removeAttr:function(L){return this.each(function(){D.removeAttr(this,L)})}}),D.extend({attr:function(L,H,it){var st,mt,St=L.nodeType;if(St!==3&&St!==8&&St!==2)return L.getAttribute===void 0?D.prop(L,H,it):(St===1&&D.isXMLDoc(L)||(mt=D.attrHooks[H.toLowerCase()]||(D.expr.match.bool.test(H)?c0:void 0)),it!==void 0?it===null?void D.removeAttr(L,H):mt&&"set"in mt&&(st=mt.set(L,it,H))!==void 0?st:(L.setAttribute(H,it+""),it):mt&&"get"in mt&&(st=mt.get(L,H))!==null?st:(st=D.find.attr(L,H))==null?void 0:st)},attrHooks:{type:{set:function(L,H){if(!C.radioValue&&H==="radio"&&_(L,"input")){var it=L.value;return L.setAttribute("type",H),it&&(L.value=it),H}}}},removeAttr:function(L,H){var it,st=0,mt=H&&H.match(yt);if(mt&&L.nodeType===1)for(;it=mt[st++];)L.removeAttribute(it)}}),c0={set:function(L,H,it){return H===!1?D.removeAttr(L,it):L.setAttribute(it,it),it}},D.each(D.expr.match.bool.source.match(/\w+/g),function(L,H){var it=$a[H]||D.find.attr;$a[H]=function(st,mt,St){var Nt,ue,he=mt.toLowerCase();return St||(ue=$a[he],$a[he]=Nt,Nt=it(st,mt,St)!=null?he:null,$a[he]=ue),Nt}});var es=/^(?:input|select|textarea|button)$/i,Zx=/^(?:a|area)$/i;function $s(L){return(L.match(yt)||[]).join(" ")}function Bu(L){return L.getAttribute&&L.getAttribute("class")||""}function bp(L){return Array.isArray(L)?L:typeof L=="string"&&L.match(yt)||[]}D.fn.extend({prop:function(L,H){return ve(this,D.prop,L,H,arguments.length>1)},removeProp:function(L){return this.each(function(){delete this[D.propFix[L]||L]})}}),D.extend({prop:function(L,H,it){var st,mt,St=L.nodeType;if(St!==3&&St!==8&&St!==2)return St===1&&D.isXMLDoc(L)||(H=D.propFix[H]||H,mt=D.propHooks[H]),it!==void 0?mt&&"set"in mt&&(st=mt.set(L,it,H))!==void 0?st:L[H]=it:mt&&"get"in mt&&(st=mt.get(L,H))!==null?st:L[H]},propHooks:{tabIndex:{get:function(L){var H=D.find.attr(L,"tabindex");return H?parseInt(H,10):es.test(L.nodeName)||Zx.test(L.nodeName)&&L.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),C.optSelected||(D.propHooks.selected={get:function(L){var H=L.parentNode;return H&&H.parentNode&&H.parentNode.selectedIndex,null},set:function(L){var H=L.parentNode;H&&(H.selectedIndex,H.parentNode&&H.parentNode.selectedIndex)}}),D.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){D.propFix[this.toLowerCase()]=this}),D.fn.extend({addClass:function(L){var H,it,st,mt,St,Nt;return E(L)?this.each(function(ue){D(this).addClass(L.call(this,ue,Bu(this)))}):(H=bp(L)).length?this.each(function(){if(st=Bu(this),it=this.nodeType===1&&" "+$s(st)+" "){for(St=0;St<H.length;St++)mt=H[St],it.indexOf(" "+mt+" ")<0&&(it+=mt+" ");Nt=$s(it),st!==Nt&&this.setAttribute("class",Nt)}}):this},removeClass:function(L){var H,it,st,mt,St,Nt;return E(L)?this.each(function(ue){D(this).removeClass(L.call(this,ue,Bu(this)))}):arguments.length?(H=bp(L)).length?this.each(function(){if(st=Bu(this),it=this.nodeType===1&&" "+$s(st)+" "){for(St=0;St<H.length;St++)for(mt=H[St];it.indexOf(" "+mt+" ")>-1;)it=it.replace(" "+mt+" "," ");Nt=$s(it),st!==Nt&&this.setAttribute("class",Nt)}}):this:this.attr("class","")},toggleClass:function(L,H){var it,st,mt,St,Nt=typeof L,ue=Nt==="string"||Array.isArray(L);return E(L)?this.each(function(he){D(this).toggleClass(L.call(this,he,Bu(this),H),H)}):typeof H=="boolean"&&ue?H?this.addClass(L):this.removeClass(L):(it=bp(L),this.each(function(){if(ue)for(St=D(this),mt=0;mt<it.length;mt++)st=it[mt],St.hasClass(st)?St.removeClass(st):St.addClass(st);else L!==void 0&&Nt!=="boolean"||((st=Bu(this))&&tt.set(this,"__className__",st),this.setAttribute&&this.setAttribute("class",st||L===!1?"":tt.get(this,"__className__")||""))}))},hasClass:function(L){var H,it,st=0;for(H=" "+L+" ";it=this[st++];)if(it.nodeType===1&&(" "+$s(Bu(it))+" ").indexOf(H)>-1)return!0;return!1}});var qx=/\r/g;D.fn.extend({val:function(L){var H,it,st,mt=this[0];return arguments.length?(st=E(L),this.each(function(St){var Nt;this.nodeType===1&&((Nt=st?L.call(this,St,D(this).val()):L)==null?Nt="":typeof Nt=="number"?Nt+="":Array.isArray(Nt)&&(Nt=D.map(Nt,function(ue){return ue==null?"":ue+""})),(H=D.valHooks[this.type]||D.valHooks[this.nodeName.toLowerCase()])&&"set"in H&&H.set(this,Nt,"value")!==void 0||(this.value=Nt))})):mt?(H=D.valHooks[mt.type]||D.valHooks[mt.nodeName.toLowerCase()])&&"get"in H&&(it=H.get(mt,"value"))!==void 0?it:typeof(it=mt.value)=="string"?it.replace(qx,""):it==null?"":it:void 0}}),D.extend({valHooks:{option:{get:function(L){var H=D.find.attr(L,"value");return H!=null?H:$s(D.text(L))}},select:{get:function(L){var H,it,st,mt=L.options,St=L.selectedIndex,Nt=L.type==="select-one",ue=Nt?null:[],he=Nt?St+1:mt.length;for(st=St<0?he:Nt?St:0;st<he;st++)if(((it=mt[st]).selected||st===St)&&!it.disabled&&(!it.parentNode.disabled||!_(it.parentNode,"optgroup"))){if(H=D(it).val(),Nt)return H;ue.push(H)}return ue},set:function(L,H){for(var it,st,mt=L.options,St=D.makeArray(H),Nt=mt.length;Nt--;)((st=mt[Nt]).selected=D.inArray(D.valHooks.option.get(st),St)>-1)&&(it=!0);return it||(L.selectedIndex=-1),St}}}}),D.each(["radio","checkbox"],function(){D.valHooks[this]={set:function(L,H){if(Array.isArray(H))return L.checked=D.inArray(D(L).val(),H)>-1}},C.checkOn||(D.valHooks[this].get=function(L){return L.getAttribute("value")===null?"on":L.value})});var Ic=v.location,f0={guid:Date.now()},Mc=/\?/;D.parseXML=function(L){var H,it;if(!L||typeof L!="string")return null;try{H=new v.DOMParser().parseFromString(L,"text/xml")}catch(st){}return it=H&&H.getElementsByTagName("parsererror")[0],H&&!it||D.error("Invalid XML: "+(it?D.map(it.childNodes,function(st){return st.textContent}).join(`
`):L)),H};var Sp=/^(?:focusinfocus|focusoutblur)$/,d0=function(L){L.stopPropagation()};D.extend(D.event,{trigger:function(L,H,it,st){var mt,St,Nt,ue,he,ke,Ye,Qe,Be=[it||k],qe=x.call(L,"type")?L.type:L,qi=x.call(L,"namespace")?L.namespace.split("."):[];if(St=Qe=Nt=it=it||k,it.nodeType!==3&&it.nodeType!==8&&!Sp.test(qe+D.event.triggered)&&(qe.indexOf(".")>-1&&(qi=qe.split("."),qe=qi.shift(),qi.sort()),he=qe.indexOf(":")<0&&"on"+qe,(L=L[D.expando]?L:new D.Event(qe,typeof L=="object"&&L)).isTrigger=st?2:3,L.namespace=qi.join("."),L.rnamespace=L.namespace?new RegExp("(^|\\.)"+qi.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,L.result=void 0,L.target||(L.target=it),H=H==null?[L]:D.makeArray(H,[L]),Ye=D.event.special[qe]||{},st||!Ye.trigger||Ye.trigger.apply(it,H)!==!1)){if(!st&&!Ye.noBubble&&!T(it)){for(ue=Ye.delegateType||qe,Sp.test(ue+qe)||(St=St.parentNode);St;St=St.parentNode)Be.push(St),Nt=St;Nt===(it.ownerDocument||k)&&Be.push(Nt.defaultView||Nt.parentWindow||v)}for(mt=0;(St=Be[mt++])&&!L.isPropagationStopped();)Qe=St,L.type=mt>1?ue:Ye.bindType||qe,(ke=(tt.get(St,"events")||Object.create(null))[L.type]&&tt.get(St,"handle"))&&ke.apply(St,H),(ke=he&&St[he])&&ke.apply&&xt(St)&&(L.result=ke.apply(St,H),L.result===!1&&L.preventDefault());return L.type=qe,st||L.isDefaultPrevented()||Ye._default&&Ye._default.apply(Be.pop(),H)!==!1||!xt(it)||he&&E(it[qe])&&!T(it)&&((Nt=it[he])&&(it[he]=null),D.event.triggered=qe,L.isPropagationStopped()&&Qe.addEventListener(qe,d0),it[qe](),L.isPropagationStopped()&&Qe.removeEventListener(qe,d0),D.event.triggered=void 0,Nt&&(it[he]=Nt)),L.result}},simulate:function(L,H,it){var st=D.extend(new D.Event,it,{type:L,isSimulated:!0});D.event.trigger(st,null,H)}}),D.fn.extend({trigger:function(L,H){return this.each(function(){D.event.trigger(L,H,this)})},triggerHandler:function(L,H){var it=this[0];if(it)return D.event.trigger(L,H,it,!0)}});var tb=/\[\]$/,p0=/\r?\n/g,Kl=/^(?:submit|button|image|reset|file)$/i,v0=/^(?:input|select|textarea|keygen)/i;function Bc(L,H,it,st){var mt;if(Array.isArray(H))D.each(H,function(St,Nt){it||tb.test(L)?st(L,Nt):Bc(L+"["+(typeof Nt=="object"&&Nt!=null?St:"")+"]",Nt,it,st)});else if(it||M(H)!=="object")st(L,H);else for(mt in H)Bc(L+"["+mt+"]",H[mt],it,st)}D.param=function(L,H){var it,st=[],mt=function(St,Nt){var ue=E(Nt)?Nt():Nt;st[st.length]=encodeURIComponent(St)+"="+encodeURIComponent(ue==null?"":ue)};if(L==null)return"";if(Array.isArray(L)||L.jquery&&!D.isPlainObject(L))D.each(L,function(){mt(this.name,this.value)});else for(it in L)Bc(it,L[it],H,mt);return st.join("&")},D.fn.extend({serialize:function(){return D.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var L=D.prop(this,"elements");return L?D.makeArray(L):this}).filter(function(){var L=this.type;return this.name&&!D(this).is(":disabled")&&v0.test(this.nodeName)&&!Kl.test(L)&&(this.checked||!$r.test(L))}).map(function(L,H){var it=D(this).val();return it==null?null:Array.isArray(it)?D.map(it,function(st){return{name:H.name,value:st.replace(p0,`\r
`)}}):{name:H.name,value:it.replace(p0,`\r
`)}}).get()}});var kh=/%20/g,Oc=/#.*$/,Nc=/([?&])_=[^&]*/,eb=/^(.*?):[ \t]*([^\r\n]*)$/gm,ib=/^(?:GET|HEAD)$/,m0=/^\/\//,g0={},wp={},y0="*/".concat("*"),Tp=k.createElement("a");function x0(L){return function(H,it){typeof H!="string"&&(it=H,H="*");var st,mt=0,St=H.toLowerCase().match(yt)||[];if(E(it))for(;st=St[mt++];)st[0]==="+"?(st=st.slice(1)||"*",(L[st]=L[st]||[]).unshift(it)):(L[st]=L[st]||[]).push(it)}}function Of(L,H,it,st){var mt={},St=L===wp;function Nt(ue){var he;return mt[ue]=!0,D.each(L[ue]||[],function(ke,Ye){var Qe=Ye(H,it,st);return typeof Qe!="string"||St||mt[Qe]?St?!(he=Qe):void 0:(H.dataTypes.unshift(Qe),Nt(Qe),!1)}),he}return Nt(H.dataTypes[0])||!mt["*"]&&Nt("*")}function Nf(L,H){var it,st,mt=D.ajaxSettings.flatOptions||{};for(it in H)H[it]!==void 0&&((mt[it]?L:st||(st={}))[it]=H[it]);return st&&D.extend(!0,L,st),L}Tp.href=Ic.href,D.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ic.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ic.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":y0,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":D.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(L,H){return H?Nf(Nf(L,D.ajaxSettings),H):Nf(D.ajaxSettings,L)},ajaxPrefilter:x0(g0),ajaxTransport:x0(wp),ajax:function(L,H){typeof L=="object"&&(H=L,L=void 0),H=H||{};var it,st,mt,St,Nt,ue,he,ke,Ye,Qe,Be=D.ajaxSetup({},H),qe=Be.context||Be,qi=Be.context&&(qe.nodeType||qe.jquery)?D(qe):D.event,Sr=D.Deferred(),sr=D.Callbacks("once memory"),Jn=Be.statusCode||{},Es={},Xt={},ge="canceled",be={readyState:0,getResponseHeader:function(Le){var me;if(he){if(!St)for(St={};me=eb.exec(mt);)St[me[1].toLowerCase()+" "]=(St[me[1].toLowerCase()+" "]||[]).concat(me[2]);me=St[Le.toLowerCase()+" "]}return me==null?null:me.join(", ")},getAllResponseHeaders:function(){return he?mt:null},setRequestHeader:function(Le,me){return he==null&&(Le=Xt[Le.toLowerCase()]=Xt[Le.toLowerCase()]||Le,Es[Le]=me),this},overrideMimeType:function(Le){return he==null&&(Be.mimeType=Le),this},statusCode:function(Le){var me;if(Le)if(he)be.always(Le[be.status]);else for(me in Le)Jn[me]=[Jn[me],Le[me]];return this},abort:function(Le){var me=Le||ge;return it&&it.abort(me),Se(0,me),this}};if(Sr.promise(be),Be.url=((L||Be.url||Ic.href)+"").replace(m0,Ic.protocol+"//"),Be.type=H.method||H.type||Be.method||Be.type,Be.dataTypes=(Be.dataType||"*").toLowerCase().match(yt)||[""],Be.crossDomain==null){ue=k.createElement("a");try{ue.href=Be.url,ue.href=ue.href,Be.crossDomain=Tp.protocol+"//"+Tp.host!=ue.protocol+"//"+ue.host}catch(Le){Be.crossDomain=!0}}if(Be.data&&Be.processData&&typeof Be.data!="string"&&(Be.data=D.param(Be.data,Be.traditional)),Of(g0,Be,H,be),he)return be;for(Ye in(ke=D.event&&Be.global)&&D.active++==0&&D.event.trigger("ajaxStart"),Be.type=Be.type.toUpperCase(),Be.hasContent=!ib.test(Be.type),st=Be.url.replace(Oc,""),Be.hasContent?Be.data&&Be.processData&&(Be.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Be.data=Be.data.replace(kh,"+")):(Qe=Be.url.slice(st.length),Be.data&&(Be.processData||typeof Be.data=="string")&&(st+=(Mc.test(st)?"&":"?")+Be.data,delete Be.data),Be.cache===!1&&(st=st.replace(Nc,"$1"),Qe=(Mc.test(st)?"&":"?")+"_="+f0.guid+++Qe),Be.url=st+Qe),Be.ifModified&&(D.lastModified[st]&&be.setRequestHeader("If-Modified-Since",D.lastModified[st]),D.etag[st]&&be.setRequestHeader("If-None-Match",D.etag[st])),(Be.data&&Be.hasContent&&Be.contentType!==!1||H.contentType)&&be.setRequestHeader("Content-Type",Be.contentType),be.setRequestHeader("Accept",Be.dataTypes[0]&&Be.accepts[Be.dataTypes[0]]?Be.accepts[Be.dataTypes[0]]+(Be.dataTypes[0]!=="*"?", "+y0+"; q=0.01":""):Be.accepts["*"]),Be.headers)be.setRequestHeader(Ye,Be.headers[Ye]);if(Be.beforeSend&&(Be.beforeSend.call(qe,be,Be)===!1||he))return be.abort();if(ge="abort",sr.add(Be.complete),be.done(Be.success),be.fail(Be.error),it=Of(wp,Be,H,be)){if(be.readyState=1,ke&&qi.trigger("ajaxSend",[be,Be]),he)return be;Be.async&&Be.timeout>0&&(Nt=v.setTimeout(function(){be.abort("timeout")},Be.timeout));try{he=!1,it.send(Es,Se)}catch(Le){if(he)throw Le;Se(-1,Le)}}else Se(-1,"No Transport");function Se(Le,me,_e,hi){var ai,se,Ge,Gt,Vt,Qt=me;he||(he=!0,Nt&&v.clearTimeout(Nt),it=void 0,mt=hi||"",be.readyState=Le>0?4:0,ai=Le>=200&&Le<300||Le===304,_e&&(Gt=function(J,ae,ne){for(var Zt,lt,Dt,Ut,zt=J.contents,Ht=J.dataTypes;Ht[0]==="*";)Ht.shift(),Zt===void 0&&(Zt=J.mimeType||ae.getResponseHeader("Content-Type"));if(Zt){for(lt in zt)if(zt[lt]&&zt[lt].test(Zt)){Ht.unshift(lt);break}}if(Ht[0]in ne)Dt=Ht[0];else{for(lt in ne){if(!Ht[0]||J.converters[lt+" "+Ht[0]]){Dt=lt;break}Ut||(Ut=lt)}Dt=Dt||Ut}if(Dt)return Dt!==Ht[0]&&Ht.unshift(Dt),ne[Dt]}(Be,be,_e)),!ai&&D.inArray("script",Be.dataTypes)>-1&&D.inArray("json",Be.dataTypes)<0&&(Be.converters["text script"]=function(){}),Gt=function(J,ae,ne,Zt){var lt,Dt,Ut,zt,Ht,nt={},Rt=J.dataTypes.slice();if(Rt[1])for(Ut in J.converters)nt[Ut.toLowerCase()]=J.converters[Ut];for(Dt=Rt.shift();Dt;)if(J.responseFields[Dt]&&(ne[J.responseFields[Dt]]=ae),!Ht&&Zt&&J.dataFilter&&(ae=J.dataFilter(ae,J.dataType)),Ht=Dt,Dt=Rt.shift()){if(Dt==="*")Dt=Ht;else if(Ht!=="*"&&Ht!==Dt){if(!(Ut=nt[Ht+" "+Dt]||nt["* "+Dt])){for(lt in nt)if((zt=lt.split(" "))[1]===Dt&&(Ut=nt[Ht+" "+zt[0]]||nt["* "+zt[0]])){Ut===!0?Ut=nt[lt]:nt[lt]!==!0&&(Dt=zt[0],Rt.unshift(zt[1]));break}}if(Ut!==!0)if(Ut&&J.throws)ae=Ut(ae);else try{ae=Ut(ae)}catch(bt){return{state:"parsererror",error:Ut?bt:"No conversion from "+Ht+" to "+Dt}}}}return{state:"success",data:ae}}(Be,Gt,be,ai),ai?(Be.ifModified&&((Vt=be.getResponseHeader("Last-Modified"))&&(D.lastModified[st]=Vt),(Vt=be.getResponseHeader("etag"))&&(D.etag[st]=Vt)),Le===204||Be.type==="HEAD"?Qt="nocontent":Le===304?Qt="notmodified":(Qt=Gt.state,se=Gt.data,ai=!(Ge=Gt.error))):(Ge=Qt,!Le&&Qt||(Qt="error",Le<0&&(Le=0))),be.status=Le,be.statusText=(me||Qt)+"",ai?Sr.resolveWith(qe,[se,Qt,be]):Sr.rejectWith(qe,[be,Qt,Ge]),be.statusCode(Jn),Jn=void 0,ke&&qi.trigger(ai?"ajaxSuccess":"ajaxError",[be,Be,ai?se:Ge]),sr.fireWith(qe,[be,Qt]),ke&&(qi.trigger("ajaxComplete",[be,Be]),--D.active||D.event.trigger("ajaxStop")))}return be},getJSON:function(L,H,it){return D.get(L,H,it,"json")},getScript:function(L,H){return D.get(L,void 0,H,"script")}}),D.each(["get","post"],function(L,H){D[H]=function(it,st,mt,St){return E(st)&&(St=St||mt,mt=st,st=void 0),D.ajax(D.extend({url:it,type:H,dataType:St,data:st,success:mt},D.isPlainObject(it)&&it))}}),D.ajaxPrefilter(function(L){var H;for(H in L.headers)H.toLowerCase()==="content-type"&&(L.contentType=L.headers[H]||"")}),D._evalUrl=function(L,H,it){return D.ajax({url:L,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(st){D.globalEval(st,H,it)}})},D.fn.extend({wrapAll:function(L){var H;return this[0]&&(E(L)&&(L=L.call(this[0])),H=D(L,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&H.insertBefore(this[0]),H.map(function(){for(var it=this;it.firstElementChild;)it=it.firstElementChild;return it}).append(this)),this},wrapInner:function(L){return E(L)?this.each(function(H){D(this).wrapInner(L.call(this,H))}):this.each(function(){var H=D(this),it=H.contents();it.length?it.wrapAll(L):H.append(L)})},wrap:function(L){var H=E(L);return this.each(function(it){D(this).wrapAll(H?L.call(this,it):L)})},unwrap:function(L){return this.parent(L).not("body").each(function(){D(this).replaceWith(this.childNodes)}),this}}),D.expr.pseudos.hidden=function(L){return!D.expr.pseudos.visible(L)},D.expr.pseudos.visible=function(L){return!!(L.offsetWidth||L.offsetHeight||L.getClientRects().length)},D.ajaxSettings.xhr=function(){try{return new v.XMLHttpRequest}catch(L){}};var rb={0:200,1223:204},Jl=D.ajaxSettings.xhr();C.cors=!!Jl&&"withCredentials"in Jl,C.ajax=Jl=!!Jl,D.ajaxTransport(function(L){var H,it;if(C.cors||Jl&&!L.crossDomain)return{send:function(st,mt){var St,Nt=L.xhr();if(Nt.open(L.type,L.url,L.async,L.username,L.password),L.xhrFields)for(St in L.xhrFields)Nt[St]=L.xhrFields[St];for(St in L.mimeType&&Nt.overrideMimeType&&Nt.overrideMimeType(L.mimeType),L.crossDomain||st["X-Requested-With"]||(st["X-Requested-With"]="XMLHttpRequest"),st)Nt.setRequestHeader(St,st[St]);H=function(ue){return function(){H&&(H=it=Nt.onload=Nt.onerror=Nt.onabort=Nt.ontimeout=Nt.onreadystatechange=null,ue==="abort"?Nt.abort():ue==="error"?typeof Nt.status!="number"?mt(0,"error"):mt(Nt.status,Nt.statusText):mt(rb[Nt.status]||Nt.status,Nt.statusText,(Nt.responseType||"text")!=="text"||typeof Nt.responseText!="string"?{binary:Nt.response}:{text:Nt.responseText},Nt.getAllResponseHeaders()))}},Nt.onload=H(),it=Nt.onerror=Nt.ontimeout=H("error"),Nt.onabort!==void 0?Nt.onabort=it:Nt.onreadystatechange=function(){Nt.readyState===4&&v.setTimeout(function(){H&&it()})},H=H("abort");try{Nt.send(L.hasContent&&L.data||null)}catch(ue){if(H)throw ue}},abort:function(){H&&H()}}}),D.ajaxPrefilter(function(L){L.crossDomain&&(L.contents.script=!1)}),D.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(L){return D.globalEval(L),L}}}),D.ajaxPrefilter("script",function(L){L.cache===void 0&&(L.cache=!1),L.crossDomain&&(L.type="GET")}),D.ajaxTransport("script",function(L){var H,it;if(L.crossDomain||L.scriptAttrs)return{send:function(st,mt){H=D("<script>").attr(L.scriptAttrs||{}).prop({charset:L.scriptCharset,src:L.url}).on("load error",it=function(St){H.remove(),it=null,St&&mt(St.type==="error"?404:200,St.type)}),k.head.appendChild(H[0])},abort:function(){it&&it()}}});var b0,Dh=[],Cp=/(=)\?(?=&|$)|\?\?/;D.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var L=Dh.pop()||D.expando+"_"+f0.guid++;return this[L]=!0,L}}),D.ajaxPrefilter("json jsonp",function(L,H,it){var st,mt,St,Nt=L.jsonp!==!1&&(Cp.test(L.url)?"url":typeof L.data=="string"&&(L.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Cp.test(L.data)&&"data");if(Nt||L.dataTypes[0]==="jsonp")return st=L.jsonpCallback=E(L.jsonpCallback)?L.jsonpCallback():L.jsonpCallback,Nt?L[Nt]=L[Nt].replace(Cp,"$1"+st):L.jsonp!==!1&&(L.url+=(Mc.test(L.url)?"&":"?")+L.jsonp+"="+st),L.converters["script json"]=function(){return St||D.error(st+" was not called"),St[0]},L.dataTypes[0]="json",mt=v[st],v[st]=function(){St=arguments},it.always(function(){mt===void 0?D(v).removeProp(st):v[st]=mt,L[st]&&(L.jsonpCallback=H.jsonpCallback,Dh.push(st)),St&&E(mt)&&mt(St[0]),St=mt=void 0}),"script"}),C.createHTMLDocument=((b0=k.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",b0.childNodes.length===2),D.parseHTML=function(L,H,it){return typeof L!="string"?[]:(typeof H=="boolean"&&(it=H,H=!1),H||(C.createHTMLDocument?((st=(H=k.implementation.createHTMLDocument("")).createElement("base")).href=k.location.href,H.head.appendChild(st)):H=k),St=!it&&[],(mt=Q.exec(L))?[H.createElement(mt[1])]:(mt=Xr([L],H,St),St&&St.length&&D(St).remove(),D.merge([],mt.childNodes)));var st,mt,St},D.fn.load=function(L,H,it){var st,mt,St,Nt=this,ue=L.indexOf(" ");return ue>-1&&(st=$s(L.slice(ue)),L=L.slice(0,ue)),E(H)?(it=H,H=void 0):H&&typeof H=="object"&&(mt="POST"),Nt.length>0&&D.ajax({url:L,type:mt||"GET",dataType:"html",data:H}).done(function(he){St=arguments,Nt.html(st?D("<div>").append(D.parseHTML(he)).find(st):he)}).always(it&&function(he,ke){Nt.each(function(){it.apply(this,St||[he.responseText,ke,he])})}),this},D.expr.pseudos.animated=function(L){return D.grep(D.timers,function(H){return L===H.elem}).length},D.offset={setOffset:function(L,H,it){var st,mt,St,Nt,ue,he,ke=D.css(L,"position"),Ye=D(L),Qe={};ke==="static"&&(L.style.position="relative"),ue=Ye.offset(),St=D.css(L,"top"),he=D.css(L,"left"),(ke==="absolute"||ke==="fixed")&&(St+he).indexOf("auto")>-1?(Nt=(st=Ye.position()).top,mt=st.left):(Nt=parseFloat(St)||0,mt=parseFloat(he)||0),E(H)&&(H=H.call(L,it,D.extend({},ue))),H.top!=null&&(Qe.top=H.top-ue.top+Nt),H.left!=null&&(Qe.left=H.left-ue.left+mt),"using"in H?H.using.call(L,Qe):Ye.css(Qe)}},D.fn.extend({offset:function(L){if(arguments.length)return L===void 0?this:this.each(function(mt){D.offset.setOffset(this,L,mt)});var H,it,st=this[0];return st?st.getClientRects().length?(H=st.getBoundingClientRect(),it=st.ownerDocument.defaultView,{top:H.top+it.pageYOffset,left:H.left+it.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var L,H,it,st=this[0],mt={top:0,left:0};if(D.css(st,"position")==="fixed")H=st.getBoundingClientRect();else{for(H=this.offset(),it=st.ownerDocument,L=st.offsetParent||it.documentElement;L&&(L===it.body||L===it.documentElement)&&D.css(L,"position")==="static";)L=L.parentNode;L&&L!==st&&L.nodeType===1&&((mt=D(L).offset()).top+=D.css(L,"borderTopWidth",!0),mt.left+=D.css(L,"borderLeftWidth",!0))}return{top:H.top-mt.top-D.css(st,"marginTop",!0),left:H.left-mt.left-D.css(st,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var L=this.offsetParent;L&&D.css(L,"position")==="static";)L=L.offsetParent;return L||vr})}}),D.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(L,H){var it=H==="pageYOffset";D.fn[L]=function(st){return ve(this,function(mt,St,Nt){var ue;if(T(mt)?ue=mt:mt.nodeType===9&&(ue=mt.defaultView),Nt===void 0)return ue?ue[H]:mt[St];ue?ue.scrollTo(it?ue.pageXOffset:Nt,it?Nt:ue.pageYOffset):mt[St]=Nt},L,st,arguments.length)}}),D.each(["top","left"],function(L,H){D.cssHooks[H]=hr(C.pixelPosition,function(it,st){if(st)return st=Wi(it,H),ce.test(st)?D(it).position()[H]+"px":st})}),D.each({Height:"height",Width:"width"},function(L,H){D.each({padding:"inner"+L,content:H,"":"outer"+L},function(it,st){D.fn[st]=function(mt,St){var Nt=arguments.length&&(it||typeof mt!="boolean"),ue=it||(mt===!0||St===!0?"margin":"border");return ve(this,function(he,ke,Ye){var Qe;return T(he)?st.indexOf("outer")===0?he["inner"+L]:he.document.documentElement["client"+L]:he.nodeType===9?(Qe=he.documentElement,Math.max(he.body["scroll"+L],Qe["scroll"+L],he.body["offset"+L],Qe["offset"+L],Qe["client"+L])):Ye===void 0?D.css(he,ke,ue):D.style(he,ke,Ye,ue)},H,Nt?mt:void 0,Nt)}})}),D.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(L,H){D.fn[H]=function(it){return this.on(H,it)}}),D.fn.extend({bind:function(L,H,it){return this.on(L,null,H,it)},unbind:function(L,H){return this.off(L,null,H)},delegate:function(L,H,it,st){return this.on(H,L,it,st)},undelegate:function(L,H,it){return arguments.length===1?this.off(L,"**"):this.off(H,L||"**",it)},hover:function(L,H){return this.on("mouseenter",L).on("mouseleave",H||L)}}),D.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(L,H){D.fn[H]=function(it,st){return arguments.length>0?this.on(H,null,it,st):this.trigger(H)}});var S0=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;D.proxy=function(L,H){var it,st,mt;if(typeof H=="string"&&(it=L[H],H=L,L=it),E(L))return st=o.call(arguments,2),mt=function(){return L.apply(H||this,st.concat(o.call(arguments)))},mt.guid=L.guid=L.guid||D.guid++,mt},D.holdReady=function(L){L?D.readyWait++:D.ready(!0)},D.isArray=Array.isArray,D.parseJSON=JSON.parse,D.nodeName=_,D.isFunction=E,D.isWindow=T,D.camelCase=Ci,D.type=M,D.now=Date.now,D.isNumeric=function(L){var H=D.type(L);return(H==="number"||H==="string")&&!isNaN(L-parseFloat(L))},D.trim=function(L){return L==null?"":(L+"").replace(S0,"$1")},(a=function(){return D}.apply(i,[]))===void 0||(g.exports=a);var nb=v.jQuery,tn=v.$;return D.noConflict=function(L){return v.$===D&&(v.$=tn),L&&v.jQuery===D&&(v.jQuery=nb),D},f===void 0&&(v.jQuery=v.$=D),D})},834:(g,i,a)=>{var v=a(414);function f(){}function h(){}h.resetWarningCache=f,g.exports=function(){function u(p,l,m,y,x,b){if(b!==v){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}function o(){return u}u.isRequired=u;var d={array:u,bigint:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:o,element:u,elementType:u,instanceOf:o,node:u,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:h,resetWarningCache:f};return d.PropTypes=d,d}},697:(g,i,a)=>{g.exports=a(834)()},414:g=>{g.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},156:g=>{g.exports=r}},c={};function S(g){var i=c[g];if(i!==void 0)return i.exports;var a=c[g]={id:g,exports:{}};return n[g].call(a.exports,a,a.exports,S),a.exports}S.n=g=>{var i=g&&g.__esModule?()=>g.default:()=>g;return S.d(i,{a:i}),i},S.d=(g,i)=>{for(var a in i)S.o(i,a)&&!S.o(g,a)&&Object.defineProperty(g,a,{enumerable:!0,get:i[a]})},S.o=(g,i)=>Object.prototype.hasOwnProperty.call(g,i),S.r=g=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var s={};return(()=>{S.r(s),S.d(s,{EditableMathField:()=>a,StaticMathField:()=>v,addStyles:()=>i,default:()=>f});var g=S(527);function i(){if(document.getElementById("react-mathquill-styles")==null){var h=document.createElement("style");h.setAttribute("id","react-mathquill-styles"),h.innerHTML=g.Z[0][1],document.getElementsByTagName("head")[0].appendChild(h)}}var a=S(991).Z,v=S(717).Z;const f=a})(),s})())})(tN);var jit=tN.exports,Ln=jit;const Uit="_correctContainer_4stcn_1",zit="_leftBack_4stcn_7",Git="_img_4stcn_11",Hit="_mathField_4stcn_16",$0={correctContainer:Uit,leftBack:zit,img:Git,mathField:Hit};Ln.addStyles();const Ji=e=>!e&&e!==0?"":e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),$p=["st","nd","rd","th"],eN=e=>e%100<11||e%100>13?e%10===1?$p[0]:e%10===2?$p[1]:e%10===3?$p[2]:$p[3]:$p[3],$it=["","","","","","","","","",""],Vit=e=>{let t="";return e.toString().split("").forEach(r=>{t+=$it[Number(r)]}),t},yo=e=>{let t=e;if(e>=1e3){const r=["","K","M","B","T"],n=Math.floor((e.toString().length-1)/3);if(n<r.length){let c="";for(let S=3;S>=1&&(c=parseFloat((n!==0?e/gn(1e3,n):e).toPrecision(S)),!(c.toString().replace(/[^a-zA-Z 0-9]+/g,"").length<=3));S--);c%1!==0&&(c=c.toFixed(1)),t=c+r[n]}else{let c=e,S=0;for(;c>=100;)c=Math.floor(c/10),S+=1;t=`${c/10}  10${Vit(S+1)}`}}return t},Ks=e=>{const r=window.location.search.substring(1).split("&");for(let n=0;n<r.length;n++){const c=r[n].split("=");if(c[0]===e)return c[1]}return!1},T8=()=>window.location.search.substring(1).split("&").filter(r=>r!=="").length,Wit=()=>{const e=window.document,t=e.documentElement,r=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen,n=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;return!e.fullscreenElement&&!e.mozFullScreenElement&&!e.webkitFullscreenElement&&!e.msFullscreenElement?(r&&r.call(t),!0):(n&&n.call(e),!1)},C8=()=>{const e=window.document;return!(!e.fullscreenElement&&!e.mozFullScreenElement&&!e.webkitFullscreenElement&&!e.msFullscreenElement&&(window.screen.width!==window.innerWidth||window.screen.height!==window.innerHeight))},Za=(e,t)=>Math.floor(Math.random()*(t-e))+e,cr=(e,t)=>Math.random()*(t-e)+e,B2=e=>e[Math.floor(Math.random()*e.length)],Fv={Common:"#ffffff",Uncommon:"#4bc22e",Rare:"#0a14fa",Epic:"#be0000",Legendary:"#ff910f",Chroma:"#00ccff",Unique:"#008080",Mystical:"#a335ee"},Dn=(e,t)=>{if(!e)return e;let r=e.indexOf("upload/");if(r===-1||e.includes("images.unsplash.com"))return e;r+=7;const n=t?"f_auto":"c_limit,f_auto,h_250,fl_lossy,q_auto:low";return`${e.slice(0,r)}${n}${e.slice(r-1,e.length)}`},V0=e=>{if(!e)return e;let t=e.indexOf("upload/");return t===-1?e:(t+=7,`${e.slice(0,t)}f_auto,q_auto:best${e.slice(t-1,e.length)}`)},iN=(e,t,r)=>e.map((n,c)=>A.jsxs("div",{className:$0.correctContainer,children:[c!==0?A.jsx("span",{className:$0.leftBack,children:"& "}):null,n.split("`~`").length===2?A.jsx("img",{src:Dn(n.split("`~`")[1]),alt:"Answer",draggable:!1,className:$0.img,style:{maxWidth:20*1.5,maxHeight:20*1.5}}):n.slice(0,3)==="`*`"?A.jsx(Ln.StaticMathField,{className:$0.mathField,style:{color:"#3a3a3a",borderColor:"#3a3a3a",fontSize:"20px"},children:n.slice(3,n.length-3)}):A.jsx("span",{children:n})]},c)),Yit=e=>{const t=e||window.event;return t&&(t.returnValue="Are you sure you want to leave?"),"Are you sure you want to leave?"},Xit=()=>{window.removeEventListener("beforeunload",Yit)},Qit=e=>/[^-\]_.~!*'();:@&+$,/%#[A-z0-9]/.test(e),Kit=e=>e?e.indexOf(" ")>=0?"Usernames can't have spaces.":e.indexOf("	")>=0?"Usernames can't have tabs.":e.indexOf('"')>=0?"Usernames can't have quotations.":Qit(e)?"Usernames can't have extra special characters.":_it().test(e)?"Sorry, no emojis allowed.":e.length>15?"Sorry, that name is too long.":null:"Where's The Name?",OE=75,rN=e=>e?e.length>OE?"Sorry, that title is too long.":null:"Where's The Title?",NE=300,nN=e=>e.length>NE?"Sorry, that description is too long.":null,Jit=e=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);const r=document.getSelection().rangeCount>0?document.getSelection().getRangeAt(0):!1;t.select(),document.execCommand("copy"),document.body.removeChild(t),r&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(r))},nr={id:"https://id.blooket.com",play:"https://play.blooket.com",dashboard:"https://dashboard.blooket.com",www:"https://www.blooket.com",security:"https://s.blooket.com"};class Ro extends ti.Component{constructor(t){super(t),this.state={leftText:t.leftText,rightText:t.rightText,rightLink:t.rightLink,full:C8()},this.checkResize=this.checkResize.bind(this)}componentDidMount(){window.addEventListener("resize",this.checkResize)}componentWillUnmount(){window.removeEventListener("resize",this.checkResize)}checkResize(){this.setState({full:C8()})}render(){return A.jsxs("div",{className:Hp.header,children:[this.state.leftText?A.jsxs("div",{className:Hp.headerLeft,children:[ur?null:A.jsx("i",{className:Ct(Hp.expandIcon,this.state.full?"fas fa-compress":"fas fa-expand"),role:"button",tabIndex:0,onClick:()=>this.setState({full:Wit()})}),this.state.leftText]}):A.jsx("a",{className:Hp.blooketText,href:nr.www,children:"Blooket"}),this.state.rightText?A.jsx(ss,{className:Hp.headerRight,to:this.state.rightLink,children:this.state.rightText}):null]})}}Ro.propTypes={leftText:Wt.string,rightText:Wt.string,rightLink:Wt.string};const Zit="_button_552gk_1",qit="_shadow_552gk_11",trt="_edge_552gk_23",ert="_front_552gk_33",Oo={button:Zit,shadow:qit,edge:trt,front:ert},Ti=({onClick:e,color:t,outsideClass:r,insideClass:n,style:c,children:S,linkTo:s,linkNewTab:g})=>{const i=c||{};return s?s.startsWith("http")?A.jsxs("a",{className:Ct(Oo.button,r),style:i,href:s,target:g?"_blank":void 0,rel:g?"noopener noreferrer":void 0,children:[A.jsx("div",{className:Oo.shadow}),A.jsx("div",{className:Oo.edge,style:{backgroundColor:t}}),A.jsx("div",{className:Ct(Oo.front,n),style:{backgroundColor:t},children:S})]}):A.jsxs(ss,{className:Ct(Oo.button,r),style:i,to:s,children:[A.jsx("div",{className:Oo.shadow}),A.jsx("div",{className:Oo.edge,style:{backgroundColor:t}}),A.jsx("div",{className:Ct(Oo.front,n),style:{backgroundColor:t},children:S})]}):A.jsxs("div",{className:Ct(Oo.button,r),style:i,role:"button",tabIndex:0,onClick:e,children:[A.jsx("div",{className:Oo.shadow}),A.jsx("div",{className:Oo.edge,style:{backgroundColor:t}}),A.jsx("div",{className:Ct(Oo.front,n),style:{backgroundColor:t},children:S})]})};Ti.propTypes={onClick:Wt.func,color:Wt.string,outsideClass:Wt.string,insideClass:Wt.string,style:Wt.object,children:Wt.any,linkTo:Wt.string,linkNewTab:Wt.bool};var FE={exports:{}},sN=function(t,r){return function(){for(var c=new Array(arguments.length),S=0;S<c.length;S++)c[S]=arguments[S];return t.apply(r,c)}},irt=sN,Tc=Object.prototype.toString;function LE(e){return Array.isArray(e)}function O2(e){return typeof e=="undefined"}function rrt(e){return e!==null&&!O2(e)&&e.constructor!==null&&!O2(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function aN(e){return Tc.call(e)==="[object ArrayBuffer]"}function nrt(e){return Tc.call(e)==="[object FormData]"}function srt(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&aN(e.buffer),t}function art(e){return typeof e=="string"}function ort(e){return typeof e=="number"}function oN(e){return e!==null&&typeof e=="object"}function e1(e){if(Tc.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function lrt(e){return Tc.call(e)==="[object Date]"}function urt(e){return Tc.call(e)==="[object File]"}function hrt(e){return Tc.call(e)==="[object Blob]"}function lN(e){return Tc.call(e)==="[object Function]"}function crt(e){return oN(e)&&lN(e.pipe)}function frt(e){return Tc.call(e)==="[object URLSearchParams]"}function drt(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function prt(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function _E(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),LE(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.call(null,e[c],c,e)}function N2(){var e={};function t(c,S){e1(e[S])&&e1(c)?e[S]=N2(e[S],c):e1(c)?e[S]=N2({},c):LE(c)?e[S]=c.slice():e[S]=c}for(var r=0,n=arguments.length;r<n;r++)_E(arguments[r],t);return e}function vrt(e,t,r){return _E(t,function(c,S){r&&typeof c=="function"?e[S]=irt(c,r):e[S]=c}),e}function mrt(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var co={isArray:LE,isArrayBuffer:aN,isBuffer:rrt,isFormData:nrt,isArrayBufferView:srt,isString:art,isNumber:ort,isObject:oN,isPlainObject:e1,isUndefined:O2,isDate:lrt,isFile:urt,isBlob:hrt,isFunction:lN,isStream:crt,isURLSearchParams:frt,isStandardBrowserEnv:prt,forEach:_E,merge:N2,extend:vrt,trim:drt,stripBOM:mrt},zf=co;function E8(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var uN=function(t,r,n){if(!r)return t;var c;if(n)c=n(r);else if(zf.isURLSearchParams(r))c=r.toString();else{var S=[];zf.forEach(r,function(i,a){i===null||typeof i=="undefined"||(zf.isArray(i)?a=a+"[]":i=[i],zf.forEach(i,function(f){zf.isDate(f)?f=f.toISOString():zf.isObject(f)&&(f=JSON.stringify(f)),S.push(E8(a)+"="+E8(f))}))}),c=S.join("&")}if(c){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t},grt=co;function mx(){this.handlers=[]}mx.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};mx.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};mx.prototype.forEach=function(t){grt.forEach(this.handlers,function(n){n!==null&&t(n)})};var yrt=mx,xrt=co,brt=function(t,r){xrt.forEach(t,function(c,S){S!==r&&S.toUpperCase()===r.toUpperCase()&&(t[r]=c,delete t[S])})},hN=function(t,r,n,c,S){return t.config=r,n&&(t.code=n),t.request=c,t.response=S,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},cN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tS,k8;function fN(){if(k8)return tS;k8=1;var e=hN;return tS=function(r,n,c,S,s){var g=new Error(r);return e(g,n,c,S,s)},tS}var eS,D8;function Srt(){if(D8)return eS;D8=1;var e=fN();return eS=function(r,n,c){var S=c.config.validateStatus;!c.status||!S||S(c.status)?r(c):n(e("Request failed with status code "+c.status,c.config,null,c.request,c))},eS}var iS,A8;function wrt(){if(A8)return iS;A8=1;var e=co;return iS=e.isStandardBrowserEnv()?function(){return{write:function(n,c,S,s,g,i){var a=[];a.push(n+"="+encodeURIComponent(c)),e.isNumber(S)&&a.push("expires="+new Date(S).toGMTString()),e.isString(s)&&a.push("path="+s),e.isString(g)&&a.push("domain="+g),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(n){var c=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),iS}var rS,P8;function Trt(){return P8||(P8=1,rS=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}),rS}var nS,R8;function Crt(){return R8||(R8=1,nS=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}),nS}var sS,I8;function Ert(){if(I8)return sS;I8=1;var e=Trt(),t=Crt();return sS=function(n,c){return n&&!e(c)?t(n,c):c},sS}var aS,M8;function krt(){if(M8)return aS;M8=1;var e=co,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return aS=function(n){var c={},S,s,g;return n&&e.forEach(n.split(`
`),function(a){if(g=a.indexOf(":"),S=e.trim(a.substr(0,g)).toLowerCase(),s=e.trim(a.substr(g+1)),S){if(c[S]&&t.indexOf(S)>=0)return;S==="set-cookie"?c[S]=(c[S]?c[S]:[]).concat([s]):c[S]=c[S]?c[S]+", "+s:s}}),c},aS}var oS,B8;function Drt(){if(B8)return oS;B8=1;var e=co;return oS=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),c;function S(s){var g=s;return r&&(n.setAttribute("href",g),g=n.href),n.setAttribute("href",g),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return c=S(window.location.href),function(g){var i=e.isString(g)?S(g):g;return i.protocol===c.protocol&&i.host===c.host}}():function(){return function(){return!0}}(),oS}var lS,O8;function gx(){if(O8)return lS;O8=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,lS=e,lS}var uS,N8;function F8(){if(N8)return uS;N8=1;var e=co,t=Srt(),r=wrt(),n=uN,c=Ert(),S=krt(),s=Drt(),g=fN(),i=cN,a=gx();return uS=function(f){return new Promise(function(u,o){var d=f.data,p=f.headers,l=f.responseType,m;function y(){f.cancelToken&&f.cancelToken.unsubscribe(m),f.signal&&f.signal.removeEventListener("abort",m)}e.isFormData(d)&&delete p["Content-Type"];var x=new XMLHttpRequest;if(f.auth){var b=f.auth.username||"",w=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";p.Authorization="Basic "+btoa(b+":"+w)}var C=c(f.baseURL,f.url);x.open(f.method.toUpperCase(),n(C,f.params,f.paramsSerializer),!0),x.timeout=f.timeout;function E(){if(x){var k="getAllResponseHeaders"in x?S(x.getAllResponseHeaders()):null,P=!l||l==="text"||l==="json"?x.responseText:x.response,R={data:P,status:x.status,statusText:x.statusText,headers:k,config:f,request:x};t(function(I){u(I),y()},function(I){o(I),y()},R),x=null}}if("onloadend"in x?x.onloadend=E:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(E)},x.onabort=function(){x&&(o(g("Request aborted",f,"ECONNABORTED",x)),x=null)},x.onerror=function(){o(g("Network Error",f,null,x)),x=null},x.ontimeout=function(){var P=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",R=f.transitional||i;f.timeoutErrorMessage&&(P=f.timeoutErrorMessage),o(g(P,f,R.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",x)),x=null},e.isStandardBrowserEnv()){var T=(f.withCredentials||s(C))&&f.xsrfCookieName?r.read(f.xsrfCookieName):void 0;T&&(p[f.xsrfHeaderName]=T)}"setRequestHeader"in x&&e.forEach(p,function(P,R){typeof d=="undefined"&&R.toLowerCase()==="content-type"?delete p[R]:x.setRequestHeader(R,P)}),e.isUndefined(f.withCredentials)||(x.withCredentials=!!f.withCredentials),l&&l!=="json"&&(x.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&x.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(m=function(k){x&&(o(!k||k&&k.type?new a("canceled"):k),x.abort(),x=null)},f.cancelToken&&f.cancelToken.subscribe(m),f.signal&&(f.signal.aborted?m():f.signal.addEventListener("abort",m))),d||(d=null),x.send(d)})},uS}var ra=co,L8=brt,Art=hN,Prt=cN,Rrt={"Content-Type":"application/x-www-form-urlencoded"};function _8(e,t){!ra.isUndefined(e)&&ra.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Irt(){var e;return(typeof XMLHttpRequest!="undefined"||typeof lr!="undefined"&&Object.prototype.toString.call(lr)==="[object process]")&&(e=F8()),e}function Mrt(e,t,r){if(ra.isString(e))try{return(t||JSON.parse)(e),ra.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}var yx={transitional:Prt,adapter:Irt(),transformRequest:[function(t,r){return L8(r,"Accept"),L8(r,"Content-Type"),ra.isFormData(t)||ra.isArrayBuffer(t)||ra.isBuffer(t)||ra.isStream(t)||ra.isFile(t)||ra.isBlob(t)?t:ra.isArrayBufferView(t)?t.buffer:ra.isURLSearchParams(t)?(_8(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):ra.isObject(t)||r&&r["Content-Type"]==="application/json"?(_8(r,"application/json"),Mrt(t)):t}],transformResponse:[function(t){var r=this.transitional||yx.transitional,n=r&&r.silentJSONParsing,c=r&&r.forcedJSONParsing,S=!n&&this.responseType==="json";if(S||c&&ra.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(S)throw s.name==="SyntaxError"?Art(s,this,"E_JSON_PARSE"):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ra.forEach(["delete","get","head"],function(t){yx.headers[t]={}});ra.forEach(["post","put","patch"],function(t){yx.headers[t]=ra.merge(Rrt)});var jE=yx,Brt=co,Ort=jE,Nrt=function(t,r,n){var c=this||Ort;return Brt.forEach(n,function(s){t=s.call(c,t,r)}),t},hS,j8;function dN(){return j8||(j8=1,hS=function(t){return!!(t&&t.__CANCEL__)}),hS}var U8=co,cS=Nrt,Frt=dN(),Lrt=jE,_rt=gx();function fS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _rt("canceled")}var jrt=function(t){fS(t),t.headers=t.headers||{},t.data=cS.call(t,t.data,t.headers,t.transformRequest),t.headers=U8.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),U8.forEach(["delete","get","head","post","put","patch","common"],function(c){delete t.headers[c]});var r=t.adapter||Lrt.adapter;return r(t).then(function(c){return fS(t),c.data=cS.call(t,c.data,c.headers,t.transformResponse),c},function(c){return Frt(c)||(fS(t),c&&c.response&&(c.response.data=cS.call(t,c.response.data,c.response.headers,t.transformResponse))),Promise.reject(c)})},go=co,pN=function(t,r){r=r||{};var n={};function c(v,f){return go.isPlainObject(v)&&go.isPlainObject(f)?go.merge(v,f):go.isPlainObject(f)?go.merge({},f):go.isArray(f)?f.slice():f}function S(v){if(go.isUndefined(r[v])){if(!go.isUndefined(t[v]))return c(void 0,t[v])}else return c(t[v],r[v])}function s(v){if(!go.isUndefined(r[v]))return c(void 0,r[v])}function g(v){if(go.isUndefined(r[v])){if(!go.isUndefined(t[v]))return c(void 0,t[v])}else return c(void 0,r[v])}function i(v){if(v in r)return c(t[v],r[v]);if(v in t)return c(void 0,t[v])}var a={url:s,method:s,data:s,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:i};return go.forEach(Object.keys(t).concat(Object.keys(r)),function(f){var h=a[f]||S,u=h(f);go.isUndefined(u)&&h!==i||(n[f]=u)}),n},dS,z8;function vN(){return z8||(z8=1,dS={version:"0.26.1"}),dS}var Urt=vN().version,UE={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){UE[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var G8={};UE.transitional=function(t,r,n){function c(S,s){return"[Axios v"+Urt+"] Transitional option '"+S+"'"+s+(n?". "+n:"")}return function(S,s,g){if(t===!1)throw new Error(c(s," has been removed"+(r?" in "+r:"")));return r&&!G8[s]&&(G8[s]=!0,console.warn(c(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(S,s,g):!0}};function zrt(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),c=n.length;c-- >0;){var S=n[c],s=t[S];if(s){var g=e[S],i=g===void 0||s(g,S,e);if(i!==!0)throw new TypeError("option "+S+" must be "+i);continue}if(r!==!0)throw Error("Unknown option "+S)}}var Grt={assertOptions:zrt,validators:UE},mN=co,Hrt=uN,H8=yrt,$8=jrt,xx=pN,gN=Grt,Gf=gN.validators;function Xm(e){this.defaults=e,this.interceptors={request:new H8,response:new H8}}Xm.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=xx(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&gN.assertOptions(n,{silentJSONParsing:Gf.transitional(Gf.boolean),forcedJSONParsing:Gf.transitional(Gf.boolean),clarifyTimeoutError:Gf.transitional(Gf.boolean)},!1);var c=[],S=!0;this.interceptors.request.forEach(function(u){typeof u.runWhen=="function"&&u.runWhen(r)===!1||(S=S&&u.synchronous,c.unshift(u.fulfilled,u.rejected))});var s=[];this.interceptors.response.forEach(function(u){s.push(u.fulfilled,u.rejected)});var g;if(!S){var i=[$8,void 0];for(Array.prototype.unshift.apply(i,c),i=i.concat(s),g=Promise.resolve(r);i.length;)g=g.then(i.shift(),i.shift());return g}for(var a=r;c.length;){var v=c.shift(),f=c.shift();try{a=v(a)}catch(h){f(h);break}}try{g=$8(a)}catch(h){return Promise.reject(h)}for(;s.length;)g=g.then(s.shift(),s.shift());return g};Xm.prototype.getUri=function(t){return t=xx(this.defaults,t),Hrt(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};mN.forEach(["delete","get","head","options"],function(t){Xm.prototype[t]=function(r,n){return this.request(xx(n||{},{method:t,url:r,data:(n||{}).data}))}});mN.forEach(["post","put","patch"],function(t){Xm.prototype[t]=function(r,n,c){return this.request(xx(c||{},{method:t,url:r,data:n}))}});var $rt=Xm,pS,V8;function Vrt(){if(V8)return pS;V8=1;var e=gx();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(s){n=s});var c=this;this.promise.then(function(S){if(c._listeners){var s,g=c._listeners.length;for(s=0;s<g;s++)c._listeners[s](S);c._listeners=null}}),this.promise.then=function(S){var s,g=new Promise(function(i){c.subscribe(i),s=i}).then(S);return g.cancel=function(){c.unsubscribe(s)},g},r(function(s){c.reason||(c.reason=new e(s),n(c.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},t.prototype.unsubscribe=function(n){if(this._listeners){var c=this._listeners.indexOf(n);c!==-1&&this._listeners.splice(c,1)}},t.source=function(){var n,c=new t(function(s){n=s});return{token:c,cancel:n}},pS=t,pS}var vS,W8;function Wrt(){return W8||(W8=1,vS=function(t){return function(n){return t.apply(null,n)}}),vS}var mS,Y8;function Yrt(){if(Y8)return mS;Y8=1;var e=co;return mS=function(r){return e.isObject(r)&&r.isAxiosError===!0},mS}var X8=co,Xrt=sN,i1=$rt,Qrt=pN,Krt=jE;function yN(e){var t=new i1(e),r=Xrt(i1.prototype.request,t);return X8.extend(r,i1.prototype,t),X8.extend(r,t),r.create=function(c){return yN(Qrt(e,c))},r}var Au=yN(Krt);Au.Axios=i1;Au.Cancel=gx();Au.CancelToken=Vrt();Au.isCancel=dN();Au.VERSION=vN().version;Au.all=function(t){return Promise.all(t)};Au.spread=Wrt();Au.isAxiosError=Yrt();FE.exports=Au;FE.exports.default=Au;var Jrt=FE.exports,Zrt=Jrt;const xN=Rs(Zrt),vi=xN.create({baseURL:"https://dashboard.blooket.com",withCredentials:!0});class qrt{constructor(){Ei(this,"data");Ei(this,"loading");this.data=null,this.loading=!0,this.getLoggedIn()}getData(){return oi(this,null,function*(){return this.loading&&(yield this.getLoggedIn()),this.data})}getLoggedIn(){return oi(this,null,function*(){if(this.loading=!0,typeof window!="undefined")return vi.get("/api/users/me").then(t=>{this.data=t.data,this.loading=!1}).catch(()=>{this.data=null,this.loading=!1});this.data=null,this.loading=!1})}}const vm=zi.createContext(null),Sn=e=>t=>A.jsx(vm.Consumer,{children:r=>A.jsx(e,Or(ji({},t),{user:r}))}),On=e=>t=>{const r=zi.useContext(vm),[n,c]=zi.useState(!1);return zi.useEffect(()=>{oi(bn,null,function*(){try{(yield r==null?void 0:r.getData())||(window.location.href=`${nr.id}/login`),c(!0)}catch(S){window.location.href=`${nr.id}/login`}})},[r]),n?A.jsx(vm.Consumer,{children:S=>A.jsx(e,ji({},t))}):null},tnt="_modal_nbamd_3",ent="_mBody_nbamd_15",rnt="_regularBody_nbamd_30",nnt="_profileRegularBody_nbamd_41",snt="_hostRegularBody_nbamd_50",ant="_regularBodyMax_nbamd_61",ont="_body_nbamd_71",lnt="_hostBody_nbamd_84",unt="_royaleHeaderContainer_nbamd_97",hnt="_royaleHeaderText_nbamd_107",cnt="_fadeInPop_nbamd_1",fnt="_leftSlantLine_nbamd_129",dnt="_leftBottomLine_nbamd_140",pnt="_leftName_nbamd_150",vnt="_leftEnergyIcon_nbamd_167",mnt="_leftEnergyContainer_nbamd_175",gnt="_energy_nbamd_185",ynt="_rightSlantLine_nbamd_191",xnt="_rightBottomLine_nbamd_202",bnt="_rightName_nbamd_212",Snt="_rightEnergyIcon_nbamd_229",wnt="_rightEnergyContainer_nbamd_237",Tnt="_skipButton_nbamd_247",Cnt="_factorySpin_nbamd_265",Ent="_vortex_nbamd_1",knt="_factoryReverse_nbamd_285",Dnt="_factoryFlip_nbamd_294",Ant="_factoryMicro_nbamd_303",Pnt="_bottomTipText_nbamd_312",Rnt="_googleButton_nbamd_324",Int="_googleLogo_nbamd_346",Mnt="_slantBackground_nbamd_351",Bnt="_tooltip_nbamd_363",Ont="_modalButton_nbamd_372",Nnt="_bigImage_nbamd_380",Fnt="_underline_nbamd_390",Lnt="_blockedText_nbamd_394",_nt="_profileBody_nbamd_406",jnt="_profileBodyMax_nbamd_416",Unt="_flex_nbamd_426",He={modal:tnt,mBody:ent,regularBody:rnt,profileRegularBody:nnt,hostRegularBody:snt,regularBodyMax:ant,body:ont,hostBody:lnt,royaleHeaderContainer:unt,royaleHeaderText:hnt,fadeInPop:cnt,leftSlantLine:fnt,leftBottomLine:dnt,leftName:pnt,leftEnergyIcon:vnt,leftEnergyContainer:mnt,energy:gnt,rightSlantLine:ynt,rightBottomLine:xnt,rightName:bnt,rightEnergyIcon:Snt,rightEnergyContainer:wnt,skipButton:Tnt,factorySpin:Cnt,vortex:Ent,factoryReverse:knt,factoryFlip:Dnt,factoryMicro:Ant,bottomTipText:Pnt,googleButton:Rnt,googleLogo:Int,slantBackground:Mnt,tooltip:Bnt,modalButton:Ont,bigImage:Nnt,underline:Fnt,blockedText:Lnt,profileBody:_nt,profileBodyMax:jnt,flex:Unt},znt="_background_creza_1",Gnt="_header_creza_13",Hnt="_saleHeader_creza_24",$nt="_saleSubHeader_creza_42",Vnt="_planContainer_creza_47",Wnt="_plan_creza_47",Ynt="_planBackgroundContainer_creza_70",Xnt="_planBackground_creza_70",Qnt="_plan1_creza_93",Knt="_plan2_creza_97",Jnt="_plan3_creza_101",Znt="_planTop_creza_105",qnt="_planSale_creza_117",tst="_planSaleSmall_creza_137",est="_xPlanPrice_creza_142",ist="_planPrice_creza_151",rst="_planSubText_creza_159",nst="_planDetail_creza_168",sst="_planSpacer_creza_175",ast="_planButton_creza_183",ost="_planButtonInside_creza_188",lst="_groupContainer_creza_194",ust="_groupButton_creza_214",hst="_middleWrapper_creza_219",cst="_middleHeader_creza_226",fst="_middlePerks_creza_236",dst="_perkContainer_creza_244",pst="_perkIcon_creza_259",vst="_perkInfo_creza_270",mst="_perkTitle_creza_278",gst="_questionsHeader_creza_284",yst="_questionsWrapper_creza_292",xst="_questionContainer_creza_300",bst="_questionHeader_creza_313",Sst="_questionText_creza_319",wst="_spacer_creza_323",Tst="_link_creza_327",Ai={background:znt,header:Gnt,saleHeader:Hnt,saleSubHeader:$nt,planContainer:Vnt,plan:Wnt,planBackgroundContainer:Ynt,planBackground:Xnt,plan1:Qnt,plan2:Knt,plan3:Jnt,planTop:Znt,planSale:qnt,planSaleSmall:tst,xPlanPrice:est,planPrice:ist,planSubText:rst,planDetail:nst,planSpacer:sst,planButton:ast,planButtonInside:ost,groupContainer:lst,groupButton:ust,middleWrapper:hst,middleHeader:cst,middlePerks:fst,perkContainer:dst,perkIcon:pst,perkInfo:vst,perkTitle:mst,questionsHeader:gst,questionsWrapper:yst,questionContainer:xst,questionHeader:bst,questionText:Sst,spacer:wst,link:Tst},_h=$i.makeEnum("dashboardservice.v1.CurrentSeason",[{no:0,name:"CURRENT_SEASON_NONE",localName:"NONE"},{no:1,name:"CURRENT_SEASON_SPOOKY",localName:"SPOOKY"},{no:2,name:"CURRENT_SEASON_WINTER",localName:"WINTER"},{no:3,name:"CURRENT_SEASON_FALL",localName:"FALL"},{no:4,name:"CURRENT_SEASON_SHAMROCK",localName:"SHAMROCK"},{no:5,name:"CURRENT_SEASON_EASTER",localName:"EASTER"}]),To=$i.makeEnum("dashboardservice.v1.DashboardLayout",[{no:0,name:"DASHBOARD_LAYOUT_UNKNOWN",localName:"UNKNOWN"},{no:1,name:"DASHBOARD_LAYOUT_TEACHER",localName:"TEACHER"},{no:2,name:"DASHBOARD_LAYOUT_STUDENT",localName:"STUDENT"}]),zE=$i.makeMessageType("dashboardservice.v1.ProfileBlook",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"svg_url",kind:"scalar",T:9},{no:3,name:"num_owned",kind:"scalar",T:5},{no:4,name:"set",kind:"scalar",T:9},{no:5,name:"rarity",kind:"scalar",T:9},{no:6,name:"team_name",kind:"scalar",T:9},{no:7,name:"color",kind:"scalar",T:9}]),Cst=$i.makeMessageType("dashboardservice.v1.MeRequest",[]),Est=$i.makeMessageType("dashboardservice.v1.MeReply",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"blook",kind:"message",T:zE},{no:3,name:"dashboard_layout",kind:"enum",T:$i.getEnumType(To)},{no:4,name:"current_season",kind:"enum",T:$i.getEnumType(_h)}]),kst=$i.makeMessageType("dashboardservice.v1.ChangeUserBlookRequest",()=>[{no:1,name:"blook",kind:"scalar",T:9}]),Dst=$i.makeMessageType("dashboardservice.v1.ChangeUserBlookReply",[]),Ast=$i.makeMessageType("dashboardservice.v1.PurchaseBlookBoxRequest",()=>[{no:1,name:"box_name",kind:"scalar",T:9}]),Pst=$i.makeMessageType("dashboardservice.v1.PurchaseBlookBoxReply",()=>[{no:1,name:"unlocked_blook",kind:"scalar",T:9},{no:2,name:"is_new_to_user",kind:"scalar",T:8},{no:3,name:"tokens",kind:"scalar",T:5}]),Rst=$i.makeMessageType("dashboardservice.v1.BlookSalePriceRequest",()=>[{no:1,name:"blook",kind:"scalar",T:9}]),Ist=$i.makeMessageType("dashboardservice.v1.BlookSalePriceReply",()=>[{no:1,name:"tokens",kind:"scalar",T:5}]),Mst=$i.makeMessageType("dashboardservice.v1.SellBlookRequest",()=>[{no:1,name:"blook",kind:"scalar",T:9},{no:2,name:"num_to_sell",kind:"scalar",T:5}]),Bst=$i.makeMessageType("dashboardservice.v1.SellBlookReply",()=>[{no:1,name:"blooks",kind:"message",T:zE,repeated:!0}]),Ost=$i.makeMessageType("dashboardservice.v1.ListUnlockedBlooksRequest",[]),Nst=$i.makeMessageType("dashboardservice.v1.ListUnlockedBlooksReply",()=>[{no:1,name:"blooks",kind:"message",T:zE,repeated:!0}]),Fst=$i.makeMessageType("dashboardservice.v1.WeeklyShopRequest",[]),Lst=$i.makeMessageType("dashboardservice.v1.WeeklyShopReply",()=>[{no:1,name:"items",kind:"message",T:jst,repeated:!0}]),_st=$i.makeMessageType("dashboardservice.v1.WeeklyShopReply.WeeklyShopData",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"rarity",kind:"scalar",T:9},{no:4,name:"price",kind:"scalar",T:5},{no:5,name:"type",kind:"scalar",T:9},{no:6,name:"num",kind:"scalar",T:5}],{localName:"WeeklyShopReply_WeeklyShopData"}),jst=$i.makeMessageType("dashboardservice.v1.WeeklyShopReply.WeeklyShopItem",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"data",kind:"message",T:_st}],{localName:"WeeklyShopReply_WeeklyShopItem"}),Ust=$i.makeMessageType("dashboardservice.v1.LimitedBlooksRequest",[]),Q8=$i.makeMessageType("dashboardservice.v1.LimitedBlooksReply",()=>[{no:1,name:"limited_blooks",kind:"message",T:zst,repeated:!0}]),zst=$i.makeMessageType("dashboardservice.v1.LimitedBlooksReply.LimitedBlook",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"price",kind:"scalar",T:5},{no:3,name:"owned",kind:"scalar",T:8}],{localName:"LimitedBlooksReply_LimitedBlook"}),Gst=$i.makeMessageType("dashboardservice.v1.PurchaseLimitedBlookRequest",()=>[{no:1,name:"name",kind:"scalar",T:9}]),Hst=$i.makeMessageType("dashboardservice.v1.UserBannersRequest",[]),$st=$i.makeMessageType("dashboardservice.v1.UserBannersReply",()=>[{no:1,name:"current_banner",kind:"message",T:K8},{no:2,name:"owned_banners",kind:"message",T:K8,repeated:!0}]),K8=$i.makeMessageType("dashboardservice.v1.UserBannersReply.UserBanner",()=>[{no:1,name:"slug",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"url",kind:"scalar",T:9}],{localName:"UserBannersReply_UserBanner"}),Vst=$i.makeMessageType("dashboardservice.v1.SaveCustomBlookRequest",()=>[{no:1,name:"custom_code",kind:"scalar",T:9},{no:2,name:"save_slot_index",kind:"scalar",T:5}]),Wst=$i.makeMessageType("dashboardservice.v1.SaveCustomBlookReply",[]),Yst=$i.makeMessageType("dashboardservice.v1.SettingsPageDataRequest",[]),Xst=$i.makeMessageType("dashboardservice.v1.SettingsPageDataReply",()=>[{no:1,name:"username",kind:"scalar",T:9},{no:2,name:"email",kind:"scalar",T:9},{no:3,name:"user_created_at",kind:"message",T:Go},{no:4,name:"dashboardLayout",kind:"enum",T:$i.getEnumType(To)},{no:6,name:"plan_name",kind:"scalar",T:9},{no:7,name:"plan_ends_at",kind:"message",T:Go,opt:!0},{no:8,name:"plan_renews_automatically",kind:"scalar",T:8}]),Qst=$i.makeMessageType("dashboardservice.v1.SetDashboardLayoutRequest",()=>[{no:1,name:"layout",kind:"enum",T:$i.getEnumType(To)}]),Kst=$i.makeMessageType("dashboardservice.v1.SetDashboardLayoutReply",[]),Jst=$i.makeMessageType("dashboardservice.v1.ListIndividualPlansRequest",[]),Zst=$i.makeMessageType("dashboardservice.v1.ListIndividualPlansReply",()=>[{no:1,name:"plans",kind:"message",T:qst,repeated:!0}]),qst=$i.makeMessageType("dashboardservice.v1.ListIndividualPlansReply.IndividualPlan",()=>[{no:1,name:"slug",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9},{no:4,name:"price_cents",kind:"scalar",T:5}],{localName:"ListIndividualPlansReply_IndividualPlan"}),tat=$i.makeMessageType("dashboardservice.v1.ListGroupPlansRequest",[]),eat=$i.makeMessageType("dashboardservice.v1.ListGroupPlansReply",()=>[{no:1,name:"plans",kind:"message",T:iat,repeated:!0}]),iat=$i.makeMessageType("dashboardservice.v1.ListGroupPlansReply.GroupPlan",()=>[{no:1,name:"slug",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"num_users",kind:"scalar",T:5},{no:4,name:"price_cents",kind:"scalar",T:5}],{localName:"ListGroupPlansReply_GroupPlan"}),rat=$i.makeMessageType("dashboardservice.v1.CreateIndividualCheckoutSessionRequest",()=>[{no:1,name:"slug",kind:"scalar",T:9}]),nat=$i.makeMessageType("dashboardservice.v1.CreateIndividualCheckoutSessionReply",()=>[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"publishable_key",kind:"scalar",T:9}]),sat=$i.makeMessageType("dashboardservice.v1.CreateGroupCheckoutSessionRequest",()=>[{no:1,name:"slug",kind:"scalar",T:9},{no:2,name:"group_name",kind:"scalar",T:9}]),aat=$i.makeMessageType("dashboardservice.v1.CreateGroupCheckoutSessionReply",()=>[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"publishable_key",kind:"scalar",T:9}]),oat=$i.makeMessageType("dashboardservice.v1.CheckoutSessionStatusRequest",[]),lat=$i.makeMessageType("dashboardservice.v1.CheckoutSessionStatusReply",()=>[{no:1,name:"payment_status",kind:"enum",T:$i.getEnumType(F2)}]),F2=$i.makeEnum("dashboardservice.v1.CheckoutSessionStatusReply.PaymentStatus",[{no:0,name:"PAYMENT_STATUS_UNKNOWN",localName:"UNKNOWN"},{no:1,name:"PAYMENT_STATUS_PAID",localName:"PAID"},{no:2,name:"PAYMENT_STATUS_UNPAID",localName:"UNPAID"}]),uat=$i.makeMessageType("dashboardservice.v1.CompleteCheckoutSessionRequest",[]),hat=$i.makeMessageType("dashboardservice.v1.CompleteCheckoutSessionReply",()=>[{no:1,name:"is_group",kind:"scalar",T:8}]),cat=$i.makeMessageType("dashboardservice.v1.CreateBillingSessionRequest",[]),fat=$i.makeMessageType("dashboardservice.v1.CreateBillingSessionReply",()=>[{no:1,name:"session_url",kind:"scalar",T:9}]),dat=$i.makeMessageType("dashboardservice.v1.IndividualUpgradePageDataRequest",[]),pat=$i.makeMessageType("dashboardservice.v1.IndividualUpgradePageDataReply",()=>[{no:1,name:"plus_annual_price_cents",kind:"scalar",T:5},{no:2,name:"plus_flex_price_cents",kind:"scalar",T:5},{no:3,name:"logged_in",kind:"scalar",T:8},{no:4,name:"current_plan_slug",kind:"scalar",T:9,opt:!0}]),vat={typeName:"dashboardservice.v1.DashboardService",methods:{me:{name:"Me",I:Cst,O:Est,kind:rn.Unary},changeUserBlook:{name:"ChangeUserBlook",I:kst,O:Dst,kind:rn.Unary},saveCustomBlook:{name:"SaveCustomBlook",I:Vst,O:Wst,kind:rn.Unary},purchaseBlookBox:{name:"PurchaseBlookBox",I:Ast,O:Pst,kind:rn.Unary},blookSalePrice:{name:"BlookSalePrice",I:Rst,O:Ist,kind:rn.Unary},sellBlook:{name:"SellBlook",I:Mst,O:Bst,kind:rn.Unary},listUnlockedBlooks:{name:"ListUnlockedBlooks",I:Ost,O:Nst,kind:rn.Unary},weeklyShop:{name:"WeeklyShop",I:Fst,O:Lst,kind:rn.Unary},limitedBlooks:{name:"LimitedBlooks",I:Ust,O:Q8,kind:rn.Unary},purchaseLimitedBlook:{name:"PurchaseLimitedBlook",I:Gst,O:Q8,kind:rn.Unary},userBanners:{name:"UserBanners",I:Hst,O:$st,kind:rn.Unary},settingsPageData:{name:"SettingsPageData",I:Yst,O:Xst,kind:rn.Unary},setDashboardLayout:{name:"SetDashboardLayout",I:Qst,O:Kst,kind:rn.Unary},individualUpgradePageData:{name:"IndividualUpgradePageData",I:dat,O:pat,kind:rn.Unary},listIndividualPlans:{name:"ListIndividualPlans",I:Jst,O:Zst,kind:rn.Unary},listGroupPlans:{name:"ListGroupPlans",I:tat,O:eat,kind:rn.Unary},createIndividualCheckoutSession:{name:"CreateIndividualCheckoutSession",I:rat,O:nat,kind:rn.Unary},createGroupCheckoutSession:{name:"CreateGroupCheckoutSession",I:sat,O:aat,kind:rn.Unary},checkoutSessionStatus:{name:"CheckoutSessionStatus",I:oat,O:lat,kind:rn.Unary},completeCheckoutSession:{name:"CompleteCheckoutSession",I:uat,O:hat,kind:rn.Unary},createBillingSession:{name:"CreateBillingSession",I:cat,O:fat,kind:rn.Unary}}},mat="https://dashboard.blooket.com/apipb",gat=void 0,yat="bid63be527a522b86a2095981b756290f026c7e2b8f18963802",xat=[RY()],Vr=IY(mat,vat,yat,gat,xat),bat=[{title:"Plus Game Modes",desc:"Gain access to game modes only available to Plus users",icon:"fas fa-gamepad"},{title:"Folders",desc:"Create folders to organize your question sets and favorites",icon:"fas fa-folder"},{title:"Larger Live Games",desc:"Host games with up to 300 players (60 player max with Starter)",icon:"fas fa-users"},{title:"Enhanced Reports",desc:"View question-by-question data and individual student breakdowns",icon:"fas fa-chart-bar"},{title:"Question Bank",desc:"Quickly add questions from any set to your own",icon:"fas fa-university"},{title:"Verified Curriculum",desc:"Use verified Plus question sets created by experts",icon:"fas fa-question-circle"},{title:"Copy & Duplicate",desc:"Create your own copy of any set to edit for yourself",icon:"fas fa-copy"},{title:"Audio Questions",desc:"Record or upload your own audio and add it to questions",icon:"fas fa-microphone-alt"},{title:"Longer Deadlines",desc:"Assign homeworks for up to 365 days (14 day max with Starter)",icon:"fas fa-file-alt"},{title:"Merging Sets",desc:"Combine two of your sets with only a few clicks",icon:"fas fa-random"},{title:"Bonus Tokens",desc:"10 extra tokens for students after every game",icon:"fas fa-coins"}];class bN extends ti.Component{constructor(t){super(t),this.state={loggedIn:!1,planSlug:"",hasPlus:!1,plusPriceCents:0,plusFlexPriceCents:0,backToSchoolPricing:!1},this.goToUpgradeLink=this.goToUpgradeLink.bind(this),this.plusUpgradeButtonText=this.plusUpgradeButtonText.bind(this),this.plusFlexUpgradeButtonText=this.plusFlexUpgradeButtonText.bind(this)}componentDidMount(){return oi(this,null,function*(){try{const t=yield Vr.individualUpgradePageData({});this.setState({planSlug:t.currentPlanSlug,loggedIn:t.loggedIn,hasPlus:t.loggedIn&&t.currentPlanSlug,plusPriceCents:t.plusAnnualPriceCents,plusFlexPriceCents:t.plusFlexPriceCents,backToSchoolPricing:t.plusAnnualPriceCents===499})}catch(t){Ue.logError("fetching individual upgrade page data",t)}})}goToUpgradeLink(t){let r="";if(this.state.loggedIn)this.state.hasPlus?r="/dashboard":r=`/upgrade/checkout/${t}`;else{const n=`${nr.dashboard}/upgrade/checkout/${t}`;r=`${nr.id}/signup?n=${n}`}window.location.href=r}plusUpgradeButtonText(){return this.state.loggedIn?this.state.planSlug==="plus"?"Already Owned":this.state.planSlug==="plus-flex"?"Already On Plus Flex":"Buy Now":"Get Started"}plusFlexUpgradeButtonText(){return this.state.loggedIn?this.state.planSlug==="plus"?"Already On Plus":this.state.planSlug==="plus-flex"?"Already Owned":"Buy Now":"Get Started"}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),A.jsx(Ro,{}),A.jsx("div",{className:Ai.background}),A.jsxs("div",{className:He.regularBody,children:[A.jsx("div",{className:Ai.header,children:"Level Up Your Classroom"}),this.state.plusPriceCents&&A.jsxs("div",{className:Ai.planContainer,children:[A.jsxs("div",{className:Ai.plan,children:[A.jsx("div",{className:Ai.planBackgroundContainer,children:A.jsx("div",{className:Ct(Ai.planBackground,Ai.plan1)})}),A.jsx("div",{className:Ai.planTop,children:"Starter"}),A.jsx("div",{className:Ai.planPrice,children:"Free"}),A.jsx("div",{className:Ai.planSubText,children:"forever"}),A.jsx("div",{className:Ai.planDetail,children:"Create or Discover Sets"}),A.jsx("div",{className:Ai.planSpacer}),A.jsx("div",{className:Ai.planDetail,children:"Unique Game Modes"}),A.jsx("div",{className:Ai.planSpacer}),A.jsx("div",{className:Ai.planDetail,children:"Question Set Search"}),A.jsx("div",{className:Ai.planSpacer}),A.jsx("div",{className:Ai.planDetail,children:"Up to 60 Players"}),A.jsx(Ti,{color:"#7fba43",linkTo:this.state.loggedIn?"/my-sets":`${this.state.idBase}/signup`,outsideClass:Ai.planButton,insideClass:Ai.planButtonInside,children:this.state.loggedIn?"Already Owned":"Get Started"})]}),A.jsxs("div",{className:Ai.plan,children:[A.jsx("div",{className:Ai.planBackgroundContainer,children:A.jsx("div",{className:Ct(Ai.planBackground,Ai.plan2)})}),A.jsx("div",{className:Ai.planTop,children:"Plus"}),this.state.backToSchoolPricing&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:Ai.planSale,children:[A.jsx("div",{className:Ai.planSaleSmall,children:"Save"}),"40%"]}),A.jsx("div",{className:Ai.xPlanPrice,children:"$4.99"})]}),A.jsx("div",{className:Ai.planPrice,children:`$${Ji(this.state.plusPriceCents/12/100)}`}),A.jsx("div",{className:Ai.planSubText,children:`per month, charged yearly ($${Ji(this.state.plusPriceCents/100)})`}),A.jsx("div",{className:Ai.planDetail,children:"All Starter Features"}),A.jsx("div",{className:Ai.planSpacer}),A.jsx("div",{className:Ai.planDetail,children:"Exclusive Game Modes"}),A.jsx("div",{className:Ai.planSpacer}),A.jsx("div",{className:Ai.planDetail,children:"Enhanced Game Reports"}),A.jsx("div",{className:Ai.planSpacer}),A.jsx("div",{className:Ai.planDetail,children:"Question Set Folders"}),A.jsx("div",{className:Ai.planSpacer}),A.jsx("div",{className:Ai.planDetail,children:"Verified Curriculum"}),A.jsx("div",{className:Ai.planSpacer}),A.jsx("div",{className:Ai.planDetail,children:"Copy & Duplicate Sets"}),A.jsx("div",{className:Ai.planSpacer}),A.jsx("div",{className:Ai.planDetail,children:"Up to 300 Players"}),A.jsx(Ti,{color:"#ff7b24",onClick:()=>this.goToUpgradeLink("plus"),outsideClass:Ai.planButton,insideClass:Ai.planButtonInside,children:this.plusUpgradeButtonText()})]}),A.jsxs("div",{className:Ai.plan,children:[A.jsx("div",{className:Ai.planBackgroundContainer,children:A.jsx("div",{className:Ct(Ai.planBackground,Ai.plan3)})}),A.jsx("div",{className:Ai.planTop,children:"Plus Flex"}),A.jsx("div",{className:Ai.planPrice,children:`$${Ji(this.state.plusFlexPriceCents/100)}`}),A.jsx("div",{className:Ai.planSubText,children:"per month"}),A.jsx("div",{className:Ai.planDetail,children:"All Plus Features"}),A.jsx("div",{className:Ai.planSpacer}),A.jsx("div",{className:Ai.planDetail,children:"Pay Monthly"}),A.jsx("div",{className:Ai.planSpacer}),A.jsx("div",{className:Ai.planDetail,children:"Cancel Whenever"}),A.jsx(Ti,{color:"#eb5726",onClick:()=>this.goToUpgradeLink("plus-flex"),outsideClass:Ai.planButton,insideClass:Ai.planButtonInside,children:this.plusFlexUpgradeButtonText()})]})]}),A.jsxs("div",{className:Ai.groupContainer,children:["Looking to buy for multiple teachers?",A.jsx(Ti,{color:"#0bc2cf",linkTo:"/upgrade/group/price",outsideClass:Ai.groupButton,insideClass:Ai.planButtonInside,children:"Group Pricing"})]}),A.jsxs("div",{className:Ai.middleWrapper,children:[A.jsx("div",{className:Ai.middleHeader,children:"Perks of Plus"}),A.jsx("div",{className:Ai.middlePerks,children:bat.map(t=>A.jsxs("div",{className:Ai.perkContainer,children:[A.jsx("i",{className:Ct(t.icon,Ai.perkIcon)}),A.jsxs("div",{className:Ai.perkInfo,children:[A.jsx("div",{className:Ai.perkTitle,children:t.title}),t.desc]})]},t.title))})]}),A.jsx("div",{className:Ai.questionsHeader,children:"Common Questions"}),A.jsxs("div",{className:Ai.questionsWrapper,children:[A.jsxs("div",{className:Ai.questionContainer,children:[A.jsx("div",{className:Ai.questionHeader,children:"How do I pay?"}),A.jsx("div",{className:Ai.questionText,children:`
                  We accept all major credits cards. Also, in order
                  to keep your information secure, we use a trusted third party service
                  to handle all payments. We will automatically renew Blooket Plus every
                  year and Blooket Plus Flex every month unless you cancel the subscription
                  in the Settings page of your profile.
                `})]}),A.jsxs("div",{className:Ai.questionContainer,children:[A.jsx("div",{className:Ai.questionHeader,children:"Can I use a purchase order?"}),A.jsxs("div",{className:Ai.questionText,children:[`
                  Unfortunately, we do not accept purchase orders for individual subscriptions.
                  However, you can use a purchase order for
                `,A.jsx("a",{href:"/upgrade/group/price",className:Ai.link,children:"group plans."})," ","Well generate a quote for you and send you a final invoice using your purchase order for these subscriptions."]})]})]}),A.jsx("div",{className:Ai.spacer})]})]})}}bN.propTypes={};const Sat=Sn(Ts(bN));var SN="https://js.stripe.com/v3",wat=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,J8="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Tat=function(){for(var t=document.querySelectorAll('script[src^="'.concat(SN,'"]')),r=0;r<t.length;r++){var n=t[r];if(wat.test(n.src))return n}return null},Z8=function(t){var r="",n=document.createElement("script");n.src="".concat(SN).concat(r);var c=document.head||document.body;if(!c)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return c.appendChild(n),n},Cat=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"3.3.0",startTime:r})},Vp=null,W0=null,Y0=null,Eat=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},kat=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},Dat=function(t){return Vp!==null?Vp:(Vp=new Promise(function(r,n){if(typeof window=="undefined"||typeof document=="undefined"){r(null);return}if(window.Stripe&&t&&console.warn(J8),window.Stripe){r(window.Stripe);return}try{var c=Tat();if(c&&t)console.warn(J8);else if(!c)c=Z8(t);else if(c&&Y0!==null&&W0!==null){var S;c.removeEventListener("load",Y0),c.removeEventListener("error",W0),(S=c.parentNode)===null||S===void 0||S.removeChild(c),c=Z8(t)}Y0=kat(r,n),W0=Eat(n),c.addEventListener("load",Y0),c.addEventListener("error",W0)}catch(s){n(s);return}}),Vp.catch(function(r){return Vp=null,Promise.reject(r)}))},Aat=function(t,r,n){if(t===null)return null;var c=t.apply(void 0,r);return Cat(c,n),c},Wp,wN=!1,TN=function(){return Wp||(Wp=Dat(null).catch(function(t){return Wp=null,Promise.reject(t)}),Wp)};Promise.resolve().then(function(){return TN()}).catch(function(e){wN||console.warn(e)});var CN=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];wN=!0;var c=Date.now();return TN().then(function(S){return Aat(S,r,c)})};const Pat="_container_1qxvy_1",Rat="_text_1qxvy_15",Iat="_blook_1qxvy_24",Mat="_holder_1qxvy_32",Bat="_inputContainer_1qxvy_36",Oat="_smallInputContainer_1qxvy_52",Nat="_smallishInputContainer_1qxvy_57",Fat="_input_1qxvy_36",Lat="_smallInput_1qxvy_52",_at="_longInput_1qxvy_92",jat="_inputFilled_1qxvy_118",Uat="_token_1qxvy_122",zat="_icon_1qxvy_130",Gat="_colorsHolder_1qxvy_140",Hat="_colorContainer_1qxvy_150",$at="_buttonContainer_1qxvy_164",Vat="_button_1qxvy_164",Wat="_buttonInside_1qxvy_178",Yat="_errorContainer_1qxvy_192",Xat="_errorIcon_1qxvy_204",Qat="_errorText_1qxvy_213",Kat="_numRow_1qxvy_221",Jat="_numTotal_1qxvy_229",Zat="_darkBg_1qxvy_236",qat="_whiteText_1qxvy_240",tot="_hiddenSubmit_1qxvy_244",kr={container:Pat,text:Rat,blook:Iat,holder:Mat,inputContainer:Bat,smallInputContainer:Oat,smallishInputContainer:Nat,input:Fat,smallInput:Lat,longInput:_at,inputFilled:jat,token:Uat,icon:zat,colorsHolder:Gat,colorContainer:Hat,buttonContainer:$at,button:Vat,buttonInside:Wat,errorContainer:Yat,errorIcon:Xat,errorText:Qat,numRow:Kat,numTotal:Jat,darkBg:Zat,whiteText:qat,hiddenSubmit:tot},eot={"Old Boot":{url:"https://ac.blooket.com/marketassets/blooks/oldboot.svg",set:"Aquatic",rarity:"Uncommon",teamName:"Da Boots",color:"#995b3c"},Jellyfish:{url:"https://ac.blooket.com/marketassets/blooks/jellyfish.svg",set:"Aquatic",rarity:"Uncommon",teamName:"Jelly Jumpers",color:"#c385b9"},Clownfish:{url:"https://ac.blooket.com/marketassets/blooks/clownfish.svg",set:"Aquatic",rarity:"Uncommon",teamName:"Nemo Extras",color:"#f7941d"},Frog:{url:"https://ac.blooket.com/marketassets/blooks/frog.svg",set:"Aquatic",rarity:"Uncommon",teamName:"Hippity Hoppers",color:"#a7d054"},Crab:{url:"https://ac.blooket.com/marketassets/blooks/crab.svg",set:"Aquatic",rarity:"Uncommon",teamName:"Cool Claws",color:"#cf1f3d"},Pufferfish:{url:"https://ac.blooket.com/marketassets/blooks/pufferfish.svg",set:"Aquatic",rarity:"Rare",teamName:"TEAM BIG",color:"#ddc4a6"},Blobfish:{url:"https://ac.blooket.com/marketassets/blooks/blobfish.svg",set:"Aquatic",rarity:"Rare",teamName:"blob blob blob",color:"#f3c1da"},Octopus:{url:"https://ac.blooket.com/marketassets/blooks/octopus.svg",set:"Aquatic",rarity:"Rare",teamName:"Team 8",color:"#a15095"},Narwhal:{url:"https://ac.blooket.com/marketassets/blooks/narwhal.svg",set:"Aquatic",rarity:"Epic",teamName:"NARWHALLLLL",color:"#dae6f5"},Dolphin:{url:"https://ac.blooket.com/marketassets/blooks/dolphin.svg",set:"Aquatic",rarity:"Epic",teamName:"Diving Dolphins",color:"#4e7197"},"Baby Shark":{url:"https://ac.blooket.com/marketassets/blooks/babyshark.svg",set:"Aquatic",rarity:"Legendary",teamName:"BABY SHARK",color:"#5588b7"},Megalodon:{url:"https://ac.blooket.com/marketassets/blooks/megalodon.svg",set:"Aquatic",rarity:"Legendary",teamName:"Megan's the Name",color:"#3d5d80"}},EN={"Snowy Owl":{url:"https://ac.blooket.com/marketassets/blooks/snowyowl.svg",set:"Arctic Animal",rarity:"Common",teamName:"Kool Kids",color:"#feda3f"},"Polar Bear":{url:"https://ac.blooket.com/marketassets/blooks/polarbear.svg",set:"Arctic Animal",rarity:"Common",teamName:"Snowy Students",color:"#7ca1d5"},"Arctic Fox":{url:"https://ac.blooket.com/marketassets/blooks/arcticfox.svg",set:"Arctic Animal",rarity:"Common",teamName:"Chilly Chosen",color:"#7ca1d5"},"Baby Penguin":{url:"https://ac.blooket.com/marketassets/blooks/babypenguin.svg",set:"Arctic Animal",rarity:"Common",teamName:"Party Penguins",color:"#414042"},Penguin:{url:"https://ac.blooket.com/marketassets/blooks/penguin.svg",set:"Arctic Animal",rarity:"Common",teamName:"Better Birds",color:"#fb8640"},"Arctic Hare":{url:"https://ac.blooket.com/marketassets/blooks/arctichare.svg",set:"Arctic Animal",rarity:"Common",teamName:"Arctic Achievers",color:"#7ca1d5"},Seal:{url:"https://ac.blooket.com/marketassets/blooks/seal.svg",set:"Arctic Animal",rarity:"Common",teamName:"Super Seals",color:"#7ca1d5"},Walrus:{url:"https://ac.blooket.com/marketassets/blooks/walrus.svg",set:"Arctic Animal",rarity:"Common",teamName:"Wordy Walruses",color:"#7d4f33"}},iot={"Snow Globe":{url:"https://ac.blooket.com/marketassets/blooks/snowglobe.svg",set:"Blizzard",rarity:"Uncommon",teamName:"Globetrotters",color:"#10afd1"},"Holiday Gift":{url:"https://ac.blooket.com/marketassets/blooks/holidaygift.svg",set:"Blizzard",rarity:"Uncommon",teamName:"Generous Givers",color:"#4ab96d"},"Hot Chocolate":{url:"https://ac.blooket.com/marketassets/blooks/hotchocolate.svg",set:"Blizzard",rarity:"Uncommon",teamName:"Cocoa Coziness",color:"#663723"},"Holiday Wreath":{url:"https://ac.blooket.com/marketassets/blooks/holidaywreath.svg",set:"Blizzard",rarity:"Uncommon",teamName:"Wreath Wreckers",color:"#6c9355"},Stocking:{url:"https://ac.blooket.com/marketassets/blooks/stocking.svg",set:"Blizzard",rarity:"Uncommon",teamName:"Stocking Stuffers",color:"#e52a00"},"Gingerbread Man":{url:"https://ac.blooket.com/marketassets/blooks/gingerbreadman.svg",set:"Blizzard",rarity:"Rare",teamName:"Cookie Crunchers",color:"#995b3c"},"Gingerbread House":{url:"https://ac.blooket.com/marketassets/blooks/gingerbreadhouse.svg",set:"Blizzard",rarity:"Rare",teamName:"Healthy Houses",color:"#995b3c"},Reindeer:{url:"https://ac.blooket.com/marketassets/blooks/reindeer.svg",set:"Blizzard",rarity:"Rare",teamName:"Ready Reindeer",color:"#9a5b3c"},Snowman:{url:"https://ac.blooket.com/marketassets/blooks/snowman.svg",set:"Blizzard",rarity:"Epic",teamName:"Summer Puddles",color:"#7ca1d5"},"Santa Claus":{url:"https://ac.blooket.com/marketassets/blooks/santaclaus.svg",set:"Blizzard",rarity:"Legendary",teamName:"Santa's Squad",color:"#d62027"}},rot={"Lil Bot":{url:"https://ac.blooket.com/marketassets/blooks/lilbot.svg",set:"Bot",rarity:"Uncommon",teamName:"Lil Bots",color:"#3e564a"},"Lovely Bot":{url:"https://ac.blooket.com/marketassets/blooks/lovelybot.svg",set:"Bot",rarity:"Uncommon",teamName:"Lovely Leaders",color:"#f179af"},"Angry Bot":{url:"https://ac.blooket.com/marketassets/blooks/angrybot.svg",set:"Bot",rarity:"Uncommon",teamName:"Evil Geniuses",color:"#f1613a"},"Happy Bot":{url:"https://ac.blooket.com/marketassets/blooks/happybot.svg",set:"Bot",rarity:"Uncommon",teamName:"The Calculators",color:"#51ba6b"},Watson:{url:"https://ac.blooket.com/marketassets/blooks/watson.svg",set:"Bot",rarity:"Rare",teamName:"Sophistication",color:"#d69b5a"},"Buddy Bot":{url:"https://ac.blooket.com/marketassets/blooks/buddybot.svg",set:"Bot",rarity:"Rare",teamName:"Best Buddies",color:"#9dc6ea"},"Brainy Bot":{url:"https://ac.blooket.com/marketassets/blooks/brainybot.svg",set:"Bot",rarity:"Epic",teamName:"Big Brain Bots",color:"#9ecf7a"},"Mega Bot":{url:"https://ac.blooket.com/marketassets/blooks/megabot.svg",set:"Bot",rarity:"Legendary",teamName:"THE MEGA BOTS",color:"#d71f27"}},not={Toast:{url:"https://ac.blooket.com/marketassets/blooks/toast.svg",set:"Breakfast",rarity:"Uncommon",teamName:"Toasty Teammates",color:"#e9a058"},Cereal:{url:"https://ac.blooket.com/marketassets/blooks/cereal.svg",set:"Breakfast",rarity:"Uncommon",teamName:"Fruity Friends",color:"#2fa04a"},Yogurt:{url:"https://ac.blooket.com/marketassets/blooks/yogurt.svg",set:"Breakfast",rarity:"Uncommon",teamName:"Yogurt Youngins",color:"#00aeef"},"Breakfast Combo":{url:"https://ac.blooket.com/marketassets/blooks/breakfastcombo.svg",set:"Breakfast",rarity:"Uncommon",teamName:"Combo Cooks",color:"#c3d8ea"},"Orange Juice":{url:"https://ac.blooket.com/marketassets/blooks/orangejuice.svg",set:"Breakfast",rarity:"Uncommon",teamName:"OJ OG's",color:"#f7941d"},Milk:{url:"https://ac.blooket.com/marketassets/blooks/milk.svg",set:"Breakfast",rarity:"Uncommon",teamName:"Got Milk?",color:"#77c6e2"},Waffle:{url:"https://ac.blooket.com/marketassets/blooks/waffle.svg",set:"Breakfast",rarity:"Rare",teamName:"Holey Pancakes",color:"#f9a241"},Pancakes:{url:"https://ac.blooket.com/marketassets/blooks/pancakes.svg",set:"Breakfast",rarity:"Rare",teamName:"Flat Waffles",color:"#f9a241"},"French Toast":{url:"https://ac.blooket.com/marketassets/blooks/frenchtoast.svg",set:"Breakfast",rarity:"Epic",teamName:"Bonjour Boomers",color:"#f9a241"},Pizza:{url:"https://ac.blooket.com/marketassets/blooks/pizza.svg",set:"Breakfast",rarity:"Epic",teamName:"Pizza Popstars",color:"#fdb913"}},sot={"Light Blue":{url:"https://ac.blooket.com/marketassets/blooks/lightblue.svg",set:"Color",rarity:"Common",teamName:"Blooket Buds",color:"#0bc2cf"},Black:{url:"https://ac.blooket.com/marketassets/blooks/black.svg",set:"Color",rarity:"Common",teamName:"Black Team",color:"#3a3a3a"},Red:{url:"https://ac.blooket.com/marketassets/blooks/red.svg",set:"Color",rarity:"Common",teamName:"Red Team",color:"#d62728"},Purple:{url:"https://ac.blooket.com/marketassets/blooks/purple.svg",set:"Color",rarity:"Common",teamName:"Purple Team",color:"#9a49aa"},Pink:{url:"https://ac.blooket.com/marketassets/blooks/pink.svg",set:"Color",rarity:"Common",teamName:"Pink Team",color:"#e377c2"},Orange:{url:"https://ac.blooket.com/marketassets/blooks/orange.svg",set:"Color",rarity:"Common",teamName:"Orange Team",color:"#ff7f0f"},Lime:{url:"https://ac.blooket.com/marketassets/blooks/lime.svg",set:"Color",rarity:"Common",teamName:"Lime Team",color:"#b3dc23"},Green:{url:"https://ac.blooket.com/marketassets/blooks/green.svg",set:"Color",rarity:"Common",teamName:"Green Team",color:"#2ca02c"},Teal:{url:"https://ac.blooket.com/marketassets/blooks/teal.svg",set:"Color",rarity:"Common",teamName:"Teal Team",color:"#007788"},Tan:{url:"https://ac.blooket.com/marketassets/blooks/tan.svg",set:"Color",rarity:"Common",teamName:"Tan Team",color:"#d2b48c"},Maroon:{url:"https://ac.blooket.com/marketassets/blooks/maroon.svg",set:"Color",rarity:"Common",teamName:"Maroon Team",color:"#800000"},Gray:{url:"https://ac.blooket.com/marketassets/blooks/gray.svg",set:"Color",rarity:"Common",teamName:"Gray Team",color:"#999999"},Mint:{url:"https://ac.blooket.com/marketassets/blooks/mint.svg",set:"Color",rarity:"Common",teamName:"Mint Team",color:"#aaf0d1"},Salmon:{url:"https://ac.blooket.com/marketassets/blooks/salmon.svg",set:"Color",rarity:"Common",teamName:"Salmon Team",color:"#fa8072"},Burgandy:{url:"https://ac.blooket.com/marketassets/blooks/burgandy.svg",set:"Color",rarity:"Common",teamName:"Burgandy Team",color:"#99254d"},"Baby Blue":{url:"https://ac.blooket.com/marketassets/blooks/babyblue.svg",set:"Color",rarity:"Common",teamName:"Baby Blue Team",color:"#99ccff"},Dust:{url:"https://ac.blooket.com/marketassets/blooks/dust.svg",set:"Color",rarity:"Common",teamName:"Dust Team",color:"#999966"},Brown:{url:"https://ac.blooket.com/marketassets/blooks/brown.svg",set:"Color",rarity:"Common",teamName:"Brown Team",color:"#86592d"},"Dull Blue":{url:"https://ac.blooket.com/marketassets/blooks/dull.svg",set:"Color",rarity:"Common",teamName:"Dim Blue Team",color:"#666699"},Yellow:{url:"https://ac.blooket.com/marketassets/blooks/yellow.svg",set:"Color",rarity:"Common",teamName:"Yellow Team",color:"#ffff4d"},Blue:{url:"https://ac.blooket.com/marketassets/blooks/blue.svg",set:"Color",rarity:"Common",teamName:"Blue Team",color:"#005ce6"}},aot={Amber:{url:"https://ac.blooket.com/marketassets/blooks/amber.svg",set:"Dino",rarity:"Uncommon",teamName:"Ambitious Ambers",color:"#f7913f"},"Dino Egg":{url:"https://ac.blooket.com/marketassets/blooks/dinoegg.svg",set:"Dino",rarity:"Uncommon",teamName:"Eggcellence",color:"#d69b5a"},"Dino Fossil":{url:"https://ac.blooket.com/marketassets/blooks/dinofossil.svg",set:"Dino",rarity:"Uncommon",teamName:"Fighting Fossils",color:"#a46735"},Stegosaurus:{url:"https://ac.blooket.com/marketassets/blooks/stegosaurus.svg",set:"Dino",rarity:"Uncommon",teamName:"Hearty Herbivores",color:"#6c9355"},Velociraptor:{url:"https://ac.blooket.com/marketassets/blooks/velociraptor.svg",set:"Dino",rarity:"Rare",teamName:"Prehistorics",color:"#cf1f3d"},Brontosaurus:{url:"https://ac.blooket.com/marketassets/blooks/brontosaurus.svg",set:"Dino",rarity:"Rare",teamName:"Big Giraffes",color:"#416eb5"},Triceratops:{url:"https://ac.blooket.com/marketassets/blooks/triceratops.svg",set:"Dino",rarity:"Epic",teamName:"Daring Dinos",color:"#f1613a"},"Tyrannosaurus Rex":{url:"https://ac.blooket.com/marketassets/blooks/tyrannosaurusrex.svg",set:"Dino",rarity:"Legendary",teamName:"The Terror",color:"#6c9355"}},kN={Chick:{url:"https://ac.blooket.com/marketassets/blooks/chick.svg",set:"Farm Animal",rarity:"Common",teamName:"Happy Hatchers",color:"#ffcd05"},Chicken:{url:"https://ac.blooket.com/marketassets/blooks/chicken.svg",set:"Farm Animal",rarity:"Common",teamName:"Early Birds",color:"#ed1c24"},Cow:{url:"https://ac.blooket.com/marketassets/blooks/cow.svg",set:"Farm Animal",rarity:"Common",teamName:"Udder Chaos",color:"#58595b"},Goat:{url:"https://ac.blooket.com/marketassets/blooks/goat.svg",set:"Farm Animal",rarity:"Common",teamName:"Goatee OG's",color:"#c59a74"},Horse:{url:"https://ac.blooket.com/marketassets/blooks/horse.svg",set:"Farm Animal",rarity:"Common",teamName:"Radical Racers",color:"#995b3c"},Pig:{url:"https://ac.blooket.com/marketassets/blooks/pig.svg",set:"Farm Animal",rarity:"Common",teamName:"Orderly Oinkers",color:"#f6a9cb"},Sheep:{url:"https://ac.blooket.com/marketassets/blooks/sheep.svg",set:"Farm Animal",rarity:"Common",teamName:"Wool Winners",color:"#414042"},Duck:{url:"https://ac.blooket.com/marketassets/blooks/duck.svg",set:"Farm Animal",rarity:"Common",teamName:"Quirky Quackers",color:"#4ab96d"},Alpaca:{url:"https://ac.blooket.com/marketassets/blooks/alpaca.svg",set:"Farm Animal",rarity:"Common",teamName:"Fluffy Friends",color:"#d4803c"}},DN={Bear:{url:"https://ac.blooket.com/marketassets/blooks/bear.svg",set:"Forest Animal",rarity:"Common",teamName:"Bear Necessities",color:"#995b3c"},Moose:{url:"https://ac.blooket.com/marketassets/blooks/moose.svg",set:"Forest Animal",rarity:"Common",teamName:"Moose Caboose",color:"#995b3c"},Fox:{url:"https://ac.blooket.com/marketassets/blooks/fox.svg",set:"Forest Animal",rarity:"Common",teamName:"Swifty Swipers",color:"#f49849"},Raccoon:{url:"https://ac.blooket.com/marketassets/blooks/raccoon.svg",set:"Forest Animal",rarity:"Common",teamName:"Trash Pandas",color:"#6d6e71"},Squirrel:{url:"https://ac.blooket.com/marketassets/blooks/squirrel.svg",set:"Forest Animal",rarity:"Common",teamName:"Nutty Buddies",color:"#d25927"},Owl:{url:"https://ac.blooket.com/marketassets/blooks/owl.svg",set:"Forest Animal",rarity:"Common",teamName:"Hooooooooo",color:"#594a42"},Hedgehog:{url:"https://ac.blooket.com/marketassets/blooks/hedgehog.svg",set:"Forest Animal",rarity:"Common",teamName:"Spikey Friends",color:"#3f312b"},Deer:{url:"https://ac.blooket.com/marketassets/blooks/deer.svg",set:"Forest Animal",rarity:"Common",teamName:"Dashing Deer",color:"#c2541f"},Wolf:{url:"https://ac.blooket.com/marketassets/blooks/wolf.svg",set:"Forest Animal",rarity:"Common",teamName:"The Pack",color:"#7b7c81"},Beaver:{url:"https://ac.blooket.com/marketassets/blooks/beaver.svg",set:"Forest Animal",rarity:"Common",teamName:"Building Beavers",color:"#bd6231"}},oot={"Rainbow Jellyfish":{url:"https://ac.blooket.com/marketassets/blooks/rainbowjellyfish.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Underwater Disco",color:"#c9d6ed"},"Blizzard Clownfish":{url:"https://ac.blooket.com/marketassets/blooks/blizzardclownfish.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Winter Circus",color:"#dae6f5"},"Lovely Frog":{url:"https://ac.blooket.com/marketassets/blooks/lovelyfrog.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Cute Companions",color:"#f38db6"},"Lucky Frog":{url:"https://ac.blooket.com/marketassets/blooks/luckyfrog.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Lucky Leapers",color:"#4eb151"},"Spring Frog":{url:"https://ac.blooket.com/marketassets/blooks/springfrog.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Spring Spirit",color:"#f2bd8c"},"Poison Dart Frog":{url:"https://ac.blooket.com/marketassets/blooks/poisondartfrog.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"TOXIC HAZARD",color:"#ffcb29"},"Lucky Hamster":{url:"https://ac.blooket.com/marketassets/blooks/luckyhamster.svg",set:"Hidden",realSet:"Pet",rarity:"Chroma",teamName:"Little Luckies",color:"#17a34a"},"Chocolate Rabbit":{url:"https://ac.blooket.com/marketassets/blooks/chocolaterabbit.svg",set:"Hidden",realSet:"Pet",rarity:"Chroma",teamName:"Ready Rabbits",color:"#914b32"},"Spring Rabbit":{url:"https://ac.blooket.com/marketassets/blooks/springrabbit.svg",set:"Hidden",realSet:"Pet",rarity:"Chroma",teamName:"Egg Hunters",color:"#57b5d0"},"Lemon Crab":{url:"https://ac.blooket.com/marketassets/blooks/lemoncrab.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Citrus Claws",color:"#f7d959"},"Pirate Pufferfish":{url:"https://ac.blooket.com/marketassets/blooks/piratepufferfish.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Perfect Pirates",color:"#8b5aa5"},"Donut Blobfish":{url:"https://ac.blooket.com/marketassets/blooks/donutblobfish.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Donut Mess Up",color:"#f3c1da"},"Crimson Octopus":{url:"https://ac.blooket.com/marketassets/blooks/crimsonoctopus.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Red Team 8",color:"#b3303b"},"Rainbow Narwhal":{url:"https://ac.blooket.com/marketassets/blooks/rainbownarwhal.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Sea Unicorns",color:"#cfe8e9"},"Frost Wreath":{url:"https://ac.blooket.com/marketassets/blooks/frostwreath.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"TEAM FREEZE",color:"#2086df"},"Tropical Globe":{url:"https://ac.blooket.com/marketassets/blooks/tropicalglobe.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"WARM HUGS",color:"#fb7c2f"},"New York Snow Globe":{url:"https://ac.blooket.com/marketassets/blooks/newyorksnowglobe.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"NY Tourists",color:"#4aa891"},"London Snow Globe":{url:"https://ac.blooket.com/marketassets/blooks/londonsnowglobe.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"London Tourists",color:"#c88829"},"Japan Snow Globe":{url:"https://ac.blooket.com/marketassets/blooks/japansnowglobe.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Japan Tourists",color:"#d62027"},"Egypt Snow Globe":{url:"https://ac.blooket.com/marketassets/blooks/egyptsnowglobe.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Egypt Tourists",color:"#d47630"},"Paris Snow Globe":{url:"https://ac.blooket.com/marketassets/blooks/parissnowglobe.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Paris Tourists",color:"#858585"},"Red Sweater Snowman":{url:"https://ac.blooket.com/marketassets/blooks/redsweatersnowman.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Festive Snowmen",color:"#c12626"},"Blue Sweater Snowman":{url:"https://ac.blooket.com/marketassets/blooks/bluesweatersnowman.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Team Snow",color:"#2f4c6c"},"Elf Sweater Snowman":{url:"https://ac.blooket.com/marketassets/blooks/elfsweatersnowman.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Warm Hugs",color:"#269830"},"Santa Claws":{url:"https://ac.blooket.com/marketassets/blooks/santaclaws.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Christmas Claws",color:"#ff2f32"},"Cookies Combo":{url:"https://ac.blooket.com/marketassets/blooks/cookiescombo.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Cool Cookies",color:"#bd7637"},"Chilly Flamingo":{url:"https://ac.blooket.com/marketassets/blooks/chillyflamingo.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Fly Flamingos",color:"#0fa213"},"Snowy Bush Monster":{url:"https://ac.blooket.com/marketassets/blooks/snowybushmonster.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Festive Ferns",color:"#44c649"},"Nutcracker Koala":{url:"https://ac.blooket.com/marketassets/blooks/nutcrackerkoala.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Fancy Koalas",color:"#dd2a17"},Sandwich:{url:"https://ac.blooket.com/marketassets/blooks/sandwich.svg",set:"Hidden",realSet:"Breakfast",rarity:"Epic",teamName:"Super Sandwiches",color:"#8cbd40"},"Ice Slime":{url:"https://ac.blooket.com/marketassets/blooks/iceslime.svg",set:"Hidden",realSet:"Ice Monster",rarity:"Chroma",teamName:"Slip n Slide",color:"#42b7ea"},"Frozen Fossil":{url:"https://ac.blooket.com/marketassets/blooks/frozenfossil.svg",set:"Hidden",realSet:"Ice Monster",rarity:"Chroma",teamName:"Ice Age",color:"#9ed2ef"},"Ice Crab":{url:"https://ac.blooket.com/marketassets/blooks/icecrab.svg",set:"Hidden",realSet:"Ice Monster",rarity:"Chroma",teamName:"ICE ICE BABY",color:"#3ea8cf"},"Rainbow Panda":{url:"https://ac.blooket.com/marketassets/blooks/rainbowpanda.svg",set:"Hidden",realSet:"Safari",rarity:"Chroma",teamName:"The Rainbows",color:"#2f2c38"},"White Peacock":{url:"https://ac.blooket.com/marketassets/blooks/whitepeacock.svg",set:"Hidden",realSet:"Safari",rarity:"Chroma",teamName:"Fast Feathers",color:"#69c1d3"},"Tiger Zebra":{url:"https://ac.blooket.com/marketassets/blooks/tigerzebra.svg",set:"Hidden",realSet:"Safari",rarity:"Chroma",teamName:"Agent Zs",color:"#f18221"},"Teal Platypus":{url:"https://ac.blooket.com/marketassets/blooks/tealplatypus.svg",set:"Hidden",realSet:"Outback",rarity:"Chroma",teamName:"Detectives",color:"#1fa49f"},"Red Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/redastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Red Crewmates",color:"#ee2324"},"Orange Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/orangeastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Orange Crewmates",color:"#f79320"},"Yellow Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/yellowastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Yellow Crewmates",color:"#edcb1f"},"Lime Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/limeastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Lime Crewmates",color:"#61b446"},"Green Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/greenastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Green Crewmates",color:"#197b42"},"Cyan Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/cyanastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Cyan Crewmates",color:"#74cbcb"},"Blue Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/blueastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Blue Crewmates",color:"#2867b1"},"Pink Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/pinkastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Pink Crewmates",color:"#e573ac"},"Purple Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/purpleastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Purple Crewmates",color:"#9068ad"},"Brown Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/brownastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Team Galaxy",color:"#9e5a3a"},"Black Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/blackastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Team Space",color:"#413f56"},"Lovely Planet":{url:"https://ac.blooket.com/marketassets/blooks/lovelyplanet.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Lovers",color:"#db302c"},"Lovely Peacock":{url:"https://ac.blooket.com/marketassets/blooks/lovelypeacock.svg",set:"Hidden",realSet:"Safari",rarity:"Chroma",teamName:"Lovers Too",color:"#d33535"},"Haunted Pumpkin":{url:"https://ac.blooket.com/marketassets/blooks/hauntedpumpkin.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Haunted Helpers",color:"#939385"},"Pumpkin Cookie":{url:"https://ac.blooket.com/marketassets/blooks/pumpkincookie.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Cookie Monsters",color:"#f7941d"},"Ghost Cookie":{url:"https://ac.blooket.com/marketassets/blooks/ghostcookie.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"COOKIES",color:"#c2def4"},"Red Gummy Bear":{url:"https://ac.blooket.com/marketassets/blooks/redgummybear.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Red Gummies",color:"#d81523"},"Blue Gummy Bear":{url:"https://ac.blooket.com/marketassets/blooks/bluegummybear.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Blue Gummies",color:"#2986b6"},"Green Gummy Bear":{url:"https://ac.blooket.com/marketassets/blooks/greengummybear.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Green Gummies",color:"#01ca00"},"Chick Chicken":{url:"https://ac.blooket.com/marketassets/blooks/chickchicken.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Tricky Chickens",color:"#eaa622"},"Chicken Chick":{url:"https://ac.blooket.com/marketassets/blooks/chickenchick.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Tricky Chicks",color:"#9dd7f4"},"Raccoon Bandit":{url:"https://ac.blooket.com/marketassets/blooks/raccoonbandit.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Bandits",color:"#bb2222"},"Owl Sheriff":{url:"https://ac.blooket.com/marketassets/blooks/owlsheriff.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Sheriffs",color:"#84582b"},"Vampire Frog":{url:"https://ac.blooket.com/marketassets/blooks/vampirefrog.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Fanged Frogs",color:"#312222"},"Pumpkin King":{url:"https://ac.blooket.com/marketassets/blooks/pumpkinking.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Halloween Kings",color:"#c1541e"},Leprechaun:{url:"https://ac.blooket.com/marketassets/blooks/leprechaun.svg",set:"Hidden",realSet:"Forest Animal",rarity:"Chroma",teamName:"Leprechauns",color:"#17a34a"},"Anaconda Wizard":{url:"https://ac.blooket.com/marketassets/blooks/anacondawizard.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Sneaky Wizards",color:"#252165"},"Spooky Pumpkin":{url:"https://ac.blooket.com/marketassets/blooks/spookypumpkin.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Ghostly Geniuses",color:"#66f59b"},"Spooky Mummy":{url:"https://ac.blooket.com/marketassets/blooks/spookymummy.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Spooky 'n' Scary",color:"#66f59b"},"Agent Owl":{url:"https://ac.blooket.com/marketassets/blooks/agentowl.svg",set:"Hidden",realSet:"Forest Animal",rarity:"Chroma",teamName:"Secret Agents",color:"#32da4e"},"Master Elf":{url:"https://ac.blooket.com/marketassets/blooks/masterelf.svg",set:"Hidden",realSet:"Medieval",rarity:"Chroma",teamName:"The Masters",color:"#3a3a3a"},"Party Pig":{url:"https://ac.blooket.com/marketassets/blooks/partypig.svg",set:"Hidden",realSet:"Farm Animal",rarity:"Chroma",teamName:"MODS",color:"#f6a9cb"},"Wise Owl":{url:"https://ac.blooket.com/marketassets/blooks/wiseowl.svg",set:"Hidden",realSet:"Forest Animal",rarity:"Unique",teamName:"Wise Winners",color:"#a55a30"},"Spooky Ghost":{url:"https://ac.blooket.com/marketassets/blooks/spookyghost.svg",set:"Hidden",realSet:"Spooky",rarity:"Mystical",teamName:"Spooksters",color:"#66f59b"},"Phantom King":{url:"https://ac.blooket.com/marketassets/blooks/phantomking.svg",set:"Hidden",realSet:"Medieval",rarity:"Mystical",teamName:"The True Kings",color:"#2cf4e1"},"Tim the Alien":{url:"https://ac.blooket.com/marketassets/blooks/timthealien.svg",set:"Hidden",realSet:"Space",rarity:"Mystical",teamName:"Tim's Friends",color:"#8dc63f"},"Rainbow Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/rainbowastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Mystical",teamName:"RAINBOW",color:"#9068ad"},"Hamsta Claus":{url:"https://ac.blooket.com/marketassets/blooks/hamstaclaus.svg",set:"Hidden",realSet:"Blizzard",rarity:"Mystical",teamName:"Holly Hamsters",color:"#d12626"}},lot={"Ice Bat":{url:"https://ac.blooket.com/marketassets/blooks/icebat.svg",set:"Ice Monster",rarity:"Uncommon",teamName:"Frozen Wings",color:"#295eb6"},"Ice Bug":{url:"https://ac.blooket.com/marketassets/blooks/icebug.svg",set:"Ice Monster",rarity:"Uncommon",teamName:"Bold Bugs",color:"#337ae2"},"Ice Elemental":{url:"https://ac.blooket.com/marketassets/blooks/iceelemental.svg",set:"Ice Monster",rarity:"Uncommon",teamName:"ICED",color:"#58c7f0"},"Rock Monster":{url:"https://ac.blooket.com/marketassets/blooks/rockmonster.svg",set:"Ice Monster",rarity:"Uncommon",teamName:"Ready Rocks",color:"#5a617f"},Dink:{url:"https://ac.blooket.com/marketassets/blooks/dink.svg",set:"Ice Monster",rarity:"Rare",teamName:"Ding Donk 1",color:"#8f78a5"},Donk:{url:"https://ac.blooket.com/marketassets/blooks/donk.svg",set:"Ice Monster",rarity:"Rare",teamName:"Ding Donk 2",color:"#677c9e"},"Bush Monster":{url:"https://ac.blooket.com/marketassets/blooks/bushmonster.svg",set:"Ice Monster",rarity:"Epic",teamName:"Brave Bushes",color:"#44c649"},Yeti:{url:"https://ac.blooket.com/marketassets/blooks/yeti.svg",set:"Ice Monster",rarity:"Legendary",teamName:"Everest",color:"#5a81c5"}},AN={Witch:{url:"https://ac.blooket.com/marketassets/blooks/witch.svg",set:"Medieval",rarity:"Uncommon",teamName:"Cauldron City",color:"#4ab96d"},Wizard:{url:"https://ac.blooket.com/marketassets/blooks/wizard.svg",set:"Medieval",rarity:"Uncommon",teamName:"Wiz Kids",color:"#5a459c"},Elf:{url:"https://ac.blooket.com/marketassets/blooks/elf.svg",set:"Medieval",rarity:"Uncommon",teamName:"Agile Archers",color:"#a7d054"},Fairy:{url:"https://ac.blooket.com/marketassets/blooks/fairy.svg",set:"Medieval",rarity:"Uncommon",teamName:"Mighty Myths",color:"#df6d9c"},"Slime Monster":{url:"https://ac.blooket.com/marketassets/blooks/slimemonster.svg",set:"Medieval",rarity:"Uncommon",teamName:"Slimy McSlimes",color:"#2fa04a"},Jester:{url:"https://ac.blooket.com/marketassets/blooks/jester.svg",set:"Medieval",rarity:"Rare",teamName:"Jolly Jokesters",color:"#be1e2d"},Dragon:{url:"https://ac.blooket.com/marketassets/blooks/dragon.svg",set:"Medieval",rarity:"Rare",teamName:"Fire Hazards",color:"#2fa04a"},Queen:{url:"https://ac.blooket.com/marketassets/blooks/queen.svg",set:"Medieval",rarity:"Rare",teamName:"Royal Rebels",color:"#9e1f63"},Unicorn:{url:"https://ac.blooket.com/marketassets/blooks/unicorn.svg",set:"Medieval",rarity:"Epic",teamName:"Land Narwhals",color:"#f6afce"},King:{url:"https://ac.blooket.com/marketassets/blooks/king.svg",set:"Medieval",rarity:"Legendary",teamName:"THE SQUAD",color:"#ee2640"}},uot={Dingo:{url:"https://ac.blooket.com/marketassets/blooks/dingo.svg",set:"Outback",rarity:"Uncommon",teamName:"Daring Dingos",color:"#e38e4d"},Echidna:{url:"https://ac.blooket.com/marketassets/blooks/echidna.svg",set:"Outback",rarity:"Uncommon",teamName:"Erudite Echidnas",color:"#88766b"},Koala:{url:"https://ac.blooket.com/marketassets/blooks/koala.svg",set:"Outback",rarity:"Uncommon",teamName:"Kool Koalas",color:"#827b8b"},Kookaburra:{url:"https://ac.blooket.com/marketassets/blooks/kookaburra.svg",set:"Outback",rarity:"Uncommon",teamName:"Kind Kookaburras",color:"#4d4d85"},Platypus:{url:"https://ac.blooket.com/marketassets/blooks/platypus.svg",set:"Outback",rarity:"Rare",teamName:"Playful Platypus",color:"#9d594e"},Joey:{url:"https://ac.blooket.com/marketassets/blooks/joey.svg",set:"Outback",rarity:"Rare",teamName:"Jumping Joeys",color:"#9f693c"},Kangaroo:{url:"https://ac.blooket.com/marketassets/blooks/kangaroo.svg",set:"Outback",rarity:"Rare",teamName:"Kicking Kangaroos",color:"#b9853f"},Crocodile:{url:"https://ac.blooket.com/marketassets/blooks/crocodile.svg",set:"Outback",rarity:"Epic",teamName:"The Crocs",color:"#679b4f"},"Sugar Glider":{url:"https://ac.blooket.com/marketassets/blooks/sugarglider.svg",set:"Outback",rarity:"Legendary",teamName:"Fancy Flyers",color:"#131f2b"}},hot={Deckhand:{url:"https://ac.blooket.com/marketassets/blooks/deckhand.svg",set:"Pirate",rarity:"Uncommon",teamName:"Deckhands",color:"#a71c12"},Buccaneer:{url:"https://ac.blooket.com/marketassets/blooks/buccaneer.svg",set:"Pirate",rarity:"Uncommon",teamName:"Buccaneers",color:"#7244ae"},Swashbuckler:{url:"https://ac.blooket.com/marketassets/blooks/swashbuckler.svg",set:"Pirate",rarity:"Uncommon",teamName:"Swashbucklers",color:"#a71c12"},"Treasure Map":{url:"https://ac.blooket.com/marketassets/blooks/treasuremap.svg",set:"Pirate",rarity:"Uncommon",teamName:"Treasure Hunters",color:"#b29059"},Seagull:{url:"https://ac.blooket.com/marketassets/blooks/seagull.svg",set:"Pirate",rarity:"Uncommon",teamName:"Serene Seagulls",color:"#ffaa05"},"Jolly Pirate":{url:"https://ac.blooket.com/marketassets/blooks/jollypirate.svg",set:"Pirate",rarity:"Rare",teamName:"Jolly Pirates",color:"#a71c12"},"Pirate Ship":{url:"https://ac.blooket.com/marketassets/blooks/pirateship.svg",set:"Pirate",rarity:"Rare",teamName:"The Crew",color:"#1a91dd"},Kraken:{url:"https://ac.blooket.com/marketassets/blooks/kraken.svg",set:"Pirate",rarity:"Epic",teamName:"Kool Krakens",color:"#412337"},"Captain Blackbeard":{url:"https://ac.blooket.com/marketassets/blooks/captainblackbeard.svg",set:"Pirate",rarity:"Legendary",teamName:"Blackbeard's Best",color:"#2b2b2b"}},PN={Dog:{url:"https://ac.blooket.com/marketassets/blooks/dog.svg",set:"Pet",rarity:"Common",teamName:"Diligent Doggos",color:"#995b3c"},Cat:{url:"https://ac.blooket.com/marketassets/blooks/cat.svg",set:"Pet",rarity:"Common",teamName:"Meow Mates",color:"#f49849"},Rabbit:{url:"https://ac.blooket.com/marketassets/blooks/rabbit.svg",set:"Pet",rarity:"Common",teamName:"Fluffy Bunnies",color:"#e7bf9a"},Goldfish:{url:"https://ac.blooket.com/marketassets/blooks/goldfish.svg",set:"Pet",rarity:"Common",teamName:"Pretty Fishies",color:"#f18221"},Hamster:{url:"https://ac.blooket.com/marketassets/blooks/hamster.svg",set:"Pet",rarity:"Common",teamName:"HAMSTA TIME",color:"#ce9176"},Turtle:{url:"https://ac.blooket.com/marketassets/blooks/turtle.svg",set:"Pet",rarity:"Common",teamName:"Shell Shocked",color:"#619a3c"},Kitten:{url:"https://ac.blooket.com/marketassets/blooks/kitten.svg",set:"Pet",rarity:"Common",teamName:"Purrfect People",color:"#58595b"},Puppy:{url:"https://ac.blooket.com/marketassets/blooks/puppy.svg",set:"Pet",rarity:"Common",teamName:"Super Puppers",color:"#414042"}},cot={Panda:{url:"https://ac.blooket.com/marketassets/blooks/panda.svg",set:"Safari",rarity:"Uncommon",teamName:"Prime Pandas",color:"#2f2c38"},Sloth:{url:"https://ac.blooket.com/marketassets/blooks/sloth.svg",set:"Safari",rarity:"Uncommon",teamName:"Silly Sloths",color:"#765b46"},Tenrec:{url:"https://ac.blooket.com/marketassets/blooks/tenrec.svg",set:"Safari",rarity:"Uncommon",teamName:"Troubling Tenrecs",color:"#ffcb29"},Flamingo:{url:"https://ac.blooket.com/marketassets/blooks/flamingo.svg",set:"Safari",rarity:"Uncommon",teamName:"Pink And Proud",color:"#f38db6"},Zebra:{url:"https://ac.blooket.com/marketassets/blooks/zebra.svg",set:"Safari",rarity:"Uncommon",teamName:"Super Stripes",color:"#2f2c38"},Elephant:{url:"https://ac.blooket.com/marketassets/blooks/elephant.svg",set:"Safari",rarity:"Rare",teamName:"Erudite Elephants",color:"#bac4e4"},Lemur:{url:"https://ac.blooket.com/marketassets/blooks/lemur.svg",set:"Safari",rarity:"Rare",teamName:"Leaping Lemurs",color:"#aeaba7"},Peacock:{url:"https://ac.blooket.com/marketassets/blooks/peacock.svg",set:"Safari",rarity:"Rare",teamName:"Fearless Feathers",color:"#2b3990"},Chameleon:{url:"https://ac.blooket.com/marketassets/blooks/chameleon.svg",set:"Safari",rarity:"Epic",teamName:"Cool Chameleons",color:"#8dc63f"},Lion:{url:"https://ac.blooket.com/marketassets/blooks/lion.svg",set:"Safari",rarity:"Legendary",teamName:"The Pride",color:"#f47e20"}},fot={Earth:{url:"https://ac.blooket.com/marketassets/blooks/earth.svg",set:"Space",rarity:"Uncommon",teamName:"Earthlings",color:"#416eb5"},Meteor:{url:"https://ac.blooket.com/marketassets/blooks/meteor.svg",set:"Space",rarity:"Uncommon",teamName:"Meteorites",color:"#c68c3c"},Stars:{url:"https://ac.blooket.com/marketassets/blooks/stars.svg",set:"Space",rarity:"Uncommon",teamName:"Shooting Stars",color:"#19184d"},Alien:{url:"https://ac.blooket.com/marketassets/blooks/alien.svg",set:"Space",rarity:"Uncommon",teamName:"Awesome Aliens",color:"#8dc63f"},Planet:{url:"https://ac.blooket.com/marketassets/blooks/planet.svg",set:"Space",rarity:"Rare",teamName:"Galactic Warriors",color:"#9dc6ea"},UFO:{url:"https://ac.blooket.com/marketassets/blooks/ufo.svg",set:"Space",rarity:"Rare",teamName:"Unidentified Students",color:"#a15095"},Spaceship:{url:"https://ac.blooket.com/marketassets/blooks/spaceship.svg",set:"Space",rarity:"Epic",teamName:"We Have a Problem",color:"#ffcb29"},Astronaut:{url:"https://ac.blooket.com/marketassets/blooks/astronaut.svg",set:"Space",rarity:"Legendary",teamName:"Astro Aviators",color:"#9bd4ee"}},dot={Pumpkin:{url:"https://ac.blooket.com/marketassets/blooks/pumpkin.svg",set:"Spooky",rarity:"Uncommon",teamName:"Pumpkin Smashers",color:"#f7941d"},"Swamp Monster":{url:"https://ac.blooket.com/marketassets/blooks/swampmonster.svg",set:"Spooky",rarity:"Uncommon",teamName:"Swamp Things",color:"#2fa04a"},Frankenstein:{url:"https://ac.blooket.com/marketassets/blooks/frankenstein.svg",set:"Spooky",rarity:"Uncommon",teamName:"The Monsters",color:"#56884b"},Vampire:{url:"https://ac.blooket.com/marketassets/blooks/vampire.svg",set:"Spooky",rarity:"Uncommon",teamName:"Valiant Vampires",color:"#a15095"},Zombie:{url:"https://ac.blooket.com/marketassets/blooks/zombie.svg",set:"Spooky",rarity:"Rare",teamName:"Walking Dead",color:"#80a55d"},Mummy:{url:"https://ac.blooket.com/marketassets/blooks/mummy.svg",set:"Spooky",rarity:"Rare",teamName:"Motivated Mummies",color:"#e8d8c7"},"Caramel Apple":{url:"https://ac.blooket.com/marketassets/blooks/caramelapple2.svg",set:"Spooky",rarity:"Rare",teamName:"Caring Caramels",color:"#8d432a"},"Candy Corn":{url:"https://ac.blooket.com/marketassets/blooks/candycorn.svg",set:"Spooky",rarity:"Rare",teamName:"Kind Candy",color:"#f06708"},Werewolf:{url:"https://ac.blooket.com/marketassets/blooks/werewolf.svg",set:"Spooky",rarity:"Epic",teamName:"Werewolf Warriors",color:"#594a42"},Ghost:{url:"https://ac.blooket.com/marketassets/blooks/ghost.svg",set:"Spooky",rarity:"Legendary",teamName:"BOO!",color:"#c2def4"}},RN={Tiger:{url:"https://ac.blooket.com/marketassets/blooks/tiger.svg",set:"Tropical Animal",rarity:"Common",teamName:"Brave Bengals",color:"#f18221"},Orangutan:{url:"https://ac.blooket.com/marketassets/blooks/orangutan.svg",set:"Tropical Animal",rarity:"Common",teamName:"Hairy Hipsters",color:"#bc6234"},Cockatoo:{url:"https://ac.blooket.com/marketassets/blooks/cockatoo.svg",set:"Tropical Animal",rarity:"Common",teamName:"Not Chickens",color:"#7ca1d5"},Parrot:{url:"https://ac.blooket.com/marketassets/blooks/parrot.svg",set:"Tropical Animal",rarity:"Common",teamName:"Polly's People",color:"#ed1c24"},Anaconda:{url:"https://ac.blooket.com/marketassets/blooks/anaconda.svg",set:"Tropical Animal",rarity:"Common",teamName:"Sneaky Snakes",color:"#8a9143"},Jaguar:{url:"https://ac.blooket.com/marketassets/blooks/jaguar.svg",set:"Tropical Animal",rarity:"Common",teamName:"Super Spotters",color:"#fbb040"},Macaw:{url:"https://ac.blooket.com/marketassets/blooks/macaw.svg",set:"Tropical Animal",rarity:"Common",teamName:"CA CAWWWW",color:"#00aeef"},Toucan:{url:"https://ac.blooket.com/marketassets/blooks/toucan.svg",set:"Tropical Animal",rarity:"Common",teamName:"Toucan't Beat Us",color:"#ffca34"},Panther:{url:"https://ac.blooket.com/marketassets/blooks/panther.svg",set:"Tropical Animal",rarity:"Common",teamName:"Wakanda Forever",color:"#2f2c38"},Capuchin:{url:"https://ac.blooket.com/marketassets/blooks/capuchinmonkey.svg",set:"Tropical Animal",rarity:"Common",teamName:"Monkey Madness",color:"#e0b0a6"},Gorilla:{url:"https://ac.blooket.com/marketassets/blooks/gorilla.svg",set:"Tropical Animal",rarity:"Common",teamName:"Great Gorillas",color:"#414042"},Hippo:{url:"https://ac.blooket.com/marketassets/blooks/hippo.svg",set:"Tropical Animal",rarity:"Common",teamName:"Hip Hippos",color:"#95889e"},Rhino:{url:"https://ac.blooket.com/marketassets/blooks/rhino.svg",set:"Tropical Animal",rarity:"Common",teamName:"Ready Rhinos",color:"#9da7a5"},Giraffe:{url:"https://ac.blooket.com/marketassets/blooks/giraffe.svg",set:"Tropical Animal",rarity:"Common",teamName:"Tall Tutors",color:"#f0c649"}},pot={"Two of Spades":{url:"https://ac.blooket.com/marketassets/blooks/twoofspades.svg",set:"Wonderland",rarity:"Uncommon",teamName:"Dueling Deuces",color:"#414042"},"Eat Me":{url:"https://ac.blooket.com/marketassets/blooks/eat.svg",set:"Wonderland",rarity:"Uncommon",teamName:"Hungry Heroes",color:"#d58c55"},"Drink Me":{url:"https://ac.blooket.com/marketassets/blooks/drink.svg",set:"Wonderland",rarity:"Uncommon",teamName:"Potion Power",color:"#dd7399"},Alice:{url:"https://ac.blooket.com/marketassets/blooks/alice.svg",set:"Wonderland",rarity:"Uncommon",teamName:"Wonderland",color:"#4cc9f5"},"Queen of Hearts":{url:"https://ac.blooket.com/marketassets/blooks/queenofhearts.svg",set:"Wonderland",rarity:"Uncommon",teamName:"",color:"#d62027"},Dormouse:{url:"https://ac.blooket.com/marketassets/blooks/dormouse.svg",set:"Wonderland",rarity:"Rare",teamName:"Short and Stout",color:"#89d6f8"},"White Rabbit":{url:"https://ac.blooket.com/marketassets/blooks/whiterabbit.svg",set:"Wonderland",rarity:"Rare",teamName:"Classy Classmates",color:"#ffcd05"},"Cheshire Cat":{url:"https://ac.blooket.com/marketassets/blooks/cheshirecat.svg",set:"Wonderland",rarity:"Rare",teamName:"Cool Cats",color:"#dd7399"},Caterpillar:{url:"https://ac.blooket.com/marketassets/blooks/caterpillar.svg",set:"Wonderland",rarity:"Epic",teamName:"Caterpillar Cuties",color:"#00c0f3"},"Mad Hatter":{url:"https://ac.blooket.com/marketassets/blooks/madhatter.svg",set:"Wonderland",rarity:"Epic",teamName:"Goofy Gurus",color:"#914f93"},"King of Hearts":{url:"https://ac.blooket.com/marketassets/blooks/kingofhearts.svg",set:"Wonderland",rarity:"Legendary",teamName:"The Royals",color:"#c62127"}},gs=ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji(ji({},kN),PN),DN),RN),EN),AN),pot),not),fot),rot),eot),cot),aot),lot),uot),hot),iot),dot),oot),sot);var vot=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),c,S=[],s;try{for(;(t===void 0||t-- >0)&&!(c=n.next()).done;)S.push(c.value)}catch(g){s={error:g}}finally{try{c&&!c.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return S},mot=function(e){var t=e.split(/ ?; ?/);return t.reduce(function(r,n){var c=vot(n.split(/ ?: ?/),2),S=c[0],s=c[1];return S&&s&&(r[S.replace(/-(\w)/g,function(g,i){return i.toUpperCase()})]=Number.isNaN(Number(s))?s:Number(s)),r},{})};function got(e){e=6;for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r="",n=e;n>0;--n)r+=t[Math.round(Math.random()*(t.length-1))];return r}var yot=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],q8={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"},ey=function(){return ey=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},ey.apply(this,arguments)},IN=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),c,S=[],s;try{for(;(t===void 0||t-- >0)&&!(c=n.next()).done;)S.push(c.value)}catch(g){s={error:g}}finally{try{c&&!c.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return S},MN=function(e,t,r){if(arguments.length===2)for(var n=0,c=t.length,S;n<c;n++)(S||!(n in t))&&(S||(S=Array.prototype.slice.call(t,0,n)),S[n]=t[n]);return e.concat(S||Array.prototype.slice.call(t))};function xot(e,t){var r={key:t};if(e instanceof Element){var n=e.getAttribute("class");n&&(r.className=n),MN([],IN(e.attributes),!1).forEach(function(c){switch(c.name){case"class":break;case"style":r[c.name]=mot(c.value);break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":r[q8[c.name]||c.name]=!0;break;default:r[q8[c.name]||c.name]=c.value}})}return r}function bot(e,t,r){var n=MN([],IN(e),!1).map(function(c,S){return GE(c,ey(ey({},r),{index:S,level:t+1}))}).filter(Boolean);return n.length?n:null}function Sot(e){return/[a-z]+[A-Z]+[a-z]+/.test(e)?e:e.toLowerCase()}function GE(e,t){var r;if(t===void 0&&(t={}),!e||!(e instanceof Node))return null;var n=t.actions,c=n===void 0?[]:n,S=t.index,s=S===void 0?0:S,g=t.level,i=g===void 0?0:g,a=t.randomKey,v=e,f="".concat(i,"-").concat(s),h=[];if(a&&i===0&&(f="".concat(got(),"-").concat(f)),Array.isArray(c)&&c.forEach(function(d){d.condition(v,f,i)&&(typeof d.pre=="function"&&(v=d.pre(v,f,i),v instanceof Node||(v=e)),typeof d.post=="function"&&h.push(d.post(v,f,i)))}),h.length)return h;switch(v.nodeType){case 1:return zi.createElement(Sot(v.nodeName),xot(v,f),bot(v.childNodes,i,t));case 3:{var u=((r=v.nodeValue)===null||r===void 0?void 0:r.toString())||"";if(/^\s+$/.test(u)&&!/[\u00A0\u202F]/.test(u))return null;if(!v.parentNode)return u;var o=v.parentNode.nodeName.toLowerCase();return yot.includes(o)?(/\S/.test(u)&&console.warn("A textNode is not allowed inside '".concat(o,`'. Your text "`).concat(u,'" will be ignored')),null):u}case 8:return null;default:return null}}function wot(e,t){if(t===void 0&&(t={}),!e||typeof e!="string")return null;var r=t.nodeOnly,n=r===void 0?!1:r,c=t.selector,S=c===void 0?"body > *":c,s=t.type,g=s===void 0?"text/html":s;try{var i=new DOMParser,a=i.parseFromString(e,g),v=a.querySelector(S);if(!(v instanceof Node))throw new TypeError("Error parsing input");return n?v:GE(v,t)}catch(f){}return null}function tk(e,t){return t===void 0&&(t={}),typeof e=="string"?wot(e,t):e instanceof Node?GE(e,t):null}var BN={exports:{}};(function(e){(function(){var t=!!(typeof window!="undefined"&&window.document&&window.document.createElement),r={canUseDOM:t,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=r:window.ExecutionEnvironment=r})()})(BN);var Tot=BN.exports,Pa={IDLE:"idle",LOADING:"loading",LOADED:"loaded",FAILED:"failed",READY:"ready",UNSUPPORTED:"unsupported"};function gS(){return Tot.canUseDOM}function Cot(){return Eot()&&typeof window!="undefined"&&window!==null}function Eot(){if(!document)return!1;var e=document.createElement("div");e.innerHTML="<svg />";var t=e.firstChild;return!!t&&t.namespaceURI==="http://www.w3.org/2000/svg"}function kot(e){return e[Math.floor(Math.random()*e.length)]}function Dot(e){for(var t="abcdefghijklmnopqrstuvwxyz",r="1234567890",n="".concat(t).concat(t.toUpperCase()).concat(r),c="",S=0;S<e;S++)c+=kot(n);return c}function Aot(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n={};for(var c in e)({}).hasOwnProperty.call(e,c)&&(t.includes(c)||(n[c]=e[c]));return n}var Pot=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,c){n.__proto__=c}||function(n,c){for(var S in c)Object.prototype.hasOwnProperty.call(c,S)&&(n[S]=c[S])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),L2=function(){return L2=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},L2.apply(this,arguments)},Rot=function(e,t,r,n){function c(S){return S instanceof r?S:new r(function(s){s(S)})}return new(r||(r=Promise))(function(S,s){function g(v){try{a(n.next(v))}catch(f){s(f)}}function i(v){try{a(n.throw(v))}catch(f){s(f)}}function a(v){v.done?S(v.value):c(v.value).then(g,i)}a((n=n.apply(e,t||[])).next())})},Iot=function(e,t){var r={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},n,c,S,s;return s={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function g(a){return function(v){return i([a,v])}}function i(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,c&&(S=a[0]&2?c.return:a[0]?c.throw||((S=c.return)&&S.call(c),0):c.next)&&!(S=S.call(c,a[1])).done)return S;switch(c=0,S&&(a=[a[0]&2,S.value]),a[0]){case 0:case 1:S=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,c=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(S=r.trys,!(S=S.length>0&&S[S.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!S||a[1]>S[0]&&a[1]<S[3])){r.label=a[1];break}if(a[0]===6&&r.label<S[1]){r.label=S[1],S=a;break}if(S&&r.label<S[2]){r.label=S[2],r.ops.push(a);break}S[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(v){a=[6,v],c=0}finally{n=S=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},ek=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),c,S=[],s;try{for(;(t===void 0||t-- >0)&&!(c=n.next()).done;)S.push(c.value)}catch(g){s={error:g}}finally{try{c&&!c.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return S},Mot=function(e,t,r){if(r||arguments.length===2)for(var n=0,c=t.length,S;n<c;n++)(S||!(n in t))&&(S||(S=Array.prototype.slice.call(t,0,n)),S[n]=t[n]);return e.concat(S||Array.prototype.slice.call(t))},Rh=Object.create(null),ed=function(e){Pot(t,e);function t(r){var n=e.call(this,r)||this;return Object.defineProperty(n,"hash",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"isActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"isInitialized",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"handleError",{enumerable:!0,configurable:!0,writable:!0,value:function(c){var S=n.props.onError,s=c.message==="Browser does not support SVG"?Pa.UNSUPPORTED:Pa.FAILED;n.isActive&&n.setState({status:s},function(){typeof S=="function"&&S(c)})}}),Object.defineProperty(n,"handleLoad",{enumerable:!0,configurable:!0,writable:!0,value:function(c,S){S===void 0&&(S=!1),n.isActive&&n.setState({content:c,hasCache:S,status:Pa.LOADED},n.getElement)}}),Object.defineProperty(n,"request",{enumerable:!0,configurable:!0,writable:!0,value:function(){return Rot(n,void 0,void 0,function(){var c,S,s,g,i,a,v,f,h,u,d,o,d;return Iot(this,function(p){switch(p.label){case 0:c=this.props,S=c.cacheRequests,s=c.fetchOptions,g=c.src,S&&(Rh[g]={content:"",status:Pa.LOADING}),p.label=1;case 1:return p.trys.push([1,4,,5]),[4,fetch(g,s)];case 2:if(i=p.sent(),a=i.headers.get("content-type"),v=ek((a||"").split(/ ?; ?/),1),f=v[0],i.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some(function(l){return f.includes(l)}))throw new Error("Content type isn't valid: ".concat(f));return[4,i.text()];case 3:return h=p.sent(),u=this.props.src,g!==u?(Rh[g].status===Pa.LOADING&&delete Rh[g],[2]):(this.handleLoad(h),S&&(d=Rh[g],d&&(d.content=h,d.status=Pa.LOADED)),[3,5]);case 4:return o=p.sent(),this.handleError(o),S&&(d=Rh[g],d&&delete Rh[g]),[3,5];case 5:return[2]}})})}}),n.state={content:"",element:null,hasCache:!!r.cacheRequests&&!!Rh[r.src],status:Pa.IDLE},n.hash=r.uniqueHash||Dot(8),n}return Object.defineProperty(t.prototype,"componentDidMount",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isActive=!0,!(!gS()||this.isInitialized)){var r=this.state.status,n=this.props.src;try{if(r===Pa.IDLE){if(!Cot())throw new Error("Browser does not support SVG");if(!n)throw new Error("Missing src");this.load()}}catch(c){this.handleError(c)}this.isInitialized=!0}}}),Object.defineProperty(t.prototype,"componentDidUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,n){if(gS()){var c=this.state,S=c.hasCache,s=c.status,g=this.props,i=g.onLoad,a=g.src;if(n.status!==Pa.READY&&s===Pa.READY&&i&&i(a,S),r.src!==a){if(!a){this.handleError(new Error("Missing src"));return}this.load()}}}}),Object.defineProperty(t.prototype,"componentWillUnmount",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isActive=!1}}),Object.defineProperty(t.prototype,"getElement",{enumerable:!1,configurable:!0,writable:!0,value:function(){try{var r=this.getNode(),n=tk(r);if(!n||!zi.isValidElement(n))throw new Error("Could not convert the src to a React element");this.setState({element:n,status:Pa.READY})}catch(c){this.handleError(new Error(c.message))}}}),Object.defineProperty(t.prototype,"getNode",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this.props,n=r.description,c=r.title;try{var S=this.processSVG(),s=tk(S,{nodeOnly:!0});if(!s||!(s instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");var g=this.updateSVGAttributes(s);if(n){var i=g.querySelector("desc");i&&i.parentNode&&i.parentNode.removeChild(i);var a=document.createElementNS("http://www.w3.org/2000/svg","desc");a.innerHTML=n,g.prepend(a)}if(typeof c!="undefined"){var v=g.querySelector("title");if(v&&v.parentNode&&v.parentNode.removeChild(v),c){var f=document.createElementNS("http://www.w3.org/2000/svg","title");f.innerHTML=c,g.prepend(f)}}return g}catch(h){return this.handleError(h)}}}),Object.defineProperty(t.prototype,"load",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;this.isActive&&this.setState({content:"",element:null,hasCache:!1,status:Pa.LOADING},function(){var n=r.props,c=n.cacheRequests,S=n.src,s=c&&Rh[S];if(s&&s.status===Pa.LOADED){r.handleLoad(s.content,!0);return}var g=S.match(/^data:image\/svg[^,]*?(;base64)?,(.*)/u),i;if(g?i=g[1]?window.atob(g[2]):decodeURIComponent(g[2]):S.includes("<svg")&&(i=S),i){r.handleLoad(i);return}r.request()})}}),Object.defineProperty(t.prototype,"processSVG",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this.state.content,n=this.props.preProcessor;return n?n(r):r}}),Object.defineProperty(t.prototype,"updateSVGAttributes",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var n=this,c=this.props,S=c.baseURL,s=S===void 0?"":S,g=c.uniquifyIDs,i=["id","href","xlink:href","xlink:role","xlink:arcrole"],a=["href","xlink:href"],v=function(f,h){return a.includes(f)&&(h?!h.includes("#"):!1)};return g&&Mot([],ek(r.children),!1).forEach(function(f){if(f.attributes&&f.attributes.length){var h=Object.values(f.attributes).map(function(u){var o=u,d=u.value.match(/url\((.*?)\)/);return d&&d[1]&&(o.value=u.value.replace(d[0],"url(".concat(s).concat(d[1],"__").concat(n.hash,")"))),o});i.forEach(function(u){var o=h.find(function(d){return d.name===u});o&&!v(u,o.value)&&(o.value="".concat(o.value,"__").concat(n.hash))})}return f.children.length?n.updateSVGAttributes(f):f}),r}}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this.state,n=r.element,c=r.status,S=this.props,s=S.children,g=s===void 0?null:s,i=S.innerRef,a=S.loader,v=a===void 0?null:a,f=Aot(this.props,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return gS()?n?zi.cloneElement(n,L2({ref:i},f)):[Pa.UNSUPPORTED,Pa.FAILED].includes(c)?g:v:v}}),Object.defineProperty(t,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{cacheRequests:!0,uniquifyIDs:!1}}),t}(zi.PureComponent);const Bot="_blookContainer_hy0no_1",Oot="_blook_hy0no_1",Not="_part_hy0no_15",ma={blookContainer:Bot,blook:Oot,part:Not},Xc="#ffcc05",Pr="#fabc2e",uu="#cd8e2a",Fot=[{url:"https://media.blooket.com/image/upload/v1634087683/BlookParts/base0.svg",tones:[Xc,Pr,uu]},{url:"https://media.blooket.com/image/upload/v1634087683/BlookParts/base1.svg",tones:["#fbe2cd","#ecc4a9","#d19e82"]},{url:"https://media.blooket.com/image/upload/v1634087683/BlookParts/base2.svg",tones:["#d8b094","#c49270","#a87654"]},{url:"https://media.blooket.com/image/upload/v1634087683/BlookParts/base3.svg",tones:["#bb9167","#aa7c52","#8e613c"]},{url:"https://media.blooket.com/image/upload/v1634087694/BlookParts/base4.svg",tones:["#8e562e","#7c4621","#68310d"]},{url:"https://media.blooket.com/image/upload/v1634087683/BlookParts/base5.svg",tones:["#613d30","#512c21","#3d1911"]}],Lot=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087712/BlookParts/clothing1.svg"},{url:"https://media.blooket.com/image/upload/v1634087707/BlookParts/clothing2.svg"},{url:"https://media.blooket.com/image/upload/v1634087720/BlookParts/clothing3.svg"},{url:"https://media.blooket.com/image/upload/v1634087741/BlookParts/clothing4.svg"},{url:"https://media.blooket.com/image/upload/v1634087741/BlookParts/clothing5.svg"},{url:"https://media.blooket.com/image/upload/v1634087744/BlookParts/clothing6.svg"},{url:"https://media.blooket.com/image/upload/v1634087725/BlookParts/clothing7.svg"},{url:"https://media.blooket.com/image/upload/v1634087758/BlookParts/clothing8.svg"},{url:"https://media.blooket.com/image/upload/v1634087769/BlookParts/clothing9.svg"},{url:"https://media.blooket.com/image/upload/v1634087763/BlookParts/clothing10.svg"},{url:"https://media.blooket.com/image/upload/v1634087807/BlookParts/clothing11.svg"},{url:"https://media.blooket.com/image/upload/v1634087683/BlookParts/clothing12.svg"},{url:"https://media.blooket.com/image/upload/v1664323225/BlookParts/clothing13.svg"},{url:"https://media.blooket.com/image/upload/v1664323226/BlookParts/clothing14.svg"},{url:"https://media.blooket.com/image/upload/v1664323225/BlookParts/clothing15.svg"},{url:"https://media.blooket.com/image/upload/v1664323227/BlookParts/clothing16.svg"},{url:"https://media.blooket.com/image/upload/v1664323226/BlookParts/clothing17.svg"},{url:"https://media.blooket.com/image/upload/v1664323227/BlookParts/clothing18.svg"},{url:"https://media.blooket.com/image/upload/v1664323227/BlookParts/clothing19.svg"},{url:"https://media.blooket.com/image/upload/v1664323227/BlookParts/clothing20.svg"},{url:"https://media.blooket.com/image/upload/v1664323229/BlookParts/clothing21.svg"},{url:"https://media.blooket.com/image/upload/v1664323228/BlookParts/clothing22.svg"},{url:"https://media.blooket.com/image/upload/v1664324850/BlookParts/clothing23.svg"},{url:"https://media.blooket.com/image/upload/v1664324850/BlookParts/clothing24.svg"},{url:"https://media.blooket.com/image/upload/v1664324851/BlookParts/clothing25.svg"},{url:"https://media.blooket.com/image/upload/v1664324851/BlookParts/clothing26.svg"},{url:"https://media.blooket.com/image/upload/v1664324845/BlookParts/clothing27.svg"},{url:"https://media.blooket.com/image/upload/v1664324845/BlookParts/clothing28.svg"},{url:"https://media.blooket.com/image/upload/v1664325719/BlookParts/clothing29.svg"},{url:"https://media.blooket.com/image/upload/v1664325719/BlookParts/clothing30.svg"},{url:"https://media.blooket.com/image/upload/v1664325719/BlookParts/clothing31.svg"},{url:"https://media.blooket.com/image/upload/v1664325719/BlookParts/clothing32.svg"},{url:"https://media.blooket.com/image/upload/v1664325719/BlookParts/clothing33.svg"},{url:"https://media.blooket.com/image/upload/v1664325720/BlookParts/clothing34.svg"},{url:"https://media.blooket.com/image/upload/v1664326438/BlookParts/clothing35.svg"},{url:"https://media.blooket.com/image/upload/v1664326438/BlookParts/clothing36.svg"},{url:"https://media.blooket.com/image/upload/v1664334110/BlookParts/clothing37.svg"},{url:"https://media.blooket.com/image/upload/v1664334110/BlookParts/clothing38.svg"},{url:"https://media.blooket.com/image/upload/v1664334110/BlookParts/clothing39.svg"},{url:"https://media.blooket.com/image/upload/v1664334110/BlookParts/clothing40.svg"},{url:"https://media.blooket.com/image/upload/v1664334112/BlookParts/clothing41.svg"},{url:"https://media.blooket.com/image/upload/v1664334112/BlookParts/clothing42.svg"},{url:"https://media.blooket.com/image/upload/v1664334112/BlookParts/clothing43.svg"},{url:"https://media.blooket.com/image/upload/v1666686735/BlookParts/clothing44.svg"},{url:"https://media.blooket.com/image/upload/v1666686735/BlookParts/clothing45.svg"},{url:"https://media.blooket.com/image/upload/v1666686735/BlookParts/clothing46.svg"},{url:"https://media.blooket.com/image/upload/v1669084280/BlookParts/clothing47.svg"},{url:"https://media.blooket.com/image/upload/v1670303596/BlookParts/clothing48.svg"},{url:"https://media.blooket.com/image/upload/v1670912133/BlookParts/clothing49.svg"},{url:"https://media.blooket.com/image/upload/v1671528728/BlookParts/clothing50.svg"},{url:"https://media.blooket.com/image/upload/v1671528728/BlookParts/clothing51.svg"},{url:"https://media.blooket.com/image/upload/v1679268052/BlookParts/clothing52.svg"},{url:"https://media.blooket.com/image/upload/v1695265659/BlookParts/clothing53.svg"},{url:"https://media.blooket.com/image/upload/v1695265660/BlookParts/clothing54.svg"},{url:"https://media.blooket.com/image/upload/v1695265625/BlookParts/clothing55.svg"},{url:"https://media.blooket.com/image/upload/v1695265625/BlookParts/clothing56.svg"},{url:"https://media.blooket.com/image/upload/v1695265626/BlookParts/clothing57.svg"},{url:"https://media.blooket.com/image/upload/v1695265626/BlookParts/clothing58.svg"},{url:"https://media.blooket.com/image/upload/v1695265626/BlookParts/clothing59.svg"},{url:"https://media.blooket.com/image/upload/v1695265626/BlookParts/clothing60.svg"},{url:"https://media.blooket.com/image/upload/v1695265627/BlookParts/clothing61.svg"},{url:"https://media.blooket.com/image/upload/v1695265627/BlookParts/clothing62.svg"},{url:"https://media.blooket.com/image/upload/v1695265627/BlookParts/clothing63.svg"},{url:"https://media.blooket.com/image/upload/v1695265627/BlookParts/clothing64.svg"},{url:"https://media.blooket.com/image/upload/v1695265628/BlookParts/clothing65.svg"},{url:"https://media.blooket.com/image/upload/v1695265628/BlookParts/clothing66.svg"},{url:"https://media.blooket.com/image/upload/v1695265629/BlookParts/clothing67.svg"},{url:"https://media.blooket.com/image/upload/v1695265629/BlookParts/clothing68.svg"},{url:"https://media.blooket.com/image/upload/v1695265630/BlookParts/clothing69.svg"},{url:"https://media.blooket.com/image/upload/v1695265630/BlookParts/clothing70.svg"},{url:"https://media.blooket.com/image/upload/v1695265630/BlookParts/clothing71.svg"},{url:"https://media.blooket.com/image/upload/v1695265631/BlookParts/clothing72.svg"},{url:"https://media.blooket.com/image/upload/v1695265631/BlookParts/clothing73.svg"},{url:"https://media.blooket.com/image/upload/v1695265631/BlookParts/clothing74.svg"},{url:"https://media.blooket.com/image/upload/v1695265632/BlookParts/clothing75.svg"},{url:"https://media.blooket.com/image/upload/v1695265632/BlookParts/clothing76.svg"},{url:"https://media.blooket.com/image/upload/v1695265632/BlookParts/clothing77.svg"},{url:"https://media.blooket.com/image/upload/v1695265633/BlookParts/clothing78.svg"},{url:"https://media.blooket.com/image/upload/v1695265633/BlookParts/clothing79.svg"},{url:"https://media.blooket.com/image/upload/v1695265633/BlookParts/clothing80.svg"},{url:"https://media.blooket.com/image/upload/v1695265634/BlookParts/clothing81.svg"},{url:"https://media.blooket.com/image/upload/v1696372287/BlookParts/clothing82.svg"},{url:"https://media.blooket.com/image/upload/v1696372288/BlookParts/clothing83.svg"},{url:"https://media.blooket.com/image/upload/v1696372288/BlookParts/clothing84.svg"},{url:"https://media.blooket.com/image/upload/v1701743199/BlookParts/clothing85.svg"},{url:"https://media.blooket.com/image/upload/v1701743199/BlookParts/clothing86.svg"},{url:"https://media.blooket.com/image/upload/v1701743199/BlookParts/clothing87.svg"}],_ot=[{url:"https://media.blooket.com/image/upload/v1634087707/BlookParts/eyes0.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087719/BlookParts/eyes1.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087721/BlookParts/eyes2.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087723/BlookParts/eyes3.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087740/BlookParts/eyes4.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087742/BlookParts/eyes5.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087747/BlookParts/eyes6.svg"},{url:"https://media.blooket.com/image/upload/v1634087759/BlookParts/eyes7.svg"},{url:"https://media.blooket.com/image/upload/v1634087764/BlookParts/eyes8.svg"},{url:"https://media.blooket.com/image/upload/v1634087770/BlookParts/eyes9.svg"},{url:"https://media.blooket.com/image/upload/v1634087780/BlookParts/eyes10.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087782/BlookParts/eyes11.svg",changes:{[Pr]:1,[Xc]:0}},{url:"https://media.blooket.com/image/upload/v1664326436/BlookParts/eyes12.svg",changes:{[Pr]:0}},{url:"https://media.blooket.com/image/upload/v1664334112/BlookParts/eyes13.svg",changes:{[uu]:2,[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1695265634/BlookParts/eyes14.svg"},{url:"https://media.blooket.com/image/upload/v1696372289/BlookParts/eyes15.svg",changes:{[uu]:2,[Pr]:1}}],jot=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087784/BlookParts/glasses1.svg"},{url:"https://media.blooket.com/image/upload/v1634087786/BlookParts/glasses2.svg"},{url:"https://media.blooket.com/image/upload/v1634087791/BlookParts/glasses3.svg"},{url:"https://media.blooket.com/image/upload/v1634087792/BlookParts/glasses4.svg"},{url:"https://media.blooket.com/image/upload/v1634087804/BlookParts/glasses5.svg"},{url:"https://media.blooket.com/image/upload/v1634087805/BlookParts/glasses6.svg"},{url:"https://media.blooket.com/image/upload/v1634087806/BlookParts/glasses7.svg"},{url:"https://media.blooket.com/image/upload/v1634087809/BlookParts/glasses8.svg"},{url:"https://media.blooket.com/image/upload/v1664323228/BlookParts/glasses9.svg"},{url:"https://media.blooket.com/image/upload/v1664324845/BlookParts/glasses10.svg"},{url:"https://media.blooket.com/image/upload/v1664324845/BlookParts/glasses11.svg"},{url:"https://media.blooket.com/image/upload/v1664324845/BlookParts/glasses12.svg"},{url:"https://media.blooket.com/image/upload/v1664324845/BlookParts/glasses13.svg"},{url:"https://media.blooket.com/image/upload/v1664324847/BlookParts/glasses14.svg"},{url:"https://media.blooket.com/image/upload/v1664334114/BlookParts/glasses15.svg"},{url:"https://media.blooket.com/image/upload/v1664334114/BlookParts/glasses16.svg"},{url:"https://media.blooket.com/image/upload/v1695265634/BlookParts/glasses17.svg"},{url:"https://media.blooket.com/image/upload/v1695265635/BlookParts/glasses18.svg"},{url:"https://media.blooket.com/image/upload/v1695265635/BlookParts/glasses19.svg"},{url:"https://media.blooket.com/image/upload/v1695265635/BlookParts/glasses20.svg"},{url:"https://media.blooket.com/image/upload/v1695265636/BlookParts/glasses21.svg"},{url:"https://media.blooket.com/image/upload/v1695265636/BlookParts/glasses22.svg"},{url:"https://media.blooket.com/image/upload/v1695265636/BlookParts/glasses23.svg"},{url:"https://media.blooket.com/image/upload/v1695265637/BlookParts/glasses24.svg"}],Uot=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087810/BlookParts/hair1.svg"},{url:"https://media.blooket.com/image/upload/v1634087827/BlookParts/hair2.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087829/BlookParts/hair3.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087830/BlookParts/hair4.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087835/BlookParts/hair5.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087836/BlookParts/hair6.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087837/BlookParts/hair7.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087847/BlookParts/hair8.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087849/BlookParts/hair9.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087851/BlookParts/hair10.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087852/BlookParts/hair11.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1634087855/BlookParts/hair12.svg",changes:{[Pr]:1},hasHighlight:!0},{url:"https://media.blooket.com/image/upload/v1664326436/BlookParts/hair13.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1664326436/BlookParts/hair14.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1664334307/BlookParts/hair15.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1664334307/BlookParts/hair16.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1664334307/BlookParts/hair17.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1678767661/BlookParts/hair18.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1695265637/BlookParts/hair19.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1695265638/BlookParts/hair20.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1695265637/BlookParts/hair21.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1695265638/BlookParts/hair22.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1695265639/BlookParts/hair23.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1695265639/BlookParts/hair24.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1695265639/BlookParts/hair25.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1695265640/BlookParts/hair26.svg",changes:{[Pr]:1}},{url:"https://media.blooket.com/image/upload/v1696372290/BlookParts/hair27.svg",changes:{[Pr]:1}}],zot=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087855/BlookParts/hat1.svg"},{url:"https://media.blooket.com/image/upload/v1634087861/BlookParts/hat2.svg"},{url:"https://media.blooket.com/image/upload/v1634087869/BlookParts/hat3.svg"},{url:"https://media.blooket.com/image/upload/v1634087870/BlookParts/hat4.svg"},{url:"https://media.blooket.com/image/upload/v1634087877/BlookParts/hat5.svg"},{url:"https://media.blooket.com/image/upload/v1634087878/BlookParts/hat6.svg"},{url:"https://media.blooket.com/image/upload/v1634087880/BlookParts/hat7.svg"},{url:"https://media.blooket.com/image/upload/v1634087887/BlookParts/hat8.svg"},{url:"https://media.blooket.com/image/upload/v1634087891/BlookParts/hat9.svg"},{url:"https://media.blooket.com/image/upload/v1634087891/BlookParts/hat10.svg"},{url:"https://media.blooket.com/image/upload/v1634087899/BlookParts/hat11.svg"},{url:"https://media.blooket.com/image/upload/v1634087901/BlookParts/hat12.svg"},{url:"https://media.blooket.com/image/upload/v1634087902/BlookParts/hat13.svg"},{url:"https://media.blooket.com/image/upload/v1664323229/BlookParts/hat14.svg"},{url:"https://media.blooket.com/image/upload/v1664323229/BlookParts/hat15.svg"},{url:"https://media.blooket.com/image/upload/v1664323229/BlookParts/hat16.svg"},{url:"https://media.blooket.com/image/upload/v1664323230/BlookParts/hat17.svg"},{url:"https://media.blooket.com/image/upload/v1664323230/BlookParts/hat18.svg"},{url:"https://media.blooket.com/image/upload/v1664323230/BlookParts/hat19.svg"},{url:"https://media.blooket.com/image/upload/v1664324847/BlookParts/hat20.svg"},{url:"https://media.blooket.com/image/upload/v1664324847/BlookParts/hat21.svg"},{url:"https://media.blooket.com/image/upload/v1664324847/BlookParts/hat22.svg"},{url:"https://media.blooket.com/image/upload/v1664324847/BlookParts/hat23.svg"},{url:"https://media.blooket.com/image/upload/v1664324848/BlookParts/hat24.svg"},{url:"https://media.blooket.com/image/upload/v1664324849/BlookParts/hat25.svg"},{url:"https://media.blooket.com/image/upload/v1664325721/BlookParts/hat26.svg"},{url:"https://media.blooket.com/image/upload/v1664325715/BlookParts/hat27.svg"},{url:"https://media.blooket.com/image/upload/v1664325715/BlookParts/hat28.svg"},{url:"https://media.blooket.com/image/upload/v1664325715/BlookParts/hat29.svg"},{url:"https://media.blooket.com/image/upload/v1664325715/BlookParts/hat30.svg"},{url:"https://media.blooket.com/image/upload/v1664334114/BlookParts/hat31.svg"},{url:"https://media.blooket.com/image/upload/v1664334335/BlookParts/hat32.svg"},{url:"https://media.blooket.com/image/upload/v1664334335/BlookParts/hat33.svg"},{url:"https://media.blooket.com/image/upload/v1664334335/BlookParts/hat34.svg"},{url:"https://media.blooket.com/image/upload/v1664334335/BlookParts/hat35.svg"},{url:"https://media.blooket.com/image/upload/v1664334335/BlookParts/hat36.svg"},{url:"https://media.blooket.com/image/upload/v1666686633/BlookParts/hat37.svg"},{url:"https://media.blooket.com/image/upload/v1666686633/BlookParts/hat38.svg"},{url:"https://media.blooket.com/image/upload/v1666686633/BlookParts/hat39.svg"},{url:"https://media.blooket.com/image/upload/v1666686633/BlookParts/hat40.svg"},{url:"https://media.blooket.com/image/upload/v1669108036/BlookParts/hat41.svg"},{url:"https://media.blooket.com/image/upload/v1669108036/BlookParts/hat42.svg"},{url:"https://media.blooket.com/image/upload/v1670303596/BlookParts/hat43.svg"},{url:"https://media.blooket.com/image/upload/v1670912133/BlookParts/hat44.svg"},{url:"https://media.blooket.com/image/upload/v1671528728/BlookParts/hat45.svg"},{url:"https://media.blooket.com/image/upload/v1671528728/BlookParts/hat46.svg"},{url:"https://media.blooket.com/image/upload/v1678767661/BlookParts/hat47.svg"},{url:"https://media.blooket.com/image/upload/v1695265640/BlookParts/hat48.svg"},{url:"https://media.blooket.com/image/upload/v1695265640/BlookParts/hat49.svg"},{url:"https://media.blooket.com/image/upload/v1695265641/BlookParts/hat50.svg"},{url:"https://media.blooket.com/image/upload/v1695265641/BlookParts/hat51.svg"},{url:"https://media.blooket.com/image/upload/v1695265641/BlookParts/hat52.svg"},{url:"https://media.blooket.com/image/upload/v1695265642/BlookParts/hat53.svg"},{url:"https://media.blooket.com/image/upload/v1695265642/BlookParts/hat54.svg"},{url:"https://media.blooket.com/image/upload/v1695265642/BlookParts/hat55.svg"},{url:"https://media.blooket.com/image/upload/v1695265643/BlookParts/hat56.svg"},{url:"https://media.blooket.com/image/upload/v1695265643/BlookParts/hat57.svg"},{url:"https://media.blooket.com/image/upload/v1695265644/BlookParts/hat58.svg"},{url:"https://media.blooket.com/image/upload/v1695265644/BlookParts/hat59.svg"},{url:"https://media.blooket.com/image/upload/v1695265644/BlookParts/hat60.svg"},{url:"https://media.blooket.com/image/upload/v1695265645/BlookParts/hat61.svg"},{url:"https://media.blooket.com/image/upload/v1695265645/BlookParts/hat62.svg"},{url:"https://media.blooket.com/image/upload/v1695265646/BlookParts/hat63.svg"},{url:"https://media.blooket.com/image/upload/v1695265645/BlookParts/hat64.svg"},{url:"https://media.blooket.com/image/upload/v1695265646/BlookParts/hat65.svg"},{url:"https://media.blooket.com/image/upload/v1695265646/BlookParts/hat66.svg"},{url:"https://media.blooket.com/image/upload/v1695265647/BlookParts/hat67.svg"},{url:"https://media.blooket.com/image/upload/v1695265647/BlookParts/hat68.svg"},{url:"https://media.blooket.com/image/upload/v1695265647/BlookParts/hat69.svg"},{url:"https://media.blooket.com/image/upload/v1695265648/BlookParts/hat70.svg"},{url:"https://media.blooket.com/image/upload/v1695265648/BlookParts/hat71.svg"},{url:"https://media.blooket.com/image/upload/v1695265648/BlookParts/hat72.svg"},{url:"https://media.blooket.com/image/upload/v1695265649/BlookParts/hat73.svg"},{url:"https://media.blooket.com/image/upload/v1695265649/BlookParts/hat74.svg"},{url:"https://media.blooket.com/image/upload/v1695266827/BlookParts/hat75.svg"},{url:"https://media.blooket.com/image/upload/v1695266827/BlookParts/hat76.svg"},{url:"https://media.blooket.com/image/upload/v1695266827/BlookParts/hat77.svg"},{url:"https://media.blooket.com/image/upload/v1696372290/BlookParts/hat78.svg"},{url:"https://media.blooket.com/image/upload/v1696372286/BlookParts/hat79.svg"},{url:"https://media.blooket.com/image/upload/v1701743199/BlookParts/hat80.svg"},{url:"https://media.blooket.com/image/upload/v1701743200/BlookParts/hat81.svg"},{url:"https://media.blooket.com/image/upload/v1701743201/BlookParts/hat82.svg"}],Got=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087902/BlookParts/item1.svg"},{url:"https://media.blooket.com/image/upload/v1634087903/BlookParts/item2.svg"},{url:"https://media.blooket.com/image/upload/v1634087903/BlookParts/item3.svg"},{url:"https://media.blooket.com/image/upload/v1634087915/BlookParts/item4.svg"},{url:"https://media.blooket.com/image/upload/v1634087920/BlookParts/item5.svg"},{url:"https://media.blooket.com/image/upload/v1634087921/BlookParts/item6.svg"},{url:"https://media.blooket.com/image/upload/v1634087922/BlookParts/item7.svg"},{url:"https://media.blooket.com/image/upload/v1634087922/BlookParts/item8.svg"},{url:"https://media.blooket.com/image/upload/v1634087927/BlookParts/item9.svg"},{url:"https://media.blooket.com/image/upload/v1634087939/BlookParts/item10.svg"},{url:"https://media.blooket.com/image/upload/v1634087942/BlookParts/item11.svg"},{url:"https://media.blooket.com/image/upload/v1634087942/BlookParts/item12.svg"},{url:"https://media.blooket.com/image/upload/v1634087944/BlookParts/item13.svg"},{url:"https://media.blooket.com/image/upload/v1664323225/BlookParts/item14.svg"},{url:"https://media.blooket.com/image/upload/v1664323225/BlookParts/item15.svg"},{url:"https://media.blooket.com/image/upload/v1664323225/BlookParts/item16.svg"},{url:"https://media.blooket.com/image/upload/v1664324849/BlookParts/item17.svg"},{url:"https://media.blooket.com/image/upload/v1664324849/BlookParts/item18.svg"},{url:"https://media.blooket.com/image/upload/v1664324849/BlookParts/item19.svg"},{url:"https://media.blooket.com/image/upload/v1664325715/BlookParts/item20.svg"},{url:"https://media.blooket.com/image/upload/v1664325715/BlookParts/item21.svg"},{url:"https://media.blooket.com/image/upload/v1664342232/BlookParts/item22.svg"},{url:"https://media.blooket.com/image/upload/v1664325717/BlookParts/item23.svg"},{url:"https://media.blooket.com/image/upload/v1664325717/BlookParts/item24.svg"},{url:"https://media.blooket.com/image/upload/v1664325717/BlookParts/item25.svg"},{url:"https://media.blooket.com/image/upload/v1664325717/BlookParts/item26.svg"},{url:"https://media.blooket.com/image/upload/v1664326436/BlookParts/item27.svg"},{url:"https://media.blooket.com/image/upload/v1664334116/BlookParts/item28.svg"},{url:"https://media.blooket.com/image/upload/v1664334117/BlookParts/item29.svg"},{url:"https://media.blooket.com/image/upload/v1664334118/BlookParts/item30.svg"},{url:"https://media.blooket.com/image/upload/v1664334118/BlookParts/item31.svg"},{url:"https://media.blooket.com/image/upload/v1666686889/BlookParts/item32.svg"},{url:"https://media.blooket.com/image/upload/v1666686889/BlookParts/item33.svg"},{url:"https://media.blooket.com/image/upload/v1669084280/BlookParts/item34.svg"},{url:"https://media.blooket.com/image/upload/v1671528728/BlookParts/item35.svg"},{url:"https://media.blooket.com/image/upload/v1678767661/BlookParts/item36.svg"},{url:"https://media.blooket.com/image/upload/v1695265651/BlookParts/item37.svg"},{url:"https://media.blooket.com/image/upload/v1695265651/BlookParts/item38.svg"},{url:"https://media.blooket.com/image/upload/v1695265651/BlookParts/item39.svg"},{url:"https://media.blooket.com/image/upload/v1695265652/BlookParts/item40.svg"},{url:"https://media.blooket.com/image/upload/v1695265652/BlookParts/item41.svg"},{url:"https://media.blooket.com/image/upload/v1695265652/BlookParts/item42.svg"},{url:"https://media.blooket.com/image/upload/v1695265653/BlookParts/item43.svg"},{url:"https://media.blooket.com/image/upload/v1695265653/BlookParts/item44.svg"},{url:"https://media.blooket.com/image/upload/v1695265653/BlookParts/item45.svg"},{url:"https://media.blooket.com/image/upload/v1695265654/BlookParts/item46.svg"},{url:"https://media.blooket.com/image/upload/v1695265654/BlookParts/item47.svg"},{url:"https://media.blooket.com/image/upload/v1695265654/BlookParts/item48.svg"},{url:"https://media.blooket.com/image/upload/v1695265655/BlookParts/item49.svg"},{url:"https://media.blooket.com/image/upload/v1695265655/BlookParts/item50.svg"},{url:"https://media.blooket.com/image/upload/v1695265656/BlookParts/item51.svg"},{url:"https://media.blooket.com/image/upload/v1695265656/BlookParts/item52.svg"},{url:"https://media.blooket.com/image/upload/v1695265656/BlookParts/item53.svg"},{url:"https://media.blooket.com/image/upload/v1695265657/BlookParts/item54.svg"},{url:"https://media.blooket.com/image/upload/v1695265657/BlookParts/item55.svg"},{url:"https://media.blooket.com/image/upload/v1701743199/BlookParts/item56.svg"},{url:"https://media.blooket.com/image/upload/v1701743199/BlookParts/item57.svg"}],Hot=[{url:"https://media.blooket.com/image/upload/v1634087948/BlookParts/mouth0.svg"},{url:"https://media.blooket.com/image/upload/v1634087948/BlookParts/mouth1.svg"},{url:"https://media.blooket.com/image/upload/v1634087957/BlookParts/mouth2.svg"},{url:"https://media.blooket.com/image/upload/v1634087958/BlookParts/mouth3.svg"},{url:"https://media.blooket.com/image/upload/v1634087959/BlookParts/mouth4.svg"},{url:"https://media.blooket.com/image/upload/v1634087959/BlookParts/mouth5.svg"},{url:"https://media.blooket.com/image/upload/v1634087960/BlookParts/mouth6.svg"},{url:"https://media.blooket.com/image/upload/v1634087963/BlookParts/mouth7.svg"},{url:"https://media.blooket.com/image/upload/v1634087967/BlookParts/mouth8.svg"},{url:"https://media.blooket.com/image/upload/v1634087968/BlookParts/mouth9.svg"},{url:"https://media.blooket.com/image/upload/v1634087974/BlookParts/mouth10.svg"},{url:"https://media.blooket.com/image/upload/v1634087975/BlookParts/mouth11.svg"},{url:"https://media.blooket.com/image/upload/v1664326436/BlookParts/mouth12.svg"},{url:"https://media.blooket.com/image/upload/v1664326436/BlookParts/mouth13.svg"},{url:"https://media.blooket.com/image/upload/v1664334118/BlookParts/mouth14.svg"},{url:"https://media.blooket.com/image/upload/v1664334118/BlookParts/mouth15.svg"},{url:"https://media.blooket.com/image/upload/v1664334119/BlookParts/mouth16.svg"},{url:"https://media.blooket.com/image/upload/v1664334110/BlookParts/mouth17.svg"},{url:"https://media.blooket.com/image/upload/v1695265657/BlookParts/mouth18.svg"},{url:"https://media.blooket.com/image/upload/v1695265658/BlookParts/mouth19.svg"},{url:"https://media.blooket.com/image/upload/v1695265658/BlookParts/mouth20.svg"},{url:"https://media.blooket.com/image/upload/v1695265659/BlookParts/mouth21.svg"},{url:"https://media.blooket.com/image/upload/v1696372287/BlookParts/mouth22.svg"}],$ot=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087975/BlookParts/nose1.svg",changes:{[Xc]:0,[uu]:2}},{url:"https://media.blooket.com/image/upload/v1634087979/BlookParts/nose2.svg",changes:{[Xc]:0,[uu]:2}},{url:"https://media.blooket.com/image/upload/v1634087989/BlookParts/nose3.svg",changes:{[Xc]:0,[uu]:2}},{url:"https://media.blooket.com/image/upload/v1634087992/BlookParts/nose4.svg",changes:{[Xc]:0,[uu]:2}},{url:"https://media.blooket.com/image/upload/v1634087993/BlookParts/nose5.svg",changes:{[Xc]:0,[uu]:2}},{url:"https://media.blooket.com/image/upload/v1634087993/BlookParts/nose6.svg"},{url:"https://media.blooket.com/image/upload/v1664334110/BlookParts/nose7.svg"},{url:"https://media.blooket.com/image/upload/v1666686854/BlookParts/nose8.svg"}],Vot=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087705/BlookParts/cheeks1.svg",changes:{[uu]:2}},{url:"https://media.blooket.com/image/upload/v1634087706/BlookParts/cheeks2.svg",changes:{[uu]:2}},{url:"https://media.blooket.com/image/upload/v1634087696/BlookParts/cheeks3.svg"},{url:"https://media.blooket.com/image/upload/v1634087718/BlookParts/cheeks4.svg"},{url:"https://media.blooket.com/image/upload/v1664342241/BlookParts/cheeks5.svg"},{url:"https://media.blooket.com/image/upload/v1664325848/BlookParts/cheeks6.svg"},{url:"https://media.blooket.com/image/upload/v1695265659/BlookParts/cheeks7.svg"}],Wot=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087694/BlookParts/eyebrows1.svg"},{url:"https://media.blooket.com/image/upload/v1634087695/BlookParts/eyebrows2.svg"},{url:"https://media.blooket.com/image/upload/v1634087695/BlookParts/eyebrows3.svg"},{url:"https://media.blooket.com/image/upload/v1634087695/BlookParts/eyebrows4.svg"},{url:"https://media.blooket.com/image/upload/v1634087706/BlookParts/eyebrows5.svg"},{url:"https://media.blooket.com/image/upload/v1664326438/BlookParts/eyebrows6.svg"},{url:"https://media.blooket.com/image/upload/v1664326438/BlookParts/eyebrows7.svg"},{url:"https://media.blooket.com/image/upload/v1664334112/BlookParts/eyebrows8.svg"},{url:"https://media.blooket.com/image/upload/v1664334112/BlookParts/eyebrows9.svg"},{url:"https://media.blooket.com/image/upload/v1678767661/BlookParts/eyebrows10.svg"},{url:"https://media.blooket.com/image/upload/v1696372289/BlookParts/eyebrows11.svg"}],dr={base:Fot,clothing:Lot,eyes:_ot,glasses:jot,hair:Uot,hat:zot,item:Got,mouth:Hot,nose:$ot,cheeks:Vot,eyebrows:Wot},hu=[["#3f1c12","#592a1e"],["#fff0a3","#fff5cc"],["#ce1f3d","#e24466"],["#141319","#252330"],["#cc488a","#e065a9"],["#a6cf54","#bbe25d"],["#4cc8f4","#7ddff9"],["#8c68a2","#a185b5"],["#b16a28","#cd8029"]],_2="#3f1c12",ON="#592a1e",NN=e=>{const t=e.split("#");if(t.length!==11||!dr.base[t[0]]||!dr.clothing[t[1]]||!dr.eyes[t[2]]||!dr.glasses[t[3]])return!1;const r=t[4].split("$");if(r.length!==2||!dr.hair[r[0]]||!hu[r[1]]||!dr.hat[t[5]]||!dr.item[t[6]]||!dr.mouth[t[7]]||!dr.nose[t[8]]||!dr.cheeks[t[9]])return!1;const n=t[10].split("$");return!(n.length!==2||!dr.eyebrows[n[0]]||!hu[n[1]])},Yot="https://ac.blooket.com/marketassets/blooks/lightblue.svg",bx=({code:e,svgurl:t,className:r,blookClassName:n,style:c,tip:S})=>{if(t)return A.jsx("div",{className:Ct(ma.blookContainer,r),style:c,"data-tip":S||null,children:A.jsx("img",{src:t,alt:"Custom Blook",draggable:!1,className:Ct(ma.blook,n)})});const s=e.split("#");if(!NN(e))return A.jsx("div",{className:Ct(ma.blookContainer,r),style:c,"data-tip":S||null,children:A.jsx("img",{src:Yot,alt:"Blook",draggable:!1,className:Ct(ma.blook,n)})});const g=dr.base[s[0]],i=g.tones,a=dr.eyes[s[2]],v=s[4].split("$"),f=dr.hair[v[0]],h=hu[v[1]][0],u=hu[v[1]][1],o=dr.nose[s[8]],d=dr.cheeks[s[9]],p=s[10].split("$"),l=dr.eyebrows[p[0]],m=hu[p[1]][0];return A.jsxs("div",{className:Ct(ma.blookContainer,r),style:c,"data-tip":S||null,children:[A.jsx("img",{src:g.url,alt:"Custom Blook",draggable:!1,className:Ct(ma.blook,n)}),f.url?A.jsx(ed,{src:f.url,title:"Blook Hair",className:ma.part,preProcessor:y=>{let x=y;return f.changes&&Object.entries(f.changes).forEach(([b,w])=>{x=x.replaceAll(b,i[w])}),x=x.replaceAll(_2,h),f.hasHighlight&&(x=x.replaceAll(ON,u)),x}}):null,A.jsx("img",{src:dr.mouth[s[7]].url,alt:"Blook Mouth",draggable:!1,className:ma.part}),o.url?A.jsx(ed,{src:o.url,title:"Blook Nose",className:ma.part,preProcessor:y=>{let x=y;return o.changes&&Object.entries(o.changes).forEach(([b,w])=>{x=x.replaceAll(b,i[w])}),x}}):null,d.url?A.jsx(ed,{src:d.url,title:"Blook Cheeks",className:ma.part,preProcessor:y=>{let x=y;return d.changes&&Object.entries(d.changes).forEach(([b,w])=>{x=x.replaceAll(b,i[w])}),x}}):null,A.jsx(ed,{src:a.url,title:"Blook Eyes",className:ma.part,preProcessor:y=>{let x=y;return a.changes&&Object.entries(a.changes).forEach(([b,w])=>{x=x.replaceAll(b,i[w])}),x}}),l.url?A.jsx(ed,{src:l.url,title:"Blook Eyebrows",className:ma.part,preProcessor:y=>{let x=y;return x=x.replaceAll(_2,m),x}}):null,dr.clothing[s[1]].url?A.jsx("img",{src:dr.clothing[s[1]].url,alt:"Blook Clothing",draggable:!1,className:ma.part}):null,dr.glasses[s[3]].url?A.jsx("img",{src:dr.glasses[s[3]].url,alt:"Blook Glasses",draggable:!1,className:ma.part}):null,dr.hat[s[5]].url?A.jsx("img",{src:dr.hat[s[5]].url,alt:"Blook Hat",draggable:!1,className:ma.part}):null,dr.item[s[6]].url?A.jsx("img",{src:dr.item[s[6]].url,alt:"Blook Item",draggable:!1,className:ma.part}):null]})};bx.propTypes={code:Wt.string,svgurl:Wt.string,className:Wt.string,blookClassName:Wt.string,style:Wt.object,tip:Wt.string};const Xot="_blookContainer_1601v_1",Qot="_blook_1601v_1",Kot="_santaHat_1601v_15",Jot="_caterpillarHat_1601v_23",Zot="_toucanHat_1601v_28",yS={blookContainer:Xot,blook:Qot,santaHat:Kot,caterpillarHat:Jot,toucanHat:Zot},xn=({name:e,className:t,blookClassName:r,style:n,tip:c})=>{const S=om(e);return e&&(typeof e=="string"||e instanceof String)&&e.includes("#")?A.jsx(bx,{code:e,className:t,blookClassName:r,style:n,tip:c}):A.jsxs("div",{className:Ct(yS.blookContainer,t),style:n,"data-tip":c||null,children:[A.jsx("img",{src:gs[e]?gs[e].url:null,alt:`${S} Blook`,draggable:!1,className:Ct(yS.blook,r,{[yS.spookyGhost]:e==="Spooky Ghost"})}),null]})};xn.propTypes={name:Wt.string,className:Wt.string,blookClassName:Wt.string,style:Wt.object,tip:Wt.string};const qot="_container_1717y_1",tlt="_loader_1717y_8",elt="_loaderBox_1717y_14",ilt="_animate_1717y_1",rlt="_shadow_1717y_61",X0={container:qot,loader:tlt,loaderBox:elt,animate:ilt,shadow:rlt},no=({blook:e})=>A.jsx("div",{className:X0.container,children:A.jsxs("div",{className:X0.loader,children:[A.jsx(xn,{name:e&&!e.includes("#")?e:"Light Blue",className:X0.loaderBox}),A.jsx("div",{className:X0.shadow})]})});no.propTypes={blook:Wt.string};const nlt=["#1f77b4","#ffa31e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#b3dc23","#0bc2cf"],gr=({text:e,content:t,buttonOne:r,buttonTwo:n,loading:c,numValue:S,numChange:s,numTotal:g,priceValue:i,priceChange:a,timeValue:v,timeChange:f,stringValue:h,stringChange:u,stringPlaceholder:o,stringValue2:d,stringChange2:p,stringPlaceholder2:l,colorValue:m,colorChange:y,error:x,onSubmit:b,isDark:w,blook:C})=>A.jsx("div",{className:He.modal,children:A.jsxs("form",{onSubmit:b?E=>b(E):E=>E.preventDefault(),className:Ct(kr.container,{[kr.darkBg]:w}),children:[A.jsxs("div",{className:Ct(kr.text,{[kr.whiteText]:w}),children:[C?A.jsx(xn,{name:C,className:kr.blook}):null,e||t]}),c?A.jsx(no,{}):A.jsxs("div",{className:kr.holder,children:[S!==void 0?A.jsxs("div",{className:kr.numRow,children:[A.jsx("div",{className:Ct(kr.inputContainer,kr.smallInputContainer,{[kr.inputFilled]:S}),children:A.jsx("input",{className:Ct(kr.input,kr.smallInput),placeholder:"",onChange:s,value:S,type:"tel",autoFocus:ur?"":"autofocus"})}),A.jsx("div",{className:kr.numTotal,children:`/ ${Ji(g)}`})]}):null,i!==void 0?A.jsxs("div",{className:Ct(kr.inputContainer,{[kr.inputFilled]:i}),children:[A.jsx("input",{className:kr.input,placeholder:"Price",onChange:a,value:i,type:"number",autoFocus:ur?"":"autofocus"}),A.jsx("img",{src:Re.basic.token,alt:"Token",className:kr.token,draggable:!1})]}):null,v!==void 0?A.jsxs("div",{className:Ct(kr.inputContainer,{[kr.inputFilled]:v}),children:[A.jsx("input",{className:kr.input,placeholder:"Time",onChange:f,value:v,type:"number",autoFocus:ur||i!==void 0?"":"autofocus"}),A.jsx("i",{className:Ct(kr.icon,"far fa-clock")})]}):null,h!==void 0?A.jsx("div",{className:Ct(kr.inputContainer,kr.smallishInputContainer,{[kr.inputFilled]:h}),children:A.jsx("input",{className:kr.longInput,placeholder:o||"Name",onChange:u,value:h,type:"text",autoFocus:ur||h!==void 0?"":"autofocus"})}):null,d!==void 0?A.jsx("div",{className:Ct(kr.inputContainer,kr.smallishInputContainer,{[kr.inputFilled]:d}),children:A.jsx("input",{className:kr.longInput,placeholder:l||"Name",onChange:p,value:d,type:"text",autoFocus:ur||d!==void 0?"":"autofocus"})}):null,m!==void 0?A.jsx("div",{className:kr.colorsHolder,children:nlt.map(E=>A.jsx("div",{className:kr.colorContainer,role:"button",tabIndex:0,onClick:()=>y(E),style:{backgroundColor:E},children:E===m?A.jsx("i",{className:"fas fa-check"}):null},E))}):null,x?A.jsxs("div",{className:kr.errorContainer,children:[A.jsx("i",{className:Ct(kr.errorIcon,"fas fa-times-circle")}),A.jsx("div",{className:kr.errorText,children:x})]}):null,A.jsxs("div",{className:kr.buttonContainer,children:[r?A.jsx(Ti,{onClick:r.click,outsideClass:kr.button,insideClass:kr.buttonInside,color:r.color==="orange"?"#ff7b24":r.color==="red"?"#ce1313":r.color==="green"?"#4bc22e":r.color==="black"?"#3a3a3a":"#0bc2cf",children:r.text}):null,n?A.jsx(Ti,{onClick:n.click,outsideClass:kr.button,insideClass:kr.buttonInside,color:n.color==="orange"?"#ff7b24":n.color==="red"?"#ce1313":n.color==="green"?"#4bc22e":n.color==="black"?"#3a3a3a":"#0bc2cf",children:n.text}):null]})]}),A.jsx("input",{type:"submit",className:kr.hiddenSubmit})]})});gr.propTypes={text:Wt.string,content:Wt.element,buttonOne:Wt.shape({text:Wt.string,click:Wt.func,color:Wt.string}),buttonTwo:Wt.shape({text:Wt.string,click:Wt.func,color:Wt.string}),loading:Wt.bool,numValue:Wt.number,numChange:Wt.func,numTotal:Wt.number,priceValue:Wt.any,priceChange:Wt.func,timeValue:Wt.any,timeChange:Wt.func,stringValue:Wt.string,stringChange:Wt.func,stringPlaceholder:Wt.string,stringValue2:Wt.string,stringChange2:Wt.func,stringPlaceholder2:Wt.string,colorValue:Wt.string,colorChange:Wt.func,error:Wt.string,onSubmit:Wt.func,isDark:Wt.bool,blook:Wt.string};const slt="_centerWrapper_1alxs_1",alt="_payContainer_1alxs_9",olt="_payHeader_1alxs_24",llt="_paySpacer_1alxs_32",ult="_payMessage_1alxs_40",hlt="_payRow_1alxs_49",clt="_payColumn_1alxs_59",flt="_payItem_1alxs_66",dlt="_payDesc_1alxs_71",plt="_payPrice_1alxs_77",vlt="_payPriceDiscount_1alxs_87",mlt="_payButton_1alxs_95",glt="_payButtonInside_1alxs_100",ylt="_spacer_1alxs_106",Xa={centerWrapper:slt,payContainer:alt,payHeader:olt,paySpacer:llt,payMessage:ult,payRow:hlt,payColumn:clt,payItem:flt,payDesc:dlt,payPrice:plt,payPriceDiscount:vlt,payButton:mlt,payButtonInside:glt,spacer:ylt};let FN=class extends ti.Component{constructor(t){super(t),this.state={planSlug:"",item:"",desc:"",priceLabel:"",loading:!1,end:""},this.onCheckout=this.onCheckout.bind(this)}componentDidMount(){return oi(this,null,function*(){if(!(yield this.props.user.getData())){Ue.logError("UpgradeCheckoutPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}const r=this.props.match.params.plan,n=yield Vr.listIndividualPlans({});let c=null;if(n.plans.forEach(s=>{s.slug===r&&(c=s)}),!c)throw new Error(`could not find plan with slug ${r}`);const S=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});this.setState({planSlug:r,item:c.name,desc:c.description,priceLabel:S.format(c.priceCents/100)})})}onCheckout(){return oi(this,null,function*(){if(!this.state.loading){this.setState({loading:!0});try{const t=yield Vr.createIndividualCheckoutSession({slug:this.state.planSlug}),r=t.sessionId;if(!r)throw new Error("cannot proceed to checkout with sessionId");const n=t.publishableKey;if(!n)throw new Error("cannot proceed to checkout without stripePublishableKey");(yield CN(n)).redirectToCheckout({sessionId:r}).then(S=>{S.error&&Ue.logError(S.error)})}catch(t){this.setState({loading:!1}),Ue.logError(t)}}})}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),A.jsx(Ro,{}),A.jsx("div",{className:He.slantBackground}),A.jsx("div",{className:He.regularBody,children:A.jsxs("div",{className:Xa.centerWrapper,children:[A.jsx("div",{className:Xa.spacer}),A.jsxs("div",{className:Xa.payContainer,children:[A.jsx("div",{className:Xa.payHeader,children:"Checkout"}),A.jsx("div",{className:Xa.paySpacer}),A.jsxs("div",{className:Xa.payRow,children:[A.jsxs("div",{className:Xa.payColumn,children:[A.jsx("div",{className:Xa.payItem,children:`Blooket ${this.state.item}`}),A.jsx("div",{className:Xa.payDesc,children:this.state.desc})]}),A.jsx("div",{className:Xa.payPrice,children:this.state.priceLabel})]}),A.jsx("div",{className:Xa.paySpacer}),A.jsx(Ti,{color:"#0bc2cf",outsideClass:Xa.payButton,insideClass:Xa.payButtonInside,onClick:this.onCheckout,children:"Checkout Now"})]}),A.jsx("div",{className:Xa.spacer})]})}),this.state.loading||this.state.end?A.jsx(gr,{text:this.state.end||"Processing...",loading:this.state.loading,buttonOne:{text:this.state.end==="Success!"?"Thanks!":"Refresh",click:()=>this.state.end==="Success!"?this.props.history.push("/dashboard"):window.location.reload(),color:"blue"}}):null]})}};FN.propTypes={match:Wt.object,history:Wt.object,user:Wt.object};const xlt=Sn(FN),blt="_container_t2jnm_1",Slt="_header_t2jnm_17",wlt="_subheader_t2jnm_23",Tlt="_button_t2jnm_30",Clt="_buttonInside_t2jnm_35",cu={container:blt,header:Slt,subheader:wlt,button:Tlt,buttonInside:Clt};class LN extends ti.Component{constructor(t){super(t),this.state={inProgress:!1,succeeded:!1,isGroup:!1},this.checkSessionStatus=this.checkSessionStatus.bind(this),this.handleUpgrade=this.handleUpgrade.bind(this)}componentDidMount(){return oi(this,null,function*(){if(!(yield this.props.user.getData()))throw new Error("cannot handle stripe checkout success without a user");this.setState({inProgress:!0}),this.checkSessionStatus()})}handleUpgrade(){return oi(this,null,function*(){try{const t=Vr.completeCheckoutSession({});this.setState({inProgress:!1,succeeded:!0,isGroup:t.isGroup})}catch(t){this.setState({inProgress:!1,succeeded:!1,errorMessage:"Something went wrong while upgrading your account.  Please contact support and do not try again, as you will likely incur duplicate charges."}),Ue.logError("error handling upgrading account",t)}})}checkSessionStatus(){return oi(this,null,function*(){try{const t=yield Vr.checkoutSessionStatus({});t.paymentStatus===F2.PAID?this.handleUpgrade():t.paymentStatus===F2.UNPAID?setTimeout(()=>{this.checkSessionStatus()},3e3):this.setState({inProgress:!1,succeeded:!1,errorMessage:"It looks like you reached this page in error.  Please return to the dashboard!"})}catch(t){this.setState({inProgress:!1,succeeded:!1,errorMessage:"Something went wrong while while checking your payment status.  To avoid duplicate charges, please do not try again, instead contact support."}),Ue.logError("checking payment status",t)}})}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),A.jsx(Ro,{}),A.jsx("div",{className:He.slantBackground}),A.jsx("div",{className:He.regularBody,children:this.state.inProgress?A.jsx(gr,{text:"Processing...",loading:this.state.inProgress}):A.jsxs("div",{className:cu.container,children:[A.jsx("div",{className:cu.header,children:this.state.succeeded?"Success!":"Failed"}),A.jsx("div",{className:cu.subheader,children:this.state.succeeded?"Thank you!":this.state.errorMessage}),A.jsx("div",{className:He.flex,children:A.jsx(Ti,{color:"#0bc2cf",outsideClass:cu.button,insideClass:cu.buttonInside,linkTo:this.state.isGroup?`${nr.dashboard}/group-plan`:`${nr.dashboard}/my-sets`,children:this.state.isGroup?"Group Plan":"Dashboard"})})]})})]})}}LN.propTypes={user:Wt.object};const Elt=Sn(LN);class _N extends ti.Component{constructor(t){super(t),this.state={isGroup:Ks("t")==="group"}}componentDidMount(){return oi(this,null,function*(){(yield this.props.user.getData())||(Ue.logError("UpgradeCancelPage cannot proceed without user"),window.location.href=`${nr.id}/login`)})}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),A.jsx(Ro,{}),A.jsx("div",{className:He.slantBackground}),A.jsx("div",{className:He.regularBody,children:A.jsxs("div",{className:cu.container,children:[A.jsx("div",{className:cu.header,children:"Cancelled"}),A.jsx("div",{className:cu.subheader,children:"We were unable to process your payment"}),A.jsx("div",{className:He.flex,children:A.jsx(Ti,{color:"#0bc2cf",outsideClass:cu.button,insideClass:cu.buttonInside,linkTo:this.state.isGroup?"/upgrade/group/price":"/upgrade",children:"Go Back"})})]})})]})}}_N.propTypes={user:Wt.object};const klt=Sn(_N),Dlt="_centerWrapper_1jiv3_1",Alt="_header_1jiv3_9",Plt="_groupsHolder_1jiv3_20",Rlt="_plan_1jiv3_29",Ilt="_planBackgroundContainer_1jiv3_43",Mlt="_planBackground_1jiv3_43",Blt="_planTop_1jiv3_66",Olt="_planSize_1jiv3_77",Nlt="_planCalc_1jiv3_84",Flt="_planPrice_1jiv3_91",Llt="_planSubText_1jiv3_98",_lt="_planButton_1jiv3_106",jlt="_planButtonInside_1jiv3_111",Ult="_descContainer_1jiv3_117",zlt="_link_1jiv3_131",Glt="_individualContainer_1jiv3_140",Hlt="_individualButton_1jiv3_160",$lt="_detailsHolder_1jiv3_165",Vlt="_detailContainer_1jiv3_174",Wlt="_detailCheck_1jiv3_188",Ylt="_detailText_1jiv3_201",Xlt="_spacer_1jiv3_209",Zn={centerWrapper:Dlt,header:Alt,groupsHolder:Plt,plan:Rlt,planBackgroundContainer:Ilt,planBackground:Mlt,planTop:Blt,planSize:Olt,planCalc:Nlt,planPrice:Flt,planSubText:Llt,planButton:_lt,planButtonInside:jlt,descContainer:Ult,link:zlt,individualContainer:Glt,individualButton:Hlt,detailsHolder:$lt,detailContainer:Vlt,detailCheck:Wlt,detailText:Ylt,spacer:Xlt},ik={friends:"#1f77b4",department:"#ffa31e","small-school":"#9467bd",school:"#2ca02c"},Qlt=["Get Quote Immediately","Discounted Pricing","Admin Page to Manage Plans","Pay With PO or Credit Card"];class jN extends ti.Component{constructor(t){super(t),this.state={loggedIn:!1,popShown:"",groupName:"",groupPlans:[]},this.groupPlanSlug="",this.choosePlan=this.choosePlan.bind(this),this.goToQuote=this.goToQuote.bind(this)}componentDidMount(){return oi(this,null,function*(){(yield this.props.user.getData())&&this.setState({loggedIn:!0});const n=(yield Vr.listGroupPlans({})).plans;if(!n||n.length===0)throw new Error("cannot proceed wthout any valid group plans");this.setState({groupPlans:n})})}choosePlan(t){this.groupPlanSlug=t,this.setState({popShown:this.state.loggedIn?"name":"login"})}goToQuote(t){t.preventDefault(),this.props.history.push(`/upgrade/group?s=${encodeURIComponent(this.groupPlanSlug)}&n=${encodeURIComponent(this.state.groupName)}`)}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Group Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),A.jsx(Ro,{}),A.jsx("div",{className:He.slantBackground}),A.jsx("div",{className:He.regularBody,children:A.jsxs("div",{className:Zn.centerWrapper,children:[A.jsx("div",{className:Zn.header,children:"Group Plans"}),A.jsx("div",{className:Zn.groupsHolder,children:this.state.groupPlans.map(t=>A.jsxs("div",{className:Zn.plan,children:[A.jsx("div",{className:Zn.planBackgroundContainer,children:A.jsx("div",{className:Zn.planBackground,style:{backgroundColor:ik[t.slug]}})}),A.jsx("div",{className:Zn.planTop,children:t.name}),A.jsx("div",{className:Zn.planSize,children:`${t.numUsers} Plus Plans`}),A.jsx("div",{className:Zn.planPrice,children:`$${Ji(t.priceCents/100)}`}),A.jsx("div",{className:Zn.planSubText,children:"per year"}),A.jsx(Ti,{color:ik[t.slug],onClick:()=>this.choosePlan(t.slug),outsideClass:Zn.planButton,insideClass:Zn.planButtonInside,children:this.state.loggedIn?"Buy Now":"Get Started"})]},t.slug))}),A.jsxs("div",{className:Zn.descContainer,children:["Choose a Plan. Pay with Credit Card or Purchase Order. Distribute Plus Plans Immediately.",A.jsx("br",{}),A.jsx("b",{children:"It's that simple."})]}),A.jsx("div",{className:Zn.detailsHolder,children:Qlt.map((t,r)=>A.jsxs("div",{className:Zn.detailContainer,children:[A.jsx("i",{className:Ct("fas fa-check",Zn.detailCheck)}),A.jsx("div",{className:Zn.detailText,children:t})]},r))}),A.jsxs("div",{className:Zn.descContainer,style:{margin:"20px auto 10px auto"},children:[A.jsx("b",{children:"Need a plan for more than 80 teachers?"}),A.jsx("br",{}),"Contact us at: ",A.jsx("a",{className:Zn.link,href:"mailto:contact-us@blooket.com",children:"contact-us@blooket.com"})]}),A.jsxs("div",{className:Zn.individualContainer,children:["Looking for Individual Plans?",A.jsx(Ti,{color:"#0bc2cf",linkTo:"/upgrade",outsideClass:Zn.individualButton,insideClass:Zn.planButtonInside,children:"Individual Pricing"})]}),A.jsx("div",{className:Zn.spacer})]})}),this.state.popShown==="login"?A.jsx(gr,{text:"You'll need an account to purchase a group plan.",buttonOne:{text:"Ok",click:()=>{window.location.href=`${nr.id}/login`},color:"blue"},buttonTwo:{text:"Back",click:()=>this.setState({popShown:""}),color:"blue"}}):this.state.popShown==="name"?A.jsx(gr,{text:"Enter the name of your group/school:",stringValue:this.state.groupName,stringChange:t=>this.setState({groupName:t.target.value.slice(0,50)}),onSubmit:this.goToQuote,buttonOne:{text:"Get Quote",click:this.goToQuote,color:"blue"}}):null]})}}jN.propTypes={history:Wt.object,user:Wt.object};const Klt=Sn(jN),Jlt="_quote_olmmz_1",Zlt="_leftColumn_olmmz_11",qlt="_textContainer_olmmz_21",tut="_textBigHeader_olmmz_34",eut="_bigText_olmmz_39",iut="_textHeader_olmmz_43",rut="_linkText_olmmz_48",nut="_button_olmmz_52",sut="_buttonInside_olmmz_57",aut="_downloadButton_olmmz_62",out="_bodyContainer_olmmz_88",_r={quote:Jlt,leftColumn:Zlt,textContainer:qlt,textBigHeader:tut,bigText:eut,textHeader:iut,linkText:rut,button:nut,buttonInside:sut,downloadButton:aut,bodyContainer:out};class UN extends ti.Component{constructor(t){super(t),this.state={plan:{},groupName:"",pdf:null,loading:!1,hasGroup:!1},this.onCheckout=this.onCheckout.bind(this)}componentDidMount(){return oi(this,null,function*(){if(!(yield this.props.user.getData())){Ue.logError("UpgradeGroupPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}const r=decodeURIComponent(Ks("groupPlanName")),n=decodeURIComponent(Ks("s")),c=decodeURIComponent(Ks("n")),S=yield Vr.listGroupPlans({});let s=null;if(S.plans.forEach(g=>{(g.name===r||g.slug===n)&&(s=g)}),!s)throw new Error(`could not find a name named ${r}`);this.setState({plan:s,groupName:c}),vi.put("/api/groups/quote",{quote:{logo:Re.basic.blooket180,from:`Blooket LLC
PO Box 830618,
Philadelphia, PA 19182-0618`,to:c,header:"QUOTE",items:[{name:`Blooket Plus: ${s.name} Plan`,quantity:1,unit_cost:s.priceCents/100,description:`${s.numUsers} One-Year Plus Plans`}],notes:`If you have any questions, please email contact-us@blooket.com.

All quotes, invoices and purchases are subject to the Terms of Service of Blooket LLC unless previously agreed to in writing by the parties. The Terms of Service are located on the www.blooket.com website.  Purchasers agree to be bound by the Terms of Service and comply with the Privacy Policy provisions of the website at all times.`}}).then(g=>{this.setState({pdf:g.data.pdf,hasGroup:g.data.hasGroup})}).catch(g=>Ue.logError(g))})}onCheckout(){return oi(this,null,function*(){if(!this.state.plan||!this.state.plan.name)throw new Error("cannot checkout group plan without a valid plan");this.setState({loading:!0});try{const t=yield Vr.createGroupCheckoutSession({slug:this.state.plan.slug,groupName:this.state.groupName}),r=t.sessionId,n=t.publishableKey;(yield CN(n)).redirectToCheckout({sessionId:r}).then(S=>{S.error&&Ue.logError(S.error)})}catch(t){this.setState({loading:!1}),Ue.logError(t)}})}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Group Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),A.jsx(Ro,{}),A.jsx("div",{className:He.slantBackground}),A.jsxs("div",{className:Ct(He.regularBody,_r.bodyContainer),children:[this.state.pdf?A.jsx("object",{data:`data:application/pdf;base64,${this.state.pdf}`,title:"Blooket Quote",className:_r.quote,children:A.jsx("a",{className:_r.downloadButton,download:"BlooketQuote.pdf",href:`data:application/pdf;base64,${this.state.pdf}`,children:"Download PDF"})}):null,A.jsxs("div",{className:_r.leftColumn,children:[A.jsxs("div",{className:_r.textContainer,children:[A.jsx("div",{className:_r.textBigHeader,children:this.state.groupName}),A.jsx("div",{className:_r.bigText,children:`Blooket Plus: ${this.state.plan.name} Plan`}),`${this.state.plan.numUsers} One-Year Plus Plans`]}),A.jsxs("div",{className:_r.textContainer,children:[A.jsx("div",{className:_r.textHeader,children:"Pay With Purchase Order"}),A.jsx("div",{children:"Upload your PO and we'll get your plans started immediately!"}),A.jsx("div",{className:He.flex,children:A.jsx(Ti,{color:"#0bc2cf",outsideClass:_r.button,insideClass:_r.buttonInside,linkTo:`/upgrade/group/po?groupPlanName=${this.state.plan.name}&n=${encodeURIComponent(this.state.groupName)}`,children:"Pay With Purchase Order"})})]}),A.jsxs("div",{className:_r.textContainer,children:[A.jsx("div",{className:_r.textHeader,children:"Pay With Credit Card"}),A.jsx("div",{children:"Use a credit card to pay and get things done quickly!"}),A.jsx("div",{className:He.flex,children:A.jsx(Ti,{color:"#0bc2cf",outsideClass:_r.button,insideClass:_r.buttonInside,onClick:this.onCheckout,children:"Pay With Credit Card"})})]}),A.jsxs("div",{className:_r.textContainer,children:[A.jsx("div",{className:_r.textHeader,children:"Have Questions or Need to Request our W-9?"}),A.jsxs("div",{className:_r.bigText,children:["Send us an email at: ",A.jsx("a",{className:_r.linkText,href:"mailto:contact-us@blooket.com",children:"contact-us@blooket.com"})]})]})]})]}),this.state.loading?A.jsx(gr,{text:"Loading...",loading:!0}):this.state.hasGroup?A.jsx(gr,{text:"You already have a group plan.",buttonOne:{text:"Go to Group",click:()=>this.props.history.push("/group-plan"),color:"blue"}}):null]})}}UN.propTypes={history:Wt.object,user:Wt.object};const lut=Sn(UN);var zN;function ui(){return zN.apply(null,arguments)}function uut(e){zN=e}function _l(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function df(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Wr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function HE(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Wr(e,t))return!1;return!0}function qa(e){return e===void 0}function ch(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Qm(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function GN(e,t){var r=[],n,c=e.length;for(n=0;n<c;++n)r.push(t(e[n],n));return r}function $h(e,t){for(var r in t)Wr(t,r)&&(e[r]=t[r]);return Wr(t,"toString")&&(e.toString=t.toString),Wr(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Pu(e,t,r,n){return cF(e,t,r,n,!0).utc()}function hut(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Er(e){return e._pf==null&&(e._pf=hut()),e._pf}var j2;Array.prototype.some?j2=Array.prototype.some:j2=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function $E(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=Er(e),r=j2.call(t.parsedDateParts,function(c){return c!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function Sx(e){var t=Pu(NaN);return e!=null?$h(Er(t),e):Er(t).userInvalidated=!0,t}var rk=ui.momentProperties=[],xS=!1;function VE(e,t){var r,n,c,S=rk.length;if(qa(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),qa(t._i)||(e._i=t._i),qa(t._f)||(e._f=t._f),qa(t._l)||(e._l=t._l),qa(t._strict)||(e._strict=t._strict),qa(t._tzm)||(e._tzm=t._tzm),qa(t._isUTC)||(e._isUTC=t._isUTC),qa(t._offset)||(e._offset=t._offset),qa(t._pf)||(e._pf=Er(t)),qa(t._locale)||(e._locale=t._locale),S>0)for(r=0;r<S;r++)n=rk[r],c=t[n],qa(c)||(e[n]=c);return e}function Km(e){VE(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),xS===!1&&(xS=!0,ui.updateOffset(this),xS=!1)}function jl(e){return e instanceof Km||e!=null&&e._isAMomentObject!=null}function HN(e){ui.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function nl(e,t){var r=!0;return $h(function(){if(ui.deprecationHandler!=null&&ui.deprecationHandler(null,e),r){var n=[],c,S,s,g=arguments.length;for(S=0;S<g;S++){if(c="",typeof arguments[S]=="object"){c+=`
[`+S+"] ";for(s in arguments[0])Wr(arguments[0],s)&&(c+=s+": "+arguments[0][s]+", ");c=c.slice(0,-2)}else c=arguments[S];n.push(c)}HN(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var nk={};function $N(e,t){ui.deprecationHandler!=null&&ui.deprecationHandler(e,t),nk[e]||(HN(t),nk[e]=!0)}ui.suppressDeprecationWarnings=!1;ui.deprecationHandler=null;function Ru(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function cut(e){var t,r;for(r in e)Wr(e,r)&&(t=e[r],Ru(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function U2(e,t){var r=$h({},e),n;for(n in t)Wr(t,n)&&(df(e[n])&&df(t[n])?(r[n]={},$h(r[n],e[n]),$h(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Wr(e,n)&&!Wr(t,n)&&df(e[n])&&(r[n]=$h({},r[n]));return r}function WE(e){e!=null&&this.set(e)}var z2;Object.keys?z2=Object.keys:z2=function(e){var t,r=[];for(t in e)Wr(e,t)&&r.push(t);return r};var fut={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function dut(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return Ru(n)?n.call(t,r):n}function Cu(e,t,r){var n=""+Math.abs(e),c=t-n.length,S=e>=0;return(S?r?"+":"":"-")+Math.pow(10,Math.max(0,c)).toString().substr(1)+n}var YE=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Q0=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,bS={},wd={};function ir(e,t,r,n){var c=n;typeof n=="string"&&(c=function(){return this[n]()}),e&&(wd[e]=c),t&&(wd[t[0]]=function(){return Cu(c.apply(this,arguments),t[1],t[2])}),r&&(wd[r]=function(){return this.localeData().ordinal(c.apply(this,arguments),e)})}function put(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function vut(e){var t=e.match(YE),r,n;for(r=0,n=t.length;r<n;r++)wd[t[r]]?t[r]=wd[t[r]]:t[r]=put(t[r]);return function(c){var S="",s;for(s=0;s<n;s++)S+=Ru(t[s])?t[s].call(c,e):t[s];return S}}function r1(e,t){return e.isValid()?(t=VN(t,e.localeData()),bS[t]=bS[t]||vut(t),bS[t](e)):e.localeData().invalidDate()}function VN(e,t){var r=5;function n(c){return t.longDateFormat(c)||c}for(Q0.lastIndex=0;r>=0&&Q0.test(e);)e=e.replace(Q0,n),Q0.lastIndex=0,r-=1;return e}var mut={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function gut(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(YE).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var yut="Invalid date";function xut(){return this._invalidDate}var but="%d",Sut=/\d{1,2}/;function wut(e){return this._ordinal.replace("%d",e)}var Tut={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Cut(e,t,r,n){var c=this._relativeTime[r];return Ru(c)?c(e,t,r,n):c.replace(/%d/i,e)}function Eut(e,t){var r=this._relativeTime[e>0?"future":"past"];return Ru(r)?r(t):r.replace(/%s/i,t)}var sk={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function sl(e){return typeof e=="string"?sk[e]||sk[e.toLowerCase()]:void 0}function XE(e){var t={},r,n;for(n in e)Wr(e,n)&&(r=sl(n),r&&(t[r]=e[n]));return t}var kut={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Dut(e){var t=[],r;for(r in e)Wr(e,r)&&t.push({unit:r,priority:kut[r]});return t.sort(function(n,c){return n.priority-c.priority}),t}var WN=/\d/,Io=/\d\d/,YN=/\d{3}/,QE=/\d{4}/,wx=/[+-]?\d{6}/,Un=/\d\d?/,XN=/\d\d\d\d?/,QN=/\d\d\d\d\d\d?/,Tx=/\d{1,3}/,KE=/\d{1,4}/,Cx=/[+-]?\d{1,6}/,up=/\d+/,Ex=/[+-]?\d+/,Aut=/Z|[+-]\d\d:?\d\d/gi,kx=/Z|[+-]\d\d(?::?\d\d)?/gi,Put=/[+-]?\d+(\.\d{1,3})?/,Jm=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,hp=/^[1-9]\d?/,JE=/^([1-9]\d|\d)/,iy;iy={};function Fi(e,t,r){iy[e]=Ru(t)?t:function(n,c){return n&&r?r:t}}function Rut(e,t){return Wr(iy,e)?iy[e](t._strict,t._locale):new RegExp(Iut(e))}function Iut(e){return oh(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,c,S){return r||n||c||S}))}function oh(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ho(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Br(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=Ho(t)),r}var G2={};function vn(e,t){var r,n=t,c;for(typeof e=="string"&&(e=[e]),ch(t)&&(n=function(S,s){s[t]=Br(S)}),c=e.length,r=0;r<c;r++)G2[e[r]]=n}function Zm(e,t){vn(e,function(r,n,c,S){c._w=c._w||{},t(r,c._w,c,S)})}function Mut(e,t,r){t!=null&&Wr(G2,e)&&G2[e](t,r._a,r,e)}function Dx(e){return e%4===0&&e%100!==0||e%400===0}var Ca=0,nh=1,fu=2,Ls=3,Ml=4,sh=5,rf=6,But=7,Out=8;ir("Y",0,0,function(){var e=this.year();return e<=9999?Cu(e,4):"+"+e});ir(0,["YY",2],0,function(){return this.year()%100});ir(0,["YYYY",4],0,"year");ir(0,["YYYYY",5],0,"year");ir(0,["YYYYYY",6,!0],0,"year");Fi("Y",Ex);Fi("YY",Un,Io);Fi("YYYY",KE,QE);Fi("YYYYY",Cx,wx);Fi("YYYYYY",Cx,wx);vn(["YYYYY","YYYYYY"],Ca);vn("YYYY",function(e,t){t[Ca]=e.length===2?ui.parseTwoDigitYear(e):Br(e)});vn("YY",function(e,t){t[Ca]=ui.parseTwoDigitYear(e)});vn("Y",function(e,t){t[Ca]=parseInt(e,10)});function Lv(e){return Dx(e)?366:365}ui.parseTwoDigitYear=function(e){return Br(e)+(Br(e)>68?1900:2e3)};var KN=cp("FullYear",!0);function Nut(){return Dx(this.year())}function cp(e,t){return function(r){return r!=null?(JN(this,e,r),ui.updateOffset(this,t),this):mm(this,e)}}function mm(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function JN(e,t,r){var n,c,S,s,g;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,c=e._isUTC,t){case"Milliseconds":return void(c?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(c?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(c?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(c?n.setUTCHours(r):n.setHours(r));case"Date":return void(c?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}S=r,s=e.month(),g=e.date(),g=g===29&&s===1&&!Dx(S)?28:g,c?n.setUTCFullYear(S,s,g):n.setFullYear(S,s,g)}}function Fut(e){return e=sl(e),Ru(this[e])?this[e]():this}function Lut(e,t){if(typeof e=="object"){e=XE(e);var r=Dut(e),n,c=r.length;for(n=0;n<c;n++)this[r[n].unit](e[r[n].unit])}else if(e=sl(e),Ru(this[e]))return this[e](t);return this}function _ut(e,t){return(e%t+t)%t}var ms;Array.prototype.indexOf?ms=Array.prototype.indexOf:ms=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function ZE(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=_ut(t,12);return e+=(t-r)/12,r===1?Dx(e)?29:28:31-r%7%2}ir("M",["MM",2],"Mo",function(){return this.month()+1});ir("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});ir("MMMM",0,0,function(e){return this.localeData().months(this,e)});Fi("M",Un,hp);Fi("MM",Un,Io);Fi("MMM",function(e,t){return t.monthsShortRegex(e)});Fi("MMMM",function(e,t){return t.monthsRegex(e)});vn(["M","MM"],function(e,t){t[nh]=Br(e)-1});vn(["MMM","MMMM"],function(e,t,r,n){var c=r._locale.monthsParse(e,n,r._strict);c!=null?t[nh]=c:Er(r).invalidMonth=e});var jut="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ZN="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),qN=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Uut=Jm,zut=Jm;function Gut(e,t){return e?_l(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||qN).test(t)?"format":"standalone"][e.month()]:_l(this._months)?this._months:this._months.standalone}function Hut(e,t){return e?_l(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[qN.test(t)?"format":"standalone"][e.month()]:_l(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function $ut(e,t,r){var n,c,S,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)S=Pu([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(S,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(S,"").toLocaleLowerCase();return r?t==="MMM"?(c=ms.call(this._shortMonthsParse,s),c!==-1?c:null):(c=ms.call(this._longMonthsParse,s),c!==-1?c:null):t==="MMM"?(c=ms.call(this._shortMonthsParse,s),c!==-1?c:(c=ms.call(this._longMonthsParse,s),c!==-1?c:null)):(c=ms.call(this._longMonthsParse,s),c!==-1?c:(c=ms.call(this._shortMonthsParse,s),c!==-1?c:null))}function Vut(e,t,r){var n,c,S;if(this._monthsParseExact)return $ut.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(c=Pu([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(c,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(c,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(S="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[n]=new RegExp(S.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function tF(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Br(t);else if(t=e.localeData().monthsParse(t),!ch(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,ZE(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function eF(e){return e!=null?(tF(this,e),ui.updateOffset(this,!0),this):mm(this,"Month")}function Wut(){return ZE(this.year(),this.month())}function Yut(e){return this._monthsParseExact?(Wr(this,"_monthsRegex")||iF.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Wr(this,"_monthsShortRegex")||(this._monthsShortRegex=Uut),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Xut(e){return this._monthsParseExact?(Wr(this,"_monthsRegex")||iF.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Wr(this,"_monthsRegex")||(this._monthsRegex=zut),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function iF(){function e(i,a){return a.length-i.length}var t=[],r=[],n=[],c,S,s,g;for(c=0;c<12;c++)S=Pu([2e3,c]),s=oh(this.monthsShort(S,"")),g=oh(this.months(S,"")),t.push(s),r.push(g),n.push(g),n.push(s);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Qut(e,t,r,n,c,S,s){var g;return e<100&&e>=0?(g=new Date(e+400,t,r,n,c,S,s),isFinite(g.getFullYear())&&g.setFullYear(e)):g=new Date(e,t,r,n,c,S,s),g}function gm(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function ry(e,t,r){var n=7+t-r,c=(7+gm(e,0,n).getUTCDay()-t)%7;return-c+n-1}function rF(e,t,r,n,c){var S=(7+r-n)%7,s=ry(e,n,c),g=1+7*(t-1)+S+s,i,a;return g<=0?(i=e-1,a=Lv(i)+g):g>Lv(e)?(i=e+1,a=g-Lv(e)):(i=e,a=g),{year:i,dayOfYear:a}}function ym(e,t,r){var n=ry(e.year(),t,r),c=Math.floor((e.dayOfYear()-n-1)/7)+1,S,s;return c<1?(s=e.year()-1,S=c+lh(s,t,r)):c>lh(e.year(),t,r)?(S=c-lh(e.year(),t,r),s=e.year()+1):(s=e.year(),S=c),{week:S,year:s}}function lh(e,t,r){var n=ry(e,t,r),c=ry(e+1,t,r);return(Lv(e)-n+c)/7}ir("w",["ww",2],"wo","week");ir("W",["WW",2],"Wo","isoWeek");Fi("w",Un,hp);Fi("ww",Un,Io);Fi("W",Un,hp);Fi("WW",Un,Io);Zm(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Br(e)});function Kut(e){return ym(e,this._week.dow,this._week.doy).week}var Jut={dow:0,doy:6};function Zut(){return this._week.dow}function qut(){return this._week.doy}function tht(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function eht(e){var t=ym(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}ir("d",0,"do","day");ir("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});ir("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});ir("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});ir("e",0,0,"weekday");ir("E",0,0,"isoWeekday");Fi("d",Un);Fi("e",Un);Fi("E",Un);Fi("dd",function(e,t){return t.weekdaysMinRegex(e)});Fi("ddd",function(e,t){return t.weekdaysShortRegex(e)});Fi("dddd",function(e,t){return t.weekdaysRegex(e)});Zm(["dd","ddd","dddd"],function(e,t,r,n){var c=r._locale.weekdaysParse(e,n,r._strict);c!=null?t.d=c:Er(r).invalidWeekday=e});Zm(["d","e","E"],function(e,t,r,n){t[n]=Br(e)});function iht(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function rht(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function qE(e,t){return e.slice(t,7).concat(e.slice(0,t))}var nht="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),nF="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),sht="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),aht=Jm,oht=Jm,lht=Jm;function uht(e,t){var r=_l(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?qE(r,this._week.dow):e?r[e.day()]:r}function hht(e){return e===!0?qE(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function cht(e){return e===!0?qE(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function fht(e,t,r){var n,c,S,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)S=Pu([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(S,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(S,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(S,"").toLocaleLowerCase();return r?t==="dddd"?(c=ms.call(this._weekdaysParse,s),c!==-1?c:null):t==="ddd"?(c=ms.call(this._shortWeekdaysParse,s),c!==-1?c:null):(c=ms.call(this._minWeekdaysParse,s),c!==-1?c:null):t==="dddd"?(c=ms.call(this._weekdaysParse,s),c!==-1||(c=ms.call(this._shortWeekdaysParse,s),c!==-1)?c:(c=ms.call(this._minWeekdaysParse,s),c!==-1?c:null)):t==="ddd"?(c=ms.call(this._shortWeekdaysParse,s),c!==-1||(c=ms.call(this._weekdaysParse,s),c!==-1)?c:(c=ms.call(this._minWeekdaysParse,s),c!==-1?c:null)):(c=ms.call(this._minWeekdaysParse,s),c!==-1||(c=ms.call(this._weekdaysParse,s),c!==-1)?c:(c=ms.call(this._shortWeekdaysParse,s),c!==-1?c:null))}function dht(e,t,r){var n,c,S;if(this._weekdaysParseExact)return fht.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(c=Pu([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(c,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(c,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(c,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(S="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[n]=new RegExp(S.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function pht(e){if(!this.isValid())return e!=null?this:NaN;var t=mm(this,"Day");return e!=null?(e=iht(e,this.localeData()),this.add(e-t,"d")):t}function vht(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function mht(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=rht(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function ght(e){return this._weekdaysParseExact?(Wr(this,"_weekdaysRegex")||t5.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Wr(this,"_weekdaysRegex")||(this._weekdaysRegex=aht),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function yht(e){return this._weekdaysParseExact?(Wr(this,"_weekdaysRegex")||t5.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Wr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=oht),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function xht(e){return this._weekdaysParseExact?(Wr(this,"_weekdaysRegex")||t5.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Wr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=lht),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function t5(){function e(v,f){return f.length-v.length}var t=[],r=[],n=[],c=[],S,s,g,i,a;for(S=0;S<7;S++)s=Pu([2e3,1]).day(S),g=oh(this.weekdaysMin(s,"")),i=oh(this.weekdaysShort(s,"")),a=oh(this.weekdays(s,"")),t.push(g),r.push(i),n.push(a),c.push(g),c.push(i),c.push(a);t.sort(e),r.sort(e),n.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function e5(){return this.hours()%12||12}function bht(){return this.hours()||24}ir("H",["HH",2],0,"hour");ir("h",["hh",2],0,e5);ir("k",["kk",2],0,bht);ir("hmm",0,0,function(){return""+e5.apply(this)+Cu(this.minutes(),2)});ir("hmmss",0,0,function(){return""+e5.apply(this)+Cu(this.minutes(),2)+Cu(this.seconds(),2)});ir("Hmm",0,0,function(){return""+this.hours()+Cu(this.minutes(),2)});ir("Hmmss",0,0,function(){return""+this.hours()+Cu(this.minutes(),2)+Cu(this.seconds(),2)});function sF(e,t){ir(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}sF("a",!0);sF("A",!1);function aF(e,t){return t._meridiemParse}Fi("a",aF);Fi("A",aF);Fi("H",Un,JE);Fi("h",Un,hp);Fi("k",Un,hp);Fi("HH",Un,Io);Fi("hh",Un,Io);Fi("kk",Un,Io);Fi("hmm",XN);Fi("hmmss",QN);Fi("Hmm",XN);Fi("Hmmss",QN);vn(["H","HH"],Ls);vn(["k","kk"],function(e,t,r){var n=Br(e);t[Ls]=n===24?0:n});vn(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});vn(["h","hh"],function(e,t,r){t[Ls]=Br(e),Er(r).bigHour=!0});vn("hmm",function(e,t,r){var n=e.length-2;t[Ls]=Br(e.substr(0,n)),t[Ml]=Br(e.substr(n)),Er(r).bigHour=!0});vn("hmmss",function(e,t,r){var n=e.length-4,c=e.length-2;t[Ls]=Br(e.substr(0,n)),t[Ml]=Br(e.substr(n,2)),t[sh]=Br(e.substr(c)),Er(r).bigHour=!0});vn("Hmm",function(e,t,r){var n=e.length-2;t[Ls]=Br(e.substr(0,n)),t[Ml]=Br(e.substr(n))});vn("Hmmss",function(e,t,r){var n=e.length-4,c=e.length-2;t[Ls]=Br(e.substr(0,n)),t[Ml]=Br(e.substr(n,2)),t[sh]=Br(e.substr(c))});function Sht(e){return(e+"").toLowerCase().charAt(0)==="p"}var wht=/[ap]\.?m?\.?/i,Tht=cp("Hours",!0);function Cht(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var oF={calendar:fut,longDateFormat:mut,invalidDate:yut,ordinal:but,dayOfMonthOrdinalParse:Sut,relativeTime:Tut,months:jut,monthsShort:ZN,week:Jut,weekdays:nht,weekdaysMin:sht,weekdaysShort:nF,meridiemParse:wht},Yn={},Yp={},xm;function Eht(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function ak(e){return e&&e.toLowerCase().replace("_","-")}function kht(e){for(var t=0,r,n,c,S;t<e.length;){for(S=ak(e[t]).split("-"),r=S.length,n=ak(e[t+1]),n=n?n.split("-"):null;r>0;){if(c=Ax(S.slice(0,r).join("-")),c)return c;if(n&&n.length>=r&&Eht(S,n)>=r-1)break;r--}t++}return xm}function Dht(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Ax(e){var t=null,r;if(Yn[e]===void 0&&typeof v1!="undefined"&&v1&&v1.exports&&Dht(e))try{t=xm._abbr,r=require,r("./locale/"+e),nc(t)}catch(n){Yn[e]=null}return Yn[e]}function nc(e,t){var r;return e&&(qa(t)?r=gh(e):r=i5(e,t),r?xm=r:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),xm._abbr}function i5(e,t){if(t!==null){var r,n=oF;if(t.abbr=e,Yn[e]!=null)$N("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Yn[e]._config;else if(t.parentLocale!=null)if(Yn[t.parentLocale]!=null)n=Yn[t.parentLocale]._config;else if(r=Ax(t.parentLocale),r!=null)n=r._config;else return Yp[t.parentLocale]||(Yp[t.parentLocale]=[]),Yp[t.parentLocale].push({name:e,config:t}),null;return Yn[e]=new WE(U2(n,t)),Yp[e]&&Yp[e].forEach(function(c){i5(c.name,c.config)}),nc(e),Yn[e]}else return delete Yn[e],null}function Aht(e,t){if(t!=null){var r,n,c=oF;Yn[e]!=null&&Yn[e].parentLocale!=null?Yn[e].set(U2(Yn[e]._config,t)):(n=Ax(e),n!=null&&(c=n._config),t=U2(c,t),n==null&&(t.abbr=e),r=new WE(t),r.parentLocale=Yn[e],Yn[e]=r),nc(e)}else Yn[e]!=null&&(Yn[e].parentLocale!=null?(Yn[e]=Yn[e].parentLocale,e===nc()&&nc(e)):Yn[e]!=null&&delete Yn[e]);return Yn[e]}function gh(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return xm;if(!_l(e)){if(t=Ax(e),t)return t;e=[e]}return kht(e)}function Pht(){return z2(Yn)}function r5(e){var t,r=e._a;return r&&Er(e).overflow===-2&&(t=r[nh]<0||r[nh]>11?nh:r[fu]<1||r[fu]>ZE(r[Ca],r[nh])?fu:r[Ls]<0||r[Ls]>24||r[Ls]===24&&(r[Ml]!==0||r[sh]!==0||r[rf]!==0)?Ls:r[Ml]<0||r[Ml]>59?Ml:r[sh]<0||r[sh]>59?sh:r[rf]<0||r[rf]>999?rf:-1,Er(e)._overflowDayOfYear&&(t<Ca||t>fu)&&(t=fu),Er(e)._overflowWeeks&&t===-1&&(t=But),Er(e)._overflowWeekday&&t===-1&&(t=Out),Er(e).overflow=t),e}var Rht=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Iht=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mht=/Z|[+-]\d\d(?::?\d\d)?/,K0=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],SS=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Bht=/^\/?Date\((-?\d+)/i,Oht=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Nht={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function lF(e){var t,r,n=e._i,c=Rht.exec(n)||Iht.exec(n),S,s,g,i,a=K0.length,v=SS.length;if(c){for(Er(e).iso=!0,t=0,r=a;t<r;t++)if(K0[t][1].exec(c[1])){s=K0[t][0],S=K0[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(c[3]){for(t=0,r=v;t<r;t++)if(SS[t][1].exec(c[3])){g=(c[2]||" ")+SS[t][0];break}if(g==null){e._isValid=!1;return}}if(!S&&g!=null){e._isValid=!1;return}if(c[4])if(Mht.exec(c[4]))i="Z";else{e._isValid=!1;return}e._f=s+(g||"")+(i||""),s5(e)}else e._isValid=!1}function Fht(e,t,r,n,c,S){var s=[Lht(e),ZN.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(c,10)];return S&&s.push(parseInt(S,10)),s}function Lht(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function _ht(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function jht(e,t,r){if(e){var n=nF.indexOf(e),c=new Date(t[0],t[1],t[2]).getDay();if(n!==c)return Er(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function Uht(e,t,r){if(e)return Nht[e];if(t)return 0;var n=parseInt(r,10),c=n%100,S=(n-c)/100;return S*60+c}function uF(e){var t=Oht.exec(_ht(e._i)),r;if(t){if(r=Fht(t[4],t[3],t[2],t[5],t[6],t[7]),!jht(t[1],r,e))return;e._a=r,e._tzm=Uht(t[8],t[9],t[10]),e._d=gm.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Er(e).rfc2822=!0}else e._isValid=!1}function zht(e){var t=Bht.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(lF(e),e._isValid===!1)delete e._isValid;else return;if(uF(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:ui.createFromInputFallback(e)}ui.createFromInputFallback=nl("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function id(e,t,r){return e!=null?e:t!=null?t:r}function Ght(e){var t=new Date(ui.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function n5(e){var t,r,n=[],c,S,s;if(!e._d){for(c=Ght(e),e._w&&e._a[fu]==null&&e._a[nh]==null&&Hht(e),e._dayOfYear!=null&&(s=id(e._a[Ca],c[Ca]),(e._dayOfYear>Lv(s)||e._dayOfYear===0)&&(Er(e)._overflowDayOfYear=!0),r=gm(s,0,e._dayOfYear),e._a[nh]=r.getUTCMonth(),e._a[fu]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=c[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Ls]===24&&e._a[Ml]===0&&e._a[sh]===0&&e._a[rf]===0&&(e._nextDay=!0,e._a[Ls]=0),e._d=(e._useUTC?gm:Qut).apply(null,n),S=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ls]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==S&&(Er(e).weekdayMismatch=!0)}}function Hht(e){var t,r,n,c,S,s,g,i,a;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(S=1,s=4,r=id(t.GG,e._a[Ca],ym(jn(),1,4).year),n=id(t.W,1),c=id(t.E,1),(c<1||c>7)&&(i=!0)):(S=e._locale._week.dow,s=e._locale._week.doy,a=ym(jn(),S,s),r=id(t.gg,e._a[Ca],a.year),n=id(t.w,a.week),t.d!=null?(c=t.d,(c<0||c>6)&&(i=!0)):t.e!=null?(c=t.e+S,(t.e<0||t.e>6)&&(i=!0)):c=S),n<1||n>lh(r,S,s)?Er(e)._overflowWeeks=!0:i!=null?Er(e)._overflowWeekday=!0:(g=rF(r,n,c,S,s),e._a[Ca]=g.year,e._dayOfYear=g.dayOfYear)}ui.ISO_8601=function(){};ui.RFC_2822=function(){};function s5(e){if(e._f===ui.ISO_8601){lF(e);return}if(e._f===ui.RFC_2822){uF(e);return}e._a=[],Er(e).empty=!0;var t=""+e._i,r,n,c,S,s,g=t.length,i=0,a,v;for(c=VN(e._f,e._locale).match(YE)||[],v=c.length,r=0;r<v;r++)S=c[r],n=(t.match(Rut(S,e))||[])[0],n&&(s=t.substr(0,t.indexOf(n)),s.length>0&&Er(e).unusedInput.push(s),t=t.slice(t.indexOf(n)+n.length),i+=n.length),wd[S]?(n?Er(e).empty=!1:Er(e).unusedTokens.push(S),Mut(S,n,e)):e._strict&&!n&&Er(e).unusedTokens.push(S);Er(e).charsLeftOver=g-i,t.length>0&&Er(e).unusedInput.push(t),e._a[Ls]<=12&&Er(e).bigHour===!0&&e._a[Ls]>0&&(Er(e).bigHour=void 0),Er(e).parsedDateParts=e._a.slice(0),Er(e).meridiem=e._meridiem,e._a[Ls]=$ht(e._locale,e._a[Ls],e._meridiem),a=Er(e).era,a!==null&&(e._a[Ca]=e._locale.erasConvertYear(a,e._a[Ca])),n5(e),r5(e)}function $ht(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function Vht(e){var t,r,n,c,S,s,g=!1,i=e._f.length;if(i===0){Er(e).invalidFormat=!0,e._d=new Date(NaN);return}for(c=0;c<i;c++)S=0,s=!1,t=VE({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[c],s5(t),$E(t)&&(s=!0),S+=Er(t).charsLeftOver,S+=Er(t).unusedTokens.length*10,Er(t).score=S,g?S<n&&(n=S,r=t):(n==null||S<n||s)&&(n=S,r=t,s&&(g=!0));$h(e,r||t)}function Wht(e){if(!e._d){var t=XE(e._i),r=t.day===void 0?t.date:t.day;e._a=GN([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),n5(e)}}function Yht(e){var t=new Km(r5(hF(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function hF(e){var t=e._i,r=e._f;return e._locale=e._locale||gh(e._l),t===null||r===void 0&&t===""?Sx({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),jl(t)?new Km(r5(t)):(Qm(t)?e._d=t:_l(r)?Vht(e):r?s5(e):Xht(e),$E(e)||(e._d=null),e))}function Xht(e){var t=e._i;qa(t)?e._d=new Date(ui.now()):Qm(t)?e._d=new Date(t.valueOf()):typeof t=="string"?zht(e):_l(t)?(e._a=GN(t.slice(0),function(r){return parseInt(r,10)}),n5(e)):df(t)?Wht(e):ch(t)?e._d=new Date(t):ui.createFromInputFallback(e)}function cF(e,t,r,n,c){var S={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(df(e)&&HE(e)||_l(e)&&e.length===0)&&(e=void 0),S._isAMomentObject=!0,S._useUTC=S._isUTC=c,S._l=r,S._i=e,S._f=t,S._strict=n,Yht(S)}function jn(e,t,r,n){return cF(e,t,r,n,!1)}var Qht=nl("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=jn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Sx()}),Kht=nl("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=jn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Sx()});function fF(e,t){var r,n;if(t.length===1&&_l(t[0])&&(t=t[0]),!t.length)return jn();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function Jht(){var e=[].slice.call(arguments,0);return fF("isBefore",e)}function Zht(){var e=[].slice.call(arguments,0);return fF("isAfter",e)}var qht=function(){return Date.now?Date.now():+new Date},Xp=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tct(e){var t,r=!1,n,c=Xp.length;for(t in e)if(Wr(e,t)&&!(ms.call(Xp,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<c;++n)if(e[Xp[n]]){if(r)return!1;parseFloat(e[Xp[n]])!==Br(e[Xp[n]])&&(r=!0)}return!0}function ect(){return this._isValid}function ict(){return Vl(NaN)}function Px(e){var t=XE(e),r=t.year||0,n=t.quarter||0,c=t.month||0,S=t.week||t.isoWeek||0,s=t.day||0,g=t.hour||0,i=t.minute||0,a=t.second||0,v=t.millisecond||0;this._isValid=tct(t),this._milliseconds=+v+a*1e3+i*6e4+g*1e3*60*60,this._days=+s+S*7,this._months=+c+n*3+r*12,this._data={},this._locale=gh(),this._bubble()}function n1(e){return e instanceof Px}function H2(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function rct(e,t,r){var n=Math.min(e.length,t.length),c=Math.abs(e.length-t.length),S=0,s;for(s=0;s<n;s++)Br(e[s])!==Br(t[s])&&S++;return S+c}function dF(e,t){ir(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+Cu(~~(r/60),2)+t+Cu(~~r%60,2)})}dF("Z",":");dF("ZZ","");Fi("Z",kx);Fi("ZZ",kx);vn(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=a5(kx,e)});var nct=/([\+\-]|\d\d)/gi;function a5(e,t){var r=(t||"").match(e),n,c,S;return r===null?null:(n=r[r.length-1]||[],c=(n+"").match(nct)||["-",0,0],S=+(c[1]*60)+Br(c[2]),S===0?0:c[0]==="+"?S:-S)}function o5(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(jl(e)||Qm(e)?e.valueOf():jn(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),ui.updateOffset(r,!1),r):jn(e).local()}function $2(e){return-Math.round(e._d.getTimezoneOffset())}ui.updateOffset=function(){};function sct(e,t,r){var n=this._offset||0,c;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=a5(kx,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(c=$2(this)),this._offset=e,this._isUTC=!0,c!=null&&this.add(c,"m"),n!==e&&(!t||this._changeInProgress?mF(this,Vl(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ui.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:$2(this)}function act(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function oct(e){return this.utcOffset(0,e)}function lct(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract($2(this),"m")),this}function uct(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=a5(Aut,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function hct(e){return this.isValid()?(e=e?jn(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function cct(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function fct(){if(!qa(this._isDSTShifted))return this._isDSTShifted;var e={},t;return VE(e,this),e=hF(e),e._a?(t=e._isUTC?Pu(e._a):jn(e._a),this._isDSTShifted=this.isValid()&&rct(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function dct(){return this.isValid()?!this._isUTC:!1}function pct(){return this.isValid()?this._isUTC:!1}function pF(){return this.isValid()?this._isUTC&&this._offset===0:!1}var vct=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,mct=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Vl(e,t){var r=e,n=null,c,S,s;return n1(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:ch(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=vct.exec(e))?(c=n[1]==="-"?-1:1,r={y:0,d:Br(n[fu])*c,h:Br(n[Ls])*c,m:Br(n[Ml])*c,s:Br(n[sh])*c,ms:Br(H2(n[rf]*1e3))*c}):(n=mct.exec(e))?(c=n[1]==="-"?-1:1,r={y:_c(n[2],c),M:_c(n[3],c),w:_c(n[4],c),d:_c(n[5],c),h:_c(n[6],c),m:_c(n[7],c),s:_c(n[8],c)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(s=gct(jn(r.from),jn(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),S=new Px(r),n1(e)&&Wr(e,"_locale")&&(S._locale=e._locale),n1(e)&&Wr(e,"_isValid")&&(S._isValid=e._isValid),S}Vl.fn=Px.prototype;Vl.invalid=ict;function _c(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function ok(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function gct(e,t){var r;return e.isValid()&&t.isValid()?(t=o5(t,e),e.isBefore(t)?r=ok(e,t):(r=ok(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function vF(e,t){return function(r,n){var c,S;return n!==null&&!isNaN(+n)&&($N(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),S=r,r=n,n=S),c=Vl(r,n),mF(this,c,e),this}}function mF(e,t,r,n){var c=t._milliseconds,S=H2(t._days),s=H2(t._months);e.isValid()&&(n=n==null?!0:n,s&&tF(e,mm(e,"Month")+s*r),S&&JN(e,"Date",mm(e,"Date")+S*r),c&&e._d.setTime(e._d.valueOf()+c*r),n&&ui.updateOffset(e,S||s))}var yct=vF(1,"add"),xct=vF(-1,"subtract");function gF(e){return typeof e=="string"||e instanceof String}function bct(e){return jl(e)||Qm(e)||gF(e)||ch(e)||wct(e)||Sct(e)||e===null||e===void 0}function Sct(e){var t=df(e)&&!HE(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c,S,s=n.length;for(c=0;c<s;c+=1)S=n[c],r=r||Wr(e,S);return t&&r}function wct(e){var t=_l(e),r=!1;return t&&(r=e.filter(function(n){return!ch(n)&&gF(e)}).length===0),t&&r}function Tct(e){var t=df(e)&&!HE(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],c,S;for(c=0;c<n.length;c+=1)S=n[c],r=r||Wr(e,S);return t&&r}function Cct(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Ect(e,t){arguments.length===1&&(arguments[0]?bct(arguments[0])?(e=arguments[0],t=void 0):Tct(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||jn(),n=o5(r,this).startOf("day"),c=ui.calendarFormat(this,n)||"sameElse",S=t&&(Ru(t[c])?t[c].call(this,r):t[c]);return this.format(S||this.localeData().calendar(c,this,jn(r)))}function kct(){return new Km(this)}function Dct(e,t){var r=jl(e)?e:jn(e);return this.isValid()&&r.isValid()?(t=sl(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function Act(e,t){var r=jl(e)?e:jn(e);return this.isValid()&&r.isValid()?(t=sl(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function Pct(e,t,r,n){var c=jl(e)?e:jn(e),S=jl(t)?t:jn(t);return this.isValid()&&c.isValid()&&S.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(c,r):!this.isBefore(c,r))&&(n[1]===")"?this.isBefore(S,r):!this.isAfter(S,r))):!1}function Rct(e,t){var r=jl(e)?e:jn(e),n;return this.isValid()&&r.isValid()?(t=sl(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Ict(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Mct(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Bct(e,t,r){var n,c,S;if(!this.isValid())return NaN;if(n=o5(e,this),!n.isValid())return NaN;switch(c=(n.utcOffset()-this.utcOffset())*6e4,t=sl(t),t){case"year":S=s1(this,n)/12;break;case"month":S=s1(this,n);break;case"quarter":S=s1(this,n)/3;break;case"second":S=(this-n)/1e3;break;case"minute":S=(this-n)/6e4;break;case"hour":S=(this-n)/36e5;break;case"day":S=(this-n-c)/864e5;break;case"week":S=(this-n-c)/6048e5;break;default:S=this-n}return r?S:Ho(S)}function s1(e,t){if(e.date()<t.date())return-s1(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),c,S;return t-n<0?(c=e.clone().add(r-1,"months"),S=(t-n)/(n-c)):(c=e.clone().add(r+1,"months"),S=(t-n)/(c-n)),-(r+S)||0}ui.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ui.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Oct(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Nct(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?r1(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ru(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",r1(r,"Z")):r1(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Fct(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,c,S;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",c="-MM-DD[T]HH:mm:ss.SSS",S=t+'[")]',this.format(r+n+c+S)}function Lct(e){e||(e=this.isUtc()?ui.defaultFormatUtc:ui.defaultFormat);var t=r1(this,e);return this.localeData().postformat(t)}function _ct(e,t){return this.isValid()&&(jl(e)&&e.isValid()||jn(e).isValid())?Vl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function jct(e){return this.from(jn(),e)}function Uct(e,t){return this.isValid()&&(jl(e)&&e.isValid()||jn(e).isValid())?Vl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function zct(e){return this.to(jn(),e)}function yF(e){var t;return e===void 0?this._locale._abbr:(t=gh(e),t!=null&&(this._locale=t),this)}var xF=nl("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function bF(){return this._locale}var ny=1e3,Td=60*ny,sy=60*Td,SF=(365*400+97)*24*sy;function Cd(e,t){return(e%t+t)%t}function wF(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-SF:new Date(e,t,r).valueOf()}function TF(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-SF:Date.UTC(e,t,r)}function Gct(e){var t,r;if(e=sl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?TF:wF,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Cd(t+(this._isUTC?0:this.utcOffset()*Td),sy);break;case"minute":t=this._d.valueOf(),t-=Cd(t,Td);break;case"second":t=this._d.valueOf(),t-=Cd(t,ny);break}return this._d.setTime(t),ui.updateOffset(this,!0),this}function Hct(e){var t,r;if(e=sl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?TF:wF,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=sy-Cd(t+(this._isUTC?0:this.utcOffset()*Td),sy)-1;break;case"minute":t=this._d.valueOf(),t+=Td-Cd(t,Td)-1;break;case"second":t=this._d.valueOf(),t+=ny-Cd(t,ny)-1;break}return this._d.setTime(t),ui.updateOffset(this,!0),this}function $ct(){return this._d.valueOf()-(this._offset||0)*6e4}function Vct(){return Math.floor(this.valueOf()/1e3)}function Wct(){return new Date(this.valueOf())}function Yct(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Xct(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Qct(){return this.isValid()?this.toISOString():null}function Kct(){return $E(this)}function Jct(){return $h({},Er(this))}function Zct(){return Er(this).overflow}function qct(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ir("N",0,0,"eraAbbr");ir("NN",0,0,"eraAbbr");ir("NNN",0,0,"eraAbbr");ir("NNNN",0,0,"eraName");ir("NNNNN",0,0,"eraNarrow");ir("y",["y",1],"yo","eraYear");ir("y",["yy",2],0,"eraYear");ir("y",["yyy",3],0,"eraYear");ir("y",["yyyy",4],0,"eraYear");Fi("N",l5);Fi("NN",l5);Fi("NNN",l5);Fi("NNNN",hft);Fi("NNNNN",cft);vn(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var c=r._locale.erasParse(e,n,r._strict);c?Er(r).era=c:Er(r).invalidEra=e});Fi("y",up);Fi("yy",up);Fi("yyy",up);Fi("yyyy",up);Fi("yo",fft);vn(["y","yy","yyy","yyyy"],Ca);vn(["yo"],function(e,t,r,n){var c;r._locale._eraYearOrdinalRegex&&(c=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Ca]=r._locale.eraYearOrdinalParse(e,c):t[Ca]=parseInt(e,10)});function tft(e,t){var r,n,c,S=this._eras||gh("en")._eras;for(r=0,n=S.length;r<n;++r){switch(typeof S[r].since){case"string":c=ui(S[r].since).startOf("day"),S[r].since=c.valueOf();break}switch(typeof S[r].until){case"undefined":S[r].until=1/0;break;case"string":c=ui(S[r].until).startOf("day").valueOf(),S[r].until=c.valueOf();break}}return S}function eft(e,t,r){var n,c,S=this.eras(),s,g,i;for(e=e.toUpperCase(),n=0,c=S.length;n<c;++n)if(s=S[n].name.toUpperCase(),g=S[n].abbr.toUpperCase(),i=S[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(g===e)return S[n];break;case"NNNN":if(s===e)return S[n];break;case"NNNNN":if(i===e)return S[n];break}else if([s,g,i].indexOf(e)>=0)return S[n]}function ift(e,t){var r=e.since<=e.until?1:-1;return t===void 0?ui(e.since).year():ui(e.since).year()+(t-e.offset)*r}function rft(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function nft(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function sft(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function aft(){var e,t,r,n,c=this.localeData().eras();for(e=0,t=c.length;e<t;++e)if(r=c[e].since<=c[e].until?1:-1,n=this.clone().startOf("day").valueOf(),c[e].since<=n&&n<=c[e].until||c[e].until<=n&&n<=c[e].since)return(this.year()-ui(c[e].since).year())*r+c[e].offset;return this.year()}function oft(e){return Wr(this,"_erasNameRegex")||u5.call(this),e?this._erasNameRegex:this._erasRegex}function lft(e){return Wr(this,"_erasAbbrRegex")||u5.call(this),e?this._erasAbbrRegex:this._erasRegex}function uft(e){return Wr(this,"_erasNarrowRegex")||u5.call(this),e?this._erasNarrowRegex:this._erasRegex}function l5(e,t){return t.erasAbbrRegex(e)}function hft(e,t){return t.erasNameRegex(e)}function cft(e,t){return t.erasNarrowRegex(e)}function fft(e,t){return t._eraYearOrdinalRegex||up}function u5(){var e=[],t=[],r=[],n=[],c,S,s,g,i,a=this.eras();for(c=0,S=a.length;c<S;++c)s=oh(a[c].name),g=oh(a[c].abbr),i=oh(a[c].narrow),t.push(s),e.push(g),r.push(i),n.push(s),n.push(g),n.push(i);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}ir(0,["gg",2],0,function(){return this.weekYear()%100});ir(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Rx(e,t){ir(0,[e,e.length],0,t)}Rx("gggg","weekYear");Rx("ggggg","weekYear");Rx("GGGG","isoWeekYear");Rx("GGGGG","isoWeekYear");Fi("G",Ex);Fi("g",Ex);Fi("GG",Un,Io);Fi("gg",Un,Io);Fi("GGGG",KE,QE);Fi("gggg",KE,QE);Fi("GGGGG",Cx,wx);Fi("ggggg",Cx,wx);Zm(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Br(e)});Zm(["gg","GG"],function(e,t,r,n){t[n]=ui.parseTwoDigitYear(e)});function dft(e){return CF.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function pft(e){return CF.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function vft(){return lh(this.year(),1,4)}function mft(){return lh(this.isoWeekYear(),1,4)}function gft(){var e=this.localeData()._week;return lh(this.year(),e.dow,e.doy)}function yft(){var e=this.localeData()._week;return lh(this.weekYear(),e.dow,e.doy)}function CF(e,t,r,n,c){var S;return e==null?ym(this,n,c).year:(S=lh(e,n,c),t>S&&(t=S),xft.call(this,e,t,r,n,c))}function xft(e,t,r,n,c){var S=rF(e,t,r,n,c),s=gm(S.year,0,S.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}ir("Q",0,"Qo","quarter");Fi("Q",WN);vn("Q",function(e,t){t[nh]=(Br(e)-1)*3});function bft(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}ir("D",["DD",2],"Do","date");Fi("D",Un,hp);Fi("DD",Un,Io);Fi("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});vn(["D","DD"],fu);vn("Do",function(e,t){t[fu]=Br(e.match(Un)[0])});var EF=cp("Date",!0);ir("DDD",["DDDD",3],"DDDo","dayOfYear");Fi("DDD",Tx);Fi("DDDD",YN);vn(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Br(e)});function Sft(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}ir("m",["mm",2],0,"minute");Fi("m",Un,JE);Fi("mm",Un,Io);vn(["m","mm"],Ml);var wft=cp("Minutes",!1);ir("s",["ss",2],0,"second");Fi("s",Un,JE);Fi("ss",Un,Io);vn(["s","ss"],sh);var Tft=cp("Seconds",!1);ir("S",0,0,function(){return~~(this.millisecond()/100)});ir(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ir(0,["SSS",3],0,"millisecond");ir(0,["SSSS",4],0,function(){return this.millisecond()*10});ir(0,["SSSSS",5],0,function(){return this.millisecond()*100});ir(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ir(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ir(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ir(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Fi("S",Tx,WN);Fi("SS",Tx,Io);Fi("SSS",Tx,YN);var Vh,kF;for(Vh="SSSS";Vh.length<=9;Vh+="S")Fi(Vh,up);function Cft(e,t){t[rf]=Br(("0."+e)*1e3)}for(Vh="S";Vh.length<=9;Vh+="S")vn(Vh,Cft);kF=cp("Milliseconds",!1);ir("z",0,0,"zoneAbbr");ir("zz",0,0,"zoneName");function Eft(){return this._isUTC?"UTC":""}function kft(){return this._isUTC?"Coordinated Universal Time":""}var yi=Km.prototype;yi.add=yct;yi.calendar=Ect;yi.clone=kct;yi.diff=Bct;yi.endOf=Hct;yi.format=Lct;yi.from=_ct;yi.fromNow=jct;yi.to=Uct;yi.toNow=zct;yi.get=Fut;yi.invalidAt=Zct;yi.isAfter=Dct;yi.isBefore=Act;yi.isBetween=Pct;yi.isSame=Rct;yi.isSameOrAfter=Ict;yi.isSameOrBefore=Mct;yi.isValid=Kct;yi.lang=xF;yi.locale=yF;yi.localeData=bF;yi.max=Kht;yi.min=Qht;yi.parsingFlags=Jct;yi.set=Lut;yi.startOf=Gct;yi.subtract=xct;yi.toArray=Yct;yi.toObject=Xct;yi.toDate=Wct;yi.toISOString=Nct;yi.inspect=Fct;typeof Symbol!="undefined"&&Symbol.for!=null&&(yi[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});yi.toJSON=Qct;yi.toString=Oct;yi.unix=Vct;yi.valueOf=$ct;yi.creationData=qct;yi.eraName=rft;yi.eraNarrow=nft;yi.eraAbbr=sft;yi.eraYear=aft;yi.year=KN;yi.isLeapYear=Nut;yi.weekYear=dft;yi.isoWeekYear=pft;yi.quarter=yi.quarters=bft;yi.month=eF;yi.daysInMonth=Wut;yi.week=yi.weeks=tht;yi.isoWeek=yi.isoWeeks=eht;yi.weeksInYear=gft;yi.weeksInWeekYear=yft;yi.isoWeeksInYear=vft;yi.isoWeeksInISOWeekYear=mft;yi.date=EF;yi.day=yi.days=pht;yi.weekday=vht;yi.isoWeekday=mht;yi.dayOfYear=Sft;yi.hour=yi.hours=Tht;yi.minute=yi.minutes=wft;yi.second=yi.seconds=Tft;yi.millisecond=yi.milliseconds=kF;yi.utcOffset=sct;yi.utc=oct;yi.local=lct;yi.parseZone=uct;yi.hasAlignedHourOffset=hct;yi.isDST=cct;yi.isLocal=dct;yi.isUtcOffset=pct;yi.isUtc=pF;yi.isUTC=pF;yi.zoneAbbr=Eft;yi.zoneName=kft;yi.dates=nl("dates accessor is deprecated. Use date instead.",EF);yi.months=nl("months accessor is deprecated. Use month instead",eF);yi.years=nl("years accessor is deprecated. Use year instead",KN);yi.zone=nl("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",act);yi.isDSTShifted=nl("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",fct);function Dft(e){return jn(e*1e3)}function Aft(){return jn.apply(null,arguments).parseZone()}function DF(e){return e}var Yr=WE.prototype;Yr.calendar=dut;Yr.longDateFormat=gut;Yr.invalidDate=xut;Yr.ordinal=wut;Yr.preparse=DF;Yr.postformat=DF;Yr.relativeTime=Cut;Yr.pastFuture=Eut;Yr.set=cut;Yr.eras=tft;Yr.erasParse=eft;Yr.erasConvertYear=ift;Yr.erasAbbrRegex=lft;Yr.erasNameRegex=oft;Yr.erasNarrowRegex=uft;Yr.months=Gut;Yr.monthsShort=Hut;Yr.monthsParse=Vut;Yr.monthsRegex=Xut;Yr.monthsShortRegex=Yut;Yr.week=Kut;Yr.firstDayOfYear=qut;Yr.firstDayOfWeek=Zut;Yr.weekdays=uht;Yr.weekdaysMin=cht;Yr.weekdaysShort=hht;Yr.weekdaysParse=dht;Yr.weekdaysRegex=ght;Yr.weekdaysShortRegex=yht;Yr.weekdaysMinRegex=xht;Yr.isPM=Sht;Yr.meridiem=Cht;function ay(e,t,r,n){var c=gh(),S=Pu().set(n,t);return c[r](S,e)}function AF(e,t,r){if(ch(e)&&(t=e,e=void 0),e=e||"",t!=null)return ay(e,t,r,"month");var n,c=[];for(n=0;n<12;n++)c[n]=ay(e,n,r,"month");return c}function h5(e,t,r,n){typeof e=="boolean"?(ch(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,ch(t)&&(r=t,t=void 0),t=t||"");var c=gh(),S=e?c._week.dow:0,s,g=[];if(r!=null)return ay(t,(r+S)%7,n,"day");for(s=0;s<7;s++)g[s]=ay(t,(s+S)%7,n,"day");return g}function Pft(e,t){return AF(e,t,"months")}function Rft(e,t){return AF(e,t,"monthsShort")}function Ift(e,t,r){return h5(e,t,r,"weekdays")}function Mft(e,t,r){return h5(e,t,r,"weekdaysShort")}function Bft(e,t,r){return h5(e,t,r,"weekdaysMin")}nc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Br(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});ui.lang=nl("moment.lang is deprecated. Use moment.locale instead.",nc);ui.langData=nl("moment.langData is deprecated. Use moment.localeData instead.",gh);var Lu=Math.abs;function Oft(){var e=this._data;return this._milliseconds=Lu(this._milliseconds),this._days=Lu(this._days),this._months=Lu(this._months),e.milliseconds=Lu(e.milliseconds),e.seconds=Lu(e.seconds),e.minutes=Lu(e.minutes),e.hours=Lu(e.hours),e.months=Lu(e.months),e.years=Lu(e.years),this}function PF(e,t,r,n){var c=Vl(t,r);return e._milliseconds+=n*c._milliseconds,e._days+=n*c._days,e._months+=n*c._months,e._bubble()}function Nft(e,t){return PF(this,e,t,1)}function Fft(e,t){return PF(this,e,t,-1)}function lk(e){return e<0?Math.floor(e):Math.ceil(e)}function Lft(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,c,S,s,g,i;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=lk(V2(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,c=Ho(e/1e3),n.seconds=c%60,S=Ho(c/60),n.minutes=S%60,s=Ho(S/60),n.hours=s%24,t+=Ho(s/24),i=Ho(RF(t)),r+=i,t-=lk(V2(i)),g=Ho(r/12),r%=12,n.days=t,n.months=r,n.years=g,this}function RF(e){return e*4800/146097}function V2(e){return e*146097/4800}function _ft(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=sl(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+RF(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(V2(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function yh(e){return function(){return this.as(e)}}var IF=yh("ms"),jft=yh("s"),Uft=yh("m"),zft=yh("h"),Gft=yh("d"),Hft=yh("w"),$ft=yh("M"),Vft=yh("Q"),Wft=yh("y"),Yft=IF;function Xft(){return Vl(this)}function Qft(e){return e=sl(e),this.isValid()?this[e+"s"]():NaN}function kf(e){return function(){return this.isValid()?this._data[e]:NaN}}var Kft=kf("milliseconds"),Jft=kf("seconds"),Zft=kf("minutes"),qft=kf("hours"),tdt=kf("days"),edt=kf("months"),idt=kf("years");function rdt(){return Ho(this.days()/7)}var Wu=Math.round,cd={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ndt(e,t,r,n,c){return c.relativeTime(t||1,!!r,e,n)}function sdt(e,t,r,n){var c=Vl(e).abs(),S=Wu(c.as("s")),s=Wu(c.as("m")),g=Wu(c.as("h")),i=Wu(c.as("d")),a=Wu(c.as("M")),v=Wu(c.as("w")),f=Wu(c.as("y")),h=S<=r.ss&&["s",S]||S<r.s&&["ss",S]||s<=1&&["m"]||s<r.m&&["mm",s]||g<=1&&["h"]||g<r.h&&["hh",g]||i<=1&&["d"]||i<r.d&&["dd",i];return r.w!=null&&(h=h||v<=1&&["w"]||v<r.w&&["ww",v]),h=h||a<=1&&["M"]||a<r.M&&["MM",a]||f<=1&&["y"]||["yy",f],h[2]=t,h[3]=+e>0,h[4]=n,ndt.apply(null,h)}function adt(e){return e===void 0?Wu:typeof e=="function"?(Wu=e,!0):!1}function odt(e,t){return cd[e]===void 0?!1:t===void 0?cd[e]:(cd[e]=t,e==="s"&&(cd.ss=t-1),!0)}function ldt(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=cd,c,S;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},cd,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),c=this.localeData(),S=sdt(this,!r,n,c),r&&(S=c.pastFuture(+this,S)),c.postformat(S)}var wS=Math.abs;function Hf(e){return(e>0)-(e<0)||+e}function Ix(){if(!this.isValid())return this.localeData().invalidDate();var e=wS(this._milliseconds)/1e3,t=wS(this._days),r=wS(this._months),n,c,S,s,g=this.asSeconds(),i,a,v,f;return g?(n=Ho(e/60),c=Ho(n/60),e%=60,n%=60,S=Ho(r/12),r%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",i=g<0?"-":"",a=Hf(this._months)!==Hf(g)?"-":"",v=Hf(this._days)!==Hf(g)?"-":"",f=Hf(this._milliseconds)!==Hf(g)?"-":"",i+"P"+(S?a+S+"Y":"")+(r?a+r+"M":"")+(t?v+t+"D":"")+(c||n||e?"T":"")+(c?f+c+"H":"")+(n?f+n+"M":"")+(e?f+s+"S":"")):"P0D"}var Ur=Px.prototype;Ur.isValid=ect;Ur.abs=Oft;Ur.add=Nft;Ur.subtract=Fft;Ur.as=_ft;Ur.asMilliseconds=IF;Ur.asSeconds=jft;Ur.asMinutes=Uft;Ur.asHours=zft;Ur.asDays=Gft;Ur.asWeeks=Hft;Ur.asMonths=$ft;Ur.asQuarters=Vft;Ur.asYears=Wft;Ur.valueOf=Yft;Ur._bubble=Lft;Ur.clone=Xft;Ur.get=Qft;Ur.milliseconds=Kft;Ur.seconds=Jft;Ur.minutes=Zft;Ur.hours=qft;Ur.days=tdt;Ur.weeks=rdt;Ur.months=edt;Ur.years=idt;Ur.humanize=ldt;Ur.toISOString=Ix;Ur.toString=Ix;Ur.toJSON=Ix;Ur.locale=yF;Ur.localeData=bF;Ur.toIsoString=nl("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ix);Ur.lang=xF;ir("X",0,0,"unix");ir("x",0,0,"valueOf");Fi("x",Ex);Fi("X",Put);vn("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});vn("x",function(e,t,r){r._d=new Date(Br(e))});ui.version="2.30.1";uut(jn);ui.fn=yi;ui.min=Jht;ui.max=Zht;ui.now=qht;ui.utc=Pu;ui.unix=Dft;ui.months=Pft;ui.isDate=Qm;ui.locale=nc;ui.invalid=Sx;ui.duration=Vl;ui.isMoment=jl;ui.weekdays=Ift;ui.parseZone=Aft;ui.localeData=gh;ui.isDuration=n1;ui.monthsShort=Rft;ui.weekdaysMin=Bft;ui.defineLocale=i5;ui.updateLocale=Aht;ui.locales=Pht;ui.weekdaysShort=Mft;ui.normalizeUnits=sl;ui.relativeTimeRounding=adt;ui.relativeTimeThreshold=odt;ui.calendarFormat=Cct;ui.prototype=yi;ui.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var udt=function(e){function t(n){if(r[n])return r[n].exports;var c=r[n]={i:n,l:!1,exports:{}};return e[n].call(c.exports,c,c.exports,t),c.l=!0,c.exports}var r={};return t.m=e,t.c=r,t.d=function(n,c,S){t.o(n,c)||Object.defineProperty(n,c,{configurable:!1,enumerable:!0,get:S})},t.n=function(n){var c=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(c,"a",c),c},t.o=function(n,c){return Object.prototype.hasOwnProperty.call(n,c)},t.p="",t(t.s=13)}([function(e,t){var r=e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=r)},function(e,t){e.exports=function(r){return typeof r=="object"?r!==null:typeof r=="function"}},function(e,t){var r=e.exports={version:"2.5.0"};typeof __e=="number"&&(__e=r)},function(e,t,r){e.exports=!r(4)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(e,t){e.exports=function(r){try{return!!r()}catch(n){return!0}}},function(e,t){var r={}.toString;e.exports=function(n){return r.call(n).slice(8,-1)}},function(e,t,r){var n=r(32)("wks"),c=r(9),S=r(0).Symbol,s=typeof S=="function";(e.exports=function(g){return n[g]||(n[g]=s&&S[g]||(s?S:c)("Symbol."+g))}).store=n},function(e,t,r){var n=r(0),c=r(2),S=r(8),s=r(22),g=r(10),i=function(a,v,f){var h,u,o,d,p=a&i.F,l=a&i.G,m=a&i.S,y=a&i.P,x=a&i.B,b=l?n:m?n[v]||(n[v]={}):(n[v]||{}).prototype,w=l?c:c[v]||(c[v]={}),C=w.prototype||(w.prototype={});l&&(f=v);for(h in f)u=!p&&b&&b[h]!==void 0,o=(u?b:f)[h],d=x&&u?g(o,n):y&&typeof o=="function"?g(Function.call,o):o,b&&s(b,h,o,a&i.U),w[h]!=o&&S(w,h,d),y&&C[h]!=o&&(C[h]=o)};n.core=c,i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,e.exports=i},function(e,t,r){var n=r(16),c=r(21);e.exports=r(3)?function(S,s,g){return n.f(S,s,c(1,g))}:function(S,s,g){return S[s]=g,S}},function(e,t){var r=0,n=Math.random();e.exports=function(c){return"Symbol(".concat(c===void 0?"":c,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(24);e.exports=function(c,S,s){if(n(c),S===void 0)return c;switch(s){case 1:return function(g){return c.call(S,g)};case 2:return function(g,i){return c.call(S,g,i)};case 3:return function(g,i,a){return c.call(S,g,i,a)}}return function(){return c.apply(S,arguments)}}},function(e,t){e.exports=function(r){if(r==null)throw TypeError("Can't call method on  "+r);return r}},function(e,t,r){var n=r(28),c=Math.min;e.exports=function(S){return S>0?c(n(S),9007199254740991):0}},function(e,t,r){t.__esModule=!0,t.default=function(n,c){if(n&&c){var S=Array.isArray(c)?c:c.split(","),s=n.name||"",g=n.type||"",i=g.replace(/\/.*$/,"");return S.some(function(a){var v=a.trim();return v.charAt(0)==="."?s.toLowerCase().endsWith(v.toLowerCase()):v.endsWith("/*")?i===v.replace(/\/.*$/,""):g===v})}return!0},r(14),r(34)},function(e,t,r){r(15),e.exports=r(2).Array.some},function(e,t,r){var n=r(7),c=r(25)(3);n(n.P+n.F*!r(33)([].some,!0),"Array",{some:function(S){return c(this,S,arguments[1])}})},function(e,t,r){var n=r(17),c=r(18),S=r(20),s=Object.defineProperty;t.f=r(3)?Object.defineProperty:function(g,i,a){if(n(g),i=S(i,!0),n(a),c)try{return s(g,i,a)}catch(v){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(g[i]=a.value),g}},function(e,t,r){var n=r(1);e.exports=function(c){if(!n(c))throw TypeError(c+" is not an object!");return c}},function(e,t,r){e.exports=!r(3)&&!r(4)(function(){return Object.defineProperty(r(19)("div"),"a",{get:function(){return 7}}).a!=7})},function(e,t,r){var n=r(1),c=r(0).document,S=n(c)&&n(c.createElement);e.exports=function(s){return S?c.createElement(s):{}}},function(e,t,r){var n=r(1);e.exports=function(c,S){if(!n(c))return c;var s,g;if(S&&typeof(s=c.toString)=="function"&&!n(g=s.call(c))||typeof(s=c.valueOf)=="function"&&!n(g=s.call(c))||!S&&typeof(s=c.toString)=="function"&&!n(g=s.call(c)))return g;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(r,n){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:n}}},function(e,t,r){var n=r(0),c=r(8),S=r(23),s=r(9)("src"),g=Function.toString,i=(""+g).split("toString");r(2).inspectSource=function(a){return g.call(a)},(e.exports=function(a,v,f,h){var u=typeof f=="function";u&&(S(f,"name")||c(f,"name",v)),a[v]!==f&&(u&&(S(f,s)||c(f,s,a[v]?""+a[v]:i.join(String(v)))),a===n?a[v]=f:h?a[v]?a[v]=f:c(a,v,f):(delete a[v],c(a,v,f)))})(Function.prototype,"toString",function(){return typeof this=="function"&&this[s]||g.call(this)})},function(e,t){var r={}.hasOwnProperty;e.exports=function(n,c){return r.call(n,c)}},function(e,t){e.exports=function(r){if(typeof r!="function")throw TypeError(r+" is not a function!");return r}},function(e,t,r){var n=r(10),c=r(26),S=r(27),s=r(12),g=r(29);e.exports=function(i,a){var v=i==1,f=i==2,h=i==3,u=i==4,o=i==6,d=i==5||o,p=a||g;return function(l,m,y){for(var x,b,w=S(l),C=c(w),E=n(m,y,3),T=s(C.length),k=0,P=v?p(l,T):f?p(l,0):void 0;T>k;k++)if((d||k in C)&&(x=C[k],b=E(x,k,w),i)){if(v)P[k]=b;else if(b)switch(i){case 3:return!0;case 5:return x;case 6:return k;case 2:P.push(x)}else if(u)return!1}return o?-1:h||u?u:P}}},function(e,t,r){var n=r(5);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(c){return n(c)=="String"?c.split(""):Object(c)}},function(e,t,r){var n=r(11);e.exports=function(c){return Object(n(c))}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(c){return isNaN(c=+c)?0:(c>0?n:r)(c)}},function(e,t,r){var n=r(30);e.exports=function(c,S){return new(n(c))(S)}},function(e,t,r){var n=r(1),c=r(31),S=r(6)("species");e.exports=function(s){var g;return c(s)&&(g=s.constructor,typeof g!="function"||g!==Array&&!c(g.prototype)||(g=void 0),n(g)&&(g=g[S])===null&&(g=void 0)),g===void 0?Array:g}},function(e,t,r){var n=r(5);e.exports=Array.isArray||function(c){return n(c)=="Array"}},function(e,t,r){var n=r(0),c=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(S){return c[S]||(c[S]={})}},function(e,t,r){var n=r(4);e.exports=function(c,S){return!!c&&n(function(){S?c.call(null,function(){},1):c.call(null)})}},function(e,t,r){r(35),e.exports=r(2).String.endsWith},function(e,t,r){var n=r(7),c=r(12),S=r(36),s="".endsWith;n(n.P+n.F*r(38)("endsWith"),"String",{endsWith:function(g){var i=S(this,g,"endsWith"),a=arguments.length>1?arguments[1]:void 0,v=c(i.length),f=a===void 0?v:Math.min(c(a),v),h=String(g);return s?s.call(i,h,f):i.slice(f-h.length,f)===h}})},function(e,t,r){var n=r(37),c=r(11);e.exports=function(S,s,g){if(n(s))throw TypeError("String#"+g+" doesn't accept regex!");return String(c(S))}},function(e,t,r){var n=r(1),c=r(5),S=r(6)("match");e.exports=function(s){var g;return n(s)&&((g=s[S])!==void 0?!!g:c(s)=="RegExp")}},function(e,t,r){var n=r(6)("match");e.exports=function(c){var S=/./;try{"/./"[c](S)}catch(s){try{return S[n]=!1,!"/./"[c](S)}catch(g){}}return!0}}]);const hdt=Rs(udt);var cdt=typeof document!="undefined"&&document&&document.createElement?"multiple"in document.createElement("input"):!0;function fdt(e){var t=[];if(e.dataTransfer){var r=e.dataTransfer;r.files&&r.files.length?t=r.files:r.items&&r.items.length&&(t=r.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}function MF(e,t){return e.type==="application/x-moz-file"||hdt(e,t)}function ddt(e,t,r){return e.size<=t&&e.size>=r}function pdt(e,t){return e.every(function(r){return MF(r,t)})}function Qp(e){return e.dataTransfer?Array.prototype.every.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!0}function uk(e){e.preventDefault()}function vdt(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function mdt(e){return e.indexOf("Edge/")!==-1}function gdt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return vdt(e)||mdt(e)}const Kp={active:{borderStyle:"solid",backgroundColor:"#eee"},accepted:{borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},rejected:{borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},default:{width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},disabled:{opacity:.5}};var _u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ydt=function(){function e(t,r){for(var n=0;n<r.length;n++){var c=r[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function TS(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function xdt(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else return Array.from(e)}function bdt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sdt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function wdt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Df=function(e){wdt(t,e);function t(r,n){bdt(this,t);var c=Sdt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return c.renderChildren=function(S,s,g,i){return typeof S=="function"?S(_u({},c.state,{isDragActive:s,isDragAccept:g,isDragReject:i,open:c.open})):S},c.composeHandlers=c.composeHandlers.bind(c),c.onClick=c.onClick.bind(c),c.onDocumentDrop=c.onDocumentDrop.bind(c),c.onDragEnter=c.onDragEnter.bind(c),c.onDragLeave=c.onDragLeave.bind(c),c.onDragOver=c.onDragOver.bind(c),c.onDragStart=c.onDragStart.bind(c),c.onDrop=c.onDrop.bind(c),c.onFileDialogCancel=c.onFileDialogCancel.bind(c),c.onInputElementClick=c.onInputElementClick.bind(c),c.open=c.open.bind(c),c.setRef=c.setRef.bind(c),c.setRefs=c.setRefs.bind(c),c.isFileDialogActive=!1,c.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},c}return ydt(t,[{key:"componentDidMount",value:function(){var n=this.props.preventDropOnDocument;this.dragTargets=[],n&&(document.addEventListener("dragover",uk,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),this.fileInputEl!=null&&this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){var n=this.props.preventDropOnDocument;n&&(document.removeEventListener("dragover",uk),document.removeEventListener("drop",this.onDocumentDrop)),this.fileInputEl!=null&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"composeHandlers",value:function(n){return this.props.disabled?null:n}},{key:"onDocumentDrop",value:function(n){this.node&&this.node.contains(n.target)||(n.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(n){n.persist(),this.props.onDragStart&&Qp(n)&&this.props.onDragStart.call(this,n)}},{key:"onDragEnter",value:function(n){var c=this;n.preventDefault(),this.dragTargets.indexOf(n.target)===-1&&this.dragTargets.push(n.target),n.persist(),Qp(n)&&(Promise.resolve(this.props.getDataTransferItems(n)).then(function(S){n.isPropagationStopped()||c.setState({draggedFiles:S,isDragActive:!0})}),this.props.onDragEnter&&this.props.onDragEnter.call(this,n))}},{key:"onDragOver",value:function(n){n.preventDefault(),n.persist();try{n.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(c){}return this.props.onDragOver&&Qp(n)&&this.props.onDragOver.call(this,n),!1}},{key:"onDragLeave",value:function(n){var c=this;n.preventDefault(),n.persist(),this.dragTargets=this.dragTargets.filter(function(S){return S!==n.target&&c.node.contains(S)}),!(this.dragTargets.length>0)&&(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&Qp(n)&&this.props.onDragLeave.call(this,n))}},{key:"onDrop",value:function(n){var c=this,S=this.props,s=S.onDrop,g=S.onDropAccepted,i=S.onDropRejected,a=S.multiple,v=S.accept,f=S.getDataTransferItems;n.preventDefault(),n.persist(),this.dragTargets=[],this.isFileDialogActive=!1,this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[]}),Qp(n)&&Promise.resolve(f(n)).then(function(h){var u=[],o=[];n.isPropagationStopped()||(h.forEach(function(d){MF(d,v)&&ddt(d,c.props.maxSize,c.props.minSize)?u.push(d):o.push(d)}),!a&&u.length>1&&o.push.apply(o,xdt(u.splice(0))),c.setState({acceptedFiles:u,rejectedFiles:o},function(){s&&s.call(c,u,o,n),o.length>0&&i&&i.call(c,o,n),u.length>0&&g&&g.call(c,u,n)}))})}},{key:"onClick",value:function(n){var c=this.props,S=c.onClick,s=c.disableClick;S&&S.call(this,n),!s&&!n.isDefaultPrevented()&&(n.stopPropagation(),gdt()?setTimeout(this.open,0):this.open())}},{key:"onInputElementClick",value:function(n){n.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick(n)}},{key:"onFileDialogCancel",value:function(){var n=this,c=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout(function(){if(n.fileInputEl!=null){var S=n.fileInputEl.files;S.length||(n.isFileDialogActive=!1,typeof c=="function"&&c())}},300)}},{key:"setRef",value:function(n){this.node=n}},{key:"setRefs",value:function(n){this.fileInputEl=n}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var n=this.props,c=n.accept,S=n.acceptClassName,s=n.activeClassName,g=n.children,i=n.disabled,a=n.disabledClassName,v=n.inputProps,f=n.multiple,h=n.name,u=n.rejectClassName,o=TS(n,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),d=o.acceptStyle,p=o.activeStyle,l=o.className,m=l===void 0?"":l,y=o.disabledStyle,x=o.rejectStyle,b=o.style,w=TS(o,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),C=this.state,E=C.isDragActive,T=C.draggedFiles,k=T.length,P=f||k<=1,R=k>0&&pdt(T,this.props.accept),M=k>0&&(!R||!P),I=!m&&!b&&!p&&!d&&!x&&!y;E&&s&&(m+=" "+s),R&&S&&(m+=" "+S),M&&u&&(m+=" "+u),i&&a&&(m+=" "+a),I&&(b=Kp.default,p=Kp.active,d=Kp.accepted,x=Kp.rejected,y=Kp.disabled);var B=_u({position:"relative"},b);p&&E&&(B=_u({},B,p)),d&&R&&(B=_u({},B,d)),x&&M&&(B=_u({},B,x)),y&&i&&(B=_u({},B,y));var D={accept:c,disabled:i,type:"file",style:_u({position:"absolute",top:0,right:0,bottom:0,left:0,opacity:1e-5,pointerEvents:"none"},v.style),multiple:cdt&&f,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};h&&h.length&&(D.name=h),w.acceptedFiles,w.preventDropOnDocument,w.disableClick,w.onDropAccepted,w.onDropRejected,w.onFileDialogCancel,w.maxSize,w.minSize,w.getDataTransferItems;var N=TS(w,["acceptedFiles","preventDropOnDocument","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize","getDataTransferItems"]);return ti.createElement("div",_u({className:m,style:B},N,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":i}),this.renderChildren(g,E,R,M),ti.createElement("input",_u({},v,D)))}}]),t}(ti.Component);Df.propTypes={accept:Wt.oneOfType([Wt.string,Wt.arrayOf(Wt.string)]),children:Wt.oneOfType([Wt.node,Wt.func]),disableClick:Wt.bool,disabled:Wt.bool,preventDropOnDocument:Wt.bool,inputProps:Wt.object,multiple:Wt.bool,name:Wt.string,maxSize:Wt.number,minSize:Wt.number,className:Wt.string,activeClassName:Wt.string,acceptClassName:Wt.string,rejectClassName:Wt.string,disabledClassName:Wt.string,style:Wt.object,activeStyle:Wt.object,acceptStyle:Wt.object,rejectStyle:Wt.object,disabledStyle:Wt.object,getDataTransferItems:Wt.func,onClick:Wt.func,onDrop:Wt.func,onDropAccepted:Wt.func,onDropRejected:Wt.func,onDragStart:Wt.func,onDragEnter:Wt.func,onDragOver:Wt.func,onDragLeave:Wt.func,onFileDialogCancel:Wt.func};Df.defaultProps={preventDropOnDocument:!0,disabled:!1,disableClick:!1,inputProps:{},multiple:!0,maxSize:1/0,minSize:0,getDataTransferItems:fdt};var Tdt=typeof self=="object"?self.FormData:window.FormData;const c5=Rs(Tdt),Cdt="_centerWrapper_uj3pn_1",Edt="_container_uj3pn_8",kdt="_header_uj3pn_20",Ddt="_subtext_uj3pn_25",Adt="_inputHeader_uj3pn_29",Pdt="_inputContainer_uj3pn_34",Rdt="_inputContainerBot_uj3pn_49",Idt="_input_uj3pn_29",Mdt="_inputFilled_uj3pn_71",Bdt="_inputError_uj3pn_75",Odt="_dropContainer_uj3pn_79",Ndt="_activeDropContainer_uj3pn_104",Fdt="_dropIcon_uj3pn_108",Ldt="_dropHeader_uj3pn_113",_dt="_pdfRow_uj3pn_118",jdt="_removeIcon_uj3pn_129",Udt="_errorContainer_uj3pn_141",zdt="_errorIcon_uj3pn_155",Gdt="_submitButton_uj3pn_161",Hdt="_submitButtonInside_uj3pn_166",$dt="_hidden_uj3pn_172",en={centerWrapper:Cdt,container:Edt,header:kdt,subtext:Ddt,inputHeader:Adt,inputContainer:Pdt,inputContainerBot:Rdt,input:Idt,inputFilled:Mdt,inputError:Bdt,dropContainer:Odt,activeDropContainer:Ndt,dropIcon:Fdt,dropHeader:Ldt,pdfRow:_dt,removeIcon:jdt,errorContainer:Udt,errorIcon:zdt,submitButton:Gdt,submitButtonInside:Hdt,hidden:$dt},qm=xN.create({});var Vdt={};class BF extends ti.Component{constructor(t){super(t),this.state={plan:{},groupName:"",groupNameError:"",poNumber:"",poNumberError:"",pdf:null,pdfError:""},this.isRenewal=!!Ks("r"),this.onPdfDrop=this.onPdfDrop.bind(this),this.onSubscribe=this.onSubscribe.bind(this)}componentDidMount(){return oi(this,null,function*(){if(!(yield this.props.user.getData())){Ue.logError("UpgradeGroupPOPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}let r=null;const n=decodeURIComponent(Ks("groupPlanName"));(yield Vr.listGroupPlans({})).plans.forEach(S=>{S.name===n&&(r=S)}),this.setState({loading:!1,plan:r,groupName:decodeURIComponent(Ks("n"))})})}onPdfDrop(t){const r=t[0];r?this.setState({pdfError:"",pdf:r}):this.setState({pdfError:"Error uploading the PDF",pdf:null})}onSubscribe(t){t.preventDefault(),this.setState({loading:!0});let r="",n="",c="";if(this.state.groupName||(r="Group Name is required."),this.state.poNumber||(n="Purchase Order Number is required."),this.state.pdf||(c="Purchase Order PDF is required."),this.setState({groupNameError:r,poNumberError:n,pdfError:c}),!r&&!n&&!c){const S=new c5;S.append("file",this.state.pdf),S.append("folder","POs"),S.append("upload_preset","normal"),S.append("api_key",Vdt.CLOUDINARY_API_KEY),S.append("timestamp",parseInt(Date.now()/1e3,10)),qm.post("https://api.cloudinary.com/v1_1/blooket/image/upload",S,{headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!1}).then(s=>{this.isRenewal?vi.put("/api/groups/renew",{groupName:this.state.groupName,poNumber:this.state.poNumber,pdfURL:s.data.secure_url,pdfID:s.data.public_id}).then(()=>{this.props.history.push("/group-plan")}).catch(g=>{Ue.logError(g),this.setState({loading:!1,groupNameError:"Something went wrong. Make sure you uploaded a PDF, and if so then please contact support."})}):vi.post("/api/groups/po",{plan:this.state.plan,groupName:this.state.groupName,poNumber:this.state.poNumber,pdfURL:s.data.secure_url,pdfID:s.data.public_id}).then(()=>{this.props.user.getLoggedIn(),this.props.history.push("/group-plan")}).catch(g=>{Ue.logError(g),this.setState({loading:!1,groupNameError:"Something went wrong. Make sure you uploaded a PDF, and if so then please contact support."})})}).catch(s=>{Ue.logError(s),this.setState({loading:!1,groupNameError:"Something went very wrong. Please contact support."})})}else this.setState({loading:!1})}render(){if(this.state.plan)return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Group Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),A.jsx(Ro,{}),A.jsx("div",{className:He.slantBackground}),A.jsx("div",{className:He.regularBody,children:this.state.plan&&this.state.plan.name?A.jsxs("form",{onSubmit:this.onSubscribe,className:en.centerWrapper,children:[A.jsxs("div",{className:en.container,children:[A.jsx("div",{className:en.header,children:"Pay With Purchase Order"}),A.jsx("div",{className:en.subtext,children:`Blooket Plus: ${this.state.plan.name} Plan`})]}),A.jsxs("div",{className:en.container,children:[A.jsx("div",{className:en.inputHeader,children:"Subscription Group Name"}),A.jsx("div",{className:Ct(en.inputContainer,{[en.inputFilled]:this.state.groupName,[en.inputError]:this.state.groupNameError}),children:A.jsx("input",{className:en.input,placeholder:"Group Name...",onChange:t=>this.setState({groupName:t.target.value.slice(0,50),groupNameError:""}),value:this.state.groupName,type:"text"})}),A.jsx("div",{className:en.inputHeader,children:"Purchase Order Number"}),A.jsx("div",{className:Ct(en.inputContainer,en.inputContainerBot,{[en.inputFilled]:this.state.poNumber,[en.inputErorr]:this.state.poNumberError}),children:A.jsx("input",{className:en.input,placeholder:"Purchase Order Number...",onChange:t=>this.setState({poNumber:t.target.value.slice(0,50),poNumberError:""}),value:this.state.poNumber,type:"text"})})]}),A.jsxs("div",{className:en.container,children:[this.isRenewal?`
                  Upload your purchase order below. We'll send you an email with the final invoice immediately after.
                  The will extend the subscription for 1 year past the current end date.
                `:`
                  Upload your purchase order below. We'll send you an email with the final invoice immediately after.
                  The subscription will last for 1 year until ${ui().format("MM/DD/YYYY")}.
                `,A.jsx("br",{}),A.jsx("br",{}),this.isRenewal?`
                  Your members' plans will automatically be extended, but all plans will
                  be canceled if payment is not received within 30 days.
                `:`
                  You'll be able to distribute the plans as soon as you upload the PO, but all plans will
                  be canceled if payment is not received within 30 days.
                `,A.jsx("br",{}),A.jsx("br",{}),`
                  WARNING: Uploading a fake purchase order can be punished through the deletion of your account.
                `]}),A.jsxs("div",{className:en.container,children:[A.jsx("div",{className:en.inputHeader,children:"Upload Purchase Order PDF"}),this.state.pdf?A.jsxs("div",{className:en.pdfRow,children:[A.jsx("i",{className:Ct("fas fa-times",en.removeIcon),role:"button",tabIndex:0,onClick:()=>this.setState({pdf:null,pdfError:""})}),this.state.pdf.name]}):A.jsxs(Df,{multiple:!1,accept:"application/pdf",onDropAccepted:this.onPdfDrop,onDropRejected:()=>this.setState({pdfError:"PDF Denied (Check PDF Format & Size < 2.5 MB)"}),className:en.dropContainer,activeClassName:en.activeDropContainer,maxSize:25e5,children:[A.jsx("i",{className:Ct("fas fa-file-upload",en.dropIcon)}),A.jsx("div",{className:en.dropHeader,children:"Drag a PDF or Click to Upload"}),"File must be less than 5MB"]})]}),this.state.groupNameError||this.state.poNumberError||this.state.pdfError?A.jsxs("div",{className:en.errorContainer,children:[A.jsx("i",{className:Ct("fas fa-times-circle",en.errorIcon)}),this.state.groupNameError||this.state.poNumberError||this.state.pdfError]}):null,A.jsx(Ti,{color:"#0bc2cf",outsideClass:en.submitButton,insideClass:en.submitButtonInside,onClick:this.onSubscribe,children:this.isRenewal?"Renew Now":"Subscribe Now"}),A.jsx("input",{type:"submit",className:en.hidden})]}):null}),this.state.loading?A.jsx(gr,{text:"Processing...",loading:!0}):null]})}}BF.propTypes={history:Wt.object,user:Wt.object};const Wdt=Sn(BF),Ydt="_container_1qc61_1",Xdt="_header_1qc61_15",Qdt="_subheader_1qc61_22",Kdt="_buttonContainer_1qc61_28",Jdt="_button_1qc61_28",Zdt="_buttonInside_1qc61_37",ps={container:Ydt,header:Xdt,subheader:Qdt,buttonContainer:Kdt,button:Jdt,buttonInside:Zdt};class OF extends ti.Component{constructor(t){super(t),this.state={groupName:"",isFull:!1,isActive:!1,isLoggedIn:!1,ready:!1,loading:!1,done:"",isAlreadyIn:!1,isAlreadyGrouped:!1},this.here=!0,this.email="",this.groupId=t.match.params.id,this.joinGroup=this.joinGroup.bind(this)}componentDidMount(){return oi(this,null,function*(){const t=yield this.props.user.getData();t?(this.email=t.email,vi.get("/api/groups",{params:{id:this.groupId}}).then(r=>oi(this,null,function*(){const n=r.data.planName;let c=null;r.data.planName==="Custom"?c={name:"Custom",numUsers:r.data.numPlans,numPlans:r.data.numPlans}:(yield Vr.listGroupPlans({})).plans.forEach(s=>{s.name===n&&(c=s)}),vi.get("/api/users/plan").then(S=>{const s=S.data.planSource;this.here&&this.setState({ready:!0,isLoggedIn:!0,groupName:r.data.groupName,isActive:ui(r.data.lastDate).add(1,"year").isAfter(ui.utc()),isFull:c.numUsers-r.data.members.length<=0,isAlreadyIn:r.data.members.includes(this.email),isAlreadyGrouped:!!s})}).catch(S=>{Ue.logError(S)})})).catch(r=>{Ue.logError(r),this.props.history.push("/404")})):this.setState({ready:!0})})}joinGroup(){this.setState({loading:!0}),vi.put("/api/groups/join",{email:this.email,groupId:this.groupId}).then(t=>{t.data.success?(this.props.user.getLoggedIn(),this.setState({done:"Success",loading:!1})):this.setState({done:"Failed",loading:!1})}).catch(t=>{this.setState({loading:!1}),Ue.logError(t)})}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Join Group | Blooket",desc:"Join a Upgrade Group to unlock the benefits of Blooket Plus."}),A.jsx(Ro,{}),A.jsx("div",{className:He.slantBackground}),this.state.ready?A.jsx("div",{className:He.regularBody,children:A.jsx("div",{className:ps.container,children:this.state.done?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:ps.header,children:this.state.done}),this.state.done==="Failed"?A.jsx("div",{className:ps.subheader,children:"Please refresh and try again or contact support."}):null,A.jsx("div",{className:ps.buttonContainer,children:A.jsx(Ti,{color:"#0bc2cf",outsideClass:ps.button,insideClass:ps.buttonInside,onClick:this.state.done==="Failed"?()=>window.location.reload():()=>this.props.history.push("/dashboard"),children:"Ok"})})]}):this.state.isLoggedIn?!this.state.isActive||this.state.isFull||this.state.isAlreadyIn||this.state.isAlreadyGrouped?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:ps.header,children:"Failed"}),A.jsx("div",{className:ps.subheader,children:this.state.isAlreadyIn?"You're already in this group.":this.state.isAlreadyGrouped?"You already are in a group!":this.state.isFull?"There are no more subscription plans in this group.":"This group is no longer active."}),A.jsx("div",{className:ps.buttonContainer,children:A.jsx(Ti,{color:"#0bc2cf",outsideClass:ps.button,insideClass:ps.buttonInside,onClick:()=>this.props.history.push("/dashboard"),children:"Ok"})})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:ps.header,children:"Join Group:"}),A.jsx("div",{className:ps.subheader,children:this.state.groupName}),A.jsx("div",{className:ps.buttonContainer,children:this.state.loading?A.jsx(no,{}):A.jsx(Ti,{color:"#0bc2cf",outsideClass:ps.button,insideClass:ps.buttonInside,onClick:this.joinGroup,children:"Join Now"})})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:ps.header,children:"Failed"}),A.jsx("div",{className:ps.subheader,children:"You must be logged in to join a group."}),A.jsx("div",{className:ps.buttonContainer,children:A.jsx(Ti,{color:"#0bc2cf",outsideClass:ps.button,insideClass:ps.buttonInside,onClick:()=>{window.location.href=`${nr.id}/login`},children:"Login"})})]})})}):null]})}}OF.propTypes={match:Wt.object,history:Wt.object,user:Wt.object};const qdt=Sn(OF);class NF extends ti.Component{constructor(t){super(t),this.state={plan:{},groupName:"",pdf:null,loading:!1},this.here=!0,this.groupId=t.match.params.id}componentDidMount(){return oi(this,null,function*(){if(!(yield this.props.user.getData())||!this.groupId){Ue.logError("RenewGroupPage cannot proceed without user and groupId"),window.location.href=`${nr.id}/login`;return}const r=yield new Promise(n=>{vi.get("/api/groups",{params:{id:this.groupId}}).then(c=>oi(this,null,function*(){let S=null;if(c.data.planName==="Custom")S={name:"Custom",numUsers:c.data.numPlans,numPlans:c.data.numPlans,priceCents:c.data.customPrice*100};else{const s=c.data.planName;(yield Vr.listGroupPlans({})).plans.forEach(i=>{i.name===s&&(S=i)})}n(Or(ji({},c.data),{plan:S}))})).catch(c=>{Ue.logError(c),n()})});if(this.here){if(!r)return this.props.history.push("/group-plan");this.setState({plan:r.plan,groupName:r.groupName}),vi.put("/api/groups/quote",{quote:{logo:Re.basic.blooket180,from:`Blooket LLC
PO Box 830618,
Philadelphia, PA 19182-0618`,to:r.groupName,header:"QUOTE",items:[{name:`Blooket Plus: ${r.plan.name} Plan (Renewal)`,quantity:1,unit_cost:r.plan.priceCents/100,description:`${r.plan.numUsers} One-Year Plus Plans`}],notes:`If you have any questions, please email contact-us@blooket.com.

All quotes, invoices and purchases are subject to the Terms of Service of Blooket LLC unless previously agreed to in writing by the parties. The Terms of Service are located on the www.blooket.com website.  Purchasers agree to be bound by the Terms of Service and comply with the Privacy Policy provisions of the website at all times.`}}).then(n=>{this.setState({pdf:n.data.pdf})}).catch(n=>Ue.logError(n))}})}render(){return this.groupId?A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Group Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),A.jsx(Ro,{}),A.jsx("div",{className:He.slantBackground}),A.jsxs("div",{className:Ct(He.regularBody,_r.bodyContainer),children:[this.state.pdf?A.jsx("object",{data:`data:application/pdf;base64,${this.state.pdf}`,title:"Blooket Invoice",className:_r.quote,children:A.jsx("a",{className:_r.downloadButton,download:"BlooketInvoice.pdf",href:`data:application/pdf;base64,${this.state.pdf}`,children:"Download PDF"})}):null,A.jsxs("div",{className:_r.leftColumn,children:[A.jsxs("div",{className:_r.textContainer,children:[A.jsx("div",{className:_r.textBigHeader,children:this.state.groupName}),A.jsx("div",{className:_r.bigText,children:`Blooket Plus: ${this.state.plan.name} Plan`}),`${this.state.plan.numUsers} One-Year Plus Plans`]}),A.jsxs("div",{className:_r.textContainer,children:[A.jsx("div",{className:_r.textHeader,children:"Renew With Purchase Order"}),"Upload your PO and we'll renew your plans immediately!",A.jsx("div",{className:He.flex,children:A.jsx(Ti,{color:"#0bc2cf",outsideClass:_r.button,insideClass:_r.buttonInside,linkTo:`/upgrade/group/po?groupPlanName=${this.state.plan.name==="Custom"?"Custom":this.state.plan.name}&n=${encodeURIComponent(this.state.groupName)}&r=true`,children:"Renew With Purchase Order"})})]}),A.jsxs("div",{className:_r.textContainer,children:[A.jsx("div",{className:_r.textHeader,children:"Have Questions or Need to Request our W-9?"}),A.jsxs("div",{className:_r.bigText,children:["Send us an email at: ",A.jsx("a",{className:_r.linkText,href:"mailto:contact-us@blooket.com",children:"contact-us@blooket.com"})]})]})]})]}),this.state.loading?A.jsx(gr,{text:"Loading...",loading:!0}):null]}):A.jsx(hc,{to:"/group-plan"})}}NF.propTypes={match:Wt.object,history:Wt.object,user:Wt.object};const tpt=Sn(NF),ept="_topHeader_1i9q0_1",ipt="_searchBoxHolder_1i9q0_9",rpt="_searchContainer_1i9q0_26",npt="_filtersHolder_1i9q0_37",spt="_filterIcon_1i9q0_42",apt="_searchIcon_1i9q0_70",opt="_searchInput_1i9q0_87",lpt="_filtersColumn_1i9q0_105",upt="_filterRow_1i9q0_132",hpt="_filterRowCenter_1i9q0_143",cpt="_filterRowColumn_1i9q0_147",fpt="_filters_1i9q0_37",dpt="_checkBox_1i9q0_159",ppt="_checkBoxLeft_1i9q0_175",vpt="_checkBoxWide_1i9q0_179",mpt="_checkIcon_1i9q0_183",gpt="_checkYes_1i9q0_188",ypt="_checkNo_1i9q0_194",xpt="_spacer_1i9q0_200",bpt="_header_1i9q0_204",Spt="_hitsHolder_1i9q0_212",wpt="_hitsContainer_1i9q0_216",Tpt="_suggestContainer_1i9q0_225",Cpt="_suggestSlant_1i9q0_244",Ept="_suggestText_1i9q0_257",kpt="_suggestLink_1i9q0_263",Dpt="_noResultsText_1i9q0_269",Apt="_noResultsBlook_1i9q0_282",Ppt="_noResultsSub_1i9q0_288",Rpt="_moreButton_1i9q0_293",Ipt="_moreButtonInside_1i9q0_297",Mpt="_categoriesRow_1i9q0_304",Bpt="_categoryContainer_1i9q0_312",Opt="_categoryContainerSmall_1i9q0_342",yr={topHeader:ept,searchBoxHolder:ipt,searchContainer:rpt,filtersHolder:npt,filterIcon:spt,searchIcon:apt,searchInput:opt,filtersColumn:lpt,filterRow:upt,filterRowCenter:hpt,filterRowColumn:cpt,filters:fpt,checkBox:dpt,checkBoxLeft:ppt,checkBoxWide:vpt,checkIcon:mpt,checkYes:gpt,checkNo:ypt,spacer:xpt,header:bpt,hitsHolder:Spt,hitsContainer:wpt,suggestContainer:Tpt,suggestSlant:Cpt,suggestText:Ept,suggestLink:kpt,noResultsText:Dpt,noResultsBlook:Apt,noResultsSub:Ppt,moreButton:Rpt,moreButtonInside:Ipt,categoriesRow:Mpt,categoryContainer:Bpt,categoryContainerSmall:Opt};var hk=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),Npt=new Uint8Array(16);function Fpt(){if(!hk)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hk(Npt)}var FF=[];for(var J0=0;J0<256;++J0)FF[J0]=(J0+256).toString(16).substr(1);function Lpt(e,t){var r=0,n=FF;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}function _pt(e,t,r){typeof e=="string"&&(e==="binary"&&new Array(16),e=null),e=e||{};var n=e.random||(e.rng||Fpt)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Lpt(n)}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),r.push.apply(r,n)}return r}function W2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){_v(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Upt(e,t,r){return t&&fk(e.prototype,t),r&&fk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(this,arguments)}function zpt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y2(e,t)}function ly(e){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ly(e)}function Y2(e,t){return Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,c){return n.__proto__=c,n},Y2(e,t)}function Gpt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Hpt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $pt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hpt(e)}function Vpt(e){var t=Gpt();return function(){var n=ly(e),c;if(t){var S=ly(this).constructor;c=Reflect.construct(n,arguments,S)}else c=n.apply(this,arguments);return $pt(this,c)}}function Wpt(e,t){if(e){if(typeof e=="string")return dk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dk(e,t)}}function dk(e,t){t=e.length;for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ypt(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Wpt(e))||t){r&&(e=r);var n=0,c=function(){};return{s:c,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(i){throw i},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S=!0,s=!1,g;return{s:function(){r=r.call(e)},n:function(){var i=r.next();return S=i.done,i},e:function(i){s=!0,g=i},f:function(){try{!S&&r.return!=null&&r.return()}finally{if(s)throw g}}}}var pk=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{},Z0=function(e){return e&&e.Math==Math&&e},xh=Z0(typeof globalThis=="object"&&globalThis)||Z0(typeof window=="object"&&window)||Z0(typeof self=="object"&&self)||Z0(typeof pk=="object"&&pk)||function(){return this}()||Function("return this")(),f5={},bh=function(e){try{return!!e()}catch(t){return!0}},Xpt=bh,Cc=!Xpt(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Qpt=bh,d5=!Qpt(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Kpt=d5,q0=Function.prototype.call,p5=Kpt?q0.bind(q0):function(){return q0.apply(q0,arguments)},LF={},_F={}.propertyIsEnumerable,jF=Object.getOwnPropertyDescriptor,Jpt=jF&&!_F.call({1:2},1);LF.f=Jpt?function(t){var r=jF(this,t);return!!r&&r.enumerable}:_F;var UF=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},zF=d5,GF=Function.prototype,X2=GF.call,Zpt=zF&&GF.bind.bind(X2,X2),HF=function(e){return zF?Zpt(e):function(){return X2.apply(e,arguments)}},$F=HF,qpt=$F({}.toString),tvt=$F("".slice),Mx=function(e){return tvt(qpt(e),8,-1)},evt=Mx,ivt=HF,Iu=function(e){if(evt(e)==="Function")return ivt(e)},rvt=Iu,nvt=bh,svt=Mx,CS=Object,avt=rvt("".split),VF=nvt(function(){return!CS("z").propertyIsEnumerable(0)})?function(e){return svt(e)=="String"?avt(e,""):CS(e)}:CS,WF=function(e){return e==null},ovt=WF,lvt=TypeError,YF=function(e){if(ovt(e))throw lvt("Can't call method on "+e);return e},uvt=VF,hvt=YF,Bx=function(e){return uvt(hvt(e))},Q2=typeof document=="object"&&document.all,cvt=typeof Q2=="undefined"&&Q2!==void 0,XF={all:Q2,IS_HTMLDDA:cvt},QF=XF,fvt=QF.all,al=QF.IS_HTMLDDA?function(e){return typeof e=="function"||e===fvt}:function(e){return typeof e=="function"},vk=al,KF=XF,dvt=KF.all,fp=KF.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:vk(e)||e===dvt}:function(e){return typeof e=="object"?e!==null:vk(e)},ES=xh,pvt=al,vvt=function(e){return pvt(e)?e:void 0},t0=function(e,t){return arguments.length<2?vvt(ES[e]):ES[e]&&ES[e][t]},mvt=Iu,gvt=mvt({}.isPrototypeOf),yvt=t0,xvt=yvt("navigator","userAgent")||"",JF=xh,kS=xvt,mk=JF.process,gk=JF.Deno,yk=mk&&mk.versions||gk&&gk.version,xk=yk&&yk.v8,dl,uy;xk&&(dl=xk.split("."),uy=dl[0]>0&&dl[0]<4?1:+(dl[0]+dl[1]));!uy&&kS&&(dl=kS.match(/Edge\/(\d+)/),(!dl||dl[1]>=74)&&(dl=kS.match(/Chrome\/(\d+)/),dl&&(uy=+dl[1])));var bvt=uy,bk=bvt,Svt=bh,ZF=!!Object.getOwnPropertySymbols&&!Svt(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&bk&&bk<41}),wvt=ZF,qF=wvt&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Tvt=t0,Cvt=al,Evt=gvt,kvt=qF,Dvt=Object,tL=kvt?function(e){return typeof e=="symbol"}:function(e){var t=Tvt("Symbol");return Cvt(t)&&Evt(t.prototype,Dvt(e))},Avt=String,Pvt=function(e){try{return Avt(e)}catch(t){return"Object"}},Rvt=al,Ivt=Pvt,Mvt=TypeError,eL=function(e){if(Rvt(e))return e;throw Mvt(Ivt(e)+" is not a function")},Bvt=eL,Ovt=WF,Nvt=function(e,t){var r=e[t];return Ovt(r)?void 0:Bvt(r)},DS=p5,AS=al,PS=fp,Fvt=TypeError,Lvt=function(e,t){var r,n;if(t==="string"&&AS(r=e.toString)&&!PS(n=DS(r,e))||AS(r=e.valueOf)&&!PS(n=DS(r,e))||t!=="string"&&AS(r=e.toString)&&!PS(n=DS(r,e)))return n;throw Fvt("Can't convert object to primitive value")},v5={exports:{}},Sk=xh,_vt=Object.defineProperty,m5=function(e,t){try{_vt(Sk,e,{value:t,configurable:!0,writable:!0})}catch(r){Sk[e]=t}return t},jvt=xh,Uvt=m5,wk="__core-js_shared__",zvt=jvt[wk]||Uvt(wk,{}),g5=zvt,Tk=g5;(v5.exports=function(e,t){return Tk[e]||(Tk[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"});var Gvt=YF,Hvt=Object,iL=function(e){return Hvt(Gvt(e))},$vt=Iu,Vvt=iL,Wvt=$vt({}.hasOwnProperty),Af=Object.hasOwn||function(t,r){return Wvt(Vvt(t),r)},Yvt=Iu,Xvt=0,Qvt=Math.random(),Kvt=Yvt(1 .toString),rL=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Kvt(++Xvt+Qvt,36)},Jvt=xh,Zvt=v5.exports,Ck=Af,qvt=rL,Ek=ZF,nL=qF,$f=Zvt("wks"),pf=Jvt.Symbol,kk=pf&&pf.for,tmt=nL?pf:pf&&pf.withoutSetter||qvt,e0=function(e){if(!Ck($f,e)||!(Ek||typeof $f[e]=="string")){var t="Symbol."+e;Ek&&Ck(pf,e)?$f[e]=pf[e]:nL&&kk?$f[e]=kk(t):$f[e]=tmt(t)}return $f[e]},emt=p5,Dk=fp,Ak=tL,imt=Nvt,rmt=Lvt,nmt=e0,smt=TypeError,amt=nmt("toPrimitive"),omt=function(e,t){if(!Dk(e)||Ak(e))return e;var r=imt(e,amt),n;if(r){if(t===void 0&&(t="default"),n=emt(r,e,t),!Dk(n)||Ak(n))return n;throw smt("Can't convert object to primitive value")}return t===void 0&&(t="number"),rmt(e,t)},lmt=omt,umt=tL,sL=function(e){var t=lmt(e,"string");return umt(t)?t:t+""},hmt=xh,Pk=fp,K2=hmt.document,cmt=Pk(K2)&&Pk(K2.createElement),aL=function(e){return cmt?K2.createElement(e):{}},fmt=Cc,dmt=bh,pmt=aL,oL=!fmt&&!dmt(function(){return Object.defineProperty(pmt("div"),"a",{get:function(){return 7}}).a!=7}),vmt=Cc,mmt=p5,gmt=LF,ymt=UF,xmt=Bx,bmt=sL,Smt=Af,wmt=oL,Rk=Object.getOwnPropertyDescriptor;f5.f=vmt?Rk:function(t,r){if(t=xmt(t),r=bmt(r),wmt)try{return Rk(t,r)}catch(n){}if(Smt(t,r))return ymt(!mmt(gmt.f,t,r),t[r])};var dp={},Tmt=Cc,Cmt=bh,lL=Tmt&&Cmt(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Emt=fp,kmt=String,Dmt=TypeError,Ox=function(e){if(Emt(e))return e;throw Dmt(kmt(e)+" is not an object")},Amt=Cc,Pmt=oL,Rmt=lL,tg=Ox,Ik=sL,Imt=TypeError,RS=Object.defineProperty,Mmt=Object.getOwnPropertyDescriptor,IS="enumerable",MS="configurable",BS="writable";dp.f=Amt?Rmt?function(t,r,n){if(tg(t),r=Ik(r),tg(n),typeof t=="function"&&r==="prototype"&&"value"in n&&BS in n&&!n[BS]){var c=Mmt(t,r);c&&c[BS]&&(t[r]=n.value,n={configurable:MS in n?n[MS]:c[MS],enumerable:IS in n?n[IS]:c[IS],writable:!1})}return RS(t,r,n)}:RS:function(t,r,n){if(tg(t),r=Ik(r),tg(n),Pmt)try{return RS(t,r,n)}catch(c){}if("get"in n||"set"in n)throw Imt("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var Bmt=Cc,Omt=dp,Nmt=UF,uL=Bmt?function(e,t,r){return Omt.f(e,t,Nmt(1,r))}:function(e,t,r){return e[t]=r,e},hL={exports:{}},J2=Cc,Fmt=Af,cL=Function.prototype,Lmt=J2&&Object.getOwnPropertyDescriptor,y5=Fmt(cL,"name"),_mt=y5&&function(){}.name==="something",jmt=y5&&(!J2||J2&&Lmt(cL,"name").configurable),Umt={EXISTS:y5,PROPER:_mt,CONFIGURABLE:jmt},zmt=Iu,Gmt=al,Z2=g5,Hmt=zmt(Function.toString);Gmt(Z2.inspectSource)||(Z2.inspectSource=function(e){return Hmt(e)});var fL=Z2.inspectSource,$mt=xh,Vmt=al,Mk=$mt.WeakMap,Wmt=Vmt(Mk)&&/native code/.test(String(Mk)),Ymt=v5.exports,Xmt=rL,Bk=Ymt("keys"),dL=function(e){return Bk[e]||(Bk[e]=Xmt(e))},x5={},Qmt=Wmt,pL=xh,Kmt=fp,Jmt=uL,OS=Af,NS=g5,Zmt=dL,qmt=x5,Ok="Object already initialized",q2=pL.TypeError,t0t=pL.WeakMap,hy,bm,cy,e0t=function(e){return cy(e)?bm(e):hy(e,{})},i0t=function(e){return function(t){var r;if(!Kmt(t)||(r=bm(t)).type!==e)throw q2("Incompatible receiver, "+e+" required");return r}};if(Qmt||NS.state){var ql=NS.state||(NS.state=new t0t);ql.get=ql.get,ql.has=ql.has,ql.set=ql.set,hy=function(e,t){if(ql.has(e))throw q2(Ok);return t.facade=e,ql.set(e,t),t},bm=function(e){return ql.get(e)||{}},cy=function(e){return ql.has(e)}}else{var Vf=Zmt("state");qmt[Vf]=!0,hy=function(e,t){if(OS(e,Vf))throw q2(Ok);return t.facade=e,Jmt(e,Vf,t),t},bm=function(e){return OS(e,Vf)?e[Vf]:{}},cy=function(e){return OS(e,Vf)}}var r0t={set:hy,get:bm,has:cy,enforce:e0t,getterFor:i0t},n0t=bh,s0t=al,eg=Af,tC=Cc,a0t=Umt.CONFIGURABLE,o0t=fL,vL=r0t,l0t=vL.enforce,u0t=vL.get,a1=Object.defineProperty,h0t=tC&&!n0t(function(){return a1(function(){},"length",{value:8}).length!==8}),c0t=String(String).split("String"),f0t=hL.exports=function(e,t,r){String(t).slice(0,7)==="Symbol("&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!eg(e,"name")||a0t&&e.name!==t)&&(tC?a1(e,"name",{value:t,configurable:!0}):e.name=t),h0t&&r&&eg(r,"arity")&&e.length!==r.arity&&a1(e,"length",{value:r.arity});try{r&&eg(r,"constructor")&&r.constructor?tC&&a1(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(c){}var n=l0t(e);return eg(n,"source")||(n.source=c0t.join(typeof t=="string"?t:"")),e};Function.prototype.toString=f0t(function(){return s0t(this)&&u0t(this).source||o0t(this)},"toString");var d0t=al,p0t=dp,v0t=hL.exports,m0t=m5,g0t=function(e,t,r,n){n||(n={});var c=n.enumerable,S=n.name!==void 0?n.name:t;if(d0t(r)&&v0t(r,S,n),n.global)c?e[t]=r:m0t(t,r);else{try{n.unsafe?e[t]&&(c=!0):delete e[t]}catch(s){}c?e[t]=r:p0t.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},mL={},y0t=Math.ceil,x0t=Math.floor,b0t=Math.trunc||function(t){var r=+t;return(r>0?x0t:y0t)(r)},S0t=b0t,gL=function(e){var t=+e;return t!==t||t===0?0:S0t(t)},w0t=gL,T0t=Math.max,C0t=Math.min,E0t=function(e,t){var r=w0t(e);return r<0?T0t(r+t,0):C0t(r,t)},k0t=gL,D0t=Math.min,A0t=function(e){return e>0?D0t(k0t(e),9007199254740991):0},P0t=A0t,yL=function(e){return P0t(e.length)},R0t=Bx,I0t=E0t,M0t=yL,Nk=function(e){return function(t,r,n){var c=R0t(t),S=M0t(c),s=I0t(n,S),g;if(e&&r!=r){for(;S>s;)if(g=c[s++],g!=g)return!0}else for(;S>s;s++)if((e||s in c)&&c[s]===r)return e||s||0;return!e&&-1}},B0t={includes:Nk(!0),indexOf:Nk(!1)},O0t=Iu,FS=Af,N0t=Bx,F0t=B0t.indexOf,L0t=x5,Fk=O0t([].push),xL=function(e,t){var r=N0t(e),n=0,c=[],S;for(S in r)!FS(L0t,S)&&FS(r,S)&&Fk(c,S);for(;t.length>n;)FS(r,S=t[n++])&&(~F0t(c,S)||Fk(c,S));return c},b5=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_0t=xL,j0t=b5,U0t=j0t.concat("length","prototype");mL.f=Object.getOwnPropertyNames||function(t){return _0t(t,U0t)};var bL={};bL.f=Object.getOwnPropertySymbols;var z0t=t0,G0t=Iu,H0t=mL,$0t=bL,V0t=Ox,W0t=G0t([].concat),Y0t=z0t("Reflect","ownKeys")||function(t){var r=H0t.f(V0t(t)),n=$0t.f;return n?W0t(r,n(t)):r},Lk=Af,X0t=Y0t,Q0t=f5,K0t=dp,J0t=function(e,t,r){for(var n=X0t(t),c=K0t.f,S=Q0t.f,s=0;s<n.length;s++){var g=n[s];!Lk(e,g)&&!(r&&Lk(r,g))&&c(e,g,S(t,g))}},Z0t=bh,q0t=al,tgt=/#|\.prototype\./,i0=function(e,t){var r=igt[egt(e)];return r==ngt?!0:r==rgt?!1:q0t(t)?Z0t(t):!!t},egt=i0.normalize=function(e){return String(e).replace(tgt,".").toLowerCase()},igt=i0.data={},rgt=i0.NATIVE="N",ngt=i0.POLYFILL="P",sgt=i0,LS=xh,agt=f5.f,ogt=uL,lgt=g0t,ugt=m5,hgt=J0t,cgt=sgt,fgt=function(e,t){var r=e.target,n=e.global,c=e.stat,S,s,g,i,a,v;if(n?s=LS:c?s=LS[r]||ugt(r,{}):s=(LS[r]||{}).prototype,s)for(g in t){if(a=t[g],e.dontCallGetSet?(v=agt(s,g),i=v&&v.value):i=s[g],S=cgt(n?g:r+(c?".":"#")+g,e.forced),!S&&i!==void 0){if(typeof a==typeof i)continue;hgt(a,i)}(e.sham||i&&i.sham)&&ogt(a,"sham",!0),lgt(s,g,a,e)}},_k=Iu,dgt=eL,pgt=d5,vgt=_k(_k.bind),mgt=function(e,t){return dgt(e),t===void 0?e:pgt?vgt(e,t):function(){return e.apply(t,arguments)}},ggt=Mx,ygt=Array.isArray||function(t){return ggt(t)=="Array"},xgt=e0,bgt=xgt("toStringTag"),SL={};SL[bgt]="z";var Sgt=String(SL)==="[object z]",wgt=Sgt,Tgt=al,o1=Mx,Cgt=e0,Egt=Cgt("toStringTag"),kgt=Object,Dgt=o1(function(){return arguments}())=="Arguments",Agt=function(e,t){try{return e[t]}catch(r){}},Pgt=wgt?o1:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=Agt(t=kgt(e),Egt))=="string"?r:Dgt?o1(t):(n=o1(t))=="Object"&&Tgt(t.callee)?"Arguments":n},Rgt=Iu,Igt=bh,wL=al,Mgt=Pgt,Bgt=t0,Ogt=fL,TL=function(){},Ngt=[],CL=Bgt("Reflect","construct"),S5=/^\s*(?:class|function)\b/,Fgt=Rgt(S5.exec),Lgt=!S5.exec(TL),Jp=function(t){if(!wL(t))return!1;try{return CL(TL,Ngt,t),!0}catch(r){return!1}},EL=function(t){if(!wL(t))return!1;switch(Mgt(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Lgt||!!Fgt(S5,Ogt(t))}catch(r){return!0}};EL.sham=!0;var _gt=!CL||Igt(function(){var e;return Jp(Jp.call)||!Jp(Object)||!Jp(function(){e=!0})||e})?EL:Jp,jk=ygt,jgt=_gt,Ugt=fp,zgt=e0,Ggt=zgt("species"),Uk=Array,Hgt=function(e){var t;return jk(e)&&(t=e.constructor,jgt(t)&&(t===Uk||jk(t.prototype))?t=void 0:Ugt(t)&&(t=t[Ggt],t===null&&(t=void 0))),t===void 0?Uk:t},$gt=Hgt,Vgt=function(e,t){return new($gt(e))(t===0?0:t)},Wgt=mgt,Ygt=Iu,Xgt=VF,Qgt=iL,Kgt=yL,Jgt=Vgt,zk=Ygt([].push),Ih=function(e){var t=e==1,r=e==2,n=e==3,c=e==4,S=e==6,s=e==7,g=e==5||S;return function(i,a,v,f){for(var h=Qgt(i),u=Xgt(h),o=Wgt(a,v),d=Kgt(u),p=0,l=f||Jgt,m=t?l(i,d):r||s?l(i,0):void 0,y,x;d>p;p++)if((g||p in u)&&(y=u[p],x=o(y,p,h),e))if(t)m[p]=x;else if(x)switch(e){case 3:return!0;case 5:return y;case 6:return p;case 2:zk(m,y)}else switch(e){case 4:return!1;case 7:zk(m,y)}return S?-1:n||c?c:m}},Zgt={forEach:Ih(0),map:Ih(1),filter:Ih(2),some:Ih(3),every:Ih(4),find:Ih(5),findIndex:Ih(6),filterReject:Ih(7)},kL={},qgt=xL,t1t=b5,e1t=Object.keys||function(t){return qgt(t,t1t)},i1t=Cc,r1t=lL,n1t=dp,s1t=Ox,a1t=Bx,o1t=e1t;kL.f=i1t&&!r1t?Object.defineProperties:function(t,r){s1t(t);for(var n=a1t(r),c=o1t(r),S=c.length,s=0,g;S>s;)n1t.f(t,g=c[s++],n[g]);return t};var l1t=t0,u1t=l1t("document","documentElement"),h1t=Ox,c1t=kL,Gk=b5,f1t=x5,d1t=u1t,p1t=aL,v1t=dL,Hk=">",$k="<",eC="prototype",iC="script",DL=v1t("IE_PROTO"),_S=function(){},AL=function(e){return $k+iC+Hk+e+$k+"/"+iC+Hk},Vk=function(e){e.write(AL("")),e.close();var t=e.parentWindow.Object;return e=null,t},m1t=function(){var e=p1t("iframe"),t="java"+iC+":",r;return e.style.display="none",d1t.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(AL("document.F=Object")),r.close(),r.F},ig,l1=function(){try{ig=new ActiveXObject("htmlfile")}catch(t){}l1=typeof document!="undefined"?document.domain&&ig?Vk(ig):m1t():Vk(ig);for(var e=Gk.length;e--;)delete l1[eC][Gk[e]];return l1()};f1t[DL]=!0;var g1t=Object.create||function(t,r){var n;return t!==null?(_S[eC]=h1t(t),n=new _S,_S[eC]=null,n[DL]=t):n=l1(),r===void 0?n:c1t.f(n,r)},y1t=e0,x1t=g1t,b1t=dp.f,rC=y1t("unscopables"),nC=Array.prototype;nC[rC]==null&&b1t(nC,rC,{configurable:!0,value:x1t(null)});var S1t=function(e){nC[rC][e]=!0},w1t=fgt,T1t=Zgt.find,C1t=S1t,sC="find",PL=!0;sC in[]&&Array(1)[sC](function(){PL=!1});w1t({target:"Array",proto:!0,forced:PL},{find:function(t){return T1t(this,t,arguments.length>1?arguments[1]:void 0)}});C1t(sC);var Uo={GLOBAL:{HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"}},jS=function(t,r){var n;typeof window.CustomEvent=="function"?n=new window.CustomEvent(t,{detail:r}):(n=document.createEvent("Event"),n.initEvent(t,!1,!0,r)),window.dispatchEvent(n)};function E1t(e){e.hide=function(t){jS(Uo.GLOBAL.HIDE,{target:t})},e.rebuild=function(){jS(Uo.GLOBAL.REBUILD)},e.show=function(t){jS(Uo.GLOBAL.SHOW,{target:t})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(t){if(this.mount){var r=t&&t.detail&&t.detail.target&&!0||!1;this.showTooltip({currentTarget:r&&t.detail.target},!0)}},e.prototype.globalHide=function(t){if(this.mount){var r=t&&t.detail&&t.detail.target&&!0||!1;this.hideTooltip({currentTarget:r&&t.detail.target},r)}}}function k1t(e){e.prototype.bindWindowEvents=function(t){window.removeEventListener(Uo.GLOBAL.HIDE,this.globalHide),window.addEventListener(Uo.GLOBAL.HIDE,this.globalHide,!1),window.removeEventListener(Uo.GLOBAL.REBUILD,this.globalRebuild),window.addEventListener(Uo.GLOBAL.REBUILD,this.globalRebuild,!1),window.removeEventListener(Uo.GLOBAL.SHOW,this.globalShow),window.addEventListener(Uo.GLOBAL.SHOW,this.globalShow,!1),t&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(Uo.GLOBAL.HIDE,this.globalHide),window.removeEventListener(Uo.GLOBAL.REBUILD,this.globalRebuild),window.removeEventListener(Uo.GLOBAL.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}var RL=function(t,r){var n=this.state.show,c=this.props.id,S=this.isCapture(r.currentTarget),s=r.currentTarget.getAttribute("currentItem");S||r.stopPropagation(),n&&s==="true"?t||this.hideTooltip(r):(r.currentTarget.setAttribute("currentItem","true"),D1t(r.currentTarget,this.getTargetArray(c)),this.showTooltip(r))},D1t=function(t,r){for(var n=0;n<r.length;n++)t!==r[n]?r[n].setAttribute("currentItem","false"):r[n].setAttribute("currentItem","true")},US={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(t,r,n){if(this.id in t){var c=t[this.id];c[r]=n}else Object.defineProperty(t,this.id,{configurable:!0,value:_v({},r,n)})},get:function(t,r){var n=t[this.id];if(n!==void 0)return n[r]}};function A1t(e){e.prototype.isCustomEvent=function(t){var r=this.state.event;return r||!!t.getAttribute("data-event")},e.prototype.customBindListener=function(t){var r=this,n=this.state,c=n.event,S=n.eventOff,s=t.getAttribute("data-event")||c,g=t.getAttribute("data-event-off")||S;s.split(" ").forEach(function(i){t.removeEventListener(i,US.get(t,i));var a=RL.bind(r,g);US.set(t,i,a),t.addEventListener(i,a,!1)}),g&&g.split(" ").forEach(function(i){t.removeEventListener(i,r.hideTooltip),t.addEventListener(i,r.hideTooltip,!1)})},e.prototype.customUnbindListener=function(t){var r=this.state,n=r.event,c=r.eventOff,S=n||t.getAttribute("data-event"),s=c||t.getAttribute("data-event-off");t.removeEventListener(S,US.get(t,n)),s&&t.removeEventListener(s,this.hideTooltip)}}function P1t(e){e.prototype.isCapture=function(t){return t&&t.getAttribute("data-iscapture")==="true"||this.props.isCapture||!1}}function R1t(e){e.prototype.getEffect=function(t){var r=t.getAttribute("data-effect");return r||this.props.effect||"float"}}var I1t=function(t){var r={};for(var n in t)typeof t[n]=="function"?r[n]=t[n].bind(t):r[n]=t[n];return r},Zp=function(t,r,n){for(var c=r.respectEffect,S=c===void 0?!1:c,s=r.customEvent,g=s===void 0?!1:s,i=this.props.id,a=null,v,f=n.target,h;a===null&&f!==null;)h=f,a=f.getAttribute("data-tip")||null,v=f.getAttribute("data-for")||null,f=f.parentElement;if(f=h||n.target,!(this.isCustomEvent(f)&&!g)){var u=i==null&&v==null||v===i;if(a!=null&&(!S||this.getEffect(f)==="float")&&u){var o=I1t(n);o.currentTarget=f,t(o)}}},Wk=function(t,r){var n={};return t.forEach(function(c){var S=c.getAttribute(r);S&&S.split(" ").forEach(function(s){return n[s]=!0})}),n},Yk=function(){return document.getElementsByTagName("body")[0]};function M1t(e){e.prototype.isBodyMode=function(){return!!this.props.bodyMode},e.prototype.bindBodyListener=function(t){var r=this,n=this.state,c=n.event,S=n.eventOff,s=n.possibleCustomEvents,g=n.possibleCustomEventsOff,i=Yk(),a=Wk(t,"data-event"),v=Wk(t,"data-event-off");c!=null&&(a[c]=!0),S!=null&&(v[S]=!0),s.split(" ").forEach(function(d){return a[d]=!0}),g.split(" ").forEach(function(d){return v[d]=!0}),this.unbindBodyListener(i);var f=this.bodyModeListeners={};c==null&&(f.mouseover=Zp.bind(this,this.showTooltip,{}),f.mousemove=Zp.bind(this,this.updateTooltip,{respectEffect:!0}),f.mouseout=Zp.bind(this,this.hideTooltip,{}));for(var h in a)f[h]=Zp.bind(this,function(d){var p=d.currentTarget.getAttribute("data-event-off")||S;RL.call(r,p,d)},{customEvent:!0});for(var u in v)f[u]=Zp.bind(this,this.hideTooltip,{customEvent:!0});for(var o in f)i.addEventListener(o,f[o])},e.prototype.unbindBodyListener=function(t){t=t||Yk();var r=this.bodyModeListeners;for(var n in r)t.removeEventListener(n,r[n])}}var B1t=function(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver};function O1t(e){e.prototype.bindRemovalTracker=function(){var t=this,r=B1t();if(r!=null){var n=new r(function(c){for(var S=0;S<c.length;S++)for(var s=c[S],g=0;g<s.removedNodes.length;g++){var i=s.removedNodes[g];if(i===t.state.currentTarget){t.hideTooltip();return}}});n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},e.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)}}function Xk(e,t,r,n,c,S,s){var g=aC(r),i=g.width,a=g.height,v=aC(t),f=v.width,h=v.height,u=N1t(e,t,S),o=u.mouseX,d=u.mouseY,p=F1t(S,f,h,i,a),l=L1t(s),m=l.extraOffsetX,y=l.extraOffsetY,x=window.innerWidth,b=window.innerHeight,w=_1t(r),C=w.parentTop,E=w.parentLeft,T=function(O){var j=p[O].l;return o+j+m},k=function(O){var j=p[O].r;return o+j+m},P=function(O){var j=p[O].t;return d+j+y},R=function(O){var j=p[O].b;return d+j+y},M=function(O){return T(O)<0},I=function(O){return k(O)>x},B=function(O){return P(O)<0},D=function(O){return R(O)>b},N=function(O){return M(O)||I(O)||B(O)||D(O)},_=function(O){return!N(O)},G={top:_("top"),bottom:_("bottom"),left:_("left"),right:_("right")};function $(){var F=c.split(",").concat(n,["top","bottom","left","right"]),O=Ypt(F),j;try{for(O.s();!(j=O.n()).done;){var z=j.value;if(G[z])return z}}catch(W){O.e(W)}finally{O.f()}return n}var V=$(),Y=!1,U;return V&&V!==n&&(Y=!0,U=V),Y?{isNewState:!0,newState:{place:U}}:{isNewState:!1,position:{left:parseInt(T(n)-E,10),top:parseInt(P(n)-C,10)}}}var aC=function(t){var r=t.getBoundingClientRect(),n=r.height,c=r.width;return{height:parseInt(n,10),width:parseInt(c,10)}},N1t=function(t,r,n){var c=r.getBoundingClientRect(),S=c.top,s=c.left,g=aC(r),i=g.width,a=g.height;return n==="float"?{mouseX:t.clientX,mouseY:t.clientY}:{mouseX:s+i/2,mouseY:S+a/2}},F1t=function(t,r,n,c,S){var s,g,i,a,v=3,f=2,h=12;return t==="float"?(s={l:-(c/2),r:c/2,t:-(S+v+f),b:-v},i={l:-(c/2),r:c/2,t:v+h,b:S+v+f+h},a={l:-(c+v+f),r:-v,t:-(S/2),b:S/2},g={l:v,r:c+v+f,t:-(S/2),b:S/2}):t==="solid"&&(s={l:-(c/2),r:c/2,t:-(n/2+S+f),b:-(n/2)},i={l:-(c/2),r:c/2,t:n/2,b:n/2+S+f},a={l:-(c+r/2+f),r:-(r/2),t:-(S/2),b:S/2},g={l:r/2,r:c+r/2+f,t:-(S/2),b:S/2}),{top:s,bottom:i,left:a,right:g}},L1t=function(t){var r=0,n=0;Object.prototype.toString.apply(t)==="[object String]"&&(t=JSON.parse(t.toString().replace(/'/g,'"')));for(var c in t)c==="top"?n-=parseInt(t[c],10):c==="bottom"?n+=parseInt(t[c],10):c==="left"?r-=parseInt(t[c],10):c==="right"&&(r+=parseInt(t[c],10));return{extraOffsetX:r,extraOffsetY:n}},_1t=function(t){for(var r=t;r;){var n=window.getComputedStyle(r);if(n.getPropertyValue("transform")!=="none"||n.getPropertyValue("will-change")==="transform")break;r=r.parentElement}var c=r&&r.getBoundingClientRect().top||0,S=r&&r.getBoundingClientRect().left||0;return{parentTop:c,parentLeft:S}};function Qk(e,t,r,n){if(t)return t;if(r!=null)return r;if(r===null)return null;var c=/<br\s*\/?>/;return!n||n==="false"||!c.test(e)?e:e.split(c).map(function(S,s){return ti.createElement("span",{key:s,className:"multi-line"},S)})}function Kk(e){var t={};return Object.keys(e).filter(function(r){return/(^aria-\w+$|^role$)/.test(r)}).forEach(function(r){t[r]=e[r]}),t}function zS(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map(function(r){return e[r]})}function j1t(){return"t"+_pt()}var U1t=`.__react_component_tooltip {
  border-radius: 3px;
  display: inline-block;
  font-size: 13px;
  left: -999em;
  opacity: 0;
  position: fixed;
  pointer-events: none;
  transition: opacity 0.3s ease-out;
  top: -999em;
  visibility: hidden;
  z-index: 999;
}
.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {
  pointer-events: auto;
}
.__react_component_tooltip::before, .__react_component_tooltip::after {
  content: "";
  width: 0;
  height: 0;
  position: absolute;
}
.__react_component_tooltip.show {
  opacity: 0.9;
  margin-top: 0;
  margin-left: 0;
  visibility: visible;
}
.__react_component_tooltip.place-top::before {
  bottom: 0;
  left: 50%;
  margin-left: -11px;
}
.__react_component_tooltip.place-bottom::before {
  top: 0;
  left: 50%;
  margin-left: -11px;
}
.__react_component_tooltip.place-left::before {
  right: 0;
  top: 50%;
  margin-top: -9px;
}
.__react_component_tooltip.place-right::before {
  left: 0;
  top: 50%;
  margin-top: -9px;
}
.__react_component_tooltip .multi-line {
  display: block;
  padding: 2px 0;
  text-align: center;
}`,Jk={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};function z1t(e){return Jk[e]?W2({},Jk[e]):void 0}var G1t="8px 21px",H1t={tooltip:3,arrow:0};function $1t(e,t,r,n,c,S){return V1t(e,W1t(t,r,n),c,S)}function V1t(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:G1t,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H1t,c=t.text,S=t.background,s=t.border,g=t.arrow,i=n.arrow,a=n.tooltip;return`
  	.`.concat(e,` {
	    color: `).concat(c,`;
	    background: `).concat(S,`;
	    border: 1px solid `).concat(s,`;
	    border-radius: `).concat(a,`px;
	    padding: `).concat(r,`;
  	}

  	.`).concat(e,`.place-top {
        margin-top: -10px;
    }
    .`).concat(e,`.place-top::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: 2;
        width: 20px;
        height: 12px;
    }
    .`).concat(e,`.place-top::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(i,`px;
        border: 1px solid `).concat(s,`;
        background-color: `).concat(g,`;
        z-index: -2;
        bottom: -6px;
        left: 50%;
        margin-left: -6px;
        transform: rotate(135deg);
    }

    .`).concat(e,`.place-bottom {
        margin-top: 10px;
    }
    .`).concat(e,`.place-bottom::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: -1;
        width: 18px;
        height: 10px;
    }
    .`).concat(e,`.place-bottom::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(i,`px;
        border: 1px solid `).concat(s,`;
        background-color: `).concat(g,`;
        z-index: -2;
        top: -6px;
        left: 50%;
        margin-left: -6px;
        transform: rotate(45deg);
    }

    .`).concat(e,`.place-left {
        margin-left: -10px;
    }
    .`).concat(e,`.place-left::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: -1;
        width: 10px;
        height: 18px;
    }
    .`).concat(e,`.place-left::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(i,`px;
        border: 1px solid `).concat(s,`;
        background-color: `).concat(g,`;
        z-index: -2;
        right: -6px;
        top: 50%;
        margin-top: -6px;
        transform: rotate(45deg);
    }

    .`).concat(e,`.place-right {
        margin-left: 10px;
    }
    .`).concat(e,`.place-right::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: -1;
        width: 10px;
        height: 18px;
    }
    .`).concat(e,`.place-right::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(i,`px;
        border: 1px solid `).concat(s,`;
        background-color: `).concat(g,`;
        z-index: -2;
        left: -6px;
        top: 50%;
        margin-top: -6px;
        transform: rotate(-135deg);
    }
  `)}function W1t(e,t,r){var n=e.text,c=e.background,S=e.border,s=e.arrow?e.arrow:e.background,g=z1t(t);return n&&(g.text=n),c&&(g.background=c),r&&(S?g.border=S:g.border=t==="light"?"black":"white"),s&&(g.arrow=s),g}var Qa,qp,Ec=E1t(Qa=k1t(Qa=A1t(Qa=P1t(Qa=R1t(Qa=M1t(Qa=O1t(Qa=(qp=function(e){zpt(r,e);var t=Vpt(r);function r(n){var c;return jpt(this,r),c=t.call(this,n),c.state={uuid:n.uuid||j1t(),place:n.place||"top",desiredPlace:n.place||"top",type:n.type||"dark",effect:n.effect||"float",show:!1,border:!1,borderClass:"border",customColors:{},customRadius:{},offset:{},padding:n.padding,extraClass:"",html:!1,delayHide:0,delayShow:0,event:n.event||null,eventOff:n.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:Kk(n),isEmptyTip:!1,disable:!1,possibleCustomEvents:n.possibleCustomEvents||"",possibleCustomEventsOff:n.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},c.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),c.mount=!0,c.delayShowLoop=null,c.delayHideLoop=null,c.delayReshow=null,c.intervalUpdateContent=null,c}return Upt(r,[{key:"bind",value:function(c){var S=this;c.forEach(function(s){S[s]=S[s].bind(S)})}},{key:"componentDidMount",value:function(){var c=this.props;c.insecure;var S=c.resizeHide,s=c.disableInternalStyle;this.mount=!0,this.bindListener(),this.bindWindowEvents(S),s||this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var c=this.tooltipRef;if(c){for(var S=c.parentNode;S.parentNode;)S=S.parentNode;var s;switch(S.constructor.name){case"Document":case"HTMLDocument":case void 0:s=S.head;break;case"ShadowRoot":default:s=S;break}if(!s.querySelector("style[data-react-tooltip]")){var g=document.createElement("style");g.textContent=U1t,g.setAttribute("data-react-tooltip","true"),s.appendChild(g)}}}},{key:"mouseOnToolTip",value:function(){var c=this.state.show;return c&&this.tooltipRef?(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover")):!1}},{key:"getTargetArray",value:function(c){var S=[],s;if(!c)s="[data-tip]:not([data-for])";else{var g=c.replace(/\\/g,"\\\\").replace(/"/g,'\\"');s='[data-tip][data-for="'.concat(g,'"]')}return zS(document.getElementsByTagName("*")).filter(function(i){return i.shadowRoot}).forEach(function(i){S=S.concat(zS(i.shadowRoot.querySelectorAll(s)))}),S.concat(zS(document.querySelectorAll(s)))}},{key:"bindListener",value:function(){var c=this,S=this.props,s=S.id,g=S.globalEventOff,i=S.isCapture,a=this.getTargetArray(s);a.forEach(function(v){v.getAttribute("currentItem")===null&&v.setAttribute("currentItem","false"),c.unbindBasicListener(v),c.isCustomEvent(v)&&c.customUnbindListener(v)}),this.isBodyMode()?this.bindBodyListener(a):a.forEach(function(v){var f=c.isCapture(v),h=c.getEffect(v);if(c.isCustomEvent(v)){c.customBindListener(v);return}v.addEventListener("mouseenter",c.showTooltip,f),v.addEventListener("focus",c.showTooltip,f),h==="float"&&v.addEventListener("mousemove",c.updateTooltip,f),v.addEventListener("mouseleave",c.hideTooltip,f),v.addEventListener("blur",c.hideTooltip,f)}),g&&(window.removeEventListener(g,this.hideTooltip),window.addEventListener(g,this.hideTooltip,i)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var c=this,S=this.props,s=S.id,g=S.globalEventOff;if(this.isBodyMode())this.unbindBodyListener();else{var i=this.getTargetArray(s);i.forEach(function(a){c.unbindBasicListener(a),c.isCustomEvent(a)&&c.customUnbindListener(a)})}g&&window.removeEventListener(g,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(c){var S=this.isCapture(c);c.removeEventListener("mouseenter",this.showTooltip,S),c.removeEventListener("mousemove",this.updateTooltip,S),c.removeEventListener("mouseleave",this.hideTooltip,S)}},{key:"getTooltipContent",value:function(){var c=this.props,S=c.getContent,s=c.children,g;return S&&(Array.isArray(S)?g=S[0]&&S[0](this.state.originTooltip):g=S(this.state.originTooltip)),Qk(this.state.originTooltip,s,g,this.state.isMultiline)}},{key:"isEmptyTip",value:function(c){return typeof c=="string"&&c===""||c===null}},{key:"showTooltip",value:function(c,S){if(this.tooltipRef){if(S){var s=this.getTargetArray(this.props.id),g=s.some(function(E){return E===c.currentTarget});if(!g)return}var i=this.props,a=i.multiline,v=i.getContent,f=c.currentTarget.getAttribute("data-tip"),h=c.currentTarget.getAttribute("data-multiline")||a||!1,u=c instanceof window.FocusEvent||S,o=!0;c.currentTarget.getAttribute("data-scroll-hide")?o=c.currentTarget.getAttribute("data-scroll-hide")==="true":this.props.scrollHide!=null&&(o=this.props.scrollHide),c&&c.currentTarget&&c.currentTarget.setAttribute&&c.currentTarget.setAttribute("aria-describedby",this.props.id||this.state.uuid);var d=c.currentTarget.getAttribute("data-place")||this.props.place||"top",p=u&&"solid"||this.getEffect(c.currentTarget),l=c.currentTarget.getAttribute("data-offset")||this.props.offset||{},m=Xk(c,c.currentTarget,this.tooltipRef,d.split(",")[0],d,p,l);m.position&&this.props.overridePosition&&(m.position=this.props.overridePosition(m.position,c,c.currentTarget,this.tooltipRef,d,d,p,l));var y=m.isNewState?m.newState.place:d.split(",")[0];this.clearTimer();var x=c.currentTarget,b=this.state.show?x.getAttribute("data-delay-update")||this.props.delayUpdate:0,w=this,C=function(){w.setState({originTooltip:f,isMultiline:h,desiredPlace:d,place:y,type:x.getAttribute("data-type")||w.props.type||"dark",customColors:{text:x.getAttribute("data-text-color")||w.props.textColor||null,background:x.getAttribute("data-background-color")||w.props.backgroundColor||null,border:x.getAttribute("data-border-color")||w.props.borderColor||null,arrow:x.getAttribute("data-arrow-color")||w.props.arrowColor||null},customRadius:{tooltip:x.getAttribute("data-tooltip-radius")||w.props.tooltipRadius||"3",arrow:x.getAttribute("data-arrow-radius")||w.props.arrowRadius||"0"},effect:p,offset:l,padding:x.getAttribute("data-padding")||w.props.padding,html:(x.getAttribute("data-html")?x.getAttribute("data-html")==="true":w.props.html)||!1,delayShow:x.getAttribute("data-delay-show")||w.props.delayShow||0,delayHide:x.getAttribute("data-delay-hide")||w.props.delayHide||0,delayUpdate:x.getAttribute("data-delay-update")||w.props.delayUpdate||0,border:(x.getAttribute("data-border")?x.getAttribute("data-border")==="true":w.props.border)||!1,borderClass:x.getAttribute("data-border-class")||w.props.borderClass||"border",extraClass:x.getAttribute("data-class")||w.props.class||w.props.className||"",disable:(x.getAttribute("data-tip-disable")?x.getAttribute("data-tip-disable")==="true":w.props.disable)||!1,currentTarget:x},function(){o&&w.addScrollListener(w.state.currentTarget),w.updateTooltip(c),v&&Array.isArray(v)&&(w.intervalUpdateContent=setInterval(function(){if(w.mount){var T=w.props.getContent,k=Qk(f,"",T[0](),h),P=w.isEmptyTip(k);w.setState({isEmptyTip:P}),w.updatePosition()}},v[1]))})};b?this.delayReshow=setTimeout(C,b):C()}}},{key:"updateTooltip",value:function(c){var S=this,s=this.state,g=s.delayShow,i=s.disable,a=this.props,v=a.afterShow,f=a.disable,h=this.getTooltipContent(),u=c.currentTarget||c.target;if(!this.mouseOnToolTip()&&!(this.isEmptyTip(h)||i||f)){var o=this.state.show?0:parseInt(g,10),d=function(){if(Array.isArray(h)&&h.length>0||h){var l=!S.state.show;S.setState({currentEvent:c,currentTarget:u,show:!0},function(){S.updatePosition(function(){l&&v&&v(c)})})}};this.delayShowLoop&&clearTimeout(this.delayShowLoop),o?this.delayShowLoop=setTimeout(d,o):(this.delayShowLoop=null,d())}}},{key:"listenForTooltipExit",value:function(){var c=this.state.show;c&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){var c=this.state.show;c&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(c,S){var s=this,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isScroll:!1},i=this.state.disable,a=g.isScroll,v=a?0:this.state.delayHide,f=this.props,h=f.afterHide,u=f.disable,o=this.getTooltipContent();if(this.mount&&!(this.isEmptyTip(o)||i||u)){if(S){var d=this.getTargetArray(this.props.id),p=d.some(function(m){return m===c.currentTarget});if(!p||!this.state.show)return}c&&c.currentTarget&&c.currentTarget.removeAttribute&&c.currentTarget.removeAttribute("aria-describedby");var l=function(){var y=s.state.show;if(s.mouseOnToolTip()){s.listenForTooltipExit();return}s.removeListenerForTooltipExit(),s.setState({show:!1},function(){s.removeScrollListener(s.state.currentTarget),y&&h&&h(c)})};this.clearTimer(),v?this.delayHideLoop=setTimeout(l,parseInt(v,10)):l()}}},{key:"hideTooltipOnScroll",value:function(c,S){this.hideTooltip(c,S,{isScroll:!0})}},{key:"addScrollListener",value:function(c){var S=this.isCapture(c);window.addEventListener("scroll",this.hideTooltipOnScroll,S)}},{key:"removeScrollListener",value:function(c){var S=this.isCapture(c);window.removeEventListener("scroll",this.hideTooltipOnScroll,S)}},{key:"updatePosition",value:function(c){var S=this,s=this.state,g=s.currentEvent,i=s.currentTarget,a=s.place,v=s.desiredPlace,f=s.effect,h=s.offset,u=this.tooltipRef,o=Xk(g,i,u,a,v,f,h);if(o.position&&this.props.overridePosition&&(o.position=this.props.overridePosition(o.position,g,i,u,a,v,f,h)),o.isNewState)return this.setState(o.newState,function(){S.updatePosition(c)});c&&typeof c=="function"&&c(),u.style.left=o.position.left+"px",u.style.top=o.position.top+"px"}},{key:"clearTimer",value:function(){this.delayShowLoop&&(clearTimeout(this.delayShowLoop),this.delayShowLoop=null),this.delayHideLoop&&(clearTimeout(this.delayHideLoop),this.delayHideLoop=null),this.delayReshow&&(clearTimeout(this.delayReshow),this.delayReshow=null),this.intervalUpdateContent&&(clearInterval(this.intervalUpdateContent),this.intervalUpdateContent=null)}},{key:"hasCustomColors",value:function(){var c=this;return!!(Object.keys(this.state.customColors).find(function(S){return S!=="border"&&c.state.customColors[S]})||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var c=this,S=this.state,s=S.extraClass,g=S.html,i=S.ariaProps,a=S.disable,v=S.uuid,f=this.getTooltipContent(),h=this.isEmptyTip(f),u=this.props.disableInternalStyle?"":$1t(this.state.uuid,this.state.customColors,this.state.type,this.state.border,this.state.padding,this.state.customRadius),o="__react_component_tooltip"+" ".concat(this.state.uuid)+(this.state.show&&!a&&!h?" show":"")+(this.state.border?" "+this.state.borderClass:"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),d=this.props.wrapper;r.supportedWrappers.indexOf(d)<0&&(d=r.defaultProps.wrapper);var p=[o,s].filter(Boolean).join(" ");if(g){var l="".concat(f).concat(u?`
<style aria-hidden="true">`.concat(u,"</style>"):"");return ti.createElement(d,oy({className:"".concat(p),id:this.props.id||v,ref:function(y){return c.tooltipRef=y}},i,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:l}}))}else return ti.createElement(d,oy({className:"".concat(p),id:this.props.id||v},i,{ref:function(y){return c.tooltipRef=y},"data-id":"tooltip"}),u&&ti.createElement("style",{dangerouslySetInnerHTML:{__html:u},"aria-hidden":"true"}),f)}}],[{key:"propTypes",get:function(){return{uuid:Wt.string,children:Wt.any,place:Wt.string,type:Wt.string,effect:Wt.string,offset:Wt.object,padding:Wt.string,multiline:Wt.bool,border:Wt.bool,borderClass:Wt.string,textColor:Wt.string,backgroundColor:Wt.string,borderColor:Wt.string,arrowColor:Wt.string,arrowRadius:Wt.string,tooltipRadius:Wt.string,insecure:Wt.bool,class:Wt.string,className:Wt.string,id:Wt.string,html:Wt.bool,delayHide:Wt.number,delayUpdate:Wt.number,delayShow:Wt.number,event:Wt.string,eventOff:Wt.string,isCapture:Wt.bool,globalEventOff:Wt.string,getContent:Wt.any,afterShow:Wt.func,afterHide:Wt.func,overridePosition:Wt.func,disable:Wt.bool,scrollHide:Wt.bool,resizeHide:Wt.bool,wrapper:Wt.string,bodyMode:Wt.bool,possibleCustomEvents:Wt.string,possibleCustomEventsOff:Wt.string,clickable:Wt.bool,disableInternalStyle:Wt.bool}}},{key:"getDerivedStateFromProps",value:function(c,S){var s=S.ariaProps,g=Kk(c),i=Object.keys(g).some(function(a){return g[a]!==s[a]});return i?W2(W2({},S),{},{ariaProps:g}):null}}]),r}(ti.Component),_v(qp,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),_v(qp,"supportedWrappers",["div","span"]),_v(qp,"displayName","ReactTooltip"),qp))||Qa)||Qa)||Qa)||Qa)||Qa)||Qa)||Qa;const Y1t="_sidebar_l4eyq_1",X1t="_logo_l4eyq_17",Q1t="_bigButton_l4eyq_22",K1t="_bigButtonInside_l4eyq_26",J1t="_bigIcon_l4eyq_39",Z1t="_plusButton_l4eyq_44",q1t="_plusIcon_l4eyq_65",tyt="_pageButton_l4eyq_70",eyt="_pageSelected_l4eyq_95",iyt="_pageIcon_l4eyq_100",ryt="_pageText_l4eyq_106",nyt="_bottomRow_l4eyq_112",syt="_bottomRowMargin_l4eyq_121",ayt="_smallButton_l4eyq_125",oyt="_bottomIcon_l4eyq_137",lyt="_topRightRow_l4eyq_142",uyt="_profileContainer_l4eyq_151",hyt="_profileRow_l4eyq_168",cyt="_profileBlook_l4eyq_175",fyt="_profileDropdownIcon_l4eyq_180",dyt="_profileDropdownMenu_l4eyq_185",pyt="_profileDropdownOption_l4eyq_212",vyt="_profileDropdownOptionIcon_l4eyq_234",myt="_mNavBar_l4eyq_242",gyt="_mLogo_l4eyq_261",yyt="_mHamburgerIcon_l4eyq_265",xyt="_mSidebar_l4eyq_275",byt="_mSidebarOpen_l4eyq_294",Syt="_modalTransition_l4eyq_298",wyt="_modalOpen_l4eyq_304",Tyt="_closeIcon_l4eyq_308",Cyt="_noMobile_l4eyq_328",Hi={sidebar:Y1t,logo:X1t,bigButton:Q1t,bigButtonInside:K1t,bigIcon:J1t,plusButton:Z1t,plusIcon:q1t,pageButton:tyt,pageSelected:eyt,pageIcon:iyt,pageText:ryt,bottomRow:nyt,bottomRowMargin:syt,smallButton:ayt,bottomIcon:oyt,topRightRow:lyt,profileContainer:uyt,profileRow:hyt,profileBlook:cyt,profileDropdownIcon:fyt,profileDropdownMenu:dyt,profileDropdownOption:pyt,profileDropdownOptionIcon:vyt,mNavBar:myt,mLogo:gyt,mHamburgerIcon:yyt,mSidebar:xyt,mSidebarOpen:byt,modalTransition:Syt,modalOpen:wyt,closeIcon:Tyt,noMobile:Cyt},Eyt="_modal_3myg9_1",kyt="_container_3myg9_6",Dyt="_containerShown_3myg9_20",Ayt="_header_3myg9_25",Pyt="_newsIcon_3myg9_45",Ryt="_headerText_3myg9_49",Iyt="_newsText_3myg9_55",Myt="_closeIcon_3myg9_61",Byt="_postsContainer_3myg9_73",ju={modal:Eyt,container:kyt,containerShown:Dyt,header:Ayt,newsIcon:Pyt,headerText:Ryt,newsText:Iyt,closeIcon:Myt,postsContainer:Byt},Oyt="_cardContainer_1clp2_1",Nyt="_tagText_1clp2_13",Fyt="_header_1clp2_18",Lyt="_image_1clp2_25",_yt="_text_1clp2_30",jyt="_link_1clp2_35",Uyt="_dateRow_1clp2_40",zyt="_dateIcon_1clp2_48",Uu={cardContainer:Oyt,tagText:Nyt,header:Fyt,image:Lyt,text:_yt,link:jyt,dateRow:Uyt,dateIcon:zyt},IL=({image:e,imageAlt:t,header:r,tag:n,text:c,link:S,date:s})=>A.jsxs("div",{className:Uu.cardContainer,children:[A.jsx("div",{className:Uu.tagText,children:n}),A.jsx("div",{className:Uu.header,children:r}),e?A.jsx("img",{src:e,alt:t,className:Uu.image,draggable:!1}):null,A.jsx("div",{className:Uu.text,children:c.split("***").map((g,i)=>A.jsxs("div",{children:[g,A.jsx("br",{})]},i))}),S&&(S.startsWith("http")?A.jsx("a",{className:Uu.link,href:S,children:"Learn more..."}):A.jsx(ss,{className:Uu.link,to:S,children:"Learn more..."})),A.jsxs("div",{className:Uu.dateRow,children:[A.jsx("i",{className:Ct("far fa-calendar-alt",Uu.dateIcon)}),ui(s).fromNow()]})]});IL.propTypes={image:Wt.string,imageAlt:Wt.string,header:Wt.string,tag:Wt.string,text:Wt.string,link:Wt.string,date:Wt.string};class ML extends ti.Component{constructor(t){super(t),this.state={posts:[]},this.here=!0,this.loaded=!1}componentDidUpdate(){!this.loaded&&this.props.isShown&&(this.loaded=!0,vi.get("/api/news").then(t=>{const r=[...t.data].filter(n=>n.date);r.sort((n,c)=>ui(c.date).diff(n.date)),this.here&&this.setState({posts:r})}).catch(t=>{Ue.logError(t)}))}componentWillUnmount(){this.here=!1}render(){return A.jsxs(A.Fragment,{children:[this.props.isShown?A.jsx("div",{className:Ct(He.modal,ju.modal),role:"button",tabIndex:0,onClick:this.props.onClose}):null,A.jsxs("div",{className:Ct(ju.container,{[ju.containerShown]:this.props.isShown}),children:[A.jsxs("div",{className:ju.header,children:[A.jsx("i",{className:Ct("far fa-newspaper",ju.newsIcon)}),A.jsx("div",{className:ju.headerText,children:"Blooket"}),A.jsx("div",{className:ju.newsText,children:"News"}),A.jsx("i",{className:Ct("fas fa-times",ju.closeIcon),role:"button",tabIndex:0,onClick:this.props.onClose})]}),A.jsx("div",{className:ju.postsContainer,children:this.state.posts.map(t=>A.jsx(IL,{tag:t.tag,header:t.header,image:t.image,imageAlt:t.iamgeAlt,text:t.text,link:t.link,date:t.date},t.header))})]})]})}}ML.propTypes={isShown:Wt.bool,onClose:Wt.func};const BL="bl.cs",OL=()=>parseInt(localStorage.getItem(BL)||"0"),Gyt=e=>{const t=e.toString();localStorage.setItem(BL,t)},dn={Play:{icon:"fas fa-play",link:`${nr.play}/play`,realLink:!0},Discover:{icon:"fas fa-compass",link:"/discover"},"Set Creator":{icon:"fas fa-edit",link:"/create"},"My Sets":{icon:"fas fa-list",link:"/my-sets"},Favorites:{icon:"fas fa-star",link:"/favorites"},Homework:{icon:"fas fa-file-alt",link:"/homeworks",noMobile:!0},History:{icon:"fas fa-history",link:"/history",noMobile:!0},"Group Plan":{icon:"fas fa-users",link:"/group-plan",showIf:e=>e.groupId},Market:{icon:"fas fa-store",link:"/market"},Blooks:{icon:"fas fa-suitcase",link:"/blooks"},Stats:{icon:"fas fa-chart-bar",link:"/stats"},Settings:{icon:"fas fa-cog",link:"/settings"},Logout:{icon:"fas fa-sign-out-alt",link:"https://id.blooket.com/logout",realLink:!0}},Hyt={big:"Play",medium:["Stats","Blooks","Market","Discover","Set Creator","My Sets","Favorites","Group Plan"],small:["History","Homework","Settings"]},Zk={big:"Set Creator",medium:["Discover","My Sets","Favorites","History","Homework","Play","Group Plan","Settings"],small:["Stats","Blooks","Market"]},qs=({page:e,user:t,topContent:r,newNews:n,afterNews:c})=>{const[S,s]=zi.useState(!1),[g,i]=zi.useState(!1),a=t||{};let v=null;return a.dashboardLayout==="Student"?v=Hyt:a.dashboardLayout==="Teacher"?v=Zk:a.name&&(v=Zk,a.dashboardLayout="Teacher"),zi.useEffect(()=>{oi(bn,null,function*(){const f=yield Vr.me();Gyt(f.currentSeason)})},[]),A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:Hi.sidebar,children:[A.jsx("img",{src:Re.basic.blooket,alt:"Blooket",className:Hi.logo}),v&&A.jsxs(A.Fragment,{children:[A.jsx(Ti,{color:"#0bc2cf",linkTo:dn[v.big].link,outsideClass:Hi.bigButton,children:A.jsxs("div",{className:Hi.bigButtonInside,children:[A.jsx("i",{className:Ct(dn[v.big].icon,Hi.bigIcon)}),v.big==="Set Creator"?"Create":v.big]})}),v.medium.filter(f=>!dn[f].showIf||dn[f].showIf(a)).map(f=>dn[f].realLink?A.jsxs("a",{href:dn[f].link,className:Ct(Hi.pageButton,{[Hi.pageSelected]:e===f,[Hi.noMobile]:dn[f].noMobile}),children:[A.jsx("i",{className:Ct(Hi.pageIcon,dn[f].icon)}),A.jsx("div",{className:Hi.pageText,children:f})]},f):A.jsxs(ss,{to:dn[f].link,className:Ct(Hi.pageButton,{[Hi.pageSelected]:e===f,[Hi.noMobile]:dn[f].noMobile}),children:[A.jsx("i",{className:Ct(Hi.pageIcon,dn[f].icon)}),A.jsx("div",{className:Hi.pageText,children:f})]},f)),["Teacher","Student"].includes(a.dashboardLayout)?A.jsxs("div",{className:Hi.bottomRow,children:[A.jsx(Ec,{place:"top",effect:"solid",className:He.tooltip}),v.small.map(f=>A.jsx(ss,{to:dn[f].link,"data-tip":f,className:Ct(Hi.smallButton,{[Hi.noMobile]:dn[f].noMobile}),children:A.jsx("i",{className:Ct(Hi.bottomIcon,dn[f].icon)})},f)),A.jsx("div",{className:Hi.smallButton,"data-tip":"News",role:"button",tabIndex:0,onClick:()=>s(!0),children:A.jsx("i",{className:Ct("far fa-newspaper",Hi.bottomIcon)})})]}):null]}),!a.hasPlus&&a.dashboardLayout==="Teacher"?A.jsxs(ss,{className:Hi.plusButton,to:"/upgrade",children:[A.jsx("i",{className:Ct("fas fa-plus",Hi.plusIcon)}),"Upgrade to Plus"]}):null]}),A.jsxs("div",{className:Hi.topRightRow,children:[r,A.jsxs("div",{className:Hi.profileContainer,role:"button",tabIndex:0,children:[A.jsxs("div",{className:Hi.profileRow,children:[A.jsx(xn,{name:a.blook||"Chick",className:Hi.profileBlook}),a.name||""]}),A.jsx("i",{className:Ct("fas fa-angle-down",Hi.profileDropdownIcon)}),A.jsxs("div",{className:Hi.profileDropdownMenu,children:[A.jsxs(ss,{className:Hi.profileDropdownOption,to:"/settings",children:[A.jsx("i",{className:Ct("fas fa-cog",Hi.profileDropdownOptionIcon)}),"Settings"]}),A.jsxs("a",{className:Hi.profileDropdownOption,href:"https://id.blooket.com/logout",children:[A.jsx("i",{className:Ct("fas fa-sign-out-alt",Hi.profileDropdownOptionIcon)}),"Logout"]})]})]})]}),A.jsxs("div",{className:Hi.mNavBar,children:[A.jsx("img",{src:Re.basic.blooket,alt:"Blooket",className:Hi.mLogo}),A.jsx("i",{className:Ct(Hi.mHamburgerIcon,"fas fa-bars"),role:"button",tabIndex:0,onClick:()=>i(!0)})]}),A.jsx("div",{className:Ct(He.modal,Hi.modalTransition,{[Hi.modalOpen]:g})}),A.jsxs("div",{className:Ct(Hi.mSidebar,{[Hi.mSidebarOpen]:g}),children:[A.jsx("i",{className:Ct(Hi.closeIcon,"fas fa-times"),role:"button",tabIndex:0,onClick:()=>i(!1)}),v&&A.jsxs(A.Fragment,{children:[A.jsx(Ti,{color:"#0bc2cf",linkTo:dn[v.big].link,outsideClass:Hi.bigButton,children:A.jsxs("div",{className:Hi.bigButtonInside,children:[A.jsx("i",{className:Ct(dn[v.big].icon,Hi.bigIcon)}),v.big==="Set Creator"?"Create":v.big]})}),[...v.medium,"Logout"].filter(f=>!dn[f].showIf||dn[f].showIf(a)).map(f=>dn[f].realLink?A.jsxs("a",{href:dn[f].link,className:Ct(Hi.pageButton,{[Hi.pageSelected]:e===f,[Hi.noMobile]:dn[f].noMobile}),children:[A.jsx("i",{className:Ct(Hi.pageIcon,dn[f].icon)}),A.jsx("div",{className:Hi.pageText,children:f})]},f):A.jsxs(ss,{to:dn[f].link,className:Ct(Hi.pageButton,{[Hi.pageSelected]:e===f,[Hi.noMobile]:dn[f].noMobile}),children:[A.jsx("i",{className:Ct(Hi.pageIcon,dn[f].icon)}),A.jsx("div",{className:Hi.pageText,children:f})]},f)),A.jsxs("div",{className:Ct(Hi.bottomRow,Hi.bottomRowMargin),children:[v.small.map(f=>A.jsx(ss,{to:dn[f].link,className:Ct(Hi.smallButton,{[Hi.noMobile]:dn[f].noMobile}),children:A.jsx("i",{className:Ct(Hi.bottomIcon,dn[f].icon)})},f)),A.jsx("div",{className:Hi.smallButton,role:"button",tabIndex:0,onClick:()=>s(!0),children:A.jsx("i",{className:Ct("far fa-newspaper",Hi.bottomIcon)})})]})]})]}),A.jsx(ML,{isShown:S||n,onClose:()=>{n&&c(),s(!1)}})]})};qs.propTypes={page:Wt.string,user:Wt.object,topContent:Wt.element,newNews:Wt.bool,afterNews:Wt.func};var NL={},FL={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Dm,function(){function r(n,c){return function(S,s,g,i){S[n]?S[n](s,g,i):S[c]&&S[c]("on"+s,g)}}return{add:r("addEventListener","attachEvent"),remove:r("removeEventListener","detachEvent")}})})(FL);var $yt=FL.exports,Vyt="Expected a function",qk=NaN,Wyt="[object Symbol]",Yyt=/^\s+|\s+$/g,Xyt=/^[-+]0x[0-9a-f]+$/i,Qyt=/^0b[01]+$/i,Kyt=/^0o[0-7]+$/i,Jyt=parseInt,Zyt=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,qyt=typeof self=="object"&&self&&self.Object===Object&&self,txt=Zyt||qyt||Function("return this")(),ext=Object.prototype,ixt=ext.toString,rxt=Math.max,nxt=Math.min,GS=function(){return txt.Date.now()};function sxt(e,t,r){var n,c,S,s,g,i,a=0,v=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Vyt);t=tD(t)||0,oC(r)&&(v=!!r.leading,f="maxWait"in r,S=f?rxt(tD(r.maxWait)||0,t):S,h="trailing"in r?!!r.trailing:h);function u(w){var C=n,E=c;return n=c=void 0,a=w,s=e.apply(E,C),s}function o(w){return a=w,g=setTimeout(l,t),v?u(w):s}function d(w){var C=w-i,E=w-a,T=t-C;return f?nxt(T,S-E):T}function p(w){var C=w-i,E=w-a;return i===void 0||C>=t||C<0||f&&E>=S}function l(){var w=GS();if(p(w))return m(w);g=setTimeout(l,d(w))}function m(w){return g=void 0,h&&n?u(w):(n=c=void 0,s)}function y(){g!==void 0&&clearTimeout(g),a=0,n=i=c=g=void 0}function x(){return g===void 0?s:m(GS())}function b(){var w=GS(),C=p(w);if(n=arguments,c=this,i=w,C){if(g===void 0)return o(i);if(f)return g=setTimeout(l,t),u(i)}return g===void 0&&(g=setTimeout(l,t)),s}return b.cancel=y,b.flush=x,b}function oC(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function axt(e){return!!e&&typeof e=="object"}function oxt(e){return typeof e=="symbol"||axt(e)&&ixt.call(e)==Wyt}function tD(e){if(typeof e=="number")return e;if(oxt(e))return qk;if(oC(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=oC(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Yyt,"");var r=Qyt.test(e);return r||Kyt.test(e)?Jyt(e.slice(2),r?2:8):Xyt.test(e)?qk:+e}var lxt=sxt,LL="Expected a function",eD=NaN,uxt="[object Symbol]",hxt=/^\s+|\s+$/g,cxt=/^[-+]0x[0-9a-f]+$/i,fxt=/^0b[01]+$/i,dxt=/^0o[0-7]+$/i,pxt=parseInt,vxt=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,mxt=typeof self=="object"&&self&&self.Object===Object&&self,gxt=vxt||mxt||Function("return this")(),yxt=Object.prototype,xxt=yxt.toString,bxt=Math.max,Sxt=Math.min,HS=function(){return gxt.Date.now()};function wxt(e,t,r){var n,c,S,s,g,i,a=0,v=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(LL);t=iD(t)||0,fy(r)&&(v=!!r.leading,f="maxWait"in r,S=f?bxt(iD(r.maxWait)||0,t):S,h="trailing"in r?!!r.trailing:h);function u(w){var C=n,E=c;return n=c=void 0,a=w,s=e.apply(E,C),s}function o(w){return a=w,g=setTimeout(l,t),v?u(w):s}function d(w){var C=w-i,E=w-a,T=t-C;return f?Sxt(T,S-E):T}function p(w){var C=w-i,E=w-a;return i===void 0||C>=t||C<0||f&&E>=S}function l(){var w=HS();if(p(w))return m(w);g=setTimeout(l,d(w))}function m(w){return g=void 0,h&&n?u(w):(n=c=void 0,s)}function y(){g!==void 0&&clearTimeout(g),a=0,n=i=c=g=void 0}function x(){return g===void 0?s:m(HS())}function b(){var w=HS(),C=p(w);if(n=arguments,c=this,i=w,C){if(g===void 0)return o(i);if(f)return g=setTimeout(l,t),u(i)}return g===void 0&&(g=setTimeout(l,t)),s}return b.cancel=y,b.flush=x,b}function Txt(e,t,r){var n=!0,c=!0;if(typeof e!="function")throw new TypeError(LL);return fy(r)&&(n="leading"in r?!!r.leading:n,c="trailing"in r?!!r.trailing:c),wxt(e,t,{leading:n,maxWait:t,trailing:c})}function fy(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Cxt(e){return!!e&&typeof e=="object"}function Ext(e){return typeof e=="symbol"||Cxt(e)&&xxt.call(e)==uxt}function iD(e){if(typeof e=="number")return e;if(Ext(e))return eD;if(fy(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=fy(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(hxt,"");var r=fxt.test(e);return r||dxt.test(e)?pxt(e.slice(2),r?2:8):cxt.test(e)?eD:+e}var kxt=Txt,w5={};Object.defineProperty(w5,"__esModule",{value:!0});var $S=function(t,r){return typeof getComputedStyle!="undefined"?getComputedStyle(t,null).getPropertyValue(r):t.style[r]},Dxt=function(t){return $S(t,"overflow")+$S(t,"overflow-y")+$S(t,"overflow-x")},Axt=function(t){if(!(t instanceof HTMLElement))return window;for(var r=t;r&&!(r===document.body||r===document.documentElement||!r.parentNode);){if(/(scroll|auto)/.test(Dxt(r)))return r;r=r.parentNode}return window};w5.default=Axt;var T5={},C5={};Object.defineProperty(C5,"__esModule",{value:!0});C5.default=Pxt;function Pxt(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}Object.defineProperty(T5,"__esModule",{value:!0});T5.default=_L;var Rxt=C5,rD=Ixt(Rxt);function Ixt(e){return e&&e.__esModule?e:{default:e}}var Mxt=function(t){return t.offsetParent===null};function _L(e,t,r){if(Mxt(e))return!1;var n=void 0,c=void 0,S=void 0,s=void 0;if(typeof t=="undefined"||t===window)n=window.pageYOffset,S=window.pageXOffset,c=n+window.innerHeight,s=S+window.innerWidth;else{if(!_L(t,window,r))return!1;var g=(0,rD.default)(t);n=g.top,S=g.left,c=n+t.offsetHeight,s=S+t.offsetWidth}var i=(0,rD.default)(e);return n<=i.top+e.offsetHeight+r.top&&c>=i.top-r.bottom&&S<=i.left+e.offsetWidth+r.left&&s>=i.left-r.right}Object.defineProperty(NL,"__esModule",{value:!0});var Bxt=function(){function e(t,r){for(var n=0;n<r.length;n++){var c=r[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),lC=zi,Oxt=pp(lC),Nxt=Jd,ks=pp(Nxt),nD=n7,Wf=$yt,Fxt=lxt,Lxt=pp(Fxt),_xt=kxt,jxt=pp(_xt),Uxt=w5,zxt=pp(Uxt),Gxt=T5,Hxt=pp(Gxt);function pp(e){return e&&e.__esModule?e:{default:e}}function $xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vxt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Wxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E5=function(e){Wxt(t,e);function t(r){$xt(this,t);var n=Vxt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return n.lazyLoadHandler=n.lazyLoadHandler.bind(n),r.throttle>0&&(r.debounce?n.lazyLoadHandler=(0,Lxt.default)(n.lazyLoadHandler,r.throttle):n.lazyLoadHandler=(0,jxt.default)(n.lazyLoadHandler,r.throttle)),n.state={visible:!1},n}return Bxt(t,[{key:"componentDidMount",value:function(){this._mounted=!0;var n=this.getEventNode();this.lazyLoadHandler(),this.lazyLoadHandler.flush&&this.lazyLoadHandler.flush(),(0,Wf.add)(window,"resize",this.lazyLoadHandler),(0,Wf.add)(n,"scroll",this.lazyLoadHandler),n!==window&&(0,Wf.add)(window,"scroll",this.lazyLoadHandler)}},{key:"componentDidUpdate",value:function(){this.state.visible||this.lazyLoadHandler()}},{key:"shouldComponentUpdate",value:function(n,c){return c.visible}},{key:"componentWillUnmount",value:function(){this._mounted=!1,this.lazyLoadHandler.cancel&&this.lazyLoadHandler.cancel(),this.detachListeners()}},{key:"getEventNode",value:function(){return(0,zxt.default)((0,nD.findDOMNode)(this))}},{key:"getOffset",value:function(){var n=this.props,c=n.offset,S=n.offsetVertical,s=n.offsetHorizontal,g=n.offsetTop,i=n.offsetBottom,a=n.offsetLeft,v=n.offsetRight,f=n.threshold,h=f||c,u=S||h,o=s||h;return{top:g||u,bottom:i||u,left:a||o,right:v||o}}},{key:"lazyLoadHandler",value:function(){if(this._mounted){var n=this.getOffset(),c=(0,nD.findDOMNode)(this),S=this.getEventNode();if((0,Hxt.default)(c,S,n)){var s=this.props.onContentVisible;this.setState({visible:!0},function(){s&&s()}),this.detachListeners()}}}},{key:"detachListeners",value:function(){var n=this.getEventNode();(0,Wf.remove)(window,"resize",this.lazyLoadHandler),(0,Wf.remove)(n,"scroll",this.lazyLoadHandler),n!==window&&(0,Wf.remove)(window,"scroll",this.lazyLoadHandler)}},{key:"render",value:function(){var n=this.props,c=n.children,S=n.className,s=n.height,g=n.width,i=this.state.visible,a={height:s,width:g},v="LazyLoad"+(i?" is-visible":"")+(S?" "+S:"");return Oxt.default.createElement(this.props.elementType,{className:v,style:a},i&&lC.Children.only(c))}}]),t}(lC.Component),Ul=NL.default=E5;E5.propTypes={children:ks.default.node.isRequired,className:ks.default.string,debounce:ks.default.bool,elementType:ks.default.string,height:ks.default.oneOfType([ks.default.string,ks.default.number]),offset:ks.default.number,offsetBottom:ks.default.number,offsetHorizontal:ks.default.number,offsetLeft:ks.default.number,offsetRight:ks.default.number,offsetTop:ks.default.number,offsetVertical:ks.default.number,threshold:ks.default.number,throttle:ks.default.number,width:ks.default.oneOfType([ks.default.string,ks.default.number]),onContentVisible:ks.default.func};E5.defaultProps={elementType:"div",debounce:!0,offset:0,offsetBottom:0,offsetHorizontal:0,offsetLeft:0,offsetRight:0,offsetTop:0,offsetVertical:0,throttle:250};const Yxt="_setContainer_18551_1",Xxt="_setImageFiller_18551_25",Qxt="_coverImage_18551_33",Kxt="_setFillerContainer_18551_42",Jxt="_setFillerText_18551_53",Zxt="_plusContainer_18551_64",qxt="_verifiedContainer_18551_63",tbt="_verifiedIcon_18551_87",ebt="_setQuestionsContainer_18551_93",ibt="_setQuestionsText_18551_101",rbt="_setHeader_18551_110",nbt="_setSpacer_18551_120",sbt="_setPlays_18551_126",abt="_setAuthorContainer_18551_137",obt="_authorIcon_18551_145",lbt="_setAuthorText_18551_151",ubt="_setAuthorIcon_18551_158",Ds={setContainer:Yxt,setImageFiller:Xxt,coverImage:Qxt,setFillerContainer:Kxt,setFillerText:Jxt,plusContainer:Zxt,verifiedContainer:qxt,verifiedIcon:tbt,setQuestionsContainer:ebt,setQuestionsText:ibt,setHeader:rbt,setSpacer:nbt,setPlays:sbt,setAuthorContainer:abt,authorIcon:obt,setAuthorText:lbt,setAuthorIcon:ubt},Nx=({set:e,notLazy:t})=>{const[r,n]=zi.useState(!1);return A.jsxs(ss,{to:`/set/${e._id}`,className:Ds.setContainer,children:[e.coverImage&&!r?t?A.jsx("div",{className:Ds.setImageFiller,children:A.jsx("img",{src:Dn(e.coverImage.url),alt:"Cover",className:Ds.coverImage,onError:()=>n(!0),draggable:!1})}):A.jsx("div",{className:Ds.setImageFiller,children:A.jsx(Ul,{height:180,children:A.jsx("img",{src:Dn(e.coverImage.url),alt:"Cover",className:Ds.coverImage,onError:()=>n(!0),draggable:!1})})}):A.jsx("div",{className:Ds.setFillerContainer,children:A.jsx("div",{className:Ds.setFillerText,children:"Blooket"})}),e.plusOnly?A.jsxs("div",{className:Ds.plusContainer,children:[A.jsx("i",{className:Ct("fas fa-plus",Ds.verifiedIcon)}),"Plus Only"]}):e.verified?A.jsxs("div",{className:Ds.verifiedContainer,children:[A.jsx("i",{className:Ct("fas fa-check-square",Ds.verifiedIcon)}),"Teacher Verified"]}):null,A.jsx("div",{className:Ds.setQuestionsContainer,children:A.jsx("div",{className:Ds.setQuestionsText,children:`${Ji(e.numQuestions)} ${e.numQuestions===1?"Question":"Questions"}`})}),A.jsx("div",{className:Ds.setHeader,children:e.title}),A.jsx("div",{className:Ds.setSpacer}),A.jsx("div",{className:Ds.setPlays,children:`${Ji(e.playCount)} ${e.playCount===1?"Play":"Plays"}`}),A.jsxs("div",{className:Ds.setAuthorContainer,children:[A.jsx("i",{className:Ct(Ds.authorIcon,"fas fa-user")}),A.jsx("div",{className:Ds.setAuthorText,children:e.author}),e.author==="Blooket"?A.jsx("img",{src:Re.basic.blooket32,alt:"Blooket",className:Ds.setAuthorIcon,draggable:!1}):null]})]},e._id)};Nx.propTypes={set:Wt.object,notLazy:Wt.bool};const hbt="_wrapper_t61j9_1",cbt="_row_t61j9_6",fbt="_leftArrow_t61j9_23",dbt="_rightArrow_t61j9_22",pbt="_arrowIcon_t61j9_50",Yf={wrapper:hbt,row:cbt,leftArrow:fbt,rightArrow:dbt,arrowIcon:pbt},vbt=()=>{if(typeof window!="undefined")return window.requestAnimationFrame},jL=vbt()||function(e){window.setTimeout(e,1e3/60,new Date().getTime())},mbt={currentPosition:0,startPosition:0,targetPosition:0,start:0,progress:0,delta:0,duration:0,percent:0,containerId:""},jv={};let uC=!1;const gbt=e=>document.getElementById(e).scrollLeft||0,ybt=e=>{const t=jv[e];t.startPosition=t.currentPosition||gbt(e),t.start=0},xbt=200,UL=(e,t)=>{const r=jv[e];r.start||(r.start=t,uC=!0),r.progress=t-r.start,r.percent=r.duration===0?1:Math.min(1,r.progress/r.duration),r.currentPosition=r.startPosition+Math.ceil(r.delta*r.percent);const n=document.getElementById(r.containerId);if(n&&n.scrollTo(r.currentPosition,0),r.percent<1){const c=UL.bind(null,e);jL.call(window,c)}else uC=!1,r.start=0,r.duration=0},bbt=(e,t)=>{jv[t]||(jv[t]=JSON.parse(JSON.stringify(mbt)));const r=jv[t];if(ybt(t),r.containerId=t,r.targetPosition=e,r.startPosition===r.targetPosition||(r.delta=Math.round(r.targetPosition-r.startPosition),r.duration=Math.round(Math.abs(r.delta/300)*xbt),uC))return;const n=UL.bind(null,t);jL.call(window,n)};class hC extends ti.Component{constructor(t){super(t),this.state={maxScroll:0,scrollLeft:0},this.getNumRows=this.getNumRows.bind(this),this.findMaxScroll=this.findMaxScroll.bind(this),this.scrollWithArrow=this.scrollWithArrow.bind(this)}componentDidMount(){const t=document.getElementById(this.props.id);this.findMaxScroll(),window.addEventListener("resize",this.findMaxScroll);let r=!1,n,c;t.addEventListener("mousedown",S=>{r=!0,n=S.pageX-t.offsetLeft,c=t.scrollLeft,t.style.cursor="grabbing",this.setState({scrollLeft:c})}),t.addEventListener("mouseleave",()=>{r=!1,t.style.cursor="grab"}),t.addEventListener("mouseup",()=>{r=!1,t.style.cursor="grab"}),t.addEventListener("mousemove",S=>{if(!r)return;S.preventDefault();const g=(S.pageX-t.offsetLeft-n)*1;t.scrollLeft=c-g,this.setState({scrollLeft:t.scrollLeft})})}componentWillUnmount(){window.removeEventListener("resize",this.findMaxScroll)}getNumRows(){const t=document.getElementById(this.props.id);let r=this.props.numRows||1;return t&&t.offsetWidth<400&&(r=this.props.sets.length),r}findMaxScroll(){const t=document.getElementById(this.props.id),r=Math.ceil(this.props.sets.length/this.getNumRows())*300-35,n=r-t.offsetWidth;t.style.width=`${r}px`,this.setState({maxScroll:n,scrollLeft:t.scrollLeft})}scrollWithArrow(t){const r=600*(t?1:-1),n=Math.min(this.state.maxScroll,Math.max(0,this.state.scrollLeft+r));bbt(n,this.props.id),this.setState({scrollLeft:n})}render(){return A.jsxs("div",{className:Yf.wrapper,children:[A.jsx("div",{className:Yf.row,id:this.props.id,style:{gridTemplateRows:`repeat(${this.getNumRows()}, 340px)`},children:this.props.sets.map(t=>A.jsx(Nx,{set:t,notLazy:!0},t._id))}),this.state.scrollLeft>0?A.jsx("div",{className:Yf.leftArrow,role:"button",tabIndex:0,onClick:()=>this.scrollWithArrow(!1),children:A.jsx("i",{className:Ct("fas fa-chevron-left",Yf.arrowIcon)})}):null,this.state.scrollLeft+1<this.state.maxScroll?A.jsx("div",{className:Yf.rightArrow,role:"button",tabIndex:0,onClick:()=>this.scrollWithArrow(!0),children:A.jsx("i",{className:Ct("fas fa-chevron-right",Yf.arrowIcon)})}):null]})}}hC.propTypes={sets:Wt.array,id:Wt.string.isRequired,numRows:Wt.number};const sD=[{name:"Trivia",slug:"trivia",img:Re.discoverCategories.triviaBackground},{name:"Math",slug:"math",img:Re.discoverCategories.mathBackground},{name:"Science",slug:"science",img:Re.discoverCategories.scienceBackground},{name:"ELA",slug:"ela",img:Re.discoverCategories.elaBackground},{name:"Social Studies",slug:"socialstudies",img:Re.discoverCategories.socialStudiesBackground},{name:"World Languages",slug:"worldlanguages",img:Re.discoverCategories.worldLanguagesBackground}],zL=({hits:e,hasMore:t,searchMore:r,searched:n})=>A.jsxs("div",{className:yr.hitsHolder,children:[e.length>0?A.jsx("div",{className:yr.hitsContainer,children:e.map(c=>A.jsx(Nx,{set:c},c._id))}):n?A.jsxs("div",{className:yr.noResultsText,children:[A.jsx(xn,{name:"Blobfish",className:yr.noResultsBlook}),"No Search Results",A.jsx("div",{className:yr.noResultsSub,children:"Try to refine your search"})]}):null,t&&A.jsx("div",{style:{display:"flex"},children:A.jsx(Ti,{onClick:r,outsideClass:yr.moreButton,insideClass:yr.moreButtonInside,color:"#0bc2cf",children:"Show More"})})]});zL.propTypes={hits:Wt.array,hasMore:Wt.bool,searchMore:Wt.func,searched:Wt.bool};class GL extends ti.Component{constructor(t){super(t),this.state={searchQuery:"",searched:!1,featuredGames:[],discoverGames:[],hits:[],hasMore:!1,minQuestions:1,hasCoverImage:!1,user:null,minPlays:10,pageIndex:0,isCategory:!1},this.here=!0,this.loading=!1,this.numQueryParams=0,this.onSearch=this.onSearch.bind(this),this.getCategory=this.getCategory.bind(this),this.searchUser=this.searchUser.bind(this),this.renderByQueryParams=this.renderByQueryParams.bind(this)}componentDidMount(){return oi(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ue.logError("DiscoverPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}this.setState({user:t}),this.renderByQueryParams()})}componentDidUpdate(){this.numQueryParams>0&&T8()===0&&this.renderByQueryParams(),this.numQueryParams=T8()}componentWillUnmount(){this.here=!1}onSearch(t,r){if(t&&t.preventDefault(),this.loading)return;this.loading=!0;let n=r;n||(n=0),n===0&&window.history.pushState({},null,`${window.location.origin}/discover?s=${encodeURIComponent(this.state.searchQuery)}`),vi.get("/api/games/search",{params:{text:this.state.searchQuery,page:n,minQuestions:this.state.minQuestions,hasCoverImage:this.state.hasCoverImage,minPlays:this.state.minPlays}}).then(c=>{const S=c.data;if(this.loading=!1,n===0){const s={searched:!0,hits:S,hasMore:S.length>=8,pageIndex:n,isCategory:!1};this.setState(s)}else this.setState({hits:this.state.hits.concat(S),hasMore:S.length>=8,pageIndex:n,isCategory:!1})}).catch(c=>{Ue.logError(c),this.loading=!1,this.setState({searched:!0,hasMore:!1,pageIndex:n,hits:[]}),Ue.logError(c)})}getCategory(t){Ks("category")!==t&&window.history.pushState({},null,`${window.location.origin}/discover?category=${t}`),vi.get("/api/games/category",{params:{category:t}}).then(r=>{if(!this.here)return;const n=[...r.data.filter(c=>!c.private&&c.numQuestions>0)];n.sort((c,S)=>S.playCount-c.playCount),this.setState({hits:n,searched:!0,hasMore:!1,searchQuery:t,isCategory:!0},()=>{document.getElementById("page-body").scrollTo(0,0)})}).catch(r=>{Ue.logError(r)})}searchUser(t){vi.get("/api/users/games",{params:{name:t}}).then(r=>{if(!this.here)return;const n=[...r.data.filter(c=>!c.private&&c.numQuestions>0)];n.sort((c,S)=>S.playCount-c.playCount),this.setState({hits:n,searched:!0,hasMore:!1,searchQuery:this.state.searchQuery||t,isCategory:!1})}).catch(r=>{Ue.logError(r)})}renderByQueryParams(){const t=Ks("n"),r=Ks("s"),n=Ks("category");t?this.searchUser(decodeURIComponent(t)):r?this.setState({searchQuery:decodeURIComponent(r)},this.onSearch):sD.map(c=>c.slug).includes(n)?this.getCategory(n):vi.get("/api/games/featured").then(c=>{if(!this.here)return;let S=[];c.data&&c.data.featuredGames&&(S=[...c.data.featuredGames],S.sort((g,i)=>i.playCount-g.playCount));let s=[];c.data&&c.data.discoverGames&&(s=[...c.data.discoverGames],s.sort((g,i)=>i.playCount-g.playCount)),this.setState({featuredGames:S,discoverGames:s,searched:!1,searchQuery:"",isCategory:!1})}).catch(c=>{Ue.logError(c)})}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,id:"page-body",children:[A.jsx(nn,{title:"Discover Sets | Blooket",desc:"Search and discover new sets from a large collection created by users. These sets can then be viewed, edited, or used to host games."}),A.jsx(qs,{user:this.state.user,page:"Discover"}),A.jsxs("div",{className:He.profileBody,children:[A.jsx("div",{className:yr.topHeader,children:"Discover"}),A.jsxs("div",{className:yr.searchBoxHolder,children:[A.jsxs("form",{onSubmit:this.onSearch,className:yr.searchContainer,children:[A.jsx("input",{className:yr.searchInput,type:"search",value:this.state.searchQuery,onChange:t=>this.setState({searchQuery:t.target.value.slice(0,50)}),placeholder:"Search for a Set..."}),A.jsx("i",{className:Ct(yr.searchIcon,"fas fa-search"),role:"button",tabIndex:0,onClick:this.onSearch})]}),this.state.searched&&this.state.searchQuery?A.jsxs("div",{className:yr.filtersHolder,children:[A.jsx("i",{className:Ct(yr.filterIcon,"fas fa-sliders-h")}),A.jsxs("div",{className:yr.filtersColumn,children:[A.jsxs("div",{className:Ct(yr.filterRow,yr.filterRowCenter),children:["Has Cover Image:",A.jsx("div",{className:Ct(yr.checkBox,yr.checkBoxLeft,this.state.hasCoverImage?yr.checkYes:yr.checkNo),role:"button",tabIndex:0,onClick:()=>this.setState({hasCoverImage:!this.state.hasCoverImage},t=>this.onSearch(t,0)),children:A.jsx("i",{className:Ct(yr.checkIcon,"fas fa-check")})})]}),A.jsxs("div",{className:Ct(yr.filterRow,yr.filterRowColumn),children:["Minimum Questions:",A.jsx("div",{className:yr.filters,children:[1,5,10,25,50].map(t=>A.jsx("div",{className:Ct(yr.checkBox,this.state.minQuestions===t?yr.checkYes:yr.checkNo),role:"button",tabIndex:0,onClick:()=>this.setState({minQuestions:t},r=>this.onSearch(r,0)),children:A.jsx("div",{className:yr.checkIcon,children:t})},t))})]}),A.jsxs("div",{className:Ct(yr.filterRow,yr.filterRowColumn),children:["Minimum Plays:",A.jsx("div",{className:yr.filters,children:[10,100,500,1e3].map(t=>A.jsx("div",{className:Ct(yr.checkBox,yr.checkBoxWide,this.state.minPlays===t?yr.checkYes:yr.checkNo),role:"button",tabIndex:0,onClick:()=>this.setState({minPlays:t},r=>this.onSearch(r,0)),children:A.jsx("div",{className:yr.checkIcon,children:yo(t)})},t))})]})]})]}):null]}),!this.state.searched&&this.state.featuredGames.length>0?A.jsxs(A.Fragment,{children:[A.jsx(hC,{sets:this.state.discoverGames,id:"discover-sets",numRows:2}),A.jsx("div",{className:yr.header,children:"Verified Categories"}),A.jsx("div",{className:yr.categoriesRow,children:sD.map(t=>A.jsx(ss,{className:Ct(yr.categoryContainer,{[yr.categoryContainerSmall]:t.slug.length>10}),style:{backgroundImage:`url(${t.img})`},to:`/category/${t.slug}`,children:t.name},t.name))}),A.jsx("div",{className:yr.header,children:"Popular Picks"}),A.jsx(hC,{sets:this.state.featuredGames,id:"featured-sets",numRows:2})]}):A.jsx(zL,{hits:this.state.hits,hasMore:this.state.searched&&this.state.hasMore,searchMore:t=>this.onSearch(t,this.state.pageIndex+1),searched:this.state.searched,isCategory:this.state.isCategory}),A.jsx("div",{className:yr.spacer})]})]})}}GL.propTypes={user:Wt.object};const Sbt=()=>({}),wbt=e=>ws({},e),Tbt=Sn(Ts(Is(Sbt,wbt)(GL))),Cbt=["ahole","anus","ash0le","ash0les","asholes","ass","Ass Monkey","Assface","assh0le","assh0lez","asshole","assholes","assholz","asswipe","azzhole","bassterds","bastard","bastards","bastardz","basterds","basterdz","Biatch","bitch","bitches","Blow Job","boffing","butthole","buttwipe","c0ck","c0cks","c0k","Carpet Muncher","cawk","cawks","Clit","cnts","cntz","cock","cockhead","cock-head","cocks","CockSucker","cock-sucker","crap","cum","cunt","cunts","cuntz","dick","dild0","dild0s","dildo","dildos","dilld0","dilld0s","dominatricks","dominatrics","dominatrix","dyke","enema","f u c k","f u c k e r","fag","fag1t","faget","fagg1t","faggit","faggot","fagg0t","fagit","fags","fagz","faig","faigs","fart","flipping the bird","fuck","fucker","fuckin","fucking","fucks","Fudge Packer","fuk","Fukah","Fuken","fuker","Fukin","Fukk","Fukkah","Fukken","Fukker","Fukkin","g00k","God-damned","h00r","h0ar","h0re","hells","hoar","hoor","hoore","jackoff","jap","japs","jerk-off","jisim","jiss","jizm","jizz","knob","knobs","knobz","kunt","kunts","kuntz","Lezzian","Lipshits","Lipshitz","masochist","masokist","massterbait","masstrbait","masstrbate","masterbaiter","masterbate","masterbates","Motha Fucker","Motha Fuker","Motha Fukkah","Motha Fukker","Mother Fucker","Mother Fukah","Mother Fuker","Mother Fukkah","Mother Fukker","mother-fucker","Mutha Fucker","Mutha Fukah","Mutha Fuker","Mutha Fukkah","Mutha Fukker","n1gr","nastt","nigger;","nigur;","niiger;","niigr;","orafis","orgasim;","orgasm","orgasum","oriface","orifice","orifiss","packi","packie","packy","paki","pakie","paky","pecker","peeenus","peeenusss","peenus","peinus","pen1s","penas","penis","penis-breath","penus","penuus","Phuc","Phuck","Phuk","Phuker","Phukker","polac","polack","polak","Poonani","pr1c","pr1ck","pr1k","pusse","pussee","pussy","puuke","puuker","qweir","recktum","rectum","retard","sadist","scank","schlong","screwing","semen","sex","sexy","Sh!t","sh1t","sh1ter","sh1ts","sh1tter","sh1tz","shit","shits","shitter","Shitty","Shity","shitz","Shyt","Shyte","Shytty","Shyty","skanck","skank","skankee","skankey","skanks","Skanky","slag","slut","sluts","Slutty","slutz","son-of-a-bitch","tit","turd","va1jina","vag1na","vagiina","vagina","vaj1na","vajina","vullva","vulva","w0p","wh00r","wh0re","whore","xrated","xxx","b!+ch","bitch","blowjob","clit","arschloch","fuck","shit","ass","asshole","b!tch","b17ch","b1tch","bastard","bi+ch","boiolas","buceta","c0ck","cawk","chink","cipa","clits","cock","cum","cunt","dildo","dirsa","ejakulate","fatass","fcuk","fuk","fux0r","hoer","hore","jism","kawk","l3itch","l3i+ch","masturbate","masterbat*","masterbat3","motherfucker","s.o.b.","mofo","nazi","nigga","nigger","nutsack","phuck","pimpis","pusse","pussy","scrotum","sh!t","shemale","shi+","sh!+","slut","smut","teets","tits","boobs","b00bs","teez","testical","testicle","titt","w00se","jackoff","wank","whoar","whore","*damn","*dyke","*fuck*","*shit*","@$$","amcik","andskota","arse*","assrammer","ayir","bi7ch","bitch*","bollock*","breasts","butt-pirate","cabron","cazzo","chraa","chuj","Cock*","cunt*","d4mn","daygo","dego","dick*","dike*","dupa","dziwka","ejackulate","Ekrem*","Ekto","enculer","faen","fag*","fanculo","fanny","feces","feg","Felcher","ficken","fitt*","Flikker","foreskin","Fotze","Fu(*","fuk*","futkretzn","gook","guiena","h0r","h4x0r","hell","helvete","hoer*","honkey","Huevon","hui","injun","jizz","kanker*","kike","klootzak","kraut","knulle","kuk","kuksuger","Kurac","kurwa","kusi*","kyrpa*","lesbo","mamhoon","masturbat*","merd*","mibun","monkleigh","mouliewop","muie","mulkku","muschi","nazis","nepesaurio","nigger*","orospu","paska*","perse","picka","pierdol*","pillu*","pimmel","piss*","pizda","poontsee","poop","porn","p0rn","pr0n","preteen","pula","pule","puta","puto","qahbeh","queef*","rautenberg","schaffer","scheiss*","schlampe","schmuck","screw","sh!t*","sharmuta","sharmute","shipal","shiz","skribz","skurwysyn","sphencter","spic","spierdalaj","splooge","suka","b00b*","testicle*","titt*","twat","vittu","wank*","wetback*","wichser","wop*","yed","zabourah"],Ebt={words:Cbt};var kbt={"4r5e":1,"5h1t":1,"5hit":1,a55:1,anal:1,anus:1,ar5e:1,arrse:1,arse:1,ass:1,"ass-fucker":1,asses:1,assfucker:1,assfukka:1,asshole:1,assholes:1,asswhole:1,a_s_s:1,"b!tch":1,b00bs:1,b17ch:1,b1tch:1,ballbag:1,balls:1,ballsack:1,bastard:1,beastial:1,beastiality:1,bellend:1,bestial:1,bestiality:1,"bi+ch":1,biatch:1,bitch:1,bitcher:1,bitchers:1,bitches:1,bitchin:1,bitching:1,bloody:1,"blow job":1,blowjob:1,blowjobs:1,boiolas:1,bollock:1,bollok:1,boner:1,boob:1,boobs:1,booobs:1,boooobs:1,booooobs:1,booooooobs:1,breasts:1,buceta:1,bugger:1,bum:1,"bunny fucker":1,butt:1,butthole:1,buttmuch:1,buttplug:1,c0ck:1,c0cksucker:1,"carpet muncher":1,cawk:1,chink:1,cipa:1,cl1t:1,clit:1,clitoris:1,clits:1,cnut:1,cock:1,"cock-sucker":1,cockface:1,cockhead:1,cockmunch:1,cockmuncher:1,cocks:1,cocksuck:1,cocksucked:1,cocksucker:1,cocksucking:1,cocksucks:1,cocksuka:1,cocksukka:1,cok:1,cokmuncher:1,coksucka:1,coon:1,cox:1,crap:1,cum:1,cummer:1,cumming:1,cums:1,cumshot:1,cunilingus:1,cunillingus:1,cunnilingus:1,cunt:1,cuntlick:1,cuntlicker:1,cuntlicking:1,cunts:1,cyalis:1,cyberfuc:1,cyberfuck:1,cyberfucked:1,cyberfucker:1,cyberfuckers:1,cyberfucking:1,d1ck:1,damn:1,dick:1,dickhead:1,dildo:1,dildos:1,dink:1,dinks:1,dirsa:1,dlck:1,"dog-fucker":1,doggin:1,dogging:1,donkeyribber:1,doosh:1,duche:1,dyke:1,ejaculate:1,ejaculated:1,ejaculates:1,ejaculating:1,ejaculatings:1,ejaculation:1,ejakulate:1,"f u c k":1,"f u c k e r":1,f4nny:1,fag:1,fagging:1,faggitt:1,faggot:1,faggs:1,fagot:1,fagots:1,fags:1,fanny:1,fannyflaps:1,fannyfucker:1,fanyy:1,fatass:1,fcuk:1,fcuker:1,fcuking:1,feck:1,fecker:1,felching:1,fellate:1,fellatio:1,fingerfuck:1,fingerfucked:1,fingerfucker:1,fingerfuckers:1,fingerfucking:1,fingerfucks:1,fistfuck:1,fistfucked:1,fistfucker:1,fistfuckers:1,fistfucking:1,fistfuckings:1,fistfucks:1,flange:1,fook:1,fooker:1,fuck:1,fucka:1,fucked:1,fucker:1,fuckers:1,fuckhead:1,fuckheads:1,fuckin:1,fucking:1,fuckings:1,fuckingshitmotherfucker:1,fuckme:1,fucks:1,fuckwhit:1,fuckwit:1,"fudge packer":1,fudgepacker:1,fuk:1,fuker:1,fukker:1,fukkin:1,fuks:1,fukwhit:1,fukwit:1,fux:1,fux0r:1,f_u_c_k:1,gangbang:1,gangbanged:1,gangbangs:1,gaylord:1,gaysex:1,goatse:1,God:1,"god-dam":1,"god-damned":1,goddamn:1,goddamned:1,hardcoresex:1,hell:1,heshe:1,hoar:1,hoare:1,hoer:1,homo:1,hore:1,horniest:1,horny:1,hotsex:1,"jack-off":1,jackoff:1,jap:1,"jerk-off":1,jism:1,jiz:1,jizm:1,jizz:1,kawk:1,knob:1,knobead:1,knobed:1,knobend:1,knobhead:1,knobjocky:1,knobjokey:1,kock:1,kondum:1,kondums:1,kum:1,kummer:1,kumming:1,kums:1,kunilingus:1,"l3i+ch":1,l3itch:1,labia:1,lust:1,lusting:1,m0f0:1,m0fo:1,m45terbate:1,ma5terb8:1,ma5terbate:1,masochist:1,"master-bate":1,masterb8:1,"masterbat*":1,masterbat3:1,masterbate:1,masterbation:1,masterbations:1,masturbate:1,"mo-fo":1,mof0:1,mofo:1,mothafuck:1,mothafucka:1,mothafuckas:1,mothafuckaz:1,mothafucked:1,mothafucker:1,mothafuckers:1,mothafuckin:1,mothafucking:1,mothafuckings:1,mothafucks:1,"mother fucker":1,motherfuck:1,motherfucked:1,motherfucker:1,motherfuckers:1,motherfuckin:1,motherfucking:1,motherfuckings:1,motherfuckka:1,motherfucks:1,muff:1,mutha:1,muthafecker:1,muthafuckker:1,muther:1,mutherfucker:1,n1gga:1,n1gger:1,nazi:1,nigg3r:1,nigg4h:1,nigga:1,niggah:1,niggas:1,niggaz:1,nigger:1,niggers:1,nob:1,"nob jokey":1,nobhead:1,nobjocky:1,nobjokey:1,numbnuts:1,nutsack:1,orgasim:1,orgasims:1,orgasm:1,orgasms:1,p0rn:1,pawn:1,pecker:1,penis:1,penisfucker:1,phonesex:1,phuck:1,phuk:1,phuked:1,phuking:1,phukked:1,phukking:1,phuks:1,phuq:1,pigfucker:1,pimpis:1,piss:1,pissed:1,pisser:1,pissers:1,pisses:1,pissflaps:1,pissin:1,pissing:1,pissoff:1,poop:1,porn:1,porno:1,pornography:1,pornos:1,prick:1,pricks:1,pron:1,pube:1,pusse:1,pussi:1,pussies:1,pussy:1,pussys:1,rectum:1,retard:1,rimjaw:1,rimming:1,"s hit":1,"s.o.b.":1,sadist:1,schlong:1,screwing:1,scroat:1,scrote:1,scrotum:1,semen:1,sex:1,"sh!+":1,"sh!t":1,sh1t:1,shag:1,shagger:1,shaggin:1,shagging:1,shemale:1,"shi+":1,shit:1,shitdick:1,shite:1,shited:1,shitey:1,shitfuck:1,shitfull:1,shithead:1,shiting:1,shitings:1,shits:1,shitted:1,shitter:1,shitters:1,shitting:1,shittings:1,shitty:1,skank:1,slut:1,sluts:1,smegma:1,smut:1,snatch:1,"son-of-a-bitch":1,spac:1,spunk:1,s_h_i_t:1,t1tt1e5:1,t1tties:1,teets:1,teez:1,testical:1,testicle:1,tit:1,titfuck:1,tits:1,titt:1,tittie5:1,tittiefucker:1,titties:1,tittyfuck:1,tittywank:1,titwank:1,tosser:1,turd:1,tw4t:1,twat:1,twathead:1,twatty:1,twunt:1,twunter:1,v14gra:1,v1gra:1,vagina:1,viagra:1,vulva:1,w00se:1,wang:1,wank:1,wanker:1,wanky:1,whoar:1,whore:1,willies:1,willy:1,xrated:1,xxx:1},Dbt=["4r5e","5h1t","5hit","a55","anal","anus","ar5e","arrse","arse","ass","ass-fucker","asses","assfucker","assfukka","asshole","assholes","asswhole","a_s_s","b!tch","b00bs","b17ch","b1tch","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","bi+ch","biatch","bitch","bitcher","bitchers","bitches","bitchin","bitching","bloody","blow job","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bum","bunny fucker","butt","butthole","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d1ck","damn","dick","dickhead","dildo","dildos","dink","dinks","dirsa","dlck","dog-fucker","doggin","dogging","donkeyribber","doosh","duche","dyke","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f u c k","f u c k e r","f4nny","fag","fagging","faggitt","faggot","faggs","fagot","fagots","fags","fanny","fannyflaps","fannyfucker","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","flange","fook","fooker","fuck","fucka","fucked","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucks","fuckwhit","fuckwit","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fux0r","f_u_c_k","gangbang","gangbanged","gangbangs","gaylord","gaysex","goatse","God","god-dam","god-damned","goddamn","goddamned","hardcoresex","hell","heshe","hoar","hoare","hoer","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lust","lusting","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","masochist","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","mother fucker","motherfuck","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","muff","mutha","muthafecker","muthafuckker","muther","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nob jokey","nobhead","nobjocky","nobjokey","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","p0rn","pawn","pecker","penis","penisfucker","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s hit","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfuck","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","skank","slut","sluts","smegma","smut","snatch","son-of-a-bitch","spac","spunk","s_h_i_t","t1tt1e5","t1tties","teets","teez","testical","testicle","tit","titfuck","tits","titt","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wang","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx"],Abt=/\b(4r5e|5h1t|5hit|a55|anal|anus|ar5e|arrse|arse|ass|ass-fucker|asses|assfucker|assfukka|asshole|assholes|asswhole|a_s_s|b!tch|b00bs|b17ch|b1tch|ballbag|balls|ballsack|bastard|beastial|beastiality|bellend|bestial|bestiality|bi\+ch|biatch|bitch|bitcher|bitchers|bitches|bitchin|bitching|bloody|blow job|blowjob|blowjobs|boiolas|bollock|bollok|boner|boob|boobs|booobs|boooobs|booooobs|booooooobs|breasts|buceta|bugger|bum|bunny fucker|butt|butthole|buttmuch|buttplug|c0ck|c0cksucker|carpet muncher|cawk|chink|cipa|cl1t|clit|clitoris|clits|cnut|cock|cock-sucker|cockface|cockhead|cockmunch|cockmuncher|cocks|cocksuck|cocksucked|cocksucker|cocksucking|cocksucks|cocksuka|cocksukka|cok|cokmuncher|coksucka|coon|cox|crap|cum|cummer|cumming|cums|cumshot|cunilingus|cunillingus|cunnilingus|cunt|cuntlick|cuntlicker|cuntlicking|cunts|cyalis|cyberfuc|cyberfuck|cyberfucked|cyberfucker|cyberfuckers|cyberfucking|d1ck|damn|dick|dickhead|dildo|dildos|dink|dinks|dirsa|dlck|dog-fucker|doggin|dogging|donkeyribber|doosh|duche|dyke|ejaculate|ejaculated|ejaculates|ejaculating|ejaculatings|ejaculation|ejakulate|f u c k|f u c k e r|f4nny|fag|fagging|faggitt|faggot|faggs|fagot|fagots|fags|fanny|fannyflaps|fannyfucker|fanyy|fatass|fcuk|fcuker|fcuking|feck|fecker|felching|fellate|fellatio|fingerfuck|fingerfucked|fingerfucker|fingerfuckers|fingerfucking|fingerfucks|fistfuck|fistfucked|fistfucker|fistfuckers|fistfucking|fistfuckings|fistfucks|flange|fook|fooker|fuck|fucka|fucked|fucker|fuckers|fuckhead|fuckheads|fuckin|fucking|fuckings|fuckingshitmotherfucker|fuckme|fucks|fuckwhit|fuckwit|fudge packer|fudgepacker|fuk|fuker|fukker|fukkin|fuks|fukwhit|fukwit|fux|fux0r|f_u_c_k|gangbang|gangbanged|gangbangs|gaylord|gaysex|goatse|God|god-dam|god-damned|goddamn|goddamned|hardcoresex|hell|heshe|hoar|hoare|hoer|homo|hore|horniest|horny|hotsex|jack-off|jackoff|jap|jerk-off|jism|jiz|jizm|jizz|kawk|knob|knobead|knobed|knobend|knobhead|knobjocky|knobjokey|kock|kondum|kondums|kum|kummer|kumming|kums|kunilingus|l3i\+ch|l3itch|labia|lust|lusting|m0f0|m0fo|m45terbate|ma5terb8|ma5terbate|masochist|master-bate|masterb8|masterbat*|masterbat3|masterbate|masterbation|masterbations|masturbate|mo-fo|mof0|mofo|mothafuck|mothafucka|mothafuckas|mothafuckaz|mothafucked|mothafucker|mothafuckers|mothafuckin|mothafucking|mothafuckings|mothafucks|mother fucker|motherfuck|motherfucked|motherfucker|motherfuckers|motherfuckin|motherfucking|motherfuckings|motherfuckka|motherfucks|muff|mutha|muthafecker|muthafuckker|muther|mutherfucker|n1gga|n1gger|nazi|nigg3r|nigg4h|nigga|niggah|niggas|niggaz|nigger|niggers|nob|nob jokey|nobhead|nobjocky|nobjokey|numbnuts|nutsack|orgasim|orgasims|orgasm|orgasms|p0rn|pawn|pecker|penis|penisfucker|phonesex|phuck|phuk|phuked|phuking|phukked|phukking|phuks|phuq|pigfucker|pimpis|piss|pissed|pisser|pissers|pisses|pissflaps|pissin|pissing|pissoff|poop|porn|porno|pornography|pornos|prick|pricks|pron|pube|pusse|pussi|pussies|pussy|pussys|rectum|retard|rimjaw|rimming|s hit|s.o.b.|sadist|schlong|screwing|scroat|scrote|scrotum|semen|sex|sh!\+|sh!t|sh1t|shag|shagger|shaggin|shagging|shemale|shi\+|shit|shitdick|shite|shited|shitey|shitfuck|shitfull|shithead|shiting|shitings|shits|shitted|shitter|shitters|shitting|shittings|shitty|skank|slut|sluts|smegma|smut|snatch|son-of-a-bitch|spac|spunk|s_h_i_t|t1tt1e5|t1tties|teets|teez|testical|testicle|tit|titfuck|tits|titt|tittie5|tittiefucker|titties|tittyfuck|tittywank|titwank|tosser|turd|tw4t|twat|twathead|twatty|twunt|twunter|v14gra|v1gra|vagina|viagra|vulva|w00se|wang|wank|wanker|wanky|whoar|whore|willies|willy|xrated|xxx)\b/gi,Pbt={object:kbt,array:Dbt,regex:Abt};const Rbt=Ebt.words,Ibt=Pbt.array;class Mbt{constructor(t={}){Object.assign(this,{list:t.emptyList&&[]||Array.prototype.concat.apply(Rbt,[Ibt,t.list||[]]),exclude:t.exclude||[],splitRegex:t.splitRegex||/\b/,placeHolder:t.placeHolder||"*",regex:t.regex||/[^a-zA-Z0-9|\$|\@]|\^/g,replaceRegex:t.replaceRegex||/\w/g})}isProfane(t){return this.list.filter(r=>{const n=new RegExp(`\\b${r.replace(/(\W)/g,"\\$1")}\\b`,"gi");return!this.exclude.includes(r.toLowerCase())&&n.test(t)}).length>0||!1}replaceWord(t){return t.replace(this.regex,"").replace(this.replaceRegex,this.placeHolder)}clean(t){return t.split(this.splitRegex).map(r=>this.isProfane(r)?this.replaceWord(r):r).join(this.splitRegex.exec(t)[0])}addWords(){let t=Array.from(arguments);this.list.push(...t),t.map(r=>r.toLowerCase()).forEach(r=>{this.exclude.includes(r)&&this.exclude.splice(this.exclude.indexOf(r),1)})}removeWords(){this.exclude.push(...Array.from(arguments).map(t=>t.toLowerCase()))}}var Bbt=Mbt;const Obt=Rs(Bbt),Nbt="_mainRow_mlwru_1",Fbt="_leftColumn_mlwru_10",Lbt="_coverFillerContainer_mlwru_23",_bt="_coverImageContainer_mlwru_22",jbt="_coverImage_mlwru_22",Ubt="_coverFillerImage_mlwru_46",zbt="_headerTitle_mlwru_54",Gbt="_headerDesc_mlwru_60",Hbt="_headerStatsWrapper_mlwru_67",$bt="_headerStat_mlwru_67",Vbt="_headerStatDivider_mlwru_79",Wbt="_headerStatSmall_mlwru_85",Ybt="_headerButtonRow_mlwru_90",Xbt="_bigHeaderButtonInside_mlwru_104",Qbt="_headerButtonInside_mlwru_102",Kbt="_headerMidButtonInside_mlwru_103",Jbt="_bigHeaderButton_mlwru_104",Zbt="_smallHostIcon_mlwru_134",qbt="_noHostText_mlwru_139",tSt="_hostIcon_mlwru_147",eSt="_smallButtonsContainer_mlwru_152",iSt="_smallButton_mlwru_152",rSt="_smallIcon_mlwru_185",nSt="_headerBottomContainer_mlwru_190",sSt="_headerBottomRow_mlwru_206",aSt="_headerAuthorIcon_mlwru_212",oSt="_headerAuthorText_mlwru_217",lSt="_headerVerifiedIcon_mlwru_223",uSt="_headerVerifiedText_mlwru_229",hSt="_deleteButton_mlwru_235",cSt="_questionSection_mlwru_245",fSt="_questionSectionTop_mlwru_251",dSt="_numQuestions_mlwru_260",pSt="_showAnswersButtonInside_mlwru_272",vSt="_questionContainer_mlwru_284",mSt="_questionRow_mlwru_299",gSt="_questionInfoRow_mlwru_308",ySt="_questionInfo_mlwru_308",xSt="_questionInfoIcon_mlwru_330",bSt="_questionImageContainer_mlwru_334",SSt="_questionImageButton_mlwru_352",wSt="_questionImage_mlwru_334",TSt="_questionTextContainer_mlwru_363",CSt="_questionNum_mlwru_373",ESt="_questionTextRow_mlwru_379",kSt="_questionText_mlwru_363",DSt="_questionFunc_mlwru_395",ASt="_qMathField_mlwru_403",PSt="_answerContainer_mlwru_411",RSt="_answerContainerStart_mlwru_422",ISt="_typingAnswer_mlwru_426",MSt="_typingAnswerIcon_mlwru_436",BSt="_answer_mlwru_411",OSt="_answerIcon_mlwru_457",NSt="_answerMediaContainer_mlwru_464",FSt="_answerMediaCapped_mlwru_472",LSt="_answerText_mlwru_476",_St="_answerImg_mlwru_484",jSt="_mathField_mlwru_492",USt="_faded_mlwru_500",zSt="_bottomSpacer_mlwru_504",GSt="_reportModal_mlwru_508",HSt="_reportContainer_mlwru_520",$St="_reportHeader_mlwru_532",VSt="_duplicateHeader_mlwru_540",WSt="_reportText_mlwru_548",YSt="_reportInput_mlwru_555",XSt="_reportInputFilled_mlwru_576",QSt="_reportButtonContainer_mlwru_580",KSt="_reportYesButton_mlwru_590",JSt="_reportNoButton_mlwru_615",ZSt="_smallScreen_mlwru_640",qSt="_bigScreen_mlwru_645",twt="_highlight_mlwru_653",xi={mainRow:Nbt,leftColumn:Fbt,coverFillerContainer:Lbt,coverImageContainer:_bt,coverImage:jbt,coverFillerImage:Ubt,headerTitle:zbt,headerDesc:Gbt,headerStatsWrapper:Hbt,headerStat:$bt,headerStatDivider:Vbt,headerStatSmall:Wbt,headerButtonRow:Ybt,bigHeaderButtonInside:Xbt,headerButtonInside:Qbt,headerMidButtonInside:Kbt,bigHeaderButton:Jbt,smallHostIcon:Zbt,noHostText:qbt,hostIcon:tSt,smallButtonsContainer:eSt,smallButton:iSt,smallIcon:rSt,headerBottomContainer:nSt,headerBottomRow:sSt,headerAuthorIcon:aSt,headerAuthorText:oSt,headerVerifiedIcon:lSt,headerVerifiedText:uSt,deleteButton:hSt,questionSection:cSt,questionSectionTop:fSt,numQuestions:dSt,showAnswersButtonInside:pSt,questionContainer:vSt,questionRow:mSt,questionInfoRow:gSt,questionInfo:ySt,questionInfoIcon:xSt,questionImageContainer:bSt,questionImageButton:SSt,questionImage:wSt,questionTextContainer:TSt,questionNum:CSt,questionTextRow:ESt,questionText:kSt,questionFunc:DSt,qMathField:ASt,answerContainer:PSt,answerContainerStart:RSt,typingAnswer:ISt,typingAnswerIcon:MSt,answer:BSt,answerIcon:OSt,answerMediaContainer:NSt,answerMediaCapped:FSt,answerText:LSt,answerImg:_St,mathField:jSt,faded:USt,bottomSpacer:zSt,reportModal:GSt,reportContainer:HSt,reportHeader:$St,duplicateHeader:VSt,reportText:WSt,reportInput:YSt,reportInputFilled:XSt,reportButtonContainer:QSt,reportYesButton:KSt,reportNoButton:JSt,smallScreen:ZSt,bigScreen:qSt,highlight:twt};var Fx={},k5={},D5={};Object.defineProperty(D5,"__esModule",{value:!0});D5.default=ewt;function ewt(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var c=Object.prototype.hasOwnProperty,S=0;S<r.length;S++)if(!c.call(t,r[S])||e[r[S]]!==t[r[S]])return!1;return!0}var A5={};const iwt=VP(L$);Object.defineProperty(A5,"__esModule",{value:!0});A5.default=awt;var rwt=iwt,nwt=swt(rwt);function swt(e){return e&&e.__esModule?e:{default:e}}function awt(e,t){var r=[],n=0,c=!0;function S(g){function i(){t&&t(g,r)}c?nwt.default.nextTick(i):i()}function s(g,i){r.push(i),++n>=e.length||g?S(g):e[n](s)}e.length>0?e[0](s):S(null),c=!1}var P5={};Object.defineProperty(P5,"__esModule",{value:!0});P5.default=lwt;var owt=function(){};function lwt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:owt;e()?t(function n(c){for(var S=arguments.length,s=Array(S>1?S-1:0),g=1;g<S;g++)s[g-1]=arguments[g];c?r(c):e.apply(this,s)?t(n):r(null)}):r(null)}var R5={};Object.defineProperty(R5,"__esModule",{value:!0});R5.default=uwt;function uwt(e,t){var r=void 0,n=void 0,c=void 0,S=void 0,s=0;function g(){S=0,s=+new Date,c=e.apply(r,n),r=null,n=null}return function(){r=this,n=arguments;var a=new Date-s;return S||(a>=t?g():S=setTimeout(g,t-a)),c}}var I5={};Object.defineProperty(I5,"__esModule",{value:!0});I5.default=cwt;var hwt=0;function cwt(){return hwt++}var Lx={};Object.defineProperty(Lx,"__esModule",{value:!0});Lx.innerHeight=fwt;Lx.innerWidth=dwt;function fwt(e){var t=window.getComputedStyle(e,null);return t?e.clientHeight-parseInt(t.getPropertyValue("padding-top"),10)-parseInt(t.getPropertyValue("padding-bottom"),10):e.clientHeight}function dwt(e){var t=window.getComputedStyle(e,null);return t?e.clientWidth-parseInt(t.getPropertyValue("padding-left"),10)-parseInt(t.getPropertyValue("padding-right"),10):e.clientWidth}Object.defineProperty(k5,"__esModule",{value:!0});var aD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pwt=function(){function e(t,r){for(var n=0;n<r.length;n++){var c=r[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),vwt=zi,VS=Pf(vwt),mwt=Jd,Mh=Pf(mwt),gwt=D5,ywt=Pf(gwt),xwt=A5,bwt=Pf(xwt),Swt=P5,oD=Pf(Swt),wwt=R5,Twt=Pf(wwt),Cwt=I5,lD=Pf(Cwt),uD=Lx;function Pf(e){return e&&e.__esModule?e:{default:e}}function Ewt(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function kwt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dwt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Awt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function hD(e,t){return e.scrollWidth-1<=t}function cD(e,t){return e.scrollHeight-1<=t}function Pwt(){}var M5=function(e){Awt(t,e);function t(r){kwt(this,t);var n=Dwt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return n.state={fontSize:null,ready:!1},n.handleWindowResize=function(){n.process()},"perfectFit"in r&&console.warn("TextFit property perfectFit has been removed."),n.handleWindowResize=(0,Twt.default)(n.handleWindowResize,r.throttle),n}return pwt(t,[{key:"componentDidMount",value:function(){var n=this.props.autoResize;n&&window.addEventListener("resize",this.handleWindowResize),this.process()}},{key:"componentDidUpdate",value:function(n){var c=this.state.ready;c&&((0,ywt.default)(this.props,n)||this.process())}},{key:"componentWillUnmount",value:function(){var n=this.props.autoResize;n&&window.removeEventListener("resize",this.handleWindowResize),this.pid=(0,lD.default)()}},{key:"process",value:function(){var n=this,c=this.props,S=c.min,s=c.max,g=c.mode,i=c.forceSingleModeWidth,a=c.onReady,v=this._parent,f=this._child,h=(0,uD.innerWidth)(v),u=(0,uD.innerHeight)(v);if(u<=0||isNaN(u)){console.warn("Can not process element without height. Make sure the element is displayed and has a static height.");return}if(h<=0||isNaN(h)){console.warn("Can not process element without width. Make sure the element is displayed and has a static width.");return}var o=(0,lD.default)();this.pid=o;var d=function(){return o!==n.pid},p=g==="multi"?function(){return cD(f,u)}:function(){return hD(f,h)},l=g==="multi"?function(){return hD(f,h)}:function(){return cD(f,u)},m=void 0,y=S,x=s;this.setState({ready:!1}),(0,bwt.default)([function(b){return(0,oD.default)(function(){return y<=x},function(w){if(d())return w(!0);m=parseInt((y+x)/2,10),n.setState({fontSize:m},function(){return d()?w(!0):(p()?y=m+1:x=m-1,w())})},b)},function(b){return g==="single"&&i||l()?b():(y=S,x=m,(0,oD.default)(function(){return y<x},function(w){if(d())return w(!0);m=parseInt((y+x)/2,10),n.setState({fontSize:m},function(){return o!==n.pid?w(!0):(l()?y=m+1:x=m-1,w())})},b))},function(b){if(m=Math.min(y,x),m=Math.max(m,S),m=Math.min(m,s),m=Math.max(m,0),d())return b(!0);n.setState({fontSize:m},b)}],function(b){b||d()||n.setState({ready:!0},function(){return a(m)})})}},{key:"render",value:function(){var n=this,c=this.props,S=c.children,s=c.text,g=c.style;c.min,c.max;var i=c.mode;c.forceWidth,c.forceSingleModeWidth,c.throttle,c.autoResize,c.onReady;var a=Ewt(c,["children","text","style","min","max","mode","forceWidth","forceSingleModeWidth","throttle","autoResize","onReady"]),v=this.state,f=v.fontSize,h=v.ready,u=aD({},g,{fontSize:f}),o={display:h?"block":"inline-block"};return i==="single"&&(o.whiteSpace="nowrap"),VS.default.createElement("div",aD({ref:function(p){return n._parent=p},style:u},a),VS.default.createElement("div",{ref:function(p){return n._child=p},style:o},s&&typeof S=="function"?h?S(s):s:S))}}]),t}(VS.default.Component);M5.propTypes={children:Mh.default.node,text:Mh.default.string,min:Mh.default.number,max:Mh.default.number,mode:Mh.default.oneOf(["single","multi"]),forceSingleModeWidth:Mh.default.bool,throttle:Mh.default.number,onReady:Mh.default.func};M5.defaultProps={min:1,max:100,mode:"multi",forceSingleModeWidth:!0,throttle:50,autoResize:!0,onReady:Pwt};k5.default=M5;Object.defineProperty(Fx,"__esModule",{value:!0});var _x=Fx.Textfit=void 0,Rwt=k5,HL=Iwt(Rwt);function Iwt(e){return e&&e.__esModule?e:{default:e}}_x=Fx.Textfit=HL.default;var cC=Fx.default=HL.default;const Mwt="_audioButton_1ga7j_6",Bwt="_audioIcon_1ga7j_28",Owt="_spinnerContainer_1ga7j_41",Nwt="_spinnerContainerDone_1ga7j_50",Fwt="_spinner_1ga7j_41",Lwt="_rota_1ga7j_1",_wt="_filler_1ga7j_76",jwt="_fill_1ga7j_76",Uwt="_mask_1ga7j_93",Xf={audioButton:Mwt,audioIcon:Bwt,spinnerContainer:Owt,spinnerContainerDone:Nwt,spinner:Fwt,rota:Lwt,filler:_wt,fill:jwt,mask:Uwt},zwt=e=>{if(!e)return e;let t=e.indexOf("upload/");return t===-1?e:(t+=7,`${e.slice(0,t)}af_22050,br_48k${e.slice(t-1,e.length)}`)};class fh extends ti.Component{constructor(t){super(t),this.state={audioDuration:0,isPlayingAudio:!1},this.audio=null,this.audioDuration=0,this.triedAgain=!1,this.playAudio=this.playAudio.bind(this)}componentDidMount(){this.props.autoplay&&!ur&&(this.delayTimeout=setTimeout(()=>{this.state.isPlayingAudio||this.playAudio()},500))}componentWillUnmount(){this.audio&&this.audio.pause(),clearTimeout(this.delayTimeout)}playAudio(){this.state.isPlayingAudio?(this.audio.pause(),this.setState({isPlayingAudio:!1})):this.state.audioDuration?this.setState({isPlayingAudio:!0},()=>{this.audio.play()}):this.audioDuration?this.setState({isPlayingAudio:!0,audioDuration:this.audioDuration},()=>{this.audio.currentTime=0,this.audio.play()}):(this.audio=new Audio(zwt(this.props.audioUrl)),this.audio.addEventListener("loadedmetadata",()=>{if(this.audio.duration===1/0&&!this.triedAgain)return this.triedAgain=!0,this.playAudio();this.audioDuration=this.audio.duration,this.setState({audioDuration:this.audio.duration,isPlayingAudio:!0},()=>{this.audio.play()})}),this.audio.addEventListener("ended",()=>{this.setState({isPlayingAudio:!1,audioDuration:0})},!1))}render(){return A.jsxs("div",{className:Xf.audioButton,role:"button",tabIndex:0,onClick:this.playAudio,style:{width:this.props.width||null},children:[A.jsx(_x,{className:Xf.audioIcon,mode:"multi",min:1,max:40,children:A.jsx("i",{className:this.state.isPlayingAudio?"fas fa-pause":"fas fa-play"})}),this.state.audioDuration?A.jsxs("div",{className:Xf.spinnerContainer,children:[A.jsx("div",{className:Xf.spinner,style:{animationDuration:`${this.state.audioDuration}s`,animationPlayState:this.state.isPlayingAudio?"running":"paused"}}),A.jsx("div",{className:Xf.filler,style:{animationDuration:`${this.state.audioDuration}s`,animationPlayState:this.state.isPlayingAudio?"running":"paused"}}),A.jsx("div",{className:Xf.mask,style:{animationDuration:`${this.state.audioDuration}s`,animationPlayState:this.state.isPlayingAudio?"running":"paused"}})]}):null]})}}fh.propTypes={audioUrl:Wt.string.isRequired,autoplay:Wt.bool,width:Wt.string};const mc={default:{background:"#fff",text:"#3a3a3a",answers:[{text:"#fff",background:"#ffa31e"},{text:"#fff",background:"#3378ff"},{text:"#fff",background:"#00cf77"},{text:"#fff",background:"#ff462b"}]},spooky:{background:"#292929",text:"#fff",answers:[{text:"#fff",background:"#e57e25"},{text:"#fff",background:"#f78000"},{text:"#fff",background:"#e17400"},{text:"#fff",background:"#d37612"}]},shamrock:{background:"#fff",text:"#3a3a3a",answers:[{text:"#fff",background:"#099441"},{text:"#fff",background:"#0aa949"},{text:"#fff",background:"#077834"},{text:"#fff",background:"#078b3d"}]},merry:{background:"#fff",text:"#3a3a3a",answers:[{text:"#fff",background:"#0cb04a"},{text:"#fff",background:"#f23941"},{text:"#fff",background:ur?"#0cb04a":"#f23941"},{text:"#fff",background:ur?"#f23941":"#0cb04a"}]},freeze:{background:"#fff",text:"#3a3a3a",answers:[{text:"#fff",background:"#4eb5e4"},{text:"#fff",background:"#21a2de"},{text:"#fff",background:"#37abe1"},{text:"#fff",background:"#64bee8"}]},orange:{background:"#fff",text:"#3a3a3a",answers:[{text:"#fff",background:"#e57e25"},{text:"#fff",background:"#f78000"},{text:"#fff",background:"#e17400"},{text:"#fff",background:"#d37612"}]},purple:{background:"#fff",text:"#3a3a3a",answers:[{text:"#fff",background:"#a14db3"},{text:"#fff",background:"#813d8f"},{text:"#fff",background:"#9145a1"},{text:"#fff",background:"#a95eba"}]},red:{background:"#fff",text:"#3a3a3a",answers:[{text:"#fff",background:"#d4112b"},{text:"#fff",background:"#bd0f26"},{text:"#fff",background:"#a50d22"},{text:"#fff",background:"#ec1330"}]},hacker:{background:"#000",text:"#fff",answers:[{text:"#000",background:"rgba(128, 255, 128, 0.8)"},{text:"#000",background:"rgba(128, 255, 128, 0.8)"},{text:"#000",background:"rgba(128, 255, 128, 0.8)"},{text:"#000",background:"rgba(128, 255, 128, 0.8)"}]},tower:{background:"#292929",text:"#fff",answers:[{text:"#fff",background:"#404040"},{text:"#fff",background:"#404040"},{text:"#fff",background:"#404040"},{text:"#fff",background:"#404040"}]}};Ln.addStyles();const u1=new Obt;u1.removeWords("god");const Gwt=["Bot","Tom@Blooket","Spencer@Blooket"],WS=nr.play;class $L extends ti.Component{constructor(t){super(t),this.state={game:{title:"",author:"",desc:"",id:this.props.match.params.id||"",private:!1,questions:[],coverImage:{}},playCount:0,favoriteCount:0,isVerified:!1,isFavorited:!1,isAdmin:!1,showingAnswers:[],reporting:!1,loadingReport:!1,report:"",copying:!1,canCopy:!1,loadingCopy:!1,ready:!1,loadingDelete:!1,zoomedImage:"",imageFailed:!1,plusOnly:!1,hasPlus:!1},this.onShowAnswers=this.onShowAnswers.bind(this),this.onHost=this.onHost.bind(this),this.onHw=this.onHw.bind(this),this.onSolo=this.onSolo.bind(this),this.onFavorite=this.onFavorite.bind(this),this.onReport=this.onReport.bind(this),this.onCopy=this.onCopy.bind(this),this.onCopyConfirm=this.onCopyConfirm.bind(this),this.onDelete=this.onDelete.bind(this),this.loading=!1,this.here=!0}componentDidMount(){return oi(this,null,function*(){const t=this.props.match.params.id,r=yield this.props.user.getData();if(!r){Ue.logError("SetPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}const n=[new Promise(i=>{vi.get("/api/games",{params:{gameId:t}}).then(a=>{i(a.data)}).catch(()=>i(null))}),new Promise(i=>{vi.get("/api/users/favorited",{params:{id:t}}).then(a=>{i(a.data)}).catch(()=>i(!1))})],[c,S]=yield Promise.all(n);if(!c)return this.setState({ready:!0});const s=[...c.questions];s.sort((i,a)=>i.number-a.number);let g=[];Ks("open")==="true"&&(g=s.map(i=>i.number)),this.here&&this.setState({game:{title:c.title,author:c.author,desc:c.desc,id:t,questions:s,private:c.private,coverImage:c.coverImage},playCount:c.playCount,favoriteCount:c.favoriteCount,isVerified:c.verified,showingAnswers:g,user:r,isAdmin:Gwt.includes(r.name),isFavorited:S,plusOnly:c.plusOnly,ready:!0},()=>{c.plusOnly&&vi.get("/api/users/plan").then(i=>{this.here&&this.setState({hasPlus:i.data.hasPlus})}).catch(i=>{this.here&&Ue.logError(i)})})})}componentWillUnmount(){this.here=!1}onShowAnswers(t){const r=[...this.state.showingAnswers],n=r.indexOf(t);n===-1?r.push(t):r.splice(n,1),this.setState({showingAnswers:r})}onFavorite(){this.loading||(this.loading=!0,vi.put("/api/users/updatefavorites",{id:this.props.match.params.id,isUnfavoriting:this.state.isFavorited}).then(()=>{this.here&&this.setState({isFavorited:!this.state.isFavorited,favoriteCount:this.state.isFavorited?this.state.favoriteCount-1:this.state.favoriteCount+1},()=>{this.loading=!1})}).catch(t=>{Ue.logError(t),this.loading=!1}))}onHost(){if(this.loading)return;this.loading=!0,window.open(`${WS}/host?id=${this.state.game.id}`,"_blank").focus(),this.loading=!1}onHw(){if(this.loading)return;this.loading=!0,window.open(`${WS}/hw?id=${this.state.game.id}`,"_blank").focus(),this.loading=!1}onSolo(){this.loading||(this.loading=!0,this.state.game.id&&window&&window.open(`${WS}/solo?id=${this.state.game.id}`,"_blank").focus(),this.loading=!1)}onReport(t){if(!this.loading){if(this.loading=!0,!this.state.game.id){this.loading=!1;return}if(!t){this.loading=!1,this.setState({reporting:!1,loadingReport:!1});return}this.state.isVerified&&(this.loading=!1,this.setState({reporting:!1,loadingReport:!1})),this.setState({loadingReport:!0}),vi.post("/api/reports",{id:this.state.game.id,c:this.state.report}).then(()=>{this.here&&(this.setState({reporting:!1,loadingReport:!1,report:""}),this.loading=!1)}).catch(r=>{Ue.logError(r)})}}onCopy(){this.loading||(this.loading=!0,vi.get("/api/users/plan").then(t=>{this.here&&(t.data.hasPlus?this.setState({canCopy:!0,copying:!0}):this.setState({copying:!0}),this.loading=!1)}).catch(t=>{this.here&&(Ue.logError(t),this.loading=!1,this.setState({copying:!1}))}))}onCopyConfirm(){this.loading||(this.loading=!0,this.setState({loadingCopy:!0}),vi.post("/api/games/copy",{id:this.state.game.id,isDuplicate:!0}).then(t=>{this.here&&this.props.history.push(`/edit?id=${t.data._id}`)}).catch(t=>{this.here&&(Ue.logError(t),this.loading=!1,this.setState({copying:!1,loadingCopy:!1}))}))}onDelete(){this.loading||(this.loading=!0,this.setState({loadingDelete:!0}),vi.delete("/api/games",{params:{gameId:this.state.game.id}}).then(()=>{this.props.history.push("/discover"),window.close()}).catch(t=>{Ue.logError(t),this.setState({loadingDelete:!1})}))}render(){return this.state.ready&&!this.state.game.title?(Ue.logError("SetPage cannot be rendered without this.state.game.title"),A.jsx(hc,{to:"/404"})):A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:`${this.state.ready?this.state.game.title:"View Set"} | Blooket`,desc:"View a Blooket question set to see the questions and their answers. Also, you can host, favorite, report, or duplicate a set here."}),A.jsx(qs,{user:this.state.user,page:"Discover"}),this.state.ready?A.jsx("div",{className:He.profileBody,children:A.jsxs("div",{className:xi.mainRow,children:[A.jsxs("div",{className:xi.leftColumn,children:[!this.state.imageFailed&&this.state.game.coverImage?A.jsx("div",{className:xi.coverImageContainer,children:A.jsx("img",{src:Dn(this.state.game.coverImage.url),alt:"Cover",className:xi.coverImage,onError:()=>this.setState({imageFailed:!0})})}):A.jsx("div",{className:xi.coverFillerContainer,children:A.jsx("img",{src:Re.basic.blooket,alt:"Blooket",className:xi.coverFillerImage})}),A.jsx("div",{className:xi.headerTitle,children:this.state.game.title}),A.jsx("div",{className:xi.headerDesc,children:this.state.game.desc}),A.jsxs("div",{className:xi.headerStatsWrapper,children:[A.jsx("div",{className:xi.headerStat,children:`${Ji(this.state.playCount)} ${this.state.playCount===1?"Play":"Plays"}`}),A.jsx("div",{className:xi.headerStatDivider,children:""}),A.jsx("div",{className:xi.headerStatSmall,children:`${Ji(this.state.favoriteCount)} ${this.state.favoriteCount===1?"Favorite":"Favorites"}`})]}),A.jsxs("div",{className:xi.headerButtonRow,children:[this.state.plusOnly&&!this.state.hasPlus?A.jsx(Ti,{color:"#ff7b24",onClick:()=>this.props.history.push("/upgrade"),outsideClass:Ct(xi.bigScreen,xi.bigHeaderButton),style:{marginBottom:0},children:A.jsxs("div",{className:xi.bigHeaderButtonInside,children:[A.jsx("i",{className:Ct(xi.hostIcon,"fas fa-plus-square")}),"Plus Only"]})}):A.jsxs(A.Fragment,{children:[A.jsx(Ti,{color:"#0bc2cf",onClick:this.onHost,outsideClass:Ct(xi.bigScreen,xi.bigHeaderButton),children:A.jsxs("div",{className:xi.bigHeaderButtonInside,children:[A.jsx("i",{className:Ct(xi.hostIcon,"fas fa-play")}),"Host"]})}),A.jsx(Ti,{color:"#9a49aa",onClick:this.onSolo,children:A.jsxs("div",{className:xi.headerButtonInside,children:[A.jsx("i",{className:Ct(xi.smallHostIcon,"fas fa-user-astronaut")}),"Solo"]})}),A.jsx(Ti,{color:"#9a49aa",onClick:this.onHw,outsideClass:xi.bigScreen,children:A.jsxs("div",{className:xi.headerMidButtonInside,children:[A.jsx("i",{className:Ct(xi.smallHostIcon,"fas fa-file-alt")}),"Assign HW"]})})]}),A.jsx("div",{className:Ct(xi.noHostText,xi.smallScreen),children:"No Hosting on Mobile"})]}),A.jsx("div",{className:xi.smallButtonsContainer,children:(!this.state.plusOnly||this.state.hasPlus)&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:xi.smallButton,role:"button",tabIndex:0,onClick:this.onFavorite,children:[A.jsx("i",{className:Ct(xi.smallIcon,this.state.isFavorited?"fas fa-star":"far fa-star")}),this.state.isFavorited?"Unfavorite":"Favorite"]}),A.jsxs("div",{className:xi.smallButton,role:"button",tabIndex:0,onClick:this.onCopy,children:[A.jsx("i",{className:Ct(xi.smallIcon,"far fa-clone")}),"Copy"]}),A.jsxs("div",{className:xi.smallButton,role:"button",tabIndex:0,onClick:()=>this.setState({reporting:!0}),children:[A.jsx("i",{className:Ct(xi.smallIcon,"far fa-flag")}),"Report"]})]})}),A.jsxs("div",{className:xi.headerBottomContainer,children:[A.jsxs("div",{className:xi.headerBottomRow,children:[A.jsx("i",{className:Ct(xi.headerAuthorIcon,"fas fa-user")}),A.jsx(ss,{className:xi.headerAuthorText,to:`/discover?n=${encodeURIComponent(this.state.game.author)}`,children:this.state.game.author})]}),this.state.isVerified?A.jsxs("div",{className:xi.headerBottomRow,children:[A.jsx("i",{className:Ct(xi.headerVerifiedIcon,"fas fa-check-square")}),A.jsx("div",{className:xi.headerVerifiedText,children:"Verified Set"})]}):null]}),this.state.isAdmin?A.jsx("div",{className:xi.deleteButton,role:"button",tabIndex:0,onDoubleClick:this.onDelete,children:"Delete"}):null]}),A.jsxs("div",{className:xi.questionSection,children:[A.jsxs("div",{className:xi.questionSectionTop,children:[A.jsx("div",{className:xi.numQuestions,children:`${Ji(this.state.game.questions.length)} Question${this.state.game.questions.length===1?"":"s"}`}),A.jsx(Ti,{color:"#0bc2cf",onClick:()=>this.setState({showingAnswers:this.state.showingAnswers.length===this.state.game.questions.length?[]:this.state.game.questions.map(t=>t.number)}),children:A.jsx("div",{className:xi.showAnswersButtonInside,children:this.state.showingAnswers.length===this.state.game.questions.length?"Hide Answers":"Show Answers"})})]}),this.state.game.questions.map(t=>A.jsxs("div",{className:xi.questionContainer,children:[A.jsxs("div",{className:xi.questionRow,children:[A.jsxs("div",{className:xi.questionTextContainer,role:"button",tabIndex:0,onClick:()=>this.onShowAnswers(t.number),children:[A.jsx("div",{className:xi.questionNum,children:`Question ${t.number}`}),A.jsx("div",{className:xi.questionTextRow,children:A.jsx("div",{className:Ct(xi.questionText,{[xi.highlight]:this.state.isAdmin&&u1.isProfane(t.question)}),children:t.question.includes("`*`")?t.question.slice(0,t.question.indexOf("`*`")):t.question})})]}),t.image&&t.image.url||t.audio&&t.audio.url||t.question.includes("`*`")?A.jsx("div",{className:Ct(xi.questionImageContainer,{[xi.questionImageButotn]:t.image&&t.image.url&&!(t.audio&&t.audio.url)}),role:"button",tabIndex:0,onClick:t.image&&t.image.url&&!(t.audio&&t.audio.url)?()=>this.setState({zoomedImage:t.image.url}):()=>{},children:t.audio&&t.audio.url?A.jsx("div",{className:xi.questionFunc,children:A.jsx(fh,{audioUrl:t.audio.url,width:"60%"})}):t.image&&t.image.url?ur?A.jsx("img",{src:Dn(t.image.url),alt:"Question Background",className:xi.questionImage}):A.jsx(Ul,{height:120,width:165,children:A.jsx("img",{src:Dn(t.image.url),alt:"Question Background",className:xi.questionImage})}):t.question.includes("`*`")?A.jsx("div",{className:xi.questionFunc,children:A.jsx(Ln.StaticMathField,{className:xi.qMathField,children:t.question.slice(t.question.indexOf("`*`")+3,t.question.length-3)})}):null}):null,A.jsxs("div",{className:xi.questionInfoRow,children:[t.qType==="typing"?A.jsxs("div",{className:xi.questionInfo,children:[A.jsx("i",{className:Ct("fas fa-keyboard",xi.questionInfoIcon)}),"Typing"]}):t.random?A.jsx("i",{className:Ct("fas fa-random",xi.questionInfo)}):null,A.jsx("div",{className:xi.questionInfo,children:`${t.timeLimit} sec`})]})]}),this.state.showingAnswers.includes(t.number)?A.jsx("div",{className:Ct(xi.answerContainer,{[xi.answerContainerStart]:t.qType==="typing"}),role:"button",tabIndex:0,onClick:()=>this.onShowAnswers(t.number),children:t.qType==="typing"?t.answers.map(r=>A.jsxs("div",{className:xi.typingAnswer,style:{backgroundColor:mc.default.answers[1].background},children:[A.jsx("i",{className:Ct("fas fa-check",xi.typingAnswerIcon)}),A.jsx("div",{className:xi.answerText,children:r})]},r)):t.answers.map((r,n)=>A.jsxs("div",{className:Ct(xi.answer,{[xi.faded]:!t.correctAnswers.includes(r)&&!(this.state.isAdmin&&u1.isProfane(r))}),style:{backgroundColor:this.state.isAdmin&&u1.isProfane(r)?"#e6e600":mc.default.answers[n].background},children:[A.jsx("i",{className:Ct(t.correctAnswers.includes(r)?"fas fa-check":"fas fa-times",xi.answerIcon)}),A.jsx("div",{className:Ct(xi.answerMediaContainer,{[xi.answerMediaCapped]:r.split("`~`").length===2||r.slice(0,3)==="`*`"}),children:r.split("`~`").length===2?A.jsx("img",{src:Dn(r.split("`~`")[1]),alt:"Answer",className:xi.answerImg,draggable:!1}):r.slice(0,3)==="`*`"?A.jsx(Ln.StaticMathField,{className:xi.mathField,children:r.slice(3,r.length-3)}):A.jsx("div",{className:xi.answerText,children:r})})]},r))}):null]},t.number)),A.jsx("div",{className:xi.bottomSpacer})]})]})}):null,this.state.zoomedImage?A.jsx("div",{className:Ct(He.modal,He.modalButton),role:"button",tabIndex:0,onClick:()=>this.setState({zoomedImage:""}),children:A.jsx("img",{src:Dn(this.state.zoomedImage),alt:"Upload",className:He.bigImage,draggable:!1})}):null,this.state.reporting?A.jsx("div",{className:xi.reportModal,children:A.jsxs("div",{className:xi.reportContainer,children:[A.jsx("div",{className:xi.reportHeader,children:"Report Set"}),A.jsxs("div",{className:xi.reportText,children:["If this set is offensive, abusive, inappropriate, misleading, and/or contains false information, please let us know below."," We appreciate your time and hope that together we can make Blooket a safe place to learn."]}),A.jsx("textarea",{className:Ct(xi.reportInput,{[xi.reportInputFilled]:this.state.report}),onChange:t=>{this.setState({report:t.target.value})},value:this.state.report,"data-gramm_editor":"false"}),this.state.loadingReport?A.jsx(no,{}):A.jsxs("div",{className:xi.reportButtonContainer,children:[A.jsx("div",{className:xi.reportYesButton,role:"button",tabIndex:0,onClick:()=>this.onReport(!0),children:"Report"}),A.jsx("div",{className:xi.reportNoButton,role:"button",tabIndex:0,onClick:()=>this.onReport(!1),children:"Cancel"})]})]})}):null,this.state.copying?this.state.canCopy?A.jsx(gr,{text:this.state.loadingCopy?"Copying...":"Do you want to create a copy of this question set?",loading:this.state.loadingCopy,buttonOne:{text:"Yes",click:this.onCopyConfirm,color:"blue"},buttonTwo:{text:"No",click:()=>{this.setState({copying:!1,loadingCopy:!1,canCopy:!1}),this.loading=!1},color:"blue"}}):A.jsx(gr,{text:"Get Blooket Plus to Duplicate Sets",buttonOne:{text:"Upgrade",click:()=>this.props.history.push("/upgrade"),color:"orange"},buttonTwo:{text:"Not Now",click:()=>{this.setState({copying:!1,loadingCopy:!1}),this.loading=!1},color:"blue"}}):null,this.state.loadingDelete?A.jsx(gr,{text:"Deleting set...",loading:this.state.loadingDelete}):null]})}}$L.propTypes={match:Wt.object,history:Wt.object.isRequired,user:Wt.object};const Hwt=()=>({}),$wt=e=>ws({},e),Vwt=Sn(Ts(Is(Hwt,$wt)($L))),Wwt="_topRow_1k32p_1",Ywt="_topButton_1k32p_10",Xwt="_topButtonInside_1k32p_14",Qwt="_topButtonInsideBig_1k32p_15",Kwt="_searchBoxHolder_1k32p_27",Jwt="_searchContainer_1k32p_44",Zwt="_searchIcon_1k32p_63",qwt="_searchInput_1k32p_79",tTt="_spacer_1k32p_97",eTt="_hitsHolder_1k32p_101",iTt="_hitsContainer_1k32p_105",rTt="_noResultsText_1k32p_114",nTt="_noResultsBlook_1k32p_127",sTt="_noResultsSub_1k32p_133",aTt="_languagesHeader_1k32p_139",oTt="_languagesWrapper_1k32p_146",lTt="_languageButton_1k32p_154",uTt="_languageButtonInside_1k32p_158",hTt="_languageImg_1k32p_167",cTt="_languageImgBig_1k32p_172",vs={topRow:Wwt,topButton:Ywt,topButtonInside:Xwt,topButtonInsideBig:Qwt,searchBoxHolder:Kwt,searchContainer:Jwt,searchIcon:Zwt,searchInput:qwt,spacer:tTt,hitsHolder:eTt,hitsContainer:iTt,noResultsText:rTt,noResultsBlook:nTt,noResultsSub:sTt,languagesHeader:aTt,languagesWrapper:oTt,languageButton:lTt,languageButtonInside:uTt,languageImg:hTt,languageImgBig:cTt},fTt=["trivia","math","science","socialstudies","ela","worldlanguages","spanish","french","asl","japanese"],fD=[{slug:"spanish",name:"Spanish",img:Re.discoverCategories.spanishFlag,color:"#f7d322"},{slug:"french",name:"French",img:Re.discoverCategories.frenchFlag,color:"#006cba"},{slug:"japanese",name:"Japanese",img:Re.discoverCategories.japaneseFlag,color:"#bd012a"},{slug:"asl",name:"ASL",img:Re.discoverCategories.aslIcon,color:"#eda6c6"}],VL=({hits:e,searched:t})=>A.jsx("div",{className:vs.hitsHolder,children:e.length>0?A.jsx("div",{className:vs.hitsContainer,children:e.map(r=>A.jsx(Nx,{set:r},r._id))}):t?A.jsxs("div",{className:vs.noResultsText,children:[A.jsx(xn,{name:"Blobfish",className:vs.noResultsBlook}),"No Results in this Category",A.jsx(ss,{className:vs.noResultsSub,to:"/discover",children:"Try to search all sets"})]}):null});VL.propTypes={hits:Wt.array,searched:Wt.bool};class WL extends ti.Component{constructor(t){super(t),this.state={user:{},searchQuery:"",searched:!1,hits:[],isLanguages:!1,isLanguage:!1},this.here=!0,this.category="",this.getCategory=this.getCategory.bind(this),this.renderByCategory=this.renderByCategory.bind(this)}componentDidMount(){return oi(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ue.logError("CategoryPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}this.setState({user:t})})}componentDidUpdate(){this.category!==this.props.match.params.category&&this.renderByCategory()}componentWillUnmount(){this.here=!1}getCategory(t){if(t==="worldlanguages")return this.setState({isLanguages:!0});vi.get("/api/games/category",{params:{category:t}}).then(r=>{if(!this.here)return;const n=[...r.data.filter(c=>!c.private&&c.numQuestions>0)];n.sort((c,S)=>S.playCount-c.playCount),this.setState({hits:n,isLanguages:!1,isLanguage:fD.map(c=>c.slug).includes(this.category),searched:!0},()=>{document.getElementById("page-body").scrollTo(0,0)})}).catch(r=>{Ue.logError(r)})}renderByCategory(){this.category=this.props.match.params.category,this.getCategory(this.category)}render(){return fTt.includes(this.props.match.params.category)?A.jsxs("div",{className:ur?He.mBody:He.body,id:"page-body",children:[A.jsx(nn,{title:"Verified Sets | Blooket",desc:"Search and discover new sets from a large collection in a specific category."}),A.jsx(qs,{user:this.state.user,page:""}),A.jsx("div",{className:He.profileBody,children:this.state.isLanguages?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:vs.languagesHeader,children:"Choose a Language"}),A.jsx("div",{className:vs.languagesWrapper,children:fD.map(t=>A.jsxs(Ti,{outsideClass:vs.languageButton,insideClass:vs.languageButtonInside,color:t.color,linkTo:`/category/${t.slug}`,children:[A.jsx("img",{src:t.img,alt:t.name,className:Ct(vs.languageImg,{[vs.languageImgBig]:t.slug==="asl"}),draggable:!1}),t.name]},t.slug))})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:vs.topRow,children:[A.jsx(Ti,{outsideClass:vs.topButton,insideClass:vs.topButtonInside,color:"#0bc2cf",linkTo:"/discover",children:"Back to All Sets"}),this.state.isLanguage&&A.jsx(Ti,{outsideClass:vs.topButton,insideClass:vs.topButtonInsideBig,color:"#9a49aa",linkTo:"/category/worldlanguages",children:"Back to Languages"})]}),A.jsx("div",{className:vs.searchBoxHolder,children:A.jsxs("div",{className:vs.searchContainer,children:[A.jsx("input",{className:vs.searchInput,type:"search",value:this.state.searchQuery,onChange:t=>this.setState({searchQuery:t.target.value.slice(0,50)}),placeholder:"Search for a Set..."}),A.jsx("i",{className:Ct(vs.searchIcon,"fas fa-search")})]})}),this.state.searched&&A.jsxs(A.Fragment,{children:[A.jsx(VL,{hits:this.state.hits.filter(t=>t.title.toLowerCase().includes(this.state.searchQuery)),searched:this.state.searched}),A.jsx("div",{className:vs.spacer})]})]})})]}):A.jsx(hc,{to:"/discover"})}}WL.propTypes={user:Wt.object,match:Wt.object};const dTt=()=>({}),pTt=e=>ws({},e),vTt=Sn(Ts(Is(dTt,pTt)(WL)));const mTt=function(){let e=0;return function(){return e++}}();function hn(e){return e===null||typeof e=="undefined"}function ts(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Hr(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}const aa=e=>(typeof e=="number"||e instanceof Number)&&isFinite(+e);function jo(e,t){return aa(e)?e:t}function Gr(e,t){return typeof e=="undefined"?t:e}const gTt=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:e/t,YL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function rs(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function un(e,t,r,n){let c,S,s;if(ts(e))for(S=e.length,c=0;c<S;c++)t.call(r,e[c],c);else if(Hr(e))for(s=Object.keys(e),S=s.length,c=0;c<S;c++)t.call(r,e[s[c]],s[c])}function dy(e,t){let r,n,c,S;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(c=e[r],S=t[r],c.datasetIndex!==S.datasetIndex||c.index!==S.index)return!1;return!0}function py(e){if(ts(e))return e.map(py);if(Hr(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let c=0;for(;c<n;++c)t[r[c]]=py(e[r[c]]);return t}return e}function XL(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function yTt(e,t,r,n){if(!XL(e))return;const c=t[e],S=r[e];Hr(c)&&Hr(S)?Sm(c,S,n):t[e]=py(S)}function Sm(e,t,r){const n=ts(t)?t:[t],c=n.length;if(!Hr(e))return e;r=r||{};const S=r.merger||yTt;for(let s=0;s<c;++s){if(t=n[s],!Hr(t))continue;const g=Object.keys(t);for(let i=0,a=g.length;i<a;++i)S(g[i],e,t,r)}return e}function Uv(e,t){return Sm(e,t,{merger:xTt})}function xTt(e,t,r){if(!XL(e))return;const n=t[e],c=r[e];Hr(n)&&Hr(c)?Uv(n,c):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=py(c))}const dD={"":e=>e,x:e=>e.x,y:e=>e.y};function gc(e,t){return(dD[t]||(dD[t]=bTt(t)))(e)}function bTt(e){const t=STt(e);return r=>{for(const n of t){if(n==="")break;r=r&&r[n]}return r}}function STt(e){const t=e.split("."),r=[];let n="";for(const c of t)n+=c,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function B5(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Zo=e=>typeof e!="undefined",yc=e=>typeof e=="function",pD=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function wTt(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const us=Math.PI,An=2*us,TTt=An+us,vy=Number.POSITIVE_INFINITY,CTt=us/180,ls=us/2,tv=us/4,vD=us*2/3,$o=Math.log10,wu=Math.sign;function mD(e){const t=Math.round(e);e=zv(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor($o(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function ETt(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(r|0)&&t.push(r),t.sort((c,S)=>c-S).pop(),t}function $d(e){return!isNaN(parseFloat(e))&&isFinite(e)}function zv(e,t,r){return Math.abs(e-t)<r}function kTt(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function QL(e,t,r){let n,c,S;for(n=0,c=e.length;n<c;n++)S=e[n][r],isNaN(S)||(t.min=Math.min(t.min,S),t.max=Math.max(t.max,S))}function Bl(e){return e*(us/180)}function O5(e){return e*(180/us)}function gD(e){if(!aa(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function KL(e,t){const r=t.x-e.x,n=t.y-e.y,c=Math.sqrt(r*r+n*n);let S=Math.atan2(n,r);return S<-.5*us&&(S+=An),{angle:S,distance:c}}function fC(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function DTt(e,t){return(e-t+TTt)%An-us}function fl(e){return(e%An+An)%An}function wm(e,t,r,n){const c=fl(e),S=fl(t),s=fl(r),g=fl(S-c),i=fl(s-c),a=fl(c-S),v=fl(c-s);return c===S||c===s||n&&S===s||g>i&&a<v}function wa(e,t,r){return Math.max(t,Math.min(r,e))}function ATt(e){return wa(e,-32768,32767)}function my(e,t,r,n=1e-6){return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function N5(e,t,r){r=r||(s=>e[s]<t);let n=e.length-1,c=0,S;for(;n-c>1;)S=c+n>>1,r(S)?c=S:n=S;return{lo:c,hi:n}}const nf=(e,t,r,n)=>N5(e,r,n?c=>e[c][t]<=r:c=>e[c][t]<r),PTt=(e,t,r)=>N5(e,r,n=>e[n][t]>=r);function RTt(e,t,r){let n=0,c=e.length;for(;n<c&&e[n]<t;)n++;for(;c>n&&e[c-1]>r;)c--;return n>0||c<e.length?e.slice(n,c):e}const JL=["push","pop","shift","splice","unshift"];function ITt(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),JL.forEach(r=>{const n="_onData"+B5(r),c=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...S){const s=c.apply(this,S);return e._chartjs.listeners.forEach(g=>{typeof g[n]=="function"&&g[n](...S)}),s}})})}function yD(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,c=n.indexOf(t);c!==-1&&n.splice(c,1),!(n.length>0)&&(JL.forEach(S=>{delete e[S]}),delete e._chartjs)}function ZL(e){const t=new Set;let r,n;for(r=0,n=e.length;r<n;++r)t.add(e[r]);return t.size===n?e:Array.from(t)}const qL=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function t_(e,t,r){const n=r||(s=>Array.prototype.slice.call(s));let c=!1,S=[];return function(...s){S=n(s),c||(c=!0,qL.call(window,()=>{c=!1,e.apply(t,S)}))}}function MTt(e,t){let r;return function(...n){return t?(clearTimeout(r),r=setTimeout(e,t,n)):e.apply(this,n),t}}const BTt=e=>e==="start"?"left":e==="end"?"right":"center",xD=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2;function e_(e,t,r){const n=t.length;let c=0,S=n;if(e._sorted){const{iScale:s,_parsed:g}=e,i=s.axis,{min:a,max:v,minDefined:f,maxDefined:h}=s.getUserBounds();f&&(c=wa(Math.min(nf(g,s.axis,a).lo,r?n:nf(t,i,s.getPixelForValue(a)).lo),0,n-1)),h?S=wa(Math.max(nf(g,s.axis,v,!0).hi+1,r?0:nf(t,i,s.getPixelForValue(v),!0).hi+1),c,n)-c:S=n-c}return{start:c,count:S}}function i_(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,c={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=c,!0;const S=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,c),S}const rg=e=>e===0||e===1,bD=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*An/r)),SD=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*An/r)+1,Gv={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ls)+1,easeOutSine:e=>Math.sin(e*ls),easeInOutSine:e=>-.5*(Math.cos(us*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>rg(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>rg(e)?e:bD(e,.075,.3),easeOutElastic:e=>rg(e)?e:SD(e,.075,.3),easeInOutElastic(e){return rg(e)?e:e<.5?.5*bD(e*2,.1125,.45):.5+.5*SD(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Gv.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Gv.easeInBounce(e*2)*.5:Gv.easeOutBounce(e*2-1)*.5+.5};function r0(e){return e+.5|0}const Wh=(e,t,r)=>Math.max(Math.min(e,r),t);function mv(e){return Wh(r0(e*2.55),0,255)}function sc(e){return Wh(r0(e*255),0,255)}function Xu(e){return Wh(r0(e/2.55)/100,0,1)}function wD(e){return Wh(r0(e*100),0,100)}const No={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dC=[..."0123456789ABCDEF"],OTt=e=>dC[e&15],NTt=e=>dC[(e&240)>>4]+dC[e&15],ng=e=>(e&240)>>4===(e&15),FTt=e=>ng(e.r)&&ng(e.g)&&ng(e.b)&&ng(e.a);function LTt(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&No[e[1]]*17,g:255&No[e[2]]*17,b:255&No[e[3]]*17,a:t===5?No[e[4]]*17:255}:(t===7||t===9)&&(r={r:No[e[1]]<<4|No[e[2]],g:No[e[3]]<<4|No[e[4]],b:No[e[5]]<<4|No[e[6]],a:t===9?No[e[7]]<<4|No[e[8]]:255})),r}const _Tt=(e,t)=>e<255?t(e):"";function jTt(e){var t=FTt(e)?OTt:NTt;return e?"#"+t(e.r)+t(e.g)+t(e.b)+_Tt(e.a,t):void 0}const UTt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function r_(e,t,r){const n=t*Math.min(r,1-r),c=(S,s=(S+e/30)%12)=>r-n*Math.max(Math.min(s-3,9-s,1),-1);return[c(0),c(8),c(4)]}function zTt(e,t,r){const n=(c,S=(c+e/60)%6)=>r-r*t*Math.max(Math.min(S,4-S,1),0);return[n(5),n(3),n(1)]}function GTt(e,t,r){const n=r_(e,1,.5);let c;for(t+r>1&&(c=1/(t+r),t*=c,r*=c),c=0;c<3;c++)n[c]*=1-t-r,n[c]+=t;return n}function HTt(e,t,r,n,c){return e===c?(t-r)/n+(t<r?6:0):t===c?(r-e)/n+2:(e-t)/n+4}function F5(e){const r=e.r/255,n=e.g/255,c=e.b/255,S=Math.max(r,n,c),s=Math.min(r,n,c),g=(S+s)/2;let i,a,v;return S!==s&&(v=S-s,a=g>.5?v/(2-S-s):v/(S+s),i=HTt(r,n,c,v,S),i=i*60+.5),[i|0,a||0,g]}function L5(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(sc)}function _5(e,t,r){return L5(r_,e,t,r)}function $Tt(e,t,r){return L5(GTt,e,t,r)}function VTt(e,t,r){return L5(zTt,e,t,r)}function n_(e){return(e%360+360)%360}function WTt(e){const t=UTt.exec(e);let r=255,n;if(!t)return;t[5]!==n&&(r=t[6]?mv(+t[5]):sc(+t[5]));const c=n_(+t[2]),S=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?n=$Tt(c,S,s):t[1]==="hsv"?n=VTt(c,S,s):n=_5(c,S,s),{r:n[0],g:n[1],b:n[2],a:r}}function YTt(e,t){var r=F5(e);r[0]=n_(r[0]+t),r=_5(r),e.r=r[0],e.g=r[1],e.b=r[2]}function XTt(e){if(!e)return;const t=F5(e),r=t[0],n=wD(t[1]),c=wD(t[2]);return e.a<255?`hsla(${r}, ${n}%, ${c}%, ${Xu(e.a)})`:`hsl(${r}, ${n}%, ${c}%)`}const TD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},CD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function QTt(){const e={},t=Object.keys(CD),r=Object.keys(TD);let n,c,S,s,g;for(n=0;n<t.length;n++){for(s=g=t[n],c=0;c<r.length;c++)S=r[c],g=g.replace(S,TD[S]);S=parseInt(CD[s],16),e[g]=[S>>16&255,S>>8&255,S&255]}return e}let sg;function KTt(e){sg||(sg=QTt(),sg.transparent=[0,0,0,0]);const t=sg[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const JTt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ZTt(e){const t=JTt.exec(e);let r=255,n,c,S;if(t){if(t[7]!==n){const s=+t[7];r=t[8]?mv(s):Wh(s*255,0,255)}return n=+t[1],c=+t[3],S=+t[5],n=255&(t[2]?mv(n):Wh(n,0,255)),c=255&(t[4]?mv(c):Wh(c,0,255)),S=255&(t[6]?mv(S):Wh(S,0,255)),{r:n,g:c,b:S,a:r}}}function qTt(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Xu(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const YS=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Qf=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function t2t(e,t,r){const n=Qf(Xu(e.r)),c=Qf(Xu(e.g)),S=Qf(Xu(e.b));return{r:sc(YS(n+r*(Qf(Xu(t.r))-n))),g:sc(YS(c+r*(Qf(Xu(t.g))-c))),b:sc(YS(S+r*(Qf(Xu(t.b))-S))),a:e.a+r*(t.a-e.a)}}function ag(e,t,r){if(e){let n=F5(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,t===0?360:1)),n=_5(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function s_(e,t){return e&&Object.assign(t||{},e)}function ED(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=sc(e[3]))):(t=s_(e,{r:0,g:0,b:0,a:1}),t.a=sc(t.a)),t}function e2t(e){return e.charAt(0)==="r"?ZTt(e):WTt(e)}class gy{constructor(t){if(t instanceof gy)return t;const r=typeof t;let n;r==="object"?n=ED(t):r==="string"&&(n=LTt(t)||KTt(t)||e2t(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=s_(this._rgb);return t&&(t.a=Xu(t.a)),t}set rgb(t){this._rgb=ED(t)}rgbString(){return this._valid?qTt(this._rgb):void 0}hexString(){return this._valid?jTt(this._rgb):void 0}hslString(){return this._valid?XTt(this._rgb):void 0}mix(t,r){if(t){const n=this.rgb,c=t.rgb;let S;const s=r===S?.5:r,g=2*s-1,i=n.a-c.a,a=((g*i===-1?g:(g+i)/(1+g*i))+1)/2;S=1-a,n.r=255&a*n.r+S*c.r+.5,n.g=255&a*n.g+S*c.g+.5,n.b=255&a*n.b+S*c.b+.5,n.a=s*n.a+(1-s)*c.a,this.rgb=n}return this}interpolate(t,r){return t&&(this._rgb=t2t(this._rgb,t._rgb,r)),this}clone(){return new gy(this.rgb)}alpha(t){return this._rgb.a=sc(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=r0(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ag(this._rgb,2,t),this}darken(t){return ag(this._rgb,2,-t),this}saturate(t){return ag(this._rgb,1,t),this}desaturate(t){return ag(this._rgb,1,-t),this}rotate(t){return YTt(this._rgb,t),this}}function a_(e){return new gy(e)}function o_(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function kD(e){return o_(e)?e:a_(e)}function XS(e){return o_(e)?e:a_(e).saturate(.5).darken(.1).hexString()}const Sf=Object.create(null),pC=Object.create(null);function Hv(e,t){if(!t)return e;const r=t.split(".");for(let n=0,c=r.length;n<c;++n){const S=r[n];e=e[S]||(e[S]=Object.create(null))}return e}function QS(e,t,r){return typeof t=="string"?Sm(Hv(e,t),r):Sm(Hv(e,""),t)}class i2t{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,n)=>XS(n.backgroundColor),this.hoverBorderColor=(r,n)=>XS(n.borderColor),this.hoverColor=(r,n)=>XS(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,r){return QS(this,t,r)}get(t){return Hv(this,t)}describe(t,r){return QS(pC,t,r)}override(t,r){return QS(Sf,t,r)}route(t,r,n,c){const S=Hv(this,t),s=Hv(this,n),g="_"+r;Object.defineProperties(S,{[g]:{value:S[r],writable:!0},[r]:{enumerable:!0,get(){const i=this[g],a=s[c];return Hr(i)?Object.assign({},a,i):Gr(i,a)},set(i){this[g]=i}}})}}var jr=new i2t({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function r2t(e){return!e||hn(e.size)||hn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function yy(e,t,r,n,c){let S=t[c];return S||(S=t[c]=e.measureText(c).width,r.push(c)),S>n&&(n=S),n}function n2t(e,t,r,n){n=n||{};let c=n.data=n.data||{},S=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(c=n.data={},S=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let s=0;const g=r.length;let i,a,v,f,h;for(i=0;i<g;i++)if(f=r[i],f!=null&&ts(f)!==!0)s=yy(e,c,S,s,f);else if(ts(f))for(a=0,v=f.length;a<v;a++)h=f[a],h!=null&&!ts(h)&&(s=yy(e,c,S,s,h));e.restore();const u=S.length/2;if(u>r.length){for(i=0;i<u;i++)delete c[S[i]];S.splice(0,u)}return s}function jc(e,t,r){const n=e.currentDevicePixelRatio,c=r!==0?Math.max(r/2,.5):0;return Math.round((t-c)*n)/n+c}function DD(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function vC(e,t,r,n){s2t(e,t,r,n)}function s2t(e,t,r,n,c){let S,s,g,i,a,v;const f=t.pointStyle,h=t.rotation,u=t.radius;let o=(h||0)*CTt;if(f&&typeof f=="object"&&(S=f.toString(),S==="[object HTMLImageElement]"||S==="[object HTMLCanvasElement]")){e.save(),e.translate(r,n),e.rotate(o),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(u)||u<=0)){switch(e.beginPath(),f){default:e.arc(r,n,u,0,An),e.closePath();break;case"triangle":e.moveTo(r+Math.sin(o)*u,n-Math.cos(o)*u),o+=vD,e.lineTo(r+Math.sin(o)*u,n-Math.cos(o)*u),o+=vD,e.lineTo(r+Math.sin(o)*u,n-Math.cos(o)*u),e.closePath();break;case"rectRounded":a=u*.516,i=u-a,s=Math.cos(o+tv)*i,g=Math.sin(o+tv)*i,e.arc(r-s,n-g,a,o-us,o-ls),e.arc(r+g,n-s,a,o-ls,o),e.arc(r+s,n+g,a,o,o+ls),e.arc(r-g,n+s,a,o+ls,o+us),e.closePath();break;case"rect":if(!h){i=Math.SQRT1_2*u,v=i,e.rect(r-v,n-i,2*v,2*i);break}o+=tv;case"rectRot":s=Math.cos(o)*u,g=Math.sin(o)*u,e.moveTo(r-s,n-g),e.lineTo(r+g,n-s),e.lineTo(r+s,n+g),e.lineTo(r-g,n+s),e.closePath();break;case"crossRot":o+=tv;case"cross":s=Math.cos(o)*u,g=Math.sin(o)*u,e.moveTo(r-s,n-g),e.lineTo(r+s,n+g),e.moveTo(r+g,n-s),e.lineTo(r-g,n+s);break;case"star":s=Math.cos(o)*u,g=Math.sin(o)*u,e.moveTo(r-s,n-g),e.lineTo(r+s,n+g),e.moveTo(r+g,n-s),e.lineTo(r-g,n+s),o+=tv,s=Math.cos(o)*u,g=Math.sin(o)*u,e.moveTo(r-s,n-g),e.lineTo(r+s,n+g),e.moveTo(r+g,n-s),e.lineTo(r-g,n+s);break;case"line":s=Math.cos(o)*u,g=Math.sin(o)*u,e.moveTo(r-s,n-g),e.lineTo(r+s,n+g);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(o)*u,n+Math.sin(o)*u);break}e.fill(),t.borderWidth>0&&e.stroke()}}function Tm(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function l_(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function u_(e){e.restore()}function a2t(e,t,r,n,c){if(!t)return e.lineTo(r.x,r.y);if(c==="middle"){const S=(t.x+r.x)/2;e.lineTo(S,t.y),e.lineTo(S,r.y)}else c==="after"!=!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function o2t(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function xy(e,t,r,n,c,S={}){const s=ts(t)?t:[t],g=S.strokeWidth>0&&S.strokeColor!=="";let i,a;for(e.save(),e.font=c.string,l2t(e,S),i=0;i<s.length;++i)a=s[i],g&&(S.strokeColor&&(e.strokeStyle=S.strokeColor),hn(S.strokeWidth)||(e.lineWidth=S.strokeWidth),e.strokeText(a,r,n,S.maxWidth)),e.fillText(a,r,n,S.maxWidth),u2t(e,r,n,a,S),n+=c.lineHeight;e.restore()}function l2t(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),hn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function u2t(e,t,r,n,c){if(c.strikethrough||c.underline){const S=e.measureText(n),s=t-S.actualBoundingBoxLeft,g=t+S.actualBoundingBoxRight,i=r-S.actualBoundingBoxAscent,a=r+S.actualBoundingBoxDescent,v=c.strikethrough?(i+a)/2:a;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=c.decorationWidth||2,e.moveTo(s,v),e.lineTo(g,v),e.stroke()}}function by(e,t){const{x:r,y:n,w:c,h:S,radius:s}=t;e.arc(r+s.topLeft,n+s.topLeft,s.topLeft,-ls,us,!0),e.lineTo(r,n+S-s.bottomLeft),e.arc(r+s.bottomLeft,n+S-s.bottomLeft,s.bottomLeft,us,ls,!0),e.lineTo(r+c-s.bottomRight,n+S),e.arc(r+c-s.bottomRight,n+S-s.bottomRight,s.bottomRight,ls,0,!0),e.lineTo(r+c,n+s.topRight),e.arc(r+c-s.topRight,n+s.topRight,s.topRight,0,-ls,!0),e.lineTo(r+s.topLeft,n)}const h2t=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),c2t=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function f2t(e,t){const r=(""+e).match(h2t);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}const d2t=e=>+e||0;function j5(e,t){const r={},n=Hr(t),c=n?Object.keys(t):t,S=Hr(e)?n?s=>Gr(e[s],e[t[s]]):s=>e[s]:()=>e;for(const s of c)r[s]=d2t(S(s));return r}function h_(e){return j5(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ed(e){return j5(e,["topLeft","topRight","bottomLeft","bottomRight"])}function qo(e){const t=h_(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Co(e,t){e=e||{},t=t||jr.font;let r=Gr(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let n=Gr(e.style,t.style);n&&!(""+n).match(c2t)&&(console.warn('Invalid font style specified: "'+n+'"'),n="");const c={family:Gr(e.family,t.family),lineHeight:f2t(Gr(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:Gr(e.weight,t.weight),string:""};return c.string=r2t(c),c}function og(e,t,r,n){let c,S,s;for(c=0,S=e.length;c<S;++c)if(s=e[c],s!==void 0&&s!==void 0)return s}function p2t(e,t,r){const{min:n,max:c}=e,S=YL(t,(c-n)/2),s=(g,i)=>r&&g===0?0:g+i;return{min:s(n,-Math.abs(S)),max:s(c,S)}}function kc(e,t){return Object.assign(Object.create(e),t)}function U5(e,t=[""],r=e,n,c=()=>e[0]){Zo(n)||(n=p_("_fallback",e));const S={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:n,_getTarget:c,override:s=>U5([s,...e],t,r,n)};return new Proxy(S,{deleteProperty(s,g){return delete s[g],delete s._keys,delete e[0][g],!0},get(s,g){return f_(s,g,()=>w2t(g,t,e,s))},getOwnPropertyDescriptor(s,g){return Reflect.getOwnPropertyDescriptor(s._scopes[0],g)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(s,g){return PD(s).includes(g)},ownKeys(s){return PD(s)},set(s,g,i){const a=s._storage||(s._storage=c());return s[g]=a[g]=i,delete s._keys,!0}})}function Vd(e,t,r,n){const c={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:c_(e,n),setContext:S=>Vd(e,S,r,n),override:S=>Vd(e.override(S),t,r,n)};return new Proxy(c,{deleteProperty(S,s){return delete S[s],delete e[s],!0},get(S,s,g){return f_(S,s,()=>m2t(S,s,g))},getOwnPropertyDescriptor(S,s){return S._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(S,s){return Reflect.has(e,s)},ownKeys(){return Reflect.ownKeys(e)},set(S,s,g){return e[s]=g,delete S[s],!0}})}function c_(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:c=t.allKeys}=e;return{allKeys:c,scriptable:r,indexable:n,isScriptable:yc(r)?r:()=>r,isIndexable:yc(n)?n:()=>n}}const v2t=(e,t)=>e?e+B5(t):t,z5=(e,t)=>Hr(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function f_(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const n=r();return e[t]=n,n}function m2t(e,t,r){const{_proxy:n,_context:c,_subProxy:S,_descriptors:s}=e;let g=n[t];return yc(g)&&s.isScriptable(t)&&(g=g2t(t,g,e,r)),ts(g)&&g.length&&(g=y2t(t,g,e,s.isIndexable)),z5(t,g)&&(g=Vd(g,c,S&&S[t],s)),g}function g2t(e,t,r,n){const{_proxy:c,_context:S,_subProxy:s,_stack:g}=r;if(g.has(e))throw new Error("Recursion detected: "+Array.from(g).join("->")+"->"+e);return g.add(e),t=t(S,s||n),g.delete(e),z5(e,t)&&(t=G5(c._scopes,c,e,t)),t}function y2t(e,t,r,n){const{_proxy:c,_context:S,_subProxy:s,_descriptors:g}=r;if(Zo(S.index)&&n(e))t=t[S.index%t.length];else if(Hr(t[0])){const i=t,a=c._scopes.filter(v=>v!==i);t=[];for(const v of i){const f=G5(a,c,e,v);t.push(Vd(f,S,s&&s[e],g))}}return t}function d_(e,t,r){return yc(e)?e(t,r):e}const x2t=(e,t)=>e===!0?t:typeof e=="string"?gc(t,e):void 0;function b2t(e,t,r,n,c){for(const S of t){const s=x2t(r,S);if(s){e.add(s);const g=d_(s._fallback,r,c);if(Zo(g)&&g!==r&&g!==n)return g}else if(s===!1&&Zo(n)&&r!==n)return null}return!1}function G5(e,t,r,n){const c=t._rootScopes,S=d_(t._fallback,r,n),s=[...e,...c],g=new Set;g.add(n);let i=AD(g,s,r,S||r,n);return i===null||Zo(S)&&S!==r&&(i=AD(g,s,S,i,n),i===null)?!1:U5(Array.from(g),[""],c,S,()=>S2t(t,r,n))}function AD(e,t,r,n,c){for(;r;)r=b2t(e,t,r,n,c);return r}function S2t(e,t,r){const n=e._getTarget();t in n||(n[t]={});const c=n[t];return ts(c)&&Hr(r)?r:c}function w2t(e,t,r,n){let c;for(const S of t)if(c=p_(v2t(S,e),r),Zo(c))return z5(e,c)?G5(r,n,e,c):c}function p_(e,t){for(const r of t){if(!r)continue;const n=r[e];if(Zo(n))return n}}function PD(e){let t=e._keys;return t||(t=e._keys=T2t(e._scopes)),t}function T2t(e){const t=new Set;for(const r of e)for(const n of Object.keys(r).filter(c=>!c.startsWith("_")))t.add(n);return Array.from(t)}function v_(e,t,r,n){const{iScale:c}=e,{key:S="r"}=this._parsing,s=new Array(n);let g,i,a,v;for(g=0,i=n;g<i;++g)a=g+r,v=t[a],s[g]={r:c.parse(gc(v,S),a)};return s}const C2t=Number.EPSILON||1e-14,Wd=(e,t)=>t<e.length&&!e[t].skip&&e[t],m_=e=>e==="x"?"y":"x";function E2t(e,t,r,n){const c=e.skip?t:e,S=t,s=r.skip?t:r,g=fC(S,c),i=fC(s,S);let a=g/(g+i),v=i/(g+i);a=isNaN(a)?0:a,v=isNaN(v)?0:v;const f=n*a,h=n*v;return{previous:{x:S.x-f*(s.x-c.x),y:S.y-f*(s.y-c.y)},next:{x:S.x+h*(s.x-c.x),y:S.y+h*(s.y-c.y)}}}function k2t(e,t,r){const n=e.length;let c,S,s,g,i,a=Wd(e,0);for(let v=0;v<n-1;++v)if(i=a,a=Wd(e,v+1),!(!i||!a)){if(zv(t[v],0,C2t)){r[v]=r[v+1]=0;continue}c=r[v]/t[v],S=r[v+1]/t[v],g=Math.pow(c,2)+Math.pow(S,2),!(g<=9)&&(s=3/Math.sqrt(g),r[v]=c*s*t[v],r[v+1]=S*s*t[v])}}function D2t(e,t,r="x"){const n=m_(r),c=e.length;let S,s,g,i=Wd(e,0);for(let a=0;a<c;++a){if(s=g,g=i,i=Wd(e,a+1),!g)continue;const v=g[r],f=g[n];s&&(S=(v-s[r])/3,g[`cp1${r}`]=v-S,g[`cp1${n}`]=f-S*t[a]),i&&(S=(i[r]-v)/3,g[`cp2${r}`]=v+S,g[`cp2${n}`]=f+S*t[a])}}function A2t(e,t="x"){const r=m_(t),n=e.length,c=Array(n).fill(0),S=Array(n);let s,g,i,a=Wd(e,0);for(s=0;s<n;++s)if(g=i,i=a,a=Wd(e,s+1),!!i){if(a){const v=a[t]-i[t];c[s]=v!==0?(a[r]-i[r])/v:0}S[s]=g?a?wu(c[s-1])!==wu(c[s])?0:(c[s-1]+c[s])/2:c[s-1]:c[s]}k2t(e,c,S),D2t(e,S,t)}function lg(e,t,r){return Math.max(Math.min(e,r),t)}function P2t(e,t){let r,n,c,S,s,g=Tm(e[0],t);for(r=0,n=e.length;r<n;++r)s=S,S=g,g=r<n-1&&Tm(e[r+1],t),S&&(c=e[r],s&&(c.cp1x=lg(c.cp1x,t.left,t.right),c.cp1y=lg(c.cp1y,t.top,t.bottom)),g&&(c.cp2x=lg(c.cp2x,t.left,t.right),c.cp2y=lg(c.cp2y,t.top,t.bottom)))}function R2t(e,t,r,n,c){let S,s,g,i;if(t.spanGaps&&(e=e.filter(a=>!a.skip)),t.cubicInterpolationMode==="monotone")A2t(e,c);else{let a=n?e[e.length-1]:e[0];for(S=0,s=e.length;S<s;++S)g=e[S],i=E2t(a,g,e[Math.min(S+1,s-(n?0:1))%s],t.tension),g.cp1x=i.previous.x,g.cp1y=i.previous.y,g.cp2x=i.next.x,g.cp2y=i.next.y,a=g}t.capBezierPoints&&P2t(e,r)}function g_(){return typeof window!="undefined"&&typeof document!="undefined"}function H5(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Sy(e,t,r){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[r])):n=e,n}const jx=e=>window.getComputedStyle(e,null);function I2t(e,t){return jx(e).getPropertyValue(t)}const M2t=["top","right","bottom","left"];function vf(e,t,r){const n={};r=r?"-"+r:"";for(let c=0;c<4;c++){const S=M2t[c];n[S]=parseFloat(e[t+"-"+S+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const B2t=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function O2t(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:c,offsetY:S}=n;let s=!1,g,i;if(B2t(c,S,e.target))g=c,i=S;else{const a=t.getBoundingClientRect();g=n.clientX-a.left,i=n.clientY-a.top,s=!0}return{x:g,y:i,box:s}}function Hc(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,c=jx(r),S=c.boxSizing==="border-box",s=vf(c,"padding"),g=vf(c,"border","width"),{x:i,y:a,box:v}=O2t(e,r),f=s.left+(v&&g.left),h=s.top+(v&&g.top);let{width:u,height:o}=t;return S&&(u-=s.width+g.width,o-=s.height+g.height),{x:Math.round((i-f)/u*r.width/n),y:Math.round((a-h)/o*r.height/n)}}function N2t(e,t,r){let n,c;if(t===void 0||r===void 0){const S=H5(e);if(!S)t=e.clientWidth,r=e.clientHeight;else{const s=S.getBoundingClientRect(),g=jx(S),i=vf(g,"border","width"),a=vf(g,"padding");t=s.width-a.width-i.width,r=s.height-a.height-i.height,n=Sy(g.maxWidth,S,"clientWidth"),c=Sy(g.maxHeight,S,"clientHeight")}}return{width:t,height:r,maxWidth:n||vy,maxHeight:c||vy}}const KS=e=>Math.round(e*10)/10;function F2t(e,t,r,n){const c=jx(e),S=vf(c,"margin"),s=Sy(c.maxWidth,e,"clientWidth")||vy,g=Sy(c.maxHeight,e,"clientHeight")||vy,i=N2t(e,t,r);let{width:a,height:v}=i;if(c.boxSizing==="content-box"){const f=vf(c,"border","width"),h=vf(c,"padding");a-=h.width+f.width,v-=h.height+f.height}return a=Math.max(0,a-S.width),v=Math.max(0,n?Math.floor(a/n):v-S.height),a=KS(Math.min(a,s,i.maxWidth)),v=KS(Math.min(v,g,i.maxHeight)),a&&!v&&(v=KS(a/2)),{width:a,height:v}}function RD(e,t,r){const n=t||1,c=Math.floor(e.height*n),S=Math.floor(e.width*n);e.height=c/n,e.width=S/n;const s=e.canvas;return s.style&&(r||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||s.height!==c||s.width!==S?(e.currentDevicePixelRatio=n,s.height=c,s.width=S,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const L2t=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}return e}();function ID(e,t){const r=I2t(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function $c(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function _2t(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:n==="middle"?r<.5?e.y:t.y:n==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function j2t(e,t,r,n){const c={x:e.cp2x,y:e.cp2y},S={x:t.cp1x,y:t.cp1y},s=$c(e,c,r),g=$c(c,S,r),i=$c(S,t,r),a=$c(s,g,r),v=$c(g,i,r);return $c(a,v,r)}const MD=new Map;function U2t(e,t){t=t||{};const r=e+JSON.stringify(t);let n=MD.get(r);return n||(n=new Intl.NumberFormat(e,t),MD.set(r,n)),n}function n0(e,t,r){return U2t(t,r).format(e)}const z2t=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},G2t=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function JS(e,t,r){return e?z2t(t,r):G2t()}function H2t(e,t){let r,n;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function $2t(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function y_(e){return e==="angle"?{between:wm,compare:DTt,normalize:fl}:{between:my,compare:(t,r)=>t-r,normalize:t=>t}}function BD({start:e,end:t,count:r,loop:n,style:c}){return{start:e%r,end:t%r,loop:n&&(t-e+1)%r===0,style:c}}function V2t(e,t,r){const{property:n,start:c,end:S}=r,{between:s,normalize:g}=y_(n),i=t.length;let{start:a,end:v,loop:f}=e,h,u;if(f){for(a+=i,v+=i,h=0,u=i;h<u&&s(g(t[a%i][n]),c,S);++h)a--,v--;a%=i,v%=i}return v<a&&(v+=i),{start:a,end:v,loop:f,style:e.style}}function W2t(e,t,r){if(!r)return[e];const{property:n,start:c,end:S}=r,s=t.length,{compare:g,between:i,normalize:a}=y_(n),{start:v,end:f,loop:h,style:u}=V2t(e,t,r),o=[];let d=!1,p=null,l,m,y;const x=()=>i(c,y,l)&&g(c,y)!==0,b=()=>g(S,l)===0||i(S,y,l),w=()=>d||x(),C=()=>!d||b();for(let E=v,T=v;E<=f;++E)m=t[E%s],!m.skip&&(l=a(m[n]),l!==y&&(d=i(l,c,S),p===null&&w()&&(p=g(l,c)===0?E:T),p!==null&&C()&&(o.push(BD({start:p,end:E,loop:h,count:s,style:u})),p=null),T=E,y=l));return p!==null&&o.push(BD({start:p,end:f,loop:h,count:s,style:u})),o}function Y2t(e,t){const r=[],n=e.segments;for(let c=0;c<n.length;c++){const S=W2t(n[c],e.points,t);S.length&&r.push(...S)}return r}function X2t(e,t,r,n){let c=0,S=t-1;if(r&&!n)for(;c<t&&!e[c].skip;)c++;for(;c<t&&e[c].skip;)c++;for(c%=t,r&&(S+=c);S>c&&e[S%t].skip;)S--;return S%=t,{start:c,end:S}}function Q2t(e,t,r,n){const c=e.length,S=[];let s=t,g=e[t],i;for(i=t+1;i<=r;++i){const a=e[i%c];a.skip||a.stop?g.skip||(n=!1,S.push({start:t%c,end:(i-1)%c,loop:n}),t=s=a.stop?i:null):(s=i,g.skip&&(t=i)),g=a}return s!==null&&S.push({start:t%c,end:s%c,loop:n}),S}function K2t(e,t){const r=e.points,n=e.options.spanGaps,c=r.length;if(!c)return[];const S=!!e._loop,{start:s,end:g}=X2t(r,c,S,n);if(n===!0)return OD(e,[{start:s,end:g,loop:S}],r,t);const i=g<s?g+c:g,a=!!e._fullLoop&&s===0&&g===c-1;return OD(e,Q2t(r,s,i,a),r,t)}function OD(e,t,r,n){return!n||!n.setContext||!r?t:J2t(e,t,r,n)}function J2t(e,t,r,n){const c=e._chart.getContext(),S=ND(e.options),{_datasetIndex:s,options:{spanGaps:g}}=e,i=r.length,a=[];let v=S,f=t[0].start,h=f;function u(o,d,p,l){const m=g?-1:1;if(o!==d){for(o+=i;r[o%i].skip;)o-=m;for(;r[d%i].skip;)d+=m;o%i!==d%i&&(a.push({start:o%i,end:d%i,loop:p,style:l}),v=l,f=d%i)}}for(const o of t){f=g?f:o.start;let d=r[f%i],p;for(h=f+1;h<=o.end;h++){const l=r[h%i];p=ND(n.setContext(kc(c,{type:"segment",p0:d,p1:l,p0DataIndex:(h-1)%i,p1DataIndex:h%i,datasetIndex:s}))),Z2t(p,v)&&u(f,h-1,o.loop,v),d=l,v=p}f<h-1&&u(f,h-1,o.loop,v)}return a}function ND(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Z2t(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}class q2t{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,n,c){const S=r.listeners[c],s=r.duration;S.forEach(g=>g({chart:t,initial:r.initial,numSteps:s,currentStep:Math.min(n-r.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=qL.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((n,c)=>{if(!n.running||!n.items.length)return;const S=n.items;let s=S.length-1,g=!1,i;for(;s>=0;--s)i=S[s],i._active?(i._total>n.duration&&(n.duration=i._total),i.tick(t),g=!0):(S[s]=S[S.length-1],S.pop());g&&(c.draw(),this._notify(c,n,t,"progress")),S.length||(n.running=!1,this._notify(c,n,t,"complete"),n.initial=!1),r+=S.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let n=r.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,n)),n}listen(t,r,n){this._getAnims(t).listeners[r].push(n)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,c)=>Math.max(n,c._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const n=r.items;let c=n.length-1;for(;c>=0;--c)n[c].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var $u=new q2t;const FD="transparent",tCt={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const n=kD(e||FD),c=n.valid&&kD(t||FD);return c&&c.valid?c.mix(n,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class eCt{constructor(t,r,n,c){const S=r[n];c=og([t.to,c,S,t.from]);const s=og([t.from,S,c]);this._active=!0,this._fn=t.fn||tCt[t.type||typeof s],this._easing=Gv[t.easing]||Gv.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=n,this._from=s,this._to=c,this._promises=void 0}active(){return this._active}update(t,r,n){if(this._active){this._notify(!1);const c=this._target[this._prop],S=n-this._start,s=this._duration-S;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=S,this._loop=!!t.loop,this._to=og([t.to,r,c,t.from]),this._from=og([t.from,c,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,n=this._duration,c=this._prop,S=this._from,s=this._loop,g=this._to;let i;if(this._active=S!==g&&(s||r<n),!this._active){this._target[c]=g,this._notify(!0);return}if(r<0){this._target[c]=S;return}i=r/n%2,i=s&&i>1?2-i:i,i=this._easing(Math.min(1,Math.max(0,i))),this._target[c]=this._fn(S,g,i)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,n)=>{t.push({res:r,rej:n})})}_notify(t){const r=t?"res":"rej",n=this._promises||[];for(let c=0;c<n.length;c++)n[c][r]()}}const iCt=["x","y","borderWidth","radius","tension"],rCt=["color","borderColor","backgroundColor"];jr.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const nCt=Object.keys(jr.animation);jr.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"});jr.set("animations",{colors:{type:"color",properties:rCt},numbers:{type:"number",properties:iCt}});jr.describe("animations",{_fallback:"animation"});jr.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}});class x_{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!Hr(t))return;const r=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const c=t[n];if(!Hr(c))return;const S={};for(const s of nCt)S[s]=c[s];(ts(c.properties)&&c.properties||[n]).forEach(s=>{(s===n||!r.has(s))&&r.set(s,S)})})}_animateOptions(t,r){const n=r.options,c=aCt(t,n);if(!c)return[];const S=this._createAnimations(c,n);return n.$shared&&sCt(t.options.$animations,n).then(()=>{t.options=n},()=>{}),S}_createAnimations(t,r){const n=this._properties,c=[],S=t.$animations||(t.$animations={}),s=Object.keys(r),g=Date.now();let i;for(i=s.length-1;i>=0;--i){const a=s[i];if(a.charAt(0)==="$")continue;if(a==="options"){c.push(...this._animateOptions(t,r));continue}const v=r[a];let f=S[a];const h=n.get(a);if(f)if(h&&f.active()){f.update(h,v,g);continue}else f.cancel();if(!h||!h.duration){t[a]=v;continue}S[a]=f=new eCt(h,t,a,v),c.push(f)}return c}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const n=this._createAnimations(t,r);if(n.length)return $u.add(this._chart,n),!0}}function sCt(e,t){const r=[],n=Object.keys(t);for(let c=0;c<n.length;c++){const S=e[n[c]];S&&S.active()&&r.push(S.wait())}return Promise.all(r)}function aCt(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function LD(e,t){const r=e&&e.options||{},n=r.reverse,c=r.min===void 0?t:0,S=r.max===void 0?t:0;return{start:n?S:c,end:n?c:S}}function oCt(e,t,r){if(r===!1)return!1;const n=LD(e,r),c=LD(t,r);return{top:c.end,right:n.end,bottom:c.start,left:n.start}}function lCt(e){let t,r,n,c;return Hr(e)?(t=e.top,r=e.right,n=e.bottom,c=e.left):t=r=n=c=e,{top:t,right:r,bottom:n,left:c,disabled:e===!1}}function b_(e,t){const r=[],n=e._getSortedDatasetMetas(t);let c,S;for(c=0,S=n.length;c<S;++c)r.push(n[c].index);return r}function _D(e,t,r,n={}){const c=e.keys,S=n.mode==="single";let s,g,i,a;if(t!==null){for(s=0,g=c.length;s<g;++s){if(i=+c[s],i===r){if(n.all)continue;break}a=e.values[i],aa(a)&&(S||t===0||wu(t)===wu(a))&&(t+=a)}return t}}function uCt(e){const t=Object.keys(e),r=new Array(t.length);let n,c,S;for(n=0,c=t.length;n<c;++n)S=t[n],r[n]={x:S,y:e[S]};return r}function jD(e,t){const r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function hCt(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function cCt(e){const{min:t,max:r,minDefined:n,maxDefined:c}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:c?r:Number.POSITIVE_INFINITY}}function fCt(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function UD(e,t,r,n){for(const c of t.getMatchingVisibleMetas(n).reverse()){const S=e[c.index];if(r&&S>0||!r&&S<0)return c.index}return null}function zD(e,t){const{chart:r,_cachedMeta:n}=e,c=r._stacks||(r._stacks={}),{iScale:S,vScale:s,index:g}=n,i=S.axis,a=s.axis,v=hCt(S,s,n),f=t.length;let h;for(let u=0;u<f;++u){const o=t[u],{[i]:d,[a]:p}=o,l=o._stacks||(o._stacks={});h=l[a]=fCt(c,v,d),h[g]=p,h._top=UD(h,s,!0,n.type),h._bottom=UD(h,s,!1,n.type)}}function ZS(e,t){const r=e.scales;return Object.keys(r).filter(n=>r[n].axis===t).shift()}function dCt(e,t){return kc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function pCt(e,t,r){return kc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function ev(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const c of t){const S=c._stacks;if(!S||S[n]===void 0||S[n][r]===void 0)return;delete S[n][r]}}}const qS=e=>e==="reset"||e==="none",GD=(e,t)=>t?e:Object.assign({},e),vCt=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:b_(r,!0),values:null};class Wl{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=jD(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&ev(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,n=this.getDataset(),c=(f,h,u,o)=>f==="x"?h:f==="r"?o:u,S=r.xAxisID=Gr(n.xAxisID,ZS(t,"x")),s=r.yAxisID=Gr(n.yAxisID,ZS(t,"y")),g=r.rAxisID=Gr(n.rAxisID,ZS(t,"r")),i=r.indexAxis,a=r.iAxisID=c(i,S,s,g),v=r.vAxisID=c(i,s,S,g);r.xScale=this.getScaleForId(S),r.yScale=this.getScaleForId(s),r.rScale=this.getScaleForId(g),r.iScale=this.getScaleForId(a),r.vScale=this.getScaleForId(v)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&yD(this._data,this),t._stacked&&ev(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),n=this._data;if(Hr(r))this._data=uCt(r);else if(n!==r){if(n){yD(n,this);const c=this._cachedMeta;ev(c),c._parsed=[]}r&&Object.isExtensible(r)&&ITt(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,n=this.getDataset();let c=!1;this._dataCheck();const S=r._stacked;r._stacked=jD(r.vScale,r),r.stack!==n.stack&&(c=!0,ev(r),r.stack=n.stack),this._resyncElements(t),(c||S!==r._stacked)&&zD(this,r._parsed)}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:n,_data:c}=this,{iScale:S,_stacked:s}=n,g=S.axis;let i=t===0&&r===c.length?!0:n._sorted,a=t>0&&n._parsed[t-1],v,f,h;if(this._parsing===!1)n._parsed=c,n._sorted=!0,h=c;else{ts(c[t])?h=this.parseArrayData(n,c,t,r):Hr(c[t])?h=this.parseObjectData(n,c,t,r):h=this.parsePrimitiveData(n,c,t,r);const u=()=>f[g]===null||a&&f[g]<a[g];for(v=0;v<r;++v)n._parsed[v+t]=f=h[v],i&&(u()&&(i=!1),a=f);n._sorted=i}s&&zD(this,h)}parsePrimitiveData(t,r,n,c){const{iScale:S,vScale:s}=t,g=S.axis,i=s.axis,a=S.getLabels(),v=S===s,f=new Array(c);let h,u,o;for(h=0,u=c;h<u;++h)o=h+n,f[h]={[g]:v||S.parse(a[o],o),[i]:s.parse(r[o],o)};return f}parseArrayData(t,r,n,c){const{xScale:S,yScale:s}=t,g=new Array(c);let i,a,v,f;for(i=0,a=c;i<a;++i)v=i+n,f=r[v],g[i]={x:S.parse(f[0],v),y:s.parse(f[1],v)};return g}parseObjectData(t,r,n,c){const{xScale:S,yScale:s}=t,{xAxisKey:g="x",yAxisKey:i="y"}=this._parsing,a=new Array(c);let v,f,h,u;for(v=0,f=c;v<f;++v)h=v+n,u=r[h],a[v]={x:S.parse(gc(u,g),h),y:s.parse(gc(u,i),h)};return a}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,n){const c=this.chart,S=this._cachedMeta,s=r[t.axis],g={keys:b_(c,!0),values:r._stacks[t.axis]};return _D(g,s,S.index,{mode:n})}updateRangeFromParsed(t,r,n,c){const S=n[r.axis];let s=S===null?NaN:S;const g=c&&n._stacks[r.axis];c&&g&&(c.values=g,s=_D(c,S,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,r){const n=this._cachedMeta,c=n._parsed,S=n._sorted&&t===n.iScale,s=c.length,g=this._getOtherScale(t),i=vCt(r,n,this.chart),a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:v,max:f}=cCt(g);let h,u;function o(){u=c[h];const d=u[g.axis];return!aa(u[t.axis])||v>d||f<d}for(h=0;h<s&&!(!o()&&(this.updateRangeFromParsed(a,t,u,i),S));++h);if(S){for(h=s-1;h>=0;--h)if(!o()){this.updateRangeFromParsed(a,t,u,i);break}}return a}getAllParsedValues(t){const r=this._cachedMeta._parsed,n=[];let c,S,s;for(c=0,S=r.length;c<S;++c)s=r[c][t.axis],aa(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,n=r.iScale,c=r.vScale,S=this.getParsed(t);return{label:n?""+n.getLabelForValue(S[n.axis]):"",value:c?""+c.getLabelForValue(S[c.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=lCt(Gr(this.options.clip,oCt(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,n=this._cachedMeta,c=n.data||[],S=r.chartArea,s=[],g=this._drawStart||0,i=this._drawCount||c.length-g,a=this.options.drawActiveElementsOnTop;let v;for(n.dataset&&n.dataset.draw(t,S,g,i),v=g;v<g+i;++v){const f=c[v];f.hidden||(f.active&&a?s.push(f):f.draw(t,S))}for(v=0;v<s.length;++v)s[v].draw(t,S)}getStyle(t,r){const n=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,r,n){const c=this.getDataset();let S;if(t>=0&&t<this._cachedMeta.data.length){const s=this._cachedMeta.data[t];S=s.$context||(s.$context=pCt(this.getContext(),t,s)),S.parsed=this.getParsed(t),S.raw=c.data[t],S.index=S.dataIndex=t}else S=this.$context||(this.$context=dCt(this.chart.getContext(),this.index)),S.dataset=c,S.index=S.datasetIndex=this.index;return S.active=!!r,S.mode=n,S}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",n){const c=r==="active",S=this._cachedDataOpts,s=t+"-"+r,g=S[s],i=this.enableOptionSharing&&Zo(n);if(g)return GD(g,i);const a=this.chart.config,v=a.datasetElementScopeKeys(this._type,t),f=c?[`${t}Hover`,"hover",t,""]:[t,""],h=a.getOptionScopes(this.getDataset(),v),u=Object.keys(jr.elements[t]),o=()=>this.getContext(n,c),d=a.resolveNamedOptions(h,u,o,f);return d.$shared&&(d.$shared=i,S[s]=Object.freeze(GD(d,i))),d}_resolveAnimations(t,r,n){const c=this.chart,S=this._cachedDataOpts,s=`animation-${r}`,g=S[s];if(g)return g;let i;if(c.options.animation!==!1){const v=this.chart.config,f=v.datasetAnimationScopeKeys(this._type,r),h=v.getOptionScopes(this.getDataset(),f);i=v.createResolver(h,this.getContext(t,n,r))}const a=new x_(c,i&&i.animations);return i&&i._cacheable&&(S[s]=Object.freeze(a)),a}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||qS(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const n=this.resolveDataElementOptions(t,r),c=this._sharedOptions,S=this.getSharedOptions(n),s=this.includeOptions(r,S)||S!==c;return this.updateSharedOptions(S,r,n),{sharedOptions:S,includeOptions:s}}updateElement(t,r,n,c){qS(c)?Object.assign(t,n):this._resolveAnimations(r,c).update(t,n)}updateSharedOptions(t,r,n){t&&!qS(r)&&this._resolveAnimations(void 0,r).update(t,n)}_setStyle(t,r,n,c){t.active=c;const S=this.getStyle(r,c);this._resolveAnimations(r,n,c).update(t,{options:!c&&this.getSharedOptions(S)||S})}removeHoverStyle(t,r,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,r,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,n=this._cachedMeta.data;for(const[g,i,a]of this._syncList)this[g](i,a);this._syncList=[];const c=n.length,S=r.length,s=Math.min(S,c);s&&this.parse(0,s),S>c?this._insertElements(c,S-c,t):S<c&&this._removeElements(S,c-S)}_insertElements(t,r,n=!0){const c=this._cachedMeta,S=c.data,s=t+r;let g;const i=a=>{for(a.length+=r,g=a.length-1;g>=s;g--)a[g]=a[g-r]};for(i(S),g=t;g<s;++g)S[g]=new this.dataElementType;this._parsing&&i(c._parsed),this.parse(t,r),n&&this.updateElements(S,t,r,"reset")}updateElements(t,r,n,c){}_removeElements(t,r){const n=this._cachedMeta;if(this._parsing){const c=n._parsed.splice(t,r);n._stacked&&ev(n,c)}n.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,n,c]=t;this[r](n,c)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Wl.defaults={};Wl.prototype.datasetElementType=null;Wl.prototype.dataElementType=null;function mCt(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let n=[];for(let c=0,S=r.length;c<S;c++)n=n.concat(r[c].controller.getAllParsedValues(e));e._cache.$bar=ZL(n.sort((c,S)=>c-S))}return e._cache.$bar}function gCt(e){const t=e.iScale,r=mCt(t,e.type);let n=t._length,c,S,s,g;const i=()=>{s===32767||s===-32768||(Zo(g)&&(n=Math.min(n,Math.abs(s-g)||n)),g=s)};for(c=0,S=r.length;c<S;++c)s=t.getPixelForValue(r[c]),i();for(g=void 0,c=0,S=t.ticks.length;c<S;++c)s=t.getPixelForTick(c),i();return n}function yCt(e,t,r,n){const c=r.barThickness;let S,s;return hn(c)?(S=t.min*r.categoryPercentage,s=r.barPercentage):(S=c*n,s=1),{chunk:S/n,ratio:s,start:t.pixels[e]-S/2}}function xCt(e,t,r,n){const c=t.pixels,S=c[e];let s=e>0?c[e-1]:null,g=e<c.length-1?c[e+1]:null;const i=r.categoryPercentage;s===null&&(s=S-(g===null?t.end-t.start:g-S)),g===null&&(g=S+S-s);const a=S-(S-Math.min(s,g))/2*i;return{chunk:Math.abs(g-s)/2*i/n,ratio:r.barPercentage,start:a}}function bCt(e,t,r,n){const c=r.parse(e[0],n),S=r.parse(e[1],n),s=Math.min(c,S),g=Math.max(c,S);let i=s,a=g;Math.abs(s)>Math.abs(g)&&(i=g,a=s),t[r.axis]=a,t._custom={barStart:i,barEnd:a,start:c,end:S,min:s,max:g}}function S_(e,t,r,n){return ts(e)?bCt(e,t,r,n):t[r.axis]=r.parse(e,n),t}function HD(e,t,r,n){const c=e.iScale,S=e.vScale,s=c.getLabels(),g=c===S,i=[];let a,v,f,h;for(a=r,v=r+n;a<v;++a)h=t[a],f={},f[c.axis]=g||c.parse(s[a],a),i.push(S_(h,f,S,a));return i}function tw(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function SCt(e,t,r){return e!==0?wu(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function wCt(e){let t,r,n,c,S;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(c="end",S="start"):(c="start",S="end"),{start:r,end:n,reverse:t,top:c,bottom:S}}function TCt(e,t,r,n){let c=t.borderSkipped;const S={};if(!c){e.borderSkipped=S;return}if(c===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:s,end:g,reverse:i,top:a,bottom:v}=wCt(e);c==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?c=a:(r._bottom||0)===n?c=v:(S[$D(v,s,g,i)]=!0,c=a)),S[$D(c,s,g,i)]=!0,e.borderSkipped=S}function $D(e,t,r,n){return n?(e=CCt(e,t,r),e=VD(e,r,t)):e=VD(e,t,r),e}function CCt(e,t,r){return e===t?r:e===r?t:e}function VD(e,t,r){return e==="start"?t:e==="end"?r:e}function ECt(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}class $5 extends Wl{parsePrimitiveData(t,r,n,c){return HD(t,r,n,c)}parseArrayData(t,r,n,c){return HD(t,r,n,c)}parseObjectData(t,r,n,c){const{iScale:S,vScale:s}=t,{xAxisKey:g="x",yAxisKey:i="y"}=this._parsing,a=S.axis==="x"?g:i,v=s.axis==="x"?g:i,f=[];let h,u,o,d;for(h=n,u=n+c;h<u;++h)d=r[h],o={},o[S.axis]=S.parse(gc(d,a),h),f.push(S_(gc(d,v),o,s,h));return f}updateRangeFromParsed(t,r,n,c){super.updateRangeFromParsed(t,r,n,c);const S=n._custom;S&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,S.min),t.max=Math.max(t.max,S.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:n,vScale:c}=r,S=this.getParsed(t),s=S._custom,g=tw(s)?"["+s.start+", "+s.end+"]":""+c.getLabelForValue(S[c.axis]);return{label:""+n.getLabelForValue(S[n.axis]),value:g}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,n,c){const S=c==="reset",{index:s,_cachedMeta:{vScale:g}}=this,i=g.getBasePixel(),a=g.isHorizontal(),v=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(r,c);for(let u=r;u<r+n;u++){const o=this.getParsed(u),d=S||hn(o[g.axis])?{base:i,head:i}:this._calculateBarValuePixels(u),p=this._calculateBarIndexPixels(u,v),l=(o._stacks||{})[g.axis],m={horizontal:a,base:d.base,enableBorderRadius:!l||tw(o._custom)||s===l._top||s===l._bottom,x:a?d.head:p.center,y:a?p.center:d.head,height:a?p.size:Math.abs(d.size),width:a?Math.abs(d.size):p.size};h&&(m.options=f||this.resolveDataElementOptions(u,t[u].active?"active":c));const y=m.options||t[u].options;TCt(m,y,l,s),ECt(m,y,v.ratio),this.updateElement(t[u],u,m,c)}}_getStacks(t,r){const{iScale:n}=this._cachedMeta,c=n.getMatchingVisibleMetas(this._type).filter(i=>i.controller.options.grouped),S=n.options.stacked,s=[],g=i=>{const a=i.controller.getParsed(r),v=a&&a[i.vScale.axis];if(hn(v)||isNaN(v))return!0};for(const i of c)if(!(r!==void 0&&g(i))&&((S===!1||s.indexOf(i.stack)===-1||S===void 0&&i.stack===void 0)&&s.push(i.stack),i.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,r,n){const c=this._getStacks(t,n),S=r!==void 0?c.indexOf(r):-1;return S===-1?c.length-1:S}_getRuler(){const t=this.options,r=this._cachedMeta,n=r.iScale,c=[];let S,s;for(S=0,s=r.data.length;S<s;++S)c.push(n.getPixelForValue(this.getParsed(S)[n.axis],S));const g=t.barThickness;return{min:g||gCt(r),pixels:c,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:g?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:n},options:{base:c,minBarLength:S}}=this,s=c||0,g=this.getParsed(t),i=g._custom,a=tw(i);let v=g[r.axis],f=0,h=n?this.applyStack(r,g,n):v,u,o;h!==v&&(f=h-v,h=v),a&&(v=i.barStart,h=i.barEnd-i.barStart,v!==0&&wu(v)!==wu(i.barEnd)&&(f=0),f+=v);const d=!hn(c)&&!a?c:f;let p=r.getPixelForValue(d);if(this.chart.getDataVisibility(t)?u=r.getPixelForValue(f+h):u=p,o=u-p,Math.abs(o)<S){o=SCt(o,r,s)*S,v===s&&(p-=o/2);const l=r.getPixelForDecimal(0),m=r.getPixelForDecimal(1),y=Math.min(l,m),x=Math.max(l,m);p=Math.max(Math.min(p,x),y),u=p+o}if(p===r.getPixelForValue(s)){const l=wu(o)*r.getLineWidthForValue(s)/2;p+=l,o-=l}return{size:o,base:p,head:u,center:u+o/2}}_calculateBarIndexPixels(t,r){const n=r.scale,c=this.options,S=c.skipNull,s=Gr(c.maxBarThickness,1/0);let g,i;if(r.grouped){const a=S?this._getStackCount(t):r.stackCount,v=c.barThickness==="flex"?xCt(t,r,c,a):yCt(t,r,c,a),f=this._getStackIndex(this.index,this._cachedMeta.stack,S?t:void 0);g=v.start+v.chunk*f+v.chunk/2,i=Math.min(s,v.chunk*v.ratio)}else g=n.getPixelForValue(this.getParsed(t)[n.axis],t),i=Math.min(s,r.min*r.ratio);return{base:g-i/2,head:g+i/2,center:g,size:i}}draw(){const t=this._cachedMeta,r=t.vScale,n=t.data,c=n.length;let S=0;for(;S<c;++S)this.getParsed(S)[r.axis]!==null&&n[S].draw(this._ctx)}}$5.id="bar";$5.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};$5.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class V5 extends Wl{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,n,c){const S=super.parsePrimitiveData(t,r,n,c);for(let s=0;s<S.length;s++)S[s]._custom=this.resolveDataElementOptions(s+n).radius;return S}parseArrayData(t,r,n,c){const S=super.parseArrayData(t,r,n,c);for(let s=0;s<S.length;s++){const g=r[n+s];S[s]._custom=Gr(g[2],this.resolveDataElementOptions(s+n).radius)}return S}parseObjectData(t,r,n,c){const S=super.parseObjectData(t,r,n,c);for(let s=0;s<S.length;s++){const g=r[n+s];S[s]._custom=Gr(g&&g.r&&+g.r,this.resolveDataElementOptions(s+n).radius)}return S}getMaxOverflow(){const t=this._cachedMeta.data;let r=0;for(let n=t.length-1;n>=0;--n)r=Math.max(r,t[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(t){const r=this._cachedMeta,{xScale:n,yScale:c}=r,S=this.getParsed(t),s=n.getLabelForValue(S.x),g=c.getLabelForValue(S.y),i=S._custom;return{label:r.label,value:"("+s+", "+g+(i?", "+i:"")+")"}}update(t){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,n,c){const S=c==="reset",{iScale:s,vScale:g}=this._cachedMeta,{sharedOptions:i,includeOptions:a}=this._getSharedOptions(r,c),v=s.axis,f=g.axis;for(let h=r;h<r+n;h++){const u=t[h],o=!S&&this.getParsed(h),d={},p=d[v]=S?s.getPixelForDecimal(.5):s.getPixelForValue(o[v]),l=d[f]=S?g.getBasePixel():g.getPixelForValue(o[f]);d.skip=isNaN(p)||isNaN(l),a&&(d.options=i||this.resolveDataElementOptions(h,u.active?"active":c),S&&(d.options.radius=0)),this.updateElement(u,h,d,c)}}resolveDataElementOptions(t,r){const n=this.getParsed(t);let c=super.resolveDataElementOptions(t,r);c.$shared&&(c=Object.assign({},c,{$shared:!1}));const S=c.radius;return r!=="active"&&(c.radius=0),c.radius+=Gr(n&&n._custom,S),c}}V5.id="bubble";V5.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};V5.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function kCt(e,t,r){let n=1,c=1,S=0,s=0;if(t<An){const g=e,i=g+t,a=Math.cos(g),v=Math.sin(g),f=Math.cos(i),h=Math.sin(i),u=(y,x,b)=>wm(y,g,i,!0)?1:Math.max(x,x*r,b,b*r),o=(y,x,b)=>wm(y,g,i,!0)?-1:Math.min(x,x*r,b,b*r),d=u(0,a,f),p=u(ls,v,h),l=o(us,a,f),m=o(us+ls,v,h);n=(d-l)/2,c=(p-m)/2,S=-(d+l)/2,s=-(p+m)/2}return{ratioX:n,ratioY:c,offsetX:S,offsetY:s}}class vp extends Wl{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const n=this.getDataset().data,c=this._cachedMeta;if(this._parsing===!1)c._parsed=n;else{let S=i=>+n[i];if(Hr(n[t])){const{key:i="value"}=this._parsing;S=a=>+gc(n[a],i)}let s,g;for(s=t,g=t+r;s<g;++s)c._parsed[s]=S(s)}}_getRotation(){return Bl(this.options.rotation-90)}_getCircumference(){return Bl(this.options.circumference)}_getRotationExtents(){let t=An,r=-An;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const c=this.chart.getDatasetMeta(n).controller,S=c._getRotation(),s=c._getCircumference();t=Math.min(t,S),r=Math.max(r,S+s)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:n}=r,c=this._cachedMeta,S=c.data,s=this.getMaxBorderWidth()+this.getMaxOffset(S)+this.options.spacing,g=Math.max((Math.min(n.width,n.height)-s)/2,0),i=Math.min(gTt(this.options.cutout,g),1),a=this._getRingWeight(this.index),{circumference:v,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:u,offsetX:o,offsetY:d}=kCt(f,v,i),p=(n.width-s)/h,l=(n.height-s)/u,m=Math.max(Math.min(p,l)/2,0),y=YL(this.options.radius,m),x=Math.max(y*i,0),b=(y-x)/this._getVisibleDatasetWeightTotal();this.offsetX=o*y,this.offsetY=d*y,c.total=this.calculateTotal(),this.outerRadius=y-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*a,0),this.updateElements(S,0,S.length,t)}_circumference(t,r){const n=this.options,c=this._cachedMeta,S=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||c._parsed[t]===null||c.data[t].hidden?0:this.calculateCircumference(c._parsed[t]*S/An)}updateElements(t,r,n,c){const S=c==="reset",s=this.chart,g=s.chartArea,a=s.options.animation,v=(g.left+g.right)/2,f=(g.top+g.bottom)/2,h=S&&a.animateScale,u=h?0:this.innerRadius,o=h?0:this.outerRadius,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(r,c);let l=this._getRotation(),m;for(m=0;m<r;++m)l+=this._circumference(m,S);for(m=r;m<r+n;++m){const y=this._circumference(m,S),x=t[m],b={x:v+this.offsetX,y:f+this.offsetY,startAngle:l,endAngle:l+y,circumference:y,outerRadius:o,innerRadius:u};p&&(b.options=d||this.resolveDataElementOptions(m,x.active?"active":c)),l+=y,this.updateElement(x,m,b,c)}}calculateTotal(){const t=this._cachedMeta,r=t.data;let n=0,c;for(c=0;c<r.length;c++){const S=t._parsed[c];S!==null&&!isNaN(S)&&this.chart.getDataVisibility(c)&&!r[c].hidden&&(n+=Math.abs(S))}return n}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?An*(Math.abs(t)/r):0}getLabelAndValue(t){const r=this._cachedMeta,n=this.chart,c=n.data.labels||[],S=n0(r._parsed[t],n.options.locale);return{label:c[t]||"",value:S}}getMaxBorderWidth(t){let r=0;const n=this.chart;let c,S,s,g,i;if(!t){for(c=0,S=n.data.datasets.length;c<S;++c)if(n.isDatasetVisible(c)){s=n.getDatasetMeta(c),t=s.data,g=s.controller;break}}if(!t)return 0;for(c=0,S=t.length;c<S;++c)i=g.resolveDataElementOptions(c),i.borderAlign!=="inner"&&(r=Math.max(r,i.borderWidth||0,i.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let n=0,c=t.length;n<c;++n){const S=this.resolveDataElementOptions(n);r=Math.max(r,S.offset||0,S.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(t){return Math.max(Gr(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}vp.id="doughnut";vp.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};vp.descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"};vp.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map((n,c)=>{const s=e.getDatasetMeta(0).controller.getStyle(c);return{text:n,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){let t=e.label;const r=": "+e.formattedValue;return ts(t)?(t=t.slice(),t[0]+=r):t+=r,t}}}}};class W5 extends Wl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:n,data:c=[],_dataset:S}=r,s=this.chart._animationsDisabled;let{start:g,count:i}=e_(r,c,s);this._drawStart=g,this._drawCount=i,i_(r)&&(g=0,i=c.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!S._decimated,n.points=c;const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0),a.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:a},t),this.updateElements(c,g,i,t)}updateElements(t,r,n,c){const S=c==="reset",{iScale:s,vScale:g,_stacked:i,_dataset:a}=this._cachedMeta,{sharedOptions:v,includeOptions:f}=this._getSharedOptions(r,c),h=s.axis,u=g.axis,{spanGaps:o,segment:d}=this.options,p=$d(o)?o:Number.POSITIVE_INFINITY,l=this.chart._animationsDisabled||S||c==="none";let m=r>0&&this.getParsed(r-1);for(let y=r;y<r+n;++y){const x=t[y],b=this.getParsed(y),w=l?x:{},C=hn(b[u]),E=w[h]=s.getPixelForValue(b[h],y),T=w[u]=S||C?g.getBasePixel():g.getPixelForValue(i?this.applyStack(g,b,i):b[u],y);w.skip=isNaN(E)||isNaN(T)||C,w.stop=y>0&&Math.abs(b[h]-m[h])>p,d&&(w.parsed=b,w.raw=a.data[y]),f&&(w.options=v||this.resolveDataElementOptions(y,x.active?"active":c)),l||this.updateElement(x,y,w,c),m=b}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,n=r.options&&r.options.borderWidth||0,c=t.data||[];if(!c.length)return n;const S=c[0].size(this.resolveDataElementOptions(0)),s=c[c.length-1].size(this.resolveDataElementOptions(c.length-1));return Math.max(n,S,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}W5.id="line";W5.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};W5.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Y5 extends Wl{constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this._cachedMeta,n=this.chart,c=n.data.labels||[],S=n0(r._parsed[t].r,n.options.locale);return{label:c[t]||"",value:S}}parseObjectData(t,r,n,c){return v_.bind(this)(t,r,n,c)}update(t){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){const t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,c)=>{const S=this.getParsed(c).r;!isNaN(S)&&this.chart.getDataVisibility(c)&&(S<r.min&&(r.min=S),S>r.max&&(r.max=S))}),r}_updateRadius(){const t=this.chart,r=t.chartArea,n=t.options,c=Math.min(r.right-r.left,r.bottom-r.top),S=Math.max(c/2,0),s=Math.max(n.cutoutPercentage?S/100*n.cutoutPercentage:1,0),g=(S-s)/t.getVisibleDatasetCount();this.outerRadius=S-g*this.index,this.innerRadius=this.outerRadius-g}updateElements(t,r,n,c){const S=c==="reset",s=this.chart,i=s.options.animation,a=this._cachedMeta.rScale,v=a.xCenter,f=a.yCenter,h=a.getIndexAngle(0)-.5*us;let u=h,o;const d=360/this.countVisibleElements();for(o=0;o<r;++o)u+=this._computeAngle(o,c,d);for(o=r;o<r+n;o++){const p=t[o];let l=u,m=u+this._computeAngle(o,c,d),y=s.getDataVisibility(o)?a.getDistanceFromCenterForValue(this.getParsed(o).r):0;u=m,S&&(i.animateScale&&(y=0),i.animateRotate&&(l=m=h));const x={x:v,y:f,innerRadius:0,outerRadius:y,startAngle:l,endAngle:m,options:this.resolveDataElementOptions(o,p.active?"active":c)};this.updateElement(p,o,x,c)}}countVisibleElements(){const t=this._cachedMeta;let r=0;return t.data.forEach((n,c)=>{!isNaN(this.getParsed(c).r)&&this.chart.getDataVisibility(c)&&r++}),r}_computeAngle(t,r,n){return this.chart.getDataVisibility(t)?Bl(this.resolveDataElementOptions(t,r).angle||n):0}}Y5.id="polarArea";Y5.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};Y5.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map((n,c)=>{const s=e.getDatasetMeta(0).controller.getStyle(c);return{text:n,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class w_ extends vp{}w_.id="pie";w_.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class X5 extends Wl{getLabelAndValue(t){const r=this._cachedMeta.vScale,n=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(t,r,n,c){return v_.bind(this)(t,r,n,c)}update(t){const r=this._cachedMeta,n=r.dataset,c=r.data||[],S=r.iScale.getLabels();if(n.points=c,t!=="resize"){const s=this.resolveDatasetElementOptions(t);this.options.showLine||(s.borderWidth=0);const g={_loop:!0,_fullLoop:S.length===c.length,options:s};this.updateElement(n,void 0,g,t)}this.updateElements(c,0,c.length,t)}updateElements(t,r,n,c){const S=this._cachedMeta.rScale,s=c==="reset";for(let g=r;g<r+n;g++){const i=t[g],a=this.resolveDataElementOptions(g,i.active?"active":c),v=S.getPointPositionForValue(g,this.getParsed(g).r),f=s?S.xCenter:v.x,h=s?S.yCenter:v.y,u={x:f,y:h,angle:v.angle,skip:isNaN(f)||isNaN(h),options:a};this.updateElement(i,g,u,c)}}}X5.id="radar";X5.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};X5.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};let Sh=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:r,y:n}=this.getProps(["x","y"],t);return{x:r,y:n}}hasValue(){return $d(this.x)&&$d(this.y)}getProps(t,r){const n=this.$animations;if(!r||!n)return this;const c={};return t.forEach(S=>{c[S]=n[S]&&n[S].active()?n[S]._to:this[S]}),c}};Sh.defaults={};Sh.defaultRoutes=void 0;const T_={values(e){return ts(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";const n=this.chart.options.locale;let c,S=e;if(r.length>1){const a=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(a<1e-4||a>1e15)&&(c="scientific"),S=DCt(e,r)}const s=$o(Math.abs(S)),g=Math.max(Math.min(-1*Math.floor(s),20),0),i={notation:c,minimumFractionDigits:g,maximumFractionDigits:g};return Object.assign(i,this.options.ticks.format),n0(e,n,i)},logarithmic(e,t,r){if(e===0)return"0";const n=e/Math.pow(10,Math.floor($o(e)));return n===1||n===2||n===5?T_.numeric.call(this,e,t,r):""}};function DCt(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var Ux={formatters:T_};jr.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ux.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});jr.route("scale.ticks","color","","color");jr.route("scale.grid","color","","borderColor");jr.route("scale.grid","borderColor","","borderColor");jr.route("scale.title","color","","color");jr.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"});jr.describe("scales",{_fallback:"scale"});jr.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"});function ACt(e,t){const r=e.options.ticks,n=r.maxTicksLimit||PCt(e),c=r.major.enabled?ICt(t):[],S=c.length,s=c[0],g=c[S-1],i=[];if(S>n)return MCt(t,i,c,S/n),i;const a=RCt(c,t,n);if(S>0){let v,f;const h=S>1?Math.round((g-s)/(S-1)):null;for(ug(t,i,a,hn(h)?0:s-h,s),v=0,f=S-1;v<f;v++)ug(t,i,a,c[v],c[v+1]);return ug(t,i,a,g,hn(h)?t.length:g+h),i}return ug(t,i,a),i}function PCt(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),c=e._maxLength/r;return Math.floor(Math.min(n,c))}function RCt(e,t,r){const n=BCt(e),c=t.length/r;if(!n)return Math.max(c,1);const S=ETt(n);for(let s=0,g=S.length-1;s<g;s++){const i=S[s];if(i>c)return i}return Math.max(c,1)}function ICt(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}function MCt(e,t,r,n){let c=0,S=r[0],s;for(n=Math.ceil(n),s=0;s<e.length;s++)s===S&&(t.push(e[s]),c++,S=r[c*n])}function ug(e,t,r,n,c){const S=Gr(n,0),s=Math.min(Gr(c,e.length),e.length);let g=0,i,a,v;for(r=Math.ceil(r),c&&(i=c-n,r=i/Math.floor(i/r)),v=S;v<0;)g++,v=Math.round(S+g*r);for(a=Math.max(S,0);a<s;a++)a===v&&(t.push(e[a]),g++,v=Math.round(S+g*r))}function BCt(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}const OCt=e=>e==="left"?"right":e==="right"?"left":e,WD=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r;function YD(e,t){const r=[],n=e.length/t,c=e.length;let S=0;for(;S<c;S+=n)r.push(e[Math.floor(S)]);return r}function NCt(e,t,r){const n=e.ticks.length,c=Math.min(t,n-1),S=e._startPixel,s=e._endPixel,g=1e-6;let i=e.getPixelForTick(c),a;if(!(r&&(n===1?a=Math.max(i-S,s-i):t===0?a=(e.getPixelForTick(1)-i)/2:a=(i-e.getPixelForTick(c-1))/2,i+=c<t?a:-a,i<S-g||i>s+g)))return i}function FCt(e,t){un(e,r=>{const n=r.gc,c=n.length/2;let S;if(c>t){for(S=0;S<c;++S)delete r.data[n[S]];n.splice(0,c)}})}function iv(e){return e.drawTicks?e.tickLength:0}function XD(e,t){if(!e.display)return 0;const r=Co(e.font,t),n=qo(e.padding);return(ts(e.text)?e.text.length:1)*r.lineHeight+n.height}function LCt(e,t){return kc(e,{scale:t,type:"scale"})}function _Ct(e,t,r){return kc(e,{tick:r,index:t,type:"tick"})}function jCt(e,t,r){let n=BTt(e);return(r&&t!=="right"||!r&&t==="right")&&(n=OCt(n)),n}function UCt(e,t,r,n){const{top:c,left:S,bottom:s,right:g,chart:i}=e,{chartArea:a,scales:v}=i;let f=0,h,u,o;const d=s-c,p=g-S;if(e.isHorizontal()){if(u=xD(n,S,g),Hr(r)){const l=Object.keys(r)[0],m=r[l];o=v[l].getPixelForValue(m)+d-t}else r==="center"?o=(a.bottom+a.top)/2+d-t:o=WD(e,r,t);h=g-S}else{if(Hr(r)){const l=Object.keys(r)[0],m=r[l];u=v[l].getPixelForValue(m)-p+t}else r==="center"?u=(a.left+a.right)/2-p+t:u=WD(e,r,t);o=xD(n,s,c),f=r==="left"?-ls:ls}return{titleX:u,titleY:o,maxWidth:h,rotation:f}}class Rf extends Sh{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:n,_suggestedMax:c}=this;return t=jo(t,Number.POSITIVE_INFINITY),r=jo(r,Number.NEGATIVE_INFINITY),n=jo(n,Number.POSITIVE_INFINITY),c=jo(c,Number.NEGATIVE_INFINITY),{min:jo(t,n),max:jo(r,c),minDefined:aa(t),maxDefined:aa(r)}}getMinMax(t){let{min:r,max:n,minDefined:c,maxDefined:S}=this.getUserBounds(),s;if(c&&S)return{min:r,max:n};const g=this.getMatchingVisibleMetas();for(let i=0,a=g.length;i<a;++i)s=g[i].controller.getMinMax(this,t),c||(r=Math.min(r,s.min)),S||(n=Math.max(n,s.max));return r=S&&r>n?n:r,n=c&&r>n?r:n,{min:jo(r,jo(n,r)),max:jo(n,jo(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rs(this.options.beforeUpdate,[this])}update(t,r,n){const{beginAtZero:c,grace:S,ticks:s}=this.options,g=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=p2t(this,S,c),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const i=g<this.ticks.length;this._convertTicksToLabels(i?YD(this.ticks,g):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=ACt(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),i&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,t=!t),this._startPixel=r,this._endPixel=n,this._reversePixels=t,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rs(this.options.afterUpdate,[this])}beforeSetDimensions(){rs(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rs(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),rs(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rs(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let n,c,S;for(n=0,c=t.length;n<c;n++)S=t[n],S.label=rs(r.callback,[S.value,n,t],this)}afterTickToLabelConversion(){rs(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rs(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,n=this.ticks.length,c=r.minRotation||0,S=r.maxRotation;let s=c,g,i,a;if(!this._isVisible()||!r.display||c>=S||n<=1||!this.isHorizontal()){this.labelRotation=c;return}const v=this._getLabelSizes(),f=v.widest.width,h=v.highest.height,u=wa(this.chart.width-f,0,this.maxWidth);g=t.offset?this.maxWidth/n:u/(n-1),f+6>g&&(g=u/(n-(t.offset?.5:1)),i=this.maxHeight-iv(t.grid)-r.padding-XD(t.title,this.chart.options.font),a=Math.sqrt(f*f+h*h),s=O5(Math.min(Math.asin(wa((v.highest.height+6)/g,-1,1)),Math.asin(wa(i/a,-1,1))-Math.asin(wa(h/a,-1,1)))),s=Math.max(c,Math.min(S,s))),this.labelRotation=s}afterCalculateLabelRotation(){rs(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rs(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:n,title:c,grid:S}}=this,s=this._isVisible(),g=this.isHorizontal();if(s){const i=XD(c,r.options.font);if(g?(t.width=this.maxWidth,t.height=iv(S)+i):(t.height=this.maxHeight,t.width=iv(S)+i),n.display&&this.ticks.length){const{first:a,last:v,widest:f,highest:h}=this._getLabelSizes(),u=n.padding*2,o=Bl(this.labelRotation),d=Math.cos(o),p=Math.sin(o);if(g){const l=n.mirror?0:p*f.width+d*h.height;t.height=Math.min(this.maxHeight,t.height+l+u)}else{const l=n.mirror?0:d*f.width+p*h.height;t.width=Math.min(this.maxWidth,t.width+l+u)}this._calculatePadding(a,v,p,d)}}this._handleMargins(),g?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,n,c){const{ticks:{align:S,padding:s},position:g}=this.options,i=this.labelRotation!==0,a=g!=="top"&&this.axis==="x";if(this.isHorizontal()){const v=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,u=0;i?a?(h=c*t.width,u=n*r.height):(h=n*t.height,u=c*r.width):S==="start"?u=r.width:S==="end"?h=t.width:S!=="inner"&&(h=t.width/2,u=r.width/2),this.paddingLeft=Math.max((h-v+s)*this.width/(this.width-v),0),this.paddingRight=Math.max((u-f+s)*this.width/(this.width-f),0)}else{let v=r.height/2,f=t.height/2;S==="start"?(v=0,f=t.height):S==="end"&&(v=r.height,f=0),this.paddingTop=v+s,this.paddingBottom=f+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rs(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,n;for(r=0,n=t.length;r<n;r++)hn(t[r].label)&&(t.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=YD(n,r)),this._labelSizes=t=this._computeLabelSizes(n,n.length)}return t}_computeLabelSizes(t,r){const{ctx:n,_longestTextCache:c}=this,S=[],s=[];let g=0,i=0,a,v,f,h,u,o,d,p,l,m,y;for(a=0;a<r;++a){if(h=t[a].label,u=this._resolveTickFontOptions(a),n.font=o=u.string,d=c[o]=c[o]||{data:{},gc:[]},p=u.lineHeight,l=m=0,!hn(h)&&!ts(h))l=yy(n,d.data,d.gc,l,h),m=p;else if(ts(h))for(v=0,f=h.length;v<f;++v)y=h[v],!hn(y)&&!ts(y)&&(l=yy(n,d.data,d.gc,l,y),m+=p);S.push(l),s.push(m),g=Math.max(l,g),i=Math.max(m,i)}FCt(c,r);const x=S.indexOf(g),b=s.indexOf(i),w=C=>({width:S[C]||0,height:s[C]||0});return{first:w(0),last:w(r-1),widest:w(x),highest:w(b),widths:S,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return ATt(this._alignToPixels?jc(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const n=r[t];return n.$context||(n.$context=_Ct(this.getContext(),t,n))}return this.$context||(this.$context=LCt(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=Bl(this.labelRotation),n=Math.abs(Math.cos(r)),c=Math.abs(Math.sin(r)),S=this._getLabelSizes(),s=t.autoSkipPadding||0,g=S?S.widest.width+s:0,i=S?S.highest.height+s:0;return this.isHorizontal()?i*n>g*c?g/n:i/c:i*c<g*n?i/n:g/c}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,n=this.chart,c=this.options,{grid:S,position:s}=c,g=S.offset,i=this.isHorizontal(),v=this.ticks.length+(g?1:0),f=iv(S),h=[],u=S.setContext(this.getContext()),o=u.drawBorder?u.borderWidth:0,d=o/2,p=function(B){return jc(n,B,o)};let l,m,y,x,b,w,C,E,T,k,P,R;if(s==="top")l=p(this.bottom),w=this.bottom-f,E=l-d,k=p(t.top)+d,R=t.bottom;else if(s==="bottom")l=p(this.top),k=t.top,R=p(t.bottom)-d,w=l+d,E=this.top+f;else if(s==="left")l=p(this.right),b=this.right-f,C=l-d,T=p(t.left)+d,P=t.right;else if(s==="right")l=p(this.left),T=t.left,P=p(t.right)-d,b=l+d,C=this.left+f;else if(r==="x"){if(s==="center")l=p((t.top+t.bottom)/2+.5);else if(Hr(s)){const B=Object.keys(s)[0],D=s[B];l=p(this.chart.scales[B].getPixelForValue(D))}k=t.top,R=t.bottom,w=l+d,E=w+f}else if(r==="y"){if(s==="center")l=p((t.left+t.right)/2);else if(Hr(s)){const B=Object.keys(s)[0],D=s[B];l=p(this.chart.scales[B].getPixelForValue(D))}b=l-d,C=b-f,T=t.left,P=t.right}const M=Gr(c.ticks.maxTicksLimit,v),I=Math.max(1,Math.ceil(v/M));for(m=0;m<v;m+=I){const B=S.setContext(this.getContext(m)),D=B.lineWidth,N=B.color,_=B.borderDash||[],G=B.borderDashOffset,$=B.tickWidth,V=B.tickColor,Y=B.tickBorderDash||[],U=B.tickBorderDashOffset;y=NCt(this,m,g),y!==void 0&&(x=jc(n,y,D),i?b=C=T=P=x:w=E=k=R=x,h.push({tx1:b,ty1:w,tx2:C,ty2:E,x1:T,y1:k,x2:P,y2:R,width:D,color:N,borderDash:_,borderDashOffset:G,tickWidth:$,tickColor:V,tickBorderDash:Y,tickBorderDashOffset:U}))}return this._ticksLength=v,this._borderValue=l,h}_computeLabelItems(t){const r=this.axis,n=this.options,{position:c,ticks:S}=n,s=this.isHorizontal(),g=this.ticks,{align:i,crossAlign:a,padding:v,mirror:f}=S,h=iv(n.grid),u=h+v,o=f?-v:u,d=-Bl(this.labelRotation),p=[];let l,m,y,x,b,w,C,E,T,k,P,R,M="middle";if(c==="top")w=this.bottom-o,C=this._getXAxisLabelAlignment();else if(c==="bottom")w=this.top+o,C=this._getXAxisLabelAlignment();else if(c==="left"){const B=this._getYAxisLabelAlignment(h);C=B.textAlign,b=B.x}else if(c==="right"){const B=this._getYAxisLabelAlignment(h);C=B.textAlign,b=B.x}else if(r==="x"){if(c==="center")w=(t.top+t.bottom)/2+u;else if(Hr(c)){const B=Object.keys(c)[0],D=c[B];w=this.chart.scales[B].getPixelForValue(D)+u}C=this._getXAxisLabelAlignment()}else if(r==="y"){if(c==="center")b=(t.left+t.right)/2-u;else if(Hr(c)){const B=Object.keys(c)[0],D=c[B];b=this.chart.scales[B].getPixelForValue(D)}C=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(i==="start"?M="top":i==="end"&&(M="bottom"));const I=this._getLabelSizes();for(l=0,m=g.length;l<m;++l){y=g[l],x=y.label;const B=S.setContext(this.getContext(l));E=this.getPixelForTick(l)+S.labelOffset,T=this._resolveTickFontOptions(l),k=T.lineHeight,P=ts(x)?x.length:1;const D=P/2,N=B.color,_=B.textStrokeColor,G=B.textStrokeWidth;let $=C;s?(b=E,C==="inner"&&(l===m-1?$=this.options.reverse?"left":"right":l===0?$=this.options.reverse?"right":"left":$="center"),c==="top"?a==="near"||d!==0?R=-P*k+k/2:a==="center"?R=-I.highest.height/2-D*k+k:R=-I.highest.height+k/2:a==="near"||d!==0?R=k/2:a==="center"?R=I.highest.height/2-D*k:R=I.highest.height-P*k,f&&(R*=-1)):(w=E,R=(1-P)*k/2);let V;if(B.showLabelBackdrop){const Y=qo(B.backdropPadding),U=I.heights[l],F=I.widths[l];let O=w+R-Y.top,j=b-Y.left;switch(M){case"middle":O-=U/2;break;case"bottom":O-=U;break}switch(C){case"center":j-=F/2;break;case"right":j-=F;break}V={left:j,top:O,width:F+Y.width,height:U+Y.height,color:B.backdropColor}}p.push({rotation:d,label:x,font:T,color:N,strokeColor:_,strokeWidth:G,textOffset:R,textAlign:$,textBaseline:M,translation:[b,w],backdrop:V})}return p}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-Bl(this.labelRotation))return t==="top"?"left":"right";let c="center";return r.align==="start"?c="left":r.align==="end"?c="right":r.align==="inner"&&(c="inner"),c}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:n,mirror:c,padding:S}}=this.options,s=this._getLabelSizes(),g=t+S,i=s.widest.width;let a,v;return r==="left"?c?(v=this.right+S,n==="near"?a="left":n==="center"?(a="center",v+=i/2):(a="right",v+=i)):(v=this.right-g,n==="near"?a="right":n==="center"?(a="center",v-=i/2):(a="left",v=this.left)):r==="right"?c?(v=this.left+S,n==="near"?a="right":n==="center"?(a="center",v-=i/2):(a="left",v-=i)):(v=this.left+g,n==="near"?a="left":n==="center"?(a="center",v+=i/2):(a="right",v=this.right)):a="right",{textAlign:a,x:v}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:n,top:c,width:S,height:s}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(n,c,S,s),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const c=this.ticks.findIndex(S=>S.value===t);return c>=0?r.setContext(this.getContext(c)).lineWidth:0}drawGrid(t){const r=this.options.grid,n=this.ctx,c=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let S,s;const g=(i,a,v)=>{!v.width||!v.color||(n.save(),n.lineWidth=v.width,n.strokeStyle=v.color,n.setLineDash(v.borderDash||[]),n.lineDashOffset=v.borderDashOffset,n.beginPath(),n.moveTo(i.x,i.y),n.lineTo(a.x,a.y),n.stroke(),n.restore())};if(r.display)for(S=0,s=c.length;S<s;++S){const i=c[S];r.drawOnChartArea&&g({x:i.x1,y:i.y1},{x:i.x2,y:i.y2},i),r.drawTicks&&g({x:i.tx1,y:i.ty1},{x:i.tx2,y:i.ty2},{color:i.tickColor,width:i.tickWidth,borderDash:i.tickBorderDash,borderDashOffset:i.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{grid:n}}=this,c=n.setContext(this.getContext()),S=n.drawBorder?c.borderWidth:0;if(!S)return;const s=n.setContext(this.getContext(0)).lineWidth,g=this._borderValue;let i,a,v,f;this.isHorizontal()?(i=jc(t,this.left,S)-S/2,a=jc(t,this.right,s)+s/2,v=f=g):(v=jc(t,this.top,S)-S/2,f=jc(t,this.bottom,s)+s/2,i=a=g),r.save(),r.lineWidth=c.borderWidth,r.strokeStyle=c.borderColor,r.beginPath(),r.moveTo(i,v),r.lineTo(a,f),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,c=this._computeLabelArea();c&&l_(n,c);const S=this._labelItems||(this._labelItems=this._computeLabelItems(t));let s,g;for(s=0,g=S.length;s<g;++s){const i=S[s],a=i.font,v=i.label;i.backdrop&&(n.fillStyle=i.backdrop.color,n.fillRect(i.backdrop.left,i.backdrop.top,i.backdrop.width,i.backdrop.height));let f=i.textOffset;xy(n,v,0,f,a,i)}c&&u_(n)}drawTitle(){const{ctx:t,options:{position:r,title:n,reverse:c}}=this;if(!n.display)return;const S=Co(n.font),s=qo(n.padding),g=n.align;let i=S.lineHeight/2;r==="bottom"||r==="center"||Hr(r)?(i+=s.bottom,ts(n.text)&&(i+=S.lineHeight*(n.text.length-1))):i+=s.top;const{titleX:a,titleY:v,maxWidth:f,rotation:h}=UCt(this,i,r,g);xy(t,n.text,0,0,S,{color:n.color,maxWidth:f,rotation:h,textAlign:jCt(g,r,c),textBaseline:"middle",translation:[a,v]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,n=Gr(t.grid&&t.grid.z,-1);return!this._isVisible()||this.draw!==Rf.prototype.draw?[{z:r,draw:c=>{this.draw(c)}}]:[{z:n,draw:c=>{this.drawBackground(),this.drawGrid(c),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:r,draw:c=>{this.drawLabels(c)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",c=[];let S,s;for(S=0,s=r.length;S<s;++S){const g=r[S];g[n]===this.id&&(!t||g.type===t)&&c.push(g)}return c}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return Co(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class hg{constructor(t,r,n){this.type=t,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let n;HCt(r)&&(n=this.register(r));const c=this.items,S=t.id,s=this.scope+"."+S;if(!S)throw new Error("class does not have id: "+t);return S in c||(c[S]=t,zCt(t,s,n),this.override&&jr.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const r=this.items,n=t.id,c=this.scope;n in r&&delete r[n],c&&n in jr[c]&&(delete jr[c][n],this.override&&delete Sf[n])}}function zCt(e,t,r){const n=Sm(Object.create(null),[r?jr.get(r):{},jr.get(t),e.defaults]);jr.set(t,n),e.defaultRoutes&&GCt(t,e.defaultRoutes),e.descriptors&&jr.describe(t,e.descriptors)}function GCt(e,t){Object.keys(t).forEach(r=>{const n=r.split("."),c=n.pop(),S=[e].concat(n).join("."),s=t[r].split("."),g=s.pop(),i=s.join(".");jr.route(S,c,i,g)})}function HCt(e){return"id"in e&&"defaults"in e}class $Ct{constructor(){this.controllers=new hg(Wl,"datasets",!0),this.elements=new hg(Sh,"elements"),this.plugins=new hg(Object,"plugins"),this.scales=new hg(Rf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,n){[...r].forEach(c=>{const S=n||this._getRegistryForType(c);n||S.isForType(c)||S===this.plugins&&c.id?this._exec(t,S,c):un(c,s=>{const g=n||this._getRegistryForType(s);this._exec(t,g,s)})})}_exec(t,r,n){const c=B5(t);rs(n["before"+c],[],n),r[t](n),rs(n["after"+c],[],n)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(t))return n}return this.plugins}_get(t,r,n){const c=r.get(t);if(c===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return c}}var yu=new $Ct;class Q5 extends Wl{update(t){const r=this._cachedMeta,{data:n=[]}=r,c=this.chart._animationsDisabled;let{start:S,count:s}=e_(r,n,c);if(this._drawStart=S,this._drawCount=s,i_(r)&&(S=0,s=n.length),this.options.showLine){const{dataset:g,_dataset:i}=r;g._chart=this.chart,g._datasetIndex=this.index,g._decimated=!!i._decimated,g.points=n;const a=this.resolveDatasetElementOptions(t);a.segment=this.options.segment,this.updateElement(g,void 0,{animated:!c,options:a},t)}this.updateElements(n,S,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=yu.getElement("line")),super.addElements()}updateElements(t,r,n,c){const S=c==="reset",{iScale:s,vScale:g,_stacked:i,_dataset:a}=this._cachedMeta,v=this.resolveDataElementOptions(r,c),f=this.getSharedOptions(v),h=this.includeOptions(c,f),u=s.axis,o=g.axis,{spanGaps:d,segment:p}=this.options,l=$d(d)?d:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||S||c==="none";let y=r>0&&this.getParsed(r-1);for(let x=r;x<r+n;++x){const b=t[x],w=this.getParsed(x),C=m?b:{},E=hn(w[o]),T=C[u]=s.getPixelForValue(w[u],x),k=C[o]=S||E?g.getBasePixel():g.getPixelForValue(i?this.applyStack(g,w,i):w[o],x);C.skip=isNaN(T)||isNaN(k)||E,C.stop=x>0&&Math.abs(w[u]-y[u])>l,p&&(C.parsed=w,C.raw=a.data[x]),h&&(C.options=f||this.resolveDataElementOptions(x,b.active?"active":c)),m||this.updateElement(b,x,C,c),y=w}this.updateSharedOptions(f,c,v)}getMaxOverflow(){const t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let g=0;for(let i=r.length-1;i>=0;--i)g=Math.max(g,r[i].size(this.resolveDataElementOptions(i))/2);return g>0&&g}const n=t.dataset,c=n.options&&n.options.borderWidth||0;if(!r.length)return c;const S=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(c,S,s)/2}}Q5.id="scatter";Q5.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};Q5.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function Uc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class mC{constructor(t){this.options=t||{}}init(t){}formats(){return Uc()}parse(t,r){return Uc()}format(t,r){return Uc()}add(t,r,n){return Uc()}diff(t,r,n){return Uc()}startOf(t,r,n){return Uc()}endOf(t,r){return Uc()}}mC.override=function(e){Object.assign(mC.prototype,e)};var VCt={_date:mC};function WCt(e,t,r,n){const{controller:c,data:S,_sorted:s}=e,g=c._cachedMeta.iScale;if(g&&t===g.axis&&t!=="r"&&s&&S.length){const i=g._reversePixels?PTt:nf;if(n){if(c._sharedOptions){const a=S[0],v=typeof a.getRange=="function"&&a.getRange(t);if(v){const f=i(S,t,r-v),h=i(S,t,r+v);return{lo:f.lo,hi:h.hi}}}}else return i(S,t,r)}return{lo:0,hi:S.length-1}}function s0(e,t,r,n,c){const S=e.getSortedVisibleDatasetMetas(),s=r[t];for(let g=0,i=S.length;g<i;++g){const{index:a,data:v}=S[g],{lo:f,hi:h}=WCt(S[g],t,s,c);for(let u=f;u<=h;++u){const o=v[u];o.skip||n(o,a,u)}}}function YCt(e){const t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(n,c){const S=t?Math.abs(n.x-c.x):0,s=r?Math.abs(n.y-c.y):0;return Math.sqrt(Math.pow(S,2)+Math.pow(s,2))}}function ew(e,t,r,n,c){const S=[];return!c&&!e.isPointInArea(t)||s0(e,r,t,function(g,i,a){!c&&!Tm(g,e.chartArea,0)||g.inRange(t.x,t.y,n)&&S.push({element:g,datasetIndex:i,index:a})},!0),S}function XCt(e,t,r,n){let c=[];function S(s,g,i){const{startAngle:a,endAngle:v}=s.getProps(["startAngle","endAngle"],n),{angle:f}=KL(s,{x:t.x,y:t.y});wm(f,a,v)&&c.push({element:s,datasetIndex:g,index:i})}return s0(e,r,t,S),c}function QCt(e,t,r,n,c,S){let s=[];const g=YCt(r);let i=Number.POSITIVE_INFINITY;function a(v,f,h){const u=v.inRange(t.x,t.y,c);if(n&&!u)return;const o=v.getCenterPoint(c);if(!(!!S||e.isPointInArea(o))&&!u)return;const p=g(t,o);p<i?(s=[{element:v,datasetIndex:f,index:h}],i=p):p===i&&s.push({element:v,datasetIndex:f,index:h})}return s0(e,r,t,a),s}function iw(e,t,r,n,c,S){return!S&&!e.isPointInArea(t)?[]:r==="r"&&!n?XCt(e,t,r,c):QCt(e,t,r,n,c,S)}function QD(e,t,r,n,c){const S=[],s=r==="x"?"inXRange":"inYRange";let g=!1;return s0(e,r,t,(i,a,v)=>{i[s](t[r],c)&&(S.push({element:i,datasetIndex:a,index:v}),g=g||i.inRange(t.x,t.y,c))}),n&&!g?[]:S}var KCt={evaluateInteractionItems:s0,modes:{index(e,t,r,n){const c=Hc(t,e),S=r.axis||"x",s=r.includeInvisible||!1,g=r.intersect?ew(e,c,S,n,s):iw(e,c,S,!1,n,s),i=[];return g.length?(e.getSortedVisibleDatasetMetas().forEach(a=>{const v=g[0].index,f=a.data[v];f&&!f.skip&&i.push({element:f,datasetIndex:a.index,index:v})}),i):[]},dataset(e,t,r,n){const c=Hc(t,e),S=r.axis||"xy",s=r.includeInvisible||!1;let g=r.intersect?ew(e,c,S,n,s):iw(e,c,S,!1,n,s);if(g.length>0){const i=g[0].datasetIndex,a=e.getDatasetMeta(i).data;g=[];for(let v=0;v<a.length;++v)g.push({element:a[v],datasetIndex:i,index:v})}return g},point(e,t,r,n){const c=Hc(t,e),S=r.axis||"xy",s=r.includeInvisible||!1;return ew(e,c,S,n,s)},nearest(e,t,r,n){const c=Hc(t,e),S=r.axis||"xy",s=r.includeInvisible||!1;return iw(e,c,S,r.intersect,n,s)},x(e,t,r,n){const c=Hc(t,e);return QD(e,c,"x",r.intersect,n)},y(e,t,r,n){const c=Hc(t,e);return QD(e,c,"y",r.intersect,n)}}};const C_=["left","top","right","bottom"];function rv(e,t){return e.filter(r=>r.pos===t)}function KD(e,t){return e.filter(r=>C_.indexOf(r.pos)===-1&&r.box.axis===t)}function nv(e,t){return e.sort((r,n)=>{const c=t?n:r,S=t?r:n;return c.weight===S.weight?c.index-S.index:c.weight-S.weight})}function JCt(e){const t=[];let r,n,c,S,s,g;for(r=0,n=(e||[]).length;r<n;++r)c=e[r],{position:S,options:{stack:s,stackWeight:g=1}}=c,t.push({index:r,box:c,pos:S,horizontal:c.isHorizontal(),weight:c.weight,stack:s&&S+s,stackWeight:g});return t}function ZCt(e){const t={};for(const r of e){const{stack:n,pos:c,stackWeight:S}=r;if(!n||!C_.includes(c))continue;const s=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=S}return t}function qCt(e,t){const r=ZCt(e),{vBoxMaxWidth:n,hBoxMaxHeight:c}=t;let S,s,g;for(S=0,s=e.length;S<s;++S){g=e[S];const{fullSize:i}=g.box,a=r[g.stack],v=a&&g.stackWeight/a.weight;g.horizontal?(g.width=v?v*n:i&&t.availableWidth,g.height=c):(g.width=n,g.height=v?v*c:i&&t.availableHeight)}return r}function t3t(e){const t=JCt(e),r=nv(t.filter(a=>a.box.fullSize),!0),n=nv(rv(t,"left"),!0),c=nv(rv(t,"right")),S=nv(rv(t,"top"),!0),s=nv(rv(t,"bottom")),g=KD(t,"x"),i=KD(t,"y");return{fullSize:r,leftAndTop:n.concat(S),rightAndBottom:c.concat(i).concat(s).concat(g),chartArea:rv(t,"chartArea"),vertical:n.concat(c).concat(i),horizontal:S.concat(s).concat(g)}}function JD(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function E_(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function e3t(e,t,r,n){const{pos:c,box:S}=r,s=e.maxPadding;if(!Hr(c)){r.size&&(e[c]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?S.height:S.width),r.size=f.size/f.count,e[c]+=r.size}S.getPadding&&E_(s,S.getPadding());const g=Math.max(0,t.outerWidth-JD(s,e,"left","right")),i=Math.max(0,t.outerHeight-JD(s,e,"top","bottom")),a=g!==e.w,v=i!==e.h;return e.w=g,e.h=i,r.horizontal?{same:a,other:v}:{same:v,other:a}}function i3t(e){const t=e.maxPadding;function r(n){const c=Math.max(t[n]-e[n],0);return e[n]+=c,c}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function r3t(e,t){const r=t.maxPadding;function n(c){const S={left:0,top:0,right:0,bottom:0};return c.forEach(s=>{S[s]=Math.max(t[s],r[s])}),S}return n(e?["left","right"]:["top","bottom"])}function gv(e,t,r,n){const c=[];let S,s,g,i,a,v;for(S=0,s=e.length,a=0;S<s;++S){g=e[S],i=g.box,i.update(g.width||t.w,g.height||t.h,r3t(g.horizontal,t));const{same:f,other:h}=e3t(t,r,g,n);a|=f&&c.length,v=v||h,i.fullSize||c.push(g)}return a&&gv(c,t,r,n)||v}function cg(e,t,r,n,c){e.top=r,e.left=t,e.right=t+n,e.bottom=r+c,e.width=n,e.height=c}function ZD(e,t,r,n){const c=r.padding;let{x:S,y:s}=t;for(const g of e){const i=g.box,a=n[g.stack]||{count:1,placed:0,weight:1},v=g.stackWeight/a.weight||1;if(g.horizontal){const f=t.w*v,h=a.size||i.height;Zo(a.start)&&(s=a.start),i.fullSize?cg(i,c.left,s,r.outerWidth-c.right-c.left,h):cg(i,t.left+a.placed,s,f,h),a.start=s,a.placed+=f,s=i.bottom}else{const f=t.h*v,h=a.size||i.width;Zo(a.start)&&(S=a.start),i.fullSize?cg(i,S,c.top,h,r.outerHeight-c.bottom-c.top):cg(i,S,t.top+a.placed,h,f),a.start=S,a.placed+=f,S=i.right}}t.x=S,t.y=s}jr.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var fg={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const c=qo(e.options.layout.padding),S=Math.max(t-c.width,0),s=Math.max(r-c.height,0),g=t3t(e.boxes),i=g.vertical,a=g.horizontal;un(e.boxes,d=>{typeof d.beforeLayout=="function"&&d.beforeLayout()});const v=i.reduce((d,p)=>p.box.options&&p.box.options.display===!1?d:d+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:r,padding:c,availableWidth:S,availableHeight:s,vBoxMaxWidth:S/2/v,hBoxMaxHeight:s/2}),h=Object.assign({},c);E_(h,qo(n));const u=Object.assign({maxPadding:h,w:S,h:s,x:c.left,y:c.top},c),o=qCt(i.concat(a),f);gv(g.fullSize,u,f,o),gv(i,u,f,o),gv(a,u,f,o)&&gv(i,u,f,o),i3t(u),ZD(g.leftAndTop,u,f,o),u.x+=u.w,u.y+=u.h,ZD(g.rightAndBottom,u,f,o),e.chartArea={left:u.left,top:u.top,right:u.left+u.w,bottom:u.top+u.h,height:u.h,width:u.w},un(g.chartArea,d=>{const p=d.box;Object.assign(p,e.chartArea),p.update(u.w,u.h,{left:0,top:0,right:0,bottom:0})})}};class k_{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,n){}removeEventListener(t,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,n,c){return r=Math.max(0,r||t.width),n=n||t.height,{width:r,height:Math.max(0,c?Math.floor(r/c):n)}}isAttached(t){return!0}updateConfig(t){}}class n3t extends k_{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const h1="$chartjs",s3t={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qD=e=>e===null||e==="";function a3t(e,t){const r=e.style,n=e.getAttribute("height"),c=e.getAttribute("width");if(e[h1]={initial:{height:n,width:c,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",qD(c)){const S=ID(e,"width");S!==void 0&&(e.width=S)}if(qD(n))if(e.style.height==="")e.height=e.width/(t||2);else{const S=ID(e,"height");S!==void 0&&(e.height=S)}return e}const D_=L2t?{passive:!0}:!1;function o3t(e,t,r){e.addEventListener(t,r,D_)}function l3t(e,t,r){e.canvas.removeEventListener(t,r,D_)}function u3t(e,t){const r=s3t[e.type]||e.type,{x:n,y:c}=Hc(e,t);return{type:r,chart:t,native:e,x:n!==void 0?n:null,y:c!==void 0?c:null}}function wy(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function h3t(e,t,r){const n=e.canvas,c=new MutationObserver(S=>{let s=!1;for(const g of S)s=s||wy(g.addedNodes,n),s=s&&!wy(g.removedNodes,n);s&&r()});return c.observe(document,{childList:!0,subtree:!0}),c}function c3t(e,t,r){const n=e.canvas,c=new MutationObserver(S=>{let s=!1;for(const g of S)s=s||wy(g.removedNodes,n),s=s&&!wy(g.addedNodes,n);s&&r()});return c.observe(document,{childList:!0,subtree:!0}),c}const Cm=new Map;let tA=0;function A_(){const e=window.devicePixelRatio;e!==tA&&(tA=e,Cm.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function f3t(e,t){Cm.size||window.addEventListener("resize",A_),Cm.set(e,t)}function d3t(e){Cm.delete(e),Cm.size||window.removeEventListener("resize",A_)}function p3t(e,t,r){const n=e.canvas,c=n&&H5(n);if(!c)return;const S=t_((g,i)=>{const a=c.clientWidth;r(g,i),a<c.clientWidth&&r()},window),s=new ResizeObserver(g=>{const i=g[0],a=i.contentRect.width,v=i.contentRect.height;a===0&&v===0||S(a,v)});return s.observe(c),f3t(e,S),s}function rw(e,t,r){r&&r.disconnect(),t==="resize"&&d3t(e)}function v3t(e,t,r){const n=e.canvas,c=t_(S=>{e.ctx!==null&&r(u3t(S,e))},e,S=>{const s=S[0];return[s,s.offsetX,s.offsetY]});return o3t(n,t,c),c}class m3t extends k_{acquireContext(t,r){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(a3t(t,r),n):null}releaseContext(t){const r=t.canvas;if(!r[h1])return!1;const n=r[h1].initial;["height","width"].forEach(S=>{const s=n[S];hn(s)?r.removeAttribute(S):r.setAttribute(S,s)});const c=n.style||{};return Object.keys(c).forEach(S=>{r.style[S]=c[S]}),r.width=r.width,delete r[h1],!0}addEventListener(t,r,n){this.removeEventListener(t,r);const c=t.$proxies||(t.$proxies={}),s={attach:h3t,detach:c3t,resize:p3t}[r]||v3t;c[r]=s(t,r,n)}removeEventListener(t,r){const n=t.$proxies||(t.$proxies={}),c=n[r];if(!c)return;({attach:rw,detach:rw,resize:rw}[r]||l3t)(t,r,c),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,n,c){return F2t(t,r,n,c)}isAttached(t){const r=H5(t);return!!(r&&r.isConnected)}}function g3t(e){return!g_()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?n3t:m3t}class y3t{constructor(){this._init=[]}notify(t,r,n,c){r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const S=c?this._descriptors(t).filter(c):this._descriptors(t),s=this._notify(S,t,r,n);return r==="afterDestroy"&&(this._notify(S,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,r,n,c){c=c||{};for(const S of t){const s=S.plugin,g=s[n],i=[r,c,S.options];if(rs(g,i,s)===!1&&c.cancelable)return!1}return!0}invalidate(){hn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const n=t&&t.config,c=Gr(n.options&&n.options.plugins,{}),S=x3t(n);return c===!1&&!r?[]:S3t(t,S,c,r)}_notifyStateChanges(t){const r=this._oldCache||[],n=this._cache,c=(S,s)=>S.filter(g=>!s.some(i=>g.plugin.id===i.plugin.id));this._notify(c(r,n),t,"stop"),this._notify(c(n,r),t,"start")}}function x3t(e){const t={},r=[],n=Object.keys(yu.plugins.items);for(let S=0;S<n.length;S++)r.push(yu.getPlugin(n[S]));const c=e.plugins||[];for(let S=0;S<c.length;S++){const s=c[S];r.indexOf(s)===-1&&(r.push(s),t[s.id]=!0)}return{plugins:r,localIds:t}}function b3t(e,t){return!t&&e===!1?null:e===!0?{}:e}function S3t(e,{plugins:t,localIds:r},n,c){const S=[],s=e.getContext();for(const g of t){const i=g.id,a=b3t(n[i],c);a!==null&&S.push({plugin:g,options:w3t(e.config,{plugin:g,local:r[i]},a,s)})}return S}function w3t(e,{plugin:t,local:r},n,c){const S=e.pluginScopeKeys(t),s=e.getOptionScopes(n,S);return r&&t.defaults&&s.push(t.defaults),e.createResolver(s,c,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gC(e,t){const r=jr.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function T3t(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function C3t(e,t){return e===t?"_index_":"_value_"}function E3t(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function yC(e,t){return e==="x"||e==="y"?e:t.axis||E3t(t.position)||e.charAt(0).toLowerCase()}function k3t(e,t){const r=Sf[e.type]||{scales:{}},n=t.scales||{},c=gC(e.type,t),S=Object.create(null),s=Object.create(null);return Object.keys(n).forEach(g=>{const i=n[g];if(!Hr(i))return console.error(`Invalid scale configuration for scale: ${g}`);if(i._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${g}`);const a=yC(g,i),v=C3t(a,c),f=r.scales||{};S[a]=S[a]||g,s[g]=Uv(Object.create(null),[{axis:a},i,f[a],f[v]])}),e.data.datasets.forEach(g=>{const i=g.type||e.type,a=g.indexAxis||gC(i,t),f=(Sf[i]||{}).scales||{};Object.keys(f).forEach(h=>{const u=T3t(h,a),o=g[u+"AxisID"]||S[u]||u;s[o]=s[o]||Object.create(null),Uv(s[o],[{axis:u},n[o],f[h]])})}),Object.keys(s).forEach(g=>{const i=s[g];Uv(i,[jr.scales[i.type],jr.scale])}),s}function P_(e){const t=e.options||(e.options={});t.plugins=Gr(t.plugins,{}),t.scales=k3t(e,t)}function R_(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function D3t(e){return e=e||{},e.data=R_(e.data),P_(e),e}const eA=new Map,I_=new Set;function dg(e,t){let r=eA.get(e);return r||(r=t(),eA.set(e,r),I_.add(r)),r}const sv=(e,t,r)=>{const n=gc(t,r);n!==void 0&&e.add(n)};class A3t{constructor(t){this._config=D3t(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=R_(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),P_(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return dg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return dg(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return dg(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,n=this.type;return dg(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const n=this._scopeCache;let c=n.get(t);return(!c||r)&&(c=new Map,n.set(t,c)),c}getOptionScopes(t,r,n){const{options:c,type:S}=this,s=this._cachedScopes(t,n),g=s.get(r);if(g)return g;const i=new Set;r.forEach(v=>{t&&(i.add(t),v.forEach(f=>sv(i,t,f))),v.forEach(f=>sv(i,c,f)),v.forEach(f=>sv(i,Sf[S]||{},f)),v.forEach(f=>sv(i,jr,f)),v.forEach(f=>sv(i,pC,f))});const a=Array.from(i);return a.length===0&&a.push(Object.create(null)),I_.has(r)&&s.set(r,a),a}chartOptionScopes(){const{options:t,type:r}=this;return[t,Sf[r]||{},jr.datasets[r]||{},{type:r},jr,pC]}resolveNamedOptions(t,r,n,c=[""]){const S={$shared:!0},{resolver:s,subPrefixes:g}=iA(this._resolverCache,t,c);let i=s;if(R3t(s,r)){S.$shared=!1,n=yc(n)?n():n;const a=this.createResolver(t,n,g);i=Vd(s,n,a)}for(const a of r)S[a]=i[a];return S}createResolver(t,r,n=[""],c){const{resolver:S}=iA(this._resolverCache,t,n);return Hr(r)?Vd(S,r,void 0,c):S}}function iA(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const c=r.join();let S=n.get(c);return S||(S={resolver:U5(t,r),subPrefixes:r.filter(g=>!g.toLowerCase().includes("hover"))},n.set(c,S)),S}const P3t=e=>Hr(e)&&Object.getOwnPropertyNames(e).reduce((t,r)=>t||yc(e[r]),!1);function R3t(e,t){const{isScriptable:r,isIndexable:n}=c_(e);for(const c of t){const S=r(c),s=n(c),g=(s||S)&&e[c];if(S&&(yc(g)||P3t(g))||s&&ts(g))return!0}return!1}var I3t="3.9.1";const M3t=["top","bottom","left","right","chartArea"];function rA(e,t){return e==="top"||e==="bottom"||M3t.indexOf(e)===-1&&t==="x"}function nA(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function sA(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),rs(r&&r.onComplete,[e],t)}function B3t(e){const t=e.chart,r=t.options.animation;rs(r&&r.onProgress,[e],t)}function M_(e){return g_()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Ty={},B_=e=>{const t=M_(e);return Object.values(Ty).filter(r=>r.canvas===t).pop()};function O3t(e,t,r){const n=Object.keys(e);for(const c of n){const S=+c;if(S>=t){const s=e[c];delete e[c],(r>0||S>t)&&(e[S+r]=s)}}}function N3t(e,t,r,n){return!r||e.type==="mouseout"?null:n?t:e}let mp=class{constructor(t,r){const n=this.config=new A3t(r),c=M_(t),S=B_(c);if(S)throw new Error("Canvas is already in use. Chart with ID '"+S.id+"' must be destroyed before the canvas with ID '"+S.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||g3t(c)),this.platform.updateConfig(n);const g=this.platform.acquireContext(c,s.aspectRatio),i=g&&g.canvas,a=i&&i.height,v=i&&i.width;if(this.id=mTt(),this.ctx=g,this.canvas=i,this.width=v,this.height=a,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new y3t,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=MTt(f=>this.update(f),s.resizeDelay||0),this._dataChanges=[],Ty[this.id]=this,!g||!i){console.error("Failed to create chart: can't acquire context from the given item");return}$u.listen(this,"complete",sA),$u.listen(this,"progress",B3t),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:n,height:c,_aspectRatio:S}=this;return hn(t)?r&&S?S:c?n/c:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():RD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return DD(this.canvas,this.ctx),this}stop(){return $u.stop(this),this}resize(t,r){$u.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const n=this.options,c=this.canvas,S=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(c,t,r,S),g=n.devicePixelRatio||this.platform.getDevicePixelRatio(),i=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,RD(this,g,!0)&&(this.notifyPlugins("resize",{size:s}),rs(n.onResize,[this,s],this),this.attached&&this._doResize(i)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};un(r,(n,c)=>{n.id=c})}buildOrUpdateScales(){const t=this.options,r=t.scales,n=this.scales,c=Object.keys(n).reduce((s,g)=>(s[g]=!1,s),{});let S=[];r&&(S=S.concat(Object.keys(r).map(s=>{const g=r[s],i=yC(s,g),a=i==="r",v=i==="x";return{options:g,dposition:a?"chartArea":v?"bottom":"left",dtype:a?"radialLinear":v?"category":"linear"}}))),un(S,s=>{const g=s.options,i=g.id,a=yC(i,g),v=Gr(g.type,s.dtype);(g.position===void 0||rA(g.position,a)!==rA(s.dposition))&&(g.position=s.dposition),c[i]=!0;let f=null;if(i in n&&n[i].type===v)f=n[i];else{const h=yu.getScale(v);f=new h({id:i,type:v,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(g,t)}),un(c,(s,g)=>{s||delete n[g]}),un(n,s=>{fg.configure(this,s,s.options),fg.addBox(this,s)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,n=t.length;if(t.sort((c,S)=>c.index-S.index),n>r){for(let c=r;c<n;++c)this._destroyDatasetMeta(c);t.splice(r,n-r)}this._sortedMetasets=t.slice(0).sort(nA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((n,c)=>{r.filter(S=>S===n._dataset).length===0&&this._destroyDatasetMeta(c)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let n,c;for(this._removeUnreferencedMetasets(),n=0,c=r.length;n<c;n++){const S=r[n];let s=this.getDatasetMeta(n);const g=S.type||this.config.type;if(s.type&&s.type!==g&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=g,s.indexAxis=S.indexAxis||gC(g,this.options),s.order=S.order||0,s.index=n,s.label=""+S.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const i=yu.getController(g),{datasetElementType:a,dataElementType:v}=jr.datasets[g];Object.assign(i.prototype,{dataElementType:yu.getElement(v),datasetElementType:a&&yu.getElement(a)}),s.controller=new i(this,n),t.push(s.controller)}}return this._updateMetasets(),t}_resetElements(){un(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),c=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const S=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let a=0,v=this.data.datasets.length;a<v;a++){const{controller:f}=this.getDatasetMeta(a),h=!c&&S.indexOf(f)===-1;f.buildOrUpdateElements(h),s=Math.max(+f.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),c||un(S,a=>{a.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(nA("z","_idx"));const{_active:g,_lastEvent:i}=this;i?this._eventHandler(i,!0):g.length&&this._updateHoverStyles(g,g,!0),this.render()}_updateScales(){un(this.scales,t=>{fg.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!pD(r,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:c,count:S}of r){const s=n==="_removeElements"?-S:S;O3t(t,c,s)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=S=>new Set(t.filter(s=>s[0]===S).map((s,g)=>g+","+s.splice(1).join(","))),c=n(0);for(let S=1;S<r;S++)if(!pD(c,n(S)))return;return Array.from(c).map(S=>S.split(",")).map(S=>({method:S[1],start:+S[2],count:+S[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fg.update(this,this.width,this.height,t);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],un(this.boxes,c=>{n&&c.position==="chartArea"||(c.configure&&c.configure(),this._layers.push(...c._layers()))},this),this._layers.forEach((c,S)=>{c._idx=S}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,yc(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const n=this.getDatasetMeta(t),c={meta:n,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",c)!==!1&&(n.controller._update(r),c.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",c))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($u.has(this)?this.attached&&!$u.running(this)&&$u.start(this):(this.draw(),sA({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:c}=this._resizeBeforeDraw;this._resize(n,c),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,n=[];let c,S;for(c=0,S=r.length;c<S;++c){const s=r[c];(!t||s.visible)&&n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,n=t._clip,c=!n.disabled,S=this.chartArea,s={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(c&&l_(r,{left:n.left===!1?0:S.left-n.left,right:n.right===!1?this.width:S.right+n.right,top:n.top===!1?0:S.top-n.top,bottom:n.bottom===!1?this.height:S.bottom+n.bottom}),t.controller.draw(),c&&u_(r),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Tm(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,n,c){const S=KCt.modes[r];return typeof S=="function"?S(this,t,n,c):[]}getDatasetMeta(t){const r=this.data.datasets[t],n=this._metasets;let c=n.filter(S=>S&&S._dataset===r).pop();return c||(c={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},n.push(c)),c}getContext(){return this.$context||(this.$context=kc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(t,r){const n=this.getDatasetMeta(t);n.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,n){const c=n?"show":"hide",S=this.getDatasetMeta(t),s=S.controller._resolveAnimations(void 0,c);Zo(r)?(S.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(S,{visible:n}),this.update(g=>g.datasetIndex===t?c:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),$u.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),DD(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Ty[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,n=(S,s)=>{r.addEventListener(this,S,s),t[S]=s},c=(S,s,g)=>{S.offsetX=s,S.offsetY=g,this._eventHandler(S)};un(this.options.events,S=>n(S,c))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,n=(i,a)=>{r.addEventListener(this,i,a),t[i]=a},c=(i,a)=>{t[i]&&(r.removeEventListener(this,i,a),delete t[i])},S=(i,a)=>{this.canvas&&this.resize(i,a)};let s;const g=()=>{c("attach",g),this.attached=!0,this.resize(),n("resize",S),n("detach",s)};s=()=>{this.attached=!1,c("resize",S),this._stop(),this._resize(0,0),n("attach",g)},r.isAttached(this.canvas)?g():s()}unbindEvents(){un(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},un(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,n){const c=n?"set":"remove";let S,s,g,i;for(r==="dataset"&&(S=this.getDatasetMeta(t[0].datasetIndex),S.controller["_"+c+"DatasetHoverStyle"]()),g=0,i=t.length;g<i;++g){s=t[g];const a=s&&this.getDatasetMeta(s.datasetIndex).controller;a&&a[c+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],n=t.map(({datasetIndex:S,index:s})=>{const g=this.getDatasetMeta(S);if(!g)throw new Error("No dataset found at index "+S);return{datasetIndex:S,element:g.data[s],index:s}});!dy(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(t,r,n){return this._plugins.notify(this,t,r,n)}_updateHoverStyles(t,r,n){const c=this.options.hover,S=(i,a)=>i.filter(v=>!a.some(f=>v.datasetIndex===f.datasetIndex&&v.index===f.index)),s=S(r,t),g=n?t:S(t,r);s.length&&this.updateHoverStyle(s,c.mode,!1),g.length&&c.mode&&this.updateHoverStyle(g,c.mode,!0)}_eventHandler(t,r){const n={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},c=s=>(s.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,c)===!1)return;const S=this._handleEvent(t,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,c),(S||n.changed)&&this.render(),this}_handleEvent(t,r,n){const{_active:c=[],options:S}=this,s=r,g=this._getActiveElements(t,c,n,s),i=wTt(t),a=N3t(t,this._lastEvent,n,i);n&&(this._lastEvent=null,rs(S.onHover,[t,g,this],this),i&&rs(S.onClick,[t,g,this],this));const v=!dy(g,c);return(v||r)&&(this._active=g,this._updateHoverStyles(g,c,r)),this._lastEvent=a,v}_getActiveElements(t,r,n,c){if(t.type==="mouseout")return[];if(!n)return r;const S=this.options.hover;return this.getElementsAtEventForMode(t,S.mode,S,c)}};const aA=()=>un(mp.instances,e=>e._plugins.invalidate()),Bh=!0;Object.defineProperties(mp,{defaults:{enumerable:Bh,value:jr},instances:{enumerable:Bh,value:Ty},overrides:{enumerable:Bh,value:Sf},registry:{enumerable:Bh,value:yu},version:{enumerable:Bh,value:I3t},getChart:{enumerable:Bh,value:B_},register:{enumerable:Bh,value:(...e)=>{yu.add(...e),aA()}},unregister:{enumerable:Bh,value:(...e)=>{yu.remove(...e),aA()}}});function O_(e,t,r){const{startAngle:n,pixelMargin:c,x:S,y:s,outerRadius:g,innerRadius:i}=t;let a=c/g;e.beginPath(),e.arc(S,s,g,n-a,r+a),i>c?(a=c/i,e.arc(S,s,i,r+a,n-a,!0)):e.arc(S,s,c,r+ls,n-ls),e.closePath(),e.clip()}function F3t(e){return j5(e,["outerStart","outerEnd","innerStart","innerEnd"])}function L3t(e,t,r,n){const c=F3t(e.options.borderRadius),S=(r-t)/2,s=Math.min(S,n*t/2),g=i=>{const a=(r-Math.min(S,i))*n/2;return wa(i,0,Math.min(S,a))};return{outerStart:g(c.outerStart),outerEnd:g(c.outerEnd),innerStart:wa(c.innerStart,0,s),innerEnd:wa(c.innerEnd,0,s)}}function Kf(e,t,r,n){return{x:r+e*Math.cos(t),y:n+e*Math.sin(t)}}function xC(e,t,r,n,c,S){const{x:s,y:g,startAngle:i,pixelMargin:a,innerRadius:v}=t,f=Math.max(t.outerRadius+n+r-a,0),h=v>0?v+n+r+a:0;let u=0;const o=c-i;if(n){const B=v>0?v-n:0,D=f>0?f-n:0,N=(B+D)/2,_=N!==0?o*N/(N+n):o;u=(o-_)/2}const d=Math.max(.001,o*f-r/us)/f,p=(o-d)/2,l=i+p+u,m=c-p-u,{outerStart:y,outerEnd:x,innerStart:b,innerEnd:w}=L3t(t,h,f,m-l),C=f-y,E=f-x,T=l+y/C,k=m-x/E,P=h+b,R=h+w,M=l+b/P,I=m-w/R;if(e.beginPath(),S){if(e.arc(s,g,f,T,k),x>0){const N=Kf(E,k,s,g);e.arc(N.x,N.y,x,k,m+ls)}const B=Kf(R,m,s,g);if(e.lineTo(B.x,B.y),w>0){const N=Kf(R,I,s,g);e.arc(N.x,N.y,w,m+ls,I+Math.PI)}if(e.arc(s,g,h,m-w/h,l+b/h,!0),b>0){const N=Kf(P,M,s,g);e.arc(N.x,N.y,b,M+Math.PI,l-ls)}const D=Kf(C,l,s,g);if(e.lineTo(D.x,D.y),y>0){const N=Kf(C,T,s,g);e.arc(N.x,N.y,y,l-ls,T)}}else{e.moveTo(s,g);const B=Math.cos(T)*f+s,D=Math.sin(T)*f+g;e.lineTo(B,D);const N=Math.cos(k)*f+s,_=Math.sin(k)*f+g;e.lineTo(N,_)}e.closePath()}function _3t(e,t,r,n,c){const{fullCircles:S,startAngle:s,circumference:g}=t;let i=t.endAngle;if(S){xC(e,t,r,n,s+An,c);for(let a=0;a<S;++a)e.fill();isNaN(g)||(i=s+g%An,g%An===0&&(i+=An))}return xC(e,t,r,n,i,c),e.fill(),i}function j3t(e,t,r){const{x:n,y:c,startAngle:S,pixelMargin:s,fullCircles:g}=t,i=Math.max(t.outerRadius-s,0),a=t.innerRadius+s;let v;for(r&&O_(e,t,S+An),e.beginPath(),e.arc(n,c,a,S+An,S,!0),v=0;v<g;++v)e.stroke();for(e.beginPath(),e.arc(n,c,i,S,S+An),v=0;v<g;++v)e.stroke()}function U3t(e,t,r,n,c,S){const{options:s}=t,{borderWidth:g,borderJoinStyle:i}=s,a=s.borderAlign==="inner";g&&(a?(e.lineWidth=g*2,e.lineJoin=i||"round"):(e.lineWidth=g,e.lineJoin=i||"bevel"),t.fullCircles&&j3t(e,t,a),a&&O_(e,t,c),xC(e,t,r,n,c,S),e.stroke())}class a0 extends Sh{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,n){const c=this.getProps(["x","y"],n),{angle:S,distance:s}=KL(c,{x:t,y:r}),{startAngle:g,endAngle:i,innerRadius:a,outerRadius:v,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=this.options.spacing/2,o=Gr(f,i-g)>=An||wm(S,g,i),d=my(s,a+h,v+h);return o&&d}getCenterPoint(t){const{x:r,y:n,startAngle:c,endAngle:S,innerRadius:s,outerRadius:g}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:i,spacing:a}=this.options,v=(c+S)/2,f=(s+g+a+i)/2;return{x:r+Math.cos(v)*f,y:n+Math.sin(v)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:n}=this,c=(r.offset||0)/2,S=(r.spacing||0)/2,s=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=n>An?Math.floor(n/An):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let g=0;if(c){g=c/2;const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*g,Math.sin(a)*g),this.circumference>=us&&(g=c)}t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor;const i=_3t(t,this,g,S,s);U3t(t,this,g,S,i,s),t.restore()}}a0.id="arc";a0.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};a0.defaultRoutes={backgroundColor:"backgroundColor"};function N_(e,t,r=t){e.lineCap=Gr(r.borderCapStyle,t.borderCapStyle),e.setLineDash(Gr(r.borderDash,t.borderDash)),e.lineDashOffset=Gr(r.borderDashOffset,t.borderDashOffset),e.lineJoin=Gr(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Gr(r.borderWidth,t.borderWidth),e.strokeStyle=Gr(r.borderColor,t.borderColor)}function z3t(e,t,r){e.lineTo(r.x,r.y)}function G3t(e){return e.stepped?a2t:e.tension||e.cubicInterpolationMode==="monotone"?o2t:z3t}function F_(e,t,r={}){const n=e.length,{start:c=0,end:S=n-1}=r,{start:s,end:g}=t,i=Math.max(c,s),a=Math.min(S,g),v=c<s&&S<s||c>g&&S>g;return{count:n,start:i,loop:t.loop,ilen:a<i&&!v?n+a-i:a-i}}function H3t(e,t,r,n){const{points:c,options:S}=t,{count:s,start:g,loop:i,ilen:a}=F_(c,r,n),v=G3t(S);let{move:f=!0,reverse:h}=n||{},u,o,d;for(u=0;u<=a;++u)o=c[(g+(h?a-u:u))%s],!o.skip&&(f?(e.moveTo(o.x,o.y),f=!1):v(e,d,o,h,S.stepped),d=o);return i&&(o=c[(g+(h?a:0))%s],v(e,d,o,h,S.stepped)),!!i}function $3t(e,t,r,n){const c=t.points,{count:S,start:s,ilen:g}=F_(c,r,n),{move:i=!0,reverse:a}=n||{};let v=0,f=0,h,u,o,d,p,l;const m=x=>(s+(a?g-x:x))%S,y=()=>{d!==p&&(e.lineTo(v,p),e.lineTo(v,d),e.lineTo(v,l))};for(i&&(u=c[m(0)],e.moveTo(u.x,u.y)),h=0;h<=g;++h){if(u=c[m(h)],u.skip)continue;const x=u.x,b=u.y,w=x|0;w===o?(b<d?d=b:b>p&&(p=b),v=(f*v+x)/++f):(y(),e.lineTo(x,b),o=w,f=0,d=p=b),l=b}y()}function bC(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?$3t:H3t}function V3t(e){return e.stepped?_2t:e.tension||e.cubicInterpolationMode==="monotone"?j2t:$c}function W3t(e,t,r,n){let c=t._path;c||(c=t._path=new Path2D,t.path(c,r,n)&&c.closePath()),N_(e,t.options),e.stroke(c)}function Y3t(e,t,r,n){const{segments:c,options:S}=t,s=bC(t);for(const g of c)N_(e,S,g.style),e.beginPath(),s(e,t,g,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}const X3t=typeof Path2D=="function";function Q3t(e,t,r,n){X3t&&!t.options.segment?W3t(e,t,r,n):Y3t(e,t,r,n)}class zx extends Sh{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const c=n.spanGaps?this._loop:this._fullLoop;R2t(this._points,n,t,c,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=K2t(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,n=t.length;return n&&r[t[n-1].end]}interpolate(t,r){const n=this.options,c=t[r],S=this.points,s=Y2t(this,{property:r,start:c,end:c});if(!s.length)return;const g=[],i=V3t(n);let a,v;for(a=0,v=s.length;a<v;++a){const{start:f,end:h}=s[a],u=S[f],o=S[h];if(u===o){g.push(u);continue}const d=Math.abs((c-u[r])/(o[r]-u[r])),p=i(u,o,d,n.stepped);p[r]=t[r],g.push(p)}return g.length===1?g[0]:g}pathSegment(t,r,n){return bC(this)(t,this,r,n)}path(t,r,n){const c=this.segments,S=bC(this);let s=this._loop;r=r||0,n=n||this.points.length-r;for(const g of c)s&=S(t,this,g,{start:r,end:r+n-1});return!!s}draw(t,r,n,c){const S=this.options||{};(this.points||[]).length&&S.borderWidth&&(t.save(),Q3t(t,this,n,c),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}zx.id="line";zx.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};zx.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};zx.descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};function oA(e,t,r,n){const c=e.options,{[r]:S}=e.getProps([r],n);return Math.abs(t-S)<c.radius+c.hitRadius}class K5 extends Sh{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,n){const c=this.options,{x:S,y:s}=this.getProps(["x","y"],n);return Math.pow(t-S,2)+Math.pow(r-s,2)<Math.pow(c.hitRadius+c.radius,2)}inXRange(t,r){return oA(this,t,"x",r)}inYRange(t,r){return oA(this,t,"y",r)}getCenterPoint(t){const{x:r,y:n}=this.getProps(["x","y"],t);return{x:r,y:n}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const n=r&&t.borderWidth||0;return(r+n)*2}draw(t,r){const n=this.options;this.skip||n.radius<.1||!Tm(this,r,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,vC(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}K5.id="point";K5.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};K5.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function L_(e,t){const{x:r,y:n,base:c,width:S,height:s}=e.getProps(["x","y","base","width","height"],t);let g,i,a,v,f;return e.horizontal?(f=s/2,g=Math.min(r,c),i=Math.max(r,c),a=n-f,v=n+f):(f=S/2,g=r-f,i=r+f,a=Math.min(n,c),v=Math.max(n,c)),{left:g,top:a,right:i,bottom:v}}function Yh(e,t,r,n){return e?0:wa(t,r,n)}function K3t(e,t,r){const n=e.options.borderWidth,c=e.borderSkipped,S=h_(n);return{t:Yh(c.top,S.top,0,r),r:Yh(c.right,S.right,0,t),b:Yh(c.bottom,S.bottom,0,r),l:Yh(c.left,S.left,0,t)}}function J3t(e,t,r){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),c=e.options.borderRadius,S=Ed(c),s=Math.min(t,r),g=e.borderSkipped,i=n||Hr(c);return{topLeft:Yh(!i||g.top||g.left,S.topLeft,0,s),topRight:Yh(!i||g.top||g.right,S.topRight,0,s),bottomLeft:Yh(!i||g.bottom||g.left,S.bottomLeft,0,s),bottomRight:Yh(!i||g.bottom||g.right,S.bottomRight,0,s)}}function Z3t(e){const t=L_(e),r=t.right-t.left,n=t.bottom-t.top,c=K3t(e,r/2,n/2),S=J3t(e,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:S},inner:{x:t.left+c.l,y:t.top+c.t,w:r-c.l-c.r,h:n-c.t-c.b,radius:{topLeft:Math.max(0,S.topLeft-Math.max(c.t,c.l)),topRight:Math.max(0,S.topRight-Math.max(c.t,c.r)),bottomLeft:Math.max(0,S.bottomLeft-Math.max(c.b,c.l)),bottomRight:Math.max(0,S.bottomRight-Math.max(c.b,c.r))}}}}function nw(e,t,r,n){const c=t===null,S=r===null,g=e&&!(c&&S)&&L_(e,n);return g&&(c||my(t,g.left,g.right))&&(S||my(r,g.top,g.bottom))}function q3t(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function tEt(e,t){e.rect(t.x,t.y,t.w,t.h)}function sw(e,t,r={}){const n=e.x!==r.x?-t:0,c=e.y!==r.y?-t:0,S=(e.x+e.w!==r.x+r.w?t:0)-n,s=(e.y+e.h!==r.y+r.h?t:0)-c;return{x:e.x+n,y:e.y+c,w:e.w+S,h:e.h+s,radius:e.radius}}class J5 extends Sh{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:r,options:{borderColor:n,backgroundColor:c}}=this,{inner:S,outer:s}=Z3t(this),g=q3t(s.radius)?by:tEt;t.save(),(s.w!==S.w||s.h!==S.h)&&(t.beginPath(),g(t,sw(s,r,S)),t.clip(),g(t,sw(S,-r,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),g(t,sw(S,r)),t.fillStyle=c,t.fill(),t.restore()}inRange(t,r,n){return nw(this,t,r,n)}inXRange(t,r){return nw(this,t,null,r)}inYRange(t,r){return nw(this,null,t,r)}getCenterPoint(t){const{x:r,y:n,base:c,horizontal:S}=this.getProps(["x","y","base","horizontal"],t);return{x:S?(r+c)/2:r,y:S?n:(n+c)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}J5.id="bar";J5.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};J5.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const c1={average(e){if(!e.length)return!1;let t,r,n=0,c=0,S=0;for(t=0,r=e.length;t<r;++t){const s=e[t].element;if(s&&s.hasValue()){const g=s.tooltipPosition();n+=g.x,c+=g.y,++S}}return{x:n/S,y:c/S}},nearest(e,t){if(!e.length)return!1;let r=t.x,n=t.y,c=Number.POSITIVE_INFINITY,S,s,g;for(S=0,s=e.length;S<s;++S){const i=e[S].element;if(i&&i.hasValue()){const a=i.getCenterPoint(),v=fC(t,a);v<c&&(c=v,g=i)}}if(g){const i=g.tooltipPosition();r=i.x,n=i.y}return{x:r,y:n}}};function eu(e,t){return t&&(ts(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Vu(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function eEt(e,t){const{element:r,datasetIndex:n,index:c}=t,S=e.getDatasetMeta(n).controller,{label:s,value:g}=S.getLabelAndValue(c);return{chart:e,label:s,parsed:S.getParsed(c),raw:e.data.datasets[n].data[c],formattedValue:g,dataset:S.getDataset(),dataIndex:c,datasetIndex:n,element:r}}function lA(e,t){const r=e.chart.ctx,{body:n,footer:c,title:S}=e,{boxWidth:s,boxHeight:g}=t,i=Co(t.bodyFont),a=Co(t.titleFont),v=Co(t.footerFont),f=S.length,h=c.length,u=n.length,o=qo(t.padding);let d=o.height,p=0,l=n.reduce((x,b)=>x+b.before.length+b.lines.length+b.after.length,0);if(l+=e.beforeBody.length+e.afterBody.length,f&&(d+=f*a.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),l){const x=t.displayColors?Math.max(g,i.lineHeight):i.lineHeight;d+=u*x+(l-u)*i.lineHeight+(l-1)*t.bodySpacing}h&&(d+=t.footerMarginTop+h*v.lineHeight+(h-1)*t.footerSpacing);let m=0;const y=function(x){p=Math.max(p,r.measureText(x).width+m)};return r.save(),r.font=a.string,un(e.title,y),r.font=i.string,un(e.beforeBody.concat(e.afterBody),y),m=t.displayColors?s+2+t.boxPadding:0,un(n,x=>{un(x.before,y),un(x.lines,y),un(x.after,y)}),m=0,r.font=v.string,un(e.footer,y),r.restore(),p+=o.width,{width:p,height:d}}function iEt(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}function rEt(e,t,r,n){const{x:c,width:S}=n,s=r.caretSize+r.caretPadding;if(e==="left"&&c+S+s>t.width||e==="right"&&c-S-s<0)return!0}function nEt(e,t,r,n){const{x:c,width:S}=r,{width:s,chartArea:{left:g,right:i}}=e;let a="center";return n==="center"?a=c<=(g+i)/2?"left":"right":c<=S/2?a="left":c>=s-S/2&&(a="right"),rEt(a,e,t,r)&&(a="center"),a}function uA(e,t,r){const n=r.yAlign||t.yAlign||iEt(e,r);return{xAlign:r.xAlign||t.xAlign||nEt(e,t,r,n),yAlign:n}}function sEt(e,t){let{x:r,width:n}=e;return t==="right"?r-=n:t==="center"&&(r-=n/2),r}function aEt(e,t,r){let{y:n,height:c}=e;return t==="top"?n+=r:t==="bottom"?n-=c+r:n-=c/2,n}function hA(e,t,r,n){const{caretSize:c,caretPadding:S,cornerRadius:s}=e,{xAlign:g,yAlign:i}=r,a=c+S,{topLeft:v,topRight:f,bottomLeft:h,bottomRight:u}=Ed(s);let o=sEt(t,g);const d=aEt(t,i,a);return i==="center"?g==="left"?o+=a:g==="right"&&(o-=a):g==="left"?o-=Math.max(v,h)+c:g==="right"&&(o+=Math.max(f,u)+c),{x:wa(o,0,n.width-t.width),y:wa(d,0,n.height-t.height)}}function pg(e,t,r){const n=qo(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function cA(e){return eu([],Vu(e))}function oEt(e,t,r){return kc(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function fA(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}class lEt extends Sh{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,n=this.options.setContext(this.getContext()),c=n.enabled&&r.options.animation&&n.animations,S=new x_(this.chart,c);return c._cacheable&&(this._cachedAnimations=Object.freeze(S)),S}getContext(){return this.$context||(this.$context=oEt(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:n}=r,c=n.beforeTitle.apply(this,[t]),S=n.title.apply(this,[t]),s=n.afterTitle.apply(this,[t]);let g=[];return g=eu(g,Vu(c)),g=eu(g,Vu(S)),g=eu(g,Vu(s)),g}getBeforeBody(t,r){return cA(r.callbacks.beforeBody.apply(this,[t]))}getBody(t,r){const{callbacks:n}=r,c=[];return un(t,S=>{const s={before:[],lines:[],after:[]},g=fA(n,S);eu(s.before,Vu(g.beforeLabel.call(this,S))),eu(s.lines,g.label.call(this,S)),eu(s.after,Vu(g.afterLabel.call(this,S))),c.push(s)}),c}getAfterBody(t,r){return cA(r.callbacks.afterBody.apply(this,[t]))}getFooter(t,r){const{callbacks:n}=r,c=n.beforeFooter.apply(this,[t]),S=n.footer.apply(this,[t]),s=n.afterFooter.apply(this,[t]);let g=[];return g=eu(g,Vu(c)),g=eu(g,Vu(S)),g=eu(g,Vu(s)),g}_createItems(t){const r=this._active,n=this.chart.data,c=[],S=[],s=[];let g=[],i,a;for(i=0,a=r.length;i<a;++i)g.push(eEt(this.chart,r[i]));return t.filter&&(g=g.filter((v,f,h)=>t.filter(v,f,h,n))),t.itemSort&&(g=g.sort((v,f)=>t.itemSort(v,f,n))),un(g,v=>{const f=fA(t.callbacks,v);c.push(f.labelColor.call(this,v)),S.push(f.labelPointStyle.call(this,v)),s.push(f.labelTextColor.call(this,v))}),this.labelColors=c,this.labelPointStyles=S,this.labelTextColors=s,this.dataPoints=g,g}update(t,r){const n=this.options.setContext(this.getContext()),c=this._active;let S,s=[];if(!c.length)this.opacity!==0&&(S={opacity:0});else{const g=c1[n.position].call(this,c,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const i=this._size=lA(this,n),a=Object.assign({},g,i),v=uA(this.chart,n,a),f=hA(n,a,v,this.chart);this.xAlign=v.xAlign,this.yAlign=v.yAlign,S={opacity:1,x:f.x,y:f.y,width:i.width,height:i.height,caretX:g.x,caretY:g.y}}this._tooltipItems=s,this.$context=void 0,S&&this._resolveAnimations().update(this,S),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,n,c){const S=this.getCaretPosition(t,n,c);r.lineTo(S.x1,S.y1),r.lineTo(S.x2,S.y2),r.lineTo(S.x3,S.y3)}getCaretPosition(t,r,n){const{xAlign:c,yAlign:S}=this,{caretSize:s,cornerRadius:g}=n,{topLeft:i,topRight:a,bottomLeft:v,bottomRight:f}=Ed(g),{x:h,y:u}=t,{width:o,height:d}=r;let p,l,m,y,x,b;return S==="center"?(x=u+d/2,c==="left"?(p=h,l=p-s,y=x+s,b=x-s):(p=h+o,l=p+s,y=x-s,b=x+s),m=p):(c==="left"?l=h+Math.max(i,v)+s:c==="right"?l=h+o-Math.max(a,f)-s:l=this.caretX,S==="top"?(y=u,x=y-s,p=l-s,m=l+s):(y=u+d,x=y+s,p=l+s,m=l-s),b=y),{x1:p,x2:l,x3:m,y1:y,y2:x,y3:b}}drawTitle(t,r,n){const c=this.title,S=c.length;let s,g,i;if(S){const a=JS(n.rtl,this.x,this.width);for(t.x=pg(this,n.titleAlign,n),r.textAlign=a.textAlign(n.titleAlign),r.textBaseline="middle",s=Co(n.titleFont),g=n.titleSpacing,r.fillStyle=n.titleColor,r.font=s.string,i=0;i<S;++i)r.fillText(c[i],a.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+g,i+1===S&&(t.y+=n.titleMarginBottom-g)}}_drawColorBox(t,r,n,c,S){const s=this.labelColors[n],g=this.labelPointStyles[n],{boxHeight:i,boxWidth:a,boxPadding:v}=S,f=Co(S.bodyFont),h=pg(this,"left",S),u=c.x(h),o=i<f.lineHeight?(f.lineHeight-i)/2:0,d=r.y+o;if(S.usePointStyle){const p={radius:Math.min(a,i)/2,pointStyle:g.pointStyle,rotation:g.rotation,borderWidth:1},l=c.leftForLtr(u,a)+a/2,m=d+i/2;t.strokeStyle=S.multiKeyBackground,t.fillStyle=S.multiKeyBackground,vC(t,p,l,m),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,vC(t,p,l,m)}else{t.lineWidth=Hr(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const p=c.leftForLtr(u,a-v),l=c.leftForLtr(c.xPlus(u,1),a-v-2),m=Ed(s.borderRadius);Object.values(m).some(y=>y!==0)?(t.beginPath(),t.fillStyle=S.multiKeyBackground,by(t,{x:p,y:d,w:a,h:i,radius:m}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),by(t,{x:l,y:d+1,w:a-2,h:i-2,radius:m}),t.fill()):(t.fillStyle=S.multiKeyBackground,t.fillRect(p,d,a,i),t.strokeRect(p,d,a,i),t.fillStyle=s.backgroundColor,t.fillRect(l,d+1,a-2,i-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,r,n){const{body:c}=this,{bodySpacing:S,bodyAlign:s,displayColors:g,boxHeight:i,boxWidth:a,boxPadding:v}=n,f=Co(n.bodyFont);let h=f.lineHeight,u=0;const o=JS(n.rtl,this.x,this.width),d=function(E){r.fillText(E,o.x(t.x+u),t.y+h/2),t.y+=h+S},p=o.textAlign(s);let l,m,y,x,b,w,C;for(r.textAlign=s,r.textBaseline="middle",r.font=f.string,t.x=pg(this,p,n),r.fillStyle=n.bodyColor,un(this.beforeBody,d),u=g&&p!=="right"?s==="center"?a/2+v:a+2+v:0,x=0,w=c.length;x<w;++x){for(l=c[x],m=this.labelTextColors[x],r.fillStyle=m,un(l.before,d),y=l.lines,g&&y.length&&(this._drawColorBox(r,t,x,o,n),h=Math.max(f.lineHeight,i)),b=0,C=y.length;b<C;++b)d(y[b]),h=f.lineHeight;un(l.after,d)}u=0,h=f.lineHeight,un(this.afterBody,d),t.y-=S}drawFooter(t,r,n){const c=this.footer,S=c.length;let s,g;if(S){const i=JS(n.rtl,this.x,this.width);for(t.x=pg(this,n.footerAlign,n),t.y+=n.footerMarginTop,r.textAlign=i.textAlign(n.footerAlign),r.textBaseline="middle",s=Co(n.footerFont),r.fillStyle=n.footerColor,r.font=s.string,g=0;g<S;++g)r.fillText(c[g],i.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,r,n,c){const{xAlign:S,yAlign:s}=this,{x:g,y:i}=t,{width:a,height:v}=n,{topLeft:f,topRight:h,bottomLeft:u,bottomRight:o}=Ed(c.cornerRadius);r.fillStyle=c.backgroundColor,r.strokeStyle=c.borderColor,r.lineWidth=c.borderWidth,r.beginPath(),r.moveTo(g+f,i),s==="top"&&this.drawCaret(t,r,n,c),r.lineTo(g+a-h,i),r.quadraticCurveTo(g+a,i,g+a,i+h),s==="center"&&S==="right"&&this.drawCaret(t,r,n,c),r.lineTo(g+a,i+v-o),r.quadraticCurveTo(g+a,i+v,g+a-o,i+v),s==="bottom"&&this.drawCaret(t,r,n,c),r.lineTo(g+u,i+v),r.quadraticCurveTo(g,i+v,g,i+v-u),s==="center"&&S==="left"&&this.drawCaret(t,r,n,c),r.lineTo(g,i+f),r.quadraticCurveTo(g,i,g+f,i),r.closePath(),r.fill(),c.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,n=this.$animations,c=n&&n.x,S=n&&n.y;if(c||S){const s=c1[t.position].call(this,this._active,this._eventPosition);if(!s)return;const g=this._size=lA(this,t),i=Object.assign({},s,this._size),a=uA(r,t,i),v=hA(t,i,a,r);(c._to!==v.x||S._to!==v.y)&&(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=g.width,this.height=g.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,v))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const c={width:this.width,height:this.height},S={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=qo(r.padding),g=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&g&&(t.save(),t.globalAlpha=n,this.drawBackground(S,t,c,r),H2t(t,r.textDirection),S.y+=s.top,this.drawTitle(S,t,r),this.drawBody(S,t,r),this.drawFooter(S,t,r),$2t(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const n=this._active,c=t.map(({datasetIndex:g,index:i})=>{const a=this.chart.getDatasetMeta(g);if(!a)throw new Error("Cannot find a dataset at index "+g);return{datasetIndex:g,element:a.data[i],index:i}}),S=!dy(n,c),s=this._positionChanged(c,r);(S||s)&&(this._active=c,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const c=this.options,S=this._active||[],s=this._getActiveElements(t,S,r,n),g=this._positionChanged(s,t),i=r||!dy(s,S)||g;return i&&(this._active=s,(c.enabled||c.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),i}_getActiveElements(t,r,n,c){const S=this.options;if(t.type==="mouseout")return[];if(!c)return r;const s=this.chart.getElementsAtEventForMode(t,S.mode,S,n);return S.reverse&&s.reverse(),s}_positionChanged(t,r){const{caretX:n,caretY:c,options:S}=this,s=c1[S.position].call(this,t,r);return s!==!1&&(n!==s.x||c!==s.y)}}lEt.positioners=c1;const uEt=(e,t,r,n)=>(typeof t=="string"?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function hEt(e,t,r,n){const c=e.indexOf(t);if(c===-1)return uEt(e,t,r,n);const S=e.lastIndexOf(t);return c!==S?r:c}const cEt=(e,t)=>e===null?null:wa(Math.round(e),0,t);class SC extends Rf{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:c,label:S}of r)n[c]===S&&n.splice(c,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(hn(t))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===t?r:hEt(n,t,Gr(r,t),this._addedLabels),cEt(r,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:c}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),r||(c=this.getLabels().length-1)),this.min=n,this.max=c}buildTicks(){const t=this.min,r=this.max,n=this.options.offset,c=[];let S=this.getLabels();S=t===0&&r===S.length-1?S:S.slice(t,r+1),this._valueRange=Math.max(S.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=r;s++)c.push({value:s});return c}getLabelForValue(t){const r=this.getLabels();return t>=0&&t<r.length?r[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}SC.id="category";SC.defaults={ticks:{callback:SC.prototype.getLabelForValue}};function fEt(e,t){const r=[],{bounds:c,step:S,min:s,max:g,precision:i,count:a,maxTicks:v,maxDigits:f,includeBounds:h}=e,u=S||1,o=v-1,{min:d,max:p}=t,l=!hn(s),m=!hn(g),y=!hn(a),x=(p-d)/(f+1);let b=mD((p-d)/o/u)*u,w,C,E,T;if(b<1e-14&&!l&&!m)return[{value:d},{value:p}];T=Math.ceil(p/b)-Math.floor(d/b),T>o&&(b=mD(T*b/o/u)*u),hn(i)||(w=Math.pow(10,i),b=Math.ceil(b*w)/w),c==="ticks"?(C=Math.floor(d/b)*b,E=Math.ceil(p/b)*b):(C=d,E=p),l&&m&&S&&kTt((g-s)/S,b/1e3)?(T=Math.round(Math.min((g-s)/b,v)),b=(g-s)/T,C=s,E=g):y?(C=l?s:C,E=m?g:E,T=a-1,b=(E-C)/T):(T=(E-C)/b,zv(T,Math.round(T),b/1e3)?T=Math.round(T):T=Math.ceil(T));const k=Math.max(gD(b),gD(C));w=Math.pow(10,hn(i)?k:i),C=Math.round(C*w)/w,E=Math.round(E*w)/w;let P=0;for(l&&(h&&C!==s?(r.push({value:s}),C<s&&P++,zv(Math.round((C+P*b)*w)/w,s,dA(s,x,e))&&P++):C<s&&P++);P<T;++P)r.push({value:Math.round((C+P*b)*w)/w});return m&&h&&E!==g?r.length&&zv(r[r.length-1].value,g,dA(g,x,e))?r[r.length-1].value=g:r.push({value:g}):(!m||E===g)&&r.push({value:E}),r}function dA(e,t,{horizontal:r,minRotation:n}){const c=Bl(n),S=(r?Math.sin(c):Math.cos(c))||.001,s=.75*t*(""+e).length;return Math.min(t/S,s)}class Cy extends Rf{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return hn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:c,max:S}=this;const s=i=>c=r?c:i,g=i=>S=n?S:i;if(t){const i=wu(c),a=wu(S);i<0&&a<0?g(0):i>0&&a>0&&s(0)}if(c===S){let i=1;(S>=Number.MAX_SAFE_INTEGER||c<=Number.MIN_SAFE_INTEGER)&&(i=Math.abs(S*.05)),g(S+i),t||s(c-i)}this.min=c,this.max=S}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=t,c;return n?(c=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,c>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${c} ticks. Limiting to 1000.`),c=1e3)):(c=this.computeTickLimit(),r=r||11),r&&(c=Math.min(r,c)),c}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const c={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},S=this._range||this,s=fEt(c,S);return t.bounds==="ticks"&&QL(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const c=(n-r)/Math.max(t.length-1,1)/2;r-=c,n+=c}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(t){return n0(t,this.chart.options.locale,this.options.ticks.format)}}class __ extends Cy{determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=aa(t)?t:0,this.max=aa(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,n=Bl(this.options.ticks.minRotation),c=(t?Math.sin(n):Math.cos(n))||.001,S=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,S.lineHeight/c))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}__.id="linear";__.defaults={ticks:{callback:Ux.formatters.numeric}};function pA(e){return e/Math.pow(10,Math.floor($o(e)))===1}function dEt(e,t){const r=Math.floor($o(t.max)),n=Math.ceil(t.max/Math.pow(10,r)),c=[];let S=jo(e.min,Math.pow(10,Math.floor($o(t.min)))),s=Math.floor($o(S)),g=Math.floor(S/Math.pow(10,s)),i=s<0?Math.pow(10,Math.abs(s)):1;do c.push({value:S,major:pA(S)}),++g,g===10&&(g=1,++s,i=s>=0?1:i),S=Math.round(g*Math.pow(10,s)*i)/i;while(s<r||s===r&&g<n);const a=jo(e.max,S);return c.push({value:a,major:pA(S)}),c}class j_ extends Rf{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,r){const n=Cy.prototype.parse.apply(this,[t,r]);if(n===0){this._zero=!0;return}return aa(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=aa(t)?Math.max(0,t):null,this.max=aa(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let n=this.min,c=this.max;const S=i=>n=t?n:i,s=i=>c=r?c:i,g=(i,a)=>Math.pow(10,Math.floor($o(i))+a);n===c&&(n<=0?(S(1),s(10)):(S(g(n,-1)),s(g(c,1)))),n<=0&&S(g(c,-1)),c<=0&&s(g(n,1)),this._zero&&this.min!==this._suggestedMin&&n===g(this.min,0)&&S(g(n,-1)),this.min=n,this.max=c}buildTicks(){const t=this.options,r={min:this._userMin,max:this._userMax},n=dEt(r,this);return t.bounds==="ticks"&&QL(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":n0(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=$o(t),this._valueRange=$o(this.max)-$o(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:($o(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const r=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+r*this._valueRange)}}j_.id="logarithmic";j_.defaults={ticks:{callback:Ux.formatters.logarithmic,major:{enabled:!0}}};function wC(e){const t=e.ticks;if(t.display&&e.display){const r=qo(t.backdropPadding);return Gr(t.font&&t.font.size,jr.font.size)+r.height}return 0}function pEt(e,t,r){return r=ts(r)?r:[r],{w:n2t(e,t.string,r),h:r.length*t.lineHeight}}function vA(e,t,r,n,c){return e===n||e===c?{start:t-r/2,end:t+r/2}:e<n||e>c?{start:t-r,end:t}:{start:t,end:t+r}}function vEt(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),n=[],c=[],S=e._pointLabels.length,s=e.options.pointLabels,g=s.centerPointLabels?us/S:0;for(let i=0;i<S;i++){const a=s.setContext(e.getPointLabelContext(i));c[i]=a.padding;const v=e.getPointPosition(i,e.drawingArea+c[i],g),f=Co(a.font),h=pEt(e.ctx,f,e._pointLabels[i]);n[i]=h;const u=fl(e.getIndexAngle(i)+g),o=Math.round(O5(u)),d=vA(o,v.x,h.w,0,180),p=vA(o,v.y,h.h,90,270);mEt(r,t,u,d,p)}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=gEt(e,n,c)}function mEt(e,t,r,n,c){const S=Math.abs(Math.sin(r)),s=Math.abs(Math.cos(r));let g=0,i=0;n.start<t.l?(g=(t.l-n.start)/S,e.l=Math.min(e.l,t.l-g)):n.end>t.r&&(g=(n.end-t.r)/S,e.r=Math.max(e.r,t.r+g)),c.start<t.t?(i=(t.t-c.start)/s,e.t=Math.min(e.t,t.t-i)):c.end>t.b&&(i=(c.end-t.b)/s,e.b=Math.max(e.b,t.b+i))}function gEt(e,t,r){const n=[],c=e._pointLabels.length,S=e.options,s=wC(S)/2,g=e.drawingArea,i=S.pointLabels.centerPointLabels?us/c:0;for(let a=0;a<c;a++){const v=e.getPointPosition(a,g+s+r[a],i),f=Math.round(O5(fl(v.angle+ls))),h=t[a],u=bEt(v.y,h.h,f),o=yEt(f),d=xEt(v.x,h.w,o);n.push({x:v.x,y:u,textAlign:o,left:d,top:u,right:d+h.w,bottom:u+h.h})}return n}function yEt(e){return e===0||e===180?"center":e<180?"left":"right"}function xEt(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function bEt(e,t,r){return r===90||r===270?e-=t/2:(r>270||r<90)&&(e-=t),e}function SEt(e,t){const{ctx:r,options:{pointLabels:n}}=e;for(let c=t-1;c>=0;c--){const S=n.setContext(e.getPointLabelContext(c)),s=Co(S.font),{x:g,y:i,textAlign:a,left:v,top:f,right:h,bottom:u}=e._pointLabelItems[c],{backdropColor:o}=S;if(!hn(o)){const d=Ed(S.borderRadius),p=qo(S.backdropPadding);r.fillStyle=o;const l=v-p.left,m=f-p.top,y=h-v+p.width,x=u-f+p.height;Object.values(d).some(b=>b!==0)?(r.beginPath(),by(r,{x:l,y:m,w:y,h:x,radius:d}),r.fill()):r.fillRect(l,m,y,x)}xy(r,e._pointLabels[c],g,i+s.lineHeight/2,s,{color:S.color,textAlign:a,textBaseline:"middle"})}}function U_(e,t,r,n){const{ctx:c}=e;if(r)c.arc(e.xCenter,e.yCenter,t,0,An);else{let S=e.getPointPosition(0,t);c.moveTo(S.x,S.y);for(let s=1;s<n;s++)S=e.getPointPosition(s,t),c.lineTo(S.x,S.y)}}function wEt(e,t,r,n){const c=e.ctx,S=t.circular,{color:s,lineWidth:g}=t;!S&&!n||!s||!g||r<0||(c.save(),c.strokeStyle=s,c.lineWidth=g,c.setLineDash(t.borderDash),c.lineDashOffset=t.borderDashOffset,c.beginPath(),U_(e,r,S,n),c.closePath(),c.stroke(),c.restore())}function TEt(e,t,r){return kc(e,{label:r,index:t,type:"pointLabel"})}class Gx extends Cy{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=qo(wC(this.options)/2),r=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+r/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!1);this.min=aa(t)&&!isNaN(t)?t:0,this.max=aa(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wC(this.options))}generateTickLabels(t){Cy.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((r,n)=>{const c=rs(this.options.pointLabels.callback,[r,n],this);return c||c===0?c:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?vEt(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,r,n,c){this.xCenter+=Math.floor((t-r)/2),this.yCenter+=Math.floor((n-c)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,r,n,c))}getIndexAngle(t){const r=An/(this._pointLabels.length||1),n=this.options.startAngle||0;return fl(t*r+Bl(n))}getDistanceFromCenterForValue(t){if(hn(t))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*r:(t-this.min)*r}getValueForDistanceFromCenter(t){if(hn(t))return NaN;const r=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(t){const r=this._pointLabels||[];if(t>=0&&t<r.length){const n=r[t];return TEt(this.getContext(),t,n)}}getPointPosition(t,r,n=0){const c=this.getIndexAngle(t)-ls+n;return{x:Math.cos(c)*r+this.xCenter,y:Math.sin(c)*r+this.yCenter,angle:c}}getPointPositionForValue(t,r){return this.getPointPosition(t,this.getDistanceFromCenterForValue(r))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:r,top:n,right:c,bottom:S}=this._pointLabelItems[t];return{left:r,top:n,right:c,bottom:S}}drawBackground(){const{backgroundColor:t,grid:{circular:r}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),U_(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,r=this.options,{angleLines:n,grid:c}=r,S=this._pointLabels.length;let s,g,i;if(r.pointLabels.display&&SEt(this,S),c.display&&this.ticks.forEach((a,v)=>{if(v!==0){g=this.getDistanceFromCenterForValue(a.value);const f=c.setContext(this.getContext(v-1));wEt(this,f,g,S)}}),n.display){for(t.save(),s=S-1;s>=0;s--){const a=n.setContext(this.getPointLabelContext(s)),{color:v,lineWidth:f}=a;!f||!v||(t.lineWidth=f,t.strokeStyle=v,t.setLineDash(a.borderDash),t.lineDashOffset=a.borderDashOffset,g=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),i=this.getPointPosition(s,g),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(i.x,i.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const c=this.getIndexAngle(0);let S,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(c),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((g,i)=>{if(i===0&&!r.reverse)return;const a=n.setContext(this.getContext(i)),v=Co(a.font);if(S=this.getDistanceFromCenterForValue(this.ticks[i].value),a.showLabelBackdrop){t.font=v.string,s=t.measureText(g.label).width,t.fillStyle=a.backdropColor;const f=qo(a.backdropPadding);t.fillRect(-s/2-f.left,-S-v.size/2-f.top,s+f.width,v.size+f.height)}xy(t,g.label,0,-S,v,{color:a.color})}),t.restore()}drawTitle(){}}Gx.id="radialLinear";Gx.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ux.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};Gx.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Gx.descriptors={angleLines:{_fallback:"grid"}};const Hx={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},eo=Object.keys(Hx);function CEt(e,t){return e-t}function mA(e,t){if(hn(t))return null;const r=e._adapter,{parser:n,round:c,isoWeekday:S}=e._parseOpts;let s=t;return typeof n=="function"&&(s=n(s)),aa(s)||(s=typeof n=="string"?r.parse(s,n):r.parse(s)),s===null?null:(c&&(s=c==="week"&&($d(S)||S===!0)?r.startOf(s,"isoWeek",S):r.startOf(s,c)),+s)}function gA(e,t,r,n){const c=eo.length;for(let S=eo.indexOf(e);S<c-1;++S){const s=Hx[eo[S]],g=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((r-t)/(g*s.size))<=n)return eo[S]}return eo[c-1]}function EEt(e,t,r,n,c){for(let S=eo.length-1;S>=eo.indexOf(r);S--){const s=eo[S];if(Hx[s].common&&e._adapter.diff(c,n,s)>=t-1)return s}return eo[r?eo.indexOf(r):0]}function kEt(e){for(let t=eo.indexOf(e)+1,r=eo.length;t<r;++t)if(Hx[eo[t]].common)return eo[t]}function yA(e,t,r){if(!r)e[t]=!0;else if(r.length){const{lo:n,hi:c}=N5(r,t),S=r[n]>=t?r[n]:r[c];e[S]=!0}}function DEt(e,t,r,n){const c=e._adapter,S=+c.startOf(t[0].value,n),s=t[t.length-1].value;let g,i;for(g=S;g<=s;g=+c.add(g,1,n))i=r[g],i>=0&&(t[i].major=!0);return t}function xA(e,t,r){const n=[],c={},S=t.length;let s,g;for(s=0;s<S;++s)g=t[s],c[g]=s,n.push({value:g,major:!1});return S===0||!r?n:DEt(e,n,c,r)}class $x extends Rf{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r){const n=t.time||(t.time={}),c=this._adapter=new VCt._date(t.adapters.date);c.init(r),Uv(n.displayFormats,c.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:mA(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,n=t.time.unit||"day";let{min:c,max:S,minDefined:s,maxDefined:g}=this.getUserBounds();function i(a){!s&&!isNaN(a.min)&&(c=Math.min(c,a.min)),!g&&!isNaN(a.max)&&(S=Math.max(S,a.max))}(!s||!g)&&(i(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&i(this.getMinMax(!1))),c=aa(c)&&!isNaN(c)?c:+r.startOf(Date.now(),n),S=aa(S)&&!isNaN(S)?S:+r.endOf(Date.now(),n)+1,this.min=Math.min(c,S-1),this.max=Math.max(c+1,S)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],n=t[t.length-1]),{min:r,max:n}}buildTicks(){const t=this.options,r=t.time,n=t.ticks,c=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&c.length&&(this.min=this._userMin||c[0],this.max=this._userMax||c[c.length-1]);const S=this.min,s=this.max,g=RTt(c,S,s);return this._unit=r.unit||(n.autoSkip?gA(r.minUnit,this.min,this.max,this._getLabelCapacity(S)):EEt(this,g.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:kEt(this._unit),this.initOffsets(c),t.reverse&&g.reverse(),xA(this,g,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let r=0,n=0,c,S;this.options.offset&&t.length&&(c=this.getDecimalForValue(t[0]),t.length===1?r=1-c:r=(this.getDecimalForValue(t[1])-c)/2,S=this.getDecimalForValue(t[t.length-1]),t.length===1?n=S:n=(S-this.getDecimalForValue(t[t.length-2]))/2);const s=t.length<3?.5:.25;r=wa(r,0,s),n=wa(n,0,s),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const t=this._adapter,r=this.min,n=this.max,c=this.options,S=c.time,s=S.unit||gA(S.minUnit,r,n,this._getLabelCapacity(r)),g=Gr(S.stepSize,1),i=s==="week"?S.isoWeekday:!1,a=$d(i)||i===!0,v={};let f=r,h,u;if(a&&(f=+t.startOf(f,"isoWeek",i)),f=+t.startOf(f,a?"day":s),t.diff(n,r,s)>1e5*g)throw new Error(r+" and "+n+" are too far apart with stepSize of "+g+" "+s);const o=c.ticks.source==="data"&&this.getDataTimestamps();for(h=f,u=0;h<n;h=+t.add(h,g,s),u++)yA(v,h,o);return(h===n||c.bounds==="ticks"||u===1)&&yA(v,h,o),Object.keys(v).sort((d,p)=>d-p).map(d=>+d)}getLabelForValue(t){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(t,n.tooltipFormat):r.format(t,n.displayFormats.datetime)}_tickFormatFunction(t,r,n,c){const S=this.options,s=S.time.displayFormats,g=this._unit,i=this._majorUnit,a=g&&s[g],v=i&&s[i],f=n[r],h=i&&v&&f&&f.major,u=this._adapter.format(t,c||(h?v:a)),o=S.ticks.callback;return o?rs(o,[u,r,n],this):u}generateTickLabels(t){let r,n,c;for(r=0,n=t.length;r<n;++r)c=t[r],c.label=this._tickFormatFunction(c.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,n=this.ctx.measureText(t).width,c=Bl(this.isHorizontal()?r.maxRotation:r.minRotation),S=Math.cos(c),s=Math.sin(c),g=this._resolveTickFontOptions(0).size;return{w:n*S+g*s,h:n*s+g*S}}_getLabelCapacity(t){const r=this.options.time,n=r.displayFormats,c=n[r.unit]||n.millisecond,S=this._tickFormatFunction(t,0,xA(this,[t],this._majorUnit),c),s=this._getLabelSize(S),g=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return g>0?g:1}getDataTimestamps(){let t=this._cache.data||[],r,n;if(t.length)return t;const c=this.getMatchingVisibleMetas();if(this._normalized&&c.length)return this._cache.data=c[0].controller.getAllParsedValues(this);for(r=0,n=c.length;r<n;++r)t=t.concat(c[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,n;if(t.length)return t;const c=this.getLabels();for(r=0,n=c.length;r<n;++r)t.push(mA(this,c[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ZL(t.sort(CEt))}}$x.id="time";$x.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function vg(e,t,r){let n=0,c=e.length-1,S,s,g,i;r?(t>=e[n].pos&&t<=e[c].pos&&({lo:n,hi:c}=nf(e,"pos",t)),{pos:S,time:g}=e[n],{pos:s,time:i}=e[c]):(t>=e[n].time&&t<=e[c].time&&({lo:n,hi:c}=nf(e,"time",t)),{time:S,pos:g}=e[n],{time:s,pos:i}=e[c]);const a=s-S;return a?g+(i-g)*(t-S)/a:g}class z_ extends $x{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=vg(r,this.min),this._tableRange=vg(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:n}=this,c=[],S=[];let s,g,i,a,v;for(s=0,g=t.length;s<g;++s)a=t[s],a>=r&&a<=n&&c.push(a);if(c.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(s=0,g=c.length;s<g;++s)v=c[s+1],i=c[s-1],a=c[s],Math.round((v+i)/2)!==a&&S.push({time:a,pos:s/(g-1)});return S}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?t=this.normalize(r.concat(n)):t=r.length?r:n,t=this._cache.all=t,t}getDecimalForValue(t){return(vg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return vg(this._table,n*this._tableRange+this._minPos,!0)}}z_.id="timeseries";z_.defaults=$x.defaults;const G_="label";function bA(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function AEt(e,t){Object.assign(e.options,t)}function H_(e,t){e.labels=t}function $_(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:G_;const n=[];e.datasets=t.map(c=>{const S=e.datasets.find(s=>s[r]===c[r]);return!S||!c.data||n.includes(S)?ji({},c):(n.push(S),Object.assign(S,c),S)})}function PEt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G_;const r={labels:[],datasets:[]};return H_(r,e.labels),$_(r,e.datasets,t),r}function REt(e,t){let l=e,{height:r=150,width:n=300,redraw:c=!1,datasetIdKey:S,type:s,data:g,options:i,plugins:a=[],fallbackContent:v,updateMode:f}=l,h=T4(l,["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"]);const u=zi.useRef(null),o=zi.useRef(),d=()=>{u.current&&(o.current=new mp(u.current,{type:s,data:PEt(g,S),options:i&&ji({},i),plugins:a}),bA(t,o.current))},p=()=>{bA(t,null),o.current&&(o.current.destroy(),o.current=null)};return zi.useEffect(()=>{!c&&o.current&&i&&AEt(o.current,i)},[c,i]),zi.useEffect(()=>{!c&&o.current&&H_(o.current.config.data,g.labels)},[c,g.labels]),zi.useEffect(()=>{!c&&o.current&&g.datasets&&$_(o.current.config.data,g.datasets,S)},[c,g.datasets]),zi.useEffect(()=>{o.current&&(c?(p(),setTimeout(d)):o.current.update(f))},[c,i,g.labels,g.datasets,f]),zi.useEffect(()=>{o.current&&(p(),setTimeout(d))},[s]),zi.useEffect(()=>(d(),()=>p()),[]),ti.createElement("canvas",Object.assign({ref:u,role:"img",height:r,width:n},h),v)}const IEt=zi.forwardRef(REt);function MEt(e,t){return mp.register(t),zi.forwardRef((r,n)=>ti.createElement(IEt,Object.assign({},r,{ref:n,type:e})))}const Xh=MEt("doughnut",vp);var BEt=1/0,OEt="[object Symbol]",V_=/[&<>"'`]/g,NEt=RegExp(V_.source),FEt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},LEt=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,_Et=typeof self=="object"&&self&&self.Object===Object&&self,jEt=LEt||_Et||Function("return this")();function UEt(e){return function(t){return e==null?void 0:e[t]}}var zEt=UEt(FEt),GEt=Object.prototype,HEt=GEt.toString,SA=jEt.Symbol,wA=SA?SA.prototype:void 0,TA=wA?wA.toString:void 0;function $Et(e){if(typeof e=="string")return e;if(WEt(e))return TA?TA.call(e):"";var t=e+"";return t=="0"&&1/e==-BEt?"-0":t}function VEt(e){return!!e&&typeof e=="object"}function WEt(e){return typeof e=="symbol"||VEt(e)&&HEt.call(e)==OEt}function YEt(e){return e==null?"":$Et(e)}function XEt(e){return e=YEt(e),e&&NEt.test(e)?e.replace(V_,zEt):e}var QEt=XEt;const KEt=Rs(QEt);var js={},Vx={};Vx.byteLength=qEt;Vx.toByteArray=e5t;Vx.fromByteArray=n5t;var du=[],zo=[],JEt=typeof Uint8Array!="undefined"?Uint8Array:Array,aw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Jf=0,ZEt=aw.length;Jf<ZEt;++Jf)du[Jf]=aw[Jf],zo[aw.charCodeAt(Jf)]=Jf;zo[45]=62;zo[95]=63;function W_(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function qEt(e){var t=W_(e),r=t[0],n=t[1];return(r+n)*3/4-n}function t5t(e,t,r){return(t+r)*3/4-r}function e5t(e){var t,r=W_(e),n=r[0],c=r[1],S=new JEt(t5t(e,n,c)),s=0,g=c>0?n-4:n,i;for(i=0;i<g;i+=4)t=zo[e.charCodeAt(i)]<<18|zo[e.charCodeAt(i+1)]<<12|zo[e.charCodeAt(i+2)]<<6|zo[e.charCodeAt(i+3)],S[s++]=t>>16&255,S[s++]=t>>8&255,S[s++]=t&255;return c===2&&(t=zo[e.charCodeAt(i)]<<2|zo[e.charCodeAt(i+1)]>>4,S[s++]=t&255),c===1&&(t=zo[e.charCodeAt(i)]<<10|zo[e.charCodeAt(i+1)]<<4|zo[e.charCodeAt(i+2)]>>2,S[s++]=t>>8&255,S[s++]=t&255),S}function i5t(e){return du[e>>18&63]+du[e>>12&63]+du[e>>6&63]+du[e&63]}function r5t(e,t,r){for(var n,c=[],S=t;S<r;S+=3)n=(e[S]<<16&16711680)+(e[S+1]<<8&65280)+(e[S+2]&255),c.push(i5t(n));return c.join("")}function n5t(e){for(var t,r=e.length,n=r%3,c=[],S=16383,s=0,g=r-n;s<g;s+=S)c.push(r5t(e,s,s+S>g?g:s+S));return n===1?(t=e[r-1],c.push(du[t>>2]+du[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],c.push(du[t>>10]+du[t>>4&63]+du[t<<2&63]+"=")),c.join("")}var Z5={};Z5.read=function(e,t,r,n,c){var S,s,g=c*8-n-1,i=(1<<g)-1,a=i>>1,v=-7,f=r?c-1:0,h=r?-1:1,u=e[t+f];for(f+=h,S=u&(1<<-v)-1,u>>=-v,v+=g;v>0;S=S*256+e[t+f],f+=h,v-=8);for(s=S&(1<<-v)-1,S>>=-v,v+=n;v>0;s=s*256+e[t+f],f+=h,v-=8);if(S===0)S=1-a;else{if(S===i)return s?NaN:(u?-1:1)*(1/0);s=s+Math.pow(2,n),S=S-a}return(u?-1:1)*s*Math.pow(2,S-n)};Z5.write=function(e,t,r,n,c,S){var s,g,i,a=S*8-c-1,v=(1<<a)-1,f=v>>1,h=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=n?0:S-1,o=n?1:-1,d=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(g=isNaN(t)?1:0,s=v):(s=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-s))<1&&(s--,i*=2),s+f>=1?t+=h/i:t+=h*Math.pow(2,1-f),t*i>=2&&(s++,i/=2),s+f>=v?(g=0,s=v):s+f>=1?(g=(t*i-1)*Math.pow(2,c),s=s+f):(g=t*Math.pow(2,f-1)*Math.pow(2,c),s=0));c>=8;e[r+u]=g&255,u+=o,g/=256,c-=8);for(s=s<<c|g,a+=c;a>0;e[r+u]=s&255,u+=o,s/=256,a-=8);e[r+u-o]|=d*128};(function(e){const t=Vx,r=Z5,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=v,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50;const c=2147483647;e.kMaxLength=c;const{Uint8Array:S,ArrayBuffer:s,SharedArrayBuffer:g}=globalThis;v.TYPED_ARRAY_SUPPORT=i(),!v.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const xt=new S(1),et={foo:function(){return 42}};return Object.setPrototypeOf(et,S.prototype),Object.setPrototypeOf(xt,et),xt.foo()===42}catch(xt){return!1}}Object.defineProperty(v.prototype,"parent",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.buffer}}),Object.defineProperty(v.prototype,"offset",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.byteOffset}});function a(xt){if(xt>c)throw new RangeError('The value "'+xt+'" is invalid for option "size"');const et=new S(xt);return Object.setPrototypeOf(et,v.prototype),et}function v(xt,et,tt){if(typeof xt=="number"){if(typeof et=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return o(xt)}return f(xt,et,tt)}v.poolSize=8192;function f(xt,et,tt){if(typeof xt=="string")return d(xt,et);if(s.isView(xt))return l(xt);if(xt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof xt);if(ve(xt,s)||xt&&ve(xt.buffer,s)||typeof g!="undefined"&&(ve(xt,g)||xt&&ve(xt.buffer,g)))return m(xt,et,tt);if(typeof xt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ot=xt.valueOf&&xt.valueOf();if(Ot!=null&&Ot!==xt)return v.from(Ot,et,tt);const ie=y(xt);if(ie)return ie;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof xt[Symbol.toPrimitive]=="function")return v.from(xt[Symbol.toPrimitive]("string"),et,tt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof xt)}v.from=function(xt,et,tt){return f(xt,et,tt)},Object.setPrototypeOf(v.prototype,S.prototype),Object.setPrototypeOf(v,S);function h(xt){if(typeof xt!="number")throw new TypeError('"size" argument must be of type number');if(xt<0)throw new RangeError('The value "'+xt+'" is invalid for option "size"')}function u(xt,et,tt){return h(xt),xt<=0?a(xt):et!==void 0?typeof tt=="string"?a(xt).fill(et,tt):a(xt).fill(et):a(xt)}v.alloc=function(xt,et,tt){return u(xt,et,tt)};function o(xt){return h(xt),a(xt<0?0:x(xt)|0)}v.allocUnsafe=function(xt){return o(xt)},v.allocUnsafeSlow=function(xt){return o(xt)};function d(xt,et){if((typeof et!="string"||et==="")&&(et="utf8"),!v.isEncoding(et))throw new TypeError("Unknown encoding: "+et);const tt=w(xt,et)|0;let Ot=a(tt);const ie=Ot.write(xt,et);return ie!==tt&&(Ot=Ot.slice(0,ie)),Ot}function p(xt){const et=xt.length<0?0:x(xt.length)|0,tt=a(et);for(let Ot=0;Ot<et;Ot+=1)tt[Ot]=xt[Ot]&255;return tt}function l(xt){if(ve(xt,S)){const et=new S(xt);return m(et.buffer,et.byteOffset,et.byteLength)}return p(xt)}function m(xt,et,tt){if(et<0||xt.byteLength<et)throw new RangeError('"offset" is outside of buffer bounds');if(xt.byteLength<et+(tt||0))throw new RangeError('"length" is outside of buffer bounds');let Ot;return et===void 0&&tt===void 0?Ot=new S(xt):tt===void 0?Ot=new S(xt,et):Ot=new S(xt,et,tt),Object.setPrototypeOf(Ot,v.prototype),Ot}function y(xt){if(v.isBuffer(xt)){const et=x(xt.length)|0,tt=a(et);return tt.length===0||xt.copy(tt,0,0,et),tt}if(xt.length!==void 0)return typeof xt.length!="number"||Fe(xt.length)?a(0):p(xt);if(xt.type==="Buffer"&&Array.isArray(xt.data))return p(xt.data)}function x(xt){if(xt>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return xt|0}function b(xt){return+xt!=xt&&(xt=0),v.alloc(+xt)}v.isBuffer=function(et){return et!=null&&et._isBuffer===!0&&et!==v.prototype},v.compare=function(et,tt){if(ve(et,S)&&(et=v.from(et,et.offset,et.byteLength)),ve(tt,S)&&(tt=v.from(tt,tt.offset,tt.byteLength)),!v.isBuffer(et)||!v.isBuffer(tt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(et===tt)return 0;let Ot=et.length,ie=tt.length;for(let Ce=0,Ne=Math.min(Ot,ie);Ce<Ne;++Ce)if(et[Ce]!==tt[Ce]){Ot=et[Ce],ie=tt[Ce];break}return Ot<ie?-1:ie<Ot?1:0},v.isEncoding=function(et){switch(String(et).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(et,tt){if(!Array.isArray(et))throw new TypeError('"list" argument must be an Array of Buffers');if(et.length===0)return v.alloc(0);let Ot;if(tt===void 0)for(tt=0,Ot=0;Ot<et.length;++Ot)tt+=et[Ot].length;const ie=v.allocUnsafe(tt);let Ce=0;for(Ot=0;Ot<et.length;++Ot){let Ne=et[Ot];if(ve(Ne,S))Ce+Ne.length>ie.length?(v.isBuffer(Ne)||(Ne=v.from(Ne)),Ne.copy(ie,Ce)):S.prototype.set.call(ie,Ne,Ce);else if(v.isBuffer(Ne))Ne.copy(ie,Ce);else throw new TypeError('"list" argument must be an Array of Buffers');Ce+=Ne.length}return ie};function w(xt,et){if(v.isBuffer(xt))return xt.length;if(s.isView(xt)||ve(xt,s))return xt.byteLength;if(typeof xt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof xt);const tt=xt.length,Ot=arguments.length>2&&arguments[2]===!0;if(!Ot&&tt===0)return 0;let ie=!1;for(;;)switch(et){case"ascii":case"latin1":case"binary":return tt;case"utf8":case"utf-8":return Bt(xt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt*2;case"hex":return tt>>>1;case"base64":return xe(xt).length;default:if(ie)return Ot?-1:Bt(xt).length;et=(""+et).toLowerCase(),ie=!0}}v.byteLength=w;function C(xt,et,tt){let Ot=!1;if((et===void 0||et<0)&&(et=0),et>this.length||((tt===void 0||tt>this.length)&&(tt=this.length),tt<=0)||(tt>>>=0,et>>>=0,tt<=et))return"";for(xt||(xt="utf8");;)switch(xt){case"hex":return Y(this,et,tt);case"utf8":case"utf-8":return N(this,et,tt);case"ascii":return $(this,et,tt);case"latin1":case"binary":return V(this,et,tt);case"base64":return D(this,et,tt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,et,tt);default:if(Ot)throw new TypeError("Unknown encoding: "+xt);xt=(xt+"").toLowerCase(),Ot=!0}}v.prototype._isBuffer=!0;function E(xt,et,tt){const Ot=xt[et];xt[et]=xt[tt],xt[tt]=Ot}v.prototype.swap16=function(){const et=this.length;if(et%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let tt=0;tt<et;tt+=2)E(this,tt,tt+1);return this},v.prototype.swap32=function(){const et=this.length;if(et%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let tt=0;tt<et;tt+=4)E(this,tt,tt+3),E(this,tt+1,tt+2);return this},v.prototype.swap64=function(){const et=this.length;if(et%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let tt=0;tt<et;tt+=8)E(this,tt,tt+7),E(this,tt+1,tt+6),E(this,tt+2,tt+5),E(this,tt+3,tt+4);return this},v.prototype.toString=function(){const et=this.length;return et===0?"":arguments.length===0?N(this,0,et):C.apply(this,arguments)},v.prototype.toLocaleString=v.prototype.toString,v.prototype.equals=function(et){if(!v.isBuffer(et))throw new TypeError("Argument must be a Buffer");return this===et?!0:v.compare(this,et)===0},v.prototype.inspect=function(){let et="";const tt=e.INSPECT_MAX_BYTES;return et=this.toString("hex",0,tt).replace(/(.{2})/g,"$1 ").trim(),this.length>tt&&(et+=" ... "),"<Buffer "+et+">"},n&&(v.prototype[n]=v.prototype.inspect),v.prototype.compare=function(et,tt,Ot,ie,Ce){if(ve(et,S)&&(et=v.from(et,et.offset,et.byteLength)),!v.isBuffer(et))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof et);if(tt===void 0&&(tt=0),Ot===void 0&&(Ot=et?et.length:0),ie===void 0&&(ie=0),Ce===void 0&&(Ce=this.length),tt<0||Ot>et.length||ie<0||Ce>this.length)throw new RangeError("out of range index");if(ie>=Ce&&tt>=Ot)return 0;if(ie>=Ce)return-1;if(tt>=Ot)return 1;if(tt>>>=0,Ot>>>=0,ie>>>=0,Ce>>>=0,this===et)return 0;let Ne=Ce-ie,Ui=Ot-tt;const br=Math.min(Ne,Ui),ar=this.slice(ie,Ce),vr=et.slice(tt,Ot);for(let Tr=0;Tr<br;++Tr)if(ar[Tr]!==vr[Tr]){Ne=ar[Tr],Ui=vr[Tr];break}return Ne<Ui?-1:Ui<Ne?1:0};function T(xt,et,tt,Ot,ie){if(xt.length===0)return-1;if(typeof tt=="string"?(Ot=tt,tt=0):tt>2147483647?tt=2147483647:tt<-2147483648&&(tt=-2147483648),tt=+tt,Fe(tt)&&(tt=ie?0:xt.length-1),tt<0&&(tt=xt.length+tt),tt>=xt.length){if(ie)return-1;tt=xt.length-1}else if(tt<0)if(ie)tt=0;else return-1;if(typeof et=="string"&&(et=v.from(et,Ot)),v.isBuffer(et))return et.length===0?-1:k(xt,et,tt,Ot,ie);if(typeof et=="number")return et=et&255,typeof S.prototype.indexOf=="function"?ie?S.prototype.indexOf.call(xt,et,tt):S.prototype.lastIndexOf.call(xt,et,tt):k(xt,[et],tt,Ot,ie);throw new TypeError("val must be string, number or Buffer")}function k(xt,et,tt,Ot,ie){let Ce=1,Ne=xt.length,Ui=et.length;if(Ot!==void 0&&(Ot=String(Ot).toLowerCase(),Ot==="ucs2"||Ot==="ucs-2"||Ot==="utf16le"||Ot==="utf-16le")){if(xt.length<2||et.length<2)return-1;Ce=2,Ne/=2,Ui/=2,tt/=2}function br(vr,Tr){return Ce===1?vr[Tr]:vr.readUInt16BE(Tr*Ce)}let ar;if(ie){let vr=-1;for(ar=tt;ar<Ne;ar++)if(br(xt,ar)===br(et,vr===-1?0:ar-vr)){if(vr===-1&&(vr=ar),ar-vr+1===Ui)return vr*Ce}else vr!==-1&&(ar-=ar-vr),vr=-1}else for(tt+Ui>Ne&&(tt=Ne-Ui),ar=tt;ar>=0;ar--){let vr=!0;for(let Tr=0;Tr<Ui;Tr++)if(br(xt,ar+Tr)!==br(et,Tr)){vr=!1;break}if(vr)return ar}return-1}v.prototype.includes=function(et,tt,Ot){return this.indexOf(et,tt,Ot)!==-1},v.prototype.indexOf=function(et,tt,Ot){return T(this,et,tt,Ot,!0)},v.prototype.lastIndexOf=function(et,tt,Ot){return T(this,et,tt,Ot,!1)};function P(xt,et,tt,Ot){tt=Number(tt)||0;const ie=xt.length-tt;Ot?(Ot=Number(Ot),Ot>ie&&(Ot=ie)):Ot=ie;const Ce=et.length;Ot>Ce/2&&(Ot=Ce/2);let Ne;for(Ne=0;Ne<Ot;++Ne){const Ui=parseInt(et.substr(Ne*2,2),16);if(Fe(Ui))return Ne;xt[tt+Ne]=Ui}return Ne}function R(xt,et,tt,Ot){return Ee(Bt(et,xt.length-tt),xt,tt,Ot)}function M(xt,et,tt,Ot){return Ee(le(et),xt,tt,Ot)}function I(xt,et,tt,Ot){return Ee(xe(et),xt,tt,Ot)}function B(xt,et,tt,Ot){return Ee(_t(et,xt.length-tt),xt,tt,Ot)}v.prototype.write=function(et,tt,Ot,ie){if(tt===void 0)ie="utf8",Ot=this.length,tt=0;else if(Ot===void 0&&typeof tt=="string")ie=tt,Ot=this.length,tt=0;else if(isFinite(tt))tt=tt>>>0,isFinite(Ot)?(Ot=Ot>>>0,ie===void 0&&(ie="utf8")):(ie=Ot,Ot=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ce=this.length-tt;if((Ot===void 0||Ot>Ce)&&(Ot=Ce),et.length>0&&(Ot<0||tt<0)||tt>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let Ne=!1;for(;;)switch(ie){case"hex":return P(this,et,tt,Ot);case"utf8":case"utf-8":return R(this,et,tt,Ot);case"ascii":case"latin1":case"binary":return M(this,et,tt,Ot);case"base64":return I(this,et,tt,Ot);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,et,tt,Ot);default:if(Ne)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),Ne=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(xt,et,tt){return et===0&&tt===xt.length?t.fromByteArray(xt):t.fromByteArray(xt.slice(et,tt))}function N(xt,et,tt){tt=Math.min(xt.length,tt);const Ot=[];let ie=et;for(;ie<tt;){const Ce=xt[ie];let Ne=null,Ui=Ce>239?4:Ce>223?3:Ce>191?2:1;if(ie+Ui<=tt){let br,ar,vr,Tr;switch(Ui){case 1:Ce<128&&(Ne=Ce);break;case 2:br=xt[ie+1],(br&192)===128&&(Tr=(Ce&31)<<6|br&63,Tr>127&&(Ne=Tr));break;case 3:br=xt[ie+1],ar=xt[ie+2],(br&192)===128&&(ar&192)===128&&(Tr=(Ce&15)<<12|(br&63)<<6|ar&63,Tr>2047&&(Tr<55296||Tr>57343)&&(Ne=Tr));break;case 4:br=xt[ie+1],ar=xt[ie+2],vr=xt[ie+3],(br&192)===128&&(ar&192)===128&&(vr&192)===128&&(Tr=(Ce&15)<<18|(br&63)<<12|(ar&63)<<6|vr&63,Tr>65535&&Tr<1114112&&(Ne=Tr))}}Ne===null?(Ne=65533,Ui=1):Ne>65535&&(Ne-=65536,Ot.push(Ne>>>10&1023|55296),Ne=56320|Ne&1023),Ot.push(Ne),ie+=Ui}return G(Ot)}const _=4096;function G(xt){const et=xt.length;if(et<=_)return String.fromCharCode.apply(String,xt);let tt="",Ot=0;for(;Ot<et;)tt+=String.fromCharCode.apply(String,xt.slice(Ot,Ot+=_));return tt}function $(xt,et,tt){let Ot="";tt=Math.min(xt.length,tt);for(let ie=et;ie<tt;++ie)Ot+=String.fromCharCode(xt[ie]&127);return Ot}function V(xt,et,tt){let Ot="";tt=Math.min(xt.length,tt);for(let ie=et;ie<tt;++ie)Ot+=String.fromCharCode(xt[ie]);return Ot}function Y(xt,et,tt){const Ot=xt.length;(!et||et<0)&&(et=0),(!tt||tt<0||tt>Ot)&&(tt=Ot);let ie="";for(let Ce=et;Ce<tt;++Ce)ie+=Ze[xt[Ce]];return ie}function U(xt,et,tt){const Ot=xt.slice(et,tt);let ie="";for(let Ce=0;Ce<Ot.length-1;Ce+=2)ie+=String.fromCharCode(Ot[Ce]+Ot[Ce+1]*256);return ie}v.prototype.slice=function(et,tt){const Ot=this.length;et=~~et,tt=tt===void 0?Ot:~~tt,et<0?(et+=Ot,et<0&&(et=0)):et>Ot&&(et=Ot),tt<0?(tt+=Ot,tt<0&&(tt=0)):tt>Ot&&(tt=Ot),tt<et&&(tt=et);const ie=this.subarray(et,tt);return Object.setPrototypeOf(ie,v.prototype),ie};function F(xt,et,tt){if(xt%1!==0||xt<0)throw new RangeError("offset is not uint");if(xt+et>tt)throw new RangeError("Trying to access beyond buffer length")}v.prototype.readUintLE=v.prototype.readUIntLE=function(et,tt,Ot){et=et>>>0,tt=tt>>>0,Ot||F(et,tt,this.length);let ie=this[et],Ce=1,Ne=0;for(;++Ne<tt&&(Ce*=256);)ie+=this[et+Ne]*Ce;return ie},v.prototype.readUintBE=v.prototype.readUIntBE=function(et,tt,Ot){et=et>>>0,tt=tt>>>0,Ot||F(et,tt,this.length);let ie=this[et+--tt],Ce=1;for(;tt>0&&(Ce*=256);)ie+=this[et+--tt]*Ce;return ie},v.prototype.readUint8=v.prototype.readUInt8=function(et,tt){return et=et>>>0,tt||F(et,1,this.length),this[et]},v.prototype.readUint16LE=v.prototype.readUInt16LE=function(et,tt){return et=et>>>0,tt||F(et,2,this.length),this[et]|this[et+1]<<8},v.prototype.readUint16BE=v.prototype.readUInt16BE=function(et,tt){return et=et>>>0,tt||F(et,2,this.length),this[et]<<8|this[et+1]},v.prototype.readUint32LE=v.prototype.readUInt32LE=function(et,tt){return et=et>>>0,tt||F(et,4,this.length),(this[et]|this[et+1]<<8|this[et+2]<<16)+this[et+3]*16777216},v.prototype.readUint32BE=v.prototype.readUInt32BE=function(et,tt){return et=et>>>0,tt||F(et,4,this.length),this[et]*16777216+(this[et+1]<<16|this[et+2]<<8|this[et+3])},v.prototype.readBigUInt64LE=ei(function(et){et=et>>>0,Ft(et,"offset");const tt=this[et],Ot=this[et+7];(tt===void 0||Ot===void 0)&&ft(et,this.length-8);const ie=tt+this[++et]*gn(2,8)+this[++et]*gn(2,16)+this[++et]*gn(2,24),Ce=this[++et]+this[++et]*gn(2,8)+this[++et]*gn(2,16)+Ot*gn(2,24);return BigInt(ie)+(BigInt(Ce)<<BigInt(32))}),v.prototype.readBigUInt64BE=ei(function(et){et=et>>>0,Ft(et,"offset");const tt=this[et],Ot=this[et+7];(tt===void 0||Ot===void 0)&&ft(et,this.length-8);const ie=tt*gn(2,24)+this[++et]*gn(2,16)+this[++et]*gn(2,8)+this[++et],Ce=this[++et]*gn(2,24)+this[++et]*gn(2,16)+this[++et]*gn(2,8)+Ot;return(BigInt(ie)<<BigInt(32))+BigInt(Ce)}),v.prototype.readIntLE=function(et,tt,Ot){et=et>>>0,tt=tt>>>0,Ot||F(et,tt,this.length);let ie=this[et],Ce=1,Ne=0;for(;++Ne<tt&&(Ce*=256);)ie+=this[et+Ne]*Ce;return Ce*=128,ie>=Ce&&(ie-=Math.pow(2,8*tt)),ie},v.prototype.readIntBE=function(et,tt,Ot){et=et>>>0,tt=tt>>>0,Ot||F(et,tt,this.length);let ie=tt,Ce=1,Ne=this[et+--ie];for(;ie>0&&(Ce*=256);)Ne+=this[et+--ie]*Ce;return Ce*=128,Ne>=Ce&&(Ne-=Math.pow(2,8*tt)),Ne},v.prototype.readInt8=function(et,tt){return et=et>>>0,tt||F(et,1,this.length),this[et]&128?(255-this[et]+1)*-1:this[et]},v.prototype.readInt16LE=function(et,tt){et=et>>>0,tt||F(et,2,this.length);const Ot=this[et]|this[et+1]<<8;return Ot&32768?Ot|4294901760:Ot},v.prototype.readInt16BE=function(et,tt){et=et>>>0,tt||F(et,2,this.length);const Ot=this[et+1]|this[et]<<8;return Ot&32768?Ot|4294901760:Ot},v.prototype.readInt32LE=function(et,tt){return et=et>>>0,tt||F(et,4,this.length),this[et]|this[et+1]<<8|this[et+2]<<16|this[et+3]<<24},v.prototype.readInt32BE=function(et,tt){return et=et>>>0,tt||F(et,4,this.length),this[et]<<24|this[et+1]<<16|this[et+2]<<8|this[et+3]},v.prototype.readBigInt64LE=ei(function(et){et=et>>>0,Ft(et,"offset");const tt=this[et],Ot=this[et+7];(tt===void 0||Ot===void 0)&&ft(et,this.length-8);const ie=this[et+4]+this[et+5]*gn(2,8)+this[et+6]*gn(2,16)+(Ot<<24);return(BigInt(ie)<<BigInt(32))+BigInt(tt+this[++et]*gn(2,8)+this[++et]*gn(2,16)+this[++et]*gn(2,24))}),v.prototype.readBigInt64BE=ei(function(et){et=et>>>0,Ft(et,"offset");const tt=this[et],Ot=this[et+7];(tt===void 0||Ot===void 0)&&ft(et,this.length-8);const ie=(tt<<24)+this[++et]*gn(2,16)+this[++et]*gn(2,8)+this[++et];return(BigInt(ie)<<BigInt(32))+BigInt(this[++et]*gn(2,24)+this[++et]*gn(2,16)+this[++et]*gn(2,8)+Ot)}),v.prototype.readFloatLE=function(et,tt){return et=et>>>0,tt||F(et,4,this.length),r.read(this,et,!0,23,4)},v.prototype.readFloatBE=function(et,tt){return et=et>>>0,tt||F(et,4,this.length),r.read(this,et,!1,23,4)},v.prototype.readDoubleLE=function(et,tt){return et=et>>>0,tt||F(et,8,this.length),r.read(this,et,!0,52,8)},v.prototype.readDoubleBE=function(et,tt){return et=et>>>0,tt||F(et,8,this.length),r.read(this,et,!1,52,8)};function O(xt,et,tt,Ot,ie,Ce){if(!v.isBuffer(xt))throw new TypeError('"buffer" argument must be a Buffer instance');if(et>ie||et<Ce)throw new RangeError('"value" argument is out of bounds');if(tt+Ot>xt.length)throw new RangeError("Index out of range")}v.prototype.writeUintLE=v.prototype.writeUIntLE=function(et,tt,Ot,ie){if(et=+et,tt=tt>>>0,Ot=Ot>>>0,!ie){const Ui=Math.pow(2,8*Ot)-1;O(this,et,tt,Ot,Ui,0)}let Ce=1,Ne=0;for(this[tt]=et&255;++Ne<Ot&&(Ce*=256);)this[tt+Ne]=et/Ce&255;return tt+Ot},v.prototype.writeUintBE=v.prototype.writeUIntBE=function(et,tt,Ot,ie){if(et=+et,tt=tt>>>0,Ot=Ot>>>0,!ie){const Ui=Math.pow(2,8*Ot)-1;O(this,et,tt,Ot,Ui,0)}let Ce=Ot-1,Ne=1;for(this[tt+Ce]=et&255;--Ce>=0&&(Ne*=256);)this[tt+Ce]=et/Ne&255;return tt+Ot},v.prototype.writeUint8=v.prototype.writeUInt8=function(et,tt,Ot){return et=+et,tt=tt>>>0,Ot||O(this,et,tt,1,255,0),this[tt]=et&255,tt+1},v.prototype.writeUint16LE=v.prototype.writeUInt16LE=function(et,tt,Ot){return et=+et,tt=tt>>>0,Ot||O(this,et,tt,2,65535,0),this[tt]=et&255,this[tt+1]=et>>>8,tt+2},v.prototype.writeUint16BE=v.prototype.writeUInt16BE=function(et,tt,Ot){return et=+et,tt=tt>>>0,Ot||O(this,et,tt,2,65535,0),this[tt]=et>>>8,this[tt+1]=et&255,tt+2},v.prototype.writeUint32LE=v.prototype.writeUInt32LE=function(et,tt,Ot){return et=+et,tt=tt>>>0,Ot||O(this,et,tt,4,4294967295,0),this[tt+3]=et>>>24,this[tt+2]=et>>>16,this[tt+1]=et>>>8,this[tt]=et&255,tt+4},v.prototype.writeUint32BE=v.prototype.writeUInt32BE=function(et,tt,Ot){return et=+et,tt=tt>>>0,Ot||O(this,et,tt,4,4294967295,0),this[tt]=et>>>24,this[tt+1]=et>>>16,this[tt+2]=et>>>8,this[tt+3]=et&255,tt+4};function j(xt,et,tt,Ot,ie){It(et,Ot,ie,xt,tt,7);let Ce=Number(et&BigInt(4294967295));xt[tt++]=Ce,Ce=Ce>>8,xt[tt++]=Ce,Ce=Ce>>8,xt[tt++]=Ce,Ce=Ce>>8,xt[tt++]=Ce;let Ne=Number(et>>BigInt(32)&BigInt(4294967295));return xt[tt++]=Ne,Ne=Ne>>8,xt[tt++]=Ne,Ne=Ne>>8,xt[tt++]=Ne,Ne=Ne>>8,xt[tt++]=Ne,tt}function z(xt,et,tt,Ot,ie){It(et,Ot,ie,xt,tt,7);let Ce=Number(et&BigInt(4294967295));xt[tt+7]=Ce,Ce=Ce>>8,xt[tt+6]=Ce,Ce=Ce>>8,xt[tt+5]=Ce,Ce=Ce>>8,xt[tt+4]=Ce;let Ne=Number(et>>BigInt(32)&BigInt(4294967295));return xt[tt+3]=Ne,Ne=Ne>>8,xt[tt+2]=Ne,Ne=Ne>>8,xt[tt+1]=Ne,Ne=Ne>>8,xt[tt]=Ne,tt+8}v.prototype.writeBigUInt64LE=ei(function(et,tt=0){return j(this,et,tt,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeBigUInt64BE=ei(function(et,tt=0){return z(this,et,tt,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeIntLE=function(et,tt,Ot,ie){if(et=+et,tt=tt>>>0,!ie){const br=Math.pow(2,8*Ot-1);O(this,et,tt,Ot,br-1,-br)}let Ce=0,Ne=1,Ui=0;for(this[tt]=et&255;++Ce<Ot&&(Ne*=256);)et<0&&Ui===0&&this[tt+Ce-1]!==0&&(Ui=1),this[tt+Ce]=(et/Ne>>0)-Ui&255;return tt+Ot},v.prototype.writeIntBE=function(et,tt,Ot,ie){if(et=+et,tt=tt>>>0,!ie){const br=Math.pow(2,8*Ot-1);O(this,et,tt,Ot,br-1,-br)}let Ce=Ot-1,Ne=1,Ui=0;for(this[tt+Ce]=et&255;--Ce>=0&&(Ne*=256);)et<0&&Ui===0&&this[tt+Ce+1]!==0&&(Ui=1),this[tt+Ce]=(et/Ne>>0)-Ui&255;return tt+Ot},v.prototype.writeInt8=function(et,tt,Ot){return et=+et,tt=tt>>>0,Ot||O(this,et,tt,1,127,-128),et<0&&(et=255+et+1),this[tt]=et&255,tt+1},v.prototype.writeInt16LE=function(et,tt,Ot){return et=+et,tt=tt>>>0,Ot||O(this,et,tt,2,32767,-32768),this[tt]=et&255,this[tt+1]=et>>>8,tt+2},v.prototype.writeInt16BE=function(et,tt,Ot){return et=+et,tt=tt>>>0,Ot||O(this,et,tt,2,32767,-32768),this[tt]=et>>>8,this[tt+1]=et&255,tt+2},v.prototype.writeInt32LE=function(et,tt,Ot){return et=+et,tt=tt>>>0,Ot||O(this,et,tt,4,2147483647,-2147483648),this[tt]=et&255,this[tt+1]=et>>>8,this[tt+2]=et>>>16,this[tt+3]=et>>>24,tt+4},v.prototype.writeInt32BE=function(et,tt,Ot){return et=+et,tt=tt>>>0,Ot||O(this,et,tt,4,2147483647,-2147483648),et<0&&(et=4294967295+et+1),this[tt]=et>>>24,this[tt+1]=et>>>16,this[tt+2]=et>>>8,this[tt+3]=et&255,tt+4},v.prototype.writeBigInt64LE=ei(function(et,tt=0){return j(this,et,tt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),v.prototype.writeBigInt64BE=ei(function(et,tt=0){return z(this,et,tt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function W(xt,et,tt,Ot,ie,Ce){if(tt+Ot>xt.length)throw new RangeError("Index out of range");if(tt<0)throw new RangeError("Index out of range")}function q(xt,et,tt,Ot,ie){return et=+et,tt=tt>>>0,ie||W(xt,et,tt,4),r.write(xt,et,tt,Ot,23,4),tt+4}v.prototype.writeFloatLE=function(et,tt,Ot){return q(this,et,tt,!0,Ot)},v.prototype.writeFloatBE=function(et,tt,Ot){return q(this,et,tt,!1,Ot)};function ot(xt,et,tt,Ot,ie){return et=+et,tt=tt>>>0,ie||W(xt,et,tt,8),r.write(xt,et,tt,Ot,52,8),tt+8}v.prototype.writeDoubleLE=function(et,tt,Ot){return ot(this,et,tt,!0,Ot)},v.prototype.writeDoubleBE=function(et,tt,Ot){return ot(this,et,tt,!1,Ot)},v.prototype.copy=function(et,tt,Ot,ie){if(!v.isBuffer(et))throw new TypeError("argument should be a Buffer");if(Ot||(Ot=0),!ie&&ie!==0&&(ie=this.length),tt>=et.length&&(tt=et.length),tt||(tt=0),ie>0&&ie<Ot&&(ie=Ot),ie===Ot||et.length===0||this.length===0)return 0;if(tt<0)throw new RangeError("targetStart out of bounds");if(Ot<0||Ot>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),et.length-tt<ie-Ot&&(ie=et.length-tt+Ot);const Ce=ie-Ot;return this===et&&typeof S.prototype.copyWithin=="function"?this.copyWithin(tt,Ot,ie):S.prototype.set.call(et,this.subarray(Ot,ie),tt),Ce},v.prototype.fill=function(et,tt,Ot,ie){if(typeof et=="string"){if(typeof tt=="string"?(ie=tt,tt=0,Ot=this.length):typeof Ot=="string"&&(ie=Ot,Ot=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!v.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(et.length===1){const Ne=et.charCodeAt(0);(ie==="utf8"&&Ne<128||ie==="latin1")&&(et=Ne)}}else typeof et=="number"?et=et&255:typeof et=="boolean"&&(et=Number(et));if(tt<0||this.length<tt||this.length<Ot)throw new RangeError("Out of range index");if(Ot<=tt)return this;tt=tt>>>0,Ot=Ot===void 0?this.length:Ot>>>0,et||(et=0);let Ce;if(typeof et=="number")for(Ce=tt;Ce<Ot;++Ce)this[Ce]=et;else{const Ne=v.isBuffer(et)?et:v.from(et,ie),Ui=Ne.length;if(Ui===0)throw new TypeError('The value "'+et+'" is invalid for argument "value"');for(Ce=0;Ce<Ot-tt;++Ce)this[Ce+tt]=Ne[Ce%Ui]}return this};const Q={};function rt(xt,et,tt){Q[xt]=class extends tt{constructor(){super(),Object.defineProperty(this,"message",{value:et.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${xt}]`,this.stack,delete this.name}get code(){return xt}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${xt}]: ${this.message}`}}}rt("ERR_BUFFER_OUT_OF_BOUNDS",function(xt){return xt?`${xt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),rt("ERR_INVALID_ARG_TYPE",function(xt,et){return`The "${xt}" argument must be of type number. Received type ${typeof et}`},TypeError),rt("ERR_OUT_OF_RANGE",function(xt,et,tt){let Ot=`The value of "${xt}" is out of range.`,ie=tt;return Number.isInteger(tt)&&Math.abs(tt)>gn(2,32)?ie=Mt(String(tt)):typeof tt=="bigint"&&(ie=String(tt),(tt>gn(BigInt(2),BigInt(32))||tt<-gn(BigInt(2),BigInt(32)))&&(ie=Mt(ie)),ie+="n"),Ot+=` It must be ${et}. Received ${ie}`,Ot},RangeError);function Mt(xt){let et="",tt=xt.length;const Ot=xt[0]==="-"?1:0;for(;tt>=Ot+4;tt-=3)et=`_${xt.slice(tt-3,tt)}${et}`;return`${xt.slice(0,tt)}${et}`}function K(xt,et,tt){Ft(et,"offset"),(xt[et]===void 0||xt[et+tt]===void 0)&&ft(et,xt.length-(tt+1))}function It(xt,et,tt,Ot,ie,Ce){if(xt>tt||xt<et){const Ne=typeof et=="bigint"?"n":"";let Ui;throw et===0||et===BigInt(0)?Ui=`>= 0${Ne} and < 2${Ne} ** ${(Ce+1)*8}${Ne}`:Ui=`>= -(2${Ne} ** ${(Ce+1)*8-1}${Ne}) and < 2 ** ${(Ce+1)*8-1}${Ne}`,new Q.ERR_OUT_OF_RANGE("value",Ui,xt)}K(Ot,ie,Ce)}function Ft(xt,et){if(typeof xt!="number")throw new Q.ERR_INVALID_ARG_TYPE(et,"number",xt)}function ft(xt,et,tt){throw Math.floor(xt)!==xt?(Ft(xt,tt),new Q.ERR_OUT_OF_RANGE("offset","an integer",xt)):et<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${et}`,xt)}const yt=/[^+/0-9A-Za-z-_]/g;function At(xt){if(xt=xt.split("=")[0],xt=xt.trim().replace(yt,""),xt.length<2)return"";for(;xt.length%4!==0;)xt=xt+"=";return xt}function Bt(xt,et){et=et||1/0;let tt;const Ot=xt.length;let ie=null;const Ce=[];for(let Ne=0;Ne<Ot;++Ne){if(tt=xt.charCodeAt(Ne),tt>55295&&tt<57344){if(!ie){if(tt>56319){(et-=3)>-1&&Ce.push(239,191,189);continue}else if(Ne+1===Ot){(et-=3)>-1&&Ce.push(239,191,189);continue}ie=tt;continue}if(tt<56320){(et-=3)>-1&&Ce.push(239,191,189),ie=tt;continue}tt=(ie-55296<<10|tt-56320)+65536}else ie&&(et-=3)>-1&&Ce.push(239,191,189);if(ie=null,tt<128){if((et-=1)<0)break;Ce.push(tt)}else if(tt<2048){if((et-=2)<0)break;Ce.push(tt>>6|192,tt&63|128)}else if(tt<65536){if((et-=3)<0)break;Ce.push(tt>>12|224,tt>>6&63|128,tt&63|128)}else if(tt<1114112){if((et-=4)<0)break;Ce.push(tt>>18|240,tt>>12&63|128,tt>>6&63|128,tt&63|128)}else throw new Error("Invalid code point")}return Ce}function le(xt){const et=[];for(let tt=0;tt<xt.length;++tt)et.push(xt.charCodeAt(tt)&255);return et}function _t(xt,et){let tt,Ot,ie;const Ce=[];for(let Ne=0;Ne<xt.length&&!((et-=2)<0);++Ne)tt=xt.charCodeAt(Ne),Ot=tt>>8,ie=tt%256,Ce.push(ie),Ce.push(Ot);return Ce}function xe(xt){return t.toByteArray(At(xt))}function Ee(xt,et,tt,Ot){let ie;for(ie=0;ie<Ot&&!(ie+tt>=et.length||ie>=xt.length);++ie)et[ie+tt]=xt[ie];return ie}function ve(xt,et){return xt instanceof et||xt!=null&&xt.constructor!=null&&xt.constructor.name!=null&&xt.constructor.name===et.name}function Fe(xt){return xt!==xt}const Ze=function(){const xt="0123456789abcdef",et=new Array(256);for(let tt=0;tt<16;++tt){const Ot=tt*16;for(let ie=0;ie<16;++ie)et[Ot+ie]=xt[tt]+xt[ie]}return et}();function ei(xt){return typeof BigInt=="undefined"?Ci:xt}function Ci(){throw new Error("BigInt not supported")}})(js);const Zi=js.Buffer,s5t=js.Blob,a5t=js.BlobOptions,o5t=js.Buffer,l5t=js.File,u5t=js.FileOptions,h5t=js.INSPECT_MAX_BYTES,c5t=js.SlowBuffer,f5t=js.TranscodeEncoding,d5t=js.atob,p5t=js.btoa,v5t=js.constants,m5t=js.isAscii,g5t=js.isUtf8,y5t=js.kMaxLength,x5t=js.kStringMaxLength,b5t=js.resolveObjectURL,S5t=js.transcode,w5t=Object.freeze(Object.defineProperty({__proto__:null,Blob:s5t,BlobOptions:a5t,Buffer:o5t,File:l5t,FileOptions:u5t,INSPECT_MAX_BYTES:h5t,SlowBuffer:c5t,TranscodeEncoding:f5t,atob:d5t,btoa:p5t,constants:v5t,default:Zi,isAscii:m5t,isUtf8:g5t,kMaxLength:y5t,kStringMaxLength:x5t,resolveObjectURL:b5t,transcode:S5t},Symbol.toStringTag,{value:"Module"}));function mg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Y_={exports:{}};(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,c,S){function s(a,v){if(!c[a]){if(!n[a]){var f=typeof mg=="function"&&mg;if(!v&&f)return f(a,!0);if(g)return g(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var u=c[a]={exports:{}};n[a][0].call(u.exports,function(o){var d=n[a][1][o];return s(d||o)},u,u.exports,r,n,c,S)}return c[a].exports}for(var g=typeof mg=="function"&&mg,i=0;i<S.length;i++)s(S[i]);return s}({1:[function(r,n,c){var S=r("./utils"),s=r("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(i){for(var a,v,f,h,u,o,d,p=[],l=0,m=i.length,y=m,x=S.getTypeOf(i)!=="string";l<i.length;)y=m-l,f=x?(a=i[l++],v=l<m?i[l++]:0,l<m?i[l++]:0):(a=i.charCodeAt(l++),v=l<m?i.charCodeAt(l++):0,l<m?i.charCodeAt(l++):0),h=a>>2,u=(3&a)<<4|v>>4,o=1<y?(15&v)<<2|f>>6:64,d=2<y?63&f:64,p.push(g.charAt(h)+g.charAt(u)+g.charAt(o)+g.charAt(d));return p.join("")},c.decode=function(i){var a,v,f,h,u,o,d=0,p=0,l="data:";if(i.substr(0,l.length)===l)throw new Error("Invalid base64 input, it looks like a data url.");var m,y=3*(i=i.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(i.charAt(i.length-1)===g.charAt(64)&&y--,i.charAt(i.length-2)===g.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(m=s.uint8array?new Uint8Array(0|y):new Array(0|y);d<i.length;)a=g.indexOf(i.charAt(d++))<<2|(h=g.indexOf(i.charAt(d++)))>>4,v=(15&h)<<4|(u=g.indexOf(i.charAt(d++)))>>2,f=(3&u)<<6|(o=g.indexOf(i.charAt(d++))),m[p++]=a,u!==64&&(m[p++]=v),o!==64&&(m[p++]=f);return m}},{"./support":30,"./utils":32}],2:[function(r,n,c){var S=r("./external"),s=r("./stream/DataWorker"),g=r("./stream/Crc32Probe"),i=r("./stream/DataLengthProbe");function a(v,f,h,u,o){this.compressedSize=v,this.uncompressedSize=f,this.crc32=h,this.compression=u,this.compressedContent=o}a.prototype={getContentWorker:function(){var v=new s(S.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),f=this;return v.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new s(S.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(v,f,h){return v.pipe(new g).pipe(new i("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new i("compressedSize")).withStreamInfo("compression",f)},n.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,c){var S=r("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new S("STORE compression")},uncompressWorker:function(){return new S("STORE decompression")}},c.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,c){var S=r("./utils"),s=function(){for(var g,i=[],a=0;a<256;a++){g=a;for(var v=0;v<8;v++)g=1&g?3988292384^g>>>1:g>>>1;i[a]=g}return i}();n.exports=function(g,i){return g!==void 0&&g.length?S.getTypeOf(g)!=="string"?function(a,v,f,h){var u=s,o=h+f;a^=-1;for(var d=h;d<o;d++)a=a>>>8^u[255&(a^v[d])];return-1^a}(0|i,g,g.length,0):function(a,v,f,h){var u=s,o=h+f;a^=-1;for(var d=h;d<o;d++)a=a>>>8^u[255&(a^v.charCodeAt(d))];return-1^a}(0|i,g,g.length,0):0}},{"./utils":32}],5:[function(r,n,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(r,n,c){var S=null;S=typeof Promise!="undefined"?Promise:r("lie"),n.exports={Promise:S}},{lie:37}],7:[function(r,n,c){var S=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",s=r("pako"),g=r("./utils"),i=r("./stream/GenericWorker"),a=S?"uint8array":"array";function v(f,h){i.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}c.magic="\b\0",g.inherits(v,i),v.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(a,f.data),!1)},v.prototype.flush=function(){i.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},c.compressWorker=function(f){return new v("Deflate",f)},c.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,c){function S(u,o){var d,p="";for(d=0;d<o;d++)p+=String.fromCharCode(255&u),u>>>=8;return p}function s(u,o,d,p,l,m){var y,x,b=u.file,w=u.compression,C=m!==a.utf8encode,E=g.transformTo("string",m(b.name)),T=g.transformTo("string",a.utf8encode(b.name)),k=b.comment,P=g.transformTo("string",m(k)),R=g.transformTo("string",a.utf8encode(k)),M=T.length!==b.name.length,I=R.length!==k.length,B="",D="",N="",_=b.dir,G=b.date,$={crc32:0,compressedSize:0,uncompressedSize:0};o&&!d||($.crc32=u.crc32,$.compressedSize=u.compressedSize,$.uncompressedSize=u.uncompressedSize);var V=0;o&&(V|=8),C||!M&&!I||(V|=2048);var Y=0,U=0;_&&(Y|=16),l==="UNIX"?(U=798,Y|=function(O,j){var z=O;return O||(z=j?16893:33204),(65535&z)<<16}(b.unixPermissions,_)):(U=20,Y|=function(O){return 63&(O||0)}(b.dosPermissions)),y=G.getUTCHours(),y<<=6,y|=G.getUTCMinutes(),y<<=5,y|=G.getUTCSeconds()/2,x=G.getUTCFullYear()-1980,x<<=4,x|=G.getUTCMonth()+1,x<<=5,x|=G.getUTCDate(),M&&(D=S(1,1)+S(v(E),4)+T,B+="up"+S(D.length,2)+D),I&&(N=S(1,1)+S(v(P),4)+R,B+="uc"+S(N.length,2)+N);var F="";return F+=`
\0`,F+=S(V,2),F+=w.magic,F+=S(y,2),F+=S(x,2),F+=S($.crc32,4),F+=S($.compressedSize,4),F+=S($.uncompressedSize,4),F+=S(E.length,2),F+=S(B.length,2),{fileRecord:f.LOCAL_FILE_HEADER+F+E+B,dirRecord:f.CENTRAL_FILE_HEADER+S(U,2)+F+S(P.length,2)+"\0\0\0\0"+S(Y,4)+S(p,4)+E+B+P}}var g=r("../utils"),i=r("../stream/GenericWorker"),a=r("../utf8"),v=r("../crc32"),f=r("../signature");function h(u,o,d,p){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=o,this.zipPlatform=d,this.encodeFileName=p,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits(h,i),h.prototype.push=function(u){var o=u.meta.percent||0,d=this.entriesCount,p=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,i.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:d?(o+100*(d-p-1))/d:100}}))},h.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var o=this.streamFiles&&!u.file.dir;if(o){var d=s(u,o,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(u){this.accumulate=!1;var o=this.streamFiles&&!u.file.dir,d=s(u,o,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),o)this.push({data:function(p){return f.DATA_DESCRIPTOR+S(p.crc32,4)+S(p.compressedSize,4)+S(p.uncompressedSize,4)}(u),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var u=this.bytesWritten,o=0;o<this.dirRecords.length;o++)this.push({data:this.dirRecords[o],meta:{percent:100}});var d=this.bytesWritten-u,p=function(l,m,y,x,b){var w=g.transformTo("string",b(x));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+S(l,2)+S(l,2)+S(m,4)+S(y,4)+S(w.length,2)+w}(this.dirRecords.length,d,u,this.zipComment,this.encodeFileName);this.push({data:p,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(u){this._sources.push(u);var o=this;return u.on("data",function(d){o.processChunk(d)}),u.on("end",function(){o.closedSource(o.previous.streamInfo),o._sources.length?o.prepareNextSource():o.end()}),u.on("error",function(d){o.error(d)}),this},h.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(u){var o=this._sources;if(!i.prototype.error.call(this,u))return!1;for(var d=0;d<o.length;d++)try{o[d].error(u)}catch(p){}return!0},h.prototype.lock=function(){i.prototype.lock.call(this);for(var u=this._sources,o=0;o<u.length;o++)u[o].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,c){var S=r("../compressions"),s=r("./ZipFileWorker");c.generateWorker=function(g,i,a){var v=new s(i.streamFiles,a,i.platform,i.encodeFileName),f=0;try{g.forEach(function(h,u){f++;var o=function(m,y){var x=m||y,b=S[x];if(!b)throw new Error(x+" is not a valid compression method !");return b}(u.options.compression,i.compression),d=u.options.compressionOptions||i.compressionOptions||{},p=u.dir,l=u.date;u._compressWorker(o,d).withStreamInfo("file",{name:h,dir:p,date:l,comment:u.comment||"",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(v)}),v.entriesCount=f}catch(h){v.error(h)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,c){function S(){if(!(this instanceof S))return new S;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new S;for(var g in this)typeof this[g]!="function"&&(s[g]=this[g]);return s}}(S.prototype=r("./object")).loadAsync=r("./load"),S.support=r("./support"),S.defaults=r("./defaults"),S.version="3.10.1",S.loadAsync=function(s,g){return new S().loadAsync(s,g)},S.external=r("./external"),n.exports=S},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,c){var S=r("./utils"),s=r("./external"),g=r("./utf8"),i=r("./zipEntries"),a=r("./stream/Crc32Probe"),v=r("./nodejsUtils");function f(h){return new s.Promise(function(u,o){var d=h.decompressed.getContentWorker().pipe(new a);d.on("error",function(p){o(p)}).on("end",function(){d.streamInfo.crc32!==h.decompressed.crc32?o(new Error("Corrupted zip : CRC32 mismatch")):u()}).resume()})}n.exports=function(h,u){var o=this;return u=S.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),v.isNode&&v.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):S.prepareContent("the loaded zip file",h,!0,u.optimizedBinaryString,u.base64).then(function(d){var p=new i(u);return p.load(d),p}).then(function(d){var p=[s.Promise.resolve(d)],l=d.files;if(u.checkCRC32)for(var m=0;m<l.length;m++)p.push(f(l[m]));return s.Promise.all(p)}).then(function(d){for(var p=d.shift(),l=p.files,m=0;m<l.length;m++){var y=l[m],x=y.fileNameStr,b=S.resolve(y.fileNameStr);o.file(b,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:u.createFolders}),y.dir||(o.file(b).unsafeOriginalName=x)}return p.zipComment.length&&(o.comment=p.zipComment),o})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,c){var S=r("../utils"),s=r("../stream/GenericWorker");function g(i,a){s.call(this,"Nodejs stream input adapter for "+i),this._upstreamEnded=!1,this._bindStream(a)}S.inherits(g,s),g.prototype._bindStream=function(i){var a=this;(this._stream=i).pause(),i.on("data",function(v){a.push({data:v,meta:{percent:0}})}).on("error",function(v){a.isPaused?this.generatedError=v:a.error(v)}).on("end",function(){a.isPaused?a._upstreamEnded=!0:a.end()})},g.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,c){var S=r("readable-stream").Readable;function s(g,i,a){S.call(this,i),this._helper=g;var v=this;g.on("data",function(f,h){v.push(f)||v._helper.pause(),a&&a(h)}).on("error",function(f){v.emit("error",f)}).on("end",function(){v.push(null)})}r("../utils").inherits(s,S),s.prototype._read=function(){this._helper.resume()},n.exports=s},{"../utils":32,"readable-stream":16}],14:[function(r,n,c){n.exports={isNode:typeof Zi!="undefined",newBufferFrom:function(S,s){if(Zi.from&&Zi.from!==Uint8Array.from)return Zi.from(S,s);if(typeof S=="number")throw new Error('The "data" argument must not be a number');return new Zi(S,s)},allocBuffer:function(S){if(Zi.alloc)return Zi.alloc(S);var s=new Zi(S);return s.fill(0),s},isBuffer:function(S){return Zi.isBuffer(S)},isStream:function(S){return S&&typeof S.on=="function"&&typeof S.pause=="function"&&typeof S.resume=="function"}}},{}],15:[function(r,n,c){function S(b,w,C){var E,T=g.getTypeOf(w),k=g.extend(C||{},v);k.date=k.date||new Date,k.compression!==null&&(k.compression=k.compression.toUpperCase()),typeof k.unixPermissions=="string"&&(k.unixPermissions=parseInt(k.unixPermissions,8)),k.unixPermissions&&16384&k.unixPermissions&&(k.dir=!0),k.dosPermissions&&16&k.dosPermissions&&(k.dir=!0),k.dir&&(b=l(b)),k.createFolders&&(E=p(b))&&m.call(this,E,!0);var P=T==="string"&&k.binary===!1&&k.base64===!1;C&&C.binary!==void 0||(k.binary=!P),(w instanceof f&&w.uncompressedSize===0||k.dir||!w||w.length===0)&&(k.base64=!1,k.binary=!0,w="",k.compression="STORE",T="string");var R=null;R=w instanceof f||w instanceof i?w:o.isNode&&o.isStream(w)?new d(b,w):g.prepareContent(b,w,k.binary,k.optimizedBinaryString,k.base64);var M=new h(b,R,k);this.files[b]=M}var s=r("./utf8"),g=r("./utils"),i=r("./stream/GenericWorker"),a=r("./stream/StreamHelper"),v=r("./defaults"),f=r("./compressedObject"),h=r("./zipObject"),u=r("./generate"),o=r("./nodejsUtils"),d=r("./nodejs/NodejsStreamInputAdapter"),p=function(b){b.slice(-1)==="/"&&(b=b.substring(0,b.length-1));var w=b.lastIndexOf("/");return 0<w?b.substring(0,w):""},l=function(b){return b.slice(-1)!=="/"&&(b+="/"),b},m=function(b,w){return w=w!==void 0?w:v.createFolders,b=l(b),this.files[b]||S.call(this,b,null,{dir:!0,createFolders:w}),this.files[b]};function y(b){return Object.prototype.toString.call(b)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(b){var w,C,E;for(w in this.files)E=this.files[w],(C=w.slice(this.root.length,w.length))&&w.slice(0,this.root.length)===this.root&&b(C,E)},filter:function(b){var w=[];return this.forEach(function(C,E){b(C,E)&&w.push(E)}),w},file:function(b,w,C){if(arguments.length!==1)return b=this.root+b,S.call(this,b,w,C),this;if(y(b)){var E=b;return this.filter(function(k,P){return!P.dir&&E.test(k)})}var T=this.files[this.root+b];return T&&!T.dir?T:null},folder:function(b){if(!b)return this;if(y(b))return this.filter(function(T,k){return k.dir&&b.test(T)});var w=this.root+b,C=m.call(this,w),E=this.clone();return E.root=C.name,E},remove:function(b){b=this.root+b;var w=this.files[b];if(w||(b.slice(-1)!=="/"&&(b+="/"),w=this.files[b]),w&&!w.dir)delete this.files[b];else for(var C=this.filter(function(T,k){return k.name.slice(0,b.length)===b}),E=0;E<C.length;E++)delete this.files[C[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(b){var w,C={};try{if((C=g.extend(b||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");g.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var E=C.comment||this.comment||"";w=u.generateWorker(this,C,E)}catch(T){(w=new i("error")).error(T)}return new a(w,C.type||"string",C.mimeType)},generateAsync:function(b,w){return this.generateInternalStream(b).accumulate(w)},generateNodeStream:function(b,w){return(b=b||{}).type||(b.type="nodebuffer"),this.generateInternalStream(b).toNodejsStream(w)}};n.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,c){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,c){var S=r("./DataReader");function s(g){S.call(this,g);for(var i=0;i<this.data.length;i++)g[i]=255&g[i]}r("../utils").inherits(s,S),s.prototype.byteAt=function(g){return this.data[this.zero+g]},s.prototype.lastIndexOfSignature=function(g){for(var i=g.charCodeAt(0),a=g.charCodeAt(1),v=g.charCodeAt(2),f=g.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===i&&this.data[h+1]===a&&this.data[h+2]===v&&this.data[h+3]===f)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(g){var i=g.charCodeAt(0),a=g.charCodeAt(1),v=g.charCodeAt(2),f=g.charCodeAt(3),h=this.readData(4);return i===h[0]&&a===h[1]&&v===h[2]&&f===h[3]},s.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var i=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,i},n.exports=s},{"../utils":32,"./DataReader":18}],18:[function(r,n,c){var S=r("../utils");function s(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var i,a=0;for(this.checkOffset(g),i=this.index+g-1;i>=this.index;i--)a=(a<<8)+this.byteAt(i);return this.index+=g,a},readString:function(g){return S.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},n.exports=s},{"../utils":32}],19:[function(r,n,c){var S=r("./Uint8ArrayReader");function s(g){S.call(this,g)}r("../utils").inherits(s,S),s.prototype.readData=function(g){this.checkOffset(g);var i=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,i},n.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,c){var S=r("./DataReader");function s(g){S.call(this,g)}r("../utils").inherits(s,S),s.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},s.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},s.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},s.prototype.readData=function(g){this.checkOffset(g);var i=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,i},n.exports=s},{"../utils":32,"./DataReader":18}],21:[function(r,n,c){var S=r("./ArrayReader");function s(g){S.call(this,g)}r("../utils").inherits(s,S),s.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var i=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,i},n.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,c){var S=r("../utils"),s=r("../support"),g=r("./ArrayReader"),i=r("./StringReader"),a=r("./NodeBufferReader"),v=r("./Uint8ArrayReader");n.exports=function(f){var h=S.getTypeOf(f);return S.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new a(f):s.uint8array?new v(S.transformTo("uint8array",f)):new g(S.transformTo("array",f)):new i(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,c){var S=r("./GenericWorker"),s=r("../utils");function g(i){S.call(this,"ConvertWorker to "+i),this.destType=i}s.inherits(g,S),g.prototype.processChunk=function(i){this.push({data:s.transformTo(this.destType,i.data),meta:i.meta})},n.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,c){var S=r("./GenericWorker"),s=r("../crc32");function g(){S.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(g,S),g.prototype.processChunk=function(i){this.streamInfo.crc32=s(i.data,this.streamInfo.crc32||0),this.push(i)},n.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,c){var S=r("../utils"),s=r("./GenericWorker");function g(i){s.call(this,"DataLengthProbe for "+i),this.propName=i,this.withStreamInfo(i,0)}S.inherits(g,s),g.prototype.processChunk=function(i){if(i){var a=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=a+i.data.length}s.prototype.processChunk.call(this,i)},n.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,c){var S=r("../utils"),s=r("./GenericWorker");function g(i){s.call(this,"DataWorker");var a=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,i.then(function(v){a.dataIsReady=!0,a.data=v,a.max=v&&v.length||0,a.type=S.getTypeOf(v),a.isPaused||a._tickAndRepeat()},function(v){a.error(v)})}S.inherits(g,s),g.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,S.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(S.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var i=null,a=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":i=this.data.substring(this.index,a);break;case"uint8array":i=this.data.subarray(this.index,a);break;case"array":case"nodebuffer":i=this.data.slice(this.index,a)}return this.index=a,this.push({data:i,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,c){function S(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}S.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,g){return this._listeners[s].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,g){if(this._listeners[s])for(var i=0;i<this._listeners[s].length;i++)this._listeners[s][i].call(this,g)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var g=this;return s.on("data",function(i){g.processChunk(i)}),s.on("end",function(){g.end()}),s.on("error",function(i){g.error(i)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,g){return this.extraStreamInfo[s]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},n.exports=S},{}],29:[function(r,n,c){var S=r("../utils"),s=r("./ConvertWorker"),g=r("./GenericWorker"),i=r("../base64"),a=r("../support"),v=r("../external"),f=null;if(a.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch(o){}function h(o,d){return new v.Promise(function(p,l){var m=[],y=o._internalType,x=o._outputType,b=o._mimeType;o.on("data",function(w,C){m.push(w),d&&d(C)}).on("error",function(w){m=[],l(w)}).on("end",function(){try{var w=function(C,E,T){switch(C){case"blob":return S.newBlob(S.transformTo("arraybuffer",E),T);case"base64":return i.encode(E);default:return S.transformTo(C,E)}}(x,function(C,E){var T,k=0,P=null,R=0;for(T=0;T<E.length;T++)R+=E[T].length;switch(C){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(P=new Uint8Array(R),T=0;T<E.length;T++)P.set(E[T],k),k+=E[T].length;return P;case"nodebuffer":return Zi.concat(E);default:throw new Error("concat : unsupported type '"+C+"'")}}(y,m),b);p(w)}catch(C){l(C)}m=[]}).resume()})}function u(o,d,p){var l=d;switch(d){case"blob":case"arraybuffer":l="uint8array";break;case"base64":l="string"}try{this._internalType=l,this._outputType=d,this._mimeType=p,S.checkSupport(l),this._worker=o.pipe(new s(l)),o.lock()}catch(m){this._worker=new g("error"),this._worker.error(m)}}u.prototype={accumulate:function(o){return h(this,o)},on:function(o,d){var p=this;return o==="data"?this._worker.on(o,function(l){d.call(p,l.data,l.meta)}):this._worker.on(o,function(){S.delay(d,arguments,p)}),this},resume:function(){return S.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(o){if(S.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},o)}},n.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",c.nodebuffer=typeof Zi!="undefined",c.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")c.blob=!1;else{var S=new ArrayBuffer(0);try{c.blob=new Blob([S],{type:"application/zip"}).size===0}catch(g){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(S),c.blob=s.getBlob("application/zip").size===0}catch(i){c.blob=!1}}}try{c.nodestream=!!r("readable-stream").Readable}catch(g){c.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,c){for(var S=r("./utils"),s=r("./support"),g=r("./nodejsUtils"),i=r("./stream/GenericWorker"),a=new Array(256),v=0;v<256;v++)a[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;a[254]=a[254]=1;function f(){i.call(this,"utf-8 decode"),this.leftOver=null}function h(){i.call(this,"utf-8 encode")}c.utf8encode=function(u){return s.nodebuffer?g.newBufferFrom(u,"utf-8"):function(o){var d,p,l,m,y,x=o.length,b=0;for(m=0;m<x;m++)(64512&(p=o.charCodeAt(m)))==55296&&m+1<x&&(64512&(l=o.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(l-56320),m++),b+=p<128?1:p<2048?2:p<65536?3:4;for(d=s.uint8array?new Uint8Array(b):new Array(b),m=y=0;y<b;m++)(64512&(p=o.charCodeAt(m)))==55296&&m+1<x&&(64512&(l=o.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(l-56320),m++),p<128?d[y++]=p:(p<2048?d[y++]=192|p>>>6:(p<65536?d[y++]=224|p>>>12:(d[y++]=240|p>>>18,d[y++]=128|p>>>12&63),d[y++]=128|p>>>6&63),d[y++]=128|63&p);return d}(u)},c.utf8decode=function(u){return s.nodebuffer?S.transformTo("nodebuffer",u).toString("utf-8"):function(o){var d,p,l,m,y=o.length,x=new Array(2*y);for(d=p=0;d<y;)if((l=o[d++])<128)x[p++]=l;else if(4<(m=a[l]))x[p++]=65533,d+=m-1;else{for(l&=m===2?31:m===3?15:7;1<m&&d<y;)l=l<<6|63&o[d++],m--;1<m?x[p++]=65533:l<65536?x[p++]=l:(l-=65536,x[p++]=55296|l>>10&1023,x[p++]=56320|1023&l)}return x.length!==p&&(x.subarray?x=x.subarray(0,p):x.length=p),S.applyFromCharCode(x)}(u=S.transformTo(s.uint8array?"uint8array":"array",u))},S.inherits(f,i),f.prototype.processChunk=function(u){var o=S.transformTo(s.uint8array?"uint8array":"array",u.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var d=o;(o=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),o.set(d,this.leftOver.length)}else o=this.leftOver.concat(o);this.leftOver=null}var p=function(m,y){var x;for((y=y||m.length)>m.length&&(y=m.length),x=y-1;0<=x&&(192&m[x])==128;)x--;return x<0||x===0?y:x+a[m[x]]>y?x:y}(o),l=o;p!==o.length&&(s.uint8array?(l=o.subarray(0,p),this.leftOver=o.subarray(p,o.length)):(l=o.slice(0,p),this.leftOver=o.slice(p,o.length))),this.push({data:c.utf8decode(l),meta:u.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=f,S.inherits(h,i),h.prototype.processChunk=function(u){this.push({data:c.utf8encode(u.data),meta:u.meta})},c.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,c){var S=r("./support"),s=r("./base64"),g=r("./nodejsUtils"),i=r("./external");function a(d){return d}function v(d,p){for(var l=0;l<d.length;++l)p[l]=255&d.charCodeAt(l);return p}r("setimmediate"),c.newBlob=function(d,p){c.checkSupport("blob");try{return new Blob([d],{type:p})}catch(m){try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return l.append(d),l.getBlob(p)}catch(y){throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(d,p,l){var m=[],y=0,x=d.length;if(x<=l)return String.fromCharCode.apply(null,d);for(;y<x;)p==="array"||p==="nodebuffer"?m.push(String.fromCharCode.apply(null,d.slice(y,Math.min(y+l,x)))):m.push(String.fromCharCode.apply(null,d.subarray(y,Math.min(y+l,x)))),y+=l;return m.join("")},stringifyByChar:function(d){for(var p="",l=0;l<d.length;l++)p+=String.fromCharCode(d[l]);return p},applyCanBeUsed:{uint8array:function(){try{return S.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(d){return!1}}(),nodebuffer:function(){try{return S.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch(d){return!1}}()}};function h(d){var p=65536,l=c.getTypeOf(d),m=!0;if(l==="uint8array"?m=f.applyCanBeUsed.uint8array:l==="nodebuffer"&&(m=f.applyCanBeUsed.nodebuffer),m)for(;1<p;)try{return f.stringifyByChunk(d,l,p)}catch(y){p=Math.floor(p/2)}return f.stringifyByChar(d)}function u(d,p){for(var l=0;l<d.length;l++)p[l]=d[l];return p}c.applyFromCharCode=h;var o={};o.string={string:a,array:function(d){return v(d,new Array(d.length))},arraybuffer:function(d){return o.string.uint8array(d).buffer},uint8array:function(d){return v(d,new Uint8Array(d.length))},nodebuffer:function(d){return v(d,g.allocBuffer(d.length))}},o.array={string:h,array:a,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return g.newBufferFrom(d)}},o.arraybuffer={string:function(d){return h(new Uint8Array(d))},array:function(d){return u(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:a,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return g.newBufferFrom(new Uint8Array(d))}},o.uint8array={string:h,array:function(d){return u(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:a,nodebuffer:function(d){return g.newBufferFrom(d)}},o.nodebuffer={string:h,array:function(d){return u(d,new Array(d.length))},arraybuffer:function(d){return o.nodebuffer.uint8array(d).buffer},uint8array:function(d){return u(d,new Uint8Array(d.length))},nodebuffer:a},c.transformTo=function(d,p){if(p=p||"",!d)return p;c.checkSupport(d);var l=c.getTypeOf(p);return o[l][d](p)},c.resolve=function(d){for(var p=d.split("/"),l=[],m=0;m<p.length;m++){var y=p[m];y==="."||y===""&&m!==0&&m!==p.length-1||(y===".."?l.pop():l.push(y))}return l.join("/")},c.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":S.nodebuffer&&g.isBuffer(d)?"nodebuffer":S.uint8array&&d instanceof Uint8Array?"uint8array":S.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(d){if(!S[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(d){var p,l,m="";for(l=0;l<(d||"").length;l++)m+="\\x"+((p=d.charCodeAt(l))<16?"0":"")+p.toString(16).toUpperCase();return m},c.delay=function(d,p,l){setImmediate(function(){d.apply(l||null,p||[])})},c.inherits=function(d,p){function l(){}l.prototype=p.prototype,d.prototype=new l},c.extend=function(){var d,p,l={};for(d=0;d<arguments.length;d++)for(p in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],p)&&l[p]===void 0&&(l[p]=arguments[d][p]);return l},c.prepareContent=function(d,p,l,m,y){return i.Promise.resolve(p).then(function(x){return S.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader!="undefined"?new i.Promise(function(b,w){var C=new FileReader;C.onload=function(E){b(E.target.result)},C.onerror=function(E){w(E.target.error)},C.readAsArrayBuffer(x)}):x}).then(function(x){var b=c.getTypeOf(x);return b?(b==="arraybuffer"?x=c.transformTo("uint8array",x):b==="string"&&(y?x=s.decode(x):l&&m!==!0&&(x=function(w){return v(w,S.uint8array?new Uint8Array(w.length):new Array(w.length))}(x))),x):i.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,c){var S=r("./reader/readerFor"),s=r("./utils"),g=r("./signature"),i=r("./zipEntry"),a=r("./support");function v(f){this.files=[],this.loadOptions=f}v.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(f)+")")}},isSignature:function(f,h){var u=this.reader.index;this.reader.setIndex(f);var o=this.reader.readString(4)===h;return this.reader.setIndex(u),o},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=a.uint8array?"uint8array":"array",u=s.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,u,o=this.zip64EndOfCentralSize-44;0<o;)f=this.reader.readInt(2),h=this.reader.readInt(4),u=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(f=new i({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var o=h-u;if(0<o)this.isSignature(h,g.CENTRAL_FILE_HEADER)||(this.reader.zero=o);else if(o<0)throw new Error("Corrupted zip: missing "+Math.abs(o)+" bytes.")},prepareReader:function(f){this.reader=S(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,c){var S=r("./reader/readerFor"),s=r("./utils"),g=r("./compressedObject"),i=r("./crc32"),a=r("./utf8"),v=r("./compressions"),f=r("./support");function h(u,o){this.options=u,this.loadOptions=o}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(u){var o,d;if(u.skip(22),this.fileNameLength=u.readInt(2),d=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((o=function(p){for(var l in v)if(Object.prototype.hasOwnProperty.call(v,l)&&v[l].magic===p)return v[l];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,o,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var o=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");u.skip(o),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),u==0&&(this.dosPermissions=63&this.externalFileAttributes),u==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var u=S(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(u){var o,d,p,l=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<l;)o=u.readInt(2),d=u.readInt(2),p=u.readData(d),this.extraFields[o]={id:o,length:d,value:p};u.setIndex(l)},handleUTF8:function(){var u=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var o=this.findExtraFieldUnicodePath();if(o!==null)this.fileNameStr=o;else{var d=s.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var p=this.findExtraFieldUnicodeComment();if(p!==null)this.fileCommentStr=p;else{var l=s.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(l)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var o=S(u.value);return o.readInt(1)!==1||i(this.fileName)!==o.readInt(4)?null:a.utf8decode(o.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var o=S(u.value);return o.readInt(1)!==1||i(this.fileComment)!==o.readInt(4)?null:a.utf8decode(o.readData(u.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,c){function S(o,d,p){this.name=o,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=d,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}}var s=r("./stream/StreamHelper"),g=r("./stream/DataWorker"),i=r("./utf8"),a=r("./compressedObject"),v=r("./stream/GenericWorker");S.prototype={internalStream:function(o){var d=null,p="string";try{if(!o)throw new Error("No output type specified.");var l=(p=o.toLowerCase())==="string"||p==="text";p!=="binarystring"&&p!=="text"||(p="string"),d=this._decompressWorker();var m=!this._dataBinary;m&&!l&&(d=d.pipe(new i.Utf8EncodeWorker)),!m&&l&&(d=d.pipe(new i.Utf8DecodeWorker))}catch(y){(d=new v("error")).error(y)}return new s(d,p,"")},async:function(o,d){return this.internalStream(o).accumulate(d)},nodeStream:function(o,d){return this.internalStream(o||"nodebuffer").toNodejsStream(d)},_compressWorker:function(o,d){if(this._data instanceof a&&this._data.compression.magic===o.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new i.Utf8EncodeWorker)),a.createWorkerFrom(p,o,d)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof v?this._data:new g(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<f.length;u++)S.prototype[f[u]]=h;n.exports=S},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,c){(function(S){var s,g,i=S.MutationObserver||S.WebKitMutationObserver;if(i){var a=0,v=new i(o),f=S.document.createTextNode("");v.observe(f,{characterData:!0}),s=function(){f.data=a=++a%2}}else if(S.setImmediate||S.MessageChannel===void 0)s="document"in S&&"onreadystatechange"in S.document.createElement("script")?function(){var d=S.document.createElement("script");d.onreadystatechange=function(){o(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},S.document.documentElement.appendChild(d)}:function(){setTimeout(o,0)};else{var h=new S.MessageChannel;h.port1.onmessage=o,s=function(){h.port2.postMessage(0)}}var u=[];function o(){var d,p;g=!0;for(var l=u.length;l;){for(p=u,u=[],d=-1;++d<l;)p[d]();l=u.length}g=!1}n.exports=function(d){u.push(d)!==1||g||s()}}).call(this,typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(r,n,c){var S=r("immediate");function s(){}var g={},i=["REJECTED"],a=["FULFILLED"],v=["PENDING"];function f(l){if(typeof l!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,l!==s&&d(this,l)}function h(l,m,y){this.promise=l,typeof m=="function"&&(this.onFulfilled=m,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function u(l,m,y){S(function(){var x;try{x=m(y)}catch(b){return g.reject(l,b)}x===l?g.reject(l,new TypeError("Cannot resolve promise with itself")):g.resolve(l,x)})}function o(l){var m=l&&l.then;if(l&&(typeof l=="object"||typeof l=="function")&&typeof m=="function")return function(){m.apply(l,arguments)}}function d(l,m){var y=!1;function x(C){y||(y=!0,g.reject(l,C))}function b(C){y||(y=!0,g.resolve(l,C))}var w=p(function(){m(b,x)});w.status==="error"&&x(w.value)}function p(l,m){var y={};try{y.value=l(m),y.status="success"}catch(x){y.status="error",y.value=x}return y}(n.exports=f).prototype.finally=function(l){if(typeof l!="function")return this;var m=this.constructor;return this.then(function(y){return m.resolve(l()).then(function(){return y})},function(y){return m.resolve(l()).then(function(){throw y})})},f.prototype.catch=function(l){return this.then(null,l)},f.prototype.then=function(l,m){if(typeof l!="function"&&this.state===a||typeof m!="function"&&this.state===i)return this;var y=new this.constructor(s);return this.state!==v?u(y,this.state===a?l:m,this.outcome):this.queue.push(new h(y,l,m)),y},h.prototype.callFulfilled=function(l){g.resolve(this.promise,l)},h.prototype.otherCallFulfilled=function(l){u(this.promise,this.onFulfilled,l)},h.prototype.callRejected=function(l){g.reject(this.promise,l)},h.prototype.otherCallRejected=function(l){u(this.promise,this.onRejected,l)},g.resolve=function(l,m){var y=p(o,m);if(y.status==="error")return g.reject(l,y.value);var x=y.value;if(x)d(l,x);else{l.state=a,l.outcome=m;for(var b=-1,w=l.queue.length;++b<w;)l.queue[b].callFulfilled(m)}return l},g.reject=function(l,m){l.state=i,l.outcome=m;for(var y=-1,x=l.queue.length;++y<x;)l.queue[y].callRejected(m);return l},f.resolve=function(l){return l instanceof this?l:g.resolve(new this(s),l)},f.reject=function(l){var m=new this(s);return g.reject(m,l)},f.all=function(l){var m=this;if(Object.prototype.toString.call(l)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=l.length,x=!1;if(!y)return this.resolve([]);for(var b=new Array(y),w=0,C=-1,E=new this(s);++C<y;)T(l[C],C);return E;function T(k,P){m.resolve(k).then(function(R){b[P]=R,++w!==y||x||(x=!0,g.resolve(E,b))},function(R){x||(x=!0,g.reject(E,R))})}},f.race=function(l){var m=this;if(Object.prototype.toString.call(l)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=l.length,x=!1;if(!y)return this.resolve([]);for(var b=-1,w=new this(s);++b<y;)C=l[b],m.resolve(C).then(function(E){x||(x=!0,g.resolve(w,E))},function(E){x||(x=!0,g.reject(w,E))});var C;return w}},{immediate:36}],38:[function(r,n,c){var S={};(0,r("./lib/utils/common").assign)(S,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=S},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,c){var S=r("./zlib/deflate"),s=r("./utils/common"),g=r("./utils/strings"),i=r("./zlib/messages"),a=r("./zlib/zstream"),v=Object.prototype.toString,f=0,h=-1,u=0,o=8;function d(l){if(!(this instanceof d))return new d(l);this.options=s.assign({level:h,method:o,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},l||{});var m=this.options;m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var y=S.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(y!==f)throw new Error(i[y]);if(m.header&&S.deflateSetHeader(this.strm,m.header),m.dictionary){var x;if(x=typeof m.dictionary=="string"?g.string2buf(m.dictionary):v.call(m.dictionary)==="[object ArrayBuffer]"?new Uint8Array(m.dictionary):m.dictionary,(y=S.deflateSetDictionary(this.strm,x))!==f)throw new Error(i[y]);this._dict_set=!0}}function p(l,m){var y=new d(m);if(y.push(l,!0),y.err)throw y.msg||i[y.err];return y.result}d.prototype.push=function(l,m){var y,x,b=this.strm,w=this.options.chunkSize;if(this.ended)return!1;x=m===~~m?m:m===!0?4:0,typeof l=="string"?b.input=g.string2buf(l):v.call(l)==="[object ArrayBuffer]"?b.input=new Uint8Array(l):b.input=l,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new s.Buf8(w),b.next_out=0,b.avail_out=w),(y=S.deflate(b,x))!==1&&y!==f)return this.onEnd(y),!(this.ended=!0);b.avail_out!==0&&(b.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(s.shrinkBuf(b.output,b.next_out))):this.onData(s.shrinkBuf(b.output,b.next_out)))}while((0<b.avail_in||b.avail_out===0)&&y!==1);return x===4?(y=S.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===f):x!==2||(this.onEnd(f),!(b.avail_out=0))},d.prototype.onData=function(l){this.chunks.push(l)},d.prototype.onEnd=function(l){l===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg},c.Deflate=d,c.deflate=p,c.deflateRaw=function(l,m){return(m=m||{}).raw=!0,p(l,m)},c.gzip=function(l,m){return(m=m||{}).gzip=!0,p(l,m)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,c){var S=r("./zlib/inflate"),s=r("./utils/common"),g=r("./utils/strings"),i=r("./zlib/constants"),a=r("./zlib/messages"),v=r("./zlib/zstream"),f=r("./zlib/gzheader"),h=Object.prototype.toString;function u(d){if(!(this instanceof u))return new u(d);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},d||{});var p=this.options;p.raw&&0<=p.windowBits&&p.windowBits<16&&(p.windowBits=-p.windowBits,p.windowBits===0&&(p.windowBits=-15)),!(0<=p.windowBits&&p.windowBits<16)||d&&d.windowBits||(p.windowBits+=32),15<p.windowBits&&p.windowBits<48&&!(15&p.windowBits)&&(p.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var l=S.inflateInit2(this.strm,p.windowBits);if(l!==i.Z_OK)throw new Error(a[l]);this.header=new f,S.inflateGetHeader(this.strm,this.header)}function o(d,p){var l=new u(p);if(l.push(d,!0),l.err)throw l.msg||a[l.err];return l.result}u.prototype.push=function(d,p){var l,m,y,x,b,w,C=this.strm,E=this.options.chunkSize,T=this.options.dictionary,k=!1;if(this.ended)return!1;m=p===~~p?p:p===!0?i.Z_FINISH:i.Z_NO_FLUSH,typeof d=="string"?C.input=g.binstring2buf(d):h.call(d)==="[object ArrayBuffer]"?C.input=new Uint8Array(d):C.input=d,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new s.Buf8(E),C.next_out=0,C.avail_out=E),(l=S.inflate(C,i.Z_NO_FLUSH))===i.Z_NEED_DICT&&T&&(w=typeof T=="string"?g.string2buf(T):h.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,l=S.inflateSetDictionary(this.strm,w)),l===i.Z_BUF_ERROR&&k===!0&&(l=i.Z_OK,k=!1),l!==i.Z_STREAM_END&&l!==i.Z_OK)return this.onEnd(l),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&l!==i.Z_STREAM_END&&(C.avail_in!==0||m!==i.Z_FINISH&&m!==i.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=g.utf8border(C.output,C.next_out),x=C.next_out-y,b=g.buf2string(C.output,y),C.next_out=x,C.avail_out=E-x,x&&s.arraySet(C.output,C.output,y,x,0),this.onData(b)):this.onData(s.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(k=!0)}while((0<C.avail_in||C.avail_out===0)&&l!==i.Z_STREAM_END);return l===i.Z_STREAM_END&&(m=i.Z_FINISH),m===i.Z_FINISH?(l=S.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===i.Z_OK):m!==i.Z_SYNC_FLUSH||(this.onEnd(i.Z_OK),!(C.avail_out=0))},u.prototype.onData=function(d){this.chunks.push(d)},u.prototype.onEnd=function(d){d===i.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},c.Inflate=u,c.inflate=o,c.inflateRaw=function(d,p){return(p=p||{}).raw=!0,o(d,p)},c.ungzip=o},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,c){var S=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";c.assign=function(i){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var v=a.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var f in v)v.hasOwnProperty(f)&&(i[f]=v[f])}}return i},c.shrinkBuf=function(i,a){return i.length===a?i:i.subarray?i.subarray(0,a):(i.length=a,i)};var s={arraySet:function(i,a,v,f,h){if(a.subarray&&i.subarray)i.set(a.subarray(v,v+f),h);else for(var u=0;u<f;u++)i[h+u]=a[v+u]},flattenChunks:function(i){var a,v,f,h,u,o;for(a=f=0,v=i.length;a<v;a++)f+=i[a].length;for(o=new Uint8Array(f),a=h=0,v=i.length;a<v;a++)u=i[a],o.set(u,h),h+=u.length;return o}},g={arraySet:function(i,a,v,f,h){for(var u=0;u<f;u++)i[h+u]=a[v+u]},flattenChunks:function(i){return[].concat.apply([],i)}};c.setTyped=function(i){i?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,s)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,g))},c.setTyped(S)},{}],42:[function(r,n,c){var S=r("./common"),s=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(f){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(f){g=!1}for(var i=new S.Buf8(256),a=0;a<256;a++)i[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function v(f,h){if(h<65537&&(f.subarray&&g||!f.subarray&&s))return String.fromCharCode.apply(null,S.shrinkBuf(f,h));for(var u="",o=0;o<h;o++)u+=String.fromCharCode(f[o]);return u}i[254]=i[254]=1,c.string2buf=function(f){var h,u,o,d,p,l=f.length,m=0;for(d=0;d<l;d++)(64512&(u=f.charCodeAt(d)))==55296&&d+1<l&&(64512&(o=f.charCodeAt(d+1)))==56320&&(u=65536+(u-55296<<10)+(o-56320),d++),m+=u<128?1:u<2048?2:u<65536?3:4;for(h=new S.Buf8(m),d=p=0;p<m;d++)(64512&(u=f.charCodeAt(d)))==55296&&d+1<l&&(64512&(o=f.charCodeAt(d+1)))==56320&&(u=65536+(u-55296<<10)+(o-56320),d++),u<128?h[p++]=u:(u<2048?h[p++]=192|u>>>6:(u<65536?h[p++]=224|u>>>12:(h[p++]=240|u>>>18,h[p++]=128|u>>>12&63),h[p++]=128|u>>>6&63),h[p++]=128|63&u);return h},c.buf2binstring=function(f){return v(f,f.length)},c.binstring2buf=function(f){for(var h=new S.Buf8(f.length),u=0,o=h.length;u<o;u++)h[u]=f.charCodeAt(u);return h},c.buf2string=function(f,h){var u,o,d,p,l=h||f.length,m=new Array(2*l);for(u=o=0;u<l;)if((d=f[u++])<128)m[o++]=d;else if(4<(p=i[d]))m[o++]=65533,u+=p-1;else{for(d&=p===2?31:p===3?15:7;1<p&&u<l;)d=d<<6|63&f[u++],p--;1<p?m[o++]=65533:d<65536?m[o++]=d:(d-=65536,m[o++]=55296|d>>10&1023,m[o++]=56320|1023&d)}return v(m,o)},c.utf8border=function(f,h){var u;for((h=h||f.length)>f.length&&(h=f.length),u=h-1;0<=u&&(192&f[u])==128;)u--;return u<0||u===0?h:u+i[f[u]]>h?u:h}},{"./common":41}],43:[function(r,n,c){n.exports=function(S,s,g,i){for(var a=65535&S|0,v=S>>>16&65535|0,f=0;g!==0;){for(g-=f=2e3<g?2e3:g;v=v+(a=a+s[i++]|0)|0,--f;);a%=65521,v%=65521}return a|v<<16|0}},{}],44:[function(r,n,c){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,c){var S=function(){for(var s,g=[],i=0;i<256;i++){s=i;for(var a=0;a<8;a++)s=1&s?3988292384^s>>>1:s>>>1;g[i]=s}return g}();n.exports=function(s,g,i,a){var v=S,f=a+i;s^=-1;for(var h=a;h<f;h++)s=s>>>8^v[255&(s^g[h])];return-1^s}},{}],46:[function(r,n,c){var S,s=r("../utils/common"),g=r("./trees"),i=r("./adler32"),a=r("./crc32"),v=r("./messages"),f=0,h=4,u=0,o=-2,d=-1,p=4,l=2,m=8,y=9,x=286,b=30,w=19,C=2*x+1,E=15,T=3,k=258,P=k+T+1,R=42,M=113,I=1,B=2,D=3,N=4;function _(K,It){return K.msg=v[It],It}function G(K){return(K<<1)-(4<K?9:0)}function $(K){for(var It=K.length;0<=--It;)K[It]=0}function V(K){var It=K.state,Ft=It.pending;Ft>K.avail_out&&(Ft=K.avail_out),Ft!==0&&(s.arraySet(K.output,It.pending_buf,It.pending_out,Ft,K.next_out),K.next_out+=Ft,It.pending_out+=Ft,K.total_out+=Ft,K.avail_out-=Ft,It.pending-=Ft,It.pending===0&&(It.pending_out=0))}function Y(K,It){g._tr_flush_block(K,0<=K.block_start?K.block_start:-1,K.strstart-K.block_start,It),K.block_start=K.strstart,V(K.strm)}function U(K,It){K.pending_buf[K.pending++]=It}function F(K,It){K.pending_buf[K.pending++]=It>>>8&255,K.pending_buf[K.pending++]=255&It}function O(K,It){var Ft,ft,yt=K.max_chain_length,At=K.strstart,Bt=K.prev_length,le=K.nice_match,_t=K.strstart>K.w_size-P?K.strstart-(K.w_size-P):0,xe=K.window,Ee=K.w_mask,ve=K.prev,Fe=K.strstart+k,Ze=xe[At+Bt-1],ei=xe[At+Bt];K.prev_length>=K.good_match&&(yt>>=2),le>K.lookahead&&(le=K.lookahead);do if(xe[(Ft=It)+Bt]===ei&&xe[Ft+Bt-1]===Ze&&xe[Ft]===xe[At]&&xe[++Ft]===xe[At+1]){At+=2,Ft++;do;while(xe[++At]===xe[++Ft]&&xe[++At]===xe[++Ft]&&xe[++At]===xe[++Ft]&&xe[++At]===xe[++Ft]&&xe[++At]===xe[++Ft]&&xe[++At]===xe[++Ft]&&xe[++At]===xe[++Ft]&&xe[++At]===xe[++Ft]&&At<Fe);if(ft=k-(Fe-At),At=Fe-k,Bt<ft){if(K.match_start=It,le<=(Bt=ft))break;Ze=xe[At+Bt-1],ei=xe[At+Bt]}}while((It=ve[It&Ee])>_t&&--yt!=0);return Bt<=K.lookahead?Bt:K.lookahead}function j(K){var It,Ft,ft,yt,At,Bt,le,_t,xe,Ee,ve=K.w_size;do{if(yt=K.window_size-K.lookahead-K.strstart,K.strstart>=ve+(ve-P)){for(s.arraySet(K.window,K.window,ve,ve,0),K.match_start-=ve,K.strstart-=ve,K.block_start-=ve,It=Ft=K.hash_size;ft=K.head[--It],K.head[It]=ve<=ft?ft-ve:0,--Ft;);for(It=Ft=ve;ft=K.prev[--It],K.prev[It]=ve<=ft?ft-ve:0,--Ft;);yt+=ve}if(K.strm.avail_in===0)break;if(Bt=K.strm,le=K.window,_t=K.strstart+K.lookahead,xe=yt,Ee=void 0,Ee=Bt.avail_in,xe<Ee&&(Ee=xe),Ft=Ee===0?0:(Bt.avail_in-=Ee,s.arraySet(le,Bt.input,Bt.next_in,Ee,_t),Bt.state.wrap===1?Bt.adler=i(Bt.adler,le,Ee,_t):Bt.state.wrap===2&&(Bt.adler=a(Bt.adler,le,Ee,_t)),Bt.next_in+=Ee,Bt.total_in+=Ee,Ee),K.lookahead+=Ft,K.lookahead+K.insert>=T)for(At=K.strstart-K.insert,K.ins_h=K.window[At],K.ins_h=(K.ins_h<<K.hash_shift^K.window[At+1])&K.hash_mask;K.insert&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[At+T-1])&K.hash_mask,K.prev[At&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=At,At++,K.insert--,!(K.lookahead+K.insert<T)););}while(K.lookahead<P&&K.strm.avail_in!==0)}function z(K,It){for(var Ft,ft;;){if(K.lookahead<P){if(j(K),K.lookahead<P&&It===f)return I;if(K.lookahead===0)break}if(Ft=0,K.lookahead>=T&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+T-1])&K.hash_mask,Ft=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),Ft!==0&&K.strstart-Ft<=K.w_size-P&&(K.match_length=O(K,Ft)),K.match_length>=T)if(ft=g._tr_tally(K,K.strstart-K.match_start,K.match_length-T),K.lookahead-=K.match_length,K.match_length<=K.max_lazy_match&&K.lookahead>=T){for(K.match_length--;K.strstart++,K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+T-1])&K.hash_mask,Ft=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart,--K.match_length!=0;);K.strstart++}else K.strstart+=K.match_length,K.match_length=0,K.ins_h=K.window[K.strstart],K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+1])&K.hash_mask;else ft=g._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++;if(ft&&(Y(K,!1),K.strm.avail_out===0))return I}return K.insert=K.strstart<T-1?K.strstart:T-1,It===h?(Y(K,!0),K.strm.avail_out===0?D:N):K.last_lit&&(Y(K,!1),K.strm.avail_out===0)?I:B}function W(K,It){for(var Ft,ft,yt;;){if(K.lookahead<P){if(j(K),K.lookahead<P&&It===f)return I;if(K.lookahead===0)break}if(Ft=0,K.lookahead>=T&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+T-1])&K.hash_mask,Ft=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),K.prev_length=K.match_length,K.prev_match=K.match_start,K.match_length=T-1,Ft!==0&&K.prev_length<K.max_lazy_match&&K.strstart-Ft<=K.w_size-P&&(K.match_length=O(K,Ft),K.match_length<=5&&(K.strategy===1||K.match_length===T&&4096<K.strstart-K.match_start)&&(K.match_length=T-1)),K.prev_length>=T&&K.match_length<=K.prev_length){for(yt=K.strstart+K.lookahead-T,ft=g._tr_tally(K,K.strstart-1-K.prev_match,K.prev_length-T),K.lookahead-=K.prev_length-1,K.prev_length-=2;++K.strstart<=yt&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+T-1])&K.hash_mask,Ft=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),--K.prev_length!=0;);if(K.match_available=0,K.match_length=T-1,K.strstart++,ft&&(Y(K,!1),K.strm.avail_out===0))return I}else if(K.match_available){if((ft=g._tr_tally(K,0,K.window[K.strstart-1]))&&Y(K,!1),K.strstart++,K.lookahead--,K.strm.avail_out===0)return I}else K.match_available=1,K.strstart++,K.lookahead--}return K.match_available&&(ft=g._tr_tally(K,0,K.window[K.strstart-1]),K.match_available=0),K.insert=K.strstart<T-1?K.strstart:T-1,It===h?(Y(K,!0),K.strm.avail_out===0?D:N):K.last_lit&&(Y(K,!1),K.strm.avail_out===0)?I:B}function q(K,It,Ft,ft,yt){this.good_length=K,this.max_lazy=It,this.nice_length=Ft,this.max_chain=ft,this.func=yt}function ot(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*C),this.dyn_dtree=new s.Buf16(2*(2*b+1)),this.bl_tree=new s.Buf16(2*(2*w+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(E+1),this.heap=new s.Buf16(2*x+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*x+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Q(K){var It;return K&&K.state?(K.total_in=K.total_out=0,K.data_type=l,(It=K.state).pending=0,It.pending_out=0,It.wrap<0&&(It.wrap=-It.wrap),It.status=It.wrap?R:M,K.adler=It.wrap===2?0:1,It.last_flush=f,g._tr_init(It),u):_(K,o)}function rt(K){var It=Q(K);return It===u&&function(Ft){Ft.window_size=2*Ft.w_size,$(Ft.head),Ft.max_lazy_match=S[Ft.level].max_lazy,Ft.good_match=S[Ft.level].good_length,Ft.nice_match=S[Ft.level].nice_length,Ft.max_chain_length=S[Ft.level].max_chain,Ft.strstart=0,Ft.block_start=0,Ft.lookahead=0,Ft.insert=0,Ft.match_length=Ft.prev_length=T-1,Ft.match_available=0,Ft.ins_h=0}(K.state),It}function Mt(K,It,Ft,ft,yt,At){if(!K)return o;var Bt=1;if(It===d&&(It=6),ft<0?(Bt=0,ft=-ft):15<ft&&(Bt=2,ft-=16),yt<1||y<yt||Ft!==m||ft<8||15<ft||It<0||9<It||At<0||p<At)return _(K,o);ft===8&&(ft=9);var le=new ot;return(K.state=le).strm=K,le.wrap=Bt,le.gzhead=null,le.w_bits=ft,le.w_size=1<<le.w_bits,le.w_mask=le.w_size-1,le.hash_bits=yt+7,le.hash_size=1<<le.hash_bits,le.hash_mask=le.hash_size-1,le.hash_shift=~~((le.hash_bits+T-1)/T),le.window=new s.Buf8(2*le.w_size),le.head=new s.Buf16(le.hash_size),le.prev=new s.Buf16(le.w_size),le.lit_bufsize=1<<yt+6,le.pending_buf_size=4*le.lit_bufsize,le.pending_buf=new s.Buf8(le.pending_buf_size),le.d_buf=1*le.lit_bufsize,le.l_buf=3*le.lit_bufsize,le.level=It,le.strategy=At,le.method=Ft,rt(K)}S=[new q(0,0,0,0,function(K,It){var Ft=65535;for(Ft>K.pending_buf_size-5&&(Ft=K.pending_buf_size-5);;){if(K.lookahead<=1){if(j(K),K.lookahead===0&&It===f)return I;if(K.lookahead===0)break}K.strstart+=K.lookahead,K.lookahead=0;var ft=K.block_start+Ft;if((K.strstart===0||K.strstart>=ft)&&(K.lookahead=K.strstart-ft,K.strstart=ft,Y(K,!1),K.strm.avail_out===0)||K.strstart-K.block_start>=K.w_size-P&&(Y(K,!1),K.strm.avail_out===0))return I}return K.insert=0,It===h?(Y(K,!0),K.strm.avail_out===0?D:N):(K.strstart>K.block_start&&(Y(K,!1),K.strm.avail_out),I)}),new q(4,4,8,4,z),new q(4,5,16,8,z),new q(4,6,32,32,z),new q(4,4,16,16,W),new q(8,16,32,32,W),new q(8,16,128,128,W),new q(8,32,128,256,W),new q(32,128,258,1024,W),new q(32,258,258,4096,W)],c.deflateInit=function(K,It){return Mt(K,It,m,15,8,0)},c.deflateInit2=Mt,c.deflateReset=rt,c.deflateResetKeep=Q,c.deflateSetHeader=function(K,It){return K&&K.state?K.state.wrap!==2?o:(K.state.gzhead=It,u):o},c.deflate=function(K,It){var Ft,ft,yt,At;if(!K||!K.state||5<It||It<0)return K?_(K,o):o;if(ft=K.state,!K.output||!K.input&&K.avail_in!==0||ft.status===666&&It!==h)return _(K,K.avail_out===0?-5:o);if(ft.strm=K,Ft=ft.last_flush,ft.last_flush=It,ft.status===R)if(ft.wrap===2)K.adler=0,U(ft,31),U(ft,139),U(ft,8),ft.gzhead?(U(ft,(ft.gzhead.text?1:0)+(ft.gzhead.hcrc?2:0)+(ft.gzhead.extra?4:0)+(ft.gzhead.name?8:0)+(ft.gzhead.comment?16:0)),U(ft,255&ft.gzhead.time),U(ft,ft.gzhead.time>>8&255),U(ft,ft.gzhead.time>>16&255),U(ft,ft.gzhead.time>>24&255),U(ft,ft.level===9?2:2<=ft.strategy||ft.level<2?4:0),U(ft,255&ft.gzhead.os),ft.gzhead.extra&&ft.gzhead.extra.length&&(U(ft,255&ft.gzhead.extra.length),U(ft,ft.gzhead.extra.length>>8&255)),ft.gzhead.hcrc&&(K.adler=a(K.adler,ft.pending_buf,ft.pending,0)),ft.gzindex=0,ft.status=69):(U(ft,0),U(ft,0),U(ft,0),U(ft,0),U(ft,0),U(ft,ft.level===9?2:2<=ft.strategy||ft.level<2?4:0),U(ft,3),ft.status=M);else{var Bt=m+(ft.w_bits-8<<4)<<8;Bt|=(2<=ft.strategy||ft.level<2?0:ft.level<6?1:ft.level===6?2:3)<<6,ft.strstart!==0&&(Bt|=32),Bt+=31-Bt%31,ft.status=M,F(ft,Bt),ft.strstart!==0&&(F(ft,K.adler>>>16),F(ft,65535&K.adler)),K.adler=1}if(ft.status===69)if(ft.gzhead.extra){for(yt=ft.pending;ft.gzindex<(65535&ft.gzhead.extra.length)&&(ft.pending!==ft.pending_buf_size||(ft.gzhead.hcrc&&ft.pending>yt&&(K.adler=a(K.adler,ft.pending_buf,ft.pending-yt,yt)),V(K),yt=ft.pending,ft.pending!==ft.pending_buf_size));)U(ft,255&ft.gzhead.extra[ft.gzindex]),ft.gzindex++;ft.gzhead.hcrc&&ft.pending>yt&&(K.adler=a(K.adler,ft.pending_buf,ft.pending-yt,yt)),ft.gzindex===ft.gzhead.extra.length&&(ft.gzindex=0,ft.status=73)}else ft.status=73;if(ft.status===73)if(ft.gzhead.name){yt=ft.pending;do{if(ft.pending===ft.pending_buf_size&&(ft.gzhead.hcrc&&ft.pending>yt&&(K.adler=a(K.adler,ft.pending_buf,ft.pending-yt,yt)),V(K),yt=ft.pending,ft.pending===ft.pending_buf_size)){At=1;break}At=ft.gzindex<ft.gzhead.name.length?255&ft.gzhead.name.charCodeAt(ft.gzindex++):0,U(ft,At)}while(At!==0);ft.gzhead.hcrc&&ft.pending>yt&&(K.adler=a(K.adler,ft.pending_buf,ft.pending-yt,yt)),At===0&&(ft.gzindex=0,ft.status=91)}else ft.status=91;if(ft.status===91)if(ft.gzhead.comment){yt=ft.pending;do{if(ft.pending===ft.pending_buf_size&&(ft.gzhead.hcrc&&ft.pending>yt&&(K.adler=a(K.adler,ft.pending_buf,ft.pending-yt,yt)),V(K),yt=ft.pending,ft.pending===ft.pending_buf_size)){At=1;break}At=ft.gzindex<ft.gzhead.comment.length?255&ft.gzhead.comment.charCodeAt(ft.gzindex++):0,U(ft,At)}while(At!==0);ft.gzhead.hcrc&&ft.pending>yt&&(K.adler=a(K.adler,ft.pending_buf,ft.pending-yt,yt)),At===0&&(ft.status=103)}else ft.status=103;if(ft.status===103&&(ft.gzhead.hcrc?(ft.pending+2>ft.pending_buf_size&&V(K),ft.pending+2<=ft.pending_buf_size&&(U(ft,255&K.adler),U(ft,K.adler>>8&255),K.adler=0,ft.status=M)):ft.status=M),ft.pending!==0){if(V(K),K.avail_out===0)return ft.last_flush=-1,u}else if(K.avail_in===0&&G(It)<=G(Ft)&&It!==h)return _(K,-5);if(ft.status===666&&K.avail_in!==0)return _(K,-5);if(K.avail_in!==0||ft.lookahead!==0||It!==f&&ft.status!==666){var le=ft.strategy===2?function(_t,xe){for(var Ee;;){if(_t.lookahead===0&&(j(_t),_t.lookahead===0)){if(xe===f)return I;break}if(_t.match_length=0,Ee=g._tr_tally(_t,0,_t.window[_t.strstart]),_t.lookahead--,_t.strstart++,Ee&&(Y(_t,!1),_t.strm.avail_out===0))return I}return _t.insert=0,xe===h?(Y(_t,!0),_t.strm.avail_out===0?D:N):_t.last_lit&&(Y(_t,!1),_t.strm.avail_out===0)?I:B}(ft,It):ft.strategy===3?function(_t,xe){for(var Ee,ve,Fe,Ze,ei=_t.window;;){if(_t.lookahead<=k){if(j(_t),_t.lookahead<=k&&xe===f)return I;if(_t.lookahead===0)break}if(_t.match_length=0,_t.lookahead>=T&&0<_t.strstart&&(ve=ei[Fe=_t.strstart-1])===ei[++Fe]&&ve===ei[++Fe]&&ve===ei[++Fe]){Ze=_t.strstart+k;do;while(ve===ei[++Fe]&&ve===ei[++Fe]&&ve===ei[++Fe]&&ve===ei[++Fe]&&ve===ei[++Fe]&&ve===ei[++Fe]&&ve===ei[++Fe]&&ve===ei[++Fe]&&Fe<Ze);_t.match_length=k-(Ze-Fe),_t.match_length>_t.lookahead&&(_t.match_length=_t.lookahead)}if(_t.match_length>=T?(Ee=g._tr_tally(_t,1,_t.match_length-T),_t.lookahead-=_t.match_length,_t.strstart+=_t.match_length,_t.match_length=0):(Ee=g._tr_tally(_t,0,_t.window[_t.strstart]),_t.lookahead--,_t.strstart++),Ee&&(Y(_t,!1),_t.strm.avail_out===0))return I}return _t.insert=0,xe===h?(Y(_t,!0),_t.strm.avail_out===0?D:N):_t.last_lit&&(Y(_t,!1),_t.strm.avail_out===0)?I:B}(ft,It):S[ft.level].func(ft,It);if(le!==D&&le!==N||(ft.status=666),le===I||le===D)return K.avail_out===0&&(ft.last_flush=-1),u;if(le===B&&(It===1?g._tr_align(ft):It!==5&&(g._tr_stored_block(ft,0,0,!1),It===3&&($(ft.head),ft.lookahead===0&&(ft.strstart=0,ft.block_start=0,ft.insert=0))),V(K),K.avail_out===0))return ft.last_flush=-1,u}return It!==h?u:ft.wrap<=0?1:(ft.wrap===2?(U(ft,255&K.adler),U(ft,K.adler>>8&255),U(ft,K.adler>>16&255),U(ft,K.adler>>24&255),U(ft,255&K.total_in),U(ft,K.total_in>>8&255),U(ft,K.total_in>>16&255),U(ft,K.total_in>>24&255)):(F(ft,K.adler>>>16),F(ft,65535&K.adler)),V(K),0<ft.wrap&&(ft.wrap=-ft.wrap),ft.pending!==0?u:1)},c.deflateEnd=function(K){var It;return K&&K.state?(It=K.state.status)!==R&&It!==69&&It!==73&&It!==91&&It!==103&&It!==M&&It!==666?_(K,o):(K.state=null,It===M?_(K,-3):u):o},c.deflateSetDictionary=function(K,It){var Ft,ft,yt,At,Bt,le,_t,xe,Ee=It.length;if(!K||!K.state||(At=(Ft=K.state).wrap)===2||At===1&&Ft.status!==R||Ft.lookahead)return o;for(At===1&&(K.adler=i(K.adler,It,Ee,0)),Ft.wrap=0,Ee>=Ft.w_size&&(At===0&&($(Ft.head),Ft.strstart=0,Ft.block_start=0,Ft.insert=0),xe=new s.Buf8(Ft.w_size),s.arraySet(xe,It,Ee-Ft.w_size,Ft.w_size,0),It=xe,Ee=Ft.w_size),Bt=K.avail_in,le=K.next_in,_t=K.input,K.avail_in=Ee,K.next_in=0,K.input=It,j(Ft);Ft.lookahead>=T;){for(ft=Ft.strstart,yt=Ft.lookahead-(T-1);Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[ft+T-1])&Ft.hash_mask,Ft.prev[ft&Ft.w_mask]=Ft.head[Ft.ins_h],Ft.head[Ft.ins_h]=ft,ft++,--yt;);Ft.strstart=ft,Ft.lookahead=T-1,j(Ft)}return Ft.strstart+=Ft.lookahead,Ft.block_start=Ft.strstart,Ft.insert=Ft.lookahead,Ft.lookahead=0,Ft.match_length=Ft.prev_length=T-1,Ft.match_available=0,K.next_in=le,K.input=_t,K.avail_in=Bt,Ft.wrap=At,u},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,c){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,c){n.exports=function(S,s){var g,i,a,v,f,h,u,o,d,p,l,m,y,x,b,w,C,E,T,k,P,R,M,I,B;g=S.state,i=S.next_in,I=S.input,a=i+(S.avail_in-5),v=S.next_out,B=S.output,f=v-(s-S.avail_out),h=v+(S.avail_out-257),u=g.dmax,o=g.wsize,d=g.whave,p=g.wnext,l=g.window,m=g.hold,y=g.bits,x=g.lencode,b=g.distcode,w=(1<<g.lenbits)-1,C=(1<<g.distbits)-1;t:do{y<15&&(m+=I[i++]<<y,y+=8,m+=I[i++]<<y,y+=8),E=x[m&w];e:for(;;){if(m>>>=T=E>>>24,y-=T,(T=E>>>16&255)===0)B[v++]=65535&E;else{if(!(16&T)){if(!(64&T)){E=x[(65535&E)+(m&(1<<T)-1)];continue e}if(32&T){g.mode=12;break t}S.msg="invalid literal/length code",g.mode=30;break t}k=65535&E,(T&=15)&&(y<T&&(m+=I[i++]<<y,y+=8),k+=m&(1<<T)-1,m>>>=T,y-=T),y<15&&(m+=I[i++]<<y,y+=8,m+=I[i++]<<y,y+=8),E=b[m&C];i:for(;;){if(m>>>=T=E>>>24,y-=T,!(16&(T=E>>>16&255))){if(!(64&T)){E=b[(65535&E)+(m&(1<<T)-1)];continue i}S.msg="invalid distance code",g.mode=30;break t}if(P=65535&E,y<(T&=15)&&(m+=I[i++]<<y,(y+=8)<T&&(m+=I[i++]<<y,y+=8)),u<(P+=m&(1<<T)-1)){S.msg="invalid distance too far back",g.mode=30;break t}if(m>>>=T,y-=T,(T=v-f)<P){if(d<(T=P-T)&&g.sane){S.msg="invalid distance too far back",g.mode=30;break t}if(M=l,(R=0)===p){if(R+=o-T,T<k){for(k-=T;B[v++]=l[R++],--T;);R=v-P,M=B}}else if(p<T){if(R+=o+p-T,(T-=p)<k){for(k-=T;B[v++]=l[R++],--T;);if(R=0,p<k){for(k-=T=p;B[v++]=l[R++],--T;);R=v-P,M=B}}}else if(R+=p-T,T<k){for(k-=T;B[v++]=l[R++],--T;);R=v-P,M=B}for(;2<k;)B[v++]=M[R++],B[v++]=M[R++],B[v++]=M[R++],k-=3;k&&(B[v++]=M[R++],1<k&&(B[v++]=M[R++]))}else{for(R=v-P;B[v++]=B[R++],B[v++]=B[R++],B[v++]=B[R++],2<(k-=3););k&&(B[v++]=B[R++],1<k&&(B[v++]=B[R++]))}break}}break}}while(i<a&&v<h);i-=k=y>>3,m&=(1<<(y-=k<<3))-1,S.next_in=i,S.next_out=v,S.avail_in=i<a?a-i+5:5-(i-a),S.avail_out=v<h?h-v+257:257-(v-h),g.hold=m,g.bits=y}},{}],49:[function(r,n,c){var S=r("../utils/common"),s=r("./adler32"),g=r("./crc32"),i=r("./inffast"),a=r("./inftrees"),v=1,f=2,h=0,u=-2,o=1,d=852,p=592;function l(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new S.Buf16(320),this.work=new S.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(R){var M;return R&&R.state?(M=R.state,R.total_in=R.total_out=M.total=0,R.msg="",M.wrap&&(R.adler=1&M.wrap),M.mode=o,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new S.Buf32(d),M.distcode=M.distdyn=new S.Buf32(p),M.sane=1,M.back=-1,h):u}function x(R){var M;return R&&R.state?((M=R.state).wsize=0,M.whave=0,M.wnext=0,y(R)):u}function b(R,M){var I,B;return R&&R.state?(B=R.state,M<0?(I=0,M=-M):(I=1+(M>>4),M<48&&(M&=15)),M&&(M<8||15<M)?u:(B.window!==null&&B.wbits!==M&&(B.window=null),B.wrap=I,B.wbits=M,x(R))):u}function w(R,M){var I,B;return R?(B=new m,(R.state=B).window=null,(I=b(R,M))!==h&&(R.state=null),I):u}var C,E,T=!0;function k(R){if(T){var M;for(C=new S.Buf32(512),E=new S.Buf32(32),M=0;M<144;)R.lens[M++]=8;for(;M<256;)R.lens[M++]=9;for(;M<280;)R.lens[M++]=7;for(;M<288;)R.lens[M++]=8;for(a(v,R.lens,0,288,C,0,R.work,{bits:9}),M=0;M<32;)R.lens[M++]=5;a(f,R.lens,0,32,E,0,R.work,{bits:5}),T=!1}R.lencode=C,R.lenbits=9,R.distcode=E,R.distbits=5}function P(R,M,I,B){var D,N=R.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new S.Buf8(N.wsize)),B>=N.wsize?(S.arraySet(N.window,M,I-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(B<(D=N.wsize-N.wnext)&&(D=B),S.arraySet(N.window,M,I-B,D,N.wnext),(B-=D)?(S.arraySet(N.window,M,I-B,B,0),N.wnext=B,N.whave=N.wsize):(N.wnext+=D,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=D))),0}c.inflateReset=x,c.inflateReset2=b,c.inflateResetKeep=y,c.inflateInit=function(R){return w(R,15)},c.inflateInit2=w,c.inflate=function(R,M){var I,B,D,N,_,G,$,V,Y,U,F,O,j,z,W,q,ot,Q,rt,Mt,K,It,Ft,ft,yt=0,At=new S.Buf8(4),Bt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return u;(I=R.state).mode===12&&(I.mode=13),_=R.next_out,D=R.output,$=R.avail_out,N=R.next_in,B=R.input,G=R.avail_in,V=I.hold,Y=I.bits,U=G,F=$,It=h;t:for(;;)switch(I.mode){case o:if(I.wrap===0){I.mode=13;break}for(;Y<16;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}if(2&I.wrap&&V===35615){At[I.check=0]=255&V,At[1]=V>>>8&255,I.check=g(I.check,At,2,0),Y=V=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&V)<<8)+(V>>8))%31){R.msg="incorrect header check",I.mode=30;break}if((15&V)!=8){R.msg="unknown compression method",I.mode=30;break}if(Y-=4,K=8+(15&(V>>>=4)),I.wbits===0)I.wbits=K;else if(K>I.wbits){R.msg="invalid window size",I.mode=30;break}I.dmax=1<<K,R.adler=I.check=1,I.mode=512&V?10:12,Y=V=0;break;case 2:for(;Y<16;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}if(I.flags=V,(255&I.flags)!=8){R.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){R.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=V>>8&1),512&I.flags&&(At[0]=255&V,At[1]=V>>>8&255,I.check=g(I.check,At,2,0)),Y=V=0,I.mode=3;case 3:for(;Y<32;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}I.head&&(I.head.time=V),512&I.flags&&(At[0]=255&V,At[1]=V>>>8&255,At[2]=V>>>16&255,At[3]=V>>>24&255,I.check=g(I.check,At,4,0)),Y=V=0,I.mode=4;case 4:for(;Y<16;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}I.head&&(I.head.xflags=255&V,I.head.os=V>>8),512&I.flags&&(At[0]=255&V,At[1]=V>>>8&255,I.check=g(I.check,At,2,0)),Y=V=0,I.mode=5;case 5:if(1024&I.flags){for(;Y<16;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}I.length=V,I.head&&(I.head.extra_len=V),512&I.flags&&(At[0]=255&V,At[1]=V>>>8&255,I.check=g(I.check,At,2,0)),Y=V=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(G<(O=I.length)&&(O=G),O&&(I.head&&(K=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),S.arraySet(I.head.extra,B,N,O,K)),512&I.flags&&(I.check=g(I.check,B,O,N)),G-=O,N+=O,I.length-=O),I.length))break t;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(G===0)break t;for(O=0;K=B[N+O++],I.head&&K&&I.length<65536&&(I.head.name+=String.fromCharCode(K)),K&&O<G;);if(512&I.flags&&(I.check=g(I.check,B,O,N)),G-=O,N+=O,K)break t}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(G===0)break t;for(O=0;K=B[N+O++],I.head&&K&&I.length<65536&&(I.head.comment+=String.fromCharCode(K)),K&&O<G;);if(512&I.flags&&(I.check=g(I.check,B,O,N)),G-=O,N+=O,K)break t}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;Y<16;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}if(V!==(65535&I.check)){R.msg="header crc mismatch",I.mode=30;break}Y=V=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),R.adler=I.check=0,I.mode=12;break;case 10:for(;Y<32;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}R.adler=I.check=l(V),Y=V=0,I.mode=11;case 11:if(I.havedict===0)return R.next_out=_,R.avail_out=$,R.next_in=N,R.avail_in=G,I.hold=V,I.bits=Y,2;R.adler=I.check=1,I.mode=12;case 12:if(M===5||M===6)break t;case 13:if(I.last){V>>>=7&Y,Y-=7&Y,I.mode=27;break}for(;Y<3;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}switch(I.last=1&V,Y-=1,3&(V>>>=1)){case 0:I.mode=14;break;case 1:if(k(I),I.mode=20,M!==6)break;V>>>=2,Y-=2;break t;case 2:I.mode=17;break;case 3:R.msg="invalid block type",I.mode=30}V>>>=2,Y-=2;break;case 14:for(V>>>=7&Y,Y-=7&Y;Y<32;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}if((65535&V)!=(V>>>16^65535)){R.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&V,Y=V=0,I.mode=15,M===6)break t;case 15:I.mode=16;case 16:if(O=I.length){if(G<O&&(O=G),$<O&&(O=$),O===0)break t;S.arraySet(D,B,N,O,_),G-=O,N+=O,$-=O,_+=O,I.length-=O;break}I.mode=12;break;case 17:for(;Y<14;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}if(I.nlen=257+(31&V),V>>>=5,Y-=5,I.ndist=1+(31&V),V>>>=5,Y-=5,I.ncode=4+(15&V),V>>>=4,Y-=4,286<I.nlen||30<I.ndist){R.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;Y<3;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}I.lens[Bt[I.have++]]=7&V,V>>>=3,Y-=3}for(;I.have<19;)I.lens[Bt[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,Ft={bits:I.lenbits},It=a(0,I.lens,0,19,I.lencode,0,I.work,Ft),I.lenbits=Ft.bits,It){R.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;q=(yt=I.lencode[V&(1<<I.lenbits)-1])>>>16&255,ot=65535&yt,!((W=yt>>>24)<=Y);){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}if(ot<16)V>>>=W,Y-=W,I.lens[I.have++]=ot;else{if(ot===16){for(ft=W+2;Y<ft;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}if(V>>>=W,Y-=W,I.have===0){R.msg="invalid bit length repeat",I.mode=30;break}K=I.lens[I.have-1],O=3+(3&V),V>>>=2,Y-=2}else if(ot===17){for(ft=W+3;Y<ft;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}Y-=W,K=0,O=3+(7&(V>>>=W)),V>>>=3,Y-=3}else{for(ft=W+7;Y<ft;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}Y-=W,K=0,O=11+(127&(V>>>=W)),V>>>=7,Y-=7}if(I.have+O>I.nlen+I.ndist){R.msg="invalid bit length repeat",I.mode=30;break}for(;O--;)I.lens[I.have++]=K}}if(I.mode===30)break;if(I.lens[256]===0){R.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,Ft={bits:I.lenbits},It=a(v,I.lens,0,I.nlen,I.lencode,0,I.work,Ft),I.lenbits=Ft.bits,It){R.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,Ft={bits:I.distbits},It=a(f,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,Ft),I.distbits=Ft.bits,It){R.msg="invalid distances set",I.mode=30;break}if(I.mode=20,M===6)break t;case 20:I.mode=21;case 21:if(6<=G&&258<=$){R.next_out=_,R.avail_out=$,R.next_in=N,R.avail_in=G,I.hold=V,I.bits=Y,i(R,F),_=R.next_out,D=R.output,$=R.avail_out,N=R.next_in,B=R.input,G=R.avail_in,V=I.hold,Y=I.bits,I.mode===12&&(I.back=-1);break}for(I.back=0;q=(yt=I.lencode[V&(1<<I.lenbits)-1])>>>16&255,ot=65535&yt,!((W=yt>>>24)<=Y);){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}if(q&&!(240&q)){for(Q=W,rt=q,Mt=ot;q=(yt=I.lencode[Mt+((V&(1<<Q+rt)-1)>>Q)])>>>16&255,ot=65535&yt,!(Q+(W=yt>>>24)<=Y);){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}V>>>=Q,Y-=Q,I.back+=Q}if(V>>>=W,Y-=W,I.back+=W,I.length=ot,q===0){I.mode=26;break}if(32&q){I.back=-1,I.mode=12;break}if(64&q){R.msg="invalid literal/length code",I.mode=30;break}I.extra=15&q,I.mode=22;case 22:if(I.extra){for(ft=I.extra;Y<ft;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}I.length+=V&(1<<I.extra)-1,V>>>=I.extra,Y-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;q=(yt=I.distcode[V&(1<<I.distbits)-1])>>>16&255,ot=65535&yt,!((W=yt>>>24)<=Y);){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}if(!(240&q)){for(Q=W,rt=q,Mt=ot;q=(yt=I.distcode[Mt+((V&(1<<Q+rt)-1)>>Q)])>>>16&255,ot=65535&yt,!(Q+(W=yt>>>24)<=Y);){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}V>>>=Q,Y-=Q,I.back+=Q}if(V>>>=W,Y-=W,I.back+=W,64&q){R.msg="invalid distance code",I.mode=30;break}I.offset=ot,I.extra=15&q,I.mode=24;case 24:if(I.extra){for(ft=I.extra;Y<ft;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}I.offset+=V&(1<<I.extra)-1,V>>>=I.extra,Y-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){R.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if($===0)break t;if(O=F-$,I.offset>O){if((O=I.offset-O)>I.whave&&I.sane){R.msg="invalid distance too far back",I.mode=30;break}j=O>I.wnext?(O-=I.wnext,I.wsize-O):I.wnext-O,O>I.length&&(O=I.length),z=I.window}else z=D,j=_-I.offset,O=I.length;for($<O&&(O=$),$-=O,I.length-=O;D[_++]=z[j++],--O;);I.length===0&&(I.mode=21);break;case 26:if($===0)break t;D[_++]=I.length,$--,I.mode=21;break;case 27:if(I.wrap){for(;Y<32;){if(G===0)break t;G--,V|=B[N++]<<Y,Y+=8}if(F-=$,R.total_out+=F,I.total+=F,F&&(R.adler=I.check=I.flags?g(I.check,D,F,_-F):s(I.check,D,F,_-F)),F=$,(I.flags?V:l(V))!==I.check){R.msg="incorrect data check",I.mode=30;break}Y=V=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;Y<32;){if(G===0)break t;G--,V+=B[N++]<<Y,Y+=8}if(V!==(4294967295&I.total)){R.msg="incorrect length check",I.mode=30;break}Y=V=0}I.mode=29;case 29:It=1;break t;case 30:It=-3;break t;case 31:return-4;case 32:default:return u}return R.next_out=_,R.avail_out=$,R.next_in=N,R.avail_in=G,I.hold=V,I.bits=Y,(I.wsize||F!==R.avail_out&&I.mode<30&&(I.mode<27||M!==4))&&P(R,R.output,R.next_out,F-R.avail_out)?(I.mode=31,-4):(U-=R.avail_in,F-=R.avail_out,R.total_in+=U,R.total_out+=F,I.total+=F,I.wrap&&F&&(R.adler=I.check=I.flags?g(I.check,D,F,R.next_out-F):s(I.check,D,F,R.next_out-F)),R.data_type=I.bits+(I.last?64:0)+(I.mode===12?128:0)+(I.mode===20||I.mode===15?256:0),(U==0&&F===0||M===4)&&It===h&&(It=-5),It)},c.inflateEnd=function(R){if(!R||!R.state)return u;var M=R.state;return M.window&&(M.window=null),R.state=null,h},c.inflateGetHeader=function(R,M){var I;return R&&R.state&&2&(I=R.state).wrap?((I.head=M).done=!1,h):u},c.inflateSetDictionary=function(R,M){var I,B=M.length;return R&&R.state?(I=R.state).wrap!==0&&I.mode!==11?u:I.mode===11&&s(1,M,B,0)!==I.check?-3:P(R,M,B,B)?(I.mode=31,-4):(I.havedict=1,h):u},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,c){var S=r("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(v,f,h,u,o,d,p,l){var m,y,x,b,w,C,E,T,k,P=l.bits,R=0,M=0,I=0,B=0,D=0,N=0,_=0,G=0,$=0,V=0,Y=null,U=0,F=new S.Buf16(16),O=new S.Buf16(16),j=null,z=0;for(R=0;R<=15;R++)F[R]=0;for(M=0;M<u;M++)F[f[h+M]]++;for(D=P,B=15;1<=B&&F[B]===0;B--);if(B<D&&(D=B),B===0)return o[d++]=20971520,o[d++]=20971520,l.bits=1,0;for(I=1;I<B&&F[I]===0;I++);for(D<I&&(D=I),R=G=1;R<=15;R++)if(G<<=1,(G-=F[R])<0)return-1;if(0<G&&(v===0||B!==1))return-1;for(O[1]=0,R=1;R<15;R++)O[R+1]=O[R]+F[R];for(M=0;M<u;M++)f[h+M]!==0&&(p[O[f[h+M]]++]=M);if(C=v===0?(Y=j=p,19):v===1?(Y=s,U-=257,j=g,z-=257,256):(Y=i,j=a,-1),R=I,w=d,_=M=V=0,x=-1,b=($=1<<(N=D))-1,v===1&&852<$||v===2&&592<$)return 1;for(;;){for(E=R-_,k=p[M]<C?(T=0,p[M]):p[M]>C?(T=j[z+p[M]],Y[U+p[M]]):(T=96,0),m=1<<R-_,I=y=1<<N;o[w+(V>>_)+(y-=m)]=E<<24|T<<16|k|0,y!==0;);for(m=1<<R-1;V&m;)m>>=1;if(m!==0?(V&=m-1,V+=m):V=0,M++,--F[R]==0){if(R===B)break;R=f[h+p[M]]}if(D<R&&(V&b)!==x){for(_===0&&(_=D),w+=I,G=1<<(N=R-_);N+_<B&&!((G-=F[N+_])<=0);)N++,G<<=1;if($+=1<<N,v===1&&852<$||v===2&&592<$)return 1;o[x=V&b]=D<<24|N<<16|w-d|0}}return V!==0&&(o[w+V]=R-_<<24|64<<16|0),l.bits=D,0}},{"../utils/common":41}],51:[function(r,n,c){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,c){var S=r("../utils/common"),s=0,g=1;function i(yt){for(var At=yt.length;0<=--At;)yt[At]=0}var a=0,v=29,f=256,h=f+1+v,u=30,o=19,d=2*h+1,p=15,l=16,m=7,y=256,x=16,b=17,w=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(h+2));i(P);var R=new Array(2*u);i(R);var M=new Array(512);i(M);var I=new Array(256);i(I);var B=new Array(v);i(B);var D,N,_,G=new Array(u);function $(yt,At,Bt,le,_t){this.static_tree=yt,this.extra_bits=At,this.extra_base=Bt,this.elems=le,this.max_length=_t,this.has_stree=yt&&yt.length}function V(yt,At){this.dyn_tree=yt,this.max_code=0,this.stat_desc=At}function Y(yt){return yt<256?M[yt]:M[256+(yt>>>7)]}function U(yt,At){yt.pending_buf[yt.pending++]=255&At,yt.pending_buf[yt.pending++]=At>>>8&255}function F(yt,At,Bt){yt.bi_valid>l-Bt?(yt.bi_buf|=At<<yt.bi_valid&65535,U(yt,yt.bi_buf),yt.bi_buf=At>>l-yt.bi_valid,yt.bi_valid+=Bt-l):(yt.bi_buf|=At<<yt.bi_valid&65535,yt.bi_valid+=Bt)}function O(yt,At,Bt){F(yt,Bt[2*At],Bt[2*At+1])}function j(yt,At){for(var Bt=0;Bt|=1&yt,yt>>>=1,Bt<<=1,0<--At;);return Bt>>>1}function z(yt,At,Bt){var le,_t,xe=new Array(p+1),Ee=0;for(le=1;le<=p;le++)xe[le]=Ee=Ee+Bt[le-1]<<1;for(_t=0;_t<=At;_t++){var ve=yt[2*_t+1];ve!==0&&(yt[2*_t]=j(xe[ve]++,ve))}}function W(yt){var At;for(At=0;At<h;At++)yt.dyn_ltree[2*At]=0;for(At=0;At<u;At++)yt.dyn_dtree[2*At]=0;for(At=0;At<o;At++)yt.bl_tree[2*At]=0;yt.dyn_ltree[2*y]=1,yt.opt_len=yt.static_len=0,yt.last_lit=yt.matches=0}function q(yt){8<yt.bi_valid?U(yt,yt.bi_buf):0<yt.bi_valid&&(yt.pending_buf[yt.pending++]=yt.bi_buf),yt.bi_buf=0,yt.bi_valid=0}function ot(yt,At,Bt,le){var _t=2*At,xe=2*Bt;return yt[_t]<yt[xe]||yt[_t]===yt[xe]&&le[At]<=le[Bt]}function Q(yt,At,Bt){for(var le=yt.heap[Bt],_t=Bt<<1;_t<=yt.heap_len&&(_t<yt.heap_len&&ot(At,yt.heap[_t+1],yt.heap[_t],yt.depth)&&_t++,!ot(At,le,yt.heap[_t],yt.depth));)yt.heap[Bt]=yt.heap[_t],Bt=_t,_t<<=1;yt.heap[Bt]=le}function rt(yt,At,Bt){var le,_t,xe,Ee,ve=0;if(yt.last_lit!==0)for(;le=yt.pending_buf[yt.d_buf+2*ve]<<8|yt.pending_buf[yt.d_buf+2*ve+1],_t=yt.pending_buf[yt.l_buf+ve],ve++,le===0?O(yt,_t,At):(O(yt,(xe=I[_t])+f+1,At),(Ee=C[xe])!==0&&F(yt,_t-=B[xe],Ee),O(yt,xe=Y(--le),Bt),(Ee=E[xe])!==0&&F(yt,le-=G[xe],Ee)),ve<yt.last_lit;);O(yt,y,At)}function Mt(yt,At){var Bt,le,_t,xe=At.dyn_tree,Ee=At.stat_desc.static_tree,ve=At.stat_desc.has_stree,Fe=At.stat_desc.elems,Ze=-1;for(yt.heap_len=0,yt.heap_max=d,Bt=0;Bt<Fe;Bt++)xe[2*Bt]!==0?(yt.heap[++yt.heap_len]=Ze=Bt,yt.depth[Bt]=0):xe[2*Bt+1]=0;for(;yt.heap_len<2;)xe[2*(_t=yt.heap[++yt.heap_len]=Ze<2?++Ze:0)]=1,yt.depth[_t]=0,yt.opt_len--,ve&&(yt.static_len-=Ee[2*_t+1]);for(At.max_code=Ze,Bt=yt.heap_len>>1;1<=Bt;Bt--)Q(yt,xe,Bt);for(_t=Fe;Bt=yt.heap[1],yt.heap[1]=yt.heap[yt.heap_len--],Q(yt,xe,1),le=yt.heap[1],yt.heap[--yt.heap_max]=Bt,yt.heap[--yt.heap_max]=le,xe[2*_t]=xe[2*Bt]+xe[2*le],yt.depth[_t]=(yt.depth[Bt]>=yt.depth[le]?yt.depth[Bt]:yt.depth[le])+1,xe[2*Bt+1]=xe[2*le+1]=_t,yt.heap[1]=_t++,Q(yt,xe,1),2<=yt.heap_len;);yt.heap[--yt.heap_max]=yt.heap[1],function(ei,Ci){var xt,et,tt,Ot,ie,Ce,Ne=Ci.dyn_tree,Ui=Ci.max_code,br=Ci.stat_desc.static_tree,ar=Ci.stat_desc.has_stree,vr=Ci.stat_desc.extra_bits,Tr=Ci.stat_desc.extra_base,Bo=Ci.stat_desc.max_length,za=0;for(Ot=0;Ot<=p;Ot++)ei.bl_count[Ot]=0;for(Ne[2*ei.heap[ei.heap_max]+1]=0,xt=ei.heap_max+1;xt<d;xt++)Bo<(Ot=Ne[2*Ne[2*(et=ei.heap[xt])+1]+1]+1)&&(Ot=Bo,za++),Ne[2*et+1]=Ot,Ui<et||(ei.bl_count[Ot]++,ie=0,Tr<=et&&(ie=vr[et-Tr]),Ce=Ne[2*et],ei.opt_len+=Ce*(Ot+ie),ar&&(ei.static_len+=Ce*(br[2*et+1]+ie)));if(za!==0){do{for(Ot=Bo-1;ei.bl_count[Ot]===0;)Ot--;ei.bl_count[Ot]--,ei.bl_count[Ot+1]+=2,ei.bl_count[Bo]--,za-=2}while(0<za);for(Ot=Bo;Ot!==0;Ot--)for(et=ei.bl_count[Ot];et!==0;)Ui<(tt=ei.heap[--xt])||(Ne[2*tt+1]!==Ot&&(ei.opt_len+=(Ot-Ne[2*tt+1])*Ne[2*tt],Ne[2*tt+1]=Ot),et--)}}(yt,At),z(xe,Ze,yt.bl_count)}function K(yt,At,Bt){var le,_t,xe=-1,Ee=At[1],ve=0,Fe=7,Ze=4;for(Ee===0&&(Fe=138,Ze=3),At[2*(Bt+1)+1]=65535,le=0;le<=Bt;le++)_t=Ee,Ee=At[2*(le+1)+1],++ve<Fe&&_t===Ee||(ve<Ze?yt.bl_tree[2*_t]+=ve:_t!==0?(_t!==xe&&yt.bl_tree[2*_t]++,yt.bl_tree[2*x]++):ve<=10?yt.bl_tree[2*b]++:yt.bl_tree[2*w]++,xe=_t,Ze=(ve=0)===Ee?(Fe=138,3):_t===Ee?(Fe=6,3):(Fe=7,4))}function It(yt,At,Bt){var le,_t,xe=-1,Ee=At[1],ve=0,Fe=7,Ze=4;for(Ee===0&&(Fe=138,Ze=3),le=0;le<=Bt;le++)if(_t=Ee,Ee=At[2*(le+1)+1],!(++ve<Fe&&_t===Ee)){if(ve<Ze)for(;O(yt,_t,yt.bl_tree),--ve!=0;);else _t!==0?(_t!==xe&&(O(yt,_t,yt.bl_tree),ve--),O(yt,x,yt.bl_tree),F(yt,ve-3,2)):ve<=10?(O(yt,b,yt.bl_tree),F(yt,ve-3,3)):(O(yt,w,yt.bl_tree),F(yt,ve-11,7));xe=_t,Ze=(ve=0)===Ee?(Fe=138,3):_t===Ee?(Fe=6,3):(Fe=7,4)}}i(G);var Ft=!1;function ft(yt,At,Bt,le){F(yt,(a<<1)+(le?1:0),3),function(_t,xe,Ee,ve){q(_t),U(_t,Ee),U(_t,~Ee),S.arraySet(_t.pending_buf,_t.window,xe,Ee,_t.pending),_t.pending+=Ee}(yt,At,Bt)}c._tr_init=function(yt){Ft||(function(){var At,Bt,le,_t,xe,Ee=new Array(p+1);for(_t=le=0;_t<v-1;_t++)for(B[_t]=le,At=0;At<1<<C[_t];At++)I[le++]=_t;for(I[le-1]=_t,_t=xe=0;_t<16;_t++)for(G[_t]=xe,At=0;At<1<<E[_t];At++)M[xe++]=_t;for(xe>>=7;_t<u;_t++)for(G[_t]=xe<<7,At=0;At<1<<E[_t]-7;At++)M[256+xe++]=_t;for(Bt=0;Bt<=p;Bt++)Ee[Bt]=0;for(At=0;At<=143;)P[2*At+1]=8,At++,Ee[8]++;for(;At<=255;)P[2*At+1]=9,At++,Ee[9]++;for(;At<=279;)P[2*At+1]=7,At++,Ee[7]++;for(;At<=287;)P[2*At+1]=8,At++,Ee[8]++;for(z(P,h+1,Ee),At=0;At<u;At++)R[2*At+1]=5,R[2*At]=j(At,5);D=new $(P,C,f+1,h,p),N=new $(R,E,0,u,p),_=new $(new Array(0),T,0,o,m)}(),Ft=!0),yt.l_desc=new V(yt.dyn_ltree,D),yt.d_desc=new V(yt.dyn_dtree,N),yt.bl_desc=new V(yt.bl_tree,_),yt.bi_buf=0,yt.bi_valid=0,W(yt)},c._tr_stored_block=ft,c._tr_flush_block=function(yt,At,Bt,le){var _t,xe,Ee=0;0<yt.level?(yt.strm.data_type===2&&(yt.strm.data_type=function(ve){var Fe,Ze=4093624447;for(Fe=0;Fe<=31;Fe++,Ze>>>=1)if(1&Ze&&ve.dyn_ltree[2*Fe]!==0)return s;if(ve.dyn_ltree[18]!==0||ve.dyn_ltree[20]!==0||ve.dyn_ltree[26]!==0)return g;for(Fe=32;Fe<f;Fe++)if(ve.dyn_ltree[2*Fe]!==0)return g;return s}(yt)),Mt(yt,yt.l_desc),Mt(yt,yt.d_desc),Ee=function(ve){var Fe;for(K(ve,ve.dyn_ltree,ve.l_desc.max_code),K(ve,ve.dyn_dtree,ve.d_desc.max_code),Mt(ve,ve.bl_desc),Fe=o-1;3<=Fe&&ve.bl_tree[2*k[Fe]+1]===0;Fe--);return ve.opt_len+=3*(Fe+1)+5+5+4,Fe}(yt),_t=yt.opt_len+3+7>>>3,(xe=yt.static_len+3+7>>>3)<=_t&&(_t=xe)):_t=xe=Bt+5,Bt+4<=_t&&At!==-1?ft(yt,At,Bt,le):yt.strategy===4||xe===_t?(F(yt,2+(le?1:0),3),rt(yt,P,R)):(F(yt,4+(le?1:0),3),function(ve,Fe,Ze,ei){var Ci;for(F(ve,Fe-257,5),F(ve,Ze-1,5),F(ve,ei-4,4),Ci=0;Ci<ei;Ci++)F(ve,ve.bl_tree[2*k[Ci]+1],3);It(ve,ve.dyn_ltree,Fe-1),It(ve,ve.dyn_dtree,Ze-1)}(yt,yt.l_desc.max_code+1,yt.d_desc.max_code+1,Ee+1),rt(yt,yt.dyn_ltree,yt.dyn_dtree)),W(yt),le&&q(yt)},c._tr_tally=function(yt,At,Bt){return yt.pending_buf[yt.d_buf+2*yt.last_lit]=At>>>8&255,yt.pending_buf[yt.d_buf+2*yt.last_lit+1]=255&At,yt.pending_buf[yt.l_buf+yt.last_lit]=255&Bt,yt.last_lit++,At===0?yt.dyn_ltree[2*Bt]++:(yt.matches++,At--,yt.dyn_ltree[2*(I[Bt]+f+1)]++,yt.dyn_dtree[2*Y(At)]++),yt.last_lit===yt.lit_bufsize-1},c._tr_align=function(yt){F(yt,2,3),O(yt,y,P),function(At){At.bi_valid===16?(U(At,At.bi_buf),At.bi_buf=0,At.bi_valid=0):8<=At.bi_valid&&(At.pending_buf[At.pending++]=255&At.bi_buf,At.bi_buf>>=8,At.bi_valid-=8)}(yt)}},{"../utils/common":41}],53:[function(r,n,c){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,c){(function(S){(function(s,g){if(!s.setImmediate){var i,a,v,f,h=1,u={},o=!1,d=s.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(s);p=p&&p.setTimeout?p:s,i={}.toString.call(s.process)==="[object process]"?function(x){lr.nextTick(function(){m(x)})}:function(){if(s.postMessage&&!s.importScripts){var x=!0,b=s.onmessage;return s.onmessage=function(){x=!1},s.postMessage("","*"),s.onmessage=b,x}}()?(f="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",y,!1):s.attachEvent("onmessage",y),function(x){s.postMessage(f+x,"*")}):s.MessageChannel?((v=new MessageChannel).port1.onmessage=function(x){m(x.data)},function(x){v.port2.postMessage(x)}):d&&"onreadystatechange"in d.createElement("script")?(a=d.documentElement,function(x){var b=d.createElement("script");b.onreadystatechange=function(){m(x),b.onreadystatechange=null,a.removeChild(b),b=null},a.appendChild(b)}):function(x){setTimeout(m,0,x)},p.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var b=new Array(arguments.length-1),w=0;w<b.length;w++)b[w]=arguments[w+1];var C={callback:x,args:b};return u[h]=C,i(h),h++},p.clearImmediate=l}function l(x){delete u[x]}function m(x){if(o)setTimeout(m,0,x);else{var b=u[x];if(b){o=!0;try{(function(w){var C=w.callback,E=w.args;switch(E.length){case 0:C();break;case 1:C(E[0]);break;case 2:C(E[0],E[1]);break;case 3:C(E[0],E[1],E[2]);break;default:C.apply(g,E)}})(b)}finally{l(x),o=!1}}}}function y(x){x.source===s&&typeof x.data=="string"&&x.data.indexOf(f)===0&&m(+x.data.slice(f.length))}})(typeof self=="undefined"?S===void 0?this:S:self)}).call(this,typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(Y_);var T5t=Y_.exports;const C5t=Rs(T5t);var X_={exports:{}};(function(e,t){(function(r,n){n()})(Dm,function(){function r(a,v){return typeof v=="undefined"?v={autoBom:!1}:typeof v!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function n(a,v,f){var h=new XMLHttpRequest;h.open("GET",a),h.responseType="blob",h.onload=function(){i(h.response,v,f)},h.onerror=function(){console.error("could not download file")},h.send()}function c(a){var v=new XMLHttpRequest;v.open("HEAD",a,!1);try{v.send()}catch(f){}return 200<=v.status&&299>=v.status}function S(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(f){var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(v)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof globalThis=="object"&&globalThis.global===globalThis?globalThis:void 0,g=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!g?function(a,v,f){var h=s.URL||s.webkitURL,u=document.createElement("a");v=v||a.name||"download",u.download=v,u.rel="noopener",typeof a=="string"?(u.href=a,u.origin===location.origin?S(u):c(u.href)?n(a,v,f):S(u,u.target="_blank")):(u.href=h.createObjectURL(a),setTimeout(function(){h.revokeObjectURL(u.href)},4e4),setTimeout(function(){S(u)},0))}:"msSaveOrOpenBlob"in navigator?function(a,v,f){if(v=v||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(r(a,f),v);else if(c(a))n(a,v,f);else{var h=document.createElement("a");h.href=a,h.target="_blank",setTimeout(function(){S(h)})}}:function(a,v,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof a=="string")return n(a,v,f);var u=a.type==="application/octet-stream",o=/constructor/i.test(s.HTMLElement)||s.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||u&&o||g)&&typeof FileReader!="undefined"){var p=new FileReader;p.onloadend=function(){var y=p.result;y=d?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=y:location=y,h=null},p.readAsDataURL(a)}else{var l=s.URL||s.webkitURL,m=l.createObjectURL(a);h?h.location=m:location.href=m,h=null,setTimeout(function(){l.revokeObjectURL(m)},4e4)}});s.saveAs=i.saveAs=i,e.exports=i})})(X_);var Q_=X_.exports;const E5t=Rs(Q_),TC="string",k5t="number",D5t=[TC,k5t],A5t="Zipclex config missing property filename",P5t="Zipclex filename can only be of type string",R5t="Zipcelx sheet data is not of type array",I5t="Zipclex sheet data childs is not of type array",M5t='Invalid type supplied in cell config, falling back to "string"',B5t=e=>e.every(t=>Array.isArray(t));var O5t=e=>e.filename?typeof e.filename!="string"?(console.error(P5t),!1):Array.isArray(e.sheet.data)?B5t(e.sheet.data)?!0:(console.error(I5t),!1):(console.error(R5t),!1):(console.error(A5t),!1);const K_=e=>{if(typeof e!="number")return"";const t=Math.floor(e/26),r=String.fromCharCode(97+e%26).toUpperCase();return t===0?r:K_(t-1)+r};var J_=(e,t)=>`${K_(e)}${t}`,N5t=(e,t,r)=>`<c r="${J_(e,r)}" t="inlineStr"><is><t>${KEt(t)}</t></is></c>`,F5t=(e,t,r)=>`<c r="${J_(e,r)}"><v>${t}</v></c>`,L5t=(e,t,r)=>(D5t.indexOf(e.type)===-1&&(console.warn(M5t),e.type=TC),e.type===TC?N5t(t,e.value,r):F5t(t,e.value,r)),_5t=(e,t)=>{const r=t+1,n=e.map((c,S)=>L5t(c,S,r)).join("");return`<row r="${r}">${n}</row>`},j5t=e=>e.map((t,r)=>_5t(t,r)).join(""),U5t=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mx="http://schemas.microsoft.com/office/mac/excel/2008/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:mv="urn:schemas-microsoft-com:mac:vml" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xm="http://schemas.microsoft.com/office/excel/2006/main"><workbookPr/><sheets><sheet state="visible" name="Sheet1" sheetId="1" r:id="rId3"/></sheets><definedNames/><calcPr/></workbook>`,z5t=`<?xml version="1.0" ?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId3" Target="worksheets/sheet1.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet"/>
</Relationships>`,G5t=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>`,H5t=`<?xml version="1.0" ?>
<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">
<Default ContentType="application/xml" Extension="xml"/>
<Default ContentType="application/vnd.openxmlformats-package.relationships+xml" Extension="rels"/>
<Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" PartName="/xl/worksheets/sheet1.xml"/>
<Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" PartName="/xl/workbook.xml"/>
</Types>`,$5t=`<?xml version="1.0" ?>
<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:mv="urn:schemas-microsoft-com:mac:vml" xmlns:mx="http://schemas.microsoft.com/office/mac/excel/2008/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xm="http://schemas.microsoft.com/office/excel/2006/main"><sheetData>{placeholder}</sheetData></worksheet>`;const V5t=e=>{const t=j5t(e);return $5t.replace("{placeholder}",t)};var q5=e=>{if(!O5t(e))throw new Error("Validation failed.");const t=new C5t,r=t.folder("xl");r.file("workbook.xml",U5t),r.file("_rels/workbook.xml.rels",z5t),t.file("_rels/.rels",G5t),t.file("[Content_Types].xml",H5t);const n=V5t(e.sheet.data);return r.file("worksheets/sheet1.xml",n),t.generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}).then(c=>{E5t.saveAs(c,`${e.filename}.xlsx`)})};const W5t="_fullContainer_14lrz_1",Y5t="_setContainer_14lrz_9",X5t="_setText_14lrz_20",Q5t="_row_14lrz_30",K5t="_miniTopContainer_14lrz_38",J5t="_miniTopText_14lrz_50",Z5t="_chartContainer_14lrz_60",q5t="_chartPercentage_14lrz_75",t4t="_chartPercentageSub_14lrz_89",e4t="_column_14lrz_94",i4t="_correctContainer_14lrz_102",r4t="_correctText_14lrz_114",n4t="_textGreen_14lrz_123",s4t="_textRed_14lrz_127",a4t="_deleteButton_14lrz_131",o4t="_iconRight_14lrz_156",l4t="_downloadButton_14lrz_160",u4t="_headerContainer_14lrz_185",h4t="_headerText_14lrz_197",c4t="_sortedContainer_14lrz_206",f4t="_sortedText_14lrz_214",d4t="_sortedButton_14lrz_222",p4t="_sortedSelected_14lrz_244",v4t="_qHolder_14lrz_249",m4t="_questionContainer_14lrz_255",g4t="_questionImageContainer_14lrz_270",y4t="_questionImageButton_14lrz_286",x4t="_questionImage_14lrz_270",b4t="_imageNumber_14lrz_297",S4t="_imageNumberLeft_14lrz_311",w4t="_questionFunc_14lrz_315",T4t="_qMathField_14lrz_323",C4t="_questionCenterContainer_14lrz_331",E4t="_questionWithFunc_14lrz_339",k4t="_questionStatsContainer_14lrz_343",D4t="_questionStats_14lrz_343",A4t="_questionStatsSub_14lrz_371",P4t="_questionText_14lrz_376",R4t="_answerText_14lrz_385",I4t="_questionStatText_14lrz_395",M4t="_standingContainer_14lrz_403",B4t="_playerContainer_14lrz_423",O4t="_accuracyText_14lrz_444",N4t="_accuracySmallText_14lrz_459",F4t="_leftEarlyText_14lrz_465",L4t="_blookImage_14lrz_475",_4t="_nameText_14lrz_482",j4t="_barContainer_14lrz_493",U4t="_correctBar_14lrz_506",z4t="_minBar_14lrz_514",G4t="_barText_14lrz_518",H4t="_scoreRow_14lrz_533",$4t="_pointsText_14lrz_542",V4t="_scoreIcon_14lrz_552",W4t="_fossilIcon_14lrz_559",Y4t="_candyImage_14lrz_567",X4t="_image40_14lrz_574",Q4t="_image60_14lrz_578",K4t="_standingBlook_14lrz_582",J4t="_cashText_14lrz_588",Z4t="_standingQuestion_14lrz_602",q4t="_standingQuestionText_14lrz_615",t6t="_standingAnswer_14lrz_624",e6t="_plusContainer_14lrz_637",i6t="_plusModalContainer_14lrz_649",r6t="_plusTimes_14lrz_662",n6t="_plusText_14lrz_676",s6t="_smallPlus_14lrz_685",a6t="_upgradeButton_14lrz_689",o6t="_standingModalContainer_14lrz_712",l6t="_modalRow_14lrz_744",u6t="_modalBlook_14lrz_752",h6t="_modalColumn_14lrz_757",c6t="_modalDesc_14lrz_772",f6t="_modalStats_14lrz_777",d6t="_modalQuestionStats_14lrz_783",p6t="_modalStatsText_14lrz_790",v6t="_modalStatsCorrect_14lrz_802",m6t="_modalQuestionColumn_14lrz_807",g6t="_modalQuestionBottom_14lrz_814",y6t="_modalQuestionRow_14lrz_818",x6t="_modalQuestionNum_14lrz_827",b6t="_modalQuestionText_14lrz_832",S6t="_modalQuestionImage_14lrz_839",w6t="_modalFuncContainer_14lrz_845",T6t="_qModalMathField_14lrz_853",C6t="_mainDivider_14lrz_861",E6t="_divider_14lrz_870",k6t="_modalButton_14lrz_879",D6t="_spacer_14lrz_890",Oe={fullContainer:W5t,setContainer:Y5t,setText:X5t,row:Q5t,miniTopContainer:K5t,miniTopText:J5t,chartContainer:Z5t,chartPercentage:q5t,chartPercentageSub:t4t,column:e4t,correctContainer:i4t,correctText:r4t,textGreen:n4t,textRed:s4t,deleteButton:a4t,iconRight:o4t,downloadButton:l4t,headerContainer:u4t,headerText:h4t,sortedContainer:c4t,sortedText:f4t,sortedButton:d4t,sortedSelected:p4t,qHolder:v4t,questionContainer:m4t,questionImageContainer:g4t,questionImageButton:y4t,questionImage:x4t,imageNumber:b4t,imageNumberLeft:S4t,questionFunc:w4t,qMathField:T4t,questionCenterContainer:C4t,questionWithFunc:E4t,questionStatsContainer:k4t,questionStats:D4t,questionStatsSub:A4t,questionText:P4t,answerText:R4t,questionStatText:I4t,standingContainer:M4t,playerContainer:B4t,accuracyText:O4t,accuracySmallText:N4t,leftEarlyText:F4t,blookImage:L4t,nameText:_4t,barContainer:j4t,correctBar:U4t,minBar:z4t,barText:G4t,scoreRow:H4t,pointsText:$4t,scoreIcon:V4t,fossilIcon:W4t,candyImage:Y4t,image40:X4t,image60:Q4t,standingBlook:K4t,cashText:J4t,standingQuestion:Z4t,standingQuestionText:q4t,standingAnswer:t6t,plusContainer:e6t,plusModalContainer:i6t,plusTimes:r6t,plusText:n6t,smallPlus:s6t,upgradeButton:a6t,standingModalContainer:o6t,modalRow:l6t,modalBlook:u6t,modalColumn:h6t,modalDesc:c6t,modalStats:f6t,modalQuestionStats:d6t,modalStatsText:p6t,modalStatsCorrect:v6t,modalQuestionColumn:m6t,modalQuestionBottom:g6t,modalQuestionRow:y6t,modalQuestionNum:x6t,modalQuestionText:b6t,modalQuestionImage:S6t,modalFuncContainer:w6t,qModalMathField:T6t,mainDivider:C6t,divider:E6t,modalButton:k6t,spacer:D6t};Ln.addStyles();mp.register(a0);const gg=(e,t)=>({datasets:[{data:[e,t,!e&&!t?1:0],backgroundColor:["#4bc22e","#c43a35","#737373"],hoverBackgroundColor:["#4bc22e","#c43a35","#737373"]}]});class Z_ extends ti.Component{constructor(t){super(t),this.state={ready:!1,set:"",date:"",type:"",numPlayers:0,corrects:0,incorrects:0,questions:[],stdQuestions:[],standings:[],plus:!1,deleteCheck:!1,loading:!1,sortedBy:"number",plusModal:!1,standingShown:{},zoomedImage:"",user:null},this.here=!0,this.loading=!1,this.id="",this.onDeleteConfirm=this.onDeleteConfirm.bind(this),this.changeSort=this.changeSort.bind(this),this.downloadResult=this.downloadResult.bind(this)}componentDidMount(){return oi(this,null,function*(){if(!this.props.match.params.id)return;this.id=this.props.match.params.id;const t=yield this.props.user.getData();if(!t){Ue.logError("HistoryGamePage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}this.setState({user:t}),vi.get("/api/history/byid",{params:{id:this.props.match.params.id}}).then(r=>{const n=r.data;if(!n||!n.date){this.setState({ready:!0});return}const c=n.settings.type;let S=0;n.settings.mode==="Teams"||n.settings.team?n.standings.forEach(f=>{S+=Object.keys(f.players).length}):S=n.standings.length;let s=0,g=0;const i={};for(let f=0;f<n.questions.length;f++)i[n.questions[f].num]=[0,0];const a=[];n.standings.forEach(f=>{if(n.settings.mode==="Teams"){let h=0,u=0;const o={},d={},p=[];f.players.forEach(l=>{let m=0;l.corrects&&Object.entries(l.corrects).forEach(([x,b])=>{s+=b,i[x][0]+=b,o[x]+=b,m+=b,h+=b});let y=0;l.incorrects&&Object.entries(l.incorrects).forEach(([x,b])=>{g+=b,i[x][1]+=b,d[x]+=b,y+=b,u+=b}),p.push(Or(ji({},l),{place:f.place,numCorrects:m,numIncorrects:y}))}),a.push(Or(ji({},f),{corrects:o,incorrects:d,numCorrects:h,numIncorrects:u,players:p}))}else{let h=0;f.corrects&&Object.entries(f.corrects).forEach(([o,d])=>{s+=d,i[o][0]+=d,h+=d});let u=0;f.incorrects&&Object.entries(f.incorrects).forEach(([o,d])=>{g+=d,i[o][1]+=d,u+=d}),a.push(Or(ji({},f),{numCorrects:h,numIncorrects:u}))}});const v=n.questions.map(f=>Or(ji({},f),{corrects:i[f.num][0],incorrects:i[f.num][1]}));v.sort((f,h)=>f.num-h.num),this.here&&this.setState({ready:!0,set:n.set,date:ui(n.date).format("MM/DD/YY"),numPlayers:S,corrects:s,incorrects:g,standings:a,questions:v,stdQuestions:v,type:c})}).catch(r=>{this.setState({ready:!0}),Ue.logError(r)}),vi.get("/api/users/plan").then(r=>{this.here&&this.setState({plus:r.data.hasPlus})}).catch(r=>{Ue.logError(r)})})}componentWillUnmount(){this.here=!1}onDeleteConfirm(t){this.loading||(this.loading=!0,t?(this.setState({loading:!0}),vi.delete("/api/history",{params:{id:this.id,name:this.state.user.name}}).then(()=>{this.here&&this.props.history.push("/history")}).catch(r=>{Ue.logError(r)})):(this.loading=!1,this.setState({deleteCheck:!1})))}changeSort(t){const r=JSON.parse(JSON.stringify(this.state.questions));t==="number"?r.sort((n,c)=>n.num-c.num):t==="incorrects"&&r.sort((n,c)=>{const S=n.corrects/Math.max(n.corrects+n.incorrects,1),s=c.corrects/Math.max(c.corrects+c.incorrects,1);return S===1&&s===1?n.corrects-c.corrects:S===s?c.incorrects-n.incorrects:S-s}),this.setState({questions:r,sortedBy:t})}downloadResult(){const t=[[{value:"Name"},{value:"Blook"},{value:"Corrects"},{value:"Incorrects"},{value:"Percentage"},{value:this.state.type==="Racing"?"Progress":this.state.type==="Royale"?"Wins":this.state.type==="Classic"?"Points":this.state.type==="Candy"?"Candy":this.state.type==="Gold"?"Gold":this.state.type==="Shamrock"?"Shamrocks":this.state.type==="Snow"?"Snow":this.state.type==="Toy"?"Toys":this.state.type==="Defense"||this.state.type==="Defense2"?"Damage":this.state.type==="Hack"?"Crypto":this.state.type==="Fish"?"Weight":this.state.type==="Pirate"?"Doubloons":this.state.type==="Rush"?"Blooks":this.state.type==="Dino"?"Fossils":this.state.type==="Brawl"?"XP":"Cash"}]];this.state.standings.forEach(n=>{t.push([{value:n.name},{value:om(n.blook)},{value:n.numCorrects,type:"number"},{value:n.numIncorrects,type:"number"},{value:Math.round(n.numCorrects/(n.numCorrects+n.numIncorrects||1)*100),type:"number"},{value:this.state.type==="Racing"?n.progress:this.state.type==="Royale"?n.wins:this.state.type==="Classic"?n.points:this.state.type==="Gold"||this.state.type==="Candy"?n.gold:this.state.type==="Shamrock"?n.shamrocks:this.state.type==="Snow"?n.health:this.state.type==="Toy"?n.toys:this.state.type==="Defense"||this.state.type==="Defense2"?n.dmg:this.state.type==="Hack"?n.crypto:this.state.type==="Fish"?n.weight:this.state.type==="Pirate"?n.doubloons:this.state.type==="Rush"?n.numBlooks:this.state.type==="Dino"?n.fossils:this.state.type==="Brawl"?n.xp:n.cash,type:"number"}])});const r={filename:this.state.date&&this.state.date.includes("/")?`Blooket Results - ${this.state.date.replaceAll("/","-")}`:"Blooket Results",sheet:{data:t}};q5(r)}render(){if(!this.props.match.params.id){Ue.logError("HistoryGamePage cannot be rendered without id"),window.location.href=`${nr.id}/login`;return}if(this.state.ready&&!this.state.set)return Ue.logError("HistoryGamePage cannot be rendered without this.state.set"),A.jsx(hc,{to:"/404"});let t={},r={};return this.state.standingShown.name&&(t=this.state.standingShown.corrects||{},r=this.state.standingShown.incorrects||{}),A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"History | Blooket",desc:"View your recent games and review how the players performed and what questions were most missed."}),A.jsx(qs,{user:this.state.user,page:"History"}),A.jsx("div",{className:He.profileBodyMax,children:this.state.ready?A.jsxs("div",{className:Oe.fullContainer,children:[A.jsx("div",{className:Oe.setContainer,children:A.jsx("div",{className:Oe.setText,children:this.state.set})}),A.jsxs("div",{className:Oe.row,children:[A.jsxs("div",{className:Oe.column,children:[A.jsx("div",{className:Oe.miniTopContainer,children:A.jsx("div",{className:Oe.miniTopText,children:this.state.date})}),A.jsxs("div",{className:Oe.chartContainer,children:[A.jsx(Xh,{data:gg(this.state.corrects,this.state.incorrects),options:{maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:1500,easing:"easeInQuint"},layout:{padding:15}}}),A.jsxs("div",{className:Oe.chartPercentage,children:[`${Math.round(this.state.corrects/Math.max(this.state.corrects+this.state.incorrects,1)*100)}%`,A.jsx("div",{className:Oe.chartPercentageSub,children:"Correct"})]})]})]}),A.jsxs("div",{className:Oe.column,children:[A.jsx("div",{className:Oe.correctContainer,children:A.jsx("div",{className:Oe.correctText,children:`${this.state.numPlayers} ${this.state.numPlayers===1?"Player":"Players"}`})}),A.jsx("div",{className:Oe.correctContainer,children:A.jsx("div",{className:Ct(Oe.correctText,Oe.textGreen),children:`${Ji(this.state.corrects)} Correct`})}),A.jsx("div",{className:Oe.correctContainer,children:A.jsx("div",{className:Ct(Oe.correctText,Oe.textRed),children:`${Ji(this.state.incorrects)} Incorrect`})}),A.jsxs("div",{className:Oe.deleteButton,role:"button",tabIndex:0,onClick:()=>this.setState({deleteCheck:!0}),children:[A.jsx("i",{className:Ct("fas fa-trash-alt",Oe.iconRight)}),"Delete"]}),this.state.plus?A.jsxs("div",{className:Oe.downloadButton,role:"button",tabIndex:0,onClick:this.downloadResult,children:[A.jsx("i",{className:Ct("fas fa-table",Oe.iconRight)}),"Download"]}):null]})]}),this.state.standings.length>0?A.jsxs("div",{className:Oe.qHolder,children:[A.jsx("div",{className:Oe.headerContainer,children:A.jsx("div",{className:Oe.headerText,children:"Leaderboard"})}),this.state.standings.map(n=>A.jsxs("div",{className:Oe.qHolder,children:[A.jsxs("div",{className:Oe.standingContainer,role:"button",tabIndex:0,onClick:()=>this.setState({plusModal:!this.state.plus,standingShown:this.state.plus?n:{}}),children:[n.numCorrects||n.numIncorrects?A.jsxs("div",{className:Oe.accuracyText,children:[`${Math.round(n.numCorrects/(n.numCorrects+n.numIncorrects)*100)}%`,A.jsx("div",{className:Oe.accuracySmallText,children:"Correct"})]}):A.jsxs("div",{className:Oe.leftEarlyText,children:["Left",A.jsx("br",{}),"Early"]}),A.jsx(xn,{name:n.blook,className:Oe.blookImage}),A.jsx(cC,{className:Oe.nameText,mode:"single",forceSingleModeWidth:!1,min:1,max:26,children:n.name}),A.jsxs("div",{className:Oe.barContainer,children:[A.jsx("div",{className:Ct(Oe.correctBar,{[Oe.minBar]:n.numCorrects}),style:{width:!n.numCorrects&&!n.numIncorrects?"100%":`${n.numCorrects/(n.numCorrects+n.numIncorrects)*100}%`},children:n.numCorrects?A.jsx("div",{className:Oe.barText,children:n.numCorrects}):null}),n.numIncorrects?A.jsx("div",{className:Oe.barText,children:n.numIncorrects}):null]}),this.state.type==="Racing"?A.jsx("div",{className:Oe.cashText,children:n.progress}):this.state.type==="Royale"?A.jsx("div",{className:Oe.cashText,children:`${n.wins} ${n.wins===1?"Win":"Wins"}`}):this.state.type==="Classic"?A.jsx("div",{className:Oe.cashText,children:`${Ji(n.points)} ${n.points===1?"Point":"Points"}`}):this.state.type==="Factory"||this.state.type==="Cafe"?A.jsx("div",{className:Oe.cashText,children:`$${Ji(n.cash)}`}):this.state.type==="Hack"?A.jsx("div",{className:Oe.cashText,children:` ${Ji(n.crypto)}`}):this.state.type==="Fish"?A.jsx("div",{className:Oe.cashText,children:`${Ji(n.weight)} lbs`}):this.state.type==="Defense"?A.jsxs("div",{className:Oe.scoreRow,children:[A.jsx("div",{className:Oe.pointsText,children:Ji(n.dmg)}),A.jsx("i",{className:Ct(Oe.scoreIcon,"fas fa-splotch")})]}):this.state.type==="Defense2"?A.jsxs("div",{className:Oe.scoreRow,children:[A.jsx("div",{className:Oe.pointsText,children:Ji(n.dmg)}),A.jsx("img",{src:Re.basic.DamageIcon,alt:"Damage",className:Oe.candyImage,draggable:!1})]}):this.state.type==="Pirate"?A.jsxs("div",{className:Oe.scoreRow,children:[A.jsx("div",{className:Oe.pointsText,children:Ji(n.doubloons)}),A.jsx("img",{src:Re.basic.doubloon,alt:"Doubloons",className:Oe.candyImage,draggable:!1})]}):this.state.type==="Snow"?A.jsxs("div",{className:Oe.scoreRow,children:[A.jsx("div",{className:Oe.pointsText,children:Ji(n.health)}),A.jsx("i",{className:Ct(Oe.scoreIcon,"far fa-snowflake")})]}):this.state.type==="Dino"?A.jsxs("div",{className:Oe.scoreRow,children:[A.jsx("div",{className:Oe.pointsText,children:Ji(n.fossils)}),A.jsx("i",{className:Ct(Oe.fossilIcon,"fas fa-bone")})]}):this.state.type==="Shamrock"?A.jsxs("div",{className:Oe.scoreRow,children:[A.jsx("div",{className:Oe.pointsText,children:Ji(n.shamrocks)}),A.jsx("img",{src:Re.shamrock.shamrockBlack,alt:"Shamrock",className:Oe.candyImage,draggable:!1})]}):this.state.type==="Gold"?A.jsxs("div",{className:Oe.scoreRow,children:[A.jsx("div",{className:Oe.pointsText,children:Ji(n.gold)}),A.jsx("img",{src:Re.basic.gold,alt:"Gold",className:Ct(Oe.candyImage,Oe.image40),draggable:!1})]}):this.state.type==="Candy"?A.jsxs("div",{className:Oe.scoreRow,children:[A.jsx("div",{className:Oe.pointsText,children:Ji(n.gold)}),A.jsx("img",{src:Re.basic.candy,alt:"Candy",className:Ct(Oe.candyImage,Oe.image40),draggable:!1})]}):this.state.type==="Brawl"?A.jsxs("div",{className:Oe.scoreRow,children:[A.jsx("div",{className:Oe.pointsText,children:Ji(n.xp)}),A.jsx("img",{src:Re.basic.xp,alt:"Xp",className:Ct(Oe.candyImage,Oe.image60),draggable:!1})]}):this.state.type==="Toy"?A.jsxs("div",{className:Oe.scoreRow,children:[A.jsx("div",{className:Oe.pointsText,children:Ji(n.toys)}),A.jsx("img",{src:Re.basic.toy,alt:"Toy",className:Oe.candyImage,draggable:!1})]}):this.state.type==="Rush"?A.jsxs("div",{className:Oe.scoreRow,children:[A.jsx("div",{className:Oe.pointsText,children:Ji(n.numBlooks)}),A.jsx(xn,{name:n.blook,className:Oe.standingBlook})]}):A.jsxs("div",{className:Oe.scoreRow,children:[A.jsx("div",{className:Oe.pointsText,children:Ji(n.candy)}),A.jsx("img",{src:Re.basic.candyDark,alt:"Candy",className:Oe.candyImage,draggable:!1})]})]}),n.players?n.players.map(c=>A.jsxs("div",{className:Oe.playerContainer,role:"button",tabIndex:0,onClick:()=>this.setState({plusModal:!this.state.plus,standingShown:this.state.plus?c:{}}),children:[c.numCorrects||c.numIncorrects?A.jsxs("div",{className:Oe.accuracyText,children:[`${Math.round(c.numCorrects/(c.numCorrects+c.numIncorrects)*100)}%`,A.jsx("div",{className:Oe.accuracySmallText,children:"Correct"})]}):A.jsxs("div",{className:Oe.leftEarlyText,children:["Left",A.jsx("br",{}),"Early"]}),A.jsx(xn,{name:c.blook,className:Oe.blookImage}),A.jsx(cC,{className:Oe.nameText,mode:"single",forceSingleModeWidth:!1,min:1,max:26,children:c.name}),A.jsxs("div",{className:Oe.barContainer,children:[A.jsx("div",{className:Ct(Oe.correctBar,{[Oe.minBar]:c.numCorrects}),style:{width:!c.numCorrects&&!c.numIncorrects?"100%":`${c.numCorrects/(c.numCorrects+c.numIncorrects)*100}%`},children:c.numCorrects?A.jsx("div",{className:Oe.barText,children:c.numCorrects}):null}),c.numIncorrects?A.jsx("div",{className:Oe.barText,children:c.numIncorrects}):null]})]},c.name)):null]},n.name))]}):null,this.state.plus?A.jsxs("div",{className:Oe.qHolder,children:[A.jsx("div",{className:Oe.headerContainer,children:A.jsx("div",{className:Oe.headerText,children:"Questions"})}),A.jsxs("div",{className:Oe.sortedContainer,children:[A.jsx("div",{className:Oe.sortedText,children:"Sorted By:"}),A.jsx("div",{className:Ct(Oe.sortedButton,{[Oe.sortedSelected]:this.state.sortedBy==="number"}),role:"button",tabIndex:0,onClick:()=>this.changeSort("number"),children:"Question #"}),A.jsx("div",{className:Ct(Oe.sortedButton,{[Oe.sortedSelected]:this.state.sortedBy==="incorrects"}),role:"button",tabIndex:0,onClick:()=>this.changeSort("incorrects"),children:"Incorrect %"})]}),this.state.questions.map(n=>A.jsxs("div",{className:Oe.questionContainer,children:[A.jsx("div",{className:Ct(Oe.questionImageContainer,{[Oe.questionImageButton]:n.image}),role:"button",tabIndex:0,onClick:n.image?()=>this.setState({zoomedImage:n.image}):()=>{},children:n.image?A.jsx(Ul,{height:130,width:170,children:A.jsx("img",{src:Dn(n.image),alt:"Question Background",className:Oe.questionImage})}):A.jsx("div",{className:Ct(Oe.imageNumber,{[Oe.imageNumberLeft]:n.image}),children:n.num})}),n.audio?A.jsx("div",{className:Oe.questionFunc,children:A.jsx(fh,{audioUrl:n.audio,width:"45%"})}):n.text.includes("`*`")?A.jsx("div",{className:Oe.questionFunc,children:A.jsx(Ln.StaticMathField,{className:Oe.qMathField,children:n.text.slice(n.text.indexOf("`*`")+3,n.text.length-3)})}):null,A.jsxs("div",{className:Ct(Oe.questionCenterContainer,{[Oe.questionWithFunc]:n.text.includes("`*`")||n.audio}),children:[A.jsx("div",{className:Oe.questionText,children:n.text.includes("`*`")?n.text.slice(0,n.text.indexOf("`*`")):n.text}),A.jsxs("div",{className:Oe.answerText,children:["Answer: ",iN(n.answers)]})]}),A.jsxs("div",{className:Oe.questionStatsContainer,children:[A.jsx(Xh,{data:gg(n.corrects,n.incorrects),options:{cutout:"75%",maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:0},layout:{padding:2}}}),A.jsxs("div",{className:Oe.questionStats,children:[`${n.corrects}/${n.incorrects+n.corrects}`,A.jsx("div",{className:Oe.questionStatsSub,children:"Correct"})]})]})]},n.num))]}):A.jsxs("div",{className:Oe.plusContainer,children:[A.jsx("div",{className:Oe.plusText,children:"Get Blooket Plus For Detailed Game Reports!"}),A.jsx(ss,{className:Oe.upgradeButton,to:"/upgrade",children:"Upgrade"})]}),A.jsx("div",{className:Oe.spacer})]}):null}),this.state.zoomedImage?A.jsx("div",{className:Ct(He.modal,He.modalButton),role:"button",tabIndex:0,onClick:()=>this.setState({zoomedImage:""}),children:A.jsx("img",{src:Dn(this.state.zoomedImage,!0),alt:"Upload",className:He.bigImage,draggable:!1})}):null,this.state.deleteCheck?A.jsx(gr,{text:"Do you really want to delete this history?",loading:this.state.loading,buttonOne:{text:"Yes",click:()=>this.onDeleteConfirm(!0),color:"red"},buttonTwo:{text:"No",click:()=>this.onDeleteConfirm(!1),color:"blue"}}):this.state.plusModal?A.jsx("div",{className:He.modal,children:A.jsxs("div",{className:Oe.plusModalContainer,children:[A.jsx("i",{className:Ct("fas fa-times",Oe.plusTimes),role:"button",tabIndex:0,onClick:()=>this.setState({plusModal:!1})}),A.jsx("div",{className:Ct(Oe.plusText,Oe.smallPlus),children:"Get Blooket Plus For Detailed Game Reports!"}),A.jsx(ss,{className:Oe.upgradeButton,to:"/upgrade",children:"Upgrade"})]})}):this.state.standingShown.name?A.jsxs("div",{className:He.modal,children:[A.jsx("div",{className:Oe.modalButton,role:"button",tabIndex:0,onClick:()=>this.setState({standingShown:{}})}),A.jsxs("div",{className:Oe.standingModalContainer,children:[A.jsx("i",{className:Ct("fas fa-times",Oe.plusTimes),role:"button",tabIndex:0,onClick:()=>this.setState({standingShown:{}})}),A.jsxs("div",{className:Oe.modalRow,children:[A.jsx(xn,{name:this.state.standingShown.blook,className:Oe.modalBlook}),A.jsxs("div",{className:Oe.modalColumn,children:[this.state.standingShown.name,A.jsx("div",{className:Oe.modalDesc,children:`${this.state.standingShown.place}${eN(this.state.standingShown.place)} Place`})]}),A.jsxs("div",{className:Oe.modalStats,children:[A.jsx(Xh,{data:gg(this.state.standingShown.numCorrects,this.state.standingShown.numIncorrects),options:{cutout:"75%",maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:0},layout:{padding:0}}}),A.jsxs("div",{className:Oe.modalStatsText,children:[this.state.standingShown.numCorrects||this.state.standingShown.numIncorrects?`${Math.round(this.state.standingShown.numCorrects/(this.state.standingShown.numCorrects+this.state.standingShown.numIncorrects)*100)}%`:"0%",A.jsx("div",{className:Oe.modalStatsCorrect,children:"Correct"})]})]})]}),A.jsx("div",{className:Oe.mainDivider,children:" "}),this.state.stdQuestions.map((n,c)=>A.jsxs("div",{className:Ct(Oe.modalQuestionColumn,{[Oe.modalQuestionBottom]:c+1===this.state.stdQuestions.length}),children:[A.jsxs("div",{className:Oe.modalQuestionRow,children:[n.audio?A.jsx("div",{className:Oe.modalFuncContainer,children:A.jsx(fh,{audioUrl:n.audio,width:"55%"})}):n.image?A.jsx(Ul,{height:70,width:80,children:A.jsx("img",{src:Dn(n.image),alt:"Question Background",className:Oe.modalQuestionImage})}):n.text.includes("`*`")?A.jsx("div",{className:Oe.modalFuncContainer,children:A.jsx(Ln.StaticMathField,{className:Oe.qModalMathField,children:n.text.slice(n.text.indexOf("`*`")+3,n.text.length-3)})}):null,A.jsx("div",{className:Oe.modalQuestionNum,children:`${n.num}.`}),A.jsx("div",{className:Oe.modalQuestionText,children:n.text.includes("`*`")?n.text.slice(0,n.text.indexOf("`*`")):n.text}),A.jsxs("div",{className:Oe.modalQuestionStats,children:[A.jsx(Xh,{data:gg(Object.keys(t).includes(n.num.toString())?t[n.num]:0,Object.keys(r).includes(n.num.toString())?["Royale","Classic"].includes(this.state.type)?1:r[n.num]:0),options:{cutout:"75%",maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:0},layout:{padding:0}}}),A.jsx("div",{className:Oe.modalStatsText,children:`${Object.keys(t).includes(n.num.toString())?t[n.num]:0}/${(Object.keys(t).includes(n.num.toString())?t[n.num]:0)+(Object.keys(r).includes(n.num.toString())?["Royale","Classic"].includes(this.state.type)?1:r[n.num]:0)}`})]})]}),c+1!==this.state.stdQuestions.length?A.jsx("div",{className:Oe.divider,children:" "}):null]},n.num))]})]}):null]})}}Z_.propTypes={match:Wt.object,history:Wt.object.isRequired,user:Wt.object};const A6t=()=>({}),P6t=e=>ws({},e),R6t=Sn(Ts(Is(A6t,P6t)(Z_)));var Wx={},q_={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},I6t=q_;function tj(e){this.mode=I6t.MODE_8BIT_BYTE,this.data=e}tj.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var M6t=tj,ej={L:1,M:0,Q:3,H:2},yg=ej;function pu(e,t){this.totalCount=e,this.dataCount=t}pu.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];pu.getRSBlocks=function(e,t){var r=pu.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,c=new Array,S=0;S<n;S++)for(var s=r[S*3+0],g=r[S*3+1],i=r[S*3+2],a=0;a<s;a++)c.push(new pu(g,i));return c};pu.getRsBlockTable=function(e,t){switch(t){case yg.L:return pu.RS_BLOCK_TABLE[(e-1)*4+0];case yg.M:return pu.RS_BLOCK_TABLE[(e-1)*4+1];case yg.Q:return pu.RS_BLOCK_TABLE[(e-1)*4+2];case yg.H:return pu.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var B6t=pu;function ij(){this.buffer=new Array,this.length=0}ij.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var O6t=ij,ml={glog:function(e){if(e<1)throw new Error("glog("+e+")");return ml.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return ml.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var na=0;na<8;na++)ml.EXP_TABLE[na]=1<<na;for(var na=8;na<256;na++)ml.EXP_TABLE[na]=ml.EXP_TABLE[na-4]^ml.EXP_TABLE[na-5]^ml.EXP_TABLE[na-6]^ml.EXP_TABLE[na-8];for(var na=0;na<255;na++)ml.LOG_TABLE[ml.EXP_TABLE[na]]=na;var rj=ml,zc=rj;function f1(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}f1.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=zc.gexp(zc.glog(this.get(r))+zc.glog(e.get(n)));return new f1(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=zc.glog(this.get(0))-zc.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=zc.gexp(zc.glog(e.get(n))+t);return new f1(r,0).mod(e)}};var nj=f1,Fo=q_,CA=nj,N6t=rj,Oh={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ea={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;ea.getBCHDigit(t)-ea.getBCHDigit(ea.G15)>=0;)t^=ea.G15<<ea.getBCHDigit(t)-ea.getBCHDigit(ea.G15);return(e<<10|t)^ea.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;ea.getBCHDigit(t)-ea.getBCHDigit(ea.G18)>=0;)t^=ea.G18<<ea.getBCHDigit(t)-ea.getBCHDigit(ea.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return ea.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case Oh.PATTERN000:return(t+r)%2==0;case Oh.PATTERN001:return t%2==0;case Oh.PATTERN010:return r%3==0;case Oh.PATTERN011:return(t+r)%3==0;case Oh.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case Oh.PATTERN101:return t*r%2+t*r%3==0;case Oh.PATTERN110:return(t*r%2+t*r%3)%2==0;case Oh.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new CA([1],0),r=0;r<e;r++)t=t.multiply(new CA([1,N6t.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Fo.MODE_NUMBER:return 10;case Fo.MODE_ALPHA_NUM:return 9;case Fo.MODE_8BIT_BYTE:return 8;case Fo.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Fo.MODE_NUMBER:return 12;case Fo.MODE_ALPHA_NUM:return 11;case Fo.MODE_8BIT_BYTE:return 16;case Fo.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Fo.MODE_NUMBER:return 14;case Fo.MODE_ALPHA_NUM:return 13;case Fo.MODE_8BIT_BYTE:return 16;case Fo.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var c=0;c<t;c++){for(var S=0,s=e.isDark(n,c),g=-1;g<=1;g++)if(!(n+g<0||t<=n+g))for(var i=-1;i<=1;i++)c+i<0||t<=c+i||g==0&&i==0||s==e.isDark(n+g,c+i)&&S++;S>5&&(r+=3+S-5)}for(var n=0;n<t-1;n++)for(var c=0;c<t-1;c++){var a=0;e.isDark(n,c)&&a++,e.isDark(n+1,c)&&a++,e.isDark(n,c+1)&&a++,e.isDark(n+1,c+1)&&a++,(a==0||a==4)&&(r+=3)}for(var n=0;n<t;n++)for(var c=0;c<t-6;c++)e.isDark(n,c)&&!e.isDark(n,c+1)&&e.isDark(n,c+2)&&e.isDark(n,c+3)&&e.isDark(n,c+4)&&!e.isDark(n,c+5)&&e.isDark(n,c+6)&&(r+=40);for(var c=0;c<t;c++)for(var n=0;n<t-6;n++)e.isDark(n,c)&&!e.isDark(n+1,c)&&e.isDark(n+2,c)&&e.isDark(n+3,c)&&e.isDark(n+4,c)&&!e.isDark(n+5,c)&&e.isDark(n+6,c)&&(r+=40);for(var v=0,c=0;c<t;c++)for(var n=0;n<t;n++)e.isDark(n,c)&&v++;var f=Math.abs(100*v/t/t-50)/5;return r+=f*10,r}},F6t=ea,L6t=M6t,sj=B6t,aj=O6t,Dc=F6t,_6t=nj;function xu(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Mo=xu.prototype;Mo.addData=function(e){var t=new L6t(e);this.dataList.push(t),this.dataCache=null};Mo.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};Mo.getModuleCount=function(){return this.moduleCount};Mo.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=sj.getRSBlocks(e,this.errorCorrectLevel),r=new aj,n=0,c=0;c<t.length;c++)n+=t[c].dataCount;for(var c=0;c<this.dataList.length;c++){var S=this.dataList[c];r.put(S.mode,4),r.put(S.getLength(),Dc.getLengthInBits(S.mode,e)),S.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};Mo.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=xu.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};Mo.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)};Mo.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Dc.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t};Mo.createMovieClip=function(e,t,r){var n=e.createEmptyMovieClip(t,r),c=1;this.make();for(var S=0;S<this.modules.length;S++)for(var s=S*c,g=0;g<this.modules[S].length;g++){var i=g*c,a=this.modules[S][g];a&&(n.beginFill(0,100),n.moveTo(i,s),n.lineTo(i+c,s),n.lineTo(i+c,s+c),n.lineTo(i,s+c),n.endFill())}return n};Mo.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};Mo.setupPositionAdjustPattern=function(){for(var e=Dc.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],c=e[r];if(this.modules[n][c]==null)for(var S=-2;S<=2;S++)for(var s=-2;s<=2;s++)S==-2||S==2||s==-2||s==2||S==0&&s==0?this.modules[n+S][c+s]=!0:this.modules[n+S][c+s]=!1}};Mo.setupTypeNumber=function(e){for(var t=Dc.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};Mo.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=Dc.getBCHTypeInfo(r),c=0;c<15;c++){var S=!e&&(n>>c&1)==1;c<6?this.modules[c][8]=S:c<8?this.modules[c+1][8]=S:this.modules[this.moduleCount-15+c][8]=S}for(var c=0;c<15;c++){var S=!e&&(n>>c&1)==1;c<8?this.modules[8][this.moduleCount-c-1]=S:c<9?this.modules[8][15-c-1+1]=S:this.modules[8][15-c-1]=S}this.modules[this.moduleCount-8][8]=!e};Mo.mapData=function(e,t){for(var r=-1,n=this.moduleCount-1,c=7,S=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var g=0;g<2;g++)if(this.modules[n][s-g]==null){var i=!1;S<e.length&&(i=(e[S]>>>c&1)==1);var a=Dc.getMask(t,n,s-g);a&&(i=!i),this.modules[n][s-g]=i,c--,c==-1&&(S++,c=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};xu.PAD0=236;xu.PAD1=17;xu.createData=function(e,t,r){for(var n=sj.getRSBlocks(e,t),c=new aj,S=0;S<r.length;S++){var s=r[S];c.put(s.mode,4),c.put(s.getLength(),Dc.getLengthInBits(s.mode,e)),s.write(c)}for(var g=0,S=0;S<n.length;S++)g+=n[S].dataCount;if(c.getLengthInBits()>g*8)throw new Error("code length overflow. ("+c.getLengthInBits()+">"+g*8+")");for(c.getLengthInBits()+4<=g*8&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;!(c.getLengthInBits()>=g*8||(c.put(xu.PAD0,8),c.getLengthInBits()>=g*8));)c.put(xu.PAD1,8);return xu.createBytes(c,n)};xu.createBytes=function(e,t){for(var r=0,n=0,c=0,S=new Array(t.length),s=new Array(t.length),g=0;g<t.length;g++){var i=t[g].dataCount,a=t[g].totalCount-i;n=Math.max(n,i),c=Math.max(c,a),S[g]=new Array(i);for(var v=0;v<S[g].length;v++)S[g][v]=255&e.buffer[v+r];r+=i;var f=Dc.getErrorCorrectPolynomial(a),h=new _6t(S[g],f.getLength()-1),u=h.mod(f);s[g]=new Array(f.getLength()-1);for(var v=0;v<s[g].length;v++){var o=v+u.getLength()-s[g].length;s[g][v]=o>=0?u.get(o):0}}for(var d=0,v=0;v<t.length;v++)d+=t[v].totalCount;for(var p=new Array(d),l=0,v=0;v<n;v++)for(var g=0;g<t.length;g++)v<S[g].length&&(p[l++]=S[g][v]);for(var v=0;v<c;v++)for(var g=0;g<t.length;g++)v<s[g].length&&(p[l++]=s[g][v]);return p};var j6t=xu,t4={};Object.defineProperty(t4,"__esModule",{value:!0});var U6t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z6t=Jd,Lo=lj(z6t),oj=zi,xg=lj(oj);function lj(e){return e&&e.__esModule?e:{default:e}}function G6t(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var H6t={bgColor:Lo.default.oneOfType([Lo.default.object,Lo.default.string]).isRequired,bgD:Lo.default.string.isRequired,fgColor:Lo.default.oneOfType([Lo.default.object,Lo.default.string]).isRequired,fgD:Lo.default.string.isRequired,size:Lo.default.number.isRequired,title:Lo.default.string,viewBoxSize:Lo.default.number.isRequired,xmlns:Lo.default.string},$6t={title:void 0,xmlns:"http://www.w3.org/2000/svg"},Yx=(0,oj.forwardRef)(function(e,t){var r=e.bgColor,n=e.bgD,c=e.fgD,S=e.fgColor,s=e.size,g=e.title,i=e.viewBoxSize,a=G6t(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize"]);return xg.default.createElement("svg",U6t({},a,{height:s,ref:t,viewBox:"0 0 "+i+" "+i,width:s}),g?xg.default.createElement("title",null,g):null,xg.default.createElement("path",{d:n,fill:r}),xg.default.createElement("path",{d:c,fill:S}))});Yx.displayName="QRCodeSvg";Yx.propTypes=H6t;Yx.defaultProps=$6t;t4.default=Yx;Object.defineProperty(Wx,"__esModule",{value:!0});Wx.QRCode=void 0;var V6t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W6t=j6t,Y6t=o0(W6t),X6t=ej,Q6t=o0(X6t),K6t=Jd,zu=o0(K6t),uj=zi,J6t=o0(uj),Z6t=t4,q6t=o0(Z6t);function o0(e){return e&&e.__esModule?e:{default:e}}function t9t(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var e9t={bgColor:zu.default.oneOfType([zu.default.object,zu.default.string]),fgColor:zu.default.oneOfType([zu.default.object,zu.default.string]),level:zu.default.string,size:zu.default.number,value:zu.default.string.isRequired},i9t={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},l0=(0,uj.forwardRef)(function(e,t){var r=e.bgColor,n=e.fgColor,c=e.level,S=e.size,s=e.value,g=t9t(e,["bgColor","fgColor","level","size","value"]),i=new Y6t.default(-1,Q6t.default[c]);i.addData(s),i.make();var a=i.modules;return J6t.default.createElement(q6t.default,V6t({},g,{bgColor:r,bgD:a.map(function(v,f){return v.map(function(h,u){return h?"":"M "+u+" "+f+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:n,fgD:a.map(function(v,f){return v.map(function(h,u){return h?"M "+u+" "+f+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:S,viewBoxSize:a.length}))});Wx.QRCode=l0;l0.displayName="QRCode";l0.propTypes=e9t;l0.defaultProps=i9t;var r9t=Wx.default=l0;const n9t="_fullContainer_1ou1z_1",s9t="_hwContainer_1ou1z_9",a9t="_hwText_1ou1z_19",o9t="_joinText_1ou1z_36",l9t="_smallJoinText_1ou1z_46",u9t="_linkContainer_1ou1z_54",h9t="_linkText_1ou1z_75",c9t="_copiedNotification_1ou1z_83",f9t="_qrContainer_1ou1z_96",d9t="_endDateText_1ou1z_109",p9t="_downIcon_1ou1z_119",v9t="_refreshButton_1ou1z_129",m9t="_refreshIcon_1ou1z_155",g9t="_refreshRed_1ou1z_160",y9t="_refreshPurple_1ou1z_164",x9t="_setText_1ou1z_168",b9t="_row_1ou1z_186",S9t="_miniTopContainer_1ou1z_194",w9t="_miniTopText_1ou1z_206",T9t="_chartContainer_1ou1z_216",C9t="_chartPercentage_1ou1z_231",E9t="_chartPercentageSub_1ou1z_245",k9t="_column_1ou1z_250",D9t="_correctContainer_1ou1z_258",A9t="_correctText_1ou1z_270",P9t="_textGreen_1ou1z_279",R9t="_textRed_1ou1z_283",I9t="_iconRight_1ou1z_287",M9t="_downloadButton_1ou1z_291",B9t="_headerContainer_1ou1z_316",O9t="_headerText_1ou1z_328",N9t="_sortedContainer_1ou1z_337",F9t="_sortedText_1ou1z_345",L9t="_sortedButton_1ou1z_353",_9t="_sortedSelected_1ou1z_375",j9t="_qHolder_1ou1z_380",U9t="_questionContainer_1ou1z_386",z9t="_questionImageContainer_1ou1z_401",G9t="_questionImageButton_1ou1z_417",H9t="_questionImage_1ou1z_401",$9t="_imageNumber_1ou1z_428",V9t="_imageNumberLeft_1ou1z_442",W9t="_questionFunc_1ou1z_446",Y9t="_qMathField_1ou1z_454",X9t="_questionCenterContainer_1ou1z_462",Q9t="_questionWithFunc_1ou1z_470",K9t="_questionStatsContainer_1ou1z_474",J9t="_questionStats_1ou1z_474",Z9t="_questionStatsSub_1ou1z_502",q9t="_questionText_1ou1z_507",t8t="_answerText_1ou1z_516",e8t="_questionStatText_1ou1z_526",i8t="_keyContainer_1ou1z_534",r8t="_keyGroup_1ou1z_549",n8t="_keyIcon_1ou1z_559",s8t="_standingHolder_1ou1z_564",a8t="_deleteStanding_1ou1z_572",o8t="_deleteIcon_1ou1z_596",l8t="_standingContainer_1ou1z_602",u8t="_accuracyText_1ou1z_626",h8t="_accuracySmallText_1ou1z_641",c8t="_leftEarlyText_1ou1z_647",f8t="_blookImage_1ou1z_657",d8t="_standingIcon_1ou1z_664",p8t="_nameText_1ou1z_672",v8t="_barContainer_1ou1z_683",m8t="_correctBar_1ou1z_696",g8t="_minBar_1ou1z_704",y8t="_barText_1ou1z_708",x8t="_scoreRow_1ou1z_723",b8t="_pointsText_1ou1z_732",S8t="_scoreIcon_1ou1z_742",w8t="_statText_1ou1z_749",T8t="_statIcon_1ou1z_763",C8t="_standingQuestion_1ou1z_768",E8t="_standingQuestionText_1ou1z_781",k8t="_standingAnswer_1ou1z_790",D8t="_plusContainer_1ou1z_803",A8t="_plusModalContainer_1ou1z_815",P8t="_plusTimes_1ou1z_829",R8t="_plusText_1ou1z_843",I8t="_upgradeButton_1ou1z_852",M8t="_standingModalContainer_1ou1z_875",B8t="_modalRow_1ou1z_907",O8t="_modalBlook_1ou1z_915",N8t="_modalIcon_1ou1z_920",F8t="_modalColumn_1ou1z_930",L8t="_modalDesc_1ou1z_945",_8t="_modalStats_1ou1z_950",j8t="_modalQuestionStats_1ou1z_956",U8t="_modalStatsText_1ou1z_963",z8t="_modalStatsCorrect_1ou1z_975",G8t="_modalQuestionColumn_1ou1z_980",H8t="_modalQuestionBottom_1ou1z_987",$8t="_modalQuestionRow_1ou1z_991",V8t="_modalQuestionNum_1ou1z_1000",W8t="_modalQuestionText_1ou1z_1005",Y8t="_modalQuestionImage_1ou1z_1012",X8t="_modalFuncContainer_1ou1z_1018",Q8t="_qModalMathField_1ou1z_1026",K8t="_mainDivider_1ou1z_1034",J8t="_divider_1ou1z_1043",Z8t="_modalButton_1ou1z_1052",Ke={fullContainer:n9t,hwContainer:s9t,hwText:a9t,joinText:o9t,smallJoinText:l9t,linkContainer:u9t,linkText:h9t,copiedNotification:c9t,qrContainer:f9t,endDateText:d9t,downIcon:p9t,refreshButton:v9t,refreshIcon:m9t,refreshRed:g9t,refreshPurple:y9t,setText:x9t,row:b9t,miniTopContainer:S9t,miniTopText:w9t,chartContainer:T9t,chartPercentage:C9t,chartPercentageSub:E9t,column:k9t,correctContainer:D9t,correctText:A9t,textGreen:P9t,textRed:R9t,iconRight:I9t,downloadButton:M9t,headerContainer:B9t,headerText:O9t,sortedContainer:N9t,sortedText:F9t,sortedButton:L9t,sortedSelected:_9t,qHolder:j9t,questionContainer:U9t,questionImageContainer:z9t,questionImageButton:G9t,questionImage:H9t,imageNumber:$9t,imageNumberLeft:V9t,questionFunc:W9t,qMathField:Y9t,questionCenterContainer:X9t,questionWithFunc:Q9t,questionStatsContainer:K9t,questionStats:J9t,questionStatsSub:Z9t,questionText:q9t,answerText:t8t,questionStatText:e8t,keyContainer:i8t,keyGroup:r8t,keyIcon:n8t,standingHolder:s8t,deleteStanding:a8t,deleteIcon:o8t,standingContainer:l8t,accuracyText:u8t,accuracySmallText:h8t,leftEarlyText:c8t,blookImage:f8t,standingIcon:d8t,nameText:p8t,barContainer:v8t,correctBar:m8t,minBar:g8t,barText:y8t,scoreRow:x8t,pointsText:b8t,scoreIcon:S8t,statText:w8t,statIcon:T8t,standingQuestion:C8t,standingQuestionText:E8t,standingAnswer:k8t,plusContainer:D8t,plusModalContainer:A8t,plusTimes:P8t,plusText:R8t,upgradeButton:I8t,standingModalContainer:M8t,modalRow:B8t,modalBlook:O8t,modalIcon:N8t,modalColumn:F8t,modalDesc:L8t,modalStats:_8t,modalQuestionStats:j8t,modalStatsText:U8t,modalStatsCorrect:z8t,modalQuestionColumn:G8t,modalQuestionBottom:H8t,modalQuestionRow:$8t,modalQuestionNum:V8t,modalQuestionText:W8t,modalQuestionImage:Y8t,modalFuncContainer:X8t,qModalMathField:Q8t,mainDivider:K8t,divider:J8t,modalButton:Z8t};Ln.addStyles();mp.register(a0);const q8t=[...Object.keys(EN),...Object.keys(kN),...Object.keys(DN),...Object.keys(AN),...Object.keys(PN),...Object.keys(RN)],EA=e=>{e.sort((t,r)=>{const n=t.corrects/Math.max(t.corrects+t.incorrects,1),c=r.corrects/Math.max(r.corrects+r.incorrects,1);return n===1&&c===1?t.corrects-r.corrects:n===c?r.incorrects-t.incorrects:n-c})},bg=(e,t)=>({datasets:[{data:[e,t,!e&&!t?1:0],backgroundColor:["#4bc22e","#c43a35","#737373"],hoverBackgroundColor:["#4bc22e","#c43a35","#737373"]}]}),av=14,ov=365;let hj=class extends ti.Component{constructor(t){super(t),this.state={ready:!1,set:"",type:"",date:"",endDate:"",id:"",hwTitle:"",isEnded:!1,daysLeft:0,numPlayers:0,corrects:0,incorrects:0,stdQuestions:[],questions:[],standings:[],deleteCheck:!1,loading:!1,plus:!1,justCopied:!1,sortedBy:"number",plusModal:!1,standingShown:{},deleteStanding:{},extendPop:!1,extendAmount:0,zoomedImage:"",user:null},this.id=this.props.match.params.id,this.loading=!1,this.here=!0,this.onDeleteConfirm=this.onDeleteConfirm.bind(this),this.onDeleteStanding=this.onDeleteStanding.bind(this),this.extendHW=this.extendHW.bind(this),this.refresh=this.refresh.bind(this),this.copyToClipboard=this.copyToClipboard.bind(this),this.changeSort=this.changeSort.bind(this),this.downloadResult=this.downloadResult.bind(this)}componentDidMount(){return oi(this,null,function*(){if(!this.id)return;const t=yield this.props.user.getData();if(!t){Ue.logError("HomeworkPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}this.setState({user:t}),this.refresh(),vi.get("/api/users/plan").then(r=>{this.here&&this.setState({plus:r.data.hasPlus})}).catch(r=>{Ue.logError(r)})})}componentWillUnmount(){this.here=!1,clearTimeout(this.copyTimeout)}onDeleteConfirm(t){this.loading||(this.loading=!0,t?(this.setState({loading:!0}),vi.delete("/api/homeworks",{params:{id:this.id}}).then(()=>{this.here&&this.props.history.push("/homeworks")}).catch(r=>{Ue.logError(r)})):(this.loading=!1,this.setState({deleteCheck:!1})))}onDeleteStanding(){this.loading||(this.loading=!0,this.setState({loading:!0}),vi.put("/api/homeworks/delete-result",{resultId:this.state.deleteStanding._id,hwId:this.state.deleteStanding.hwId,name:this.state.deleteStanding.name}).then(()=>{this.here&&(this.loading=!1,this.setState({deleteStanding:{}},this.refresh))}).catch(t=>{Ue.logError(t)}))}extendHW(t){if(t.preventDefault(),!this.loading){if(this.state.extendAmount<=0){this.setState({extendPop:!1});return}this.loading=!0,this.setState({loading:!0}),vi.put("/api/homeworks/extend",{hwId:this.id,minutes:this.state.extendAmount*24*60,plus:this.state.plus}).then(()=>{this.here&&(this.loading=!1,this.setState({extendPop:!1},this.refresh))}).catch(r=>{this.loading=!1,this.setState({extendPop:!1}),Ue.logError(r)})}}refresh(){this.setState({standings:[]}),vi.get("/api/homeworks/byid/results",{params:{id:this.id}}).then(t=>{if(!this.here)return;if(!t.data||!t.data.metaData){this.setState({ready:!0});return}const r=t.data.metaData,n=t.data.results;let c=0,S=0;const s={};for(let a=0;a<r.questions.length;a++)s[r.questions[a].number]=[0,0];const g=[];n.forEach(a=>{if(!a.data||!a.name)return;let v=0;a.data&&a.data.corrects&&Object.entries(a.data.corrects).forEach(([u,o])=>{c+=o,s[u]&&(s[u][0]+=o),v+=o});let f=0;a.data&&a.data.incorrects&&Object.entries(a.data.incorrects).forEach(([u,o])=>{S+=o,s[u]&&(s[u][1]+=o),f+=o});const h=B2(q8t);g.push(Or(ji({},a),{blook:h,numCorrects:v,numIncorrects:f}))});const i=r.questions.map(a=>Or(ji({},a),{corrects:s[a.number][0],incorrects:s[a.number][1]}));r.settings.type==="Tower"?g.sort((a,v)=>(v.data.stage||0)-(a.data.stage||0)):r.settings.type==="Factory"?g.sort((a,v)=>(v.data.cash||0)-(a.data.cash||0)):r.settings.type==="Cafe"?g.sort((a,v)=>(v.data.day||0)-(a.data.day||0)):r.settings.type==="Defense"||r.settings.type==="Defense2"?g.sort((a,v)=>(v.data.round||0)-(a.data.round||0)):r.settings.type==="Kingdom"?g.sort((a,v)=>(v.data.guests||0)-(a.data.guests||0)):r.settings.type==="Brawl"&&g.sort((a,v)=>(v.data.level||0)-(a.data.level||0)),this.state.sortedBy==="number"?i.sort((a,v)=>a.number-v.number):this.state.sortedBy==="incorrects"&&EA(i),this.setState({ready:!0,set:r.title,type:r.settings.type,date:ui(r.startTime).format("MM/DD/YY"),endDate:ui(r.startTime).add(r.duration,"minutes").format("MM/DD/YY - h:mm a"),id:r._id,hwTitle:r.title,isEnded:ui(r.startTime).add(r.duration,"minutes").isBefore(ui.utc())||r.noEnd,daysLeft:ui(r.startTime).add(r.duration,"minutes").diff(ui.utc(),"days"),numPlayers:g.length,corrects:c,incorrects:S,standings:g,questions:i,stdQuestions:i,loading:!1})}).catch(t=>{this.setState({ready:!0}),Ue.logError(t)})}copyToClipboard(){const t=document.createElement("textarea");t.value=`${nr.play}/play?hwId=${this.state.id}`,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);const r=document.getSelection().rangeCount>0?document.getSelection().getRangeAt(0):!1;t.select(),document.execCommand("copy"),document.body.removeChild(t),r&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(r)),clearTimeout(this.copyTimeout),this.setState({justCopied:!0},()=>{this.copyTimeout=setTimeout(()=>{this.setState({justCopied:!1})},1500)})}changeSort(t){const r=JSON.parse(JSON.stringify(this.state.questions));t==="number"?r.sort((n,c)=>n.number-c.number):t==="incorrects"&&EA(r),this.setState({questions:r,sortedBy:t})}downloadResult(){const t=[[{value:"Name"},{value:"Corrects"},{value:"Incorrects"},{value:"Percentage"},{value:this.state.type==="Tower"?"Stages":this.state.type==="Defense"||this.state.type==="Defense2"?"Rounds":this.state.type==="Kingdom"?"Guests":this.state.type==="Brawl"?"Level":this.state.type==="Cafe"?"Days":"Cash"}]];this.state.standings.forEach(n=>{t.push([{value:n.name},{value:n.numCorrects,type:"number"},{value:n.numIncorrects,type:"number"},{value:Math.round(n.numCorrects/(n.numCorrects+n.numIncorrects||1)*100),type:"number"},{value:this.state.type==="Tower"?n.data.stage:this.state.type==="Defense"||this.state.type==="Defense2"?n.data.round:this.state.type==="Kingdom"?n.data.guests:this.state.type==="Brawl"?n.data.level:this.state.type==="Cafe"?n.data.day:n.data.cash,type:"number"}])});const r={filename:this.state.date&&this.state.date.includes("/")?`Blooket Results - ${this.state.date.replaceAll("/","-")}`:"Blooket Results",sheet:{data:t}};q5(r)}render(){if(!this.props.match.params.id){Ue.logError("HomeworkPage cannot be rendered without id"),window.location.href=`${nr.id}/login`;return}if(this.state.ready&&!this.state.set)return Ue.logError("HomeworkPage cannot be rendered without this.state.set"),A.jsx(hc,{to:"/404"});let t={},r={};return this.state.standingShown.name&&(t=this.state.standingShown.data.corrects||{},r=this.state.standingShown.data.incorrects||{}),A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Homework | Blooket",desc:"View your recent homework and review how the players performed and what questions were most missed."}),A.jsx(qs,{user:this.state.user,page:"Homework"}),A.jsx("div",{className:He.profileBodyMax,children:this.state.ready?A.jsxs("div",{className:Ke.fullContainer,children:[this.state.isEnded?A.jsxs("div",{children:[A.jsx("div",{className:Ke.hwText,children:this.state.hwTitle}),A.jsx("div",{className:Ke.joinText,children:`This HW closed on ${this.state.endDate}`})]}):A.jsxs("div",{className:Ke.hwContainer,children:[A.jsx("div",{className:Ke.hwText,children:this.state.hwTitle}),A.jsx("div",{className:Ke.joinText,children:"Players can join at:"}),A.jsx("div",{className:Ke.smallJoinText,children:"(Click to copy and share the link or just scan the QR code to join)"}),A.jsx("div",{className:Ke.linkContainer,role:"button",tabIndex:0,onClick:this.copyToClipboard,children:A.jsxs("div",{className:Ke.linkText,children:[`${nr.play}/play?hwId=${this.state.id}`,this.state.justCopied?A.jsx("div",{className:Ke.copiedNotification,children:"Copied!"}):null]})}),A.jsx("div",{className:Ke.qrContainer,children:A.jsx(r9t,{value:`${nr.play}/play?hwId=${this.state.id}`,size:200})}),A.jsx("div",{className:Ke.endDateText,children:`HW Closes At: ${this.state.endDate}`}),A.jsx("i",{className:Ct("fas fa-angle-down",Ke.downIcon)})]}),A.jsx("div",{className:Ke.setText,children:this.state.set}),A.jsxs("div",{className:Ke.row,children:[A.jsxs("div",{className:Ke.column,children:[A.jsx("div",{className:Ke.miniTopContainer,children:A.jsx("div",{className:Ke.miniTopText,children:this.state.date})}),A.jsxs("div",{className:Ke.chartContainer,children:[A.jsx(Xh,{data:bg(this.state.corrects,this.state.incorrects),options:{maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:1500,easing:"easeInQuint"},layout:{padding:15}}}),A.jsxs("div",{className:Ke.chartPercentage,children:[`${Math.round(this.state.corrects/Math.max(this.state.corrects+this.state.incorrects,1)*100)}%`,A.jsx("div",{className:Ke.chartPercentageSub,children:"Correct"})]})]})]}),A.jsxs("div",{className:Ke.column,children:[A.jsx("div",{className:Ke.correctContainer,children:A.jsx("div",{className:Ke.correctText,children:`${this.state.numPlayers} ${this.state.numPlayers===1?"Player":"Players"}`})}),A.jsx("div",{className:Ke.correctContainer,children:A.jsx("div",{className:Ct(Ke.correctText,Ke.textGreen),children:`${Ji(this.state.corrects)} Correct`})}),A.jsx("div",{className:Ke.correctContainer,children:A.jsx("div",{className:Ct(Ke.correctText,Ke.textRed),children:`${Ji(this.state.incorrects)} Incorrect`})}),this.state.plus?A.jsxs("div",{className:Ke.downloadButton,role:"button",tabIndex:0,onClick:this.downloadResult,children:[A.jsx("i",{className:Ct("fas fa-table",Ke.iconRight)}),"Download"]}):null]})]}),A.jsxs("div",{className:Ke.row,children:[A.jsxs("div",{className:Ct(Ke.refreshButton,Ke.refreshRed),role:"button",tabIndex:0,onClick:()=>this.setState({deleteCheck:!0}),children:[A.jsx("i",{className:Ct(Ke.refreshIcon,"fas fa-trash-alt")}),"Delete"]}),A.jsxs("div",{className:Ct(Ke.refreshButton,Ke.refreshPurple),role:"button",tabIndex:0,onClick:()=>this.setState({extendPop:!0,extendAmount:1}),children:[A.jsx("i",{className:Ct(Ke.refreshIcon,"fas fa-history")}),this.state.isEnded?"Reopen":"Extend"]}),A.jsxs("div",{className:Ke.refreshButton,role:"button",tabIndex:0,onClick:this.refresh,children:[A.jsx("i",{className:Ct("fas fa-sync-alt",Ke.refreshIcon)}),"Refresh"]})]}),this.state.standings.length>0?A.jsxs("div",{className:Ke.qHolder,children:[A.jsx("div",{className:Ke.headerContainer,children:A.jsx("div",{className:Ke.headerText,children:"Leaderboard"})}),["Tower","Cafe","Defense","Defense2"].includes(this.state.type)?A.jsxs("div",{className:Ke.keyContainer,children:[A.jsxs("div",{className:Ke.keyGroup,children:[A.jsx("i",{className:Ct("fas fa-user",Ke.keyIcon,Ke.textGreen)}),this.state.type==="Cafe"?"Caf Open":"Alive"]}),A.jsxs("div",{className:Ke.keyGroup,children:[A.jsx("i",{className:Ct("fas fa-user-slash",Ke.keyIcon,Ke.textRed)}),this.state.type==="Cafe"?"Closed Down":"Dead"]})]}):null,this.state.standings.filter(n=>!!n.name).map(n=>A.jsxs("div",{className:Ke.standingHolder,children:[A.jsxs("div",{className:Ke.standingContainer,role:"button",tabIndex:0,onClick:()=>this.setState({plusModal:!this.state.plus,standingShown:this.state.plus&&(n.numCorrects||n.numIncorrects)?n:{}}),children:[n.numCorrects||n.numIncorrects?A.jsxs("div",{className:Ke.accuracyText,children:[`${Math.round(n.numCorrects/(n.numCorrects+n.numIncorrects)*100)}%`,A.jsx("div",{className:Ke.accuracySmallText,children:"Correct"})]}):A.jsxs("div",{className:Ke.leftEarlyText,children:["No",A.jsx("br",{}),"Progress"]}),["Tower","Cafe","Defense","Defense2"].includes(this.state.type)?A.jsx("i",{className:Ct(n.data.alive?"fas fa-user":"fas fa-user-slash",Ke.standingIcon,n.data.alive?Ke.textGreen:Ke.textRed)}):A.jsx(xn,{name:n.blook,className:Ke.blookImage}),A.jsx(cC,{className:Ke.nameText,mode:"single",forceSingleModeWidth:!1,min:1,max:26,children:n.name}),A.jsxs("div",{className:Ke.barContainer,children:[A.jsx("div",{className:Ct(Ke.correctBar,{[Ke.minBar]:n.numCorrects}),style:{width:!n.numCorrects&&!n.numIncorrects?"100%":`${n.numCorrects/(n.numCorrects+n.numIncorrects)*100}%`},children:n.numCorrects?A.jsx("div",{className:Ke.barText,children:n.numCorrects}):null}),n.numIncorrects?A.jsx("div",{className:Ke.barText,children:n.numIncorrects}):null]}),this.state.type==="Tower"?A.jsx("div",{className:Ke.statText,children:n.data.stage===34?"Ascended the Tower!":`Cleared ${n.data.stage||0} ${n.data.stage===1?"Stage":"Stages"}`}):this.state.type==="Factory"?A.jsx("div",{className:Ke.statText,children:`$${Ji(n.data.cash||0)}`}):this.state.type==="Cafe"?A.jsx("div",{className:Ke.statText,children:`Day ${n.data.day||0}`}):this.state.type==="Defense"||this.state.type==="Defense2"?A.jsx("div",{className:Ke.statText,children:`Round ${n.data.round-1||0}`}):this.state.type==="Kingdom"?A.jsxs("div",{className:Ke.statText,children:[Ji(n.data.guests||0),A.jsx("i",{className:Ct("fas fa-users",Ke.statIcon)})]}):this.state.type==="Brawl"?A.jsx("div",{className:Ke.statText,children:`Level ${n.data.level||0}`}):null]}),A.jsxs("div",{className:Ke.deleteStanding,role:"button",tabIndex:0,onClick:()=>this.setState({deleteStanding:n}),children:[A.jsx("i",{className:Ct("fas fa-trash-alt",Ke.deleteIcon)}),"Delete"]})]},n._id))]}):null,A.jsxs("div",{className:Ke.qHolder,children:[A.jsx("div",{className:Ke.headerContainer,children:A.jsx("div",{className:Ke.headerText,children:"Questions"})}),A.jsxs("div",{className:Ke.sortedContainer,children:[A.jsx("div",{className:Ke.sortedText,children:"Sorted By:"}),A.jsx("div",{className:Ct(Ke.sortedButton,{[Ke.sortedSelected]:this.state.sortedBy==="number"}),role:"button",tabIndex:0,onClick:()=>this.changeSort("number"),children:"Question #"}),A.jsx("div",{className:Ct(Ke.sortedButton,{[Ke.sortedSelected]:this.state.sortedBy==="incorrects"}),role:"button",tabIndex:0,onClick:()=>this.changeSort("incorrects"),children:"Incorrect %"})]}),this.state.questions.map(n=>A.jsxs("div",{className:Ke.questionContainer,children:[A.jsx("div",{className:Ct(Ke.questionImageContainer,{[Ke.questionImageButton]:n.image}),role:"button",tabIndex:0,onClick:n.image?()=>this.setState({zoomedImage:n.image}):()=>{},children:n.image?A.jsx(Ul,{height:130,width:170,children:A.jsx("img",{src:Dn(n.image),alt:"Question Background",className:Ke.questionImage})}):A.jsx("div",{className:Ct(Ke.imageNumber,{[Ke.imageNumberLeft]:n.image}),children:n.number})}),n.audio?A.jsx("div",{className:Ke.questionFunc,children:A.jsx(fh,{audioUrl:n.audio,width:"45%"})}):n.text.includes("`*`")?A.jsx("div",{className:Ke.questionFunc,children:A.jsx(Ln.StaticMathField,{className:Ke.qMathField,children:n.text.slice(n.text.indexOf("`*`")+3,n.text.length-3)})}):null,A.jsxs("div",{className:Ct(Ke.questionCenterContainer,{[Ke.questionWithFunc]:n.text.includes("`*`")||n.audio}),children:[A.jsx("div",{className:Ke.questionText,children:n.text.includes("`*`")?n.text.slice(0,n.text.indexOf("`*`")):n.text}),A.jsxs("div",{className:Ke.answerText,children:["Answer: ",iN(n.qType==="typing"?n.answers:n.correctAnswers)]})]}),A.jsxs("div",{className:Ke.questionStatsContainer,children:[A.jsx(Xh,{data:bg(n.corrects,n.incorrects),options:{cutout:"75%",maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:0},layout:{padding:2}}}),A.jsxs("div",{className:Ke.questionStats,children:[`${n.corrects}/${n.incorrects+n.corrects}`,A.jsx("div",{className:Ke.questionStatsSub,children:"Correct"})]})]})]},n.number))]})]}):null}),this.state.zoomedImage?A.jsx("div",{className:Ct(He.modal,He.modalButton),role:"button",tabIndex:0,onClick:()=>this.setState({zoomedImage:""}),children:A.jsx("img",{src:Dn(this.state.zoomedImage,!0),alt:"Upload",className:He.bigImage,draggable:!1})}):null,this.state.deleteCheck?A.jsx(gr,{text:"Do you really want to delete this HW?",loading:this.state.loading,buttonOne:{text:"Yes",click:()=>this.onDeleteConfirm(!0),color:"red"},buttonTwo:{text:"No",click:()=>this.onDeleteConfirm(!1),color:"blue"}}):this.state.plusModal?A.jsx("div",{className:He.modal,children:A.jsxs("div",{className:Ke.plusModalContainer,children:[A.jsx("i",{className:Ct("fas fa-times",Ke.plusTimes),role:"button",tabIndex:0,onClick:()=>this.setState({plusModal:!1})}),A.jsx("div",{className:Ke.plusText,children:"Get Blooket Plus For Detailed Game Reports!"}),A.jsx(ss,{className:Ke.upgradeButton,to:"/upgrade",children:"Upgrade"})]})}):this.state.deleteStanding.name?A.jsx(gr,{text:`Do you want to delete "${this.state.deleteStanding.name}"?`,loading:this.state.loading,buttonOne:{text:"Yes",click:this.onDeleteStanding,color:"red"},buttonTwo:{text:"No",click:()=>this.setState({deleteStanding:{}}),color:"blue"}}):this.state.extendPop?A.jsx(gr,{text:this.state.loading?"Processing...":!this.state.isEnded&&(this.state.plus?ov:av)-this.state.daysLeft<=0?`Homework is already open for the max time (${this.state.plus?ov:av} days).`:`How long would you like to ${this.state.isEnded?"reopen":"extend"} this homework for (in days)?`,loading:this.state.loading,timeValue:!this.state.isEnded&&(this.state.plus?ov:av)-this.state.daysLeft<=0?void 0:this.state.extendAmount,timeChange:n=>this.setState({extendAmount:Math.min(this.state.plus?ov-(this.state.isEnded?0:this.state.daysLeft):av-(this.state.isEnded?0:this.state.daysLeft),Math.max(0,Math.round(n.target.value)))}),onSubmit:this.extendHW,buttonOne:!this.state.isEnded&&(this.state.plus?ov:av)-this.state.daysLeft<=0?null:{text:"Confirm",click:this.extendHW,color:"blue"},buttonTwo:{text:"Back",click:()=>this.setState({extendPop:!1}),color:"blue"}}):this.state.standingShown.name?A.jsxs("div",{className:He.modal,children:[A.jsx("div",{className:Ke.modalButton,role:"button",tabIndex:0,onClick:()=>this.setState({standingShown:{}})}),A.jsxs("div",{className:Ke.standingModalContainer,children:[A.jsx("i",{className:Ct("fas fa-times",Ke.plusTimes),role:"button",tabIndex:0,onClick:()=>this.setState({standingShown:{}})}),A.jsxs("div",{className:Ke.modalRow,children:[["Tower","Cafe","Defense"].includes(this.state.type)?A.jsx("i",{className:Ct(this.state.standingShown.data.alive?"fas fa-user":"fas fa-user-slash",Ke.modalIcon,this.state.standingShown.data.alive?Ke.textGreen:Ke.textRed)}):A.jsx(xn,{name:this.state.standingShown.blook,className:Ke.modalBlook}),A.jsxs("div",{className:Ke.modalColumn,children:[this.state.standingShown.name,A.jsx("div",{className:Ke.modalDesc,children:this.state.type==="Tower"?this.state.standingShown.data.stage===34?"Ascended the Tower!":`Cleared ${this.state.standingShown.data.stage} ${this.state.standingShown.data.stage===1?"Stage":"Stages"}`:this.state.type==="Factory"?`$${Ji(this.state.standingShown.data.cash)}`:this.state.type==="Cafe"?`Day ${this.state.standingShown.data.day}`:this.state.type==="Defense"||this.state.type==="Defense2"?`Round ${this.state.standingShown.data.round-1}`:this.state.type==="Kingdom"?`${Ji(this.state.standingShown.data.guests)} ${this.state.standingShown.data.guests===1?"Guest":"Guests"}`:this.state.type==="Kingdom"?`Level ${this.state.standingShown.data.level}`:null})]}),A.jsxs("div",{className:Ke.modalStats,children:[A.jsx(Xh,{data:bg(this.state.standingShown.numCorrects,this.state.standingShown.numIncorrects),options:{cutout:"75%",maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:0},layout:{padding:0}}}),A.jsxs("div",{className:Ke.modalStatsText,children:[this.state.standingShown.numCorrects||this.state.standingShown.numIncorrects?`${Math.round(this.state.standingShown.numCorrects/(this.state.standingShown.numCorrects+this.state.standingShown.numIncorrects)*100)}%`:"0%",A.jsx("div",{className:Ke.modalStatsCorrect,children:"Correct"})]})]})]}),A.jsx("div",{className:Ke.mainDivider,children:" "}),this.state.stdQuestions.map((n,c)=>A.jsxs("div",{className:Ct(Ke.modalQuestionColumn,{[Ke.modalQuestionBottom]:c+1===this.state.stdQuestions.length}),children:[A.jsxs("div",{className:Ke.modalQuestionRow,children:[n.audio?A.jsx("div",{className:Ke.modalFuncContainer,children:A.jsx(fh,{audioUrl:n.audio,width:"55%"})}):n.image?A.jsx(Ul,{height:70,width:80,children:A.jsx("img",{src:Dn(n.image),alt:"Question Background",className:Ke.modalQuestionImage})}):n.text.includes("`*`")?A.jsx("div",{className:Ke.modalFuncContainer,children:A.jsx(Ln.StaticMathField,{className:Ke.qModalMathField,children:n.text.slice(n.text.indexOf("`*`")+3,n.text.length-3)})}):null,A.jsx("div",{className:Ke.modalQuestionNum,children:`${n.number}.`}),A.jsx("div",{className:Ke.modalQuestionText,children:n.text.includes("`*`")?n.text.slice(0,n.text.indexOf("`*`")):n.text}),A.jsxs("div",{className:Ke.modalQuestionStats,children:[A.jsx(Xh,{data:bg(Object.keys(t).includes(n.number.toString())?t[n.number]:0,Object.keys(r).includes(n.number.toString())?r[n.number]:0),options:{cutout:"75%",maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:0},layout:{padding:0}}}),A.jsx("div",{className:Ke.modalStatsText,children:`${Object.keys(t).includes(n.number.toString())?t[n.number]:0}/${(Object.keys(t).includes(n.number.toString())?t[n.number]:0)+(Object.keys(r).includes(n.number.toString())?r[n.number]:0)}`})]})]}),c+1!==this.state.stdQuestions.length?A.jsx("div",{className:Ke.divider,children:" "}):null]},n.num))]})]}):null]})}};hj.propTypes={match:Wt.object,history:Wt.object.isRequired,user:Wt.object};const tkt=()=>({}),ekt=e=>ws({},e),ikt=Sn(Ts(Is(tkt,ekt)(hj))),rkt=e=>{if(!e||e.includes("#"))return"#0bc2cf";const t=gs[e];if(!t)throw new Error(`no blook named '${e}' found in allBlooks`);return t.color},nkt="_background_1c2jf_1",skt="_blooksBackground_1c2jf_11",akt="_bodyMaxWidth_1c2jf_23",okt="_fullContainer_1c2jf_27",lkt="_headerRow_1c2jf_35",ukt="_headerLeft_1c2jf_43",hkt="_headerLeftRow_1c2jf_49",ckt="_headerBlookContainer_1c2jf_57",fkt="_headerBlook_1c2jf_57",dkt="_headerBanner_1c2jf_74",pkt="_headerInfo_1c2jf_69",vkt="_headerFiller_1c2jf_91",mkt="_headerBg_1c2jf_103",gkt="_headerName_1c2jf_112",ykt="_headerTitle_1c2jf_118",xkt="_editHeaderContainer_1c2jf_124",bkt="_editHeaderRow_1c2jf_143",Skt="_editHeaderButtonInside_1c2jf_152",wkt="_editHeaderColumn_1c2jf_158",Tkt="_editBanner_1c2jf_181",Ckt="_editBannerImg_1c2jf_190",Ekt="_editTitle_1c2jf_194",kkt="_noBannersText_1c2jf_213",Dkt="_levelBarContainer_1c2jf_221",Akt="_levelStarContainer_1c2jf_227",Pkt="_levelStar_1c2jf_227",Rkt="_levelStarText_1c2jf_246",Ikt="_levelBar_1c2jf_221",Mkt="_levelBarInside_1c2jf_265",Bkt="_headerLeftButtons_1c2jf_277",Okt="_headerButtonInside_1c2jf_286",Nkt="_headerButtonIcon_1c2jf_296",Fkt="_featuredBlooksContainer_1c2jf_302",Lkt="_featuredBlooksBg_1c2jf_309",_kt="_contestContainer_1c2jf_315",jkt="_contestHeader_1c2jf_331",Ukt="_contestDesc_1c2jf_336",zkt="_bottomContainer_1c2jf_342",Gkt="_left_1c2jf_350",Hkt="_right_1c2jf_354",$kt="_customBlookContainer_1c2jf_358",Vkt="_containerHeader_1c2jf_373",Wkt="_containerHeaderInside_1c2jf_385",Ykt="_noBlookContainer_1c2jf_407",Xkt="_noBlookIcon_1c2jf_427",Qkt="_blookContainer_1c2jf_432",Kkt="_customBlook_1c2jf_358",Jkt="_customIconRow_1c2jf_447",Zkt="_customIcon_1c2jf_447",qkt="_blookUsageContainer_1c2jf_480",tDt="_blookUsageRow_1c2jf_490",eDt="_blookUsageBlook_1c2jf_499",iDt="_blookUsageBarContainer_1c2jf_503",rDt="_blookUsageBar_1c2jf_503",nDt="_blookUsageScale_1c2jf_521",sDt="_blookUsageNum_1c2jf_531",aDt="_blookUsageScaleBar_1c2jf_538",oDt="_blookUsageText_1c2jf_544",lDt="_historyContainer_1c2jf_553",uDt="_historyNoTop_1c2jf_564",hDt="_historyGameContainer_1c2jf_568",cDt="_historyBlook_1c2jf_583",fDt="_historyInfo_1c2jf_587",dDt="_historyName_1c2jf_595",pDt="_historyNothing_1c2jf_600",vDt="_gameStatContainer_1c2jf_608",mDt="_gameStatText_1c2jf_616",gDt="_snowIcon_1c2jf_622",yDt="_fossilIcon_1c2jf_626",xDt="_gameStatImg_1c2jf_631",bDt="_smallGameStatImg_1c2jf_636",SDt="_gameStatBlook_1c2jf_640",wDt="_pointsText_1c2jf_644",TDt="_statsContainer_1c2jf_651",CDt="_statsWrapper_1c2jf_670",EDt="_topStats_1c2jf_663",kDt="_statContainer_1c2jf_677",DDt="_statTitle_1c2jf_692",ADt="_statNum_1c2jf_697",PDt="_statImg_1c2jf_703",RDt="_tokenImg_1c2jf_712",IDt="_headerButton_1c2jf_286",MDt="_contestInfo_1c2jf_774",Xe={background:nkt,blooksBackground:skt,bodyMaxWidth:akt,fullContainer:okt,headerRow:lkt,headerLeft:ukt,headerLeftRow:hkt,headerBlookContainer:ckt,headerBlook:fkt,headerBanner:dkt,headerInfo:pkt,headerFiller:vkt,headerBg:mkt,headerName:gkt,headerTitle:ykt,editHeaderContainer:xkt,editHeaderRow:bkt,editHeaderButtonInside:Skt,editHeaderColumn:wkt,editBanner:Tkt,editBannerImg:Ckt,editTitle:Ekt,noBannersText:kkt,levelBarContainer:Dkt,levelStarContainer:Akt,levelStar:Pkt,levelStarText:Rkt,levelBar:Ikt,levelBarInside:Mkt,headerLeftButtons:Bkt,headerButtonInside:Okt,headerButtonIcon:Nkt,featuredBlooksContainer:Fkt,featuredBlooksBg:Lkt,contestContainer:_kt,contestHeader:jkt,contestDesc:Ukt,bottomContainer:zkt,left:Gkt,right:Hkt,customBlookContainer:$kt,containerHeader:Vkt,containerHeaderInside:Wkt,noBlookContainer:Ykt,noBlookIcon:Xkt,blookContainer:Qkt,customBlook:Kkt,customIconRow:Jkt,customIcon:Zkt,blookUsageContainer:qkt,blookUsageRow:tDt,blookUsageBlook:eDt,blookUsageBarContainer:iDt,blookUsageBar:rDt,blookUsageScale:nDt,blookUsageNum:sDt,blookUsageScaleBar:aDt,blookUsageText:oDt,historyContainer:lDt,historyNoTop:uDt,historyGameContainer:hDt,historyBlook:cDt,historyInfo:fDt,historyName:dDt,historyNothing:pDt,gameStatContainer:vDt,gameStatText:mDt,snowIcon:gDt,fossilIcon:yDt,gameStatImg:xDt,smallGameStatImg:bDt,gameStatBlook:SDt,pointsText:wDt,statsContainer:TDt,statsWrapper:CDt,topStats:EDt,statContainer:kDt,statTitle:DDt,statNum:ADt,statImg:PDt,tokenImg:RDt,headerButton:IDt,contestInfo:MDt},BDt="_mainContainer_v27ql_1",ODt="_centerContainer_v27ql_13",NDt="_centerInside_v27ql_27",FDt="_blook_v27ql_38",LDt="_circle_v27ql_45",_Dt="_leftSide_v27ql_57",jDt="_rightSide_v27ql_57",UDt="_partContainer_v27ql_74",zDt="_partImg_v27ql_93",GDt="_noPart_v27ql_98",HDt="_partText_v27ql_103",$Dt="_choiceHeader_v27ql_108",VDt="_colorRow_v27ql_113",WDt="_colorButton_v27ql_121",YDt="_choicesContainer_v27ql_136",XDt="_choiceContainerWithColors_v27ql_160",QDt="_partChoice_v27ql_164",KDt="_partChosen_v27ql_183",JDt="_partLocked_v27ql_187",ZDt="_choiceImg_v27ql_195",qDt="_noChoice_v27ql_199",tAt="_lockedIcon_v27ql_203",eAt="_buttonRow_v27ql_218",iAt="_button_v27ql_218",rAt="_buttonIcon_v27ql_250",zr={mainContainer:BDt,centerContainer:ODt,centerInside:NDt,blook:FDt,circle:LDt,leftSide:_Dt,rightSide:jDt,partContainer:UDt,partImg:zDt,noPart:GDt,partText:HDt,choiceHeader:$Dt,colorRow:VDt,colorButton:WDt,choicesContainer:YDt,choiceContainerWithColors:XDt,partChoice:QDt,partChosen:KDt,partLocked:JDt,choiceImg:ZDt,noChoice:qDt,lockedIcon:tAt,buttonRow:eAt,button:iAt,buttonIcon:rAt},Qu=[{xp:5,partType:"clothing",part:53},{xp:5,partType:"hat",part:48},{xp:5,partType:"item",part:37},{xp:5,partType:"hat",part:49},{xp:5,partType:"clothing",part:54},{xp:5,partType:"hat",part:50},{xp:5,partType:"hair",part:19},{xp:5,partType:"clothing",part:55},{xp:5,partType:"item",part:38},{xp:10,partType:"hat",part:51},{xp:10,partType:"clothing",part:56},{xp:10,partType:"clothing",part:57},{xp:10,partType:"eyes",part:14},{xp:10,partType:"clothing",part:58},{xp:10,partType:"hair",part:20},{xp:10,partType:"item",part:39},{xp:10,partType:"glasses",part:17},{xp:10,partType:"hat",part:52},{xp:10,partType:"hair",part:21},{xp:20,partType:"mouth",part:18},{xp:20,partType:"clothing",part:59},{xp:20,partType:"item",part:40},{xp:20,partType:"clothing",part:60},{xp:20,partType:"hat",part:53},{xp:20,partType:"item",part:41},{xp:20,partType:"clothing",part:61},{xp:20,partType:"item",part:42},{xp:20,partType:"hat",part:54},{xp:20,partType:"hat",part:55},{xp:25,partType:"clothing",part:62},{xp:25,partType:"item",part:43},{xp:25,partType:"clothing",part:63},{xp:25,partType:"item",part:44},{xp:25,partType:"hat",part:56},{xp:25,partType:"clothing",part:64},{xp:25,partType:"hat",part:57},{xp:25,partType:"glasses",part:18},{xp:25,partType:"item",part:45},{xp:25,partType:"clothing",part:65},{xp:40,partType:"hat",part:58},{xp:40,partType:"item",part:46},{xp:40,partType:"clothing",part:66},{xp:40,partType:"hat",part:59},{xp:40,partType:"glasses",part:19},{xp:40,partType:"clothing",part:67},{xp:40,partType:"hair",part:22},{xp:40,partType:"hat",part:60},{xp:40,partType:"item",part:47},{xp:40,partType:"clothing",part:68},{xp:50,partType:"hat",part:61},{xp:50,partType:"item",part:48},{xp:50,partType:"clothing",part:69},{xp:50,partType:"hat",part:62},{xp:50,partType:"item",part:49},{xp:50,partType:"clothing",part:70},{xp:50,partType:"hat",part:63},{xp:50,partType:"cheeks",part:7},{xp:50,partType:"clothing",part:71},{xp:50,partType:"hat",part:64},{xp:60,partType:"mouth",part:19},{xp:60,partType:"item",part:50},{xp:60,partType:"hat",part:65},{xp:60,partType:"clothing",part:72},{xp:60,partType:"hat",part:66},{xp:60,partType:"hair",part:23},{xp:60,partType:"clothing",part:73},{xp:60,partType:"mouth",part:20},{xp:60,partType:"item",part:51},{xp:60,partType:"clothing",part:74},{xp:65,partType:"hat",part:67},{xp:65,partType:"clothing",part:75},{xp:65,partType:"glasses",part:20},{xp:65,partType:"hair",part:24},{xp:65,partType:"hat",part:68},{xp:65,partType:"clothing",part:76},{xp:65,partType:"hat",part:69},{xp:65,partType:"item",part:52},{xp:65,partType:"hat",part:70},{xp:65,partType:"clothing",part:77},{xp:75,partType:"hair",part:25},{xp:75,partType:"glasses",part:21},{xp:75,partType:"mouth",part:21},{xp:75,partType:"item",part:53},{xp:75,partType:"glasses",part:22},{xp:75,partType:"hat",part:71},{xp:75,partType:"item",part:54},{xp:75,partType:"hair",part:26},{xp:75,partType:"clothing",part:78},{xp:75,partType:"clothing",part:79},{xp:100,partType:"hat",part:72},{xp:100,partType:"glasses",part:23},{xp:100,partType:"clothing",part:80},{xp:100,partType:"hat",part:73},{xp:100,partType:"glasses",part:24},{xp:100,partType:"hat",part:74},{xp:100,partType:"item",part:55},{xp:100,partType:"clothing",part:81},{xp:100,partType:"hat",part:75},{xp:100,partType:"hat",part:76},{xp:100,partType:"hat",part:77}],nAt=e=>{let t=Math.min(e,4595),r=0;return Qu.forEach(n=>{t-n.xp>=0&&(r+=1,t-=n.xp)}),{level:r,xp:t}},sAt=["base","hair","nose","cheeks","mouth","item"],aAt=["hat","eyebrows","eyes","glasses","clothing"];class cj extends ti.Component{constructor(t){super(t),this.state={base:0,clothing:0,eyes:0,glasses:0,hair:0,hairColor:0,hat:0,item:0,mouth:0,nose:0,cheeks:0,eyebrows:0,eyebrowsColor:0,partSelected:"",unlocks:[]},this.randomBlook=this.randomBlook.bind(this)}componentDidMount(){if(this.props.startCode&&NN(this.props.startCode)){const r=this.props.startCode.split("#");this.setState({base:r[0],clothing:r[1],eyes:r[2],glasses:r[3],hair:r[4].split("$")[0],hairColor:r[4].split("$")[1],hat:r[5],item:r[6],mouth:r[7],nose:r[8],cheeks:r[9],eyebrows:r[10].split("$")[0],eyebrowsColor:r[10].split("$")[1]})}const t={clothing:[0],eyes:[0],glasses:[0],hair:[0],hat:[0],item:[0],mouth:[0],nose:[0],cheeks:[0],eyebrows:[0]};this.props.blookParts&&Object.entries(this.props.blookParts).forEach(([r,n])=>{n.forEach(c=>{t[r].push(c)})}),this.setState({unlocks:t})}componentWillUnmount(){}randomBlook(){this.setState({base:Za(0,dr.base.length),clothing:Za(0,dr.clothing.length),eyes:Za(0,dr.eyes.length),glasses:Za(0,dr.glasses.length),hair:Za(0,dr.hair.length),hairColor:Za(0,hu.length),hat:Za(0,dr.hat.length),item:Za(0,dr.item.length),mouth:Za(0,dr.mouth.length),nose:Za(0,dr.nose.length),cheeks:Za(0,dr.cheeks.length),eyebrows:Za(0,dr.eyebrows.length),eyebrowsColor:Za(0,hu.length)})}render(){const{base:t,clothing:r,eyes:n,glasses:c,hair:S,hairColor:s,hat:g,item:i,mouth:a,nose:v,cheeks:f,eyebrows:h,eyebrowsColor:u}=this.state,o=`${t}#${r}#${n}#${c}#${S}$${s}#${g}#${i}#${a}#${v}#${f}#${h}$${u}`,d=Qu.filter(p=>p.partType).map(p=>`${p.partType}-${p.part}`);return A.jsxs("div",{className:He.modal,children:[A.jsxs("div",{className:zr.mainContainer,children:[A.jsx("div",{className:zr.leftSide,children:sAt.map(p=>A.jsxs("div",{className:zr.partContainer,role:"button",tabIndex:0,onClick:()=>this.setState({partSelected:this.state.partSelected!==p?p:""}),children:[dr[p][this.state[p]].url?A.jsx("img",{src:dr[p][this.state[p]].url,alt:`Blook ${p}`,className:zr.partImg,draggable:!1}):A.jsx("i",{className:Ct("fas fa-ban",zr.noPart)}),A.jsx("div",{className:zr.partText,children:p.charAt(0).toUpperCase()+p.slice(1)})]},p))}),A.jsx("div",{className:zr.rightSide,children:aAt.map(p=>A.jsxs("div",{className:zr.partContainer,role:"button",tabIndex:0,onClick:()=>this.setState({partSelected:this.state.partSelected!==p?p:""}),children:[dr[p][this.state[p]].url?A.jsx("img",{src:dr[p][this.state[p]].url,alt:`Blook ${p}`,className:zr.partImg,draggable:!1}):A.jsx("i",{className:Ct("fas fa-ban",zr.noPart)}),A.jsx("div",{className:zr.partText,children:p.charAt(0).toUpperCase()+p.slice(1)})]},p))}),A.jsx("div",{className:zr.centerContainer,children:this.state.partSelected?A.jsxs("div",{className:zr.centerInside,children:[A.jsx("div",{className:zr.choiceHeader,children:`Choose ${this.state.partSelected.charAt(0).toUpperCase()+this.state.partSelected.slice(1)}`}),["hair","eyebrows"].includes(this.state.partSelected)?A.jsx("div",{className:zr.colorRow,children:hu.map((p,l)=>A.jsx("div",{className:zr.colorButton,style:{backgroundColor:p[0]},role:"button",tabIndex:0,onClick:()=>this.setState({[`${this.state.partSelected}Color`]:l,partSelected:""}),children:this.state[`${this.state.partSelected}Color`]===l?A.jsx("i",{className:"fas fa-check"}):null},p[0]))}):null,A.jsx("div",{className:Ct(zr.choicesContainer,{[zr.choiceContainerWithColors]:["hair","eyebrows"].includes(this.state.partSelected)}),children:dr[this.state.partSelected].map((p,l)=>this.state.partSelected==="base"||this.state.unlocks[this.state.partSelected].includes(l)||d.includes(`${this.state.partSelected}-${l}`)?A.jsxs("div",{className:Ct(zr.partChoice,{[zr.partChosen]:this.state[this.state.partSelected]===l,[zr.partLocked]:this.state.partSelected!=="base"&&!this.state.unlocks[this.state.partSelected].includes(l)}),role:"button",tabIndex:0,onClick:this.state.partSelected!=="base"&&!this.state.unlocks[this.state.partSelected].includes(l)?()=>{}:()=>this.setState({[this.state.partSelected]:l,partSelected:""}),children:[p.url&&!["base","clothing","mouth","item","glasses","hat"].includes(this.state.partSelected)?A.jsx(ed,{src:p.url,title:`Blook ${this.state.partSelected}`,className:zr.choiceImg,preProcessor:m=>{let y=m;return p.changes&&Object.entries(p.changes).forEach(([x,b])=>{y=y.replaceAll(x,dr.base[this.state.base].tones[b])}),["hair","eyebrows"].includes(this.state.partSelected)&&(y=y.replaceAll(_2,hu[this.state[`${this.state.partSelected}Color`]][0]),p.hasHighlight&&(y=y.replaceAll(ON,hu[this.state[`${this.state.partSelected}Color`]][1]))),y}}):p.url?A.jsx("img",{src:p.url,alt:`Blook ${this.state.partSelected}`,className:zr.choiceImg,draggable:!1}):A.jsx("i",{className:Ct("fas fa-ban",zr.noChoice)}),this.state.partSelected!=="base"&&!this.state.unlocks[this.state.partSelected].includes(l)?A.jsx("div",{className:zr.lockedIcon,children:A.jsx("i",{className:"fas fa-lock"})}):null]},l):null)})]}):A.jsxs("div",{className:zr.centerInside,children:[A.jsx("div",{className:zr.circle}),A.jsx(bx,{code:o,className:zr.blook})]})})]}),A.jsxs("div",{className:zr.buttonRow,children:[A.jsxs("div",{className:zr.button,role:"button",tabIndex:0,onClick:()=>this.props.close(!0,o),children:[A.jsx("i",{className:Ct("fas fa-save",zr.buttonIcon)}),"Save"]}),A.jsxs("div",{className:zr.button,role:"button",tabIndex:0,onClick:()=>this.props.close(!1),children:[A.jsx("i",{className:Ct("fas fa-reply",zr.buttonIcon)}),"Exit"]})]})]})}}cj.propTypes={startCode:Wt.string,blookParts:Wt.object,close:Wt.func};const oAt="_passContainer_1wta0_2",lAt="_smallPassContainer_1wta0_19",uAt="_passInside_1wta0_23",hAt="_passBarWrapper_1wta0_37",cAt="_passBar_1wta0_37",fAt="_passBarInside_1wta0_59",dAt="_passBarLevel_1wta0_65",pAt="_passBarLevelLocked_1wta0_91",vAt="_passPrize_1wta0_97",mAt="_passPart_1wta0_114",gAt="_passPrizeText_1wta0_119",yAt="_passPrizeLocked_1wta0_132",xAt="_passHeader_1wta0_138",bAt="_passHeaderRight_1wta0_138",SAt="_passHeaderInside_1wta0_155",wAt="_smallPassHeader_1wta0_176",TAt="_smallPassHeaderRight_1wta0_179",Ws={passContainer:oAt,smallPassContainer:lAt,passInside:uAt,passBarWrapper:hAt,passBar:cAt,passBarInside:fAt,passBarLevel:dAt,passBarLevelLocked:pAt,passPrize:vAt,passPart:mAt,passPrizeText:gAt,passPrizeLocked:yAt,passHeader:xAt,passHeaderRight:bAt,passHeaderInside:SAt,smallPassHeader:wAt,smallPassHeaderRight:TAt};class fj extends ti.Component{constructor(t){super(t),this.state={}}componentDidMount(){const t=document.getElementById("pass"),n=(this.props.level===100?this.props.level*100:(this.props.level+this.props.xp/Qu[this.props.level].xp)*100)-t.offsetWidth/2;t.scrollLeft=n;let c=!1,S,s;t.addEventListener("mousedown",g=>{c=!0,S=g.pageX-t.offsetLeft,s=t.scrollLeft,t.style.cursor="grabbing"}),t.addEventListener("mouseleave",()=>{c=!1,t.style.cursor="grab"}),t.addEventListener("mouseup",()=>{c=!1,t.style.cursor="grab"}),t.addEventListener("mousemove",g=>{if(!c)return;g.preventDefault();const a=(g.pageX-t.offsetLeft-S)*2;t.scrollLeft=s-a})}render(){return A.jsxs("div",{className:Ct(Ws.passContainer,{[Ws.smallPassContainer]:this.props.isSmall}),children:[A.jsxs("div",{className:Ws.passInside,id:"pass",children:[A.jsx("div",{className:Ws.passBarWrapper,style:{width:`${Qu.length*100}px`},children:A.jsx("div",{className:Ws.passBar,style:{width:this.props.level===100?"100%":`${(this.props.level+this.props.xp/Qu[this.props.level].xp)*100}px`},children:A.jsx("div",{className:Ws.passBarInside})})}),Qu.map((t,r)=>A.jsx("div",{className:Ct(Ws.passBarLevel,{[Ws.passBarLevelLocked]:this.props.level<=r}),style:{left:`${(r+1)*100}px`},children:r+1},r)),Qu.map((t,r)=>t.partType?A.jsxs("div",{className:Ct(Ws.passPrize,{[Ws.passPrizeLocked]:this.props.level<=r}),style:{left:`${(r+1)*100}px`},children:[A.jsx("img",{src:dr[t.partType][t.part].url,alt:t.partType,className:Ws.passPart,draggable:!1}),A.jsx("div",{className:Ws.passPrizeText,children:t.partType.charAt(0).toUpperCase()+t.partType.slice(1)})]},r):null)]}),A.jsx("div",{className:Ct(Ws.passHeader,{[Ws.smallPassHeader]:this.props.isSmall}),children:A.jsx("div",{className:Ws.passHeaderInside,children:"Class Pass"})}),this.props.level!==100?A.jsx("div",{className:Ct(Ws.passHeaderRight,{[Ws.smallPassHeaderRight]:this.props.isSmall}),children:A.jsx("div",{className:Ws.passHeaderInside,children:`${this.props.xp} / ${Qu[this.props.level].xp} XP`})}):null]})}}fj.propTypes={xp:Wt.number,level:Wt.number,isSmall:Wt.bool};const CAt="_container_sxo9c_1",EAt="_blooksHolder_sxo9c_17",kAt="_blookContainer_sxo9c_43",DAt="_blook_sxo9c_17",Sg={container:CAt,blooksHolder:EAt,blookContainer:kAt,blook:DAt},_o=["Chick","Chicken","Cow","Goat","Horse","Pig","Sheep","Duck","Alpaca","Dog","Cat","Rabbit","Goldfish","Hamster","Turtle","Kitten","Puppy","Bear","Moose","Fox","Raccoon","Squirrel","Owl","Hedgehog","Deer","Wolf","Beaver","Tiger","Orangutan","Cockatoo","Parrot","Anaconda","Jaguar","Macaw","Toucan","Panther","Capuchin","Gorilla","Hippo","Rhino","Giraffe","Snowy Owl","Polar Bear","Arctic Fox","Baby Penguin","Penguin","Arctic Hare","Seal","Walrus"],dj=({unlocks:e,onSelect:t,onClose:r})=>A.jsxs("div",{className:He.modal,children:[A.jsx("div",{className:He.modalButton,role:"button",tabIndex:0,onClick:r}),A.jsx("div",{className:Sg.container,children:A.jsx("div",{className:Sg.blooksHolder,children:Object.keys(gs).filter(n=>_o.includes(n)||e[n]).map(n=>A.jsx("div",{className:Sg.blookContainer,role:"button",tabIndex:0,onClick:()=>t(n),children:A.jsx(xn,{name:n,className:Sg.blook})},n))})})]});dj.propTypes={unlocks:Wt.object.isRequired,onSelect:Wt.func,onClose:Wt.func};const kA=[{name:"Total Tokens",desc:"Total Tokens Earned at Any Time",stat:"totalTokens",url:Re.basic.token,topStat:!0},{name:"Blooks Unlocked",desc:"Total Unique Blooks Unlocked in the Market",stat:"numUnlocks",url:Re.profile.BlooksUnlocked,topStat:!0},{name:"Wins",desc:"1st Place Finishes in Any Game Mode",stat:"wins",url:Re.profile.Wins},{name:"Top 5s",desc:"Top 5 Finishes in Any Game Mode",stat:"topFives",url:Re.profile.Top5s},{name:"Total Points",desc:"Total Points Earned in Classic",stat:"classicPoints",url:Re.profile.Points},{name:"Racing Progress",desc:"Total Correct Answers in Racing",stat:"racingProgress",url:Re.profile.RacingProgress},{name:"Total Cash",desc:"Total Cash at the end of Factory Games",stat:"totalCash",url:Re.profile.TotalCash},{name:"Players Defeated",desc:"Players You've Placed Ahead of in Any Game Mode",stat:"playersDefeated",url:Re.profile.PlayersDefeated},{name:"Correct Answers",desc:"Total Correct Answers in Any Game Mode",stat:"correctAnswers",url:Re.profile.CorrectAnswers},{name:"Games Played",desc:"Total Games Played in Any Game Mode",stat:"gamesPlayed",url:Re.profile.GamesPlayed},{name:"Factory Upgrades",desc:"Total Times You've Upgraded Blooks in Factory",stat:"upgrades",url:Re.profile.FactoryUpgrades},{name:"Showdown Wins",desc:"Wins in Showdowns during Battle Royale",stat:"showdownWins",url:Re.profile.ShowdownWins},{name:"Total Crypto",desc:"Total Crypto at the end of Crypto Hack Games",stat:"totalCrypto",url:Re.profile.CryptoIcon},{name:"Total Gold",desc:"Total Gold at the end of Gold Quest Games",stat:"totalGold",url:Re.profile.Gold},{name:"Total Fish Weight",desc:"Total weight (lbs) of fish caught in Fishing Frenzy",stat:"totalFishWeight",url:Re.profile.FishWeight},{name:"Daily Tokens Available",desc:"Remaining Tokens before reaching Daily Limit",stat:"tokensAvailable",url:Re.profile.Days,nonUser:!0},{name:"Time Before Reset",desc:"Time before Daily Token Limit resets",stat:"timeLeft",url:Re.profile.TimeBeforeReset,nonUser:!0}],DA={newbie:{name:"Newbie",price:0,rarity:"Common"},earlyBird:{name:"Early Bird",price:100,rarity:"Uncommon"},lineLeader:{name:"Line Leader",price:250,rarity:"Uncommon"},studious:{name:"Studious",price:100,rarity:"Uncommon"},smartyPants:{name:"Smarty Pants",price:250,rarity:"Uncommon"},thoughtful:{name:"Thoughtful",price:100,rarity:"Uncommon"},starStudent:{name:"Star Student",price:250,rarity:"Uncommon"},creative:{name:"Creative",price:100,rarity:"Uncommon"},pumpkinSpice:{name:"Pumpkin Spice",price:500,rarity:"Rare"},spooky:{name:"Spooky",price:500,rarity:"Rare"},trickOrTreat:{name:"Trick or Treat",price:500,rarity:"Rare"},harvester:{name:"Harvester",price:250,rarity:"Uncommon"},thankful:{name:"Thankful",price:50,rarity:"Uncommon"},jolly:{name:"Jolly",price:100,rarity:"Uncommon"},merry:{name:"Merry",price:200,rarity:"Rare"},freezing:{name:"Freezing",price:300,rarity:"Rare"},honorRoll:{name:"Honor Roll",price:100,rarity:"Uncommon"},gamer:{name:"Gamer",price:750,rarity:"Epic"},happy:{name:"Happy",price:100,rarity:"Uncommon"},athlete:{name:"Athlete",price:200,rarity:"Rare"},musician:{name:"Musician",price:150,rarity:"Uncommon"},artist:{name:"Artist",price:500,rarity:"Rare"},scientist:{name:"Scientist",price:150,rarity:"Uncommon"},allStar:{name:"All-Star",price:500,rarity:"Rare"},friend:{name:"Friend",price:150,rarity:"Uncommon"},lover:{name:"Lover",price:500,rarity:"Rare"},farmer:{name:"Farmer",price:150,rarity:"Uncommon"},hungry:{name:"Hungry",price:300,rarity:"Rare"},coder:{name:"Coder",price:150,rarity:"Uncommon"},inspired:{name:"Inspired",price:150,rarity:"Uncommon"},prodigy:{name:"Prodigy",price:300,rarity:"Rare"},leprechaun:{name:"Leprechaun",price:500,rarity:"Rare"},chef:{name:"Chef",price:300,rarity:"Rare"},gardener:{name:"Gardener",price:100,rarity:"Uncommon"},eggHunter:{name:"Egg Hunter",price:150,rarity:"Uncommon"},bunnyRabbit:{name:"Bunny Rabbit",price:500,rarity:"Rare"},tired:{name:"Tired",price:300,rarity:"Rare"},competitor:{name:"Competitor",price:100,rarity:"Uncommon"},duckling:{name:"Duckling",price:500,rarity:"Rare"},baker:{name:"Baker",price:150,rarity:"Uncommon"},surfer:{name:"Surfer",price:150,rarity:"Uncommon"},adventurer:{name:"Adventurer",price:150,rarity:"Uncommon"},skater:{name:"Skater",price:150,rarity:"Uncommon"},chill:{name:"Chill",price:500,rarity:"Rare"},busy:{name:"Busy",price:150,rarity:"Uncommon"},pirate:{name:"Pirate",price:750,rarity:"Epic"},vampire:{name:"Vampire",price:750,rarity:"Epic"},justForFun:{name:"Just For Fun",price:300,rarity:"Rare"},fullSpeed:{name:"Full Speed",price:150,rarity:"Uncommon"},spicy:{name:"Spicy",price:500,rarity:"Rare"},partyAnimal:{name:"Party Animal",price:750,rarity:"Epic"}};class pj extends ti.Component{constructor(t){super(t),this.state={ready:!1,user:null,mostUsedBlook:"Light Blue",level:0,xp:0,tokensAvailable:0,timeLeft:"",blookUsage:[],gameHistory:[],customBlooks:["","","","",""],editingBlook:-1,editHeader:"",currentBanner:null,ownedBanners:null,currentSeason:OL()},this.here=!0,this.stopEditing=this.stopEditing.bind(this),this.deleteBlook=this.deleteBlook.bind(this),this.changeBlook=this.changeBlook.bind(this),this.changeBanner=this.changeBanner.bind(this),this.changeTitle=this.changeTitle.bind(this),this.loadData=this.loadData.bind(this)}componentDidMount(){return oi(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ue.logError("StatsPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}this.setState({user:t}),this.loadData()})}componentWillUnmount(){this.here=!1,clearInterval(this.timeInterval)}loadData(){return oi(this,null,function*(){const t=this.state.user,r=yield Vr.userBanners({});vi.get("/api/users/stats").then(n=>{if(!n.data)return;const S=[...n.data.gameHistory.slice(Math.max(n.data.gameHistory.length-7,0),n.data.gameHistory.length)];S.reverse();let s="Light Blue",g=[...Object.entries(n.data.blookUsage).map(([f,h])=>({name:f,uses:h}))];g.sort((f,h)=>h.uses-f.uses),g=g.slice(0,5),g.length>0&&(s=g[0].name);const i=n.data.xp||0,a=nAt(i);if(!this.here)return;const v=ui.duration(ui.utc().add(1,"day").startOf("day").diff(ui.utc()));this.setState({ready:!0,level:a.level,xp:a.xp,mostUsedBlook:s,user:ji(ji({},t),n.data),customBlooks:n.data.customBlooks.length===5?n.data.customBlooks:this.state.customBlooks,tokensAvailable:ui.utc(n.data.lastTokenDay).isSame(ui.utc(),"d")?n.data.tokensAvailable:500,timeLeft:`${v.hours()}:${v.minutes()<10?"0":""}${v.minutes()}`,gameHistory:S,blookUsage:g,currentBanner:r.currentBanner,ownedBanners:r.ownedBanners},()=>{this.timeInterval=setInterval(()=>{const f=ui.duration(ui.utc().add(1,"day").startOf("day").diff(ui.utc()));this.setState({timeLeft:`${f.hours()}:${f.minutes()<10?"0":""}${f.minutes()}`})},6e4)})}).catch(n=>{Ue.logError(n)})})}stopEditing(t,r){return oi(this,null,function*(){if(!t)return this.setState({editingBlook:-1});const n=[...this.state.customBlooks];n[this.state.editingBlook]="",this.setState({customBlooks:n},()=>{n[this.state.editingBlook]=r,this.setState({customBlooks:n,editingBlook:-1})});try{yield Vr.saveCustomBlook({customCode:r,saveSlotIndex:this.state.editingBlook})}catch(c){Ue.logError(c)}})}deleteBlook(t){return oi(this,null,function*(){const r=[...this.state.customBlooks];r[t]="",this.setState({customBlooks:r,editingBlook:-1});try{yield Vr.saveCustomBlook({customCode:"",saveSlotIndex:t})}catch(n){Ue.logError(n)}})}changeBlook(t){return oi(this,null,function*(){if(t===this.state.user.blook)return this.setState({isChangingBlook:!1});this.setState({user:Or(ji({},this.state.user),{blook:t}),isChangingBlook:!1});try{yield Vr.changeUserBlook({blook:t}),this.props.user.getLoggedIn()}catch(r){Ue.logError(r)}})}changeBanner(t){if(t===this.state.user.banner)return this.setState({editHeader:""});vi.put("/api/users/change/banner",{banner:t}).then(()=>{oi(this,null,function*(){const r=yield Vr.userBanners({});this.setState({user:Or(ji({},this.state.user),{banner:t}),editHeader:"",currentBanner:r.currentBanner})})}).catch(r=>{Ue.logError(r)})}changeTitle(t){if(t===this.state.user.title)return this.setState({editHeader:""});this.setState({user:Or(ji({},this.state.user),{title:t}),editHeader:""}),vi.put("/api/users/change/title",{title:t}).then(()=>{}).catch(r=>{Ue.logError(r)})}render(){return A.jsxs("div",{className:ur?Xe.mBody:Xe.body,children:[A.jsx(nn,{title:`${this.state.user?this.state.user.name:"Stats"} | Blooket`}),A.jsx(qs,{user:this.state.user,page:"Stats"}),A.jsx("div",{className:Xe.background,children:A.jsx("div",{className:Xe.blooksBackground,style:{backgroundImage:`url(${Re.basic.blookCheckers})`}})}),A.jsx("div",{className:Ct(He.profileBodyMax,Xe.bodyMaxWidth),children:this.state.ready?A.jsxs("div",{className:Xe.fullContainer,children:[A.jsx("div",{className:Xe.headerRow,children:A.jsxs("div",{className:Xe.headerLeft,children:[A.jsxs("div",{className:Xe.headerLeftRow,children:[A.jsx("div",{className:Xe.headerBlookContainer,role:"button",tabIndex:0,onClick:()=>this.setState({isChangingBlook:!0}),children:A.jsx(xn,{name:this.state.user.blook||"Chick",className:Xe.headerBlook})}),A.jsxs("div",{className:Xe.headerInfo,children:[A.jsxs("div",{className:Xe.headerBanner,role:"button",tabIndex:0,onClick:()=>this.setState({editHeader:"banner"}),children:[this.state.currentBanner&&A.jsx("img",{src:this.state.currentBanner.url,alt:this.state.currentBanner.name,className:Xe.headerBg,draggable:!1}),A.jsx("div",{className:Xe.headerName,children:this.state.user.name}),A.jsx("div",{className:Xe.headerTitle,children:this.state.user.title?DA[this.state.user.title].name:"Newbie"})]}),A.jsxs("div",{className:Xe.levelBarContainer,children:[A.jsx("div",{className:Xe.levelBar,children:A.jsx("div",{className:Xe.levelBarInside,style:{transform:`scaleX(${this.state.level===100?1:this.state.xp/Qu[this.state.level].xp})`}})}),A.jsxs("div",{className:Xe.levelStarContainer,children:[A.jsx("img",{src:Re.profile.LevelStar,alt:"Star",className:Xe.levelStar,draggable:!1}),A.jsx("div",{className:Xe.levelStarText,children:this.state.level})]})]})]})]}),A.jsxs("div",{className:Xe.headerLeftButtons,children:[A.jsx(Ti,{color:"#9a49aa",outsideClass:Xe.headerButton,onClick:()=>{window.location.href=nr.play},children:A.jsxs("div",{className:Xe.headerButtonInside,children:[A.jsx("i",{className:Ct(Xe.headerButtonIcon,"fas fa-play")}),"Play Now!"]})}),A.jsx(Ti,{color:"#ffa31e",outsideClass:Xe.headerButton,onClick:()=>this.props.history.push("/market"),children:A.jsxs("div",{className:Xe.headerButtonInside,children:[A.jsx("i",{className:Ct(Xe.headerButtonIcon,"fas fa-store")}),"Unlock Blooks"]})}),A.jsx(Ti,{color:"#1e92ff",outsideClass:Xe.headerButton,onClick:()=>this.props.history.push("/blooks"),children:A.jsxs("div",{className:Xe.headerButtonInside,children:[A.jsx("i",{className:Ct(Xe.headerButtonIcon,"fas fa-suitcase")}),"Manage Blooks"]})})]})]})}),A.jsx(fj,{level:this.state.level,xp:this.state.xp}),A.jsxs("div",{className:Xe.bottomContainer,children:[A.jsxs("div",{className:Xe.left,children:[this.state.blookUsage.length>0?A.jsxs("div",{className:Xe.blookUsageContainer,children:[A.jsx("div",{className:Xe.containerHeader,children:A.jsx("div",{className:Xe.containerHeaderInside,children:"Blook Usage"})}),this.state.blookUsage.map(t=>A.jsxs("div",{className:Xe.blookUsageRow,children:[A.jsx(xn,{name:t.name,className:Xe.blookUsageBlook}),A.jsx("div",{className:Xe.blookUsageBarContainer,children:A.jsx("div",{className:Xe.blookUsageBar,style:{transform:`scaleX(${t.uses/this.state.blookUsage[0].uses})`,backgroundColor:rkt(t.name)}})})]},t.name)),A.jsxs("div",{className:Xe.blookUsageScale,children:[A.jsx("div",{className:Xe.blookUsageNum,children:"0"}),A.jsx("div",{className:Xe.blookUsageScaleBar}),A.jsx("div",{className:Xe.blookUsageNum,children:this.state.blookUsage[0].uses})]}),A.jsx("div",{className:Xe.blookUsageText,children:"Plays"})]}):null,A.jsxs("div",{className:Ct(Xe.historyContainer,{[Xe.historyNoTop]:this.state.blookUsage.length===0}),children:[A.jsx("div",{className:Xe.containerHeader,children:A.jsx("div",{className:Xe.containerHeaderInside,children:"History"})}),this.state.gameHistory.length>0?this.state.gameHistory.map((t,r)=>A.jsxs("div",{className:Xe.historyGameContainer,children:[A.jsx(xn,{name:t.blookUsed,className:Xe.historyBlook}),A.jsxs("div",{className:Xe.historyInfo,children:[A.jsx("div",{className:Xe.historyName,children:t.name}),A.jsx("div",{className:Xe.historyPlace,children:`${t.place}${eN(t.place)} Place`})]}),t.candy!==void 0?A.jsxs("div",{className:Xe.gameStatContainer,children:[A.jsx("div",{className:Xe.gameStatText,children:yo(t.candy)}),A.jsx("img",{src:Re.basic.candyDark,alt:"Candy",className:Xe.gameStatImg,draggable:!1})]}):t.gold!==void 0?A.jsxs("div",{className:Xe.gameStatContainer,children:[A.jsx("div",{className:Xe.gameStatText,children:yo(t.gold)}),A.jsx("img",{src:this.state.currentSeason===_h.SPOOKY?Re.basic.candy:Re.basic.gold,alt:"Gold",className:Xe.gameStatImg,draggable:!1})]}):t.xp!==void 0?A.jsxs("div",{className:Xe.gameStatContainer,children:[A.jsx("div",{className:Xe.gameStatText,children:yo(t.xp)}),A.jsx("img",{src:Re.basic.xp,alt:"Xp",className:Ct(Xe.gameStatImg,Xe.smallGameStatImg),draggable:!1})]}):t.toys!==void 0?A.jsxs("div",{className:Xe.gameStatContainer,children:[A.jsx("div",{className:Xe.gameStatText,children:yo(t.toys)}),A.jsx("img",{src:Re.basic.toy,alt:"Toy",className:Xe.gameStatImg,draggable:!1})]}):t.shamrocks!==void 0?A.jsxs("div",{className:Xe.gameStatContainer,children:[A.jsx("div",{className:Xe.gameStatText,children:yo(t.shamrocks)}),A.jsx("img",{src:Re.shamrock.shamrockBlack,alt:"Shamrock",className:Xe.gameStatImg,draggable:!1})]}):t.snow!==void 0?A.jsxs("div",{className:Xe.gameStatContainer,children:[A.jsx("div",{className:Xe.gameStatText,children:yo(t.snow)}),A.jsx("i",{className:Ct(Xe.snowIcon,"fas fa-snowflake")})]}):t.cash!==void 0?A.jsx("div",{className:Xe.pointsText,children:`$${yo(t.cash)}`}):t.crypto!==void 0?A.jsx("div",{className:Xe.pointsText,children:` ${yo(t.crypto)}`}):t.weight!==void 0?A.jsx("div",{className:Xe.pointsText,children:`${yo(t.weight)} lbs`}):t.classicPoints!==void 0?A.jsxs("div",{className:Xe.gameStatContainer,children:[A.jsx("div",{className:Xe.gameStatText,children:Ji(t.classicPoints)}),A.jsx("i",{className:Ct(Xe.snowIcon,"far fa-check-square")})]}):t.wins!==void 0?A.jsx("div",{className:Xe.pointsText,children:`${t.wins} ${t.wins===1?"Win":"Wins"}`}):t.result!==void 0?A.jsx("div",{className:Xe.pointsText,children:t.result}):t.guests!==void 0?A.jsxs("div",{className:Xe.gameStatContainer,children:[A.jsx("div",{className:Xe.gameStatText,children:Ji(t.guests)}),A.jsx("i",{className:Ct(Xe.snowIcon,"fas fa-users")})]}):t.dmg!==void 0?A.jsxs("div",{className:Xe.gameStatContainer,children:[A.jsx("div",{className:Xe.gameStatText,children:Ji(t.dmg)}),A.jsx("img",{src:Re.basic.DamageIcon,alt:"Damage",className:Ct(Xe.gameStatImg,Xe.smallGameStatImg),draggable:!1})]}):t.doubloons!==void 0?A.jsxs("div",{className:Xe.gameStatContainer,children:[A.jsx("div",{className:Xe.gameStatText,children:Ji(t.doubloons)}),A.jsx("img",{src:Re.basic.doubloon,alt:"Doubloon",className:Ct(Xe.gameStatImg,Xe.smallGameStatImg),draggable:!1})]}):t.numBlooks!==void 0?A.jsxs("div",{className:Xe.gameStatContainer,children:[A.jsx("div",{className:Xe.gameStatText,children:Ji(t.numBlooks)}),A.jsx(xn,{name:t.blookUsed,className:Xe.gameStatBlook})]}):t.fossils!==void 0?A.jsxs("div",{className:Xe.gameStatContainer,children:[A.jsx("div",{className:Xe.gameStatText,children:Ji(t.fossils)}),A.jsx("i",{className:Ct(Xe.fossilIcon,"fas fa-bone")})]}):null]},r)):A.jsx("div",{className:Xe.historyNothing,children:"No Games Played Yet"})]})]}),A.jsxs("div",{className:Xe.right,children:[A.jsxs("div",{className:Xe.customBlookContainer,children:[A.jsx("div",{className:Xe.containerHeader,children:A.jsx("div",{className:Xe.containerHeaderInside,children:"Custom Blooks"})}),this.state.customBlooks.map((t,r)=>t?A.jsxs("div",{className:Xe.blookContainer,children:[A.jsx(bx,{code:t,className:Xe.customBlook}),A.jsxs("div",{className:Xe.customIconRow,children:[A.jsx("i",{className:Ct("fas fa-pencil-alt",Xe.customIcon),role:"button",tabIndex:0,onClick:()=>this.setState({editingBlook:r})}),A.jsx("i",{className:Ct("fas fa-trash-alt",Xe.customIcon),role:"button",tabIndex:0,onClick:()=>this.deleteBlook(r)})]})]},r):A.jsxs("div",{className:Xe.noBlookContainer,role:"button",tabIndex:0,onClick:()=>this.setState({editingBlook:r}),children:[A.jsx("i",{className:Ct("fas fa-plus-square",Xe.noBlookIcon)}),"New Blook"]},r))]}),A.jsxs("div",{className:Xe.statsContainer,children:[A.jsx("div",{className:Xe.containerHeader,children:A.jsx("div",{className:Xe.containerHeaderInside,children:"Stats"})}),A.jsxs("div",{className:Xe.topStats,children:[A.jsx(Ec,{place:"bottom",effect:"solid",className:He.tooltip}),kA.filter(t=>t.topStat).map(t=>A.jsxs("div",{className:Xe.statContainer,"data-tip":t.desc,children:[A.jsx("div",{className:Xe.statTitle,children:t.name}),A.jsx("div",{className:Xe.statNum,children:this.state.user[t.stat]>9999999999?yo(this.state.user[t.stat]):Ji(this.state.user[t.stat])}),t.url?A.jsx("img",{src:t.url,alt:t.name,className:t.name==="Total Tokens"?Xe.tokenImg:Xe.statImg,draggable:!1}):null]},t.name))]}),A.jsx("div",{className:Xe.statsWrapper,children:kA.filter(t=>!t.topStat).map(t=>A.jsxs("div",{className:Xe.statContainer,children:[A.jsx("div",{className:Xe.statTitle,children:t.name}),A.jsx("div",{className:Xe.statNum,children:t.nonUser?this.state[t.stat]:this.state.user[t.stat]>9999999999?yo(this.state.user[t.stat]):Ji(this.state.user[t.stat])}),t.url?A.jsx("img",{src:t.url,alt:t.name,className:Xe.statImg,draggable:!1}):null]},t.name))})]})]})]})]}):null}),this.state.editingBlook>=0?A.jsx(cj,{startCode:this.state.customBlooks[this.state.editingBlook],blookParts:this.state.user.blookParts,close:this.stopEditing}):this.state.isChangingBlook?A.jsx(dj,{unlocks:this.state.user.unlocks||{},onSelect:t=>this.changeBlook(t),onClose:()=>this.setState({isChangingBlook:!1})}):this.state.editHeader?A.jsxs("div",{className:He.modal,children:[A.jsx("div",{className:He.modalButton,role:"button",tabIndex:0,onClick:()=>this.setState({editHeader:""})}),A.jsxs("div",{className:Xe.editHeaderContainer,children:[A.jsxs("div",{className:Xe.editHeaderRow,children:[A.jsx(Ti,{color:"#0bc2cf",insideClass:Xe.editHeaderButtonInside,onClick:()=>this.setState({editHeader:"banner"}),children:"Banners"}),A.jsx(Ti,{color:"#0bc2cf",insideClass:Xe.editHeaderButtonInside,onClick:()=>this.setState({editHeader:"title"}),children:"Titles"})]}),A.jsx("div",{className:Xe.editHeaderColumn,children:this.state.editHeader==="banner"?this.state.ownedBanners?this.state.ownedBanners.map(t=>A.jsx("div",{className:Xe.editBanner,role:"button",tabIndex:0,onClick:()=>this.changeBanner(t.slug),children:A.jsx("img",{src:t.url,alt:t.name,className:Xe.editBannerImg,draggable:!1})},t.slug)):A.jsx("div",{className:Xe.noBannersText,children:"No Banners Unlocked Yet"}):this.state.user.titles?Object.entries(DA).filter(([t])=>t==="newbie"||this.state.user.titles.includes(t)).map(([t,r])=>A.jsx("div",{className:Xe.editTitle,role:"button",tabIndex:0,onClick:()=>this.changeTitle(t),children:r.name},t)):A.jsx("div",{className:Xe.noBannersText,children:"No Titles Unlocked Yet"})})]})]}):null]})}}pj.propTypes={history:Wt.object.isRequired,user:Wt.object};const AAt=()=>({}),PAt=e=>ws({},e),RAt=Sn(Ts(Is(AAt,PAt)(pj)));var vj={exports:{}};var pl=ky,th=zi;function Vn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ja=typeof Symbol=="function"&&Symbol.for,mj=ja?Symbol.for("react.portal"):60106,CC=ja?Symbol.for("react.fragment"):60107,gj=ja?Symbol.for("react.strict_mode"):60108,yj=ja?Symbol.for("react.profiler"):60114,EC=ja?Symbol.for("react.provider"):60109,xj=ja?Symbol.for("react.context"):60110,IAt=ja?Symbol.for("react.concurrent_mode"):60111,bj=ja?Symbol.for("react.forward_ref"):60112,kC=ja?Symbol.for("react.suspense"):60113,Sj=ja?Symbol.for("react.suspense_list"):60120,wj=ja?Symbol.for("react.memo"):60115,Tj=ja?Symbol.for("react.lazy"):60116,MAt=ja?Symbol.for("react.block"):60121,BAt=ja?Symbol.for("react.fundamental"):60117,OAt=ja?Symbol.for("react.scope"):60119;function NAt(e){if(e._status===-1){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}}function $v(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case CC:return"Fragment";case mj:return"Portal";case yj:return"Profiler";case gj:return"StrictMode";case kC:return"Suspense";case Sj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xj:return"Context.Consumer";case EC:return"Context.Provider";case bj:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case wj:return $v(e.type);case MAt:return $v(e.render);case Tj:if(e=e._status===1?e._result:null)return $v(e)}return null}var Em=th.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Em.hasOwnProperty("ReactCurrentDispatcher")||(Em.ReactCurrentDispatcher={current:null});Em.hasOwnProperty("ReactCurrentBatchConfig")||(Em.ReactCurrentBatchConfig={suspense:null});var Cj={};function km(e,t){for(var r=e._threadCount|0;r<=t;r++)e[r]=e._currentValue2,e._threadCount=r+1}function FAt(e,t,r,n){if(n&&(n=e.contextType,typeof n=="object"&&n!==null))return km(n,r),n[r];if(e=e.contextTypes){r={};for(var c in e)r[c]=t[c];t=r}else t=Cj;return t}for(var ga=new Uint16Array(16),wg=0;15>wg;wg++)ga[wg]=wg+1;ga[15]=0;var LAt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,AA=Object.prototype.hasOwnProperty,PA={},RA={};function Ej(e){return AA.call(RA,e)?!0:AA.call(PA,e)?!1:LAt.test(e)?RA[e]=!0:(PA[e]=!0,!1)}function _At(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jAt(e,t,r,n){if(t===null||typeof t=="undefined"||_At(e,t,r))return!0;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ua(e,t,r,n,c,S){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=c,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=S}var ua={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ua[e]=new Ua(e,0,!1,e,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ua[t]=new Ua(t,1,!1,e[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ua[e]=new Ua(e,2,!1,e.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ua[e]=new Ua(e,2,!1,e,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ua[e]=new Ua(e,3,!1,e.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(e){ua[e]=new Ua(e,3,!0,e,null,!1)});["capture","download"].forEach(function(e){ua[e]=new Ua(e,4,!1,e,null,!1)});["cols","rows","size","span"].forEach(function(e){ua[e]=new Ua(e,6,!1,e,null,!1)});["rowSpan","start"].forEach(function(e){ua[e]=new Ua(e,5,!1,e.toLowerCase(),null,!1)});var e4=/[\-:]([a-z])/g;function i4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(e4,i4);ua[t]=new Ua(t,1,!1,e,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(e4,i4);ua[t]=new Ua(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(e4,i4);ua[t]=new Ua(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(e){ua[e]=new Ua(e,1,!1,e.toLowerCase(),null,!1)});ua.xlinkHref=new Ua("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(e){ua[e]=new Ua(e,1,!1,e.toLowerCase(),null,!0)});var UAt=/["'&<>]/;function Qc(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=UAt.exec(e);if(t){var r="",n,c=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}c!==n&&(r+=e.substring(c,n)),c=n+1,r+=t}e=c!==n?r+e.substring(c,n):r}return e}function zAt(e,t){var r=ua.hasOwnProperty(e)?ua[e]:null,n;return(n=e!=="style")&&(n=r!==null?r.type===0:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")),n||jAt(e,t,r)?"":r!==null?(e=r.attributeName,n=r.type,n===3||n===4&&t===!0?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+(Qc(t)+'"'))):Ej(e)?e+'="'+(Qc(t)+'"'):""}function GAt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HAt=typeof Object.is=="function"?Object.is:GAt,Eu=null,d1=null,kn=null,yv=!1,DC=!1,Qh=null,Ey=0;function rd(){if(Eu===null)throw Error(Vn(321));return Eu}function IA(){if(0<Ey)throw Error(Vn(312));return{memoizedState:null,queue:null,next:null}}function AC(){return kn===null?d1===null?(yv=!1,d1=kn=IA()):(yv=!0,kn=d1):kn.next===null?(yv=!1,kn=kn.next=IA()):(yv=!0,kn=kn.next),kn}function kj(e,t,r,n){for(;DC;)DC=!1,Ey+=1,kn=null,r=e(t,n);return d1=Eu=null,Ey=0,kn=Qh=null,r}function Dj(e,t){return typeof t=="function"?t(e):t}function MA(e,t,r){if(Eu=rd(),kn=AC(),yv){var n=kn.queue;if(t=n.dispatch,Qh!==null&&(r=Qh.get(n),r!==void 0)){Qh.delete(n),n=kn.memoizedState;do n=e(n,r.action),r=r.next;while(r!==null);return kn.memoizedState=n,[n,t]}return[kn.memoizedState,t]}return e=e===Dj?typeof t=="function"?t():t:r!==void 0?r(t):t,kn.memoizedState=e,e=kn.queue={last:null,dispatch:null},e=e.dispatch=$At.bind(null,Eu,e),[kn.memoizedState,e]}function $At(e,t,r){if(!(25>Ey))throw Error(Vn(301));if(e===Eu)if(DC=!0,e={action:r,next:null},Qh===null&&(Qh=new Map),r=Qh.get(t),r===void 0)Qh.set(t,e);else{for(t=r;t.next!==null;)t=t.next;t.next=e}}function ow(){}var Vv=0,VAt={readContext:function(e){var t=Vv;return km(e,t),e[t]},useContext:function(e){rd();var t=Vv;return km(e,t),e[t]},useMemo:function(e,t){if(Eu=rd(),kn=AC(),t=t===void 0?null:t,kn!==null){var r=kn.memoizedState;if(r!==null&&t!==null){t:{var n=r[1];if(n===null)n=!1;else{for(var c=0;c<n.length&&c<t.length;c++)if(!HAt(t[c],n[c])){n=!1;break t}n=!0}}if(n)return r[0]}}return e=e(),kn.memoizedState=[e,t],e},useReducer:MA,useRef:function(e){Eu=rd(),kn=AC();var t=kn.memoizedState;return t===null?(e={current:e},kn.memoizedState=e):t},useState:function(e){return MA(Dj,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:ow,useEffect:ow,useDebugValue:ow,useResponder:function(e,t){return{props:t,responder:e}},useDeferredValue:function(e){return rd(),e},useTransition:function(){return rd(),[function(e){e()},!1]}},WAt={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function YAt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var Aj={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},XAt=pl({menuitem:!0},Aj),Wv={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QAt=["Webkit","ms","Moz","O"];Object.keys(Wv).forEach(function(e){QAt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wv[t]=Wv[e]})});var KAt=/([A-Z])/g,JAt=/^ms-/,Nh=th.Children.toArray,lw=Em.ReactCurrentDispatcher,ZAt={listing:!0,pre:!0,textarea:!0},qAt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,BA={},uw={};function tPt(e){if(e==null)return e;var t="";return th.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}var ePt=Object.prototype.hasOwnProperty,iPt={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function OA(e,t){if(e===void 0)throw Error(Vn(152,$v(t)||"Component"))}function rPt(e,t,r){function n(s,g){var i=g.prototype&&g.prototype.isReactComponent,a=FAt(g,t,r,i),v=[],f=!1,h={isMounted:function(){return!1},enqueueForceUpdate:function(){if(v===null)return null},enqueueReplaceState:function(y,x){f=!0,v=[x]},enqueueSetState:function(y,x){if(v===null)return null;v.push(x)}};if(i){if(i=new g(s.props,a,h),typeof g.getDerivedStateFromProps=="function"){var u=g.getDerivedStateFromProps.call(null,s.props,i.state);u!=null&&(i.state=pl({},i.state,u))}}else if(Eu={},i=g(s.props,a,h),i=kj(g,s.props,i,a),i==null||i.render==null){e=i,OA(e,g);return}if(i.props=s.props,i.context=a,i.updater=h,h=i.state,h===void 0&&(i.state=h=null),typeof i.UNSAFE_componentWillMount=="function"||typeof i.componentWillMount=="function")if(typeof i.componentWillMount=="function"&&typeof g.getDerivedStateFromProps!="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&typeof g.getDerivedStateFromProps!="function"&&i.UNSAFE_componentWillMount(),v.length){h=v;var o=f;if(v=null,f=!1,o&&h.length===1)i.state=h[0];else{u=o?h[0]:i.state;var d=!0;for(o=o?1:0;o<h.length;o++){var p=h[o];p=typeof p=="function"?p.call(i,u,s.props,a):p,p!=null&&(d?(d=!1,u=pl({},u,p)):pl(u,p))}i.state=u}}else v=null;if(e=i.render(),OA(e,g),typeof i.getChildContext=="function"&&(s=g.childContextTypes,typeof s=="object")){var l=i.getChildContext();for(var m in l)if(!(m in s))throw Error(Vn(108,$v(g)||"Unknown",m))}l&&(t=pl({},t,l))}for(;th.isValidElement(e);){var c=e,S=c.type;if(typeof S!="function")break;n(c,S)}return{child:e,context:t}}var NA=function(){function e(r,n){th.isValidElement(r)?r.type!==CC?r=[r]:(r=r.props.children,r=th.isValidElement(r)?[r]:Nh(r)):r=Nh(r),r={type:null,domNamespace:WAt.html,children:r,childIndex:0,context:Cj,footer:""};var c=ga[0];if(c===0){var S=ga;c=S.length;var s=2*c;if(!(65536>=s))throw Error(Vn(304));var g=new Uint16Array(s);for(g.set(S),ga=g,ga[0]=c+1,S=c;S<s-1;S++)ga[S]=S+1;ga[s-1]=0}else ga[0]=ga[c];this.threadID=c,this.stack=[r],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=n,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var r=this.threadID;ga[r]=ga[0],ga[0]=r}},t.pushProvider=function(r){var n=++this.contextIndex,c=r.type._context,S=this.threadID;km(c,S);var s=c[S];this.contextStack[n]=c,this.contextValueStack[n]=s,c[S]=r.props.value},t.popProvider=function(){var r=this.contextIndex,n=this.contextStack[r],c=this.contextValueStack[r];this.contextStack[r]=null,this.contextValueStack[r]=null,this.contextIndex--,n[this.threadID]=c},t.clearProviders=function(){for(var r=this.contextIndex;0<=r;r--)this.contextStack[r][this.threadID]=this.contextValueStack[r]},t.read=function(r){if(this.exhausted)return null;var n=Vv;Vv=this.threadID;var c=lw.current;lw.current=VAt;try{for(var S=[""],s=!1;S[0].length<r;){if(this.stack.length===0){this.exhausted=!0;var g=this.threadID;ga[g]=ga[0],ga[0]=g;break}var i=this.stack[this.stack.length-1];if(s||i.childIndex>=i.children.length){var a=i.footer;if(a!==""&&(this.previousWasTextNode=!1),this.stack.pop(),i.type==="select")this.currentSelectValue=null;else if(i.type!=null&&i.type.type!=null&&i.type.type.$$typeof===EC)this.popProvider(i.type);else if(i.type===kC){this.suspenseDepth--;var v=S.pop();if(s){s=!1;var f=i.fallbackFrame;if(!f)throw Error(Vn(303));this.stack.push(f),S[this.suspenseDepth]+="<!--$!-->";continue}else S[this.suspenseDepth]+=v}S[this.suspenseDepth]+=a}else{var h=i.children[i.childIndex++],u="";try{u+=this.render(h,i.context,i.domNamespace)}catch(o){throw o!=null&&typeof o.then=="function"?Error(Vn(294)):o}finally{}S.length<=this.suspenseDepth&&S.push(""),S[this.suspenseDepth]+=u}}return S[0]}finally{lw.current=c,Vv=n}},t.render=function(r,n,c){if(typeof r=="string"||typeof r=="number")return c=""+r,c===""?"":this.makeStaticMarkup?Qc(c):this.previousWasTextNode?"<!-- -->"+Qc(c):(this.previousWasTextNode=!0,Qc(c));if(n=rPt(r,n,this.threadID),r=n.child,n=n.context,r===null||r===!1)return"";if(!th.isValidElement(r)){if(r!=null&&r.$$typeof!=null)throw c=r.$$typeof,Error(c===mj?Vn(257):Vn(258,c.toString()));return r=Nh(r),this.stack.push({type:null,domNamespace:c,children:r,childIndex:0,context:n,footer:""}),""}var S=r.type;if(typeof S=="string")return this.renderDOM(r,n,c);switch(S){case gj:case IAt:case yj:case Sj:case CC:return r=Nh(r.props.children),this.stack.push({type:null,domNamespace:c,children:r,childIndex:0,context:n,footer:""}),"";case kC:throw Error(Vn(294))}if(typeof S=="object"&&S!==null)switch(S.$$typeof){case bj:Eu={};var s=S.render(r.props,r.ref);return s=kj(S.render,r.props,s,r.ref),s=Nh(s),this.stack.push({type:null,domNamespace:c,children:s,childIndex:0,context:n,footer:""}),"";case wj:return r=[th.createElement(S.type,pl({ref:r.ref},r.props))],this.stack.push({type:null,domNamespace:c,children:r,childIndex:0,context:n,footer:""}),"";case EC:return S=Nh(r.props.children),c={type:r,domNamespace:c,children:S,childIndex:0,context:n,footer:""},this.pushProvider(r),this.stack.push(c),"";case xj:S=r.type,s=r.props;var g=this.threadID;return km(S,g),S=Nh(s.children(S[g])),this.stack.push({type:r,domNamespace:c,children:S,childIndex:0,context:n,footer:""}),"";case BAt:throw Error(Vn(338));case Tj:switch(S=r.type,NAt(S),S._status){case 1:return r=[th.createElement(S._result,pl({ref:r.ref},r.props))],this.stack.push({type:null,domNamespace:c,children:r,childIndex:0,context:n,footer:""}),"";case 2:throw S._result;default:throw Error(Vn(295))}case OAt:throw Error(Vn(343))}throw Error(Vn(130,S==null?S:typeof S,""))},t.renderDOM=function(r,n,c){var S=r.type.toLowerCase();if(!BA.hasOwnProperty(S)){if(!qAt.test(S))throw Error(Vn(65,S));BA[S]=!0}var s=r.props;if(S==="input")s=pl({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:s.value!=null?s.value:s.defaultValue,checked:s.checked!=null?s.checked:s.defaultChecked});else if(S==="textarea"){var g=s.value;if(g==null){g=s.defaultValue;var i=s.children;if(i!=null){if(g!=null)throw Error(Vn(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(Vn(93));i=i[0]}g=""+i}g==null&&(g="")}s=pl({},s,{value:void 0,children:""+g})}else if(S==="select")this.currentSelectValue=s.value!=null?s.value:s.defaultValue,s=pl({},s,{value:void 0});else if(S==="option"){i=this.currentSelectValue;var a=tPt(s.children);if(i!=null){var v=s.value!=null?s.value+"":a;if(g=!1,Array.isArray(i)){for(var f=0;f<i.length;f++)if(""+i[f]===v){g=!0;break}}else g=""+i===v;s=pl({selected:void 0,children:void 0},s,{selected:g,children:a})}}if(g=s){if(XAt[S]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(Vn(137,S,""));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(Vn(60));if(!(typeof g.dangerouslySetInnerHTML=="object"&&"__html"in g.dangerouslySetInnerHTML))throw Error(Vn(61))}if(g.style!=null&&typeof g.style!="object")throw Error(Vn(62,""))}g=s,i=this.makeStaticMarkup,a=this.stack.length===1,v="<"+r.type;for(y in g)if(ePt.call(g,y)){var h=g[y];if(h!=null){if(y==="style"){f=void 0;var u="",o="";for(f in h)if(h.hasOwnProperty(f)){var d=f.indexOf("--")===0,p=h[f];if(p!=null){if(d)var l=f;else if(l=f,uw.hasOwnProperty(l))l=uw[l];else{var m=l.replace(KAt,"-$1").toLowerCase().replace(JAt,"-ms-");l=uw[l]=m}u+=o+l+":",o=f,d=p==null||typeof p=="boolean"||p===""?"":d||typeof p!="number"||p===0||Wv.hasOwnProperty(o)&&Wv[o]?(""+p).trim():p+"px",u+=d,o=";"}}h=u||null}f=null;t:if(d=S,p=g,d.indexOf("-")===-1)d=typeof p.is=="string";else switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":d=!1;break t;default:d=!0}d?iPt.hasOwnProperty(y)||(f=y,f=Ej(f)&&h!=null?f+'="'+(Qc(h)+'"'):""):f=zAt(y,h),f&&(v+=" "+f)}}i||a&&(v+=' data-reactroot=""');var y=v;g="",Aj.hasOwnProperty(S)?y+="/>":(y+=">",g="</"+r.type+">");t:{if(i=s.dangerouslySetInnerHTML,i!=null){if(i.__html!=null){i=i.__html;break t}}else if(i=s.children,typeof i=="string"||typeof i=="number"){i=Qc(i);break t}i=null}return i!=null?(s=[],ZAt.hasOwnProperty(S)&&i.charAt(0)===`
`&&(y+=`
`),y+=i):s=Nh(s.children),r=r.type,c=c==null||c==="http://www.w3.org/1999/xhtml"?YAt(r):c==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":c,this.stack.push({domNamespace:c,type:S,children:s,childIndex:0,context:n,footer:g}),this.previousWasTextNode=!1,y},e}(),FA={renderToString:function(e){e=new NA(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new NA(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw Error(Vn(207))},renderToStaticNodeStream:function(){throw Error(Vn(208))},version:"16.14.0"},nPt=FA.default||FA;vj.exports=nPt;var sPt=vj.exports;const aPt=Rs(sPt),oPt={Monday:"Pink Astronaut",Tuesday:"Yellow Astronaut",Wednesday:"Black Astronaut",Thursday:"Orange Astronaut",Friday:"Red Astronaut",Saturday:"Brown Astronaut",Sunday:"Green Astronaut"},Pj=e=>e==="Medieval"?[["Elf",13.4],["Witch",13.4],["Wizard",13.4],["Fairy",13.4],["Slime Monster",13.4],["Jester",9],["Dragon",9],["Queen",9],["Unicorn",5],["King",1]]:e==="Blizzard"?[["Snow Globe",14.5],["Holiday Gift",14.5],["Hot Chocolate",14.5],["Holiday Wreath",14.5],["Stocking",14.5],["Gingerbread Man",7.1],["Gingerbread House",7.1],["Reindeer",7.1],["Snowman",5.15],["Santa Claus",1],["Red Sweater Snowman",.02],["Blue Sweater Snowman",.02],["Elf Sweater Snowman",.01]]:e==="Wonderland"?[["Two of Spades",15.2],["Eat Me",15],["Drink Me",15],["Alice",15],["Queen of Hearts",15],["Dormouse",6.5],["White Rabbit",6.5],["Cheshire Cat",6.5],["Caterpillar",2.5],["Mad Hatter",2.5],["King of Hearts",.3]]:e==="Breakfast"?[["Toast",12.5],["Cereal",12.5],["Yogurt",12.5],["Breakfast Combo",12.5],["Orange Juice",12.5],["Milk",12.5],["Waffle",9],["Pancakes",9],["French Toast",5],["Pizza",2]]:e==="Spooky"?[["Pumpkin",19],["Swamp Monster",19],["Frankenstein",19],["Vampire",19],["Zombie",5],["Mummy",5],["Caramel Apple",5],["Candy Corn",5],["Werewolf",3.29],["Ghost",.65],["Red Gummy Bear",.02],["Green Gummy Bear",.02],["Blue Gummy Bear",.02]]:e==="Space"?[["Earth",18.75],["Meteor",18.75],["Stars",18.75],["Alien",18.75],["Planet",10],["UFO",10],["Spaceship",4.5],["Astronaut",.45],[oPt[ui.utc().format("dddd")],.05]]:e==="Bot"?[["Lil Bot",19.5],["Lovely Bot",19.5],["Angry Bot",19.5],["Happy Bot",19.5],["Watson",9],["Buddy Bot",9],["Brainy Bot",3.7],["Mega Bot",.3]]:e==="Aquatic"?[["Old Boot",15],["Jellyfish",15],["Clownfish",15],["Frog",15],["Crab",15],["Pufferfish",6.1],["Blobfish",6.1],["Octopus",6.1],["Narwhal",3],["Dolphin",3],["Baby Shark",.5],["Megalodon",.2]]:e==="Safari"?[["Panda",15],["Sloth",15],["Tenrec",15],["Flamingo",15],["Zebra",15],["Elephant",7],["Lemur",7],["Peacock",7],["Chameleon",3.48],["Lion",.5],["Rainbow Panda",.02]]:e==="Dino"?[["Amber",19.5],["Dino Egg",19.5],["Dino Fossil",19.5],["Stegosaurus",19.5],["Velociraptor",9],["Brontosaurus",9],["Triceratops",3.7],["Tyrannosaurus Rex",.3]]:e==="Ice Monster"?[["Ice Bat",19.5],["Ice Bug",19.5],["Ice Elemental",19.5],["Rock Monster",19.5],["Dink",8.5],["Donk",8.5],["Bush Monster",4.5],["Yeti",.35],["Ice Slime",.08],["Frozen Fossil",.05],["Ice Crab",.02]]:e==="Outback"?[["Dingo",18.75],["Echidna",18.75],["Koala",18.75],["Kookaburra",18.75],["Platypus",7],["Joey",7],["Kangaroo",7],["Crocodile",3.6],["Sugar Glider",.37],["Teal Platypus",.03]]:e==="Pirate"?[["Deckhand",16],["Buccaneer",16],["Swashbuckler",16],["Treasure Map",16],["Seagull",16],["Jolly Pirate",8],["Pirate Ship",8],["Kraken",3.67],["Captain Blackbeard",.3],["Pirate Pufferfish",.03]]:[],Zf={Medieval:20,Breakfast:20,Wonderland:20,Blizzard:25,Space:20,Bot:20,Aquatic:20,Safari:20,Dino:25,"Ice Monster":25,Outback:25,Pirate:25},au=e=>gs[e]?gs[e].rarity:"Common",lPt="_header_fabe0_1",uPt="_rateIcon_fabe0_9",hPt="_tooltip_fabe0_22",cPt="_flex_fabe0_30",fPt="_tokenBalance_fabe0_34",dPt="_mTokenBalance_fabe0_51",pPt="_tokenBalanceIcon_fabe0_70",vPt="_leftColumn_fabe0_76",mPt="_packsWrapper_fabe0_82",gPt="_packContainer_fabe0_89",yPt="_packImgContainer_fabe0_109",xPt="_packShadow_fabe0_114",bPt="_packImg_fabe0_109",SPt="_packBottom_fabe0_132",wPt="_packPriceImg_fabe0_151",TPt="_subheader_fabe0_157",CPt="_weeklyWrapper_fabe0_163",EPt="_weeklyContainer_fabe0_170",kPt="_weeklyName_fabe0_193",DPt="_weeklyTitle_fabe0_205",APt="_weeklyBanner_fabe0_215",PPt="_weeklyPart_fabe0_219",RPt="_weeklyBottom_fabe0_223",IPt="_weeklyRarity_fabe0_242",MPt="_storeContainer_fabe0_259",BPt="_storeImg_fabe0_270",OPt="_cashierBlook_fabe0_278",NPt="_fallStoreImg_fabe0_286",FPt="_fallCashierBlook_fabe0_295",LPt="_spookyCashierBlook_fabe0_303",_Pt="_blizzardCashierBlook_fabe0_311",jPt="_instantButton_fabe0_319",UPt="_openBackground_fabe0_343",zPt="_openContainer_fabe0_353",GPt="_openingContainer_fabe0_372",HPt="_growIn_fabe0_1",$Pt="_openingContainerEpic_fabe0_384",VPt="_epicOpen_fabe0_1",WPt="_openingContainerLegendary_fabe0_425",YPt="_legendaryOpen_fabe0_1",XPt="_openingContainerChroma_fabe0_449",QPt="_chromaOpen_fabe0_1",KPt="_blookBackground_fabe0_488",JPt="_openingPackContainer_fabe0_494",ZPt="_openPackContainer_fabe0_493",qPt="_fadeIn_fabe0_1",tRt="_dropPack_fabe0_1",eRt="_openPackTop_fabe0_532",iRt="_isOpeningPackTop_fabe0_542",rRt="_openTop_fabe0_1",nRt="_openPack_fabe0_493",sRt="_isOpeningPack_fabe0_542",aRt="_open_fabe0_343",oRt="_unlockedBlookImage_fabe0_575",lRt="_unlockedText_fabe0_582",uRt="_unlockedBlook_fabe0_575",hRt="_rarityText_fabe0_599",cRt="_bottomText_fabe0_604",fRt="_bottomShadow_fabe0_616",dRt="_cornerIcon_fabe0_627",pRt="_openBigButton_fabe0_645",vRt="_phaserContainer_fabe0_637",mRt="_canOpen_fabe0_656",gRt="_mInstantButton_fabe0_660",Oi={header:lPt,rateIcon:uPt,tooltip:hPt,flex:cPt,tokenBalance:fPt,mTokenBalance:dPt,tokenBalanceIcon:pPt,leftColumn:vPt,packsWrapper:mPt,packContainer:gPt,packImgContainer:yPt,packShadow:xPt,packImg:bPt,packBottom:SPt,packPriceImg:wPt,subheader:TPt,weeklyWrapper:CPt,weeklyContainer:EPt,weeklyName:kPt,weeklyTitle:DPt,weeklyBanner:APt,weeklyPart:PPt,weeklyBottom:RPt,weeklyRarity:IPt,storeContainer:MPt,storeImg:BPt,cashierBlook:OPt,fallStoreImg:NPt,fallCashierBlook:FPt,spookyCashierBlook:LPt,blizzardCashierBlook:_Pt,instantButton:jPt,openBackground:UPt,openContainer:zPt,openingContainer:GPt,growIn:HPt,openingContainerEpic:$Pt,epicOpen:VPt,openingContainerLegendary:WPt,legendaryOpen:YPt,openingContainerChroma:XPt,chromaOpen:QPt,blookBackground:KPt,openingPackContainer:JPt,openPackContainer:ZPt,fadeIn:qPt,dropPack:tRt,openPackTop:eRt,isOpeningPackTop:iRt,openTop:rRt,openPack:nRt,isOpeningPack:sRt,open:aRt,unlockedBlookImage:oRt,unlockedText:lRt,unlockedBlook:uRt,rarityText:hRt,bottomText:cRt,bottomShadow:fRt,cornerIcon:dRt,openBigButton:pRt,phaserContainer:vRt,canOpen:mRt,mInstantButton:gRt},yRt="_right_1iaus_1",xRt="_rightBackground_1iaus_14",bRt="_rightBottom_1iaus_19",SRt="_rightBlook_1iaus_30",wRt="_rightTopText_1iaus_37",TRt="_highlightedName_1iaus_47",CRt="_highlightedRarity_1iaus_54",ERt="_highlightedBottom_1iaus_59",kRt="_rightButtonRow_1iaus_71",DRt="_rightButton_1iaus_71",ARt="_rightButtonInside_1iaus_87",PRt="_rightButtonImg_1iaus_99",RRt="_rightButtonIcon_1iaus_106",IRt="_topButtonRow_1iaus_111",MRt="_settingButton_1iaus_122",BRt="_left_1iaus_142",ORt="_blooksHolder_1iaus_156",NRt="_soloBlooksHolder_1iaus_178",FRt="_setHolder_1iaus_204",LRt="_setTop_1iaus_209",_Rt="_setTopBackground_1iaus_218",jRt="_setText_1iaus_228",URt="_setDivider_1iaus_236",zRt="_setBlooks_1iaus_243",GRt="_blookContainer_1iaus_249",HRt="_blook_1iaus_156",$Rt="_lockedBlook_1iaus_268",VRt="_blookLock_1iaus_272",WRt="_blookText_1iaus_282",YRt="_mBlooksButton_1iaus_352",XRt="_mBlooksButtonInside_1iaus_360",QRt="_mShowLeft_1iaus_397",Rr={right:yRt,rightBackground:xRt,rightBottom:bRt,rightBlook:SRt,rightTopText:wRt,highlightedName:TRt,highlightedRarity:CRt,highlightedBottom:ERt,rightButtonRow:kRt,rightButton:DRt,rightButtonInside:ARt,rightButtonImg:PRt,rightButtonIcon:RRt,topButtonRow:IRt,settingButton:MRt,left:BRt,blooksHolder:ORt,soloBlooksHolder:NRt,setHolder:FRt,setTop:LRt,setTopBackground:_Rt,setText:jRt,setDivider:URt,setBlooks:zRt,blookContainer:GRt,blook:HRt,lockedBlook:$Rt,blookLock:VRt,blookText:WRt,mBlooksButton:YRt,mBlooksButtonInside:XRt,mShowLeft:QRt},LA=["Lucky Hamster","Chocolate Rabbit","Spring Rabbit","Wise Owl","Frost Wreath","Tropical Globe","New York Snow Globe","London Snow Globe","Japan Snow Globe","Egypt Snow Globe","Paris Snow Globe","Red Sweater Snowman","Blue Sweater Snowman","Elf Sweater Snowman","Santa Claws","Cookies Combo","Chilly Flamingo","Snowy Bush Monster","Nutcracker Koala","Hamsta Claus","Sandwich","Light Blue","Black","Red","Purple","Pink","Orange","Lime","Green","Teal","Tan","Maroon","Gray","Mint","Salmon","Burgandy","Baby Blue","Dust","Brown","Dull Blue","Yellow","Blue","Pumpkin","Swamp Monster","Frankenstein","Vampire","Zombie","Mummy","Caramel Apple","Candy Corn","Werewolf","Ghost","Haunted Pumpkin","Pumpkin Cookie","Ghost Cookie","Red Gummy Bear","Green Gummy Bear","Blue Gummy Bear","Chick Chicken","Chicken Chick","Raccoon Bandit","Owl Sheriff","Vampire Frog","Pumpkin King","Anaconda Wizard","Spooky Pumpkin","Spooky Mummy","Spooky Ghost","Red Astronaut","Blue Astronaut","Green Astronaut","Pink Astronaut","Orange Astronaut","Yellow Astronaut","Black Astronaut","Purple Astronaut","Brown Astronaut","Cyan Astronaut","Lime Astronaut","Lovely Planet","Tim the Alien","Rainbow Astronaut","Rainbow Jellyfish","Blizzard Clownfish","Lovely Frog","Lucky Frog","Spring Frog","Poison Dart Frog","Lemon Crab","Pirate Pufferfish","Donut Blobfish","Crimson Octopus","Rainbow Narwhal","Agent Owl","Party Pig","Master Elf","Phantom King","Leprechaun","Rainbow Panda","White Peacock","Tiger Zebra","Lovely Peacock","Ice Slime","Frozen Fossil","Ice Crab","Teal Platypus"],Rj={Spooky:Re.setBackgrounds.Spooky,Safari:Re.setBackgrounds.Safari,"Forest Animal":Re.setBackgrounds.Forest,Space:Re.setBackgrounds.Space,"Arctic Animal":Re.setBackgrounds.Arctic,Breakfast:Re.setBackgrounds.Breakfast,Dino:Re.setBackgrounds.Dino,Aquatic:Re.setBackgrounds.Aquatic,Blizzard:Re.setBackgrounds.Blizzard,Medieval:Re.setBackgrounds.Medieval,Pet:Re.setBackgrounds.Pets,Wonderland:Re.setBackgrounds.Wonderland,Bot:Re.setBackgrounds.Bots,"Farm Animal":Re.setBackgrounds.Farm,"Tropical Animal":Re.setBackgrounds.Tropical,"Ice Monster":Re.setBackgrounds.IceMonster,Outback:Re.setBackgrounds.Outback,Pirate:Re.setBackgrounds.Pirate},KRt=Re.setBackgrounds.Generic,JRt={Spooky:Re.setTextures.Spooky,Safari:Re.setTextures.Safari,"Forest Animal":Re.setTextures.Forest,Space:Re.setTextures.Space,"Arctic Animal":Re.setTextures.Arctic,Breakfast:Re.setTextures.Breakfast,Dino:Re.setTextures.Dino,Aquatic:Re.setTextures.Aquatic,Blizzard:Re.setTextures.Blizzard,Medieval:Re.setTextures.Medieval,Pet:Re.setTextures.Pets,Wonderland:Re.setTextures.Wonderland,Bot:Re.setTextures.Bots,"Farm Animal":Re.setTextures.Farm,"Tropical Animal":Re.setTextures.Tropical,"Ice Monster":Re.setTextures.IceMonster,Hidden:Re.setTextures.Hidden,Outback:Re.setTextures.Outback,Pirate:Re.setTextures.Pirate},ZRt={Spooky:Re.setIcons.Spooky,Safari:Re.setIcons.Safari,"Forest Animal":Re.setIcons.Forest,Space:Re.setIcons.Space,"Arctic Animal":Re.setIcons.Arctic,Breakfast:Re.setIcons.Breakfast,Dino:Re.setIcons.Dino,Aquatic:Re.setIcons.Aquatic,Blizzard:Re.setIcons.Blizzard,Medieval:Re.setIcons.Medieval,Pet:Re.setIcons.Pets,Wonderland:Re.setIcons.Wonderland,Bot:Re.setIcons.Bots,"Farm Animal":Re.setIcons.Farm,"Tropical Animal":Re.setIcons.Tropical,"Ice Monster":Re.setIcons.IceMonster,Outback:Re.setIcons.Outback,Pirate:Re.setIcons.Pirate},hw={Spooky:{visible:!1,free:!1},Safari:{visible:!0,free:!1},"Forest Animal":{visible:!0,free:!0},Space:{visible:!0,free:!1},"Arctic Animal":{visible:!0,free:!0},Breakfast:{visible:!0,free:!1},Dino:{visible:!0,free:!1},Aquatic:{visible:!0,free:!1},Blizzard:{visible:!1,free:!1},Medieval:{visible:!0,free:!1},Pet:{visible:!0,free:!0},Wonderland:{visible:!0,free:!1},Bot:{visible:!0,free:!1},"Farm Animal":{visible:!0,free:!0},"Tropical Animal":{visible:!0,free:!0},"Ice Monster":{visible:!0,free:!1},Outback:{visible:!0,free:!1},Pirate:{visible:!0,free:!1},Hidden:{visible:!1,free:!1},Color:{visible:!1}};class Ij extends ti.Component{constructor(t){super(t),this.state={user:null,blookData:{},allSets:[],ready:!1,blook:"",selling:!1,loadingSell:!1,numToSell:0,showFree:!1,showPacks:!0,showMobileBlooks:!1,blookSalePrices:{}},this.here=!0,this.setBlook=this.setBlook.bind(this),this.setNewBlooks=this.setNewBlooks.bind(this),this.sellBlook=this.sellBlook.bind(this),this.ensureBlookPrice=this.ensureBlookPrice.bind(this)}componentDidMount(){return oi(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ue.logError("BlooksPage cannot mount without user"),window.location.href=`${nr.id}/login`;return}this.setState({user:t});try{const r=yield Vr.listUnlockedBlooks({});if(r&&r.blooks){const n={};r.blooks.forEach(c=>{n[c.name]=c.numOwned}),this.setNewBlooks(n,this.state.showFree)}}catch(r){Ue.logError(r)}})}componentWillUnmount(){this.here=!1,clearTimeout(this.timeout)}setBlook(t){!this.state.blookData[t]&&!_o.includes(t)||(this.ensureBlookPrice(t),this.setState({blook:t,showMobileBlooks:!1,showFree:this.state.showMobileBlooks?!0:this.state.showFree,showPacks:this.state.showMobileBlooks?!1:this.state.showPacks}))}setNewBlooks(t,r){const n=[];Object.entries(gs).forEach(([S,s])=>{!n.includes(s.set)&&(t[S]||hw[s.set].visible)&&!(hw[s.set].free&&!r)&&n.push(s.set)});let c=this.state.blook;if(!this.state.blook||!t[this.state.blook]){const S=Object.keys(t);S.length===0?c=B2(_o):c=B2(S),this.ensureBlookPrice(c)}this.setState({blook:c,ready:!0,selling:!1,loadingSell:!1,blookData:t,allSets:n,showFree:r})}ensureBlookPrice(t){return oi(this,null,function*(){if(!this.state.blookSalePrices[t]&&!_o.includes(t)){const r=yield Vr.blookSalePrice({blook:t}),n=this.state.blookSalePrices;n[t]=r.tokens,this.setState({blookSalePrices:n})}})}sellBlook(t,r){return oi(this,null,function*(){if(t.preventDefault(),!r||!this.state.numToSell)return this.setState({selling:!1});this.setState({loadingSell:!0});try{const n=yield Vr.sellBlook({blook:this.state.blook,numToSell:this.state.numToSell});if(n&&n.blooks){const c={};if(n.blooks.forEach(S=>{c[S.name]=S.numOwned}),!this.here)return;this.setNewBlooks(c,this.state.showFree)}}catch(n){Ue.logError(n)}})}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,id:"body",children:[A.jsx(nn,{title:"My Blooks | Blooket",desc:"Blooks represent players and compete in races during games. Use this page to view, sell, and manage your Blooks."}),A.jsx(qs,{user:this.state.user,page:"Blooks"}),this.state.ready?A.jsxs("div",{className:He.profileBody,children:[A.jsxs("div",{className:Rr.topButtonRow,children:[A.jsx("div",{className:Rr.settingButton,role:"button",tabIndex:0,onClick:()=>this.setNewBlooks(this.state.blookData,!this.state.showFree),children:this.state.showFree?"Hide Free Blooks":"Show Free Blooks"}),A.jsx("div",{className:Rr.settingButton,role:"button",tabIndex:0,onClick:()=>this.setState({showPacks:!this.state.showPacks}),children:this.state.showPacks?"Hide Packs":"Show Packs"})]}),A.jsx("div",{className:Ct(Rr.left,{[Rr.mShowLeft]:this.state.showMobileBlooks}),children:this.state.showPacks?A.jsx("div",{className:Rr.blooksHolder,children:this.state.allSets.map(t=>A.jsxs("div",{className:Rr.setHolder,children:[A.jsxs("div",{className:Rr.setTop,children:[A.jsx("div",{className:Rr.setTopBackground,style:{backgroundImage:`url(${JRt[t]})`}}),A.jsx("div",{className:Rr.setText,children:t==="Hidden"?"Hidden Blooks":`${t} Pack`}),A.jsx("div",{className:Rr.setDivider})]}),A.jsx("div",{className:Rr.setBlooks,children:Object.entries(gs).filter(([r,n])=>n.set===t&&(this.state.blookData[r]||!LA.includes(r))).map(([r])=>A.jsxs("div",{className:Rr.blookContainer,role:"button",tabIndex:0,onClick:()=>this.setBlook(r),children:[A.jsx(xn,{name:r,className:Ct(Rr.blook,{[Rr.lockedBlook]:!_o.includes(r)&&!this.state.blookData[r]})}),!_o.includes(r)&&!this.state.blookData[r]?A.jsx("i",{className:Ct("fas fa-lock",Rr.blookLock)}):_o.includes(r)?null:A.jsx("div",{className:Rr.blookText,style:{backgroundColor:Fv[au(r)]},children:this.state.blookData[r]?Ji(this.state.blookData[r]):0})]},r))})]},t))}):A.jsx("div",{className:Rr.soloBlooksHolder,children:Object.entries(gs).filter(([t,r])=>!(hw[r.set].free&&!this.state.showFree)&&(this.state.blookData[t]||!LA.includes(t))).map(([t])=>A.jsxs("div",{className:Rr.blookContainer,role:"button",tabIndex:0,onClick:()=>this.setBlook(t),children:[A.jsx(xn,{name:t,className:Ct(Rr.blook,{[Rr.lockedBlook]:!_o.includes(t)&&!this.state.blookData[t]})}),!_o.includes(t)&&!this.state.blookData[t]?A.jsx("i",{className:Ct("fas fa-lock",Rr.blookLock)}):_o.includes(t)?null:A.jsx("div",{className:Rr.blookText,style:{backgroundColor:Fv[au(t)]},children:this.state.blookData[t]?Ji(this.state.blookData[t]):0})]},t))})}),A.jsx(Ti,{outsideClass:Rr.mBlooksButton,onClick:()=>this.setState({showMobileBlooks:!0,showFree:!0,showPacks:!1}),color:"#9a49aa",children:A.jsx("div",{className:Rr.mBlooksButtonInside,children:"Change Blook"})}),A.jsxs("div",{className:Rr.right,children:[A.jsx("img",{src:Rj[gs[this.state.blook].realSet||gs[this.state.blook].set]||KRt,alt:"Background",className:Rr.rightBackground,draggable:!1}),A.jsxs("div",{className:Rr.rightTopText,children:[A.jsx(_x,{className:Rr.highlightedName,mode:"single",forceSingleModeWidth:!1,min:1,max:40,children:om(this.state.blook)}),A.jsx("div",{className:Rr.highlightedRarity,style:{color:Fv[au(this.state.blook)]},children:au(this.state.blook)})]}),A.jsx(xn,{name:this.state.blook,className:Rr.rightBlook}),A.jsx("div",{className:Rr.highlightedBottom,children:_o.includes(this.state.blook)?"Free Blook":this.state.blookData[this.state.blook]?`${Ji(this.state.blookData[this.state.blook])} Owned`:"Locked"}),A.jsx("div",{className:Rr.rightBottom})]}),A.jsx("div",{className:Rr.rightButtonRow,children:!_o.includes(this.state.blook)&&this.state.blookSalePrices[this.state.blook]>0?A.jsx(Ti,{outsideClass:Rr.rightButton,onClick:()=>this.setState({selling:!0,numToSell:1}),color:"#1f77b4",children:A.jsxs("div",{className:Rr.rightButtonInside,children:[A.jsx("img",{src:Re.basic.token,alt:"Token",className:Rr.rightButtonImg,draggable:!1}),"Sell"]})}):null})]}):null,this.state.selling?A.jsx(gr,{text:`Sell ${om(this.state.blook)} Blooks for ${this.state.blookSalePrices[this.state.blook]||0} tokens each:`,loading:this.state.loadingSell,numValue:this.state.numToSell,numChange:t=>this.setState({numToSell:Math.max(Math.min(t.target.value,this.state.blookData[this.state.blook]),0)}),numTotal:this.state.blookData[this.state.blook],buttonOne:{text:"Yes",click:t=>this.sellBlook(t,!0),color:"red"},buttonTwo:{text:"No",click:t=>this.sellBlook(t,!1),color:"blue"}}):null]})}}Ij.propTypes={user:Wt.object};const qRt=()=>({}),tIt=e=>ws({},e),eIt=Sn(Ts(Is(qRt,tIt)(Ij)));var Mj={exports:{}};(function(e,t){(function(n,c){e.exports=c()})(Dm,()=>(()=>{var r={50792:s=>{var g=Object.prototype.hasOwnProperty,i="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1));function v(o,d,p){this.fn=o,this.context=d,this.once=p||!1}function f(o,d,p,l,m){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new v(p,l||o,m),x=i?i+d:d;return o._events[x]?o._events[x].fn?o._events[x]=[o._events[x],y]:o._events[x].push(y):(o._events[x]=y,o._eventsCount++),o}function h(o,d){--o._eventsCount===0?o._events=new a:delete o._events[d]}function u(){this._events=new a,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],p,l;if(this._eventsCount===0)return d;for(l in p=this._events)g.call(p,l)&&d.push(i?l.slice(1):l);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},u.prototype.listeners=function(d){var p=i?i+d:d,l=this._events[p];if(!l)return[];if(l.fn)return[l.fn];for(var m=0,y=l.length,x=new Array(y);m<y;m++)x[m]=l[m].fn;return x},u.prototype.listenerCount=function(d){var p=i?i+d:d,l=this._events[p];return l?l.fn?1:l.length:0},u.prototype.emit=function(d,p,l,m,y,x){var b=i?i+d:d;if(!this._events[b])return!1;var w=this._events[b],C=arguments.length,E,T;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),C){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,l),!0;case 4:return w.fn.call(w.context,p,l,m),!0;case 5:return w.fn.call(w.context,p,l,m,y),!0;case 6:return w.fn.call(w.context,p,l,m,y,x),!0}for(T=1,E=new Array(C-1);T<C;T++)E[T-1]=arguments[T];w.fn.apply(w.context,E)}else{var k=w.length,P;for(T=0;T<k;T++)switch(w[T].once&&this.removeListener(d,w[T].fn,void 0,!0),C){case 1:w[T].fn.call(w[T].context);break;case 2:w[T].fn.call(w[T].context,p);break;case 3:w[T].fn.call(w[T].context,p,l);break;case 4:w[T].fn.call(w[T].context,p,l,m);break;default:if(!E)for(P=1,E=new Array(C-1);P<C;P++)E[P-1]=arguments[P];w[T].fn.apply(w[T].context,E)}}return!0},u.prototype.on=function(d,p,l){return f(this,d,p,l,!1)},u.prototype.once=function(d,p,l){return f(this,d,p,l,!0)},u.prototype.removeListener=function(d,p,l,m){var y=i?i+d:d;if(!this._events[y])return this;if(!p)return h(this,y),this;var x=this._events[y];if(x.fn)x.fn===p&&(!m||x.once)&&(!l||x.context===l)&&h(this,y);else{for(var b=0,w=[],C=x.length;b<C;b++)(x[b].fn!==p||m&&!x[b].once||l&&x[b].context!==l)&&w.push(x[b]);w.length?this._events[y]=w.length===1?w[0]:w:h(this,y)}return this},u.prototype.removeAllListeners=function(d){var p;return d?(p=i?i+d:d,this._events[p]&&h(this,p)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,s.exports=u},11517:(s,g,i)=>{var a=i(38829),v=function(f,h,u,o){for(var d=f[0],p=1;p<f.length;p++){var l=f[p];a(l,d,h,u,o),d=l}return f};s.exports=v},80318:(s,g,i)=>{var a=i(66979),v=function(f,h,u,o,d){return a(f,"angle",h,u,o,d)};s.exports=v},60757:s=>{var g=function(i,a,v){for(var f=0;f<i.length;f++){var h=i[f];a.call(v,h)}return i};s.exports=g},69927:s=>{var g=function(i,a,v){v===void 0&&(v=0);for(var f=v;f<i.length;f++){var h=i[f],u=!0;for(var o in a)h[o]!==a[o]&&(u=!1);if(u)return h}return null};s.exports=g},32265:s=>{var g=function(i,a,v){v===void 0&&(v=0);for(var f=i.length-1;f>=v;f--){var h=i[f],u=!0;for(var o in a)h[o]!==a[o]&&(u=!1);if(u)return h}return null};s.exports=g},94420:(s,g,i)=>{var a=i(11879),v=i(60461),f=i(95540),h=i(29747),u=i(41481),o=new u({sys:{queueDepthSort:h,events:{once:h}}},0,0,1,1).setOrigin(0,0),d=function(p,l){l===void 0&&(l={});var m=l.hasOwnProperty("width"),y=l.hasOwnProperty("height"),x=f(l,"width",-1),b=f(l,"height",-1),w=f(l,"cellWidth",1),C=f(l,"cellHeight",w),E=f(l,"position",v.TOP_LEFT),T=f(l,"x",0),k=f(l,"y",0),P=0,R=0,M=x*w,I=b*C;o.setPosition(T,k),o.setSize(w,C);for(var B=0;B<p.length;B++)if(a(p[B],o,E),m&&x===-1)o.x+=w;else if(y&&b===-1)o.y+=C;else if(y&&!m){if(R+=C,o.y+=C,R===I&&(R=0,P+=w,o.y=k,o.x+=w,P===M))break}else if(P+=w,o.x+=w,P===M&&(P=0,R+=C,o.x=T,o.y+=C,R===I))break;return p};s.exports=d},41721:(s,g,i)=>{var a=i(66979),v=function(f,h,u,o,d){return a(f,"alpha",h,u,o,d)};s.exports=v},67285:(s,g,i)=>{var a=i(66979),v=function(f,h,u,o,d){return a(f,"x",h,u,o,d)};s.exports=v},9074:(s,g,i)=>{var a=i(66979),v=function(f,h,u,o,d,p,l){return u==null&&(u=h),a(f,"x",h,o,p,l),a(f,"y",u,d,p,l)};s.exports=v},75222:(s,g,i)=>{var a=i(66979),v=function(f,h,u,o,d){return a(f,"y",h,u,o,d)};s.exports=v},22983:s=>{var g=function(i,a,v,f){v===void 0&&(v=0),f===void 0&&(f=6.28);for(var h=v,u=(f-v)/i.length,o=a.x,d=a.y,p=a.radius,l=0;l<i.length;l++)i[l].x=o+p*Math.cos(h),i[l].y=d+p*Math.sin(h),h+=u;return i};s.exports=g},95253:s=>{var g=function(i,a,v,f){v===void 0&&(v=0),f===void 0&&(f=6.28);for(var h=v,u=(f-v)/i.length,o=a.width/2,d=a.height/2,p=0;p<i.length;p++)i[p].x=a.x+o*Math.cos(h),i[p].y=a.y+d*Math.sin(h),h+=u;return i};s.exports=g},88505:(s,g,i)=>{var a=i(15258),v=i(26708),f=function(h,u,o){var d;o?d=v(u,o,h.length):d=a(u,h.length);for(var p=0;p<h.length;p++){var l=h[p],m=d[p];l.x=m.x,l.y=m.y}return h};s.exports=f},41346:(s,g,i)=>{var a=i(14649),v=i(86003),f=i(49498),h=function(u,o,d){d===void 0&&(d=0);var p=a(o,!1,u.length);d>0?v(p,d):d<0&&f(p,Math.abs(d));for(var l=0;l<u.length;l++)u[l].x=p[l].x,u[l].y=p[l].y;return u};s.exports=h},11575:(s,g,i)=>{var a=i(84993),v=function(f,h,u){var o=a({x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2},u),d=a({x1:h.x2,y1:h.y2,x2:h.x3,y2:h.y3},u),p=a({x1:h.x3,y1:h.y3,x2:h.x1,y2:h.y1},u);o.pop(),d.pop(),p.pop(),o=o.concat(d,p);for(var l=o.length/f.length,m=0,y=0;y<f.length;y++){var x=f[y],b=o[Math.floor(m)];x.x=b.x,x.y=b.y,m+=l}return f};s.exports=v},29953:s=>{var g=function(i,a,v){for(var f=0;f<i.length;f++){var h=i[f];h.anims&&h.anims.play(a,v)}return i};s.exports=g},66979:s=>{var g=function(i,a,v,f,h,u){f===void 0&&(f=0),h===void 0&&(h=0),u===void 0&&(u=1);var o,d=0,p=i.length;if(u===1)for(o=h;o<p;o++)i[o][a]+=v+d*f,d++;else for(o=h;o>=0;o--)i[o][a]+=v+d*f,d++;return i};s.exports=g},43967:s=>{var g=function(i,a,v,f,h,u){f===void 0&&(f=0),h===void 0&&(h=0),u===void 0&&(u=1);var o,d=0,p=i.length;if(u===1)for(o=h;o<p;o++)i[o][a]=v+d*f,d++;else for(o=h;o>=0;o--)i[o][a]=v+d*f,d++;return i};s.exports=g},88926:(s,g,i)=>{var a=i(28176),v=function(f,h){for(var u=0;u<f.length;u++)a(h,f[u]);return f};s.exports=v},33286:(s,g,i)=>{var a=i(24820),v=function(f,h){for(var u=0;u<f.length;u++)a(h,f[u]);return f};s.exports=v},96e3:(s,g,i)=>{var a=i(65822),v=function(f,h){for(var u=0;u<f.length;u++)a(h,f[u]);return f};s.exports=v},28789:(s,g,i)=>{var a=i(26597),v=function(f,h){for(var u=0;u<f.length;u++)a(h,f[u]);return f};s.exports=v},97154:(s,g,i)=>{var a=i(90260),v=function(f,h){for(var u=0;u<f.length;u++)a(h,f[u]);return f};s.exports=v},20510:(s,g,i)=>{var a=i(66979),v=function(f,h,u,o,d){return a(f,"rotation",h,u,o,d)};s.exports=v},91051:(s,g,i)=>{var a=i(1163),v=i(20339),f=function(h,u,o){for(var d=u.x,p=u.y,l=0;l<h.length;l++){var m=h[l];a(m,d,p,o,Math.max(1,v(m.x,m.y,d,p)))}return h};s.exports=f},76332:(s,g,i)=>{var a=i(1163),v=function(f,h,u,o){var d=h.x,p=h.y;if(o===0)return f;for(var l=0;l<f.length;l++)a(f[l],d,p,u,o);return f};s.exports=v},61619:(s,g,i)=>{var a=i(66979),v=function(f,h,u,o,d){return a(f,"scaleX",h,u,o,d)};s.exports=v},94868:(s,g,i)=>{var a=i(66979),v=function(f,h,u,o,d,p,l){return u==null&&(u=h),a(f,"scaleX",h,o,p,l),a(f,"scaleY",u,d,p,l)};s.exports=v},95532:(s,g,i)=>{var a=i(66979),v=function(f,h,u,o,d){return a(f,"scaleY",h,u,o,d)};s.exports=v},8689:(s,g,i)=>{var a=i(43967),v=function(f,h,u,o,d){return a(f,"alpha",h,u,o,d)};s.exports=v},2645:(s,g,i)=>{var a=i(43967),v=function(f,h,u,o){return a(f,"blendMode",h,0,u,o)};s.exports=v},32372:(s,g,i)=>{var a=i(43967),v=function(f,h,u,o,d){return a(f,"depth",h,u,o,d)};s.exports=v},85373:s=>{var g=function(i,a,v){for(var f=0;f<i.length;f++)i[f].setInteractive(a,v);return i};s.exports=g},81583:(s,g,i)=>{var a=i(43967),v=function(f,h,u,o,d,p,l){return u==null&&(u=h),a(f,"originX",h,o,p,l),a(f,"originY",u,d,p,l),f.forEach(function(m){m.updateDisplayOrigin()}),f};s.exports=v},79939:(s,g,i)=>{var a=i(43967),v=function(f,h,u,o,d){return a(f,"rotation",h,u,o,d)};s.exports=v},2699:(s,g,i)=>{var a=i(43967),v=function(f,h,u,o,d,p,l){return u==null&&(u=h),a(f,"scaleX",h,o,p,l),a(f,"scaleY",u,d,p,l)};s.exports=v},98739:(s,g,i)=>{var a=i(43967),v=function(f,h,u,o,d){return a(f,"scaleX",h,u,o,d)};s.exports=v},98476:(s,g,i)=>{var a=i(43967),v=function(f,h,u,o,d){return a(f,"scaleY",h,u,o,d)};s.exports=v},6207:(s,g,i)=>{var a=i(43967),v=function(f,h,u,o,d,p,l){return u==null&&(u=h),a(f,"scrollFactorX",h,o,p,l),a(f,"scrollFactorY",u,d,p,l)};s.exports=v},6607:(s,g,i)=>{var a=i(43967),v=function(f,h,u,o,d){return a(f,"scrollFactorX",h,u,o,d)};s.exports=v},72248:(s,g,i)=>{var a=i(43967),v=function(f,h,u,o,d){return a(f,"scrollFactorY",h,u,o,d)};s.exports=v},14036:s=>{var g=function(i,a,v,f,h){for(var u=0;u<i.length;u++)i[u].setTint(a,v,f,h);return i};s.exports=g},50159:(s,g,i)=>{var a=i(43967),v=function(f,h,u,o){return a(f,"visible",h,0,u,o)};s.exports=v},77597:(s,g,i)=>{var a=i(43967),v=function(f,h,u,o,d){return a(f,"x",h,u,o,d)};s.exports=v},83194:(s,g,i)=>{var a=i(43967),v=function(f,h,u,o,d,p,l){return u==null&&(u=h),a(f,"x",h,o,p,l),a(f,"y",u,d,p,l)};s.exports=v},67678:(s,g,i)=>{var a=i(43967),v=function(f,h,u,o,d){return a(f,"y",h,u,o,d)};s.exports=v},35850:(s,g,i)=>{var a=i(26099),v=function(f,h,u,o,d){o===void 0&&(o=0),d===void 0&&(d=new a);var p,l,m=f.length;if(m===1)p=f[0].x,l=f[0].y,f[0].x=h,f[0].y=u;else{var y=1,x=0;o===0&&(x=m-1,y=m-2),p=f[x].x,l=f[x].y,f[x].x=h,f[x].y=u;for(var b=0;b<m;b++)if(!(y>=m||y===-1)){var w=f[y],C=w.x,E=w.y;w.x=p,w.y=l,p=C,l=E,o===0?y--:y++}}return d.x=p,d.y=l,d};s.exports=v},8628:(s,g,i)=>{var a=i(33680),v=function(f){return a(f)};s.exports=v},21837:(s,g,i)=>{var a=i(7602),v=function(f,h,u,o,d){d===void 0&&(d=!1);var p=Math.abs(o-u)/f.length,l;if(d)for(l=0;l<f.length;l++)f[l][h]+=a(l*p,u,o);else for(l=0;l<f.length;l++)f[l][h]=a(l*p,u,o);return f};s.exports=v},21910:(s,g,i)=>{var a=i(54261),v=function(f,h,u,o,d){d===void 0&&(d=!1);var p=Math.abs(o-u)/f.length,l;if(d)for(l=0;l<f.length;l++)f[l][h]+=a(l*p,u,o);else for(l=0;l<f.length;l++)f[l][h]=a(l*p,u,o);return f};s.exports=v},62054:s=>{var g=function(i,a,v,f,h){if(h===void 0&&(h=!1),i.length===0)return i;if(i.length===1)return h?i[0][a]+=(f+v)/2:i[0][a]=(f+v)/2,i;var u=Math.abs(f-v)/(i.length-1),o;if(h)for(o=0;o<i.length;o++)i[o][a]+=o*u+v;else for(o=0;o<i.length;o++)i[o][a]=o*u+v;return i};s.exports=g},79815:s=>{var g=function(i){for(var a=0;a<i.length;a++)i[a].visible=!i[a].visible;return i};s.exports=g},39665:(s,g,i)=>{var a=i(15994),v=function(f,h,u){u===void 0&&(u=0);for(var o=0;o<f.length;o++){var d=f[o];d.x=a(d.x,h.left-u,h.right+u),d.y=a(d.y,h.top-u,h.bottom+u)}return f};s.exports=v},61061:(s,g,i)=>{s.exports={AlignTo:i(11517),Angle:i(80318),Call:i(60757),GetFirst:i(69927),GetLast:i(32265),GridAlign:i(94420),IncAlpha:i(41721),IncX:i(67285),IncXY:i(9074),IncY:i(75222),PlaceOnCircle:i(22983),PlaceOnEllipse:i(95253),PlaceOnLine:i(88505),PlaceOnRectangle:i(41346),PlaceOnTriangle:i(11575),PlayAnimation:i(29953),PropertyValueInc:i(66979),PropertyValueSet:i(43967),RandomCircle:i(88926),RandomEllipse:i(33286),RandomLine:i(96e3),RandomRectangle:i(28789),RandomTriangle:i(97154),Rotate:i(20510),RotateAround:i(91051),RotateAroundDistance:i(76332),ScaleX:i(61619),ScaleXY:i(94868),ScaleY:i(95532),SetAlpha:i(8689),SetBlendMode:i(2645),SetDepth:i(32372),SetHitArea:i(85373),SetOrigin:i(81583),SetRotation:i(79939),SetScale:i(2699),SetScaleX:i(98739),SetScaleY:i(98476),SetScrollFactor:i(6207),SetScrollFactorX:i(6607),SetScrollFactorY:i(72248),SetTint:i(14036),SetVisible:i(50159),SetX:i(77597),SetXY:i(83194),SetY:i(67678),ShiftPosition:i(35850),Shuffle:i(8628),SmootherStep:i(21910),SmoothStep:i(21837),Spread:i(62054),ToggleVisible:i(79815),WrapInRectangle:i(39665)}},42099:(s,g,i)=>{var a=i(45319),v=i(83419),f=i(74943),h=i(81957),u=i(41138),o=i(35154),d=i(90126),p=new v({initialize:function(m,y,x){this.manager=m,this.key=y,this.type="frame",this.frames=this.getFrames(m.textureManager,o(x,"frames",[]),o(x,"defaultTextureKey",null),o(x,"sortFrames",!0)),this.frameRate=o(x,"frameRate",null),this.duration=o(x,"duration",null),this.msPerFrame,this.skipMissedFrames=o(x,"skipMissedFrames",!0),this.delay=o(x,"delay",0),this.repeat=o(x,"repeat",0),this.repeatDelay=o(x,"repeatDelay",0),this.yoyo=o(x,"yoyo",!1),this.showBeforeDelay=o(x,"showBeforeDelay",!1),this.showOnStart=o(x,"showOnStart",!1),this.hideOnComplete=o(x,"hideOnComplete",!1),this.randomFrame=o(x,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(f.PAUSE_ALL,this.pause,this),this.manager.on(f.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(l,m,y,x){y===null&&x===null?(l.frameRate=24,l.duration=24/m*1e3):y&&x===null?(l.duration=y,l.frameRate=m/(y/1e3)):(l.frameRate=x,l.duration=m/x*1e3),l.msPerFrame=1e3/l.frameRate},addFrame:function(l){return this.addFrameAt(this.frames.length,l)},addFrameAt:function(l,m){var y=this.getFrames(this.manager.textureManager,m);if(y.length>0){if(l===0)this.frames=y.concat(this.frames);else if(l===this.frames.length)this.frames=this.frames.concat(y);else{var x=this.frames.slice(0,l),b=this.frames.slice(l);this.frames=x.concat(y,b)}this.updateFrameSequence()}return this},checkFrame:function(l){return l>=0&&l<this.frames.length},getFirstTick:function(l){l.accumulator=0,l.nextTick=l.currentFrame.duration?l.currentFrame.duration:l.msPerFrame},getFrameAt:function(l){return this.frames[l]},getFrames:function(l,m,y,x){x===void 0&&(x=!0);var b=[],w,C,E=1,T,k;if(typeof m=="string"){if(k=m,!l.exists(k))return console.warn('Texture "%s" not found',k),b;var P=l.get(k),R=P.getFrameNames();x&&d(R),m=[],R.forEach(function(_){m.push({key:k,frame:_})})}if(!Array.isArray(m)||m.length===0)return b;for(T=0;T<m.length;T++){var M=m[T],I=o(M,"key",y);if(I){var B=o(M,"frame",0),D=l.getFrame(I,B);if(!D){console.warn('Texture "%s" not found',I);continue}C=new u(I,B,E,D),C.duration=o(M,"duration",0),C.isFirst=!w,w&&(w.nextFrame=C,C.prevFrame=w),b.push(C),w=C,E++}}if(b.length>0){C.isLast=!0,C.nextFrame=b[0],b[0].prevFrame=C;var N=1/(b.length-1);for(T=0;T<b.length;T++)b[T].progress=T*N}return b},getNextTick:function(l){l.accumulator-=l.nextTick,l.nextTick=l.currentFrame.duration?l.currentFrame.duration:l.msPerFrame},getFrameByProgress:function(l){return l=a(l,0,1),h(l,this.frames,"progress")},nextFrame:function(l){var m=l.currentFrame;m.isLast?l.yoyo?this.handleYoyoFrame(l,!1):l.repeatCounter>0?l.inReverse&&l.forward?l.forward=!1:this.repeatAnimation(l):l.complete():this.updateAndGetNextTick(l,m.nextFrame)},handleYoyoFrame:function(l,m){if(m||(m=!1),l.inReverse===!m&&l.repeatCounter>0){(l.repeatDelay===0||l.pendingRepeat)&&(l.forward=m),this.repeatAnimation(l);return}if(l.inReverse!==m&&l.repeatCounter===0){l.complete();return}l.forward=m;var y=m?l.currentFrame.nextFrame:l.currentFrame.prevFrame;this.updateAndGetNextTick(l,y)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(l){var m=l.currentFrame;m.isFirst?l.yoyo?this.handleYoyoFrame(l,!0):l.repeatCounter>0?l.inReverse&&!l.forward?this.repeatAnimation(l):(l.forward=!0,this.repeatAnimation(l)):l.complete():this.updateAndGetNextTick(l,m.prevFrame)},updateAndGetNextTick:function(l,m){l.setCurrentFrame(m),this.getNextTick(l)},removeFrame:function(l){var m=this.frames.indexOf(l);return m!==-1&&this.removeFrameAt(m),this},removeFrameAt:function(l){return this.frames.splice(l,1),this.updateFrameSequence(),this},repeatAnimation:function(l){if(l._pendingStop===2){if(l._pendingStopValue===0)return l.stop();l._pendingStopValue--}l.repeatDelay>0&&!l.pendingRepeat?(l.pendingRepeat=!0,l.accumulator-=l.nextTick,l.nextTick+=l.repeatDelay):(l.repeatCounter--,l.forward?l.setCurrentFrame(l.currentFrame.nextFrame):l.setCurrentFrame(l.currentFrame.prevFrame),l.isPlaying&&(this.getNextTick(l),l.handleRepeat()))},toJSON:function(){var l={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(m){l.frames.push(m.toJSON())}),l},updateFrameSequence:function(){for(var l=this.frames.length,m=1/(l-1),y,x=0;x<l;x++)y=this.frames[x],y.index=x+1,y.isFirst=!1,y.isLast=!1,y.progress=x*m,x===0?(y.isFirst=!0,l===1?(y.isLast=!0,y.nextFrame=y,y.prevFrame=y):(y.isLast=!1,y.prevFrame=this.frames[l-1],y.nextFrame=this.frames[x+1])):x===l-1&&l>1?(y.isLast=!0,y.prevFrame=this.frames[l-2],y.nextFrame=this.frames[0]):l>1&&(y.prevFrame=this.frames[x-1],y.nextFrame=this.frames[x+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(f.PAUSE_ALL,this.pause,this),this.manager.off(f.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var l=0;l<this.frames.length;l++)this.frames[l].destroy();this.frames=[],this.manager=null}});s.exports=p},41138:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u,o,d,p){p===void 0&&(p=!1),this.textureKey=h,this.textureFrame=u,this.index=o,this.frame=d,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=p},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});s.exports=v},60848:(s,g,i)=>{var a=i(42099),v=i(83419),f=i(90330),h=i(50792),u=i(74943),o=i(8443),d=i(95540),p=i(35154),l=i(36383),m=i(20283),y=i(41836),x=new v({Extends:h,initialize:function(w){h.call(this),this.game=w,this.textureManager=null,this.globalTimeScale=1,this.anims=new f,this.mixes=new f,this.paused=!1,this.name="AnimationManager",w.events.once(o.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(o.DESTROY,this.destroy,this)},addMix:function(b,w,C){var E=this.anims,T=this.mixes,k=typeof b=="string"?b:b.key,P=typeof w=="string"?w:w.key;if(E.has(k)&&E.has(P)){var R=T.get(k);R||(R={}),R[P]=C,T.set(k,R)}return this},removeMix:function(b,w){var C=this.mixes,E=typeof b=="string"?b:b.key,T=C.get(E);if(T)if(w){var k=typeof w=="string"?w:w.key;T.hasOwnProperty(k)&&delete T[k]}else w||C.delete(E);return this},getMix:function(b,w){var C=this.mixes,E=typeof b=="string"?b:b.key,T=typeof w=="string"?w:w.key,k=C.get(E);return k&&k.hasOwnProperty(T)?k[T]:0},add:function(b,w){return this.anims.has(b)?(console.warn("Animation key exists: "+b),this):(w.key=b,this.anims.set(b,w),this.emit(u.ADD_ANIMATION,b,w),this)},exists:function(b){return this.anims.has(b)},createFromAseprite:function(b,w,C){var E=[],T=this.game.cache.json.get(b);if(!T)return console.warn("No Aseprite data found for: "+b),E;var k=this,P=p(T,"meta",null),R=p(T,"frames",null);if(P&&R){var M=p(P,"frameTags",[]);M.forEach(function(I){var B=[],D=d(I,"name",null),N=d(I,"from",0),_=d(I,"to",0),G=d(I,"direction","forward");if(D&&(!w||w&&w.indexOf(D)>-1)){for(var $=0,V=N;V<=_;V++){var Y=V.toString(),U=R[Y];if(U){var F=d(U,"duration",l.MAX_SAFE_INTEGER);B.push({key:b,frame:Y,duration:F}),$+=F}}G==="reverse"&&(B=B.reverse());var O={key:D,frames:B,duration:$,yoyo:G==="pingpong"},j;C?C.anims&&(j=C.anims.create(O)):j=k.create(O),j&&E.push(j)}})}return E},create:function(b){var w=b.key,C=!1;return w&&(C=this.get(w),C?console.warn("AnimationManager key already exists: "+w):(C=new a(this,w,b),this.anims.set(w,C),this.emit(u.ADD_ANIMATION,w,C))),C},fromJSON:function(b,w){w===void 0&&(w=!1),w&&this.anims.clear(),typeof b=="string"&&(b=JSON.parse(b));var C=[];if(b.hasOwnProperty("anims")&&Array.isArray(b.anims)){for(var E=0;E<b.anims.length;E++)C.push(this.create(b.anims[E]));b.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=b.globalTimeScale)}else b.hasOwnProperty("key")&&b.type==="frame"&&C.push(this.create(b));return C},generateFrameNames:function(b,w){var C=p(w,"prefix",""),E=p(w,"start",0),T=p(w,"end",0),k=p(w,"suffix",""),P=p(w,"zeroPad",0),R=p(w,"outputArray",[]),M=p(w,"frames",!1);if(!this.textureManager.exists(b))return console.warn('Texture "%s" not found',b),R;var I=this.textureManager.get(b);if(!I)return R;var B;if(w)for(M||(M=m(E,T)),B=0;B<M.length;B++){var D=C+y(M[B],P,"0",1)+k;I.has(D)?R.push({key:b,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,b)}else for(M=I.getFrameNames(),B=0;B<M.length;B++)R.push({key:b,frame:M[B]});return R},generateFrameNumbers:function(b,w){var C=p(w,"start",0),E=p(w,"end",-1),T=p(w,"first",!1),k=p(w,"outputArray",[]),P=p(w,"frames",!1);if(!this.textureManager.exists(b))return console.warn('Texture "%s" not found',b),k;var R=this.textureManager.get(b);if(!R)return k;T&&R.has(T)&&k.push({key:b,frame:T}),P||(E===-1&&(E=R.frameTotal-2),P=m(C,E));for(var M=0;M<P.length;M++){var I=P[M];R.has(I)?k.push({key:b,frame:I}):console.warn('Frame "%s" not found in texture "%s"',I,b)}return k},get:function(b){return this.anims.get(b)},getAnimsFromTexture:function(b){for(var w=this.textureManager.get(b),C=w.key,E=this.anims.getArray(),T=[],k=0;k<E.length;k++)for(var P=E[k],R=P.frames,M=0;M<R.length;M++)if(R[M].textureKey===C){T.push(P.key);break}return T},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(u.PAUSE_ALL)),this},play:function(b,w){Array.isArray(w)||(w=[w]);for(var C=0;C<w.length;C++)w[C].anims.play(b);return this},staggerPlay:function(b,w,C,E){C===void 0&&(C=0),E===void 0&&(E=!0),Array.isArray(w)||(w=[w]);var T=w.length;E||T--;for(var k=0;k<w.length;k++){var P=C<0?Math.abs(C)*(T-k):C*k;w[k].anims.playAfterDelay(b,P)}return this},remove:function(b){var w=this.get(b);return w&&(this.emit(u.REMOVE_ANIMATION,b,w),this.anims.delete(b),this.removeMix(b)),w},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(u.RESUME_ALL)),this},toJSON:function(b){var w={anims:[],globalTimeScale:this.globalTimeScale};return b!==void 0&&b!==""?w.anims.push(this.anims.get(b).toJSON()):this.anims.each(function(C,E){w.anims.push(E.toJSON())}),w},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});s.exports=x},9674:(s,g,i)=>{var a=i(42099),v=i(30976),f=i(83419),h=i(90330),u=i(74943),o=i(95540),d=new f({initialize:function(l){this.parent=l,this.animationManager=l.scene.sys.anims,this.animationManager.on(u.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(p){var l=this.parent;if(p===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,l;Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++){var y=p[m];this.nextAnim?this.nextAnimsQueue.push(y):this.nextAnim=y}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(p){this.isPlaying&&this.stop();var l=this.animationManager,m=typeof p=="string"?p:o(p,"key",null),y=this.exists(m)?this.get(m):l.get(m);if(!y)console.warn("Missing animation: "+m);else{this.currentAnim=y;var x=y.getTotalFrames(),b=o(p,"frameRate",y.frameRate),w=o(p,"duration",y.duration);y.calculateDuration(this,x,w,b),this.delay=o(p,"delay",y.delay),this.repeat=o(p,"repeat",y.repeat),this.repeatDelay=o(p,"repeatDelay",y.repeatDelay),this.yoyo=o(p,"yoyo",y.yoyo),this.showBeforeDelay=o(p,"showBeforeDelay",y.showBeforeDelay),this.showOnStart=o(p,"showOnStart",y.showOnStart),this.hideOnComplete=o(p,"hideOnComplete",y.hideOnComplete),this.skipMissedFrames=o(p,"skipMissedFrames",y.skipMissedFrames),this.randomFrame=o(p,"randomFrame",y.randomFrame),this.timeScale=o(p,"timeScale",this.timeScale);var C=o(p,"startFrame",0);C>x&&(C=0),this.randomFrame&&(C=v(0,x-1));var E=y.frames[C];C===0&&!this.forward&&(E=y.getLastFrame()),this.currentFrame=E}return this.parent},pause:function(p){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),p!==void 0&&this.setCurrentFrame(p),this.parent},resume:function(p){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),p!==void 0&&this.setCurrentFrame(p),this.parent},playAfterDelay:function(p,l){if(!this.isPlaying)this.delayCounter=l,this.play(p,!0);else{var m=this.nextAnim,y=this.nextAnimsQueue;m&&y.unshift(m),this.nextAnim=p,this._pendingStop=1,this._pendingStopValue=l}return this.parent},playAfterRepeat:function(p,l){if(l===void 0&&(l=1),!this.isPlaying)this.play(p);else{var m=this.nextAnim,y=this.nextAnimsQueue;m&&y.unshift(m),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this.nextAnim=p,this._pendingStop=2,this._pendingStopValue=l}return this.parent},play:function(p,l){l===void 0&&(l=!1);var m=this.currentAnim,y=this.parent,x=typeof p=="string"?p:p.key;if(l&&this.isPlaying&&m.key===x)return y;if(m&&this.isPlaying){var b=this.animationManager.getMix(m.key,p);if(b>0)return this.playAfterDelay(p,b)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(p)},playReverse:function(p,l){l===void 0&&(l=!1);var m=typeof p=="string"?p:p.key;return l&&this.isPlaying&&this.currentAnim.key===m?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(p))},startAnimation:function(p){this.load(p);var l=this.currentAnim,m=this.parent;return l&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,l.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),m},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(u.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(u.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(u.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(u.ANIMATION_COMPLETE,u.ANIMATION_COMPLETE_KEY)},emitEvents:function(p,l){var m=this.currentAnim;if(m){var y=this.currentFrame,x=this.parent,b=y.textureFrame;x.emit(p,m,y,x,b),l&&x.emit(l+m.key,m,y,x,b)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var p=this.currentFrame;if(!p)return 0;var l=p.progress;return this.inReverse&&(l*=-1),l},setProgress:function(p){return this.forward||(p=1-p),this.setCurrentFrame(this.currentAnim.getFrameByProgress(p)),this.parent},setRepeat:function(p){return this.repeatCounter=p===-1?Number.MAX_VALUE:p,this.parent},globalRemove:function(p,l){l===void 0&&(l=this.currentAnim),this.isPlaying&&l.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(p,l){p===void 0&&(p=!1),l===void 0&&(l=!1);var m=this.currentAnim,y=this.parent;return m?(l&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),m.getFirstTick(this),this.emitEvents(u.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!p,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(m.frames[0]),this.parent):y},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var p=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(p)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var p=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(p)}return this.parent},stopAfterDelay:function(p){return this._pendingStop=1,this._pendingStopValue=p,this.parent},stopAfterRepeat:function(p){return p===void 0&&(p=1),this.repeatCounter!==-1&&p>this.repeatCounter&&(p=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=p,this.parent},stopOnFrame:function(p){return this._pendingStop=3,this._pendingStopValue=p,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(p,l){var m=this.currentAnim;if(!(!this.isPlaying||!m||m.paused)){if(this.accumulator+=l*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=l,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?m.nextFrame(this):m.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var y=0;do this.forward?m.nextFrame(this):m.previousFrame(this),y++;while(this.isPlaying&&this.accumulator>this.nextTick&&y<60)}}},setCurrentFrame:function(p){var l=this.parent;return this.currentFrame=p,l.texture=p.frame.texture,l.frame=p.frame,l.isCropped&&l.frame.updateCropUVs(l._crop,l.flipX,l.flipY),p.setAlpha&&(l.alpha=p.alpha),l.setSizeToFrame(),l._originComponent&&(p.frame.customPivot?l.setOrigin(p.frame.pivotX,p.frame.pivotY):l.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(u.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===p&&this.stop()),l},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(p){return this.anims?this.anims.get(p):null},exists:function(p){return this.anims?this.anims.has(p):!1},create:function(p){var l=p.key,m=!1;return l&&(m=this.get(l),m?console.warn("Animation key already exists: "+l):(m=new a(this,l,p),this.anims||(this.anims=new h),this.anims.set(l,m))),m},createFromAseprite:function(p,l){return this.animationManager.createFromAseprite(p,l,this.parent)},generateFrameNames:function(p,l){return this.animationManager.generateFrameNames(p,l)},generateFrameNumbers:function(p,l){return this.animationManager.generateFrameNumbers(p,l)},remove:function(p){var l=this.get(p);return l&&(this.currentAnim===l&&this.stop(),this.anims.delete(p)),l},destroy:function(){this.animationManager.off(u.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});s.exports=d},57090:s=>{s.exports="add"},25312:s=>{s.exports="animationcomplete"},89580:s=>{s.exports="animationcomplete-"},52860:s=>{s.exports="animationrepeat"},63850:s=>{s.exports="animationrestart"},99085:s=>{s.exports="animationstart"},28087:s=>{s.exports="animationstop"},1794:s=>{s.exports="animationupdate"},52562:s=>{s.exports="pauseall"},57953:s=>{s.exports="remove"},68339:s=>{s.exports="resumeall"},74943:(s,g,i)=>{s.exports={ADD_ANIMATION:i(57090),ANIMATION_COMPLETE:i(25312),ANIMATION_COMPLETE_KEY:i(89580),ANIMATION_REPEAT:i(52860),ANIMATION_RESTART:i(63850),ANIMATION_START:i(99085),ANIMATION_STOP:i(28087),ANIMATION_UPDATE:i(1794),PAUSE_ALL:i(52562),REMOVE_ANIMATION:i(57953),RESUME_ALL:i(68339)}},60421:(s,g,i)=>{s.exports={Animation:i(42099),AnimationFrame:i(41138),AnimationManager:i(60848),AnimationState:i(9674),Events:i(74943)}},2161:(s,g,i)=>{var a=i(83419),v=i(90330),f=i(50792),h=i(24736),u=new a({initialize:function(){this.entries=new v,this.events=new f},add:function(o,d){return this.entries.set(o,d),this.events.emit(h.ADD,this,o,d),this},has:function(o){return this.entries.has(o)},exists:function(o){return this.entries.has(o)},get:function(o){return this.entries.get(o)},remove:function(o){var d=this.get(o);return d&&(this.entries.delete(o),this.events.emit(h.REMOVE,this,o,d.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});s.exports=u},24047:(s,g,i)=>{var a=i(2161),v=i(83419),f=i(8443),h=new v({initialize:function(o){this.game=o,this.binary=new a,this.bitmapFont=new a,this.json=new a,this.physics=new a,this.shader=new a,this.audio=new a,this.video=new a,this.text=new a,this.html=new a,this.obj=new a,this.tilemap=new a,this.xml=new a,this.custom={},this.game.events.once(f.DESTROY,this.destroy,this)},addCustom:function(u){return this.custom.hasOwnProperty(u)||(this.custom[u]=new a),this.custom[u]},destroy:function(){for(var u=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],o=0;o<u.length;o++)this[u[o]].destroy(),this[u[o]]=null;for(var d in this.custom)this.custom[d].destroy();this.custom=null,this.game=null}});s.exports=h},51464:s=>{s.exports="add"},59261:s=>{s.exports="remove"},24736:(s,g,i)=>{s.exports={ADD:i(51464),REMOVE:i(59261)}},83388:(s,g,i)=>{s.exports={BaseCache:i(2161),CacheManager:i(24047),Events:i(24736)}},71911:(s,g,i)=>{var a=i(83419),v=i(31401),f=i(39506),h=i(50792),u=i(19715),o=i(87841),d=i(61340),p=i(80333),l=i(26099),m=new a({Extends:h,Mixins:[v.AlphaSingle,v.Visible],initialize:function(x,b,w,C){x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=0),C===void 0&&(C=0),h.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new o,this.dirty=!0,this._x=x,this._y=b,this._width=w,this._height=C,this._bounds=new o,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new d,this.transparent=!0,this.backgroundColor=p("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new l(w/2,C/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(y){this.renderList.push(y)},setOrigin:function(y,x){return y===void 0&&(y=.5),x===void 0&&(x=y),this.originX=y,this.originY=x,this},getScroll:function(y,x,b){b===void 0&&(b=new l);var w=this.width*.5,C=this.height*.5;return b.x=y-w,b.y=x-C,this.useBounds&&(b.x=this.clampX(b.x),b.y=this.clampY(b.y)),b},centerOnX:function(y){var x=this.width*.5;return this.midPoint.x=y,this.scrollX=y-x,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(y){var x=this.height*.5;return this.midPoint.y=y,this.scrollY=y-x,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(y,x){return this.centerOnX(y),this.centerOnY(x),this},centerToBounds:function(){if(this.useBounds){var y=this._bounds,x=this.width*.5,b=this.height*.5;this.midPoint.set(y.centerX,y.centerY),this.scrollX=y.centerX-x,this.scrollY=y.centerY-b}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(y){if(this.disableCull)return y;var x=this.matrix.matrix,b=x[0],w=x[1],C=x[2],E=x[3],T=b*E-w*C;if(!T)return y;var k=x[4],P=x[5],R=this.scrollX,M=this.scrollY,I=this.width,B=this.height,D=this.y,N=D+B,_=this.x,G=_+I,$=this.culledObjects,V=y.length;T=1/T,$.length=0;for(var Y=0;Y<V;++Y){var U=y[Y];if(!U.hasOwnProperty("width")||U.parentContainer){$.push(U);continue}var F=U.width,O=U.height,j=U.x-R*U.scrollFactorX-F*U.originX,z=U.y-M*U.scrollFactorY-O*U.originY,W=j*b+z*C+k,q=j*w+z*E+P,ot=(j+F)*b+(z+O)*C+k,Q=(j+F)*w+(z+O)*E+P;ot>_&&W<G&&Q>D&&q<N&&$.push(U)}return $},getWorldPoint:function(y,x,b){b===void 0&&(b=new l);var w=this.matrix.matrix,C=w[0],E=w[1],T=w[2],k=w[3],P=w[4],R=w[5],M=C*k-E*T;if(!M)return b.x=y,b.y=x,b;M=1/M;var I=k*M,B=-E*M,D=-T*M,N=C*M,_=(T*R-k*P)*M,G=(E*P-C*R)*M,$=Math.cos(this.rotation),V=Math.sin(this.rotation),Y=this.zoomX,U=this.zoomY,F=this.scrollX,O=this.scrollY,j=y+(F*$-O*V)*Y,z=x+(F*V+O*$)*U;return b.x=j*I+z*D+_,b.y=j*B+z*N+G,b},ignore:function(y){var x=this.id;Array.isArray(y)||(y=[y]);for(var b=0;b<y.length;b++){var w=y[b];Array.isArray(w)?this.ignore(w):w.isParent?this.ignore(w.getChildren()):w.cameraFilter|=x}return this},preRender:function(){this.renderList.length=0;var y=this.width,x=this.height,b=y*.5,w=x*.5,C=this.zoomX,E=this.zoomY,T=this.matrix,k=y*this.originX,P=x*this.originY,R=this.scrollX,M=this.scrollY;this.useBounds&&(R=this.clampX(R),M=this.clampY(M)),this.scrollX=R,this.scrollY=M;var I=R+b,B=M+w;this.midPoint.set(I,B);var D=y/C,N=x/E;this.worldView.setTo(I-D/2,B-N/2,D,N),T.applyITRS(this.x+k,this.y+P,this.rotation,C,E),T.translate(-k,-P)},clampX:function(y){var x=this._bounds,b=this.displayWidth,w=x.x+(b-this.width)/2,C=Math.max(w,w+x.width-b);return y<w?y=w:y>C&&(y=C),y},clampY:function(y){var x=this._bounds,b=this.displayHeight,w=x.y+(b-this.height)/2,C=Math.max(w,w+x.height-b);return y<w?y=w:y>C&&(y=C),y},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(y){return y===void 0&&(y=0),this.rotation=f(y),this},setBackgroundColor:function(y){return y===void 0&&(y="rgba(0,0,0,0)"),this.backgroundColor=p(y),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(y,x,b,w,C){return C===void 0&&(C=!1),this._bounds.setTo(y,x,b,w),this.dirty=!0,this.useBounds=!0,C?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(y){y===void 0&&(y=new o);var x=this._bounds;return y.setTo(x.x,x.y,x.width,x.height),y},setName:function(y){return y===void 0&&(y=""),this.name=y,this},setPosition:function(y,x){return x===void 0&&(x=y),this.x=y,this.y=x,this},setRotation:function(y){return y===void 0&&(y=0),this.rotation=y,this},setRoundPixels:function(y){return this.roundPixels=y,this},setScene:function(y,x){x===void 0&&(x=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=y,this.isSceneCamera=x;var b=y.sys;return this.sceneManager=b.game.scene,this.scaleManager=b.scale,this.cameraManager=b.cameras,this.updateSystem(),this},setScroll:function(y,x){return x===void 0&&(x=y),this.scrollX=y,this.scrollY=x,this},setSize:function(y,x){return x===void 0&&(x=y),this.width=y,this.height=x,this},setViewport:function(y,x,b,w){return this.x=y,this.y=x,this.width=b,this.height=w,this},setZoom:function(y,x){return y===void 0&&(y=1),x===void 0&&(x=y),y===0&&(y=.001),x===0&&(x=.001),this.zoomX=y,this.zoomY=x,this},setMask:function(y,x){return x===void 0&&(x=!0),this.mask=y,this._maskCamera=x?this.cameraManager.default:this,this},clearMask:function(y){return y===void 0&&(y=!1),y&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var y={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(y.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),y},update:function(){},setIsSceneCamera:function(y){return this.isSceneCamera=y,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var y=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,x=this.sceneManager;y&&!this._customViewport?x.customViewports++:!y&&this._customViewport&&x.customViewports--,this.dirty=!0,this._customViewport=y}},destroy:function(){this.emit(u.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(y){this._x=y,this.updateSystem()}},y:{get:function(){return this._y},set:function(y){this._y=y,this.updateSystem()}},width:{get:function(){return this._width},set:function(y){this._width=y,this.updateSystem()}},height:{get:function(){return this._height},set:function(y){this._height=y,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(y){y!==this._scrollX&&(this._scrollX=y,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(y){y!==this._scrollY&&(this._scrollY=y,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(y){this._zoomX=y,this._zoomY=y,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(y){this._zoomX=y,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(y){this._zoomY=y,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(y){this._rotation=y,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});s.exports=m},38058:(s,g,i)=>{var a=i(71911),v=i(67502),f=i(45319),h=i(83419),u=i(31401),o=i(20052),d=i(19715),p=i(28915),l=i(87841),m=i(26099),y=new h({Extends:a,Mixins:[u.PostPipeline],initialize:function(b,w,C,E){a.call(this,b,w,C,E),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new o.Fade(this),this.flashEffect=new o.Flash(this),this.shakeEffect=new o.Shake(this),this.panEffect=new o.Pan(this),this.rotateToEffect=new o.RotateTo(this),this.zoomEffect=new o.Zoom(this),this.lerp=new m(1,1),this.followOffset=new m,this.deadzone=null,this._follow=null},setDeadzone:function(x,b){if(x===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=x,this.deadzone.height=b):this.deadzone=new l(0,0,x,b),this._follow){var w=this.width/2,C=this.height/2,E=this._follow.x-this.followOffset.x,T=this._follow.y-this.followOffset.y;this.midPoint.set(E,T),this.scrollX=E-w,this.scrollY=T-C}v(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(x,b,w,C,E,T){return this.fadeEffect.start(!1,x,b,w,C,!0,E,T)},fadeOut:function(x,b,w,C,E,T){return this.fadeEffect.start(!0,x,b,w,C,!0,E,T)},fadeFrom:function(x,b,w,C,E,T,k){return this.fadeEffect.start(!1,x,b,w,C,E,T,k)},fade:function(x,b,w,C,E,T,k){return this.fadeEffect.start(!0,x,b,w,C,E,T,k)},flash:function(x,b,w,C,E,T,k){return this.flashEffect.start(x,b,w,C,E,T,k)},shake:function(x,b,w,C,E){return this.shakeEffect.start(x,b,w,C,E)},pan:function(x,b,w,C,E,T,k){return this.panEffect.start(x,b,w,C,E,T,k)},rotateTo:function(x,b,w,C,E,T,k){return this.rotateToEffect.start(x,b,w,C,E,T,k)},zoomTo:function(x,b,w,C,E,T){return this.zoomEffect.start(x,b,w,C,E,T)},preRender:function(){this.renderList.length=0;var x=this.width,b=this.height,w=x*.5,C=b*.5,E=this.zoom,T=this.matrix,k=x*this.originX,P=b*this.originY,R=this._follow,M=this.deadzone,I=this.scrollX,B=this.scrollY;M&&v(M,this.midPoint.x,this.midPoint.y);var D=!1;if(R&&!this.panEffect.isRunning){var N=this.lerp,_=R.x-this.followOffset.x,G=R.y-this.followOffset.y;M?(_<M.x?I=p(I,I-(M.x-_),N.x):_>M.right&&(I=p(I,I+(_-M.right),N.x)),G<M.y?B=p(B,B-(M.y-G),N.y):G>M.bottom&&(B=p(B,B+(G-M.bottom),N.y))):(I=p(I,_-k,N.x),B=p(B,G-P,N.y)),D=!0}this.useBounds&&(I=this.clampX(I),B=this.clampY(B)),this.scrollX=I,this.scrollY=B;var $=I+w,V=B+C;this.midPoint.set($,V);var Y=x/E,U=b/E,F=Math.floor($-Y/2),O=Math.floor(V-U/2);this.worldView.setTo(F,O,Y,U),T.applyITRS(Math.floor(this.x+k),Math.floor(this.y+P),this.rotation,E,E),T.translate(-k,-P),this.shakeEffect.preRender(),D&&this.emit(d.FOLLOW_UPDATE,this,R)},setLerp:function(x,b){return x===void 0&&(x=1),b===void 0&&(b=x),this.lerp.set(x,b),this},setFollowOffset:function(x,b){return x===void 0&&(x=0),b===void 0&&(b=0),this.followOffset.set(x,b),this},startFollow:function(x,b,w,C,E,T){b===void 0&&(b=!1),w===void 0&&(w=1),C===void 0&&(C=w),E===void 0&&(E=0),T===void 0&&(T=E),this._follow=x,this.roundPixels=b,w=f(w,0,1),C=f(C,0,1),this.lerp.set(w,C),this.followOffset.set(E,T);var k=this.width/2,P=this.height/2,R=x.x-E,M=x.y-T;return this.midPoint.set(R,M),this.scrollX=R-k,this.scrollY=M-P,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(x,b){this.visible&&(this.rotateToEffect.update(x,b),this.panEffect.update(x,b),this.zoomEffect.update(x,b),this.shakeEffect.update(x,b),this.flashEffect.update(x,b),this.fadeEffect.update(x,b))},destroy:function(){this.resetFX(),a.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});s.exports=y},32743:(s,g,i)=>{var a=i(38058),v=i(83419),f=i(95540),h=i(37277),u=i(37303),o=i(97480),d=i(44594),p=new v({initialize:function(m){this.scene=m,this.systems=m.sys,this.roundPixels=m.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,m.sys.events.once(d.BOOT,this.boot,this),m.sys.events.on(d.START,this.start,this)},boot:function(){var l=this.systems;l.settings.cameras?this.fromJSON(l.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new a(0,0,l.scale.width,l.scale.height).setScene(this.scene),l.game.scale.on(o.RESIZE,this.onResize,this),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){if(!this.main){var l=this.systems;l.settings.cameras?this.fromJSON(l.settings.cameras):this.add(),this.main=this.cameras[0]}var m=this.systems.events;m.on(d.UPDATE,this.update,this),m.once(d.SHUTDOWN,this.shutdown,this)},add:function(l,m,y,x,b,w){l===void 0&&(l=0),m===void 0&&(m=0),y===void 0&&(y=this.scene.sys.scale.width),x===void 0&&(x=this.scene.sys.scale.height),b===void 0&&(b=!1),w===void 0&&(w="");var C=new a(l,m,y,x);return C.setName(w),C.setScene(this.scene),C.setRoundPixels(this.roundPixels),C.id=this.getNextID(),this.cameras.push(C),b&&(this.main=C),C},addExisting:function(l,m){m===void 0&&(m=!1);var y=this.cameras.indexOf(l);return y===-1?(l.id=this.getNextID(),l.setRoundPixels(this.roundPixels),this.cameras.push(l),m&&(this.main=l),l):null},getNextID:function(){for(var l=this.cameras,m=1,y=0;y<32;y++){for(var x=!1,b=0;b<l.length;b++){var w=l[b];if(w&&w.id===m){x=!0;continue}}if(x)m=m<<1;else return m}return 0},getTotal:function(l){l===void 0&&(l=!1);for(var m=0,y=this.cameras,x=0;x<y.length;x++){var b=y[x];(!l||l&&b.visible)&&m++}return m},fromJSON:function(l){Array.isArray(l)||(l=[l]);for(var m=this.scene.sys.scale.width,y=this.scene.sys.scale.height,x=0;x<l.length;x++){var b=l[x],w=f(b,"x",0),C=f(b,"y",0),E=f(b,"width",m),T=f(b,"height",y),k=this.add(w,C,E,T);k.name=f(b,"name",""),k.zoom=f(b,"zoom",1),k.rotation=f(b,"rotation",0),k.scrollX=f(b,"scrollX",0),k.scrollY=f(b,"scrollY",0),k.roundPixels=f(b,"roundPixels",!1),k.visible=f(b,"visible",!0);var P=f(b,"backgroundColor",!1);P&&k.setBackgroundColor(P);var R=f(b,"bounds",null);if(R){var M=f(R,"x",0),I=f(R,"y",0),B=f(R,"width",m),D=f(R,"height",y);k.setBounds(M,I,B,D)}}return this},getCamera:function(l){for(var m=this.cameras,y=0;y<m.length;y++)if(m[y].name===l)return m[y];return null},getCamerasBelowPointer:function(l){for(var m=this.cameras,y=l.x,x=l.y,b=[],w=0;w<m.length;w++){var C=m[w];C.visible&&C.inputEnabled&&u(C,y,x)&&b.unshift(C)}return b},remove:function(l,m){m===void 0&&(m=!0),Array.isArray(l)||(l=[l]);for(var y=0,x=this.cameras,b=0;b<l.length;b++){var w=x.indexOf(l[b]);w!==-1&&(m?x[w].destroy():x[w].renderList=[],x.splice(w,1),y++)}return!this.main&&x[0]&&(this.main=x[0]),y},render:function(l,m){for(var y=this.scene,x=this.cameras,b=0;b<x.length;b++){var w=x[b];if(w.visible&&w.alpha>0){w.preRender();var C=this.getVisibleChildren(m.getChildren(),w);l.render(y,C,w)}}},getVisibleChildren:function(l,m){return l.filter(function(y){return y.willRender(m)})},resetAll:function(){for(var l=0;l<this.cameras.length;l++)this.cameras[l].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(l,m){for(var y=0;y<this.cameras.length;y++)this.cameras[y].update(l,m)},onResize:function(l,m,y,x,b){for(var w=0;w<this.cameras.length;w++){var C=this.cameras[w];C._x===0&&C._y===0&&C._width===x&&C._height===b&&C.setSize(m.width,m.height)}},resize:function(l,m){for(var y=0;y<this.cameras.length;y++)this.cameras[y].setSize(l,m)},shutdown:function(){this.main=void 0;for(var l=0;l<this.cameras.length;l++)this.cameras[l].destroy();this.cameras=[];var m=this.systems.events;m.off(d.UPDATE,this.update,this),m.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(d.START,this.start,this),this.systems.events.off(d.DESTROY,this.destroy,this),this.systems.game.scale.off(o.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});h.register("CameraManager",p,"cameras"),s.exports=p},5020:(s,g,i)=>{var a=i(45319),v=i(83419),f=i(19715),h=new v({initialize:function(o){this.camera=o,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(u,o,d,p,l,m,y,x){if(u===void 0&&(u=!0),o===void 0&&(o=1e3),d===void 0&&(d=0),p===void 0&&(p=0),l===void 0&&(l=0),m===void 0&&(m=!1),y===void 0&&(y=null),x===void 0&&(x=this.camera.scene),!m&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=o,this.direction=u,this.progress=0,this.red=d,this.green=p,this.blue=l,this.alpha=u?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=y,this._onUpdateScope=x;var b=u?f.FADE_OUT_START:f.FADE_IN_START;return this.camera.emit(b,this.camera,this,o,d,p,l),this.camera},update:function(u,o){this.isRunning&&(this._elapsed+=o,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(u){if(!this.isRunning&&!this.isComplete)return!1;var o=this.camera;return u.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",u.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(u,o){if(!this.isRunning&&!this.isComplete)return!1;var d=this.camera,p=this.red/255,l=this.green/255,m=this.blue/255;return u.drawFillRect(d.x,d.y,d.width,d.height,o(m,l,p,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var u=this.direction?f.FADE_OUT_COMPLETE:f.FADE_IN_COMPLETE;this.camera.emit(u,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});s.exports=h},10662:(s,g,i)=>{var a=i(45319),v=i(83419),f=i(19715),h=new v({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(u,o,d,p,l,m,y){return u===void 0&&(u=250),o===void 0&&(o=255),d===void 0&&(d=255),p===void 0&&(p=255),l===void 0&&(l=!1),m===void 0&&(m=null),y===void 0&&(y=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=u,this.progress=0,this.red=o,this.green=d,this.blue=p,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=m,this._onUpdateScope=y,this.camera.emit(f.FLASH_START,this.camera,this,u,o,d,p),this.camera)},update:function(u,o){this.isRunning&&(this._elapsed+=o,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(u){if(!this.isRunning)return!1;var o=this.camera;return u.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",u.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(u,o){if(!this.isRunning)return!1;var d=this.camera,p=this.red/255,l=this.green/255,m=this.blue/255;return u.drawFillRect(d.x,d.y,d.width,d.height,o(m,l,p,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});s.exports=h},20359:(s,g,i)=>{var a=i(45319),v=i(83419),f=i(62640),h=i(19715),u=i(26099),o=new v({initialize:function(p){this.camera=p,this.isRunning=!1,this.duration=0,this.source=new u,this.current=new u,this.destination=new u,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(d,p,l,m,y,x,b){l===void 0&&(l=1e3),m===void 0&&(m=f.Linear),y===void 0&&(y=!1),x===void 0&&(x=null),b===void 0&&(b=this.camera.scene);var w=this.camera;return!y&&this.isRunning||(this.isRunning=!0,this.duration=l,this.progress=0,this.source.set(w.scrollX,w.scrollY),this.destination.set(d,p),w.getScroll(d,p,this.current),typeof m=="string"&&f.hasOwnProperty(m)?this.ease=f[m]:typeof m=="function"&&(this.ease=m),this._elapsed=0,this._onUpdate=x,this._onUpdateScope=b,this.camera.emit(h.PAN_START,this.camera,this,l,d,p)),w},update:function(d,p){if(this.isRunning){this._elapsed+=p;var l=a(this._elapsed/this.duration,0,1);this.progress=l;var m=this.camera;if(this._elapsed<this.duration){var y=this.ease(l);m.getScroll(this.destination.x,this.destination.y,this.current);var x=this.source.x+(this.current.x-this.source.x)*y,b=this.source.y+(this.current.y-this.source.y)*y;m.setScroll(x,b),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,m,l,x,b)}else m.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,m,l,m.scrollX,m.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});s.exports=o},34208:(s,g,i)=>{var a=i(45319),v=i(83419),f=i(19715),h=i(62640),u=new v({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(o,d,p,l,m,y,x){p===void 0&&(p=1e3),l===void 0&&(l=h.Linear),m===void 0&&(m=!1),y===void 0&&(y=null),x===void 0&&(x=this.camera.scene),d===void 0&&(d=!1),this.shortestPath=d;var b=o;o<0?(b=-1*o,this.clockwise=!1):this.clockwise=!0;var w=360*Math.PI/180;b=b-Math.floor(b/w)*w;var C=this.camera;if(!m&&this.isRunning)return C;if(this.isRunning=!0,this.duration=p,this.progress=0,this.source=C.rotation,this.destination=b,typeof l=="string"&&h.hasOwnProperty(l)?this.ease=h[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=y,this._onUpdateScope=x,this.shortestPath){var E=0,T=0;this.destination>this.source?E=Math.abs(this.destination-this.source):E=Math.abs(this.destination+w)-this.source,this.source>this.destination?T=Math.abs(this.source-this.destination):T=Math.abs(this.source+w)-this.destination,E<T?this.clockwise=!0:E>T&&(this.clockwise=!1)}return this.camera.emit(f.ROTATE_START,this.camera,this,p,b),C},update:function(o,d){if(this.isRunning){this._elapsed+=d;var p=a(this._elapsed/this.duration,0,1);this.progress=p;var l=this.camera;if(this._elapsed<this.duration){var m=this.ease(p);this.current=l.rotation;var y=0,x=360*Math.PI/180,b=this.destination,w=this.current;this.clockwise===!1&&(b=this.current,w=this.destination),b>=w?y=Math.abs(b-w):y=Math.abs(b+x)-w;var C=0;this.clockwise?C=l.rotation+y*m:C=l.rotation-y*m,l.rotation=C,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,p,C)}else l.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,p,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});s.exports=u},30330:(s,g,i)=>{var a=i(45319),v=i(83419),f=i(19715),h=i(26099),u=new v({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.intensity=new h,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(o,d,p,l,m){return o===void 0&&(o=100),d===void 0&&(d=.05),p===void 0&&(p=!1),l===void 0&&(l=null),m===void 0&&(m=this.camera.scene),!p&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=o,this.progress=0,typeof d=="number"?this.intensity.set(d):this.intensity.set(d.x,d.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=l,this._onUpdateScope=m,this.camera.emit(f.SHAKE_START,this.camera,this,o,d),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(o,d){if(this.isRunning)if(this._elapsed+=d,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var p=this.intensity,l=this.camera.width,m=this.camera.height,y=this.camera.zoom;this._offsetX=(Math.random()*p.x*l*2-p.x*l)*y,this._offsetY=(Math.random()*p.y*m*2-p.y*m)*y,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});s.exports=u},45641:(s,g,i)=>{var a=i(45319),v=i(83419),f=i(62640),h=i(19715),u=new v({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,d,p,l,m,y){d===void 0&&(d=1e3),p===void 0&&(p=f.Linear),l===void 0&&(l=!1),m===void 0&&(m=null),y===void 0&&(y=this.camera.scene);var x=this.camera;return!l&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.source=x.zoom,this.destination=o,typeof p=="string"&&f.hasOwnProperty(p)?this.ease=f[p]:typeof p=="function"&&(this.ease=p),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=y,this.camera.emit(h.ZOOM_START,this.camera,this,d,o)),x},update:function(o,d){this.isRunning&&(this._elapsed+=d,this.progress=a(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});s.exports=u},20052:(s,g,i)=>{s.exports={Fade:i(5020),Flash:i(10662),Pan:i(20359),Shake:i(30330),RotateTo:i(34208),Zoom:i(45641)}},16438:s=>{s.exports="cameradestroy"},32726:s=>{s.exports="camerafadeincomplete"},87807:s=>{s.exports="camerafadeinstart"},45917:s=>{s.exports="camerafadeoutcomplete"},95666:s=>{s.exports="camerafadeoutstart"},47056:s=>{s.exports="cameraflashcomplete"},91261:s=>{s.exports="cameraflashstart"},45047:s=>{s.exports="followupdate"},81927:s=>{s.exports="camerapancomplete"},74264:s=>{s.exports="camerapanstart"},54419:s=>{s.exports="postrender"},79330:s=>{s.exports="prerender"},93183:s=>{s.exports="camerarotatecomplete"},80112:s=>{s.exports="camerarotatestart"},62252:s=>{s.exports="camerashakecomplete"},86017:s=>{s.exports="camerashakestart"},539:s=>{s.exports="camerazoomcomplete"},51892:s=>{s.exports="camerazoomstart"},19715:(s,g,i)=>{s.exports={DESTROY:i(16438),FADE_IN_COMPLETE:i(32726),FADE_IN_START:i(87807),FADE_OUT_COMPLETE:i(45917),FADE_OUT_START:i(95666),FLASH_COMPLETE:i(47056),FLASH_START:i(91261),FOLLOW_UPDATE:i(45047),PAN_COMPLETE:i(81927),PAN_START:i(74264),POST_RENDER:i(54419),PRE_RENDER:i(79330),ROTATE_COMPLETE:i(93183),ROTATE_START:i(80112),SHAKE_COMPLETE:i(62252),SHAKE_START:i(86017),ZOOM_COMPLETE:i(539),ZOOM_START:i(51892)}},87969:(s,g,i)=>{s.exports={Camera:i(38058),BaseCamera:i(71911),CameraManager:i(32743),Effects:i(20052),Events:i(19715)}},63091:(s,g,i)=>{var a=i(83419),v=i(35154),f=new a({initialize:function(u){this.camera=v(u,"camera",null),this.left=v(u,"left",null),this.right=v(u,"right",null),this.up=v(u,"up",null),this.down=v(u,"down",null),this.zoomIn=v(u,"zoomIn",null),this.zoomOut=v(u,"zoomOut",null),this.zoomSpeed=v(u,"zoomSpeed",.01),this.minZoom=v(u,"minZoom",.001),this.maxZoom=v(u,"maxZoom",1e3),this.speedX=0,this.speedY=0;var o=v(u,"speed",null);typeof o=="number"?(this.speedX=o,this.speedY=o):(this.speedX=v(u,"speed.x",0),this.speedY=v(u,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){h===void 0&&(h=1);var u=this.camera;this.up&&this.up.isDown?u.scrollY-=this.speedY*h|0:this.down&&this.down.isDown&&(u.scrollY+=this.speedY*h|0),this.left&&this.left.isDown?u.scrollX-=this.speedX*h|0:this.right&&this.right.isDown&&(u.scrollX+=this.speedX*h|0),this.zoomIn&&this.zoomIn.isDown?(u.zoom-=this.zoomSpeed,u.zoom<this.minZoom&&(u.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(u.zoom+=this.zoomSpeed,u.zoom>this.maxZoom&&(u.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});s.exports=f},58818:(s,g,i)=>{var a=i(83419),v=i(35154),f=new a({initialize:function(u){this.camera=v(u,"camera",null),this.left=v(u,"left",null),this.right=v(u,"right",null),this.up=v(u,"up",null),this.down=v(u,"down",null),this.zoomIn=v(u,"zoomIn",null),this.zoomOut=v(u,"zoomOut",null),this.zoomSpeed=v(u,"zoomSpeed",.01),this.minZoom=v(u,"minZoom",.001),this.maxZoom=v(u,"maxZoom",1e3),this.accelX=0,this.accelY=0;var o=v(u,"acceleration",null);typeof o=="number"?(this.accelX=o,this.accelY=o):(this.accelX=v(u,"acceleration.x",0),this.accelY=v(u,"acceleration.y",0)),this.dragX=0,this.dragY=0;var d=v(u,"drag",null);typeof d=="number"?(this.dragX=d,this.dragY=d):(this.dragX=v(u,"drag.x",0),this.dragY=v(u,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var p=v(u,"maxSpeed",null);typeof p=="number"?(this.maxSpeedX=p,this.maxSpeedY=p):(this.maxSpeedX=v(u,"maxSpeed.x",0),this.maxSpeedY=v(u,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){h===void 0&&(h=1);var u=this.camera;this._speedX>0?(this._speedX-=this.dragX*h,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*h,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*h,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*h,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(u.scrollX-=this._speedX*h|0),this._speedY!==0&&(u.scrollY-=this._speedY*h|0),this._zoom!==0&&(u.zoom+=this._zoom,u.zoom<this.minZoom?u.zoom=this.minZoom:u.zoom>this.maxZoom&&(u.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});s.exports=f},38865:(s,g,i)=>{s.exports={FixedKeyControl:i(63091),SmoothedKeyControl:i(58818)}},26638:(s,g,i)=>{s.exports={Controls:i(38865),Scene2D:i(87969)}},8054:(s,g,i)=>{var a={VERSION:"3.80.1",BlendModes:i(10312),ScaleModes:i(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};s.exports=a},69547:(s,g,i)=>{var a=i(83419),v=i(8054),f=i(42363),h=i(82264),u=i(95540),o=i(35154),d=i(41212),p=i(29747),l=i(75508),m=i(36060),y=i(80333),x=new a({initialize:function(w){w===void 0&&(w={});var C=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],E="#ffffff",T=o(w,"scale",null);this.width=o(T,"width",1024,w),this.height=o(T,"height",768,w),this.zoom=o(T,"zoom",1,w),this.parent=o(T,"parent",void 0,w),this.scaleMode=o(T,T?"mode":"scaleMode",0,w),this.expandParent=o(T,"expandParent",!0,w),this.autoRound=o(T,"autoRound",!1,w),this.autoCenter=o(T,"autoCenter",0,w),this.resizeInterval=o(T,"resizeInterval",500,w),this.fullscreenTarget=o(T,"fullscreenTarget",null,w),this.minWidth=o(T,"min.width",0,w),this.maxWidth=o(T,"max.width",0,w),this.minHeight=o(T,"min.height",0,w),this.maxHeight=o(T,"max.height",0,w),this.snapWidth=o(T,"snap.width",0,w),this.snapHeight=o(T,"snap.height",0,w),this.renderType=o(w,"type",v.AUTO),this.canvas=o(w,"canvas",null),this.context=o(w,"context",null),this.canvasStyle=o(w,"canvasStyle",null),this.customEnvironment=o(w,"customEnvironment",!1),this.sceneConfig=o(w,"scene",null),this.seed=o(w,"seed",[(Date.now()*Math.random()).toString()]),l.RND=new l.RandomDataGenerator(this.seed),this.gameTitle=o(w,"title",""),this.gameURL=o(w,"url","https://phaser.io"),this.gameVersion=o(w,"version",""),this.autoFocus=o(w,"autoFocus",!0),this.stableSort=o(w,"stableSort",-1),this.stableSort===-1&&(this.stableSort=h.browser.es2019?1:0),h.features.stableSort=this.stableSort,this.domCreateContainer=o(w,"dom.createContainer",!1),this.domPointerEvents=o(w,"dom.pointerEvents","none"),this.inputKeyboard=o(w,"input.keyboard",!0),this.inputKeyboardEventTarget=o(w,"input.keyboard.target",window),this.inputKeyboardCapture=o(w,"input.keyboard.capture",[]),this.inputMouse=o(w,"input.mouse",!0),this.inputMouseEventTarget=o(w,"input.mouse.target",null),this.inputMousePreventDefaultDown=o(w,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=o(w,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=o(w,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=o(w,"input.mouse.preventDefaultWheel",!0),this.inputTouch=o(w,"input.touch",h.input.touch),this.inputTouchEventTarget=o(w,"input.touch.target",null),this.inputTouchCapture=o(w,"input.touch.capture",!0),this.inputActivePointers=o(w,"input.activePointers",1),this.inputSmoothFactor=o(w,"input.smoothFactor",0),this.inputWindowEvents=o(w,"input.windowEvents",!0),this.inputGamepad=o(w,"input.gamepad",!1),this.inputGamepadEventTarget=o(w,"input.gamepad.target",window),this.disableContextMenu=o(w,"disableContextMenu",!1),this.audio=o(w,"audio",{}),this.hideBanner=o(w,"banner",null)===!1,this.hidePhaser=o(w,"banner.hidePhaser",!1),this.bannerTextColor=o(w,"banner.text",E),this.bannerBackgroundColor=o(w,"banner.background",C),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=o(w,"fps",null),this.disablePreFX=o(w,"disablePreFX",!1),this.disablePostFX=o(w,"disablePostFX",!1);var k=o(w,"render",null);this.pipeline=o(k,"pipeline",null,w),this.autoMobilePipeline=o(k,"autoMobilePipeline",!0,w),this.defaultPipeline=o(k,"defaultPipeline",m.MULTI_PIPELINE,w),this.antialias=o(k,"antialias",!0,w),this.antialiasGL=o(k,"antialiasGL",!0,w),this.mipmapFilter=o(k,"mipmapFilter","",w),this.desynchronized=o(k,"desynchronized",!1,w),this.roundPixels=o(k,"roundPixels",!0,w),this.pixelArt=o(k,"pixelArt",this.zoom!==1,w),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=o(k,"transparent",!1,w),this.clearBeforeRender=o(k,"clearBeforeRender",!0,w),this.preserveDrawingBuffer=o(k,"preserveDrawingBuffer",!1,w),this.premultipliedAlpha=o(k,"premultipliedAlpha",!0,w),this.failIfMajorPerformanceCaveat=o(k,"failIfMajorPerformanceCaveat",!1,w),this.powerPreference=o(k,"powerPreference","default",w),this.batchSize=o(k,"batchSize",4096,w),this.maxTextures=o(k,"maxTextures",-1,w),this.maxLights=o(k,"maxLights",10,w);var P=o(w,"backgroundColor",0);this.backgroundColor=y(P),this.transparent&&(this.backgroundColor=y(0),this.backgroundColor.alpha=0),this.preBoot=o(w,"callbacks.preBoot",p),this.postBoot=o(w,"callbacks.postBoot",p),this.physics=o(w,"physics",{}),this.defaultPhysicsSystem=o(this.physics,"default",!1),this.loaderBaseURL=o(w,"loader.baseURL",""),this.loaderPath=o(w,"loader.path",""),this.loaderMaxParallelDownloads=o(w,"loader.maxParallelDownloads",h.os.android?6:32),this.loaderCrossOrigin=o(w,"loader.crossOrigin",void 0),this.loaderResponseType=o(w,"loader.responseType",""),this.loaderAsync=o(w,"loader.async",!0),this.loaderUser=o(w,"loader.user",""),this.loaderPassword=o(w,"loader.password",""),this.loaderTimeout=o(w,"loader.timeout",0),this.loaderWithCredentials=o(w,"loader.withCredentials",!1),this.loaderImageLoadType=o(w,"loader.imageLoadType","XHR"),this.loaderLocalScheme=o(w,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=o(w,"fx.glow.quality",.1),this.glowFXDistance=o(w,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var R=o(w,"plugins",null),M=f.DefaultScene;R&&(Array.isArray(R)?this.defaultPlugins=R:d(R)&&(this.installGlobalPlugins=u(R,"global",[]),this.installScenePlugins=u(R,"scene",[]),Array.isArray(R.default)?M=R.default:Array.isArray(R.defaultMerge)&&(M=M.concat(R.defaultMerge)))),this.defaultPlugins=M;var I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=o(w,"images.default",I+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=o(w,"images.missing",I+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=o(w,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=v.WEBGL:window.FORCE_CANVAS&&(this.renderType=v.CANVAS))}});s.exports=x},86054:(s,g,i)=>{var a=i(20623),v=i(27919),f=i(8054),h=i(89357),u=function(o){var d=o.config;if((d.customEnvironment||d.canvas)&&d.renderType===f.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!d.customEnvironment&&!d.canvas&&d.renderType!==f.HEADLESS)if(d.renderType===f.AUTO&&(d.renderType=h.webGL?f.WEBGL:f.CANVAS),d.renderType===f.WEBGL){if(!h.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(d.renderType===f.CANVAS){if(!h.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+d.renderType);d.antialias||v.disableSmoothing();var p=o.scale.baseSize,l=p.width,m=p.height;if(d.canvas?(o.canvas=d.canvas,o.canvas.width=l,o.canvas.height=m):o.canvas=v.create(o,l,m,d.renderType),d.canvasStyle&&(o.canvas.style=d.canvasStyle),d.antialias||a.setCrisp(o.canvas),d.renderType!==f.HEADLESS){var y,x;y=i(68627),x=i(74797),d.renderType===f.WEBGL?o.renderer=new x(o):(o.renderer=new y(o),o.context=o.renderer.gameContext)}};s.exports=u},96391:(s,g,i)=>{var a=i(8054),v=function(f){var h=f.config;if(!h.hideBanner){var u="WebGL";h.renderType===a.CANVAS?u="Canvas":h.renderType===a.HEADLESS&&(u="Headless");var o=h.audio,d=f.device.audio,p;if(d.webAudio&&!o.disableWebAudio?p="Web Audio":o.noAudio||!d.webAudio&&!d.audioData?p="No Audio":p="HTML5 Audio",f.device.browser.ie)window.console&&console.log("Phaser v"+a.VERSION+" / https://phaser.io");else{var l="",m=[l];if(Array.isArray(h.bannerBackgroundColor)){var y;h.bannerBackgroundColor.forEach(function(b){l=l.concat("%c "),m.push("background: "+b),y=b}),m[m.length-1]="color: "+h.bannerTextColor+"; background: "+y}else l=l.concat("%c "),m.push("color: "+h.bannerTextColor+"; background: "+h.bannerBackgroundColor);m.push("background: transparent"),h.gameTitle&&(l=l.concat(h.gameTitle),h.gameVersion&&(l=l.concat(" v"+h.gameVersion)),h.hidePhaser||(l=l.concat(" / ")));var x="";h.hidePhaser||(l=l.concat("Phaser v"+a.VERSION+x+" ("+u+" | "+p+")")),l=l.concat(" %c "+h.gameURL),m[0]=l,console.log.apply(console,m)}}};s.exports=v},50127:(s,g,i)=>{var a=i(40366),v=i(60848),f=i(24047),h=i(27919),u=i(83419),o=i(69547),d=i(83719),p=i(86054),l=i(45893),m=i(96391),y=i(82264),x=i(57264),b=i(50792),w=i(8443),C=i(7003),E=i(37277),T=i(77332),k=i(76531),P=i(60903),R=i(69442),M=i(17130),I=i(65898),B=i(51085),D=i(14747),N=new u({initialize:function(G){this.config=new o(G),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new b,this.anims=new v(this),this.textures=new M(this),this.cache=new f(this),this.registry=new l(this,new b),this.input=new C(this,this.config),this.scene=new P(this,this.config.sceneConfig),this.device=y,this.scale=new k(this,this.config),this.sound=null,this.sound=D.create(this),this.loop=new I(this,this.config.fps),this.plugins=new T(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,x(this.boot.bind(this))},boot:function(){if(!E.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),p(this),d(this),m(this),a(this.canvas,this.config.parent),this.textures.once(R.READY,this.texturesReady,this),this.events.emit(w.BOOT)},texturesReady:function(){this.events.emit(w.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),B(this);var _=this.events;_.on(w.HIDDEN,this.onHidden,this),_.on(w.VISIBLE,this.onVisible,this),_.on(w.BLUR,this.onBlur,this),_.on(w.FOCUS,this.onFocus,this)},step:function(_,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var $=this.events;$.emit(w.PRE_STEP,_,G),$.emit(w.STEP,_,G),this.scene.update(_,G),$.emit(w.POST_STEP,_,G);var V=this.renderer;V.preRender(),$.emit(w.PRE_RENDER,V,_,G),this.scene.render(V),V.postRender(),$.emit(w.POST_RENDER,V,_,G)}},headlessStep:function(_,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var $=this.events;$.emit(w.PRE_STEP,_,G),$.emit(w.STEP,_,G),this.scene.update(_,G),$.emit(w.POST_STEP,_,G),this.scene.isProcessing=!1,$.emit(w.PRE_RENDER,null,_,G),$.emit(w.POST_RENDER,null,_,G)}},onHidden:function(){this.loop.pause(),this.events.emit(w.PAUSE)},pause:function(){var _=this.isPaused;this.isPaused=!0,_||this.events.emit(w.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(w.RESUME)},resume:function(){var _=this.isPaused;this.isPaused=!1,_&&this.events.emit(w.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(_,G){G===void 0&&(G=!1),this.pendingDestroy=!0,this.removeCanvas=_,this.noReturn=G},runDestroy:function(){this.scene.destroy(),this.events.emit(w.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(h.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});s.exports=N},65898:(s,g,i)=>{var a=i(83419),v=i(35154),f=i(29747),h=i(43092),u=new a({initialize:function(d,p){this.game=d,this.raf=new h,this.started=!1,this.running=!1,this.minFps=v(p,"min",5),this.targetFps=v(p,"target",60),this.fpsLimit=v(p,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=f,this.forceSetTimeOut=v(p,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=v(p,"deltaHistory",10),this.panicMax=v(p,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=v(p,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var o=window.performance.now();this.time=o,this.lastTime=o,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=Math.min(this._target,this.deltaHistory[d]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(o){if(this.started)return this;this.started=!0,this.running=!0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=o;var p=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(p,this.forceSetTimeOut,this._target)},smoothDelta:function(o){var d=this.deltaIndex,p=this.deltaHistory,l=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,o=Math.min(o,this._target)),o>this._min&&(o=p[d],o=Math.min(o,this._min)),p[d]=o,this.deltaIndex++,this.deltaIndex>=l&&(this.deltaIndex=0);for(var m=0,y=0;y<l;y++)m+=p[y];return m/=l,m},updateFPS:function(o){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0},stepLimitFPS:function(o){this.now=o;var d=Math.max(0,o-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta+=d,o>=this.nextFpsUpdate&&this.updateFPS(o),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(o,this.delta),this.delta=0),this.lastTime=o,this.frame++},step:function(o){this.now=o;var d=Math.max(0,o-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta=d,o>=this.nextFpsUpdate&&this.updateFPS(o),this.framesThisSecond++,this.callback(o,d),this.lastTime=o,this.frame++},tick:function(){var o=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(o):this.step(o)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(o){o===void 0&&(o=!1);var d=window.performance.now();if(!this.running){o&&(this.startTime+=-this.lastTime+(this.lastTime+d));var p=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(p,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=d+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});s.exports=u},51085:(s,g,i)=>{var a=i(8443),v=function(f){var h,u=f.events;if(document.hidden!==void 0)h="visibilitychange";else{var o=["webkit","moz","ms"];o.forEach(function(p){document[p+"Hidden"]!==void 0&&(document.hidden=function(){return document[p+"Hidden"]},h=p+"visibilitychange")})}var d=function(p){document.hidden||p.type==="pause"?u.emit(a.HIDDEN):u.emit(a.VISIBLE)};h&&document.addEventListener(h,d,!1),window.onblur=function(){u.emit(a.BLUR)},window.onfocus=function(){u.emit(a.FOCUS)},window.focus&&f.config.autoFocus&&window.focus()};s.exports=v},97217:s=>{s.exports="blur"},47548:s=>{s.exports="boot"},19814:s=>{s.exports="contextlost"},68446:s=>{s.exports="destroy"},41700:s=>{s.exports="focus"},25432:s=>{s.exports="hidden"},65942:s=>{s.exports="pause"},59211:s=>{s.exports="postrender"},47789:s=>{s.exports="poststep"},39066:s=>{s.exports="prerender"},460:s=>{s.exports="prestep"},16175:s=>{s.exports="ready"},42331:s=>{s.exports="resume"},11966:s=>{s.exports="step"},32969:s=>{s.exports="systemready"},94830:s=>{s.exports="visible"},8443:(s,g,i)=>{s.exports={BLUR:i(97217),BOOT:i(47548),CONTEXT_LOST:i(19814),DESTROY:i(68446),FOCUS:i(41700),HIDDEN:i(25432),PAUSE:i(65942),POST_RENDER:i(59211),POST_STEP:i(47789),PRE_RENDER:i(39066),PRE_STEP:i(460),READY:i(16175),RESUME:i(42331),STEP:i(11966),SYSTEM_READY:i(32969),VISIBLE:i(94830)}},42857:(s,g,i)=>{s.exports={Config:i(69547),CreateRenderer:i(86054),DebugHeader:i(96391),Events:i(8443),TimeStep:i(65898),VisibilityHandler:i(51085)}},99584:(s,g,i)=>{var a=i(5290),v=i(27919),f=i(35154),h=function(u){var o=f(u,"data",[]),d=f(u,"canvas",null),p=f(u,"palette",a),l=f(u,"pixelWidth",1),m=f(u,"pixelHeight",l),y=f(u,"resizeCanvas",!0),x=f(u,"clearCanvas",!0),b=f(u,"preRender",null),w=f(u,"postRender",null),C=Math.floor(Math.abs(o[0].length*l)),E=Math.floor(Math.abs(o.length*m));d||(d=v.create2D(this,C,E),y=!1,x=!1),y&&(d.width=C,d.height=E);var T=d.getContext("2d",{willReadFrequently:!0});x&&T.clearRect(0,0,C,E),b&&b(d,T);for(var k=0;k<o.length;k++)for(var P=o[k],R=0;R<P.length;R++){var M=P[R];M!=="."&&M!==" "&&(T.fillStyle=p[M],T.fillRect(R*l,k*m,l,m))}return w&&w(d,T),d};s.exports=h},15822:(s,g,i)=>{s.exports={GenerateTexture:i(99584),Palettes:i(57763)}},5290:s=>{s.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:s=>{s.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:s=>{s.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:s=>{s.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:s=>{s.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(s,g,i)=>{s.exports={ARNE16:i(5290),C64:i(23816),CGA:i(9866),JMP:i(77552),MSX:i(92259)}},46728:(s,g,i)=>{var a=i(83419),v=i(36316),f=i(80021),h=i(26099),u=new a({Extends:f,initialize:function(d,p,l,m){f.call(this,"CubicBezierCurve"),Array.isArray(d)&&(m=new h(d[6],d[7]),l=new h(d[4],d[5]),p=new h(d[2],d[3]),d=new h(d[0],d[1])),this.p0=d,this.p1=p,this.p2=l,this.p3=m},getStartPoint:function(o){return o===void 0&&(o=new h),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,d){d===void 0&&(d=new h);var p=this.p0,l=this.p1,m=this.p2,y=this.p3;return d.set(v(o,p.x,l.x,m.x,y.x),v(o,p.y,l.y,m.y,y.y))},draw:function(o,d){d===void 0&&(d=32);var p=this.getPoints(d);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var l=1;l<p.length;l++)o.lineTo(p[l].x,p[l].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});u.fromJSON=function(o){var d=o.points,p=new h(d[0],d[1]),l=new h(d[2],d[3]),m=new h(d[4],d[5]),y=new h(d[6],d[7]);return new u(p,l,m,y)},s.exports=u},80021:(s,g,i)=>{var a=i(83419),v=i(19217),f=i(87841),h=i(26099),u=new a({initialize:function(d){this.type=d,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new h,this._tmpVec2B=new h},draw:function(o,d){return d===void 0&&(d=32),o.strokePoints(this.getPoints(d))},getBounds:function(o,d){o||(o=new f),d===void 0&&(d=16);var p=this.getLength();d>p&&(d=p/2);var l=Math.max(1,Math.round(p/d));return v(this.getSpacedPoints(l),o)},getDistancePoints:function(o){var d=this.getLength(),p=Math.max(1,d/o);return this.getSpacedPoints(p)},getEndPoint:function(o){return o===void 0&&(o=new h),this.getPointAt(1,o)},getLength:function(){var o=this.getLengths();return o[o.length-1]},getLengths:function(o){if(o===void 0&&(o=this.arcLengthDivisions),this.cacheArcLengths.length===o+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var d=[],p,l=this.getPoint(0,this._tmpVec2A),m=0;d.push(0);for(var y=1;y<=o;y++)p=this.getPoint(y/o,this._tmpVec2B),m+=p.distance(l),d.push(m),l.copy(p);return this.cacheArcLengths=d,d},getPointAt:function(o,d){var p=this.getUtoTmapping(o);return this.getPoint(p,d)},getPoints:function(o,d,p){p===void 0&&(p=[]),o||(d?o=this.getLength()/d:o=this.defaultDivisions);for(var l=0;l<=o;l++)p.push(this.getPoint(l/o));return p},getRandomPoint:function(o){return o===void 0&&(o=new h),this.getPoint(Math.random(),o)},getSpacedPoints:function(o,d,p){p===void 0&&(p=[]),o||(d?o=this.getLength()/d:o=this.defaultDivisions);for(var l=0;l<=o;l++){var m=this.getUtoTmapping(l/o,null,o);p.push(this.getPoint(m))}return p},getStartPoint:function(o){return o===void 0&&(o=new h),this.getPointAt(0,o)},getTangent:function(o,d){d===void 0&&(d=new h);var p=1e-4,l=o-p,m=o+p;return l<0&&(l=0),m>1&&(m=1),this.getPoint(l,this._tmpVec2A),this.getPoint(m,d),d.subtract(this._tmpVec2A).normalize()},getTangentAt:function(o,d){var p=this.getUtoTmapping(o);return this.getTangent(p,d)},getTFromDistance:function(o,d){return o<=0?0:this.getUtoTmapping(0,o,d)},getUtoTmapping:function(o,d,p){var l=this.getLengths(p),m=0,y=l.length,x;d?x=Math.min(d,l[y-1]):x=o*l[y-1];for(var b=0,w=y-1,C;b<=w;)if(m=Math.floor(b+(w-b)/2),C=l[m]-x,C<0)b=m+1;else if(C>0)w=m-1;else{w=m;break}if(m=w,l[m]===x)return m/(y-1);var E=l[m],T=l[m+1],k=T-E,P=(x-E)/k;return(m+P)/(y-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});s.exports=u},73825:(s,g,i)=>{var a=i(83419),v=i(80021),f=i(39506),h=i(35154),u=i(43396),o=i(26099),d=new a({Extends:v,initialize:function(l,m,y,x,b,w,C,E){if(typeof l=="object"){var T=l;l=h(T,"x",0),m=h(T,"y",0),y=h(T,"xRadius",0),x=h(T,"yRadius",y),b=h(T,"startAngle",0),w=h(T,"endAngle",360),C=h(T,"clockwise",!1),E=h(T,"rotation",0)}else x===void 0&&(x=y),b===void 0&&(b=0),w===void 0&&(w=360),C===void 0&&(C=!1),E===void 0&&(E=0);v.call(this,"EllipseCurve"),this.p0=new o(l,m),this._xRadius=y,this._yRadius=x,this._startAngle=f(b),this._endAngle=f(w),this._clockwise=C,this._rotation=f(E)},getStartPoint:function(p){return p===void 0&&(p=new o),this.getPoint(0,p)},getResolution:function(p){return p*2},getPoint:function(p,l){l===void 0&&(l=new o);for(var m=Math.PI*2,y=this._endAngle-this._startAngle,x=Math.abs(y)<Number.EPSILON;y<0;)y+=m;for(;y>m;)y-=m;y<Number.EPSILON&&(x?y=0:y=m),this._clockwise&&!x&&(y===m?y=-m:y=y-m);var b=this._startAngle+p*y,w=this.p0.x+this._xRadius*Math.cos(b),C=this.p0.y+this._yRadius*Math.sin(b);if(this._rotation!==0){var E=Math.cos(this._rotation),T=Math.sin(this._rotation),k=w-this.p0.x,P=C-this.p0.y;w=k*E-P*T+this.p0.x,C=k*T+P*E+this.p0.y}return l.set(w,C)},setXRadius:function(p){return this.xRadius=p,this},setYRadius:function(p){return this.yRadius=p,this},setWidth:function(p){return this.xRadius=p/2,this},setHeight:function(p){return this.yRadius=p/2,this},setStartAngle:function(p){return this.startAngle=p,this},setEndAngle:function(p){return this.endAngle=p,this},setClockwise:function(p){return this.clockwise=p,this},setRotation:function(p){return this.rotation=p,this},x:{get:function(){return this.p0.x},set:function(p){this.p0.x=p}},y:{get:function(){return this.p0.y},set:function(p){this.p0.y=p}},xRadius:{get:function(){return this._xRadius},set:function(p){this._xRadius=p}},yRadius:{get:function(){return this._yRadius},set:function(p){this._yRadius=p}},startAngle:{get:function(){return u(this._startAngle)},set:function(p){this._startAngle=f(p)}},endAngle:{get:function(){return u(this._endAngle)},set:function(p){this._endAngle=f(p)}},clockwise:{get:function(){return this._clockwise},set:function(p){this._clockwise=p}},angle:{get:function(){return u(this._rotation)},set:function(p){this._rotation=f(p)}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:u(this._startAngle),endAngle:u(this._endAngle),clockwise:this._clockwise,rotation:u(this._rotation)}}});d.fromJSON=function(p){return new d(p)},s.exports=d},33951:(s,g,i)=>{var a=i(83419),v=i(80021),f=i(19217),h=i(87841),u=i(26099),o=new a({Extends:v,initialize:function(p,l){v.call(this,"LineCurve"),Array.isArray(p)&&(l=new u(p[2],p[3]),p=new u(p[0],p[1])),this.p0=p,this.p1=l,this.arcLengthDivisions=1},getBounds:function(d){return d===void 0&&(d=new h),f([this.p0,this.p1],d)},getStartPoint:function(d){return d===void 0&&(d=new u),d.copy(this.p0)},getResolution:function(d){return d===void 0&&(d=1),d},getPoint:function(d,p){return p===void 0&&(p=new u),d===1?p.copy(this.p1):(p.copy(this.p1).subtract(this.p0).scale(d).add(this.p0),p)},getPointAt:function(d,p){return this.getPoint(d,p)},getTangent:function(d,p){return p===void 0&&(p=new u),p.copy(this.p1).subtract(this.p0).normalize(),p},getUtoTmapping:function(d,p,l){var m;if(p){var y=this.getLengths(l),x=y[y.length-1],b=Math.min(p,x);m=b/x}else m=d;return m},draw:function(d){return d.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),d},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});o.fromJSON=function(d){var p=d.points,l=new u(p[0],p[1]),m=new u(p[2],p[3]);return new o(l,m)},s.exports=o},14744:(s,g,i)=>{var a=i(83419),v=i(80021),f=i(32112),h=i(26099),u=new a({Extends:v,initialize:function(d,p,l){v.call(this,"QuadraticBezierCurve"),Array.isArray(d)&&(l=new h(d[4],d[5]),p=new h(d[2],d[3]),d=new h(d[0],d[1])),this.p0=d,this.p1=p,this.p2=l},getStartPoint:function(o){return o===void 0&&(o=new h),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,d){d===void 0&&(d=new h);var p=this.p0,l=this.p1,m=this.p2;return d.set(f(o,p.x,l.x,m.x),f(o,p.y,l.y,m.y))},draw:function(o,d){d===void 0&&(d=32);var p=this.getPoints(d);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var l=1;l<p.length;l++)o.lineTo(p[l].x,p[l].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});u.fromJSON=function(o){var d=o.points,p=new h(d[0],d[1]),l=new h(d[2],d[3]),m=new h(d[4],d[5]);return new u(p,l,m)},s.exports=u},42534:(s,g,i)=>{var a=i(87842),v=i(83419),f=i(80021),h=i(26099),u=new v({Extends:f,initialize:function(d){d===void 0&&(d=[]),f.call(this,"SplineCurve"),this.points=[],this.addPoints(d)},addPoints:function(o){for(var d=0;d<o.length;d++){var p=new h;typeof o[d]=="number"?(p.x=o[d],p.y=o[d+1],d++):Array.isArray(o[d])?(p.x=o[d][0],p.y=o[d][1]):(p.x=o[d].x,p.y=o[d].y),this.points.push(p)}return this},addPoint:function(o,d){var p=new h(o,d);return this.points.push(p),p},getStartPoint:function(o){return o===void 0&&(o=new h),o.copy(this.points[0])},getResolution:function(o){return o*this.points.length},getPoint:function(o,d){d===void 0&&(d=new h);var p=this.points,l=(p.length-1)*o,m=Math.floor(l),y=l-m,x=p[m===0?m:m-1],b=p[m],w=p[m>p.length-2?p.length-1:m+1],C=p[m>p.length-3?p.length-1:m+2];return d.set(a(y,x.x,b.x,w.x,C.x),a(y,x.y,b.y,w.y,C.y))},toJSON:function(){for(var o=[],d=0;d<this.points.length;d++)o.push(this.points[d].x),o.push(this.points[d].y);return{type:this.type,points:o}}});u.fromJSON=function(o){return new u(o.points)},s.exports=u},25410:(s,g,i)=>{s.exports={Path:i(46669),MoveTo:i(68618),CubicBezier:i(46728),Curve:i(80021),Ellipse:i(73825),Line:i(33951),QuadraticBezier:i(14744),Spline:i(42534)}},68618:(s,g,i)=>{var a=i(83419),v=i(26099),f=new a({initialize:function(u,o){this.active=!1,this.p0=new v(u,o)},getPoint:function(h,u){return u===void 0&&(u=new v),u.copy(this.p0)},getPointAt:function(h,u){return this.getPoint(h,u)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});s.exports=f},46669:(s,g,i)=>{var a=i(83419),v=i(46728),f=i(73825),h=i(39429),u=i(33951),o=i(68618),d=i(14744),p=i(87841),l=i(42534),m=i(26099),y=i(36383),x=new a({initialize:function(w,C){w===void 0&&(w=0),C===void 0&&(C=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new m,this._tmpVec2A=new m,this._tmpVec2B=new m,typeof w=="object"?this.fromJSON(w):this.startPoint.set(w,C)},add:function(b){return this.curves.push(b),this},circleTo:function(b,w,C){return w===void 0&&(w=!1),this.ellipseTo(b,b,0,360,w,C)},closePath:function(){var b=this.curves[0].getPoint(0),w=this.curves[this.curves.length-1].getPoint(1);return b.equals(w)||this.curves.push(new u(w,b)),this},cubicBezierTo:function(b,w,C,E,T,k){var P=this.getEndPoint(),R,M,I;return b instanceof m?(R=b,M=w,I=C):(R=new m(C,E),M=new m(T,k),I=new m(b,w)),this.add(new v(P,R,M,I))},quadraticBezierTo:function(b,w,C,E){var T=this.getEndPoint(),k,P;return b instanceof m?(k=b,P=w):(k=new m(C,E),P=new m(b,w)),this.add(new d(T,k,P))},draw:function(b,w){for(var C=0;C<this.curves.length;C++){var E=this.curves[C];E.active&&E.draw(b,w)}return b},ellipseTo:function(b,w,C,E,T,k){var P=new f(0,0,b,w,C,E,T,k),R=this.getEndPoint(this._tmpVec2A),M=P.getStartPoint(this._tmpVec2B);return R.subtract(M),P.x=R.x,P.y=R.y,this.add(P)},fromJSON:function(b){this.curves=[],this.cacheLengths=[],this.startPoint.set(b.x,b.y),this.autoClose=b.autoClose;for(var w=0;w<b.curves.length;w++){var C=b.curves[w];switch(C.type){case"LineCurve":this.add(u.fromJSON(C));break;case"EllipseCurve":this.add(f.fromJSON(C));break;case"SplineCurve":this.add(l.fromJSON(C));break;case"CubicBezierCurve":this.add(v.fromJSON(C));break;case"QuadraticBezierCurve":this.add(d.fromJSON(C));break}}return this},getBounds:function(b,w){b===void 0&&(b=new p),w===void 0&&(w=16),b.x=Number.MAX_VALUE,b.y=Number.MAX_VALUE;for(var C=new p,E=y.MIN_SAFE_INTEGER,T=y.MIN_SAFE_INTEGER,k=0;k<this.curves.length;k++){var P=this.curves[k];P.active&&(P.getBounds(C,w),b.x=Math.min(b.x,C.x),b.y=Math.min(b.y,C.y),E=Math.max(E,C.right),T=Math.max(T,C.bottom))}return b.right=E,b.bottom=T,b},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var b=[],w=0,C=0;C<this.curves.length;C++)w+=this.curves[C].getLength(),b.push(w);return this.cacheLengths=b,b},getCurveAt:function(b){for(var w=b*this.getLength(),C=this.getCurveLengths(),E=0;E<C.length;){if(C[E]>=w)return this.curves[E];E++}return null},getEndPoint:function(b){return b===void 0&&(b=new m),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,b):b.copy(this.startPoint),b},getLength:function(){var b=this.getCurveLengths();return b[b.length-1]},getPoint:function(b,w){w===void 0&&(w=new m);for(var C=b*this.getLength(),E=this.getCurveLengths(),T=0;T<E.length;){if(E[T]>=C){var k=E[T]-C,P=this.curves[T],R=P.getLength(),M=R===0?0:1-k/R;return P.getPointAt(M,w)}T++}return null},getPoints:function(b,w){!b&&!w&&(b=this.defaultDivisions);for(var C=[],E,T=0;T<this.curves.length;T++){var k=this.curves[T];if(k.active)for(var P=k.getResolution(b),R=k.getPoints(P,w),M=0;M<R.length;M++){var I=R[M];E&&E.equals(I)||(C.push(I),E=I)}}return this.autoClose&&C.length>1&&!C[C.length-1].equals(C[0])&&C.push(C[0]),C},getRandomPoint:function(b){return b===void 0&&(b=new m),this.getPoint(Math.random(),b)},getSpacedPoints:function(b){b===void 0&&(b=40);for(var w=[],C=0;C<=b;C++)w.push(this.getPoint(C/b));return this.autoClose&&w.push(w[0]),w},getStartPoint:function(b){return b===void 0&&(b=new m),b.copy(this.startPoint)},getTangent:function(b,w){w===void 0&&(w=new m);for(var C=b*this.getLength(),E=this.getCurveLengths(),T=0;T<E.length;){if(E[T]>=C){var k=E[T]-C,P=this.curves[T],R=P.getLength(),M=R===0?0:1-k/R;return P.getTangentAt(M,w)}T++}return null},lineTo:function(b,w){b instanceof m?this._tmpVec2B.copy(b):typeof b=="object"?this._tmpVec2B.setFromObject(b):this._tmpVec2B.set(b,w);var C=this.getEndPoint(this._tmpVec2A);return this.add(new u([C.x,C.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(b){return b.unshift(this.getEndPoint()),this.add(new l(b))},moveTo:function(b,w){return b instanceof m?this.add(new o(b.x,b.y)):this.add(new o(b,w))},toJSON:function(){for(var b=[],w=0;w<this.curves.length;w++)b.push(this.curves[w].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:b}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});h.register("path",function(b,w){return new x(b,w)}),s.exports=x},45893:(s,g,i)=>{var a=i(83419),v=i(24882),f=new a({initialize:function(u,o){this.parent=u,this.events=o,o||(this.events=u.events?u.events:u),this.list={},this.values={},this._frozen=!1,!u.hasOwnProperty("sys")&&this.events&&this.events.once(v.DESTROY,this.destroy,this)},get:function(h){var u=this.list;if(Array.isArray(h)){for(var o=[],d=0;d<h.length;d++)o.push(u[h[d]]);return o}else return u[h]},getAll:function(){var h={};for(var u in this.list)this.list.hasOwnProperty(u)&&(h[u]=this.list[u]);return h},query:function(h){var u={};for(var o in this.list)this.list.hasOwnProperty(o)&&o.match(h)&&(u[o]=this.list[o]);return u},set:function(h,u){if(this._frozen)return this;if(typeof h=="string")return this.setValue(h,u);for(var o in h)this.setValue(o,h[o]);return this},inc:function(h,u){if(this._frozen)return this;u===void 0&&(u=1);var o=this.get(h);return o===void 0&&(o=0),this.set(h,o+u),this},toggle:function(h){return this._frozen?this:(this.set(h,!this.get(h)),this)},setValue:function(h,u){if(this._frozen)return this;if(this.has(h))this.values[h]=u;else{var o=this,d=this.list,p=this.events,l=this.parent;Object.defineProperty(this.values,h,{enumerable:!0,configurable:!0,get:function(){return d[h]},set:function(m){if(!o._frozen){var y=d[h];d[h]=m,p.emit(v.CHANGE_DATA,l,h,m,y),p.emit(v.CHANGE_DATA_KEY+h,l,m,y)}}}),d[h]=u,p.emit(v.SET_DATA,l,h,u)}return this},each:function(h,u){for(var o=[this.parent,null,void 0],d=1;d<arguments.length;d++)o.push(arguments[d]);for(var p in this.list)o[1]=p,o[2]=this.list[p],h.apply(u,o);return this},merge:function(h,u){u===void 0&&(u=!0);for(var o in h)h.hasOwnProperty(o)&&(u||!u&&!this.has(o))&&this.setValue(o,h[o]);return this},remove:function(h){if(this._frozen)return this;if(Array.isArray(h))for(var u=0;u<h.length;u++)this.removeValue(h[u]);else return this.removeValue(h);return this},removeValue:function(h){if(this.has(h)){var u=this.list[h];delete this.list[h],delete this.values[h],this.events.emit(v.REMOVE_DATA,this.parent,h,u)}return this},pop:function(h){var u=void 0;return!this._frozen&&this.has(h)&&(u=this.list[h],delete this.list[h],delete this.values[h],this.events.emit(v.REMOVE_DATA,this.parent,h,u)),u},has:function(h){return this.list.hasOwnProperty(h)},setFreeze:function(h){return this._frozen=h,this},reset:function(){for(var h in this.list)delete this.list[h],delete this.values[h];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(v.CHANGE_DATA),this.events.off(v.SET_DATA),this.events.off(v.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(h){this._frozen=!!h}},count:{get:function(){var h=0;for(var u in this.list)this.list[u]!==void 0&&h++;return h}}});s.exports=f},63646:(s,g,i)=>{var a=i(83419),v=i(45893),f=i(37277),h=i(44594),u=new a({Extends:v,initialize:function(d){v.call(this,d,d.sys.events),this.scene=d,this.systems=d.sys,d.sys.events.once(h.BOOT,this.boot,this),d.sys.events.on(h.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){v.prototype.destroy.call(this),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});f.register("DataManagerPlugin",u,"data"),s.exports=u},10700:s=>{s.exports="changedata"},93608:s=>{s.exports="changedata-"},60883:s=>{s.exports="destroy"},69780:s=>{s.exports="removedata"},22166:s=>{s.exports="setdata"},24882:(s,g,i)=>{s.exports={CHANGE_DATA:i(10700),CHANGE_DATA_KEY:i(93608),DESTROY:i(60883),REMOVE_DATA:i(69780),SET_DATA:i(22166)}},44965:(s,g,i)=>{s.exports={DataManager:i(45893),DataManagerPlugin:i(63646),Events:i(24882)}},7098:(s,g,i)=>{var a=i(84148),v={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function f(){if(typeof importScripts=="function")return v;v.audioData=!!window.Audio,v.webAudio=!!(window.AudioContext||window.webkitAudioContext);var h=document.createElement("audio"),u=!!h.canPlayType;try{if(u){var o=function(l,m){var y=h.canPlayType("audio/"+l).replace(/^no$/,"");return m?!!(y||h.canPlayType("audio/"+m).replace(/^no$/,"")):!!y};if(v.ogg=o('ogg; codecs="vorbis"'),v.opus=o('ogg; codecs="opus"',"opus"),v.mp3=o("mpeg"),v.wav=o("wav"),v.m4a=o("x-m4a"),v.aac=o("aac"),v.flac=o("flac","x-flac"),v.webm=o('webm; codecs="vorbis"'),h.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(a.edge)v.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var d=parseInt(RegExp.$1,10),p=parseInt(RegExp.$2,10);(d===10&&p>=11||d>10)&&(v.dolby=!0)}}}}catch(l){}return v}s.exports=f()},84148:(s,g,i)=>{var a=i(25892),v={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function f(){var h=navigator.userAgent;return/Edg\/\d+/.test(h)?(v.edge=!0,v.es2019=!0):/OPR/.test(h)?(v.opera=!0,v.es2019=!0):/Chrome\/(\d+)/.test(h)&&!a.windowsPhone?(v.chrome=!0,v.chromeVersion=parseInt(RegExp.$1,10),v.es2019=v.chromeVersion>69):/Firefox\D+(\d+)/.test(h)?(v.firefox=!0,v.firefoxVersion=parseInt(RegExp.$1,10),v.es2019=v.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(h)&&a.iOS?(v.mobileSafari=!0,v.es2019=!0):/MSIE (\d+\.\d+);/.test(h)?(v.ie=!0,v.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(h)&&!a.windowsPhone?(v.safari=!0,v.safariVersion=parseInt(RegExp.$1,10),v.es2019=v.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(h)&&(v.ie=!0,v.trident=!0,v.tridentVersion=parseInt(RegExp.$1,10),v.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(h)&&(v.silk=!0),v}s.exports=f()},89289:(s,g,i)=>{var a=i(27919),v={supportInverseAlpha:!1,supportNewBlendModes:!1};function f(){var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",d="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",p=new Image;return p.onload=function(){var l=new Image;l.onload=function(){var m=a.create2D(l,6),y=m.getContext("2d",{willReadFrequently:!0});if(y.globalCompositeOperation="multiply",y.drawImage(p,0,0),y.drawImage(l,2,0),!y.getImageData(2,0,1,1))return!1;var x=y.getImageData(2,0,1,1).data;a.remove(l),v.supportNewBlendModes=x[0]===255&&x[1]===0&&x[2]===0},l.src=o+"/wCKxvRF"+d},p.src=o+"AP804Oa6"+d,!1}function h(){var o=a.create2D(this,2),d=o.getContext("2d",{willReadFrequently:!0});d.fillStyle="rgba(10, 20, 30, 0.5)",d.fillRect(0,0,1,1);var p=d.getImageData(0,0,1,1);if(p===null)return!1;d.putImageData(p,1,0);var l=d.getImageData(1,0,1,1),m=l.data[0]===p.data[0]&&l.data[1]===p.data[1]&&l.data[2]===p.data[2]&&l.data[3]===p.data[3];return a.remove(this),m}function u(){return typeof importScripts!="function"&&document!==void 0&&(v.supportNewBlendModes=f(),v.supportInverseAlpha=h()),v}s.exports=u()},89357:(s,g,i)=>{var a=i(25892),v=i(84148),f=i(27919),h={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function u(){var d=new ArrayBuffer(4),p=new Uint8Array(d),l=new Uint32Array(d);return p[0]=161,p[1]=178,p[2]=195,p[3]=212,l[0]===3569595041?!0:l[0]===2712847316?!1:null}function o(){if(typeof importScripts=="function")return h;h.canvas=!!window.CanvasRenderingContext2D;try{h.localStorage=!!localStorage.getItem}catch(l){h.localStorage=!1}h.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,h.fileSystem=!!window.requestFileSystem;var d=!1,p=function(){if(window.WebGLRenderingContext)try{var l=f.createWebGL(this),m=l.getContext("webgl")||l.getContext("experimental-webgl"),y=f.create2D(this),x=y.getContext("2d",{willReadFrequently:!0}),b=x.createImageData(1,1);return d=b.data instanceof Uint8ClampedArray,f.remove(l),f.remove(y),!!m}catch(w){return!1}return!1};return h.webGL=p(),h.worker=!!window.Worker,h.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,h.getUserMedia=h.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,v.firefox&&v.firefoxVersion<21&&(h.getUserMedia=!1),!a.iOS&&(v.ie||v.firefox||v.chrome)&&(h.canvasBitBltShift=!0),(v.safari||v.mobileSafari)&&(h.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(h.vibration=!0),typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint32Array!="undefined"&&(h.littleEndian=u()),h.support32bit=typeof ArrayBuffer!="undefined"&&typeof Uint8ClampedArray!="undefined"&&typeof Int32Array!="undefined"&&h.littleEndian!==null&&d,h}s.exports=o()},91639:s=>{var g={available:!1,cancel:"",keyboard:!1,request:""};function i(){if(typeof importScripts=="function")return g;var a,v="Fullscreen",f="FullScreen",h=["request"+v,"request"+f,"webkitRequest"+v,"webkitRequest"+f,"msRequest"+v,"msRequest"+f,"mozRequest"+f,"mozRequest"+v];for(a=0;a<h.length;a++)if(document.documentElement[h[a]]){g.available=!0,g.request=h[a];break}var u=["cancel"+f,"exit"+v,"webkitCancel"+f,"webkitExit"+v,"msCancel"+f,"msExit"+v,"mozCancel"+f,"mozExit"+v];if(g.available){for(a=0;a<u.length;a++)if(document[u[a]]){g.cancel=u[a];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(g.keyboard=!0),Object.defineProperty(g,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),g}s.exports=i()},31784:(s,g,i)=>{var a=i(84148),v={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function f(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(v.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(v.mspointer=!0),navigator.getGamepads&&(v.gamepads=!0),"onwheel"in window||a.ie&&"WheelEvent"in window?v.wheelEvent="wheel":"onmousewheel"in window?v.wheelEvent="mousewheel":a.firefox&&"MouseScrollEvent"in window&&(v.wheelEvent="DOMMouseScroll")),v}s.exports=f()},25892:s=>{var g={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function i(){if(typeof importScripts=="function")return g;var a=navigator.userAgent;/Windows/.test(a)?g.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(g.iOS=!0,g.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),g.iOSVersion=parseInt(RegExp.$1,10)):g.macOS=!0:/Android/.test(a)?g.android=!0:/Linux/.test(a)?g.linux=!0:/iP[ao]d|iPhone/i.test(a)?(g.iOS=!0,navigator.appVersion.match(/OS (\d+)/),g.iOSVersion=parseInt(RegExp.$1,10),g.iPhone=a.toLowerCase().indexOf("iphone")!==-1,g.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?g.kindle=!0:/CrOS/.test(a)&&(g.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(g.android=!1,g.iOS=!1,g.macOS=!1,g.windows=!0,g.windowsPhone=!0);var v=/Silk/.test(a);return(g.windows||g.macOS||g.linux&&!v||g.chromeOS)&&(g.desktop=!0),(g.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(g.desktop=!1),navigator.standalone&&(g.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(g.cordova=!0),window.ejecta!==void 0&&(g.ejecta=!0)),typeof lr!="undefined"&&lr.versions&&lr.versions.node&&(g.node=!0),g.node&&typeof lr.versions=="object"&&(g.nodeWebkit=!!lr.versions["node-webkit"],g.electron=!!lr.versions.electron),/Crosswalk/.test(a)&&(g.crosswalk=!0),g.pixelRatio=window.devicePixelRatio||1,g}s.exports=i()},43267:(s,g,i)=>{var a=i(95540),v={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function f(){if(typeof importScripts=="function")return v;var h=document.createElement("video"),u=!!h.canPlayType,o=/^no$/;try{u&&(h.canPlayType('video/ogg; codecs="theora"').replace(o,"")&&(v.ogg=!0),h.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(o,"")&&(v.h264=!0,v.mp4=!0),h.canPlayType("video/x-m4v").replace(o,"")&&(v.m4v=!0),h.canPlayType('video/webm; codecs="vp8, vorbis"').replace(o,"")&&(v.webm=!0),h.canPlayType('video/webm; codecs="vp9"').replace(o,"")&&(v.vp9=!0),h.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(o,"")&&(v.hls=!0))}catch(d){}return h.parentNode&&h.parentNode.removeChild(h),v.getVideoURL=function(d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++){var l=a(d[p],"url",d[p]);if(l.indexOf("blob:")===0)return{url:l,type:""};var m;if(l.indexOf("data:")===0?m=l.split(",")[0].match(/\/(.*?);/):m=l.match(/\.([a-zA-Z0-9]+)($|\?)/),m=a(d[p],"type",m?m[1]:"").toLowerCase(),v[m])return{url:l,type:m}}return null},v}s.exports=f()},82264:(s,g,i)=>{s.exports={os:i(25892),browser:i(84148),features:i(89357),input:i(31784),audio:i(7098),video:i(43267),fullscreen:i(91639),canvasFeatures:i(89289)}},89422:(s,g,i)=>{var a=i(83419),v=new Float32Array(20),f=new a({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(h){return this._matrix.set(h),this._dirty=!0,this},reset:function(){var h=this._matrix;return h.fill(0),h[0]=1,h[6]=1,h[12]=1,h[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var h=this._data;return this._dirty&&(h.set(this._matrix),h[4]/=255,h[9]/=255,h[14]/=255,h[19]/=255,this._dirty=!1),h},brightness:function(h,u){h===void 0&&(h=0),u===void 0&&(u=!1);var o=h;return this.multiply([o,0,0,0,0,0,o,0,0,0,0,0,o,0,0,0,0,0,1,0],u)},saturate:function(h,u){h===void 0&&(h=0),u===void 0&&(u=!1);var o=h*2/3+1,d=(o-1)*-.5;return this.multiply([o,d,d,0,0,d,o,d,0,0,d,d,o,0,0,0,0,0,1,0],u)},desaturate:function(h){return h===void 0&&(h=!1),this.saturate(-1,h)},hue:function(h,u){h===void 0&&(h=0),u===void 0&&(u=!1),h=h/180*Math.PI;var o=Math.cos(h),d=Math.sin(h),p=.213,l=.715,m=.072;return this.multiply([p+o*(1-p)+d*-p,l+o*-l+d*-l,m+o*-m+d*(1-m),0,0,p+o*-p+d*.143,l+o*(1-l)+d*.14,m+o*-m+d*-.283,0,0,p+o*-p+d*-(1-p),l+o*-l+d*l,m+o*(1-m)+d*m,0,0,0,0,0,1,0],u)},grayscale:function(h,u){return h===void 0&&(h=1),u===void 0&&(u=!1),this.saturate(-h,u)},blackWhite:function(h){return h===void 0&&(h=!1),this.multiply(f.BLACK_WHITE,h)},contrast:function(h,u){h===void 0&&(h=0),u===void 0&&(u=!1);var o=h+1,d=-.5*(o-1);return this.multiply([o,0,0,0,d,0,o,0,0,d,0,0,o,0,d,0,0,0,1,0],u)},negative:function(h){return h===void 0&&(h=!1),this.multiply(f.NEGATIVE,h)},desaturateLuminance:function(h){return h===void 0&&(h=!1),this.multiply(f.DESATURATE_LUMINANCE,h)},sepia:function(h){return h===void 0&&(h=!1),this.multiply(f.SEPIA,h)},night:function(h,u){return h===void 0&&(h=.1),u===void 0&&(u=!1),this.multiply([h*-2,-h,0,0,0,-h,0,h,0,0,0,h,h*2,0,0,0,0,0,1,0],u)},lsd:function(h){return h===void 0&&(h=!1),this.multiply(f.LSD,h)},brown:function(h){return h===void 0&&(h=!1),this.multiply(f.BROWN,h)},vintagePinhole:function(h){return h===void 0&&(h=!1),this.multiply(f.VINTAGE,h)},kodachrome:function(h){return h===void 0&&(h=!1),this.multiply(f.KODACHROME,h)},technicolor:function(h){return h===void 0&&(h=!1),this.multiply(f.TECHNICOLOR,h)},polaroid:function(h){return h===void 0&&(h=!1),this.multiply(f.POLAROID,h)},shiftToBGR:function(h){return h===void 0&&(h=!1),this.multiply(f.SHIFT_BGR,h)},multiply:function(h,u){u===void 0&&(u=!1),u||this.reset();var o=this._matrix,d=v;return d.set(o),o.set([d[0]*h[0]+d[1]*h[5]+d[2]*h[10]+d[3]*h[15],d[0]*h[1]+d[1]*h[6]+d[2]*h[11]+d[3]*h[16],d[0]*h[2]+d[1]*h[7]+d[2]*h[12]+d[3]*h[17],d[0]*h[3]+d[1]*h[8]+d[2]*h[13]+d[3]*h[18],d[0]*h[4]+d[1]*h[9]+d[2]*h[14]+d[3]*h[19]+d[4],d[5]*h[0]+d[6]*h[5]+d[7]*h[10]+d[8]*h[15],d[5]*h[1]+d[6]*h[6]+d[7]*h[11]+d[8]*h[16],d[5]*h[2]+d[6]*h[7]+d[7]*h[12]+d[8]*h[17],d[5]*h[3]+d[6]*h[8]+d[7]*h[13]+d[8]*h[18],d[5]*h[4]+d[6]*h[9]+d[7]*h[14]+d[8]*h[19]+d[9],d[10]*h[0]+d[11]*h[5]+d[12]*h[10]+d[13]*h[15],d[10]*h[1]+d[11]*h[6]+d[12]*h[11]+d[13]*h[16],d[10]*h[2]+d[11]*h[7]+d[12]*h[12]+d[13]*h[17],d[10]*h[3]+d[11]*h[8]+d[12]*h[13]+d[13]*h[18],d[10]*h[4]+d[11]*h[9]+d[12]*h[14]+d[13]*h[19]+d[14],d[15]*h[0]+d[16]*h[5]+d[17]*h[10]+d[18]*h[15],d[15]*h[1]+d[16]*h[6]+d[17]*h[11]+d[18]*h[16],d[15]*h[2]+d[16]*h[7]+d[17]*h[12]+d[18]*h[17],d[15]*h[3]+d[16]*h[8]+d[17]*h[13]+d[18]*h[18],d[15]*h[4]+d[16]*h[9]+d[17]*h[14]+d[18]*h[19]+d[19]]),this._dirty=!0,this}});f.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],f.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],f.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],f.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],f.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],f.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],f.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],f.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],f.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],f.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],f.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],s.exports=f},51767:(s,g,i)=>{var a=i(83419),v=i(29747),f=new a({initialize:function(u,o,d){this._rgb=[0,0,0],this.onChangeCallback=v,this.dirty=!1,this.set(u,o,d)},set:function(h,u,o){return h===void 0&&(h=0),u===void 0&&(u=0),o===void 0&&(o=0),this._rgb=[h,u,o],this.onChange(),this},equals:function(h,u,o){var d=this._rgb;return d[0]===h&&d[1]===u&&d[2]===o},onChange:function(){this.dirty=!0;var h=this._rgb;this.onChangeCallback.call(this,h[0],h[1],h[2])},r:{get:function(){return this._rgb[0]},set:function(h){this._rgb[0]=h,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(h){this._rgb[1]=h,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(h){this._rgb[2]=h,this.onChange()}},destroy:function(){this.onChangeCallback=null}});s.exports=f},60461:s=>{var g={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};s.exports=g},54312:(s,g,i)=>{var a=i(62235),v=i(35893),f=i(86327),h=i(88417),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),h(o,v(d)+p),f(o,a(d)+l),o};s.exports=u},46768:(s,g,i)=>{var a=i(62235),v=i(26541),f=i(86327),h=i(385),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),h(o,v(d)-p),f(o,a(d)+l),o};s.exports=u},35827:(s,g,i)=>{var a=i(62235),v=i(54380),f=i(86327),h=i(40136),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),h(o,v(d)+p),f(o,a(d)+l),o};s.exports=u},46871:(s,g,i)=>{var a=i(66786),v=i(35893),f=i(7702),h=function(u,o,d,p){return d===void 0&&(d=0),p===void 0&&(p=0),a(u,v(o)+d,f(o)+p),u};s.exports=h},5198:(s,g,i)=>{var a=i(7702),v=i(26541),f=i(20786),h=i(385),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),h(o,v(d)-p),f(o,a(d)+l),o};s.exports=u},11879:(s,g,i)=>{var a=i(60461),v=[];v[a.BOTTOM_CENTER]=i(54312),v[a.BOTTOM_LEFT]=i(46768),v[a.BOTTOM_RIGHT]=i(35827),v[a.CENTER]=i(46871),v[a.LEFT_CENTER]=i(5198),v[a.RIGHT_CENTER]=i(80503),v[a.TOP_CENTER]=i(89698),v[a.TOP_LEFT]=i(922),v[a.TOP_RIGHT]=i(21373),v[a.LEFT_BOTTOM]=v[a.BOTTOM_LEFT],v[a.LEFT_TOP]=v[a.TOP_LEFT],v[a.RIGHT_BOTTOM]=v[a.BOTTOM_RIGHT],v[a.RIGHT_TOP]=v[a.TOP_RIGHT];var f=function(h,u,o,d,p){return v[o](h,u,d,p)};s.exports=f},80503:(s,g,i)=>{var a=i(7702),v=i(54380),f=i(20786),h=i(40136),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),h(o,v(d)+p),f(o,a(d)+l),o};s.exports=u},89698:(s,g,i)=>{var a=i(35893),v=i(17717),f=i(88417),h=i(66737),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),f(o,a(d)+p),h(o,v(d)-l),o};s.exports=u},922:(s,g,i)=>{var a=i(26541),v=i(17717),f=i(385),h=i(66737),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),f(o,a(d)-p),h(o,v(d)-l),o};s.exports=u},21373:(s,g,i)=>{var a=i(54380),v=i(17717),f=i(40136),h=i(66737),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),f(o,a(d)+p),h(o,v(d)-l),o};s.exports=u},91660:(s,g,i)=>{s.exports={BottomCenter:i(54312),BottomLeft:i(46768),BottomRight:i(35827),Center:i(46871),LeftCenter:i(5198),QuickSet:i(11879),RightCenter:i(80503),TopCenter:i(89698),TopLeft:i(922),TopRight:i(21373)}},71926:(s,g,i)=>{var a=i(60461),v=i(79291),f={In:i(91660),To:i(16694)};f=v(!1,f,a),s.exports=f},21578:(s,g,i)=>{var a=i(62235),v=i(35893),f=i(88417),h=i(66737),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),f(o,v(d)+p),h(o,a(d)+l),o};s.exports=u},10210:(s,g,i)=>{var a=i(62235),v=i(26541),f=i(385),h=i(66737),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),f(o,v(d)-p),h(o,a(d)+l),o};s.exports=u},82341:(s,g,i)=>{var a=i(62235),v=i(54380),f=i(40136),h=i(66737),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),f(o,v(d)+p),h(o,a(d)+l),o};s.exports=u},87958:(s,g,i)=>{var a=i(62235),v=i(26541),f=i(86327),h=i(40136),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),h(o,v(d)-p),f(o,a(d)+l),o};s.exports=u},40080:(s,g,i)=>{var a=i(7702),v=i(26541),f=i(20786),h=i(40136),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),h(o,v(d)-p),f(o,a(d)+l),o};s.exports=u},88466:(s,g,i)=>{var a=i(26541),v=i(17717),f=i(40136),h=i(66737),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),f(o,a(d)-p),h(o,v(d)-l),o};s.exports=u},38829:(s,g,i)=>{var a=i(60461),v=[];v[a.BOTTOM_CENTER]=i(21578),v[a.BOTTOM_LEFT]=i(10210),v[a.BOTTOM_RIGHT]=i(82341),v[a.LEFT_BOTTOM]=i(87958),v[a.LEFT_CENTER]=i(40080),v[a.LEFT_TOP]=i(88466),v[a.RIGHT_BOTTOM]=i(19211),v[a.RIGHT_CENTER]=i(34609),v[a.RIGHT_TOP]=i(48741),v[a.TOP_CENTER]=i(49440),v[a.TOP_LEFT]=i(81288),v[a.TOP_RIGHT]=i(61323);var f=function(h,u,o,d,p){return v[o](h,u,d,p)};s.exports=f},19211:(s,g,i)=>{var a=i(62235),v=i(54380),f=i(86327),h=i(385),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),h(o,v(d)+p),f(o,a(d)+l),o};s.exports=u},34609:(s,g,i)=>{var a=i(7702),v=i(54380),f=i(20786),h=i(385),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),h(o,v(d)+p),f(o,a(d)+l),o};s.exports=u},48741:(s,g,i)=>{var a=i(54380),v=i(17717),f=i(385),h=i(66737),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),f(o,a(d)+p),h(o,v(d)-l),o};s.exports=u},49440:(s,g,i)=>{var a=i(35893),v=i(17717),f=i(86327),h=i(88417),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),h(o,a(d)+p),f(o,v(d)-l),o};s.exports=u},81288:(s,g,i)=>{var a=i(26541),v=i(17717),f=i(86327),h=i(385),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),h(o,a(d)-p),f(o,v(d)-l),o};s.exports=u},61323:(s,g,i)=>{var a=i(54380),v=i(17717),f=i(86327),h=i(40136),u=function(o,d,p,l){return p===void 0&&(p=0),l===void 0&&(l=0),h(o,a(d)+p),f(o,v(d)-l),o};s.exports=u},16694:(s,g,i)=>{s.exports={BottomCenter:i(21578),BottomLeft:i(10210),BottomRight:i(82341),LeftBottom:i(87958),LeftCenter:i(40080),LeftTop:i(88466),QuickSet:i(38829),RightBottom:i(19211),RightCenter:i(34609),RightTop:i(48741),TopCenter:i(49440),TopLeft:i(81288),TopRight:i(61323)}},66786:(s,g,i)=>{var a=i(88417),v=i(20786),f=function(h,u,o){return a(h,u),v(h,o)};s.exports=f},62235:s=>{var g=function(i){return i.y+i.height-i.height*i.originY};s.exports=g},72873:(s,g,i)=>{var a=i(62235),v=i(26541),f=i(54380),h=i(17717),u=i(87841),o=function(d,p){p===void 0&&(p=new u);var l=v(d),m=h(d);return p.x=l,p.y=m,p.width=f(d)-l,p.height=a(d)-m,p};s.exports=o},35893:s=>{var g=function(i){return i.x-i.width*i.originX+i.width*.5};s.exports=g},7702:s=>{var g=function(i){return i.y-i.height*i.originY+i.height*.5};s.exports=g},26541:s=>{var g=function(i){return i.x-i.width*i.originX};s.exports=g},87431:s=>{var g=function(i){return i.width*i.originX};s.exports=g},46928:s=>{var g=function(i){return i.height*i.originY};s.exports=g},54380:s=>{var g=function(i){return i.x+i.width-i.width*i.originX};s.exports=g},17717:s=>{var g=function(i){return i.y-i.height*i.originY};s.exports=g},86327:s=>{var g=function(i,a){return i.y=a-i.height+i.height*i.originY,i};s.exports=g},88417:s=>{var g=function(i,a){var v=i.width*i.originX;return i.x=a+v-i.width*.5,i};s.exports=g},20786:s=>{var g=function(i,a){var v=i.height*i.originY;return i.y=a+v-i.height*.5,i};s.exports=g},385:s=>{var g=function(i,a){return i.x=a+i.width*i.originX,i};s.exports=g},40136:s=>{var g=function(i,a){return i.x=a-i.width+i.width*i.originX,i};s.exports=g},66737:s=>{var g=function(i,a){return i.y=a+i.height*i.originY,i};s.exports=g},58724:(s,g,i)=>{s.exports={CenterOn:i(66786),GetBottom:i(62235),GetBounds:i(72873),GetCenterX:i(35893),GetCenterY:i(7702),GetLeft:i(26541),GetOffsetX:i(87431),GetOffsetY:i(46928),GetRight:i(54380),GetTop:i(17717),SetBottom:i(86327),SetCenterX:i(88417),SetCenterY:i(20786),SetLeft:i(385),SetRight:i(40136),SetTop:i(66737)}},20623:s=>{var g={setCrisp:function(i){var a=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return a.forEach(function(v){i.style["image-rendering"]=v}),i.style.msInterpolationMode="nearest-neighbor",i},setBicubic:function(i){return i.style["image-rendering"]="auto",i.style.msInterpolationMode="bicubic",i}};s.exports=g},27919:(s,g,i)=>{var a=i(8054),v=i(68703),f=[],h=!1,u=function(){var o=function(C,E,T,k,P){E===void 0&&(E=1),T===void 0&&(T=1),k===void 0&&(k=a.CANVAS),P===void 0&&(P=!1);var R,M=l(k);return M===null?(M={parent:C,canvas:document.createElement("canvas"),type:k},k===a.CANVAS&&f.push(M),R=M.canvas):(M.parent=C,R=M.canvas),P&&(M.parent=R),R.width=E,R.height=T,h&&k===a.CANVAS&&v.disable(R.getContext("2d",{willReadFrequently:!1})),R},d=function(C,E,T){return o(C,E,T,a.CANVAS)},p=function(C,E,T){return o(C,E,T,a.WEBGL)},l=function(C){if(C===void 0&&(C=a.CANVAS),C===a.WEBGL)return null;for(var E=0;E<f.length;E++){var T=f[E];if(!T.parent&&T.type===C)return T}return null},m=function(C){var E=C instanceof HTMLCanvasElement;f.forEach(function(T){(E&&T.canvas===C||!E&&T.parent===C)&&(T.parent=null,T.canvas.width=1,T.canvas.height=1)})},y=function(){var C=0;return f.forEach(function(E){E.parent&&C++}),C},x=function(){return f.length-y()},b=function(){h=!0},w=function(){h=!1};return{create2D:d,create:o,createWebGL:p,disableSmoothing:b,enableSmoothing:w,first:l,free:x,pool:f,remove:m,total:y}};s.exports=u()},68703:s=>{var g="",i=function(){var a=function(u){for(var o=["i","webkitI","msI","mozI","oI"],d=0;d<o.length;d++){var p=o[d]+"mageSmoothingEnabled";if(p in u)return p}return null},v=function(u){return g===""&&(g=a(u)),g&&(u[g]=!0),u},f=function(u){return g===""&&(g=a(u)),g&&(u[g]=!1),u},h=function(u){return g!==null?u[g]:null};return{disable:f,enable:v,getPrefix:a,isEnabled:h}};s.exports=i()},65208:s=>{var g=function(i,a){return a===void 0&&(a="none"),i.style.msTouchAction=a,i.style["ms-touch-action"]=a,i.style["touch-action"]=a,i};s.exports=g},91610:s=>{var g=function(i,a){a===void 0&&(a="none");var v=["-webkit-","-khtml-","-moz-","-ms-",""];return v.forEach(function(f){i.style[f+"user-select"]=a}),i.style["-webkit-touch-callout"]=a,i.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",i};s.exports=g},26253:(s,g,i)=>{s.exports={CanvasInterpolation:i(20623),CanvasPool:i(27919),Smoothing:i(68703),TouchAction:i(65208),UserSelect:i(91610)}},40987:(s,g,i)=>{var a=i(83419),v=i(37589),f=i(1e3),h=i(7537),u=i(87837),o=new a({initialize:function(p,l,m,y){p===void 0&&(p=0),l===void 0&&(l=0),m===void 0&&(m=0),y===void 0&&(y=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(p,l,m,y)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(d,p,l,m,y){return m===void 0&&(m=255),y===void 0&&(y=!0),this._locked=!0,this.red=d,this.green=p,this.blue=l,this.alpha=m,this._locked=!1,this.update(y)},setGLTo:function(d,p,l,m){return m===void 0&&(m=1),this._locked=!0,this.redGL=d,this.greenGL=p,this.blueGL=l,this.alphaGL=m,this._locked=!1,this.update(!0)},setFromRGB:function(d){return this._locked=!0,this.red=d.r,this.green=d.g,this.blue=d.b,d.hasOwnProperty("a")&&(this.alpha=d.a),this._locked=!1,this.update(!0)},setFromHSV:function(d,p,l){return h(d,p,l,this)},update:function(d){if(d===void 0&&(d=!1),this._locked)return this;var p=this.r,l=this.g,m=this.b,y=this.a;return this._color=v(p,l,m),this._color32=f(p,l,m,y),this._rgba="rgba("+p+","+l+","+m+","+y/255+")",d&&u(p,l,m,this),this},updateHSV:function(){var d=this.r,p=this.g,l=this.b;return u(d,p,l,this),this},clone:function(){return new o(this.r,this.g,this.b,this.a)},gray:function(d){return this.setTo(d,d,d)},random:function(d,p){d===void 0&&(d=0),p===void 0&&(p=255);var l=Math.floor(d+Math.random()*(p-d)),m=Math.floor(d+Math.random()*(p-d)),y=Math.floor(d+Math.random()*(p-d));return this.setTo(l,m,y)},randomGray:function(d,p){d===void 0&&(d=0),p===void 0&&(p=255);var l=Math.floor(d+Math.random()*(p-d));return this.setTo(l,l,l)},saturate:function(d){return this.s+=d/100,this},desaturate:function(d){return this.s-=d/100,this},lighten:function(d){return this.v+=d/100,this},darken:function(d){return this.v-=d/100,this},brighten:function(d){var p=this.r,l=this.g,m=this.b;return p=Math.max(0,Math.min(255,p-Math.round(255*-(d/100)))),l=Math.max(0,Math.min(255,l-Math.round(255*-(d/100)))),m=Math.max(0,Math.min(255,m-Math.round(255*-(d/100)))),this.setTo(p,l,m)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(d){this.gl[0]=Math.min(Math.abs(d),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(d){this.gl[1]=Math.min(Math.abs(d),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(d){this.gl[2]=Math.min(Math.abs(d),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(d){this.gl[3]=Math.min(Math.abs(d),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(d){d=Math.floor(Math.abs(d)),this.r=Math.min(d,255),this.gl[0]=d/255,this.update(!0)}},green:{get:function(){return this.g},set:function(d){d=Math.floor(Math.abs(d)),this.g=Math.min(d,255),this.gl[1]=d/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(d){d=Math.floor(Math.abs(d)),this.b=Math.min(d,255),this.gl[2]=d/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(d){d=Math.floor(Math.abs(d)),this.a=Math.min(d,255),this.gl[3]=d/255,this.update()}},h:{get:function(){return this._h},set:function(d){this._h=d,h(d,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(d){this._s=d,h(this._h,d,this._v,this)}},v:{get:function(){return this._v},set:function(d){this._v=d,h(this._h,this._s,d,this)}}});s.exports=o},92728:(s,g,i)=>{var a=i(37589),v=function(f){f===void 0&&(f=1024);var h=[],u=255,o,d=255,p=0,l=0;for(o=0;o<=u;o++)h.push({r:d,g:o,b:l,color:a(d,o,l)});for(p=255,o=u;o>=0;o--)h.push({r:o,g:p,b:l,color:a(o,p,l)});for(d=0,o=0;o<=u;o++,p--)h.push({r:d,g:p,b:o,color:a(d,p,o)});for(p=0,l=255,o=0;o<=u;o++,l--,d++)h.push({r:d,g:p,b:l,color:a(d,p,l)});if(f===1024)return h;var m=[],y=0,x=1024/f;for(o=0;o<f;o++)m.push(h[Math.floor(y)]),y+=x;return m};s.exports=v},91588:s=>{var g=function(i){var a={r:i>>16&255,g:i>>8&255,b:i&255,a:255};return i>16777215&&(a.a=i>>>24),a};s.exports=g},62957:s=>{var g=function(i){var a=i.toString(16);return a.length===1?"0"+a:a};s.exports=g},37589:s=>{var g=function(i,a,v){return i<<16|a<<8|v};s.exports=g},1e3:s=>{var g=function(i,a,v,f){return f<<24|i<<16|a<<8|v};s.exports=g},62183:(s,g,i)=>{var a=i(40987),v=i(89528),f=function(h,u,o){var d=o,p=o,l=o;if(u!==0){var m=o<.5?o*(1+u):o+u-o*u,y=2*o-m;d=v(y,m,h+1/3),p=v(y,m,h),l=v(y,m,h-1/3)}var x=new a;return x.setGLTo(d,p,l,1)};s.exports=f},27939:(s,g,i)=>{var a=i(7537),v=function(f,h){f===void 0&&(f=1),h===void 0&&(h=1);for(var u=[],o=0;o<=359;o++)u.push(a(o/359,f,h));return u};s.exports=v},7537:(s,g,i)=>{var a=i(37589);function v(h,u,o,d){var p=(h+u*6)%6,l=Math.min(p,4-p,1);return Math.round(255*(d-d*o*Math.max(0,l)))}var f=function(h,u,o,d){u===void 0&&(u=1),o===void 0&&(o=1);var p=v(5,h,u,o),l=v(3,h,u,o),m=v(1,h,u,o);return d?d.setTo?d.setTo(p,l,m,d.alpha,!0):(d.r=p,d.g=l,d.b=m,d.color=a(p,l,m),d):{r:p,g:l,b:m,color:a(p,l,m)}};s.exports=f},70238:(s,g,i)=>{var a=i(40987),v=function(f){var h=new a;f=f.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(l,m,y,x){return m+m+y+y+x+x});var u=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);if(u){var o=parseInt(u[1],16),d=parseInt(u[2],16),p=parseInt(u[3],16);h.setTo(o,d,p)}return h};s.exports=v},89528:s=>{var g=function(i,a,v){return v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?i+(a-i)*6*v:v<.5?a:v<.6666666666666666?i+(a-i)*(.6666666666666666-v)*6:i};s.exports=g},30100:(s,g,i)=>{var a=i(40987),v=i(90664),f=function(h){var u=v(h);return new a(u.r,u.g,u.b,u.a)};s.exports=f},90664:s=>{var g=function(i){return i>16777215?{a:i>>>24,r:i>>16&255,g:i>>8&255,b:i&255}:{a:255,r:i>>16&255,g:i>>8&255,b:i&255}};s.exports=g},13699:(s,g,i)=>{var a=i(28915),v=function(u,o,d,p,l,m,y,x){y===void 0&&(y=100),x===void 0&&(x=0);var b=x/y;return{r:a(u,p,b),g:a(o,l,b),b:a(d,m,b)}},f=function(u,o,d,p){return d===void 0&&(d=100),p===void 0&&(p=0),v(u.r,u.g,u.b,o.r,o.g,o.b,d,p)},h=function(u,o,d,p,l,m){return l===void 0&&(l=100),m===void 0&&(m=0),v(u.r,u.g,u.b,o,d,p,l,m)};s.exports={RGBWithRGB:v,ColorWithRGB:h,ColorWithColor:f}},68957:(s,g,i)=>{var a=i(40987),v=function(f){return new a(f.r,f.g,f.b,f.a)};s.exports=v},87388:(s,g,i)=>{var a=i(40987),v=function(f){var h=new a,u=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(f.toLowerCase());if(u){var o=parseInt(u[1],10),d=parseInt(u[2],10),p=parseInt(u[3],10),l=u[4]!==void 0?parseFloat(u[4]):1;h.setTo(o,d,p,l*255)}return h};s.exports=v},87837:s=>{var g=function(i,a,v,f){f===void 0&&(f={h:0,s:0,v:0}),i/=255,a/=255,v/=255;var h=Math.min(i,a,v),u=Math.max(i,a,v),o=u-h,d=0,p=u===0?0:o/u,l=u;return u!==h&&(u===i?d=(a-v)/o+(a<v?6:0):u===a?d=(v-i)/o+2:u===v&&(d=(i-a)/o+4),d/=6),f.hasOwnProperty("_h")?(f._h=d,f._s=p,f._v=l):(f.h=d,f.s=p,f.v=l),f};s.exports=g},75723:(s,g,i)=>{var a=i(62957),v=function(f,h,u,o,d){return o===void 0&&(o=255),d===void 0&&(d="#"),d==="#"?"#"+((1<<24)+(f<<16)+(h<<8)+u).toString(16).slice(1,7):"0x"+a(o)+a(f)+a(h)+a(u)};s.exports=v},85386:(s,g,i)=>{var a=i(30976),v=i(40987),f=function(h,u){return h===void 0&&(h=0),u===void 0&&(u=255),new v(a(h,u),a(h,u),a(h,u))};s.exports=f},80333:(s,g,i)=>{var a=i(70238),v=i(30100),f=i(68957),h=i(87388),u=function(o){var d=typeof o;switch(d){case"string":return o.substr(0,3).toLowerCase()==="rgb"?h(o):a(o);case"number":return v(o);case"object":return f(o)}};s.exports=u},3956:(s,g,i)=>{var a=i(40987);a.ColorSpectrum=i(92728),a.ColorToRGBA=i(91588),a.ComponentToHex=i(62957),a.GetColor=i(37589),a.GetColor32=i(1e3),a.HexStringToColor=i(70238),a.HSLToColor=i(62183),a.HSVColorWheel=i(27939),a.HSVToRGB=i(7537),a.HueToComponent=i(89528),a.IntegerToColor=i(30100),a.IntegerToRGB=i(90664),a.Interpolate=i(13699),a.ObjectToColor=i(68957),a.RandomRGB=i(85386),a.RGBStringToColor=i(87388),a.RGBToHSV=i(87837),a.RGBToString=i(75723),a.ValueToColor=i(80333),s.exports=a},27460:(s,g,i)=>{s.exports={Align:i(71926),BaseShader:i(73894),Bounds:i(58724),Canvas:i(26253),Color:i(3956),ColorMatrix:i(89422),Masks:i(69781),RGB:i(51767)}},6858:(s,g,i)=>{var a=i(83419),v=i(39429),f=new a({initialize:function(u,o,d,p,l,m){o||(o=u.sys.make.image({x:d,y:p,key:l,frame:m,add:!1})),this.bitmapMask=o,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(h){this.bitmapMask=h},preRenderWebGL:function(h,u,o){h.pipelines.BITMAPMASK_PIPELINE.beginMask(this,u,o)},postRenderWebGL:function(h,u,o){h.pipelines.BITMAPMASK_PIPELINE.endMask(this,u,o)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});v.register("bitmapMask",function(h,u,o,d,p){return new f(this.scene,h,u,o,d,p)}),s.exports=f},80661:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u){this.geometryMask=u,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(f){return this.geometryMask=f,this},setInvertAlpha:function(f){return f===void 0&&(f=!0),this.invertAlpha=f,this},preRenderWebGL:function(f,h,u){var o=f.gl;f.flush(),f.maskStack.length===0&&(o.enable(o.STENCIL_TEST),o.clear(o.STENCIL_BUFFER_BIT),f.maskCount=0),f.currentCameraMask.mask!==this&&(f.currentMask.mask=this),f.maskStack.push({mask:this,camera:u}),this.applyStencil(f,u,!0),f.maskCount++},applyStencil:function(f,h,u){var o=f.gl,d=this.geometryMask,p=f.maskCount,l=255;o.colorMask(!1,!1,!1,!1),u?(o.stencilFunc(o.EQUAL,p,l),o.stencilOp(o.KEEP,o.KEEP,o.INCR),p++):(o.stencilFunc(o.EQUAL,p+1,l),o.stencilOp(o.KEEP,o.KEEP,o.DECR)),this.level=p,d.renderWebGL(f,d,h),f.flush(),o.colorMask(!0,!0,!0,!0),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),this.invertAlpha?o.stencilFunc(o.NOTEQUAL,p,l):o.stencilFunc(o.EQUAL,p,l)},postRenderWebGL:function(f){var h=f.gl;f.maskStack.pop(),f.maskCount--,f.flush();var u=f.currentMask;if(f.maskStack.length===0)u.mask=null,h.disable(h.STENCIL_TEST);else{var o=f.maskStack[f.maskStack.length-1];o.mask.applyStencil(f,o.camera,!1),f.currentCameraMask.mask!==o.mask?(u.mask=o.mask,u.camera=o.camera):u.mask=null}},preRenderCanvas:function(f,h,u){var o=this.geometryMask;f.currentContext.save(),o.renderCanvas(f,o,u,null,null,!0),f.currentContext.clip()},postRenderCanvas:function(f){f.currentContext.restore()},destroy:function(){this.geometryMask=null}});s.exports=v},69781:(s,g,i)=>{s.exports={BitmapMask:i(6858),GeometryMask:i(80661)}},73894:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u,o,d){(!u||u==="")&&(u=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!o||o==="")&&(o=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),d===void 0&&(d=null),this.key=h,this.fragmentSrc=u,this.vertexSrc=o,this.uniforms=d}});s.exports=v},40366:s=>{var g=function(i,a){var v;if(a)typeof a=="string"?v=document.getElementById(a):typeof a=="object"&&a.nodeType===1&&(v=a);else if(i.parentElement||a===null)return i;return v||(v=document.body),v.appendChild(i),i};s.exports=g},83719:(s,g,i)=>{var a=i(40366),v=function(f){var h=f.config;if(!(!h.parent||!h.domCreateContainer)){var u=document.createElement("div");u.style.cssText=["display: block;","width: "+f.scale.width+"px;","height: "+f.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+h.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),f.domContainer=u,a(u,h.parent)}};s.exports=v},57264:(s,g,i)=>{var a=i(25892),v=function(f){if(document.readyState==="complete"||document.readyState==="interactive"){f();return}var h=function(){document.removeEventListener("deviceready",h,!0),document.removeEventListener("DOMContentLoaded",h,!0),window.removeEventListener("load",h,!0),f()};document.body?a.cordova?document.addEventListener("deviceready",h,!1):(document.addEventListener("DOMContentLoaded",h,!0),window.addEventListener("load",h,!0)):window.setTimeout(h,20)};s.exports=v},57811:s=>{var g=function(i){if(!i)return window.innerHeight;var a=Math.abs(window.orientation),v={w:0,h:0},f=document.createElement("div");return f.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(f),v.w=a===90?f.offsetHeight:window.innerWidth,v.h=a===90?window.innerWidth:f.offsetHeight,document.documentElement.removeChild(f),f=null,Math.abs(window.orientation)!==90?v.h:v.w};s.exports=g},45818:(s,g,i)=>{var a=i(13560),v=function(f,h){var u=window.screen,o=u?u.orientation||u.mozOrientation||u.msOrientation:!1;if(o&&typeof o.type=="string")return o.type;if(typeof o=="string")return o;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return a.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return a.ORIENTATION.LANDSCAPE}else return h>f?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE};s.exports=v},74403:s=>{var g=function(i){var a;return i!==""&&(typeof i=="string"?a=document.getElementById(i):i&&i.nodeType===1&&(a=i)),a||(a=document.body),a};s.exports=g},56836:s=>{var g=function(i){var a="";try{if(window.DOMParser){var v=new DOMParser;a=v.parseFromString(i,"text/xml")}else a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(i)}catch(f){a=null}return!a||!a.documentElement||a.getElementsByTagName("parsererror").length?null:a};s.exports=g},35846:s=>{var g=function(i){i.parentNode&&i.parentNode.removeChild(i)};s.exports=g},43092:(s,g,i)=>{var a=i(83419),v=i(29747),f=new a({initialize:function(){this.isRunning=!1,this.callback=v,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var u=this;this.step=function o(d){u.callback(d),u.isRunning&&(u.timeOutID=window.requestAnimationFrame(o))},this.stepTimeout=function o(){u.isRunning&&(u.timeOutID=window.setTimeout(o,u.delay)),u.callback(window.performance.now())}},start:function(h,u,o){this.isRunning||(this.callback=h,this.isSetTimeOut=u,this.delay=o,this.isRunning=!0,this.timeOutID=u?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=v}});s.exports=f},84902:(s,g,i)=>{var a={AddToDOM:i(40366),DOMContentLoaded:i(57264),GetInnerHeight:i(57811),GetScreenOrientation:i(45818),GetTarget:i(74403),ParseXML:i(56836),RemoveFromDOM:i(35846),RequestAnimationFrame:i(43092)};s.exports=a},47565:(s,g,i)=>{var a=i(83419),v=i(50792),f=i(37277),h=new a({Extends:v,initialize:function(){v.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});f.register("EventEmitter",h,"events"),s.exports=h},93055:(s,g,i)=>{s.exports={EventEmitter:i(47565)}},20122:(s,g,i)=>{var a=i(83419),v=i(72898),f=i(14811),h=new a({Extends:v,initialize:function(o,d){d===void 0&&(d=1),v.call(this,f.BARREL,o),this.amount=d}});s.exports=h},32251:(s,g,i)=>{var a=i(83419),v=i(72898),f=i(14811),h=new a({Extends:v,initialize:function(o,d,p,l,m,y,x){p===void 0&&(p=1),l===void 0&&(l=1),m===void 0&&(m=1),y===void 0&&(y=1),x===void 0&&(x=4),v.call(this,f.BLOOM,o),this.steps=x,this.offsetX=p,this.offsetY=l,this.blurStrength=m,this.strength=y,this.glcolor=[1,1,1],d!=null&&(this.color=d)},color:{get:function(){var u=this.glcolor;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},set:function(u){var o=this.glcolor;o[0]=(u>>16&255)/255,o[1]=(u>>8&255)/255,o[2]=(u&255)/255}}});s.exports=h},9047:(s,g,i)=>{var a=i(83419),v=i(72898),f=i(14811),h=new a({Extends:v,initialize:function(o,d,p,l,m,y,x){d===void 0&&(d=0),p===void 0&&(p=2),l===void 0&&(l=2),m===void 0&&(m=1),x===void 0&&(x=4),v.call(this,f.BLUR,o),this.quality=d,this.x=p,this.y=l,this.steps=x,this.strength=m,this.glcolor=[1,1,1],y!=null&&(this.color=y)},color:{get:function(){var u=this.glcolor;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},set:function(u){var o=this.glcolor;o[0]=(u>>16&255)/255,o[1]=(u>>8&255)/255,o[2]=(u&255)/255}}});s.exports=h},27885:(s,g,i)=>{var a=i(83419),v=i(72898),f=i(14811),h=new a({Extends:v,initialize:function(o,d,p,l,m,y,x,b){d===void 0&&(d=.5),p===void 0&&(p=1),l===void 0&&(l=.2),m===void 0&&(m=!1),y===void 0&&(y=1),x===void 0&&(x=1),b===void 0&&(b=1),v.call(this,f.BOKEH,o),this.radius=d,this.amount=p,this.contrast=l,this.isTiltShift=m,this.strength=b,this.blurX=y,this.blurY=x}});s.exports=h},12578:(s,g,i)=>{var a=i(83419),v=i(72898),f=i(14811),h=new a({Extends:v,initialize:function(o,d,p,l,m,y){d===void 0&&(d=8),m===void 0&&(m=1),y===void 0&&(y=.005),v.call(this,f.CIRCLE,o),this.scale=m,this.feather=y,this.thickness=d,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],p!=null&&(this.color=p),l!=null&&(this.backgroundColor=l)},color:{get:function(){var u=this.glcolor;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},set:function(u){var o=this.glcolor;o[0]=(u>>16&255)/255,o[1]=(u>>8&255)/255,o[2]=(u&255)/255}},backgroundColor:{get:function(){var u=this.glcolor2;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},set:function(u){var o=this.glcolor2;o[0]=(u>>16&255)/255,o[1]=(u>>8&255)/255,o[2]=(u&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(u){this.glcolor2[3]=u}}});s.exports=h},15802:(s,g,i)=>{var a=i(83419),v=i(89422),f=i(14811),h=new a({Extends:v,initialize:function(o){v.call(this),this.type=f.COLOR_MATRIX,this.gameObject=o,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});s.exports=h},72898:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u){this.type=h,this.gameObject=u,this.active=!0},setActive:function(f){return this.active=f,this},destroy:function(){this.gameObject=null,this.active=!1}});s.exports=v},44553:(s,g,i)=>{var a=i(83419),v=i(72898),f=i(14811),h=new a({Extends:v,initialize:function(o,d,p,l){d===void 0&&(d="__WHITE"),p===void 0&&(p=.005),l===void 0&&(l=.005),v.call(this,f.DISPLACEMENT,o),this.x=p,this.y=l,this.glTexture,this.setTexture(d)},setTexture:function(u){var o=this.gameObject.scene.sys.textures.getFrame(u);return o&&(this.glTexture=o.glTexture),this}});s.exports=h},68531:(s,g,i)=>{var a=i(83419),v=i(72898),f=i(14811),h=new a({Extends:v,initialize:function(o,d,p,l,m){p===void 0&&(p=4),l===void 0&&(l=0),m===void 0&&(m=!1),v.call(this,f.GLOW,o),this.outerStrength=p,this.innerStrength=l,this.knockout=m,this.glcolor=[1,1,1,1],d!==void 0&&(this.color=d)},color:{get:function(){var u=this.glcolor;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},set:function(u){var o=this.glcolor;o[0]=(u>>16&255)/255,o[1]=(u>>8&255)/255,o[2]=(u&255)/255}}});s.exports=h},37102:(s,g,i)=>{var a=i(83419),v=i(72898),f=i(14811),h=new a({Extends:v,initialize:function(o,d,p,l,m,y,x,b,w){l===void 0&&(l=.2),m===void 0&&(m=0),y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=1),w===void 0&&(w=0),v.call(this,f.GRADIENT,o),this.alpha=l,this.size=w,this.fromX=m,this.fromY=y,this.toX=x,this.toY=b,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],d!=null&&(this.color1=d),p!=null&&(this.color2=p)},color1:{get:function(){var u=this.glcolor1;return(u[0]<<16)+(u[1]<<8)+(u[2]|0)},set:function(u){var o=this.glcolor1;o[0]=u>>16&255,o[1]=u>>8&255,o[2]=u&255}},color2:{get:function(){var u=this.glcolor2;return(u[0]<<16)+(u[1]<<8)+(u[2]|0)},set:function(u){var o=this.glcolor2;o[0]=u>>16&255,o[1]=u>>8&255,o[2]=u&255}}});s.exports=h},86886:(s,g,i)=>{var a=i(83419),v=i(72898),f=i(14811),h=new a({Extends:v,initialize:function(o,d){d===void 0&&(d=1),v.call(this,f.PIXELATE,o),this.amount=d}});s.exports=h},92322:(s,g,i)=>{var a=i(83419),v=i(72898),f=i(14811),h=new a({Extends:v,initialize:function(o,d,p,l,m,y,x,b){d===void 0&&(d=0),p===void 0&&(p=0),l===void 0&&(l=.1),m===void 0&&(m=1),x===void 0&&(x=6),b===void 0&&(b=1),v.call(this,f.SHADOW,o),this.x=d,this.y=p,this.decay=l,this.power=m,this.glcolor=[0,0,0,1],this.samples=x,this.intensity=b,y!==void 0&&(this.color=y)},color:{get:function(){var u=this.glcolor;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},set:function(u){var o=this.glcolor;o[0]=(u>>16&255)/255,o[1]=(u>>8&255)/255,o[2]=(u&255)/255}}});s.exports=h},39563:(s,g,i)=>{var a=i(83419),v=i(72898),f=i(14811),h=new a({Extends:v,initialize:function(o,d,p,l,m){d===void 0&&(d=.5),p===void 0&&(p=.5),l===void 0&&(l=3),m===void 0&&(m=!1),v.call(this,f.SHINE,o),this.speed=d,this.lineWidth=p,this.gradient=l,this.reveal=m}});s.exports=h},56448:(s,g,i)=>{var a=i(83419),v=i(72898),f=i(14811),h=new a({Extends:v,initialize:function(o,d,p,l,m){d===void 0&&(d=.5),p===void 0&&(p=.5),l===void 0&&(l=.5),m===void 0&&(m=.5),v.call(this,f.VIGNETTE,o),this.x=d,this.y=p,this.radius=l,this.strength=m}});s.exports=h},38433:(s,g,i)=>{var a=i(83419),v=i(72898),f=i(14811),h=new a({Extends:v,initialize:function(o,d,p,l,m){d===void 0&&(d=.1),p===void 0&&(p=0),l===void 0&&(l=0),m===void 0&&(m=!1),v.call(this,f.WIPE,o),this.progress=0,this.wipeWidth=d,this.direction=p,this.axis=l,this.reveal=m}});s.exports=h},14811:s=>{var g={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};s.exports=g},66064:(s,g,i)=>{var a=i(79291),v=i(14811),f={Barrel:i(20122),Controller:i(72898),Bloom:i(32251),Blur:i(9047),Bokeh:i(27885),Circle:i(12578),ColorMatrix:i(15802),Displacement:i(44553),Glow:i(68531),Gradient:i(37102),Pixelate:i(86886),Shadow:i(92322),Shine:i(39563),Vignette:i(56448),Wipe:i(38433)};f=a(!1,f,v),s.exports=f},25305:(s,g,i)=>{var a=i(10312),v=i(23568),f=function(h,u,o){u.x=v(o,"x",0),u.y=v(o,"y",0),u.depth=v(o,"depth",0),u.flipX=v(o,"flipX",!1),u.flipY=v(o,"flipY",!1);var d=v(o,"scale",null);typeof d=="number"?u.setScale(d):d!==null&&(u.scaleX=v(d,"x",1),u.scaleY=v(d,"y",1));var p=v(o,"scrollFactor",null);typeof p=="number"?u.setScrollFactor(p):p!==null&&(u.scrollFactorX=v(p,"x",1),u.scrollFactorY=v(p,"y",1)),u.rotation=v(o,"rotation",0);var l=v(o,"angle",null);l!==null&&(u.angle=l),u.alpha=v(o,"alpha",1);var m=v(o,"origin",null);if(typeof m=="number")u.setOrigin(m);else if(m!==null){var y=v(m,"x",.5),x=v(m,"y",.5);u.setOrigin(y,x)}u.blendMode=v(o,"blendMode",a.NORMAL),u.visible=v(o,"visible",!0);var b=v(o,"add",!0);return b&&h.sys.displayList.add(u),u.preUpdate&&h.sys.updateList.add(u),u};s.exports=f},13059:(s,g,i)=>{var a=i(23568),v=function(f,h){var u=a(h,"anims",null);if(u===null)return f;if(typeof u=="string")f.anims.play(u);else if(typeof u=="object"){var o=f.anims,d=a(u,"key",void 0);if(d){var p=a(u,"startFrame",void 0),l=a(u,"delay",0),m=a(u,"repeat",0),y=a(u,"repeatDelay",0),x=a(u,"yoyo",!1),b=a(u,"play",!1),w=a(u,"delayedPlay",0),C={key:d,delay:l,repeat:m,repeatDelay:y,yoyo:x,startFrame:p};b?o.play(C):w>0?o.playAfterDelay(C,w):o.load(C)}}return f};s.exports=v},8050:(s,g,i)=>{var a=i(83419),v=i(73162),f=i(37277),h=i(51708),u=i(44594),o=i(19186),d=new a({Extends:v,initialize:function(l){v.call(this,l),this.sortChildrenFlag=!1,this.scene=l,this.systems=l.sys,this.events=l.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(u.BOOT,this.boot,this),this.events.on(u.START,this.start,this)},boot:function(){this.events.once(u.DESTROY,this.destroy,this)},addChildCallback:function(p){p.displayList&&p.displayList!==this&&p.removeFromDisplayList(),p.parentContainer&&p.parentContainer.remove(p),p.displayList||(this.queueDepthSort(),p.displayList=this,p.emit(h.ADDED_TO_SCENE,p,this.scene),this.events.emit(u.ADDED_TO_SCENE,p,this.scene))},removeChildCallback:function(p){this.queueDepthSort(),p.displayList=null,p.emit(h.REMOVED_FROM_SCENE,p,this.scene),this.events.emit(u.REMOVED_FROM_SCENE,p,this.scene)},start:function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(o(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(p,l){return p._depth-l._depth},getChildren:function(){return this.list},shutdown:function(){for(var p=this.list;p.length;)p[0].destroy(!0);this.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});f.register("DisplayList",d,"displayList"),s.exports=d},95643:(s,g,i)=>{var a=i(83419),v=i(53774),f=i(45893),h=i(50792),u=i(51708),o=i(44594),d=new a({Extends:h,initialize:function(l,m){h.call(this),this.scene=l,this.displayList=null,this.type=m,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(u.ADDED_TO_SCENE,this.addedToScene,this),this.on(u.REMOVED_FROM_SCENE,this.removedFromScene,this),l.sys.queueDepthSort()},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},setState:function(p){return this.state=p,this},setDataEnabled:function(){return this.data||(this.data=new f(this)),this},setData:function(p,l){return this.data||(this.data=new f(this)),this.data.set(p,l),this},incData:function(p,l){return this.data||(this.data=new f(this)),this.data.inc(p,l),this},toggleData:function(p){return this.data||(this.data=new f(this)),this.data.toggle(p),this},getData:function(p){return this.data||(this.data=new f(this)),this.data.get(p)},setInteractive:function(p,l,m){return this.scene.sys.input.enable(this,p,l,m),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return v(this)},willRender:function(p){var l=this.displayList&&this.displayList.active?this.displayList.willRender(p):!0;return!(!l||d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&p.id)},getIndexList:function(){for(var p=this,l=this.parentContainer,m=[];l&&(m.unshift(l.getIndex(p)),p=l,l.parentContainer);)l=l.parentContainer;return this.displayList?m.unshift(this.displayList.getIndex(p)):m.unshift(this.scene.sys.displayList.getIndex(p)),m},addToDisplayList:function(p){return p===void 0&&(p=this.scene.sys.displayList),this.displayList&&this.displayList!==p&&this.removeFromDisplayList(),p.exists(this)||(this.displayList=p,p.add(this,!0),p.queueDepthSort(),this.emit(u.ADDED_TO_SCENE,this,this.scene),p.events.emit(o.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var p=this.displayList||this.scene.sys.displayList;return p&&p.exists(this)&&(p.remove(this,!0),p.queueDepthSort(),this.displayList=null,this.emit(u.REMOVED_FROM_SCENE,this,this.scene),p.events.emit(o.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(p){!this.scene||this.ignoreDestroy||(p===void 0&&(p=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(u.DESTROY,this,p),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});d.RENDER_MASK=15,s.exports=d},44603:(s,g,i)=>{var a=i(83419),v=i(37277),f=i(44594),h=new a({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(u,o){h.prototype.hasOwnProperty(u)||(h.prototype[u]=o)},h.remove=function(u){h.prototype.hasOwnProperty(u)&&delete h.prototype[u]},v.register("GameObjectCreator",h,"make"),s.exports=h},39429:(s,g,i)=>{var a=i(83419),v=i(37277),f=i(44594),h=new a({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},existing:function(u){return(u.renderCanvas||u.renderWebGL)&&this.displayList.add(u),u.preUpdate&&this.updateList.add(u),u},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(u,o){h.prototype.hasOwnProperty(u)||(h.prototype[u]=o)},h.remove=function(u){h.prototype.hasOwnProperty(u)&&delete h.prototype[u]},v.register("GameObjectFactory",h,"add"),s.exports=h},91296:(s,g,i)=>{var a=i(61340),v=new a,f=new a,h=new a,u={camera:v,sprite:f,calc:h},o=function(d,p,l){var m=v,y=f,x=h;return y.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),m.copyFrom(p.matrix),l?(m.multiplyWithOffset(l,-p.scrollX*d.scrollFactorX,-p.scrollY*d.scrollFactorY),y.e=d.x,y.f=d.y):(y.e-=p.scrollX*d.scrollFactorX,y.f-=p.scrollY*d.scrollFactorY),m.multiply(y,x),u};s.exports=o},45027:(s,g,i)=>{var a=i(83419),v=i(25774),f=i(37277),h=i(44594),u=new a({Extends:v,initialize:function(d){v.call(this),this.checkQueue=!0,this.scene=d,this.systems=d.sys,d.sys.events.once(h.BOOT,this.boot,this),d.sys.events.on(h.START,this.start,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){var o=this.systems.events;o.on(h.PRE_UPDATE,this.update,this),o.on(h.UPDATE,this.sceneUpdate,this),o.once(h.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(o,d){for(var p=this._active,l=p.length,m=0;m<l;m++){var y=p[m];y.active&&y.preUpdate.call(y,o,d)}},shutdown:function(){for(var o=this._active.length;o--;)this._active[o].destroy(!0);for(o=this._pending.length;o--;)this._pending[o].destroy(!0);for(o=this._destroy.length;o--;)this._destroy[o].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var d=this.systems.events;d.off(h.PRE_UPDATE,this.update,this),d.off(h.UPDATE,this.sceneUpdate,this),d.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});f.register("UpdateList",u,"updateList"),s.exports=u},3217:s=>{var g=function(i,a,v,f,h,u,o,d,p,l,m,y,x,b,w){var C=v.x-a.displayOriginX+h,E=v.y-a.displayOriginY+u,T=C+v.w,k=E+v.h,P=o.getXRound(C,E,d),R=o.getYRound(C,E,d),M=o.getXRound(C,k,d),I=o.getYRound(C,k,d),B=o.getXRound(T,k,d),D=o.getYRound(T,k,d),N=o.getXRound(T,E,d),_=o.getYRound(T,E,d);i.batchQuad(a,P,R,M,I,B,D,N,_,f.u0,f.v0,f.u1,f.v1,p,l,m,y,x,b,w)};s.exports=g},53048:s=>{var g=function(i,a,v,f){if(v===void 0&&(v=!1),f===void 0)return f={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},f;var h=i.text,u=h.length,o=i.maxWidth,d=i.wordWrapCharCode,p=Number.MAX_VALUE,l=Number.MAX_VALUE,m=0,y=0,x=i.fontData.chars,b=i.fontData.lineHeight,w=i.letterSpacing,C=i.lineSpacing,E=0,T=0,k=0,P=null,R=i._align,M=0,I=0,B=i.fontSize/i.fontData.size,D=B*i.scaleX,N=B*i.scaleY,_=null,G=0,$=[],V=Number.MAX_VALUE,Y=0,U=0,F=0,O,j=[],z=[],W=null;if(o>0){for(O=0;O<u;O++){if(k=h.charCodeAt(O),k===10){W!==null&&(j.push({word:W.word,i:W.i,x:W.x*D,y:W.y*N,w:W.w*D,h:W.h*N,cr:!0}),W=null),E=0,T+=b+C,_=null;continue}if(P=x[k],!!P){if(_!==null)var q=P.kerning[G];k===d?W!==null&&(j.push({word:W.word,i:W.i,x:W.x*D,y:W.y*N,w:W.w*D,h:W.h*N,cr:!1}),W=null):(W===null&&(W={word:"",i:O,x:E,y:T,w:0,h:b,cr:!1}),W.word=W.word.concat(h[O]),W.w+=P.xOffset+P.xAdvance+(q!==void 0?q:0)),E+=P.xAdvance+w,_=P,G=k}}W!==null&&j.push({word:W.word,i:W.i,x:W.x*D,y:W.y*N,w:W.w*D,h:W.h*N,cr:!1}),E=0,T=0,_=null,G=0;var ot,Q=0,rt=[];for(O=0;O<j.length;O++){var Mt=j[O],K=Mt.x,It=Mt.x+Mt.w;if(ot){var Ft=K-(ot.x+ot.w);Q=K-(Ft+ot.w),ot=null}var ft=K-Q,yt=It-Q;ft>o||yt>o?(rt.push(Mt.i-1),Mt.cr?(rt.push(Mt.i+Mt.word.length),Q=0,ot=null):ot=Mt):Mt.cr&&(rt.push(Mt.i+Mt.word.length),Q=0,ot=null)}var At=function(tt,Ot,ie){return tt.substr(0,Ot)+ie+tt.substr(Ot+1)};for(O=rt.length-1;O>=0;O--)h=At(h,rt[O],`
`);f.wrappedText=h,u=h.length,j=[],W=null}var Bt=0;for(O=0;O<u;O++){if(k=h.charCodeAt(O),k===10){W!==null&&(j.push({word:W.word,i:W.i,x:W.x*D,y:W.y*N,w:W.w*D,h:W.h*N}),W=null),E=0,T+=b+C,_=null,$[U]=F,F>Y&&(Y=F),F<V&&(V=F),U++,F=0;continue}if(P=x[k],!!P){if(M=E,I=T,_!==null){var le=P.kerning[G];M+=le!==void 0?le:0}p>M&&(p=M),l>I&&(l=I);var _t=M+P.xAdvance,xe=I+b;m<_t&&(m=_t),y<xe&&(y=xe);var Ee=P.xOffset+P.xAdvance+(le!==void 0?le:0);k===d?W!==null&&(j.push({word:W.word,i:W.i,x:W.x*D,y:W.y*N,w:W.w*D,h:W.h*N}),W=null):(W===null&&(W={word:"",i:Bt,x:E,y:T,w:0,h:b}),W.word=W.word.concat(h[O]),W.w+=Ee),z.push({i:Bt,idx:O,char:h[O],code:k,x:(P.xOffset+M)*B,y:(P.yOffset+T)*B,w:P.width*B,h:P.height*B,t:T*B,r:_t*B,b:b*B,line:U,glyph:P}),E+=P.xAdvance+w+(le!==void 0?le:0),_=P,G=k,F=_t*B,Bt++}}if(W!==null&&j.push({word:W.word,i:W.i,x:W.x*D,y:W.y*N,w:W.w*D,h:W.h*N}),$[U]=F,F>Y&&(Y=F),F<V&&(V=F),R>0)for(var ve=0;ve<z.length;ve++){var Fe=z[ve];if(R===1){var Ze=(Y-$[Fe.line])/2;Fe.x+=Ze,Fe.r+=Ze}else if(R===2){var ei=Y-$[Fe.line];Fe.x+=ei,Fe.r+=ei}}var Ci=f.local,xt=f.global,et=f.lines;return Ci.x=p*B,Ci.y=l*B,Ci.width=m*B,Ci.height=y*B,xt.x=i.x-i._displayOriginX+p*D,xt.y=i.y-i._displayOriginY+l*N,xt.width=m*D,xt.height=y*N,et.shortest=V,et.longest=Y,et.lengths=$,a&&(Ci.x=Math.ceil(Ci.x),Ci.y=Math.ceil(Ci.y),Ci.width=Math.ceil(Ci.width),Ci.height=Math.ceil(Ci.height),xt.x=Math.ceil(xt.x),xt.y=Math.ceil(xt.y),xt.width=Math.ceil(xt.width),xt.height=Math.ceil(xt.height),et.shortest=Math.ceil(V),et.longest=Math.ceil(Y)),v&&(i._displayOriginX=i.originX*Ci.width,i._displayOriginY=i.originY*Ci.height,xt.x=i.x-i._displayOriginX*i.scaleX,xt.y=i.y-i._displayOriginY*i.scaleY,a&&(xt.x=Math.ceil(xt.x),xt.y=Math.ceil(xt.y))),f.words=j,f.characters=z,f.lines.height=b,f.scale=B,f.scaleX=i.scaleX,f.scaleY=i.scaleY,f};s.exports=g},61327:(s,g,i)=>{var a=i(21859),v=function(f,h,u,o,d,p,l){var m=f.sys.textures.get(u),y=m.get(o),x=f.sys.cache.xml.get(d);if(y&&x){var b=a(x,y,p,l,m);return f.sys.cache.bitmapFont.add(h,{data:b,texture:u,frame:o,fromAtlas:!0}),!0}else return!1};s.exports=v},6925:(s,g,i)=>{var a=i(35154),v=function(f,h){var u=h.width,o=h.height,d=Math.floor(u/2),p=Math.floor(o/2),l=a(h,"chars","");if(l!==""){var m=a(h,"image",""),y=f.sys.textures.getFrame(m),x=y.cutX,b=y.cutY,w=y.source.width,C=y.source.height,E=a(h,"offset.x",0),T=a(h,"offset.y",0),k=a(h,"spacing.x",0),P=a(h,"spacing.y",0),R=a(h,"lineSpacing",0),M=a(h,"charsPerRow",null);M===null&&(M=w/u,M>l.length&&(M=l.length));for(var I=E,B=T,D={retroFont:!0,font:m,size:u,lineHeight:o+R,chars:{}},N=0,_=0;_<l.length;_++){var G=l.charCodeAt(_),$=(x+I)/w,V=(b+B)/C,Y=(x+I+u)/w,U=(b+B+o)/C;D.chars[G]={x:I,y:B,width:u,height:o,centerX:d,centerY:p,xOffset:0,yOffset:0,xAdvance:u,data:{},kerning:{},u0:$,v0:V,u1:Y,v1:U},N++,N===M?(N=0,I=E,B+=o+P):I+=u+k}var F={data:D,frame:null,texture:m};return F}};s.exports=v},21859:s=>{function g(a,v){return parseInt(a.getAttribute(v),10)}var i=function(a,v,f,h,u){f===void 0&&(f=0),h===void 0&&(h=0);var o=v.cutX,d=v.cutY,p=v.source.width,l=v.source.height,m=v.sourceIndex,y={},x=a.getElementsByTagName("info")[0],b=a.getElementsByTagName("common")[0];y.font=x.getAttribute("face"),y.size=g(x,"size"),y.lineHeight=g(b,"lineHeight")+h,y.chars={};var w=a.getElementsByTagName("char"),C=v!==void 0&&v.trimmed;if(C)var E=v.height,T=v.width;for(var k=0;k<w.length;k++){var P=w[k],R=g(P,"id"),M=String.fromCharCode(R),I=g(P,"x"),B=g(P,"y"),D=g(P,"width"),N=g(P,"height");C&&(I<T&&(T=I),B<E&&(E=B)),C&&E!==0&&T!==0&&(I-=v.x,B-=v.y);var _=(o+I)/p,G=(d+B)/l,$=(o+I+D)/p,V=(d+B+N)/l;if(y.chars[R]={x:I,y:B,width:D,height:N,centerX:Math.floor(D/2),centerY:Math.floor(N/2),xOffset:g(P,"xoffset"),yOffset:g(P,"yoffset"),xAdvance:g(P,"xadvance")+f,data:{},kerning:{},u0:_,v0:G,u1:$,v1:V},u&&D!==0&&N!==0){var Y=u.add(M,m,I,B,D,N);Y&&Y.setUVs(D,N,_,G,$,V)}}var U=a.getElementsByTagName("kerning");for(k=0;k<U.length;k++){var F=U[k],O=g(F,"first"),j=g(F,"second"),z=g(F,"amount");y.chars[j].kerning[O]=z}return y};s.exports=i},196:(s,g,i)=>{var a=i(87662),v=i(79291),f={Parse:i(6925)};f=v(!1,f,a),s.exports=f},87662:s=>{var g={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};s.exports=g},2638:(s,g,i)=>{var a=i(22186),v=i(83419),f=i(12310),h=new v({Extends:a,Mixins:[f],initialize:function(o,d,p,l,m,y,x){a.call(this,o,d,p,l,m,y,x),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(u,o){return this.cropWidth=u,this.cropHeight=o,this},setDisplayCallback:function(u){return this.displayCallback=u,this},setScrollX:function(u){return this.scrollX=u,this},setScrollY:function(u){return this.scrollY=u,this}});s.exports=h},86741:(s,g,i)=>{var a=i(20926),v=function(f,h,u,o){var d=h._text,p=d.length,l=f.currentContext;if(!(p===0||!a(f,l,h,u,o))){u.addToRenderList(h);var m=h.fromAtlas?h.frame:h.texture.frames.__BASE,y=h.displayCallback,x=h.callbackData,b=h.fontData.chars,w=h.fontData.lineHeight,C=h._letterSpacing,E=0,T=0,k=0,P=null,R=0,M=0,I=0,B=0,D=0,N=0,_=null,G=0,$=h.frame.source.image,V=m.cutX,Y=m.cutY,U=0,F=0,O=h._fontSize/h.fontData.size,j=h._align,z=0,W=0;h.getTextBounds(!1);var q=h._bounds.lines;j===1?W=(q.longest-q.lengths[0])/2:j===2&&(W=q.longest-q.lengths[0]),l.translate(-h.displayOriginX,-h.displayOriginY);var ot=u.roundPixels;h.cropWidth>0&&h.cropHeight>0&&(l.beginPath(),l.rect(0,0,h.cropWidth,h.cropHeight),l.clip());for(var Q=0;Q<p;Q++){if(F=O,U=0,k=d.charCodeAt(Q),k===10){z++,j===1?W=(q.longest-q.lengths[z])/2:j===2&&(W=q.longest-q.lengths[z]),E=0,T+=w,_=null;continue}if(P=b[k],!!P){if(R=V+P.x,M=Y+P.y,I=P.width,B=P.height,D=P.xOffset+E-h.scrollX,N=P.yOffset+T-h.scrollY,_!==null){var rt=P.kerning[G];D+=rt!==void 0?rt:0}if(y){x.index=Q,x.charCode=k,x.x=D,x.y=N,x.scale=F,x.rotation=U,x.data=P.data;var Mt=y(x);D=Mt.x,N=Mt.y,F=Mt.scale,U=Mt.rotation}D*=F,N*=F,D+=W,E+=P.xAdvance+C+(rt!==void 0?rt:0),_=P,G=k,!(I===0||B===0||k===32)&&(ot&&(D=Math.round(D),N=Math.round(N)),l.save(),l.translate(D,N),l.rotate(U),l.scale(F,F),l.drawImage($,R,M,I,B,0,0,I,B),l.restore())}}l.restore()}};s.exports=v},11164:(s,g,i)=>{var a=i(2638),v=i(25305),f=i(44603),h=i(23568);f.register("dynamicBitmapText",function(u,o){u===void 0&&(u={});var d=h(u,"font",""),p=h(u,"text",""),l=h(u,"size",!1),m=new a(this.scene,0,0,d,p,l);return o!==void 0&&(u.add=o),v(this.scene,m,u),m})},72566:(s,g,i)=>{var a=i(2638),v=i(39429);v.register("dynamicBitmapText",function(f,h,u,o,d){return this.displayList.add(new a(this.scene,f,h,u,o,d))})},12310:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(73482),f=i(86741),s.exports={renderWebGL:v,renderCanvas:f}},73482:(s,g,i)=>{var a=i(91296),v=i(61340),f=i(70554),h=new v,u=function(o,d,p,l){var m=d.text,y=m.length;if(y!==0){p.addToRenderList(d);var x=o.pipelines.set(d.pipeline,d),b=a(d,p,l);o.pipelines.preBatch(d);var w=b.sprite,C=b.calc,E=h,T=d.cropWidth>0||d.cropHeight>0;T&&(x.flush(),o.pushScissor(C.tx,C.ty,d.cropWidth*C.scaleX,d.cropHeight*C.scaleY));var k=d.frame,P=k.glTexture,R=d.tintFill,M=f.getTintAppendFloatAlpha(d.tintTopLeft,p.alpha*d._alphaTL),I=f.getTintAppendFloatAlpha(d.tintTopRight,p.alpha*d._alphaTR),B=f.getTintAppendFloatAlpha(d.tintBottomLeft,p.alpha*d._alphaBL),D=f.getTintAppendFloatAlpha(d.tintBottomRight,p.alpha*d._alphaBR),N=x.setGameObject(d),_=0,G=0,$=0,V=0,Y=d.letterSpacing,U,F=0,O=0,j,z=d.scrollX,W=d.scrollY,q=d.fontData,ot=q.chars,Q=q.lineHeight,rt=d.fontSize/q.size,Mt=0,K=d._align,It=0,Ft=0,ft=d.getTextBounds(!1);d.maxWidth>0&&(m=ft.wrappedText,y=m.length);var yt=d._bounds.lines;K===1?Ft=(yt.longest-yt.lengths[0])/2:K===2&&(Ft=yt.longest-yt.lengths[0]);for(var At=p.roundPixels,Bt=d.displayCallback,le=d.callbackData,_t=0;_t<y;_t++){if($=m.charCodeAt(_t),$===10){It++,K===1?Ft=(yt.longest-yt.lengths[It])/2:K===2&&(Ft=yt.longest-yt.lengths[It]),_=0,G+=Q,j=null;continue}if(U=ot[$],!!U){F=U.width,O=U.height;var xe=U.xOffset+_-z,Ee=U.yOffset+G-W;if(j!==null){var ve=U.kerning[V];xe+=ve!==void 0?ve:0}if(_+=U.xAdvance+Y,j=U,V=$,!(F===0||O===0||$===32)){if(rt=d.fontSize/d.fontData.size,Mt=0,Bt){le.color=0,le.tint.topLeft=M,le.tint.topRight=I,le.tint.bottomLeft=B,le.tint.bottomRight=D,le.index=_t,le.charCode=$,le.x=xe,le.y=Ee,le.scale=rt,le.rotation=Mt,le.data=U.data;var Fe=Bt(le);xe=Fe.x,Ee=Fe.y,rt=Fe.scale,Mt=Fe.rotation,Fe.color?(M=Fe.color,I=Fe.color,B=Fe.color,D=Fe.color):(M=Fe.tint.topLeft,I=Fe.tint.topRight,B=Fe.tint.bottomLeft,D=Fe.tint.bottomRight),M=f.getTintAppendFloatAlpha(M,p.alpha*d._alphaTL),I=f.getTintAppendFloatAlpha(I,p.alpha*d._alphaTR),B=f.getTintAppendFloatAlpha(B,p.alpha*d._alphaBL),D=f.getTintAppendFloatAlpha(D,p.alpha*d._alphaBR)}xe*=rt,Ee*=rt,xe-=d.displayOriginX,Ee-=d.displayOriginY,xe+=Ft,E.applyITRS(xe,Ee,Mt,rt,rt),C.multiply(E,w);var Ze=U.u0,ei=U.v0,Ci=U.u1,xt=U.v1,et=F,tt=O,Ot=w.e,ie=w.f,Ce=tt*w.c+w.e,Ne=tt*w.d+w.f,Ui=et*w.a+tt*w.c+w.e,br=et*w.b+tt*w.d+w.f,ar=et*w.a+w.e,vr=et*w.b+w.f;At&&(Ot=Math.round(Ot),ie=Math.round(ie),Ce=Math.round(Ce),Ne=Math.round(Ne),Ui=Math.round(Ui),br=Math.round(br),ar=Math.round(ar),vr=Math.round(vr)),x.shouldFlush(6)&&(x.flush(),N=x.setGameObject(d)),x.batchQuad(d,Ot,ie,Ce,Ne,Ui,br,ar,vr,Ze,ei,Ci,xt,M,I,B,D,R,P,N)}}}T&&(x.flush(),o.popScissor()),o.pipelines.postBatch(d)}};s.exports=u},22186:(s,g,i)=>{var a=i(83419),v=i(45319),f=i(31401),h=i(95643),u=i(53048),o=i(61327),d=i(21859),p=i(87841),l=i(18658),m=new a({Extends:h,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Texture,f.Tint,f.Transform,f.Visible,l],initialize:function(x,b,w,C,E,T,k){E===void 0&&(E=""),k===void 0&&(k=0),h.call(this,x,"BitmapText"),this.font=C;var P=this.scene.sys.cache.bitmapFont.get(C);P||console.warn("Invalid BitmapText key: "+C),this.fontData=P.data,this._text="",this._fontSize=T||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=k,this._bounds=u(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=P.fromAtlas,this.setTexture(P.texture,P.frame),this.setPosition(b,w),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(E)},setLeftAlign:function(){return this._align=m.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=m.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=m.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(y){return this._fontSize=y,this._dirty=!0,this},setLetterSpacing:function(y){return y===void 0&&(y=0),this._letterSpacing=y,this._dirty=!0,this},setLineSpacing:function(y){return y===void 0&&(y=0),this.lineSpacing=y,this},setText:function(y){return!y&&y!==0&&(y=""),Array.isArray(y)&&(y=y.join(`
`)),y!==this.text&&(this._text=y.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(y,x,b,w){return y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=.5),this.dropShadowX=y,this.dropShadowY=x,this.dropShadowColor=b,this.dropShadowAlpha=w,this},setCharacterTint:function(y,x,b,w,C,E,T){y===void 0&&(y=0),x===void 0&&(x=1),b===void 0&&(b=!1),w===void 0&&(w=-1),C===void 0&&(C=w,E=w,T=w);var k=this.text.length;x===-1&&(x=k),y<0&&(y=k+y),y=v(y,0,k-1);for(var P=v(y+x,y,k),R=this.charColors,M=y;M<P;M++){var I=R[M];if(w===-1)R[M]=null;else{var B=b?1:0;I?(I.tintEffect=B,I.tintTL=w,I.tintTR=C,I.tintBL=E,I.tintBR=T):R[M]={tintEffect:B,tintTL:w,tintTR:C,tintBL:E,tintBR:T}}}return this},setWordTint:function(y,x,b,w,C,E,T){x===void 0&&(x=1);for(var k=this.getTextBounds(),P=k.words,R=typeof y=="number",M=0,I=0;I<P.length;I++){var B=P[I];if((R&&I===y||!R&&B.word===y)&&(this.setCharacterTint(B.i,B.word.length,b,w,C,E,T),M++,M===x))return this}return this},getTextBounds:function(y){var x=this._bounds;return(this._dirty||y||this.scaleX!==x.scaleX||this.scaleY!==x.scaleY)&&(u(this,y,!0,x),this._dirty=!1),x},getCharacterAt:function(y,x,b){for(var w=this.getLocalPoint(y,x,null,b),C=this.getTextBounds(),E=C.characters,T=new p,k=0;k<E.length;k++){var P=E[k];if(T.setTo(P.x,P.t,P.r-P.x,P.b),T.contains(w.x,w.y))return P}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(y,x,b){x===void 0&&(x=this._fontSize),b===void 0&&(b=this._align);var w=this.scene.sys.cache.bitmapFont.get(y);return w&&(this.font=y,this.fontData=w.data,this._fontSize=x,this._align=b,this.fromAtlas=w.fromAtlas===!0,this.setTexture(w.texture,w.frame),u(this,!1,!0,this._bounds)),this},setMaxWidth:function(y,x){return this._maxWidth=y,this._dirty=!0,x!==void 0&&(this.wordWrapCharCode=x),this},align:{set:function(y){this._align=y,this._dirty=!0},get:function(){return this._align}},text:{set:function(y){this.setText(y)},get:function(){return this._text}},fontSize:{set:function(y){this._fontSize=y,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(y){this._letterSpacing=y,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(y){this._lineSpacing=y,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(y){this._maxWidth=y,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var y=f.ToJSON(this),x={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return y.data=x,y},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});m.ALIGN_LEFT=0,m.ALIGN_CENTER=1,m.ALIGN_RIGHT=2,m.ParseFromAtlas=o,m.ParseXMLBitmapFont=d,s.exports=m},37289:(s,g,i)=>{var a=i(20926),v=function(f,h,u,o){var d=h._text,p=d.length,l=f.currentContext;if(!(p===0||!a(f,l,h,u,o))){u.addToRenderList(h);var m=h.fromAtlas?h.frame:h.texture.frames.__BASE,y=h.fontData.chars,x=h.fontData.lineHeight,b=h._letterSpacing,w=h._lineSpacing,C=0,E=0,T=0,k=null,P=0,R=0,M=0,I=0,B=0,D=0,N=null,_=0,G=m.source.image,$=m.cutX,V=m.cutY,Y=h._fontSize/h.fontData.size,U=h._align,F=0,O=0,j=h.getTextBounds(!1);h.maxWidth>0&&(d=j.wrappedText,p=d.length);var z=h._bounds.lines;U===1?O=(z.longest-z.lengths[0])/2:U===2&&(O=z.longest-z.lengths[0]),l.translate(-h.displayOriginX,-h.displayOriginY);for(var W=u.roundPixels,q=0;q<p;q++){if(T=d.charCodeAt(q),T===10){F++,U===1?O=(z.longest-z.lengths[F])/2:U===2&&(O=z.longest-z.lengths[F]),C=0,E+=x+w,N=null;continue}if(k=y[T],!!k){if(P=$+k.x,R=V+k.y,M=k.width,I=k.height,B=k.xOffset+C,D=k.yOffset+E,N!==null){var ot=k.kerning[_];B+=ot!==void 0?ot:0}B*=Y,D*=Y,B+=O,C+=k.xAdvance+b+(ot!==void 0?ot:0),N=k,_=T,!(M===0||I===0||T===32)&&(W&&(B=Math.round(B),D=Math.round(D)),l.save(),l.translate(B,D),l.scale(Y,Y),l.drawImage(G,P,R,M,I,0,0,M,I),l.restore())}}l.restore()}};s.exports=v},57336:(s,g,i)=>{var a=i(22186),v=i(25305),f=i(44603),h=i(23568),u=i(35154);f.register("bitmapText",function(o,d){o===void 0&&(o={});var p=u(o,"font",""),l=h(o,"text",""),m=h(o,"size",!1),y=u(o,"align",0),x=new a(this.scene,0,0,p,l,m,y);return d!==void 0&&(o.add=d),v(this.scene,x,o),x})},34914:(s,g,i)=>{var a=i(22186),v=i(39429);v.register("bitmapText",function(f,h,u,o,d,p){return this.displayList.add(new a(this.scene,f,h,u,o,d,p))})},18658:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(33590),f=i(37289),s.exports={renderWebGL:v,renderCanvas:f}},33590:(s,g,i)=>{var a=i(3217),v=i(91296),f=i(70554),h=function(u,o,d,p){var l=o._text,m=l.length;if(m!==0){d.addToRenderList(o);var y=u.pipelines.set(o.pipeline,o),x=v(o,d,p).calc;u.pipelines.preBatch(o);var b=d.roundPixels,w=d.alpha,C=o.charColors,E=o.tintFill,T=f.getTintAppendFloatAlpha,k=T(o.tintTopLeft,w*o._alphaTL),P=T(o.tintTopRight,w*o._alphaTR),R=T(o.tintBottomLeft,w*o._alphaBL),M=T(o.tintBottomRight,w*o._alphaBR),I=o.frame.glTexture,B=y.setGameObject(o),D=o.getTextBounds(!1),N,_,G,$=D.characters,V=o.dropShadowX,Y=o.dropShadowY,U=V!==0||Y!==0;if(U){var F=o.dropShadowColor,O=o.dropShadowAlpha,j=T(F,w*O*o._alphaTL),z=T(F,w*O*o._alphaTR),W=T(F,w*O*o._alphaBL),q=T(F,w*O*o._alphaBR);for(N=0;N<$.length;N++)_=$[N],G=_.glyph,!(_.code===32||G.width===0||G.height===0)&&a(y,o,_,G,V,Y,x,b,j,z,W,q,1,I,B)}for(N=0;N<$.length;N++)if(_=$[N],G=_.glyph,!(_.code===32||G.width===0||G.height===0))if(y.shouldFlush(6)&&(y.flush(),B=y.setGameObject(o)),C[_.i]){var ot=C[_.i],Q=ot.tintEffect,rt=T(ot.tintTL,w*o._alphaTL),Mt=T(ot.tintTR,w*o._alphaTR),K=T(ot.tintBL,w*o._alphaBL),It=T(ot.tintBR,w*o._alphaBR);a(y,o,_,G,0,0,x,b,rt,Mt,K,It,Q,I,B)}else a(y,o,_,G,0,0,x,b,k,P,R,M,E,I,B);u.pipelines.postBatch(o)}};s.exports=h},6107:(s,g,i)=>{var a=i(48011),v=i(46590),f=i(83419),h=i(31401),u=i(4327),o=i(95643),d=i(73162),p=new f({Extends:o,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Size,h.Texture,h.Transform,h.Visible,a],initialize:function(m,y,x,b,w){o.call(this,m,"Blitter"),this.setTexture(b,w),this.setPosition(y,x),this.initPipeline(),this.initPostPipeline(),this.children=new d,this.renderList=[],this.dirty=!1},create:function(l,m,y,x,b){x===void 0&&(x=!0),b===void 0&&(b=this.children.length),y===void 0?y=this.frame:y instanceof u||(y=this.texture.get(y));var w=new v(this,l,m,y,x);return this.children.addAt(w,b,!1),this.dirty=!0,w},createFromCallback:function(l,m,y,x){for(var b=this.createMultiple(m,y,x),w=0;w<b.length;w++){var C=b[w];l.call(this,C,w)}return b},createMultiple:function(l,m,y){m===void 0&&(m=this.frame.name),y===void 0&&(y=!0),Array.isArray(m)||(m=[m]);var x=[],b=this;return m.forEach(function(w){for(var C=0;C<l;C++)x.push(b.create(0,0,w,y))}),x},childCanRender:function(l){return l.visible&&l.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});s.exports=p},72396:s=>{var g=function(i,a,v,f){var h=a.getRenderList();if(h.length!==0){var u=i.currentContext,o=v.alpha*a.alpha;if(o!==0){v.addToRenderList(a),u.globalCompositeOperation=i.blendModes[a.blendMode],u.imageSmoothingEnabled=!a.frame.source.scaleMode;var d=a.x-v.scrollX*a.scrollFactorX,p=a.y-v.scrollY*a.scrollFactorY;u.save(),f&&f.copyToContext(u);for(var l=v.roundPixels,m=0;m<h.length;m++){var y=h[m],x=y.flipX||y.flipY,b=y.frame,w=b.canvasData,C=b.x,E=b.y,T=1,k=1,P=y.alpha*o;P!==0&&(u.globalAlpha=P,x?(y.flipX&&(T=-1,C-=w.width),y.flipY&&(k=-1,E-=w.height),w.width>0&&w.height>0&&(u.save(),u.translate(y.x+d,y.y+p),u.scale(T,k),u.drawImage(b.source.image,w.x,w.y,w.width,w.height,C,E,w.width,w.height),u.restore())):(l&&(C=Math.round(C),E=Math.round(E)),w.width>0&&w.height>0&&u.drawImage(b.source.image,w.x,w.y,w.width,w.height,C+y.x+d,E+y.y+p,w.width,w.height)))}u.restore()}}};s.exports=g},9403:(s,g,i)=>{var a=i(6107),v=i(25305),f=i(44603),h=i(23568);f.register("blitter",function(u,o){u===void 0&&(u={});var d=h(u,"key",null),p=h(u,"frame",null),l=new a(this.scene,0,0,d,p);return o!==void 0&&(u.add=o),v(this.scene,l,u),l})},12709:(s,g,i)=>{var a=i(6107),v=i(39429);v.register("blitter",function(f,h,u,o){return this.displayList.add(new a(this.scene,f,h,u,o))})},48011:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(99485),f=i(72396),s.exports={renderWebGL:v,renderCanvas:f}},99485:(s,g,i)=>{var a=i(61340),v=i(70554),f=new a,h=function(u,o,d,p){var l=o.getRenderList(),m=d.alpha*o.alpha;if(!(l.length===0||m===0)){d.addToRenderList(o);var y=u.pipelines.set(this.pipeline,o),x=d.scrollX*o.scrollFactorX,b=d.scrollY*o.scrollFactorY,w=f.copyFrom(d.matrix);p&&(w.multiplyWithOffset(p,-x,-b),x=0,b=0);var C=o.x-x,E=o.y-b,T=-1,k=!1;u.pipelines.preBatch(o);for(var P=0;P<l.length;P++){var R=l[P],M=R.frame,I=R.alpha*m;if(I!==0){var B=M.width,D=M.height,N=C+R.x+M.x,_=E+R.y+M.y;R.flipX&&(B*=-1,N+=M.width),R.flipY&&(D*=-1,_+=M.height);var G=w.setQuad(N,_,N+B,_+D),$=v.getTintAppendFloatAlpha(R.tint,I);if(M.sourceIndex!==T){var V=y.setGameObject(o,M);T=M.sourceIndex}y.batchQuad(o,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],M.u0,M.v0,M.u1,M.v1,$,$,$,$,k,M.glTexture,V)&&(T=-1)}}u.pipelines.postBatch(o)}};s.exports=h},46590:(s,g,i)=>{var a=i(83419),v=i(4327),f=new a({initialize:function(u,o,d,p,l){this.parent=u,this.x=o,this.y=d,this.frame=p,this.data={},this.tint=16777215,this._visible=l,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(h){return h===void 0?this.frame=this.parent.frame:h instanceof v&&h.texture===this.parent.texture?this.frame=h:this.frame=this.parent.texture.get(h),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(h,u,o){return this.x=h,this.y=u,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,o&&this.setFrame(o),this},setPosition:function(h,u){return this.x=h,this.y=u,this},setFlipX:function(h){return this.flipX=h,this},setFlipY:function(h){return this.flipY=h,this},setFlip:function(h,u){return this.flipX=h,this.flipY=u,this},setVisible:function(h){return this.visible=h,this},setAlpha:function(h){return this.alpha=h,this},setTint:function(h){return this.tint=h,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(h){this.parent.dirty|=this._visible!==h,this._visible=h}},alpha:{get:function(){return this._alpha},set:function(h){this.parent.dirty|=this._alpha>0!=h>0,this._alpha=h}}});s.exports=f},16005:(s,g,i)=>{var a=i(45319),v=2,f={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h,u,o,d){return h===void 0&&(h=1),u===void 0?this.alpha=h:(this._alphaTL=a(h,0,1),this._alphaTR=a(u,0,1),this._alphaBL=a(o,0,1),this._alphaBR=a(d,0,1)),this},alpha:{get:function(){return this._alpha},set:function(h){var u=a(h,0,1);this._alpha=u,this._alphaTL=u,this._alphaTR=u,this._alphaBL=u,this._alphaBR=u,u===0?this.renderFlags&=~v:this.renderFlags|=v}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(h){var u=a(h,0,1);this._alphaTL=u,u!==0&&(this.renderFlags|=v)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(h){var u=a(h,0,1);this._alphaTR=u,u!==0&&(this.renderFlags|=v)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(h){var u=a(h,0,1);this._alphaBL=u,u!==0&&(this.renderFlags|=v)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(h){var u=a(h,0,1);this._alphaBR=u,u!==0&&(this.renderFlags|=v)}}};s.exports=f},88509:(s,g,i)=>{var a=i(45319),v=2,f={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h){return h===void 0&&(h=1),this.alpha=h,this},alpha:{get:function(){return this._alpha},set:function(h){var u=a(h,0,1);this._alpha=u,u===0?this.renderFlags&=~v:this.renderFlags|=v}}};s.exports=f},90065:(s,g,i)=>{var a=i(10312),v={_blendMode:a.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(f){typeof f=="string"&&(f=a[f]),f|=0,f>=-1&&(this._blendMode=f)}},setBlendMode:function(f){return this.blendMode=f,this}};s.exports=v},94215:s=>{var g={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}},setSize:function(i,a){return this.width=i,this.height=a,this},setDisplaySize:function(i,a){return this.displayWidth=i,this.displayHeight=a,this}};s.exports=g},61683:s=>{var g={texture:null,frame:null,isCropped:!1,setCrop:function(i,a,v,f){if(i===void 0)this.isCropped=!1;else if(this.frame){if(typeof i=="number")this.frame.setCropUVs(this._crop,i,a,v,f,this.flipX,this.flipY);else{var h=i;this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};s.exports=g},89272:s=>{var g={_depth:0,depth:{get:function(){return this._depth},set:function(i){this.displayList&&this.displayList.queueDepthSort(),this._depth=i}},setDepth:function(i){return i===void 0&&(i=0),this.depth=i,this}};s.exports=g},47059:(s,g,i)=>{var a=i(83419),v=i(66064),f=i(19133),h=new a({initialize:function(o,d){this.gameObject=o,this.isPost=d,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(u){return u===void 0&&(u=0),this.padding=u,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(u){if(!this.isPost){var o=this.gameObject.scene.sys.renderer;o&&o.pipelines?(this.gameObject.pipeline=o.pipelines.FX_PIPELINE,u!==void 0&&(this.padding=u),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var u=this.list,o=0;o<u.length;o++)u[o].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(u){var o;if(this.isPost){var d=this.gameObject.getPostPipeline(String(u.type));for(Array.isArray(d)||(d=[d]),o=0;o<d.length;o++){var p=d[o];if(p.controller===u){this.gameObject.removePostPipeline(p),u.destroy();break}}}else{var l=this.list;for(o=0;o<l.length;o++)l[o]===u&&(f(l,o),u.destroy())}return this.gameObject},disable:function(u){return u===void 0&&(u=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,u&&this.clear(),this.gameObject},add:function(u,o){if(this.isPost){var d=String(u.type);this.gameObject.setPostPipeline(d,o);var p=this.gameObject.getPostPipeline(d);if(p)return Array.isArray(p)&&(p=p.pop()),p.controller=u,u}else return this.enabled||this.enable(),this.list.push(u),u},addGlow:function(u,o,d,p,l,m){return this.add(new v.Glow(this.gameObject,u,o,d,p),{quality:l,distance:m})},addShadow:function(u,o,d,p,l,m,y){return this.add(new v.Shadow(this.gameObject,u,o,d,p,l,m,y))},addPixelate:function(u){return this.add(new v.Pixelate(this.gameObject,u))},addVignette:function(u,o,d,p){return this.add(new v.Vignette(this.gameObject,u,o,d,p))},addShine:function(u,o,d,p){return this.add(new v.Shine(this.gameObject,u,o,d,p))},addBlur:function(u,o,d,p,l,m){return this.add(new v.Blur(this.gameObject,u,o,d,p,l,m))},addGradient:function(u,o,d,p,l,m,y,x){return this.add(new v.Gradient(this.gameObject,u,o,d,p,l,m,y,x))},addBloom:function(u,o,d,p,l,m){return this.add(new v.Bloom(this.gameObject,u,o,d,p,l,m))},addColorMatrix:function(){return this.add(new v.ColorMatrix(this.gameObject))},addCircle:function(u,o,d,p,l){return this.add(new v.Circle(this.gameObject,u,o,d,p,l))},addBarrel:function(u){return this.add(new v.Barrel(this.gameObject,u))},addDisplacement:function(u,o,d){return this.add(new v.Displacement(this.gameObject,u,o,d))},addWipe:function(u,o,d){return this.add(new v.Wipe(this.gameObject,u,o,d))},addReveal:function(u,o,d){return this.add(new v.Wipe(this.gameObject,u,o,d,!0))},addBokeh:function(u,o,d){return this.add(new v.Bokeh(this.gameObject,u,o,d))},addTiltShift:function(u,o,d,p,l,m){return this.add(new v.Bokeh(this.gameObject,u,o,d,!0,p,l,m))},destroy:function(){this.clear(),this.gameObject=null}});s.exports=h},54434:s=>{var g={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(i){return this.flipX=i,this},setFlipY:function(i){return this.flipY=i,this},setFlip:function(i,a){return this.flipX=i,this.flipY=a,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};s.exports=g},8004:(s,g,i)=>{var a=i(87841),v=i(11520),f=i(26099),h={prepareBoundsOutput:function(u,o){if(o===void 0&&(o=!1),this.rotation!==0&&v(u,this.x,this.y,this.rotation),o&&this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix();d.transformPoint(u.x,u.y,u)}return u},getCenter:function(u,o){return u===void 0&&(u=new f),u.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,u.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(u,o)},getTopLeft:function(u,o){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX,u.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(u,o)},getTopCenter:function(u,o){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,u.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(u,o)},getTopRight:function(u,o){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX+this.displayWidth,u.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(u,o)},getLeftCenter:function(u,o){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX,u.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(u,o)},getRightCenter:function(u,o){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX+this.displayWidth,u.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(u,o)},getBottomLeft:function(u,o){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX,u.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(u,o)},getBottomCenter:function(u,o){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,u.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(u,o)},getBottomRight:function(u,o){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX+this.displayWidth,u.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(u,o)},getBounds:function(u){u===void 0&&(u=new a);var o,d,p,l,m,y,x,b;if(this.parentContainer){var w=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(u),w.transformPoint(u.x,u.y,u),o=u.x,d=u.y,this.getTopRight(u),w.transformPoint(u.x,u.y,u),p=u.x,l=u.y,this.getBottomLeft(u),w.transformPoint(u.x,u.y,u),m=u.x,y=u.y,this.getBottomRight(u),w.transformPoint(u.x,u.y,u),x=u.x,b=u.y}else this.getTopLeft(u),o=u.x,d=u.y,this.getTopRight(u),p=u.x,l=u.y,this.getBottomLeft(u),m=u.x,y=u.y,this.getBottomRight(u),x=u.x,b=u.y;return u.x=Math.min(o,p,m,x),u.y=Math.min(d,l,y,b),u.width=Math.max(o,p,m,x)-u.x,u.height=Math.max(d,l,y,b)-u.y,u}};s.exports=h},8573:(s,g,i)=>{var a=i(6858),v=i(80661),f={mask:null,setMask:function(h){return this.mask=h,this},clearMask:function(h){return h===void 0&&(h=!1),h&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(h,u,o,d,p){return h===void 0&&(this.texture||this.shader||this.geom)&&(h=this),new a(this.scene,h,u,o,d,p)},createGeometryMask:function(h){return h===void 0&&(this.type==="Graphics"||this.geom)&&(h=this),new v(this.scene,h)}};s.exports=f},27387:s=>{var g={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(i){this._displayOriginX=i,this.originX=i/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(i){this._displayOriginY=i,this.originY=i/this.height}},setOrigin:function(i,a){return i===void 0&&(i=.5),a===void 0&&(a=i),this.originX=i,this.originY=a,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(i,a){return i===void 0&&(i=0),a===void 0&&(a=i),this.displayOriginX=i,this.displayOriginY=a,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};s.exports=g},37640:(s,g,i)=>{var a=i(39506),v=i(57355),f=i(35154),h=i(86353),u=i(26099),o={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:h.PLAYING_FORWARD,setPath:function(d,p){p===void 0&&(p=this.pathConfig);var l=this.pathTween;return l&&l.isPlaying()&&l.stop(),this.path=d,p&&this.startFollow(p),this},setRotateToPath:function(d,p){return p===void 0&&(p=0),this.rotateToPath=d,this.pathRotationOffset=p,this},isFollowing:function(){var d=this.pathTween;return d&&d.isPlaying()},startFollow:function(d,p){d===void 0&&(d={}),p===void 0&&(p=0);var l=this.pathTween;l&&l.isPlaying()&&l.stop(),typeof d=="number"&&(d={duration:d}),d.from=f(d,"from",0),d.to=f(d,"to",1);var m=v(d,"positionOnPath",!1);this.rotateToPath=v(d,"rotateToPath",!1),this.pathRotationOffset=f(d,"rotationOffset",0);var y=f(d,"startAt",p);if(y&&(d.onStart=function(b){var w=b.data[0];w.progress=y,w.elapsed=w.duration*y;var C=w.ease(w.progress);w.current=w.start+(w.end-w.start)*C,w.setTargetValue()}),this.pathOffset||(this.pathOffset=new u(this.x,this.y)),this.pathVector||(this.pathVector=new u),this.pathDelta||(this.pathDelta=new u),this.pathDelta.reset(),d.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(d),this.path.getStartPoint(this.pathOffset),m&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=h.PLAYING_FORWARD,this.rotateToPath){var x=this.path.getPoint(.1);this.rotation=Math.atan2(x.y-this.y,x.x-this.x)+a(this.pathRotationOffset)}return this.pathConfig=d,this},pauseFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.pause(),this},resumeFollow:function(){var d=this.pathTween;return d&&d.isPaused()&&d.resume(),this},stopFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.stop(),this},pathUpdate:function(){var d=this.pathTween;if(d&&d.data){var p=d.data[0],l=this.pathDelta,m=this.pathVector;if(l.copy(m).negate(),p.state===h.COMPLETE){this.path.getPoint(p.end,m),l.add(m),m.add(this.pathOffset),this.setPosition(m.x,m.y);return}else if(p.state!==h.PLAYING_FORWARD&&p.state!==h.PLAYING_BACKWARD)return;this.path.getPoint(d.getValue(),m),l.add(m),m.add(this.pathOffset);var y=this.x,x=this.y;this.setPosition(m.x,m.y);var b=this.x-y,w=this.y-x;if(b===0&&w===0)return;if(p.state!==this._prevDirection){this._prevDirection=p.state;return}this.rotateToPath&&(this.rotation=Math.atan2(w,b)+a(this.pathRotationOffset))}}};s.exports=o},72699:(s,g,i)=>{var a=i(62644),v={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(f){this.pipelineData={};var h=this.scene.sys.renderer;if(!h)return!1;var u=h.pipelines;if(u){f===void 0&&(f=u.default);var o=u.get(f);if(o)return this.defaultPipeline=o,this.pipeline=o,!0}return!1},setPipeline:function(f,h,u){var o=this.scene.sys.renderer;if(!o)return this;var d=o.pipelines;if(d){var p=d.get(f);p&&(this.pipeline=p),h&&(this.pipelineData=u?a(h):h)}return this},setPipelineData:function(f,h){var u=this.pipelineData;return h===void 0?delete u[f]:u[f]=h,this},resetPipeline:function(f){return f===void 0&&(f=!1),this.pipeline=this.defaultPipeline,f&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};s.exports=v},17581:(s,g,i)=>{var a=i(62644),v=i(47059),f=i(19133),h={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(u){this.postPipelines=[],this.postPipelineData={},this.postFX=new v(this,!0),u&&(this.preFX=new v(this,!1))},setPostPipeline:function(u,o,d){var p=this.scene.sys.renderer;if(!p)return this;var l=p.pipelines;if(l){Array.isArray(u)||(u=[u]);for(var m=0;m<u.length;m++){var y=l.getPostPipeline(u[m],this,o);y&&this.postPipelines.push(y)}o&&(this.postPipelineData=d?a(o):o)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(u,o){var d=this.postPipelineData;return o===void 0?delete d[u]:d[u]=o,this},getPostPipeline:function(u){for(var o=typeof u=="string",d=this.postPipelines,p=[],l=0;l<d.length;l++){var m=d[l];(o&&m.name===u||!o&&m instanceof u)&&p.push(m)}return p.length===1?p[0]:p},resetPostPipeline:function(u){u===void 0&&(u=!1);for(var o=this.postPipelines,d=0;d<o.length;d++)o[d].destroy();this.postPipelines=[],this.hasPostPipeline=!1,u&&(this.postPipelineData={})},removePostPipeline:function(u){for(var o=typeof u=="string",d=this.postPipelines,p=d.length-1;p>=0;p--){var l=d[p];(o&&l.name===u||!o&&l===u)&&(l.destroy(),f(d,p))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};s.exports=h},80227:s=>{var g={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(i,a){return a===void 0&&(a=i),this.scrollFactorX=i,this.scrollFactorY=a,this}};s.exports=g},16736:s=>{var g={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(i){this.scaleX=i/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(i){this.scaleY=i/this.frame.realHeight}},setSizeToFrame:function(i){i||(i=this.frame),this.width=i.realWidth,this.height=i.realHeight;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setSize:function(i,a){return this.width=i,this.height=a,this},setDisplaySize:function(i,a){return this.displayWidth=i,this.displayHeight=a,this}};s.exports=g},37726:(s,g,i)=>{var a=i(4327),v=8,f={texture:null,frame:null,isCropped:!1,setTexture:function(h,u,o,d){return this.texture=this.scene.sys.textures.get(h),this.setFrame(u,o,d)},setFrame:function(h,u,o){return u===void 0&&(u=!0),o===void 0&&(o=!0),h instanceof a?(this.texture=this.scene.sys.textures.get(h.texture.key),this.frame=h):this.frame=this.texture.get(h),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&u&&this.setSizeToFrame(),this._originComponent&&o&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};s.exports=f},79812:(s,g,i)=>{var a=i(4327),v=8,f={texture:null,frame:null,isCropped:!1,setCrop:function(h,u,o,d){if(h===void 0)this.isCropped=!1;else if(this.frame){if(typeof h=="number")this.frame.setCropUVs(this._crop,h,u,o,d,this.flipX,this.flipY);else{var p=h;this.frame.setCropUVs(this._crop,p.x,p.y,p.width,p.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(h,u){return this.texture=this.scene.sys.textures.get(h),this.setFrame(u)},setFrame:function(h,u,o){return u===void 0&&(u=!0),o===void 0&&(o=!0),h instanceof a?(this.texture=this.scene.sys.textures.get(h.texture.key),this.frame=h):this.frame=this.texture.get(h),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&u&&this.setSizeToFrame(),this._originComponent&&o&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};s.exports=f},27472:s=>{var g={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(i,a,v,f){return i===void 0&&(i=16777215),a===void 0&&(a=i,v=i,f=i),this.tintTopLeft=i,this.tintTopRight=a,this.tintBottomLeft=v,this.tintBottomRight=f,this.tintFill=!1,this},setTintFill:function(i,a,v,f){return this.setTint(i,a,v,f),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(i){this.setTint(i,i,i,i)}},isTinted:{get:function(){var i=16777215;return this.tintFill||this.tintTopLeft!==i||this.tintTopRight!==i||this.tintBottomLeft!==i||this.tintBottomRight!==i}}};s.exports=g},53774:s=>{var g=function(i){var a={name:i.name,type:i.type,x:i.x,y:i.y,depth:i.depth,scale:{x:i.scaleX,y:i.scaleY},origin:{x:i.originX,y:i.originY},flipX:i.flipX,flipY:i.flipY,rotation:i.rotation,alpha:i.alpha,visible:i.visible,blendMode:i.blendMode,textureKey:"",frameKey:"",data:{}};return i.texture&&(a.textureKey=i.texture.key,a.frameKey=i.frame.name),a};s.exports=g},16901:(s,g,i)=>{var a=i(36383),v=i(61340),f=i(85955),h=i(86554),u=i(30954),o=i(26099),d=4,p={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(l){this._scaleX=l,this._scaleY=l,l===0?this.renderFlags&=~d:this.renderFlags|=d}},scaleX:{get:function(){return this._scaleX},set:function(l){this._scaleX=l,l===0?this.renderFlags&=~d:this._scaleY!==0&&(this.renderFlags|=d)}},scaleY:{get:function(){return this._scaleY},set:function(l){this._scaleY=l,l===0?this.renderFlags&=~d:this._scaleX!==0&&(this.renderFlags|=d)}},angle:{get:function(){return u(this._rotation*a.RAD_TO_DEG)},set:function(l){this.rotation=u(l)*a.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=h(l)}},setPosition:function(l,m,y,x){return l===void 0&&(l=0),m===void 0&&(m=l),y===void 0&&(y=0),x===void 0&&(x=0),this.x=l,this.y=m,this.z=y,this.w=x,this},copyPosition:function(l){return l.x!==void 0&&(this.x=l.x),l.y!==void 0&&(this.y=l.y),l.z!==void 0&&(this.z=l.z),l.w!==void 0&&(this.w=l.w),this},setRandomPosition:function(l,m,y,x){return l===void 0&&(l=0),m===void 0&&(m=0),y===void 0&&(y=this.scene.sys.scale.width),x===void 0&&(x=this.scene.sys.scale.height),this.x=l+Math.random()*y,this.y=m+Math.random()*x,this},setRotation:function(l){return l===void 0&&(l=0),this.rotation=l,this},setAngle:function(l){return l===void 0&&(l=0),this.angle=l,this},setScale:function(l,m){return l===void 0&&(l=1),m===void 0&&(m=l),this.scaleX=l,this.scaleY=m,this},setX:function(l){return l===void 0&&(l=0),this.x=l,this},setY:function(l){return l===void 0&&(l=0),this.y=l,this},setZ:function(l){return l===void 0&&(l=0),this.z=l,this},setW:function(l){return l===void 0&&(l=0),this.w=l,this},getLocalTransformMatrix:function(l){return l===void 0&&(l=new v),l.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(l,m){l===void 0&&(l=new v);var y=this.parentContainer;if(!y)return this.getLocalTransformMatrix(l);for(m||(m=new v),l.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);y;)m.applyITRS(y.x,y.y,y._rotation,y._scaleX,y._scaleY),m.multiply(l,l),y=y.parentContainer;return l},getLocalPoint:function(l,m,y,x){y||(y=new o),x||(x=this.scene.sys.cameras.main);var b=x.scrollX,w=x.scrollY,C=l+b*this.scrollFactorX-b,E=m+w*this.scrollFactorY-w;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(C,E,y):f(C,E,this.x,this.y,this.rotation,this.scaleX,this.scaleY,y),this._originComponent&&(y.x+=this._displayOriginX,y.y+=this._displayOriginY),y},getParentRotation:function(){for(var l=0,m=this.parentContainer;m;)l+=m.rotation,m=m.parentContainer;return l}};s.exports=p},61340:(s,g,i)=>{var a=i(83419),v=i(36383),f=i(26099),h=new a({initialize:function(o,d,p,l,m,y){o===void 0&&(o=1),d===void 0&&(d=0),p===void 0&&(p=0),l===void 0&&(l=1),m===void 0&&(m=0),y===void 0&&(y=0),this.matrix=new Float32Array([o,d,p,l,m,y,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(u){this.matrix[0]=u}},b:{get:function(){return this.matrix[1]},set:function(u){this.matrix[1]=u}},c:{get:function(){return this.matrix[2]},set:function(u){this.matrix[2]=u}},d:{get:function(){return this.matrix[3]},set:function(u){this.matrix[3]=u}},e:{get:function(){return this.matrix[4]},set:function(u){this.matrix[4]=u}},f:{get:function(){return this.matrix[5]},set:function(u){this.matrix[5]=u}},tx:{get:function(){return this.matrix[4]},set:function(u){this.matrix[4]=u}},ty:{get:function(){return this.matrix[5]},set:function(u){this.matrix[5]=u}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var u=this.matrix,o=u[0],d=u[1],p=u[2],l=u[3];return o||d?d>0?Math.acos(o/this.scaleX):-Math.acos(o/this.scaleX):p||l?v.TAU-(l>0?Math.acos(-p/this.scaleY):-Math.acos(p/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var u=this.matrix;return u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,this},translate:function(u,o){var d=this.matrix;return d[4]=d[0]*u+d[2]*o+d[4],d[5]=d[1]*u+d[3]*o+d[5],this},scale:function(u,o){var d=this.matrix;return d[0]*=u,d[1]*=u,d[2]*=o,d[3]*=o,this},rotate:function(u){var o=Math.sin(u),d=Math.cos(u),p=this.matrix,l=p[0],m=p[1],y=p[2],x=p[3];return p[0]=l*d+y*o,p[1]=m*d+x*o,p[2]=l*-o+y*d,p[3]=m*-o+x*d,this},multiply:function(u,o){var d=this.matrix,p=u.matrix,l=d[0],m=d[1],y=d[2],x=d[3],b=d[4],w=d[5],C=p[0],E=p[1],T=p[2],k=p[3],P=p[4],R=p[5],M=o===void 0?d:o.matrix;return M[0]=C*l+E*y,M[1]=C*m+E*x,M[2]=T*l+k*y,M[3]=T*m+k*x,M[4]=P*l+R*y+b,M[5]=P*m+R*x+w,M},multiplyWithOffset:function(u,o,d){var p=this.matrix,l=u.matrix,m=p[0],y=p[1],x=p[2],b=p[3],w=p[4],C=p[5],E=o*m+d*x+w,T=o*y+d*b+C,k=l[0],P=l[1],R=l[2],M=l[3],I=l[4],B=l[5];return p[0]=k*m+P*x,p[1]=k*y+P*b,p[2]=R*m+M*x,p[3]=R*y+M*b,p[4]=I*m+B*x+E,p[5]=I*y+B*b+T,this},transform:function(u,o,d,p,l,m){var y=this.matrix,x=y[0],b=y[1],w=y[2],C=y[3],E=y[4],T=y[5];return y[0]=u*x+o*w,y[1]=u*b+o*C,y[2]=d*x+p*w,y[3]=d*b+p*C,y[4]=l*x+m*w+E,y[5]=l*b+m*C+T,this},transformPoint:function(u,o,d){d===void 0&&(d={x:0,y:0});var p=this.matrix,l=p[0],m=p[1],y=p[2],x=p[3],b=p[4],w=p[5];return d.x=u*l+o*y+b,d.y=u*m+o*x+w,d},invert:function(){var u=this.matrix,o=u[0],d=u[1],p=u[2],l=u[3],m=u[4],y=u[5],x=o*l-d*p;return u[0]=l/x,u[1]=-d/x,u[2]=-p/x,u[3]=o/x,u[4]=(p*y-l*m)/x,u[5]=-(o*y-d*m)/x,this},copyFrom:function(u){var o=this.matrix;return o[0]=u.a,o[1]=u.b,o[2]=u.c,o[3]=u.d,o[4]=u.e,o[5]=u.f,this},copyFromArray:function(u){var o=this.matrix;return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o[4]=u[4],o[5]=u[5],this},copyToContext:function(u){var o=this.matrix;return u.transform(o[0],o[1],o[2],o[3],o[4],o[5]),u},setToContext:function(u){return u.setTransform(this),u},copyToArray:function(u){var o=this.matrix;return u===void 0?u=[o[0],o[1],o[2],o[3],o[4],o[5]]:(u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u[4]=o[4],u[5]=o[5]),u},setTransform:function(u,o,d,p,l,m){var y=this.matrix;return y[0]=u,y[1]=o,y[2]=d,y[3]=p,y[4]=l,y[5]=m,this},decomposeMatrix:function(){var u=this.decomposedMatrix,o=this.matrix,d=o[0],p=o[1],l=o[2],m=o[3],y=d*m-p*l;if(u.translateX=o[4],u.translateY=o[5],d||p){var x=Math.sqrt(d*d+p*p);u.rotation=p>0?Math.acos(d/x):-Math.acos(d/x),u.scaleX=x,u.scaleY=y/x}else if(l||m){var b=Math.sqrt(l*l+m*m);u.rotation=Math.PI*.5-(m>0?Math.acos(-l/b):-Math.acos(l/b)),u.scaleX=y/b,u.scaleY=b}else u.rotation=0,u.scaleX=0,u.scaleY=0;return u},applyITRS:function(u,o,d,p,l){var m=this.matrix,y=Math.sin(d),x=Math.cos(d);return m[4]=u,m[5]=o,m[0]=x*p,m[1]=y*p,m[2]=-y*l,m[3]=x*l,this},applyInverse:function(u,o,d){d===void 0&&(d=new f);var p=this.matrix,l=p[0],m=p[1],y=p[2],x=p[3],b=p[4],w=p[5],C=1/(l*x+y*-m);return d.x=x*C*u+-y*C*o+(w*y-b*x)*C,d.y=l*C*o+-m*C*u+(-w*l+b*m)*C,d},setQuad:function(u,o,d,p,l,m){l===void 0&&(l=!1),m===void 0&&(m=this.quad);var y=this.matrix,x=y[0],b=y[1],w=y[2],C=y[3],E=y[4],T=y[5];return l?(m[0]=Math.round(u*x+o*w+E),m[1]=Math.round(u*b+o*C+T),m[2]=Math.round(u*x+p*w+E),m[3]=Math.round(u*b+p*C+T),m[4]=Math.round(d*x+p*w+E),m[5]=Math.round(d*b+p*C+T),m[6]=Math.round(d*x+o*w+E),m[7]=Math.round(d*b+o*C+T)):(m[0]=u*x+o*w+E,m[1]=u*b+o*C+T,m[2]=u*x+p*w+E,m[3]=u*b+p*C+T,m[4]=d*x+p*w+E,m[5]=d*b+p*C+T,m[6]=d*x+o*w+E,m[7]=d*b+o*C+T),m},getX:function(u,o){return u*this.a+o*this.c+this.e},getY:function(u,o){return u*this.b+o*this.d+this.f},getXRound:function(u,o,d){var p=this.getX(u,o);return d&&(p=Math.round(p)),p},getYRound:function(u,o,d){var p=this.getY(u,o);return d&&(p=Math.round(p)),p},getCSSMatrix:function(){var u=this.matrix;return"matrix("+u[0]+","+u[1]+","+u[2]+","+u[3]+","+u[4]+","+u[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});s.exports=h},59715:s=>{var g=1,i={_visible:!0,visible:{get:function(){return this._visible},set:function(a){a?(this._visible=!0,this.renderFlags|=g):(this._visible=!1,this.renderFlags&=~g)}},setVisible:function(a){return this.visible=a,this}};s.exports=i},31401:(s,g,i)=>{s.exports={Alpha:i(16005),AlphaSingle:i(88509),BlendMode:i(90065),ComputedSize:i(94215),Crop:i(61683),Depth:i(89272),Flip:i(54434),FX:i(47059),GetBounds:i(8004),Mask:i(8573),Origin:i(27387),PathFollower:i(37640),Pipeline:i(72699),PostPipeline:i(17581),ScrollFactor:i(80227),Size:i(16736),Texture:i(37726),TextureCrop:i(79812),Tint:i(27472),ToJSON:i(53774),Transform:i(16901),TransformMatrix:i(61340),Visible:i(59715)}},31559:(s,g,i)=>{var a=i(37105),v=i(10312),f=i(83419),h=i(31401),u=i(51708),o=i(95643),d=i(87841),p=i(29959),l=i(36899),m=i(26099),y=new f({Extends:o,Mixins:[h.AlphaSingle,h.BlendMode,h.ComputedSize,h.Depth,h.Mask,h.PostPipeline,h.Transform,h.Visible,p],initialize:function(b,w,C,E){o.call(this,b,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new h.TransformMatrix,this.tempTransformMatrix=new h.TransformMatrix,this._sortKey="",this._sysEvents=b.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(w,C),this.setBlendMode(v.SKIP_CHECK),E&&this.add(E)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(x){return x===void 0&&(x=!0),this.exclusive=x,this},getBounds:function(x){if(x===void 0&&(x=new d),x.setTo(this.x,this.y,0,0),this.parentContainer){var b=this.parentContainer.getBoundsTransformMatrix(),w=b.transformPoint(this.x,this.y);x.setTo(w.x,w.y,0,0)}if(this.list.length>0){var C=this.list,E=new d,T=!1;x.setEmpty();for(var k=0;k<C.length;k++){var P=C[k];P.getBounds&&(P.getBounds(E),T?l(E,x,x):(x.setTo(E.x,E.y,E.width,E.height),T=!0))}}return x},addHandler:function(x){x.once(u.DESTROY,this.onChildDestroyed,this),this.exclusive&&(x.parentContainer&&x.parentContainer.remove(x),x.parentContainer=this,x.removeFromDisplayList(),x.addedToScene())},removeHandler:function(x){x.off(u.DESTROY,this.remove,this),this.exclusive&&(x.parentContainer=null,x.removedFromScene(),x.addToDisplayList())},pointToContainer:function(x,b){b===void 0&&(b=new m),this.parentContainer?this.parentContainer.pointToContainer(x,b):(b.x=x.x,b.y=x.y);var w=this.tempTransformMatrix;return w.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),w.invert(),w.transformPoint(x.x,x.y,b),b},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(x){return a.Add(this.list,x,this.maxSize,this.addHandler,this),this},addAt:function(x,b){return a.AddAt(this.list,x,b,this.maxSize,this.addHandler,this),this},getAt:function(x){return this.list[x]},getIndex:function(x){return this.list.indexOf(x)},sort:function(x,b){return x?(b===void 0&&(b=function(w,C){return w[x]-C[x]}),a.StableSort(this.list,b),this):this},getByName:function(x){return a.GetFirst(this.list,"name",x)},getRandom:function(x,b){return a.GetRandom(this.list,x,b)},getFirst:function(x,b,w,C){return a.GetFirst(this.list,x,b,w,C)},getAll:function(x,b,w,C){return a.GetAll(this.list,x,b,w,C)},count:function(x,b,w,C){return a.CountAllMatching(this.list,x,b,w,C)},swap:function(x,b){return a.Swap(this.list,x,b),this},moveTo:function(x,b){return a.MoveTo(this.list,x,b),this},moveAbove:function(x,b){return a.MoveAbove(this.list,x,b),this},moveBelow:function(x,b){return a.MoveBelow(this.list,x,b),this},remove:function(x,b){var w=a.Remove(this.list,x,this.removeHandler,this);if(b&&w){Array.isArray(w)||(w=[w]);for(var C=0;C<w.length;C++)w[C].destroy()}return this},removeAt:function(x,b){var w=a.RemoveAt(this.list,x,this.removeHandler,this);return b&&w&&w.destroy(),this},removeBetween:function(x,b,w){var C=a.RemoveBetween(this.list,x,b,this.removeHandler,this);if(w)for(var E=0;E<C.length;E++)C[E].destroy();return this},removeAll:function(x){var b=this.list;if(x){for(var w=0;w<b.length;w++)b[w]&&b[w].scene&&(b[w].off(u.DESTROY,this.onChildDestroyed,this),b[w].destroy());this.list=[]}else a.RemoveBetween(b,0,b.length,this.removeHandler,this);return this},bringToTop:function(x){return a.BringToTop(this.list,x),this},sendToBack:function(x){return a.SendToBack(this.list,x),this},moveUp:function(x){return a.MoveUp(this.list,x),this},moveDown:function(x){return a.MoveDown(this.list,x),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(x,b,w){var C=a.Replace(this.list,x,b);return C&&(this.addHandler(b),this.removeHandler(x),w&&x.destroy()),this},exists:function(x){return this.list.indexOf(x)>-1},setAll:function(x,b,w,C){return a.SetAll(this.list,x,b,w,C),this},each:function(x,b){var w=[null],C,E=this.list.slice(),T=E.length;for(C=2;C<arguments.length;C++)w.push(arguments[C]);for(C=0;C<T;C++)w[0]=E[C],x.apply(b,w);return this},iterate:function(x,b){var w=[null],C;for(C=2;C<arguments.length;C++)w.push(arguments[C]);for(C=0;C<this.list.length;C++)w[0]=this.list[C],x.apply(b,w);return this},setScrollFactor:function(x,b,w){return b===void 0&&(b=x),w===void 0&&(w=!1),this.scrollFactorX=x,this.scrollFactorY=b,w&&(a.SetAll(this.list,"scrollFactorX",x),a.SetAll(this.list,"scrollFactorY",b)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(x){a.Remove(this.list,x),this.exclusive&&(x.parentContainer=null,x.removedFromScene())}});s.exports=y},53584:s=>{var g=function(i,a,v,f){v.addToRenderList(a);var h=a.list;if(h.length!==0){var u=a.localTransform;f?(u.loadIdentity(),u.multiply(f),u.translate(a.x,a.y),u.rotate(a.rotation),u.scale(a.scaleX,a.scaleY)):u.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var o=a.blendMode!==-1;o||i.setBlendMode(0);var d=a._alpha,p=a.scrollFactorX,l=a.scrollFactorY;a.mask&&a.mask.preRenderCanvas(i,null,v);for(var m=0;m<h.length;m++){var y=h[m];if(y.willRender(v)){var x=y.alpha,b=y.scrollFactorX,w=y.scrollFactorY;!o&&y.blendMode!==i.currentBlendMode&&i.setBlendMode(y.blendMode),y.setScrollFactor(b*p,w*l),y.setAlpha(x*d),y.renderCanvas(i,y,v,u),y.setAlpha(x),y.setScrollFactor(b,w)}}a.mask&&a.mask.postRenderCanvas(i)}};s.exports=g},77143:(s,g,i)=>{var a=i(25305),v=i(31559),f=i(44603),h=i(23568),u=i(95540);f.register("container",function(o,d){o===void 0&&(o={});var p=h(o,"x",0),l=h(o,"y",0),m=u(o,"children",null),y=new v(this.scene,p,l,m);return d!==void 0&&(o.add=d),a(this.scene,y,o),y})},24961:(s,g,i)=>{var a=i(31559),v=i(39429);v.register("container",function(f,h,u){return this.displayList.add(new a(this.scene,f,h,u))})},29959:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(72249),f=i(53584),s.exports={renderWebGL:v,renderCanvas:f}},72249:s=>{var g=function(i,a,v,f){v.addToRenderList(a);var h=a.list,u=h.length;if(u!==0){var o=a.localTransform;f?(o.loadIdentity(),o.multiply(f),o.translate(a.x,a.y),o.rotate(a.rotation),o.scale(a.scaleX,a.scaleY)):o.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),i.pipelines.preBatch(a);var d=a.blendMode!==-1;d||i.setBlendMode(0);for(var p=a.alpha,l=a.scrollFactorX,m=a.scrollFactorY,y=0;y<u;y++){var x=h[y];if(x.willRender(v)){var b,w,C,E;if(x.alphaTopLeft!==void 0)b=x.alphaTopLeft,w=x.alphaTopRight,C=x.alphaBottomLeft,E=x.alphaBottomRight;else{var T=x.alpha;b=T,w=T,C=T,E=T}var k=x.scrollFactorX,P=x.scrollFactorY;!d&&x.blendMode!==i.currentBlendMode&&i.setBlendMode(x.blendMode);var R=x.mask;R&&R.preRenderWebGL(i,x,v);var M=x.type;M!==i.currentType&&(i.newType=!0,i.currentType=M),i.nextTypeMatch=y<u-1?h[y+1].type===i.currentType:!1,x.setScrollFactor(k*l,P*m),x.setAlpha(b*p,w*p,C*p,E*p),x.renderWebGL(i,x,v,o,a),x.setAlpha(b,w,C,E),x.setScrollFactor(k,P),R&&R.postRenderWebGL(i,v),i.newType=!1}}i.pipelines.postBatch(a)}};s.exports=g},47407:s=>{s.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(s,g,i)=>{var a=i(83419),v=i(31401),f=i(441),h=i(95643),u=i(41212),o=i(35846),d=i(44594),p=i(61369),l=new a({Extends:h,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Origin,v.ScrollFactor,v.Transform,v.Visible,f],initialize:function(y,x,b,w,C,E){h.call(this,y,"DOMElement"),this.parent=y.sys.game.domContainer,this.cache=y.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new p,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(x,b),typeof w=="string"?w[0]==="#"?this.setElement(w.substr(1),C,E):this.createElement(w,C,E):w&&this.setElement(w,C,E),y.sys.events.on(d.SLEEP,this.handleSceneEvent,this),y.sys.events.on(d.WAKE,this.handleSceneEvent,this),y.sys.events.on(d.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(m){var y=this.node,x=y.style;y&&(x.display=m.settings.visible?"block":"none")},setSkew:function(m,y){return m===void 0&&(m=0),y===void 0&&(y=m),this.skewX=m,this.skewY=y,this},setPerspective:function(m){return this.parent.style.perspective=m+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(m){this.parent.style.perspective=m+"px"}},addListener:function(m){if(this.node){m=m.split(" ");for(var y=0;y<m.length;y++)this.node.addEventListener(m[y],this.handler,!1)}return this},removeListener:function(m){if(this.node){m=m.split(" ");for(var y=0;y<m.length;y++)this.node.removeEventListener(m[y],this.handler)}return this},dispatchNativeEvent:function(m){this.emit(m.type,m)},createElement:function(m,y,x){return this.setElement(document.createElement(m),y,x)},setElement:function(m,y,x){this.removeElement();var b;if(typeof m=="string"?(m[0]==="#"&&(m=m.substr(1)),b=document.getElementById(m)):typeof m=="object"&&m.nodeType===1&&(b=m),!b)return this;if(this.node=b,y&&u(y))for(var w in y)b.style[w]=y[w];else typeof y=="string"&&(b.style=y);return b.style.zIndex="0",b.style.display="inline",b.style.position="absolute",b.phaser=this,this.parent&&this.parent.appendChild(b),x&&(b.innerText=x),this.updateSize()},createFromCache:function(m,y){var x=this.cache.get(m);return x&&this.createFromHTML(x,y),this},createFromHTML:function(m,y){y===void 0&&(y="div"),this.removeElement();var x=document.createElement(y);return this.node=x,x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent&&this.parent.appendChild(x),x.innerHTML=m,this.updateSize()},removeElement:function(){return this.node&&(o(this.node),this.node=null),this},updateSize:function(){var m=this.node,y=m.getBoundingClientRect();return this.width=m.clientWidth,this.height=m.clientHeight,this.displayWidth=y.width||0,this.displayHeight=y.height||0,this},getChildByProperty:function(m,y){if(this.node){for(var x=this.node.querySelectorAll("*"),b=0;b<x.length;b++)if(x[b][m]===y)return x[b]}return null},getChildByID:function(m){return this.getChildByProperty("id",m)},getChildByName:function(m){return this.getChildByProperty("name",m)},setClassName:function(m){return this.node&&(this.node.className=m,this.updateSize()),this},setText:function(m){return this.node&&(this.node.innerText=m,this.updateSize()),this},setHTML:function(m){return this.node&&(this.node.innerHTML=m,this.updateSize()),this},preRender:function(){var m=this.parentContainer,y=this.node;y&&m&&!m.willRender()&&(y.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(d.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(d.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(d.PRE_RENDER,this.preRender,this)}});s.exports=l},49381:(s,g,i)=>{var a=i(47407),v=i(95643),f=i(61340),h=new f,u=new f,o=new f,d=function(p,l,m,y){if(l.node){var x=l.node.style,b=l.scene.sys.settings;if(!x||!b.visible||v.RENDER_MASK!==l.renderFlags||l.cameraFilter!==0&&l.cameraFilter&m.id||l.parentContainer&&!l.parentContainer.willRender()){x.display="none";return}var w=l.parentContainer,C=m.alpha*l.alpha;w&&(C*=w.alpha);var E=h,T=u,k=o,P=0,R=0,M="0%",I="0%";y?(P=l.width*l.scaleX*l.originX,R=l.height*l.scaleY*l.originY,T.applyITRS(l.x-P,l.y-R,l.rotation,l.scaleX,l.scaleY),E.copyFrom(m.matrix),E.multiplyWithOffset(y,-m.scrollX*l.scrollFactorX,-m.scrollY*l.scrollFactorY),T.e=l.x-P,T.f=l.y-R,E.multiply(T,k)):(P=l.width*l.originX,R=l.height*l.originY,T.applyITRS(l.x-P,l.y-R,l.rotation,l.scaleX,l.scaleY),E.copyFrom(m.matrix),M=100*l.originX+"%",I=100*l.originY+"%",T.e-=m.scrollX*l.scrollFactorX,T.f-=m.scrollY*l.scrollFactorY,E.multiply(T,k)),l.transformOnly||(x.display="block",x.opacity=C,x.zIndex=l._depth,x.pointerEvents=l.pointerEvents,x.mixBlendMode=a[l._blendMode]),x.transform=k.getCSSMatrix()+" skew("+l.skewX+"rad, "+l.skewY+"rad) rotate3d("+l.rotate3d.x+","+l.rotate3d.y+","+l.rotate3d.z+","+l.rotate3d.w+l.rotate3dAngle+")",x.transformOrigin=M+" "+I}};s.exports=d},2611:(s,g,i)=>{var a=i(3069),v=i(39429);v.register("dom",function(f,h,u,o,d){var p=new a(this.scene,f,h,u,o,d);return this.displayList.add(p),p})},441:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(49381),f=i(49381),s.exports={renderWebGL:v,renderCanvas:f}},62980:s=>{s.exports="addedtoscene"},41337:s=>{s.exports="destroy"},44947:s=>{s.exports="removedfromscene"},49358:s=>{s.exports="complete"},35163:s=>{s.exports="created"},97249:s=>{s.exports="error"},19483:s=>{s.exports="locked"},56059:s=>{s.exports="loop"},26772:s=>{s.exports="metadata"},64437:s=>{s.exports="playing"},83411:s=>{s.exports="play"},75780:s=>{s.exports="seeked"},67799:s=>{s.exports="seeking"},63500:s=>{s.exports="stalled"},55541:s=>{s.exports="stop"},53208:s=>{s.exports="textureready"},4992:s=>{s.exports="unlocked"},12:s=>{s.exports="unsupported"},51708:(s,g,i)=>{s.exports={ADDED_TO_SCENE:i(62980),DESTROY:i(41337),REMOVED_FROM_SCENE:i(44947),VIDEO_COMPLETE:i(49358),VIDEO_CREATED:i(35163),VIDEO_ERROR:i(97249),VIDEO_LOCKED:i(19483),VIDEO_LOOP:i(56059),VIDEO_METADATA:i(26772),VIDEO_PLAY:i(83411),VIDEO_PLAYING:i(64437),VIDEO_SEEKED:i(75780),VIDEO_SEEKING:i(67799),VIDEO_STALLED:i(63500),VIDEO_STOP:i(55541),VIDEO_TEXTURE:i(53208),VIDEO_UNLOCKED:i(4992),VIDEO_UNSUPPORTED:i(12)}},42421:(s,g,i)=>{var a=i(83419),v=i(31401),f=i(95643),h=i(64993),u=new a({Extends:f,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.Origin,v.ScrollFactor,v.Size,v.Texture,v.Tint,v.Transform,v.Visible,h],initialize:function(d){f.call(this,d,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});s.exports=u},70217:()=>{},56315:(s,g,i)=>{var a=i(42421),v=i(39429);v.register("extern",function(){var f=new a(this.scene);return this.displayList.add(f),f})},64993:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(80287),f=i(70217),s.exports={renderWebGL:v,renderCanvas:f}},80287:(s,g,i)=>{var a=i(91296),v=function(f,h,u,o){f.pipelines.clear();var d=a(h,u,o).calc;h.render.call(h,f,u,d),f.pipelines.rebind()};s.exports=v},85592:s=>{s.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(s,g,i)=>{var a=i(71911),v=i(83419),f=i(85592),h=i(31401),u=i(8497),o=i(95643),d=i(95540),p=i(35154),l=i(36383),m=i(84503),y=new v({Extends:o,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.PostPipeline,h.Transform,h.Visible,h.ScrollFactor,m],initialize:function(b,w){var C=p(w,"x",0),E=p(w,"y",0);o.call(this,b,"Graphics"),this.setPosition(C,E),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(w)},setDefaultStyles:function(x){return p(x,"lineStyle",null)&&(this.defaultStrokeWidth=p(x,"lineStyle.width",1),this.defaultStrokeColor=p(x,"lineStyle.color",16777215),this.defaultStrokeAlpha=p(x,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),p(x,"fillStyle",null)&&(this.defaultFillColor=p(x,"fillStyle.color",16777215),this.defaultFillAlpha=p(x,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(x,b,w){return w===void 0&&(w=1),this.commandBuffer.push(f.LINE_STYLE,x,b,w),this._lineWidth=x,this},fillStyle:function(x,b){return b===void 0&&(b=1),this.commandBuffer.push(f.FILL_STYLE,x,b),this},fillGradientStyle:function(x,b,w,C,E,T,k,P){return E===void 0&&(E=1),T===void 0&&(T=E),k===void 0&&(k=E),P===void 0&&(P=E),this.commandBuffer.push(f.GRADIENT_FILL_STYLE,E,T,k,P,x,b,w,C),this},lineGradientStyle:function(x,b,w,C,E,T){return T===void 0&&(T=1),this.commandBuffer.push(f.GRADIENT_LINE_STYLE,x,T,b,w,C,E),this},beginPath:function(){return this.commandBuffer.push(f.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(f.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(f.FILL_PATH),this},fill:function(){return this.commandBuffer.push(f.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(f.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(f.STROKE_PATH),this},fillCircleShape:function(x){return this.fillCircle(x.x,x.y,x.radius)},strokeCircleShape:function(x){return this.strokeCircle(x.x,x.y,x.radius)},fillCircle:function(x,b,w){return this.beginPath(),this.arc(x,b,w,0,l.PI2),this.fillPath(),this},strokeCircle:function(x,b,w){return this.beginPath(),this.arc(x,b,w,0,l.PI2),this.strokePath(),this},fillRectShape:function(x){return this.fillRect(x.x,x.y,x.width,x.height)},strokeRectShape:function(x){return this.strokeRect(x.x,x.y,x.width,x.height)},fillRect:function(x,b,w,C){return this.commandBuffer.push(f.FILL_RECT,x,b,w,C),this},strokeRect:function(x,b,w,C){var E=this._lineWidth/2,T=x-E,k=x+E;return this.beginPath(),this.moveTo(x,b),this.lineTo(x,b+C),this.strokePath(),this.beginPath(),this.moveTo(x+w,b),this.lineTo(x+w,b+C),this.strokePath(),this.beginPath(),this.moveTo(T,b),this.lineTo(k+w,b),this.strokePath(),this.beginPath(),this.moveTo(T,b+C),this.lineTo(k+w,b+C),this.strokePath(),this},fillRoundedRect:function(x,b,w,C,E){E===void 0&&(E=20);var T=E,k=E,P=E,R=E;typeof E!="number"&&(T=d(E,"tl",20),k=d(E,"tr",20),P=d(E,"bl",20),R=d(E,"br",20));var M=T>=0,I=k>=0,B=P>=0,D=R>=0;return T=Math.abs(T),k=Math.abs(k),P=Math.abs(P),R=Math.abs(R),this.beginPath(),this.moveTo(x+T,b),this.lineTo(x+w-k,b),I?this.arc(x+w-k,b+k,k,-l.TAU,0):this.arc(x+w,b,k,Math.PI,l.TAU,!0),this.lineTo(x+w,b+C-R),D?this.arc(x+w-R,b+C-R,R,0,l.TAU):this.arc(x+w,b+C,R,-l.TAU,Math.PI,!0),this.lineTo(x+P,b+C),B?this.arc(x+P,b+C-P,P,l.TAU,Math.PI):this.arc(x,b+C,P,0,-l.TAU,!0),this.lineTo(x,b+T),M?this.arc(x+T,b+T,T,-Math.PI,-l.TAU):this.arc(x,b,T,l.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(x,b,w,C,E){E===void 0&&(E=20);var T=E,k=E,P=E,R=E,M=Math.min(w,C)/2;typeof E!="number"&&(T=d(E,"tl",20),k=d(E,"tr",20),P=d(E,"bl",20),R=d(E,"br",20));var I=T>=0,B=k>=0,D=P>=0,N=R>=0;return T=Math.min(Math.abs(T),M),k=Math.min(Math.abs(k),M),P=Math.min(Math.abs(P),M),R=Math.min(Math.abs(R),M),this.beginPath(),this.moveTo(x+T,b),this.lineTo(x+w-k,b),this.moveTo(x+w-k,b),B?this.arc(x+w-k,b+k,k,-l.TAU,0):this.arc(x+w,b,k,Math.PI,l.TAU,!0),this.lineTo(x+w,b+C-R),this.moveTo(x+w,b+C-R),N?this.arc(x+w-R,b+C-R,R,0,l.TAU):this.arc(x+w,b+C,R,-l.TAU,Math.PI,!0),this.lineTo(x+P,b+C),this.moveTo(x+P,b+C),D?this.arc(x+P,b+C-P,P,l.TAU,Math.PI):this.arc(x,b+C,P,0,-l.TAU,!0),this.lineTo(x,b+T),this.moveTo(x,b+T),I?this.arc(x+T,b+T,T,-Math.PI,-l.TAU):this.arc(x,b,T,l.TAU,0,!0),this.strokePath(),this},fillPointShape:function(x,b){return this.fillPoint(x.x,x.y,b)},fillPoint:function(x,b,w){return!w||w<1?w=1:(x-=w/2,b-=w/2),this.commandBuffer.push(f.FILL_RECT,x,b,w,w),this},fillTriangleShape:function(x){return this.fillTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},strokeTriangleShape:function(x){return this.strokeTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},fillTriangle:function(x,b,w,C,E,T){return this.commandBuffer.push(f.FILL_TRIANGLE,x,b,w,C,E,T),this},strokeTriangle:function(x,b,w,C,E,T){return this.commandBuffer.push(f.STROKE_TRIANGLE,x,b,w,C,E,T),this},strokeLineShape:function(x){return this.lineBetween(x.x1,x.y1,x.x2,x.y2)},lineBetween:function(x,b,w,C){return this.beginPath(),this.moveTo(x,b),this.lineTo(w,C),this.strokePath(),this},lineTo:function(x,b){return this.commandBuffer.push(f.LINE_TO,x,b),this},moveTo:function(x,b){return this.commandBuffer.push(f.MOVE_TO,x,b),this},strokePoints:function(x,b,w,C){b===void 0&&(b=!1),w===void 0&&(w=!1),C===void 0&&(C=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var E=1;E<C;E++)this.lineTo(x[E].x,x[E].y);return b&&this.lineTo(x[0].x,x[0].y),w&&this.closePath(),this.strokePath(),this},fillPoints:function(x,b,w,C){b===void 0&&(b=!1),w===void 0&&(w=!1),C===void 0&&(C=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var E=1;E<C;E++)this.lineTo(x[E].x,x[E].y);return b&&this.lineTo(x[0].x,x[0].y),w&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(x,b){b===void 0&&(b=32);var w=x.getPoints(b);return this.strokePoints(w,!0)},strokeEllipse:function(x,b,w,C,E){E===void 0&&(E=32);var T=new u(x,b,w,C),k=T.getPoints(E);return this.strokePoints(k,!0)},fillEllipseShape:function(x,b){b===void 0&&(b=32);var w=x.getPoints(b);return this.fillPoints(w,!0)},fillEllipse:function(x,b,w,C,E){E===void 0&&(E=32);var T=new u(x,b,w,C),k=T.getPoints(E);return this.fillPoints(k,!0)},arc:function(x,b,w,C,E,T,k){return T===void 0&&(T=!1),k===void 0&&(k=0),this.commandBuffer.push(f.ARC,x,b,w,C,E,T,k),this},slice:function(x,b,w,C,E,T,k){return T===void 0&&(T=!1),k===void 0&&(k=0),this.commandBuffer.push(f.BEGIN_PATH),this.commandBuffer.push(f.MOVE_TO,x,b),this.commandBuffer.push(f.ARC,x,b,w,C,E,T,k),this.commandBuffer.push(f.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(f.SAVE),this},restore:function(){return this.commandBuffer.push(f.RESTORE),this},translateCanvas:function(x,b){return this.commandBuffer.push(f.TRANSLATE,x,b),this},scaleCanvas:function(x,b){return this.commandBuffer.push(f.SCALE,x,b),this},rotateCanvas:function(x){return this.commandBuffer.push(f.ROTATE,x),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(x,b,w){var C=this.scene.sys,E=C.game.renderer;b===void 0&&(b=C.scale.width),w===void 0&&(w=C.scale.height),y.TargetCamera.setScene(this.scene),y.TargetCamera.setViewport(0,0,b,w),y.TargetCamera.scrollX=this.x,y.TargetCamera.scrollY=this.y;var T,k,P={willReadFrequently:!0};if(typeof x=="string")if(C.textures.exists(x)){T=C.textures.get(x);var R=T.getSourceImage();R instanceof HTMLCanvasElement&&(k=R.getContext("2d",P))}else T=C.textures.createCanvas(x,b,w),k=T.getSourceImage().getContext("2d",P);else x instanceof HTMLCanvasElement&&(k=x.getContext("2d",P));return k&&(this.renderCanvas(E,this,y.TargetCamera,null,k,!1),T&&T.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});y.TargetCamera=new a,s.exports=y},32768:(s,g,i)=>{var a=i(85592),v=i(20926),f=function(h,u,o,d,p,l){var m=u.commandBuffer,y=m.length,x=p||h.currentContext;if(!(y===0||!v(h,x,u,o,d))){o.addToRenderList(u);var b=1,w=1,C=0,E=0,T=1,k=0,P=0,R=0;x.beginPath();for(var M=0;M<y;++M){var I=m[M];switch(I){case a.ARC:x.arc(m[M+1],m[M+2],m[M+3],m[M+4],m[M+5],m[M+6]),M+=7;break;case a.LINE_STYLE:T=m[M+1],C=m[M+2],b=m[M+3],k=(C&16711680)>>>16,P=(C&65280)>>>8,R=C&255,x.strokeStyle="rgba("+k+","+P+","+R+","+b+")",x.lineWidth=T,M+=3;break;case a.FILL_STYLE:E=m[M+1],w=m[M+2],k=(E&16711680)>>>16,P=(E&65280)>>>8,R=E&255,x.fillStyle="rgba("+k+","+P+","+R+","+w+")",M+=2;break;case a.BEGIN_PATH:x.beginPath();break;case a.CLOSE_PATH:x.closePath();break;case a.FILL_PATH:l||x.fill();break;case a.STROKE_PATH:l||x.stroke();break;case a.FILL_RECT:l?x.rect(m[M+1],m[M+2],m[M+3],m[M+4]):x.fillRect(m[M+1],m[M+2],m[M+3],m[M+4]),M+=4;break;case a.FILL_TRIANGLE:x.beginPath(),x.moveTo(m[M+1],m[M+2]),x.lineTo(m[M+3],m[M+4]),x.lineTo(m[M+5],m[M+6]),x.closePath(),l||x.fill(),M+=6;break;case a.STROKE_TRIANGLE:x.beginPath(),x.moveTo(m[M+1],m[M+2]),x.lineTo(m[M+3],m[M+4]),x.lineTo(m[M+5],m[M+6]),x.closePath(),l||x.stroke(),M+=6;break;case a.LINE_TO:x.lineTo(m[M+1],m[M+2]),M+=2;break;case a.MOVE_TO:x.moveTo(m[M+1],m[M+2]),M+=2;break;case a.LINE_FX_TO:x.lineTo(m[M+1],m[M+2]),M+=5;break;case a.MOVE_FX_TO:x.moveTo(m[M+1],m[M+2]),M+=5;break;case a.SAVE:x.save();break;case a.RESTORE:x.restore();break;case a.TRANSLATE:x.translate(m[M+1],m[M+2]),M+=2;break;case a.SCALE:x.scale(m[M+1],m[M+2]),M+=2;break;case a.ROTATE:x.rotate(m[M+1]),M+=1;break;case a.GRADIENT_FILL_STYLE:M+=5;break;case a.GRADIENT_LINE_STYLE:M+=6;break}}x.restore()}};s.exports=f},87079:(s,g,i)=>{var a=i(44603),v=i(43831);a.register("graphics",function(f,h){f===void 0&&(f={}),h!==void 0&&(f.add=h);var u=new v(this.scene,f);return f.add&&this.scene.sys.displayList.add(u),u})},1201:(s,g,i)=>{var a=i(43831),v=i(39429);v.register("graphics",function(f){return this.displayList.add(new a(this.scene,f))})},84503:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(77545),f=i(32768),f=i(32768),s.exports={renderWebGL:v,renderCanvas:f}},77545:(s,g,i)=>{var a=i(85592),v=i(91296),f=i(61340),h=i(70554),u=function(m,y,x){this.x=m,this.y=y,this.width=x},o=function(m,y,x){this.points=[],this.pointsLength=1,this.points[0]=new u(m,y,x)},d=[],p=new f,l=function(m,y,x,b){if(y.commandBuffer.length!==0){x.addToRenderList(y);var w=m.pipelines.set(y.pipeline,y);m.pipelines.preBatch(y);for(var C=v(y,x,b).calc,E=p.loadIdentity(),T=y.commandBuffer,k=x.alpha*y.alpha,P=1,R=w.fillTint,M=w.strokeTint,I=0,B=0,D=0,N=.01,_=Math.PI*2,G,$=[],V=0,Y=!0,U=null,F=h.getTintAppendFloatAlpha,O=0;O<T.length;O++)switch(G=T[O],G){case a.BEGIN_PATH:{$.length=0,U=null,Y=!0;break}case a.CLOSE_PATH:{Y=!1,U&&U.points.length&&U.points.push(U.points[0]);break}case a.FILL_PATH:{for(V=0;V<$.length;V++)w.batchFillPath($[V].points,E,C);break}case a.STROKE_PATH:{for(V=0;V<$.length;V++)w.batchStrokePath($[V].points,P,Y,E,C);break}case a.LINE_STYLE:{P=T[++O];var j=T[++O],z=T[++O]*k,W=F(j,z);M.TL=W,M.TR=W,M.BL=W,M.BR=W;break}case a.FILL_STYLE:{var q=T[++O],ot=T[++O]*k,Q=F(q,ot);R.TL=Q,R.TR=Q,R.BL=Q,R.BR=Q;break}case a.GRADIENT_FILL_STYLE:{var rt=T[++O]*k,Mt=T[++O]*k,K=T[++O]*k,It=T[++O]*k;R.TL=F(T[++O],rt),R.TR=F(T[++O],Mt),R.BL=F(T[++O],K),R.BR=F(T[++O],It);break}case a.GRADIENT_LINE_STYLE:{P=T[++O];var Ft=T[++O]*k;M.TL=F(T[++O],Ft),M.TR=F(T[++O],Ft),M.BL=F(T[++O],Ft),M.BR=F(T[++O],Ft);break}case a.ARC:{var ft=0,yt=T[++O],At=T[++O],Bt=T[++O],le=T[++O],_t=T[++O],xe=T[++O],Ee=T[++O];for(_t-=le,xe?_t<-_?_t=-_:_t>0&&(_t=-_+_t%_):_t>_?_t=_:_t<0&&(_t=_+_t%_),U===null&&(U=new o(yt+Math.cos(le)*Bt,At+Math.sin(le)*Bt,P),$.push(U),ft+=N);ft<1+Ee;)D=_t*ft+le,I=yt+Math.cos(D)*Bt,B=At+Math.sin(D)*Bt,U.points.push(new u(I,B,P)),ft+=N;D=_t+le,I=yt+Math.cos(D)*Bt,B=At+Math.sin(D)*Bt,U.points.push(new u(I,B,P));break}case a.FILL_RECT:{w.batchFillRect(T[++O],T[++O],T[++O],T[++O],E,C);break}case a.FILL_TRIANGLE:{w.batchFillTriangle(T[++O],T[++O],T[++O],T[++O],T[++O],T[++O],E,C);break}case a.STROKE_TRIANGLE:{w.batchStrokeTriangle(T[++O],T[++O],T[++O],T[++O],T[++O],T[++O],P,E,C);break}case a.LINE_TO:{U!==null?U.points.push(new u(T[++O],T[++O],P)):(U=new o(T[++O],T[++O],P),$.push(U));break}case a.MOVE_TO:{U=new o(T[++O],T[++O],P),$.push(U);break}case a.SAVE:{d.push(E.copyToArray());break}case a.RESTORE:{E.copyFromArray(d.pop());break}case a.TRANSLATE:{yt=T[++O],At=T[++O],E.translate(yt,At);break}case a.SCALE:{yt=T[++O],At=T[++O],E.scale(yt,At);break}case a.ROTATE:{E.rotate(T[++O]);break}}m.pipelines.postBatch(y)}};s.exports=l},26479:(s,g,i)=>{var a=i(61061),v=i(83419),f=i(51708),h=i(50792),u=i(46710),o=i(95540),d=i(35154),p=i(97022),l=i(41212),m=i(88492),y=i(35072),x=i(68287),b=new v({Extends:h,initialize:function(C,E,T){h.call(this),T?E&&!Array.isArray(E)&&(E=[E]):Array.isArray(E)?l(E[0])&&(T=E,E=null):l(E)&&(T=E,E=null),this.scene=C,this.children=new y,this.isParent=!0,this.type="Group",this.classType=o(T,"classType",x),this.name=o(T,"name",""),this.active=o(T,"active",!0),this.maxSize=o(T,"maxSize",-1),this.defaultKey=o(T,"defaultKey",null),this.defaultFrame=o(T,"defaultFrame",null),this.runChildUpdate=o(T,"runChildUpdate",!1),this.createCallback=o(T,"createCallback",null),this.removeCallback=o(T,"removeCallback",null),this.createMultipleCallback=o(T,"createMultipleCallback",null),this.internalCreateCallback=o(T,"internalCreateCallback",null),this.internalRemoveCallback=o(T,"internalRemoveCallback",null),E&&this.addMultiple(E),T&&this.createMultiple(T),this.on(f.ADDED_TO_SCENE,this.addedToScene,this),this.on(f.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(w,C,E,T,k,P){if(w===void 0&&(w=0),C===void 0&&(C=0),E===void 0&&(E=this.defaultKey),T===void 0&&(T=this.defaultFrame),k===void 0&&(k=!0),P===void 0&&(P=!0),this.isFull())return null;var R=new this.classType(this.scene,w,C,E,T);return R.addToDisplayList(this.scene.sys.displayList),R.addToUpdateList(),R.visible=k,R.setActive(P),this.add(R),R},createMultiple:function(w){if(this.isFull())return[];Array.isArray(w)||(w=[w]);var C=[];if(w[0].key)for(var E=0;E<w.length;E++){var T=this.createFromConfig(w[E]);C=C.concat(T)}return C},createFromConfig:function(w){if(this.isFull())return[];this.classType=o(w,"classType",this.classType);var C=o(w,"key",void 0),E=o(w,"frame",null),T=o(w,"visible",!0),k=o(w,"active",!0),P=[];if(C===void 0)return P;Array.isArray(C)||(C=[C]),Array.isArray(E)||(E=[E]);var R=o(w,"repeat",0),M=o(w,"randomKey",!1),I=o(w,"randomFrame",!1),B=o(w,"yoyo",!1),D=o(w,"quantity",!1),N=o(w,"frameQuantity",1),_=o(w,"max",0),G=m(C,E,{max:_,qty:D||N,random:M,randomB:I,repeat:R,yoyo:B});w.createCallback&&(this.createCallback=w.createCallback),w.removeCallback&&(this.removeCallback=w.removeCallback),w.internalCreateCallback&&(this.internalCreateCallback=w.internalCreateCallback),w.internalRemoveCallback&&(this.internalRemoveCallback=w.internalRemoveCallback);for(var $=0;$<G.length;$++){var V=this.create(0,0,G[$].a,G[$].b,T,k);if(!V)break;P.push(V)}if(p(w,"setXY")){var Y=d(w,"setXY.x",0),U=d(w,"setXY.y",0),F=d(w,"setXY.stepX",0),O=d(w,"setXY.stepY",0);a.SetXY(P,Y,U,F,O)}if(p(w,"setRotation")){var j=d(w,"setRotation.value",0),z=d(w,"setRotation.step",0);a.SetRotation(P,j,z)}if(p(w,"setScale")){var W=d(w,"setScale.x",1),q=d(w,"setScale.y",W),ot=d(w,"setScale.stepX",0),Q=d(w,"setScale.stepY",0);a.SetScale(P,W,q,ot,Q)}if(p(w,"setOrigin")){var rt=d(w,"setOrigin.x",.5),Mt=d(w,"setOrigin.y",rt),K=d(w,"setOrigin.stepX",0),It=d(w,"setOrigin.stepY",0);a.SetOrigin(P,rt,Mt,K,It)}if(p(w,"setAlpha")){var Ft=d(w,"setAlpha.value",1),ft=d(w,"setAlpha.step",0);a.SetAlpha(P,Ft,ft)}if(p(w,"setDepth")){var yt=d(w,"setDepth.value",0),At=d(w,"setDepth.step",0);a.SetDepth(P,yt,At)}if(p(w,"setScrollFactor")){var Bt=d(w,"setScrollFactor.x",1),le=d(w,"setScrollFactor.y",Bt),_t=d(w,"setScrollFactor.stepX",0),xe=d(w,"setScrollFactor.stepY",0);a.SetScrollFactor(P,Bt,le,_t,xe)}var Ee=o(w,"hitArea",null),ve=o(w,"hitAreaCallback",null);Ee&&a.SetHitArea(P,Ee,ve);var Fe=o(w,"gridAlign",!1);return Fe&&a.GridAlign(P,Fe),this.createMultipleCallback&&this.createMultipleCallback.call(this,P),P},preUpdate:function(w,C){if(!(!this.runChildUpdate||this.children.size===0))for(var E=this.children.entries.slice(),T=0;T<E.length;T++){var k=E[T];k.active&&k.update(w,C)}},add:function(w,C){return C===void 0&&(C=!1),this.isFull()?this:(this.children.set(w),this.internalCreateCallback&&this.internalCreateCallback.call(this,w),this.createCallback&&this.createCallback.call(this,w),C&&(w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList()),w.on(f.DESTROY,this.remove,this),this)},addMultiple:function(w,C){if(C===void 0&&(C=!1),Array.isArray(w))for(var E=0;E<w.length;E++)this.add(w[E],C);return this},remove:function(w,C,E){return C===void 0&&(C=!1),E===void 0&&(E=!1),this.children.contains(w)?(this.children.delete(w),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,w),this.removeCallback&&this.removeCallback.call(this,w),w.off(f.DESTROY,this.remove,this),E?w.destroy():C&&(w.removeFromDisplayList(),w.removeFromUpdateList()),this):this},clear:function(w,C){w===void 0&&(w=!1),C===void 0&&(C=!1);for(var E=this.children,T=0;T<E.size;T++){var k=E.entries[T];k.off(f.DESTROY,this.remove,this),C?k.destroy():w&&(k.removeFromDisplayList(),k.removeFromUpdateList())}return this.children.clear(),this},contains:function(w){return this.children.contains(w)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(w,C,E,T){return u(this.children.entries,w,C,E,T)},getFirst:function(w,C,E,T,k,P,R){return this.getHandler(!0,1,w,C,E,T,k,P,R)},getFirstNth:function(w,C,E,T,k,P,R,M){return this.getHandler(!0,w,C,E,T,k,P,R,M)},getLast:function(w,C,E,T,k,P,R){return this.getHandler(!1,1,w,C,E,T,k,P,R)},getLastNth:function(w,C,E,T,k,P,R,M){return this.getHandler(!1,w,C,E,T,k,P,R,M)},getHandler:function(w,C,E,T,k,P,R,M,I){E===void 0&&(E=!1),T===void 0&&(T=!1);var B,D,N=0,_=this.children.entries;if(w)for(D=0;D<_.length;D++)if(B=_[D],B.active===E){if(N++,N===C)break}else B=null;else for(D=_.length-1;D>=0;D--)if(B=_[D],B.active===E){if(N++,N===C)break}else B=null;return B?(typeof k=="number"&&(B.x=k),typeof P=="number"&&(B.y=P),B):T?this.create(k,P,R,M,I):null},get:function(w,C,E,T,k){return this.getFirst(!1,!0,w,C,E,T,k)},getFirstAlive:function(w,C,E,T,k,P){return this.getFirst(!0,w,C,E,T,k,P)},getFirstDead:function(w,C,E,T,k,P){return this.getFirst(!1,w,C,E,T,k,P)},playAnimation:function(w,C){return a.PlayAnimation(this.children.entries,w,C),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(w){w===void 0&&(w=!0);for(var C=0,E=0;E<this.children.size;E++)this.children.entries[E].active===w&&C++;return C},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var w=this.getTotalUsed(),C=this.maxSize===-1?999999999999:this.maxSize;return C-w},setActive:function(w){return this.active=w,this},setName:function(w){return this.name=w,this},propertyValueSet:function(w,C,E,T,k){return a.PropertyValueSet(this.children.entries,w,C,E,T,k),this},propertyValueInc:function(w,C,E,T,k){return a.PropertyValueInc(this.children.entries,w,C,E,T,k),this},setX:function(w,C){return a.SetX(this.children.entries,w,C),this},setY:function(w,C){return a.SetY(this.children.entries,w,C),this},setXY:function(w,C,E,T){return a.SetXY(this.children.entries,w,C,E,T),this},incX:function(w,C){return a.IncX(this.children.entries,w,C),this},incY:function(w,C){return a.IncY(this.children.entries,w,C),this},incXY:function(w,C,E,T){return a.IncXY(this.children.entries,w,C,E,T),this},shiftPosition:function(w,C,E){return a.ShiftPosition(this.children.entries,w,C,E),this},angle:function(w,C){return a.Angle(this.children.entries,w,C),this},rotate:function(w,C){return a.Rotate(this.children.entries,w,C),this},rotateAround:function(w,C){return a.RotateAround(this.children.entries,w,C),this},rotateAroundDistance:function(w,C,E){return a.RotateAroundDistance(this.children.entries,w,C,E),this},setAlpha:function(w,C){return a.SetAlpha(this.children.entries,w,C),this},setTint:function(w,C,E,T){return a.SetTint(this.children.entries,w,C,E,T),this},setOrigin:function(w,C,E,T){return a.SetOrigin(this.children.entries,w,C,E,T),this},scaleX:function(w,C){return a.ScaleX(this.children.entries,w,C),this},scaleY:function(w,C){return a.ScaleY(this.children.entries,w,C),this},scaleXY:function(w,C,E,T){return a.ScaleXY(this.children.entries,w,C,E,T),this},setDepth:function(w,C){return a.SetDepth(this.children.entries,w,C),this},setBlendMode:function(w){return a.SetBlendMode(this.children.entries,w),this},setHitArea:function(w,C){return a.SetHitArea(this.children.entries,w,C),this},shuffle:function(){return a.Shuffle(this.children.entries),this},kill:function(w){this.children.contains(w)&&w.setActive(!1)},killAndHide:function(w){this.children.contains(w)&&(w.setActive(!1),w.setVisible(!1))},setVisible:function(w,C,E){return a.SetVisible(this.children.entries,w,C,E),this},toggleVisible:function(){return a.ToggleVisible(this.children.entries),this},destroy:function(w,C){w===void 0&&(w=!1),C===void 0&&(C=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(f.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(C,w),this.scene=void 0,this.children=void 0)}});s.exports=b},94975:(s,g,i)=>{var a=i(44603),v=i(26479);a.register("group",function(f){return new v(this.scene,null,f)})},3385:(s,g,i)=>{var a=i(26479),v=i(39429);v.register("group",function(f,h){return this.updateList.add(new a(this.scene,f,h))})},88571:(s,g,i)=>{var a=i(83419),v=i(31401),f=i(95643),h=i(59819),u=new a({Extends:f,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.TextureCrop,v.Tint,v.Transform,v.Visible,h],initialize:function(d,p,l,m,y){f.call(this,d,"Image"),this._crop=this.resetCropObject(),this.setTexture(m,y),this.setPosition(p,l),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});s.exports=u},40652:s=>{var g=function(i,a,v,f){v.addToRenderList(a),i.batchSprite(a,a.frame,v,f)};s.exports=g},82459:(s,g,i)=>{var a=i(25305),v=i(44603),f=i(23568),h=i(88571);v.register("image",function(u,o){u===void 0&&(u={});var d=f(u,"key",null),p=f(u,"frame",null),l=new h(this.scene,0,0,d,p);return o!==void 0&&(u.add=o),a(this.scene,l,u),l})},2117:(s,g,i)=>{var a=i(88571),v=i(39429);v.register("image",function(f,h,u,o){return this.displayList.add(new a(this.scene,f,h,u,o))})},59819:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(99517),f=i(40652),s.exports={renderWebGL:v,renderCanvas:f}},99517:s=>{var g=function(i,a,v,f){v.addToRenderList(a),this.pipeline.batchSprite(a,v,f)};s.exports=g},77856:(s,g,i)=>{var a={Events:i(51708),DisplayList:i(8050),GameObjectCreator:i(44603),GameObjectFactory:i(39429),UpdateList:i(45027),Components:i(31401),GetCalcMatrix:i(91296),BuildGameObject:i(25305),BuildGameObjectAnimation:i(13059),GameObject:i(95643),BitmapText:i(22186),Blitter:i(6107),Bob:i(46590),Container:i(31559),DOMElement:i(3069),DynamicBitmapText:i(2638),Extern:i(42421),Graphics:i(43831),Group:i(26479),Image:i(88571),Layer:i(93595),Particles:i(18404),PathFollower:i(1159),RenderTexture:i(591),RetroFont:i(196),Rope:i(77757),Sprite:i(68287),Text:i(50171),GetTextSize:i(14220),MeasureText:i(79557),TextStyle:i(35762),TileSprite:i(20839),Zone:i(41481),Video:i(18471),Shape:i(17803),Arc:i(23629),Curve:i(89),Ellipse:i(19921),Grid:i(30479),IsoBox:i(61475),IsoTriangle:i(16933),Line:i(57847),Polygon:i(24949),Rectangle:i(74561),Star:i(55911),Triangle:i(36931),Factories:{Blitter:i(12709),Container:i(24961),DOMElement:i(2611),DynamicBitmapText:i(72566),Extern:i(56315),Graphics:i(1201),Group:i(3385),Image:i(2117),Layer:i(20005),Particles:i(676),PathFollower:i(90145),RenderTexture:i(60505),Rope:i(96819),Sprite:i(46409),StaticBitmapText:i(34914),Text:i(68005),TileSprite:i(91681),Zone:i(84175),Video:i(89025),Arc:i(42563),Curve:i(40511),Ellipse:i(1543),Grid:i(34137),IsoBox:i(3933),IsoTriangle:i(49803),Line:i(2481),Polygon:i(64827),Rectangle:i(87959),Star:i(93697),Triangle:i(45245)},Creators:{Blitter:i(9403),Container:i(77143),DynamicBitmapText:i(11164),Graphics:i(87079),Group:i(94975),Image:i(82459),Layer:i(25179),Particles:i(92730),RenderTexture:i(34495),Rope:i(26209),Sprite:i(15567),StaticBitmapText:i(57336),Text:i(71259),TileSprite:i(14167),Zone:i(95261),Video:i(11511)}};a.Shader=i(20071),a.Mesh=i(4703),a.NineSlice=i(28103),a.PointLight=i(80321),a.Plane=i(33663),a.Factories.Shader=i(74177),a.Factories.Mesh=i(9225),a.Factories.NineSlice=i(47521),a.Factories.PointLight=i(71255),a.Factories.Plane=i(30985),a.Creators.Shader=i(54935),a.Creators.Mesh=i(20527),a.Creators.NineSlice=i(28279),a.Creators.PointLight=i(39829),a.Creators.Plane=i(56015),a.Light=i(41432),a.LightsManager=i(61356),a.LightsPlugin=i(88992),s.exports=a},93595:(s,g,i)=>{var a=i(10312),v=i(83419),f=i(31401),h=i(53774),u=i(45893),o=i(50792),d=i(51708),p=i(73162),l=i(33963),m=i(44594),y=i(19186),x=new v({Extends:p,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Mask,f.PostPipeline,f.Visible,o,l],initialize:function(w,C){p.call(this,w),o.call(this),this.scene=w,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=w.sys,this.events=w.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(a.SKIP_CHECK),C&&this.add(C),w.sys.queueDepthSort()},setActive:function(b){return this.active=b,this},setName:function(b){return this.name=b,this},setState:function(b){return this.state=b,this},setDataEnabled:function(){return this.data||(this.data=new u(this)),this},setData:function(b,w){return this.data||(this.data=new u(this)),this.data.set(b,w),this},incData:function(b,w){return this.data||(this.data=new u(this)),this.data.inc(b,w),this},toggleData:function(b){return this.data||(this.data=new u(this)),this.data.toggle(b),this},getData:function(b){return this.data||(this.data=new u(this)),this.data.get(b)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return h(this)},willRender:function(b){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&b.id)},getIndexList:function(){for(var b=this,w=this.parentContainer,C=[];w&&(C.unshift(w.getIndex(b)),b=w,w.parentContainer);)w=w.parentContainer;return C.unshift(this.displayList.getIndex(b)),C},addChildCallback:function(b){var w=b.displayList;w&&w!==this&&b.removeFromDisplayList(),b.displayList||(this.queueDepthSort(),b.displayList=this,b.emit(d.ADDED_TO_SCENE,b,this.scene),this.events.emit(m.ADDED_TO_SCENE,b,this.scene))},removeChildCallback:function(b){this.queueDepthSort(),b.displayList=null,b.emit(d.REMOVED_FROM_SCENE,b,this.scene),this.events.emit(m.REMOVED_FROM_SCENE,b,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(y(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(b,w){return b._depth-w._depth},getChildren:function(){return this.list},addToDisplayList:function(b){return b===void 0&&(b=this.scene.sys.displayList),this.displayList&&this.displayList!==b&&this.removeFromDisplayList(),b.exists(this)||(this.displayList=b,b.add(this,!0),b.queueDepthSort(),this.emit(d.ADDED_TO_SCENE,this,this.scene),b.events.emit(m.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var b=this.displayList||this.scene.sys.displayList;return b.exists(this)&&(b.remove(this,!0),b.queueDepthSort(),this.displayList=null,this.emit(d.REMOVED_FROM_SCENE,this,this.scene),b.events.emit(m.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(b){if(!(!this.scene||this.ignoreDestroy)){this.emit(d.DESTROY,this);for(var w=this.list;w.length;)w[0].destroy(b);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});s.exports=x},2956:s=>{var g=function(i,a,v){var f=a.list;if(f.length!==0){a.depthSort();var h=a.blendMode!==-1;h||i.setBlendMode(0);var u=a._alpha;a.mask&&a.mask.preRenderCanvas(i,null,v);for(var o=0;o<f.length;o++){var d=f[o];if(d.willRender(v)){var p=d.alpha;!h&&d.blendMode!==i.currentBlendMode&&i.setBlendMode(d.blendMode),d.setAlpha(p*u),d.renderCanvas(i,d,v),d.setAlpha(p)}}a.mask&&a.mask.postRenderCanvas(i)}};s.exports=g},25179:(s,g,i)=>{var a=i(25305),v=i(93595),f=i(44603),h=i(23568);f.register("layer",function(u,o){u===void 0&&(u={});var d=h(u,"children",null),p=new v(this.scene,d);return o!==void 0&&(u.add=o),a(this.scene,p,u),p})},20005:(s,g,i)=>{var a=i(93595),v=i(39429);v.register("layer",function(f){return this.displayList.add(new a(this.scene,f))})},33963:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(15869),f=i(2956),s.exports={renderWebGL:v,renderCanvas:f}},15869:s=>{var g=function(i,a,v){var f=a.list,h=f.length;if(h!==0){a.depthSort(),i.pipelines.preBatch(a);var u=a.blendMode!==-1;u||i.setBlendMode(0);for(var o=a.alpha,d=0;d<h;d++){var p=f[d];if(p.willRender(v)){var l,m,y,x;if(p.alphaTopLeft!==void 0)l=p.alphaTopLeft,m=p.alphaTopRight,y=p.alphaBottomLeft,x=p.alphaBottomRight;else{var b=p.alpha;l=b,m=b,y=b,x=b}!u&&p.blendMode!==i.currentBlendMode&&i.setBlendMode(p.blendMode);var w=p.mask;w&&w.preRenderWebGL(i,p,v);var C=p.type;C!==i.currentType&&(i.newType=!0,i.currentType=C),i.nextTypeMatch=d<h-1?f[d+1].type===i.currentType:!1,p.setAlpha(l*o,m*o,y*o,x*o),p.renderWebGL(i,p,v),p.setAlpha(l,m,y,x),w&&w.postRenderWebGL(i,v),i.newType=!1}}i.pipelines.postBatch(a)}};s.exports=g},41432:(s,g,i)=>{var a=i(96503),v=i(83419),f=i(31401),h=i(51767),u=i(70554),o=new v({Extends:a,Mixins:[f.Origin,f.ScrollFactor,f.Visible],initialize:function(p,l,m,y,x,b,w){a.call(this,p,l,m),this.color=new h(y,x,b),this.intensity=w,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(m)},displayWidth:{get:function(){return this.diameter},set:function(d){this.diameter=d}},displayHeight:{get:function(){return this.diameter},set:function(d){this.diameter=d}},width:{get:function(){return this.diameter},set:function(d){this.diameter=d}},height:{get:function(){return this.diameter},set:function(d){this.diameter=d}},willRender:function(d){return!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setColor:function(d){var p=u.getFloatsFromUintRGB(d);return this.color.set(p[0],p[1],p[2]),this},setIntensity:function(d){return this.intensity=d,this},setRadius:function(d){return this.radius=d,this}});o.RENDER_MASK=15,s.exports=o},61356:(s,g,i)=>{var a=i(81491),v=i(83419),f=i(20339),h=i(41432),u=i(80321),o=i(51767),d=i(19133),p=i(19186),l=i(70554),m=new v({initialize:function(){this.lights=[],this.ambientColor=new o(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(y,x,b,w,C,E){return this.systems.displayList.add(new u(this.scene,y,x,b,w,C,E))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(y){for(var x=this.lights,b=y.worldView,w=[],C=0;C<x.length;C++){var E=x[C];E.willRender(y)&&a(E,b)&&w.push({light:E,distance:f(E.x,E.y,b.centerX,b.centerY)})}return w.length>this.maxLights&&(p(w,this.sortByDistance),w=w.slice(0,this.maxLights)),this.visibleLights=w.length,w},sortByDistance:function(y,x){return y.distance>=x.distance},setAmbientColor:function(y){var x=l.getFloatsFromUintRGB(y);return this.ambientColor.set(x[0],x[1],x[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(y,x,b,w,C){y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=128),w===void 0&&(w=16777215),C===void 0&&(C=1);var E=l.getFloatsFromUintRGB(w),T=new h(y,x,b,E[0],E[1],E[2],C);return this.lights.push(T),T},removeLight:function(y){var x=this.lights.indexOf(y);return x>=0&&d(this.lights,x),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});s.exports=m},88992:(s,g,i)=>{var a=i(83419),v=i(61356),f=i(37277),h=i(44594),u=new a({Extends:v,initialize:function(d){this.scene=d,this.systems=d.sys,d.sys.settings.isBooted||d.sys.events.once(h.BOOT,this.boot,this),v.call(this)},boot:function(){var o=this.systems.events;o.on(h.SHUTDOWN,this.shutdown,this),o.on(h.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});f.register("LightsPlugin",u,"lights"),s.exports=u},4703:(s,g,i)=>{var a=i(83419),v=i(31401),f=i(39506),h=i(83997),u=i(95643),o=i(34684),d=i(92515),p=i(91296),l=i(37867),m=i(29807),y=i(43396),x=i(19186),b=i(25836),w=i(39318),C=new a({Extends:u,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.Texture,v.Transform,v.Visible,m],initialize:function(T,k,P,R,M,I,B,D,N,_,G,$){k===void 0&&(k=0),P===void 0&&(P=0),R===void 0&&(R="__WHITE"),u.call(this,T,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new b,this.modelScale=new b(1,1,1),this.modelRotation=new b,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new l,this.viewPosition=new b,this.viewMatrix=new l,this.projectionMatrix=new l,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var V=T.sys.renderer;this.setPosition(k,P),this.setTexture(R,M),this.setSize(V.width,V.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(V.width,V.height),I&&this.addVertices(I,B,D,N,_,G,$)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(E){return this.viewPosition.addScale(b.LEFT,E),this.dirtyCache[10]=1,this},panY:function(E){return this.viewPosition.y+=b.DOWN.y*E,this.dirtyCache[10]=1,this},panZ:function(E){return this.viewPosition.z+=E,this.dirtyCache[10]=1,this},setPerspective:function(E,T,k,P,R){return k===void 0&&(k=45),P===void 0&&(P=.01),R===void 0&&(R=1e3),this.fov=k,this.projectionMatrix.perspective(f(k),E/T,P,R),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(E,T,k,P){return E===void 0&&(E=this.scene.sys.renderer.getAspectRatio()),T===void 0&&(T=1),k===void 0&&(k=-1e3),P===void 0&&(P=1e3),this.fov=0,this.projectionMatrix.ortho(-E,E,-T,T,k,P),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(E){E.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(E,T,k,P,R,M,I,B,D){var N=this.scene.sys.cache.obj.get(E),_;return N&&(_=o(N,this,T,k,P,R,M,I,B,D)),(!_||_.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",E),this},sortByDepth:function(E,T){return E.depth-T.depth},depthSort:function(){return x(this.faces,this.sortByDepth),this},addVertex:function(E,T,k,P,R,M,I){var B=new w(E,T,k,P,R,M,I);return this.vertices.push(B),B},addFace:function(E,T,k){var P=new h(E,T,k);return this.faces.push(P),this.dirtyCache[9]=-1,P},addVertices:function(E,T,k,P,R,M,I){var B=d(E,T,k,P,R,M,I);return B?(this.faces=this.faces.concat(B.faces),this.vertices=this.vertices.concat(B.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(E){return this.faces[E]},hasFaceAt:function(E,T,k){k===void 0&&(k=this.scene.sys.cameras.main);for(var P=p(this,k).calc,R=this.faces,M=0;M<R.length;M++){var I=R[M];if(I.contains(E,T,P))return!0}return!1},getFaceAt:function(E,T,k){k===void 0&&(k=this.scene.sys.cameras.main);for(var P=p(this,k).calc,R=this.faces,M=[],I=0;I<R.length;I++){var B=R[I];B.contains(E,T,P)&&M.push(B)}return x(M,this.sortByDepth)},setDebug:function(E,T){return this.debugGraphic=E,!E&&!T?this.debugCallback=null:T?this.debugCallback=T:this.debugCallback=this.renderDebug,this},isDirty:function(){var E=this.modelPosition,T=this.modelRotation,k=this.modelScale,P=this.dirtyCache,R=E.x,M=E.y,I=E.z,B=T.x,D=T.y,N=T.z,_=k.x,G=k.y,$=k.z,V=this.getFaceCount(),Y=P[0],U=P[1],F=P[2],O=P[3],j=P[4],z=P[5],W=P[6],q=P[7],ot=P[8],Q=P[9];return P[0]=R,P[1]=M,P[2]=I,P[3]=B,P[4]=D,P[5]=N,P[6]=_,P[7]=G,P[8]=$,P[9]=V,Y!==R||U!==M||F!==I||O!==B||j!==D||z!==N||W!==_||q!==G||ot!==$||Q!==V},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var E=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!E[10]&&!this.isDirty())){var T=this.width,k=this.height,P=this.viewMatrix,R=this.viewPosition;E[10]&&(P.identity(),P.translate(R),P.invert(),E[10]=0);var M=this.transformMatrix;M.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var I=R.z,B=this.faces,D=0;D<B.length;D++)B[D].transformCoordinatesLocal(M,T,k,I);this.depthSort()}},renderDebug:function(E,T){for(var k=E.debugGraphic,P=0;P<T.length;P++){var R=T[P],M=R.vertex1.tx,I=R.vertex1.ty,B=R.vertex2.tx,D=R.vertex2.ty,N=R.vertex3.tx,_=R.vertex3.ty;k.strokeTriangle(M,I,B,D,N,_)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(E){E===void 0&&(E={});var T=function(k,P,R){for(var M=this.faces,I=0;I<M.length;I++){var B=M[I];if(B.contains(P,R))return!0}return!1}.bind(this);return this.scene.sys.input.enable(this,E,T),this},setTint:function(E){E===void 0&&(E=16777215);for(var T=this.vertices,k=0;k<T.length;k++)T[k].color=E;return this},uvScroll:function(E,T){for(var k=this.faces,P=0;P<k.length;P++)k[P].scrollUV(E,T);return this},uvScale:function(E,T){for(var k=this.faces,P=0;P<k.length;P++)k[P].scaleUV(E,T);return this},tint:{set:function(E){this.setTint(E)}},rotateX:{get:function(){return y(this.modelRotation.x)},set:function(E){this.modelRotation.x=f(E)}},rotateY:{get:function(){return y(this.modelRotation.y)},set:function(E){this.modelRotation.y=f(E)}},rotateZ:{get:function(){return y(this.modelRotation.z)},set:function(E){this.modelRotation.z=f(E)}}});s.exports=C},36488:s=>{var g=function(){};s.exports=g},20527:(s,g,i)=>{var a=i(25305),v=i(44603),f=i(23568),h=i(35154),u=i(4703);v.register("mesh",function(o,d){o===void 0&&(o={});var p=f(o,"key",null),l=f(o,"frame",null),m=h(o,"vertices",[]),y=h(o,"uvs",[]),x=h(o,"indicies",[]),b=h(o,"containsZ",!1),w=h(o,"normals",[]),C=h(o,"colors",16777215),E=h(o,"alphas",1),T=new u(this.scene,0,0,p,l,m,y,x,b,w,C,E);return d!==void 0&&(o.add=d),a(this.scene,T,o),T})},9225:(s,g,i)=>{var a=i(4703),v=i(39429);v.register("mesh",function(f,h,u,o,d,p,l,m,y,x,b){return this.displayList.add(new a(this.scene,f,h,u,o,d,p,l,m,y,x,b))})},29807:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(48833),f=i(36488),s.exports={renderWebGL:v,renderCanvas:f}},48833:(s,g,i)=>{var a=i(91296),v=function(f,h,u,o){var d=h.faces,p=d.length;if(p!==0){u.addToRenderList(h);var l=f.pipelines.set(h.pipeline,h),m=a(h,u,o).calc;f.pipelines.preBatch(h);for(var y=l.setGameObject(h),x=l.vertexViewF32,b=l.vertexViewU32,w=l.vertexCount*l.currentShader.vertexComponentCount-1,C=h.tintFill,E=[],T=h.debugCallback,k=m.a,P=m.b,R=m.c,M=m.d,I=m.e,B=m.f,D=h.viewPosition.z,N=h.hideCCW,_=u.roundPixels,G=u.alpha*h.alpha,$=0,V=0;V<p;V++){var Y=d[V];Y.isInView(u,N,D,G,k,P,R,M,I,B,_)&&(l.shouldFlush(3)&&(l.flush(),y=l.setGameObject(h),w=0),w=Y.load(x,b,w,y,C),$++,l.vertexCount+=3,l.currentBatch.count=l.vertexCount-l.currentBatch.start,T&&E.push(Y))}h.totalFrame+=$,T&&T.call(h,h,E),f.pipelines.postBatch(h)}};s.exports=v},28103:(s,g,i)=>{var a=i(83419),v=i(31401),f=i(95643),h=i(78023),u=i(39318),o=new a({Extends:f,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,h],initialize:function(p,l,m,y,x,b,w,C,E,T,k){f.call(this,p,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var P=p.textures.getFrame(y,x);this.is3Slice=!T&&!k,P.scale9&&(this.is3Slice=P.is3Slice);for(var R=this.is3Slice?18:54,M=0;M<R;M++)this.vertices.push(new u);this.setPosition(l,m),this.setTexture(y,x),this.setSlices(b,w,C,E,T,k,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(d,p,l,m,y,x,b){l===void 0&&(l=10),m===void 0&&(m=10),y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=!1);var w=this.frame,C=!1;if(this.is3Slice&&b&&y!==0&&x!==0&&(C=!0),C)console.warn("Cannot change 9 slice to 3 slice");else{if(w.scale9&&!b){var E=w.data.scale9Borders,T=E.x,k=E.y;l=T,m=w.width-E.w-T,y=k,x=w.height-E.h-k,d===void 0&&(d=w.width),p===void 0&&(p=w.height)}else d===void 0&&(d=256),p===void 0&&(p=256);this._width=d,this._height=p,this.leftWidth=l,this.rightWidth=m,this.topHeight=y,this.bottomHeight=x,this.is3Slice&&(p=w.height,this._height=p,this.topHeight=p,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var d=this.leftWidth,p=this.rightWidth,l=this.topHeight,m=this.bottomHeight,y=this.frame.width,x=this.frame.height;this.updateQuadUVs(0,0,0,d/y,l/x),this.updateQuadUVs(6,d/y,0,1-p/y,l/x),this.updateQuadUVs(12,1-p/y,0,1,l/x),this.is3Slice||(this.updateQuadUVs(18,0,l/x,d/y,1-m/x),this.updateQuadUVs(24,d/y,l/x,1-p/y,1-m/x),this.updateQuadUVs(30,1-p/y,l/x,1,1-m/x),this.updateQuadUVs(36,0,1-m/x,d/y,1),this.updateQuadUVs(42,d/y,1-m/x,1-p/y,1),this.updateQuadUVs(48,1-p/y,1-m/x,1,1))},updateVertices:function(){var d=this.leftWidth,p=this.rightWidth,l=this.topHeight,m=this.bottomHeight,y=this.width,x=this.height;this.updateQuad(0,-.5,.5,-.5+d/y,.5-l/x),this.updateQuad(6,-.5+d/y,.5,.5-p/y,.5-l/x),this.updateQuad(12,.5-p/y,.5,.5,.5-l/x),this.is3Slice||(this.updateQuad(18,-.5,.5-l/x,-.5+d/y,-.5+m/x),this.updateQuad(24,-.5+d/y,.5-l/x,.5-p/y,-.5+m/x),this.updateQuad(30,.5-p/y,.5-l/x,.5,-.5+m/x),this.updateQuad(36,-.5,-.5+m/x,-.5+d/y,-.5),this.updateQuad(42,-.5+d/y,-.5+m/x,.5-p/y,-.5),this.updateQuad(48,.5-p/y,-.5+m/x,.5,-.5))},updateQuad:function(d,p,l,m,y){var x=this.width,b=this.height,w=this.originX,C=this.originY,E=this.vertices;E[d+0].resize(p,l,x,b,w,C),E[d+1].resize(p,y,x,b,w,C),E[d+2].resize(m,l,x,b,w,C),E[d+3].resize(p,y,x,b,w,C),E[d+4].resize(m,y,x,b,w,C),E[d+5].resize(m,l,x,b,w,C)},updateQuadUVs:function(d,p,l,m,y){var x=this.vertices,b=this.frame,w=b.u0,C=b.v0,E=b.u1,T=b.v1;if(w!==0||E!==1){var k=E-w;p=w+p*k,m=w+m*k}if(C!==0||T!==1){var P=T-C;l=C+l*P,y=C+y*P}x[d+0].setUVs(p,l),x[d+1].setUVs(p,y),x[d+2].setUVs(m,l),x[d+3].setUVs(p,y),x[d+4].setUVs(m,y),x[d+5].setUVs(m,l)},clearTint:function(){return this.setTint(16777215),this},setTint:function(d){return d===void 0&&(d=16777215),this.tint=d,this.tintFill=!1,this},setTintFill:function(d){return this.setTint(d),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(d){this._width=Math.max(d,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(d){this.is3Slice||(this._height=Math.max(d,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}},setSize:function(d,p){this.width=d,this.height=p,this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=this.width,l.hitArea.height=this.height),this},setDisplaySize:function(d,p){return this.displayWidth=d,this.displayHeight=p,this},originX:{get:function(){return this._originX},set:function(d){this._originX=d,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(d){this._originY=d,this.updateVertices()}},setOrigin:function(d,p){return d===void 0&&(d=.5),p===void 0&&(p=d),this._originX=d,this._originY=p,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var d=this.frame.height;this._height=d,this.topHeight=d,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});s.exports=o},28279:(s,g,i)=>{var a=i(25305),v=i(44603),f=i(23568),h=i(35154),u=i(28103);v.register("nineslice",function(o,d){o===void 0&&(o={});var p=f(o,"key",null),l=f(o,"frame",null),m=h(o,"width",256),y=h(o,"height",256),x=h(o,"leftWidth",10),b=h(o,"rightWidth",10),w=h(o,"topHeight",0),C=h(o,"bottomHeight",0),E=new u(this.scene,0,0,p,l,m,y,x,b,w,C);return d!==void 0&&(o.add=d),a(this.scene,E,o),E})},47521:(s,g,i)=>{var a=i(28103),v=i(39429);v.register("nineslice",function(f,h,u,o,d,p,l,m,y,x){return this.displayList.add(new a(this.scene,f,h,u,o,d,p,l,m,y,x))})},78023:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(52230),s.exports={renderWebGL:v,renderCanvas:f}},52230:(s,g,i)=>{var a=i(91296),v=i(70554),f=function(h,u,o,d){var p=u.vertices,l=p.length;if(l!==0){o.addToRenderList(u);var m=h.pipelines.set(u.pipeline,u),y=a(u,o,d,!1).calc;h.pipelines.preBatch(u);var x=m.setGameObject(u),b=m.vertexViewF32,w=m.vertexViewU32,C=m.vertexCount*m.currentShader.vertexComponentCount-1,E=o.roundPixels,T=u.tintFill,k=o.alpha*u.alpha,P=v.getTintAppendFloatAlpha(u.tint,k),R=m.vertexAvailable(),M=-1;R<l&&(M=R);for(var I=0;I<l;I++){var B=p[I];I===M&&(m.flush(),x=m.setGameObject(u),C=0),b[++C]=y.getXRound(B.vx,B.vy,E),b[++C]=y.getYRound(B.vx,B.vy,E),b[++C]=B.u,b[++C]=B.v,b[++C]=x,b[++C]=T,w[++C]=P,m.vertexCount++,m.currentBatch.count=m.vertexCount-m.currentBatch.start}h.pipelines.postBatch(u)}};s.exports=f},76472:(s,g,i)=>{var a=i(83419),v=i(44777),f=i(37589),h=i(6113),u=i(91389),o=i(90664),d=new a({Extends:v,initialize:function(l){v.call(this,l,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var p=this.propertyValue,l=p,m=this.defaultEmit,y=this.defaultUpdate;if(this.method===9){this.start=p[0],this.ease=h("Linear"),this.interpolation=u("linear"),m=this.easedValueEmit,y=this.easeValueUpdate,l=p[0],this.active=!0;for(var x=0;x<p.length;x++){var b=o(p[x]);this.r.push(b.r),this.g.push(b.g),this.b.push(b.b)}}return this.onEmit=m,this.onUpdate=y,this.current=l,this},setEase:function(p){this.easeName=p,this.ease=h(p)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(p,l,m){var y=this.ease(m),x=this.interpolation(this.r,y),b=this.interpolation(this.g,y),w=this.interpolation(this.b,y),C=f(x,b,w);return this.current=C,C}});s.exports=d},44777:(s,g,i)=>{var a=i(30976),v=i(45319),f=i(83419),h=i(99472),u=i(6113),o=i(95540),d=i(91389),p=i(77720),l=i(15994),m=new f({initialize:function(x,b,w){w===void 0&&(w=!1),this.propertyKey=x,this.propertyValue=b,this.defaultValue=b,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=w,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(y,x){y===void 0&&(y={}),x&&(this.propertyKey=x),this.propertyValue=o(y,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(y){var x;switch(this.method){case 1:case 3:case 8:x=y;break;case 2:this.propertyValue.indexOf(y)>=0&&(x=y);break;case 4:var b=(this.end-this.start)/this.steps;x=p(y,b),this.counter=x;break;case 5:case 6:case 7:x=v(y,this.start,this.end);break;case 9:x=this.start[0];break}return this.current=x,this},getMethod:function(){var y=this.propertyValue;if(y===null)return 0;var x=typeof y;if(x==="number")return 1;if(Array.isArray(y))return 2;if(x==="function")return 3;if(x==="object"){if(this.hasBoth(y,"start","end"))return this.has(y,"steps")?4:5;if(this.hasBoth(y,"min","max"))return 6;if(this.has(y,"random"))return 7;if(this.hasEither(y,"onEmit","onUpdate"))return 8;if(this.hasEither(y,"values","interpolation"))return 9}return 0},setMethods:function(){var y=this.propertyValue,x=y,b=this.defaultEmit,w=this.defaultUpdate;switch(this.method){case 1:b=this.staticValueEmit;break;case 2:b=this.randomStaticValueEmit,x=y[0];break;case 3:this._onEmit=y,b=this.proxyEmit;break;case 4:this.start=y.start,this.end=y.end,this.steps=y.steps,this.counter=this.start,this.yoyo=this.has(y,"yoyo")?y.yoyo:!1,this.direction=0,b=this.steppedEmit,x=this.start;break;case 5:this.start=y.start,this.end=y.end;var C=this.has(y,"ease")?y.ease:"Linear";this.ease=u(C,y.easeParams),b=this.has(y,"random")&&y.random?this.randomRangedValueEmit:this.easedValueEmit,w=this.easeValueUpdate,x=this.start;break;case 6:this.start=y.min,this.end=y.max,b=this.has(y,"int")&&y.int?this.randomRangedIntEmit:this.randomRangedValueEmit,x=this.start;break;case 7:var E=y.random;Array.isArray(E)&&(this.start=E[0],this.end=E[1]),b=this.randomRangedIntEmit,x=this.start;break;case 8:this._onEmit=this.has(y,"onEmit")?y.onEmit:this.defaultEmit,this._onUpdate=this.has(y,"onUpdate")?y.onUpdate:this.defaultUpdate,b=this.proxyEmit,w=this.proxyUpdate;break;case 9:this.start=y.values;var T=this.has(y,"ease")?y.ease:"Linear";this.ease=u(T,y.easeParams),this.interpolation=d(y.interpolation),b=this.easedValueEmit,w=this.easeValueUpdate,x=this.start[0];break}return this.onEmit=b,this.onUpdate=w,this.current=x,this},has:function(y,x){return y.hasOwnProperty(x)},hasBoth:function(y,x,b){return y.hasOwnProperty(x)&&y.hasOwnProperty(b)},hasEither:function(y,x,b){return y.hasOwnProperty(x)||y.hasOwnProperty(b)},defaultEmit:function(y,x,b){return b},defaultUpdate:function(y,x,b,w){return w},proxyEmit:function(y,x,b){var w=this._onEmit(y,x,b);return this.current=w,w},proxyUpdate:function(y,x,b,w){var C=this._onUpdate(y,x,b,w);return this.current=C,C},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var y=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[y],this.current},randomRangedValueEmit:function(y,x){var b=h(this.start,this.end);return y&&y.data[x]&&(y.data[x].min=b,y.data[x].max=this.end),this.current=b,b},randomRangedIntEmit:function(y,x){var b=a(this.start,this.end);return y&&y.data[x]&&(y.data[x].min=b,y.data[x].max=this.end),this.current=b,b},steppedEmit:function(){var y=this.counter,x=y,b=(this.end-this.start)/this.steps;if(this.yoyo){var w;this.direction===0?(x+=b,x>=this.end&&(w=x-this.end,x=this.end-w,this.direction=1)):(x-=b,x<=this.start&&(w=this.start-x,x=this.start+w,this.direction=0)),this.counter=x}else this.counter=l(x+b,this.start,this.end);return this.current=y,y},easedValueEmit:function(y,x){if(y&&y.data[x]){var b=y.data[x];b.min=this.start,b.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(y,x,b){var w=y.data[x],C,E=this.ease(b);return this.interpolation?C=this.interpolation(this.start,E):C=(w.max-w.min)*E+w.min,this.current=C,C},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});s.exports=m},24502:(s,g,i)=>{var a=i(83419),v=i(95540),f=i(20286),h=new a({Extends:f,initialize:function(o,d,p,l,m){if(typeof o=="object"){var y=o;o=v(y,"x",0),d=v(y,"y",0),p=v(y,"power",0),l=v(y,"epsilon",100),m=v(y,"gravity",50)}else o===void 0&&(o=0),d===void 0&&(d=0),p===void 0&&(p=0),l===void 0&&(l=100),m===void 0&&(m=50);f.call(this,o,d,!0),this._gravity=m,this._power=p*m,this._epsilon=l*l},update:function(u,o){var d=this.x-u.x,p=this.y-u.y,l=d*d+p*p;if(l!==0){var m=Math.sqrt(l);l<this._epsilon&&(l=this._epsilon);var y=this._power*o/(l*m)*100;u.velocityX+=d*y,u.velocityY+=p*y}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(u){this._epsilon=u*u}},power:{get:function(){return this._power/this._gravity},set:function(u){this._power=u*this._gravity}},gravity:{get:function(){return this._gravity},set:function(u){var o=this.power;this._gravity=u,this.power=o}}});s.exports=h},56480:(s,g,i)=>{var a=i(9674),v=i(45319),f=i(83419),h=i(39506),u=i(87841),o=i(11520),d=i(26099),p=new f({initialize:function(m){this.emitter=m,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new d,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=m.scene,this.anims=new a(this),this.bounds=new u},emit:function(l,m,y,x,b,w){return this.emitter.emit(l,m,y,x,b,w)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(l,m){l===void 0&&(l=0),m===void 0&&(m=0),this.x=l,this.y=m},fire:function(l,m){var y=this.emitter,x=y.ops,b=y.getAnim();if(b?this.anims.play(b):(this.frame=y.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(y.getEmitZone(this),l===void 0?this.x+=x.x.onEmit(this,"x"):x.x.steps>0?this.x+=l+x.x.onEmit(this,"x"):this.x+=l,m===void 0?this.y+=x.y.onEmit(this,"y"):x.y.steps>0?this.y+=m+x.y.onEmit(this,"y"):this.y+=m,this.life=x.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=x.delay.onEmit(this,"delay"),this.holdCurrent=x.hold.onEmit(this,"hold"),this.scaleX=x.scaleX.onEmit(this,"scaleX"),this.scaleY=x.scaleY.active?x.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=x.rotate.onEmit(this,"rotate"),this.rotation=h(this.angle),y.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&y.getDeathZone(this))return this.lifeCurrent=0,!1;var w=x.speedX.onEmit(this,"speedX"),C=x.speedY.active?x.speedY.onEmit(this,"speedY"):w;if(y.radial){var E=h(x.angle.onEmit(this,"angle"));this.velocityX=Math.cos(E)*Math.abs(w),this.velocityY=Math.sin(E)*Math.abs(C)}else if(y.moveTo){var T=x.moveToX.onEmit(this,"moveToX"),k=x.moveToY.onEmit(this,"moveToY"),P=this.life/1e3;this.velocityX=(T-this.x)/P,this.velocityY=(k-this.y)/P}else this.velocityX=w,this.velocityY=C;return y.acceleration&&(this.accelerationX=x.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=x.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=x.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=x.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=x.bounce.onEmit(this,"bounce"),this.alpha=x.alpha.onEmit(this,"alpha"),x.color.active?this.tint=x.color.onEmit(this,"tint"):this.tint=x.tint.onEmit(this,"tint"),!0},update:function(l,m,y){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=l,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=l,!1;this.anims.update(0,l);var x=this.emitter,b=x.ops,w=1-this.lifeCurrent/this.life;if(this.lifeT=w,this.x=b.x.onUpdate(this,"x",w,this.x),this.y=b.y.onUpdate(this,"y",w,this.y),x.moveTo){var C=b.moveToX.onUpdate(this,"moveToX",w,x.moveToX),E=b.moveToY.onUpdate(this,"moveToY",w,x.moveToY),T=this.lifeCurrent/1e3;this.velocityX=(C-this.x)/T,this.velocityY=(E-this.y)/T}return this.computeVelocity(x,l,m,y,w),this.scaleX=b.scaleX.onUpdate(this,"scaleX",w,this.scaleX),b.scaleY.active?this.scaleY=b.scaleY.onUpdate(this,"scaleY",w,this.scaleY):this.scaleY=this.scaleX,this.angle=b.rotate.onUpdate(this,"rotate",w,this.angle),this.rotation=h(this.angle),x.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=v(b.alpha.onUpdate(this,"alpha",w,this.alpha),0,1),b.color.active?this.tint=b.color.onUpdate(this,"color",w,this.tint):this.tint=b.tint.onUpdate(this,"tint",w,this.tint),this.lifeCurrent-=l,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(l,m,y,x,b){var w=l.ops,C=this.velocityX,E=this.velocityY,T=w.accelerationX.onUpdate(this,"accelerationX",b,this.accelerationX),k=w.accelerationY.onUpdate(this,"accelerationY",b,this.accelerationY),P=w.maxVelocityX.onUpdate(this,"maxVelocityX",b,this.maxVelocityX),R=w.maxVelocityY.onUpdate(this,"maxVelocityY",b,this.maxVelocityY);this.bounce=w.bounce.onUpdate(this,"bounce",b,this.bounce),C+=l.gravityX*y+T*y,E+=l.gravityY*y+k*y,C=v(C,-P,P),E=v(E,-R,R),this.velocityX=C,this.velocityY=E,this.x+=C*y,this.y+=E*y,l.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var M=0;M<x.length;M++){var I=x[M];I.active&&I.update(this,m,y,b)}},setSizeToFrame:function(){},getBounds:function(l){l===void 0&&(l=this.emitter.getWorldTransformMatrix());var m=Math.abs(l.scaleX)*this.scaleX,y=Math.abs(l.scaleY)*this.scaleY,x=this.x,b=this.y,w=this.rotation,C=this.frame.width*m/2,E=this.frame.height*y/2,T=this.bounds,k=new d(x-C,b-E),P=new d(x+C,b-E),R=new d(x-C,b+E),M=new d(x+C,b+E);return w!==0&&(o(k,x,b,w),o(P,x,b,w),o(R,x,b,w),o(M,x,b,w)),l.transformPoint(k.x,k.y,k),l.transformPoint(P.x,P.y,P),l.transformPoint(R.x,R.y,R),l.transformPoint(M.x,M.y,M),T.x=Math.min(k.x,P.x,R.x,M.x),T.y=Math.min(k.y,P.y,R.y,M.y),T.width=Math.max(k.x,P.x,R.x,M.x)-T.x,T.height=Math.max(k.y,P.y,R.y,M.y)-T.y,T},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});s.exports=p},69601:(s,g,i)=>{var a=i(83419),v=i(20286),f=i(87841),h=new a({Extends:v,initialize:function(o,d,p,l,m,y,x,b){m===void 0&&(m=!0),y===void 0&&(y=!0),x===void 0&&(x=!0),b===void 0&&(b=!0),v.call(this,o,d,!0),this.bounds=new f(o,d,p,l),this.collideLeft=m,this.collideRight=y,this.collideTop=x,this.collideBottom=b},update:function(u){var o=this.bounds,d=-u.bounce,p=u.worldPosition;p.x<o.x&&this.collideLeft?(u.x+=o.x-p.x,u.velocityX*=d):p.x>o.right&&this.collideRight&&(u.x-=p.x-o.right,u.velocityX*=d),p.y<o.y&&this.collideTop?(u.y+=o.y-p.y,u.velocityY*=d):p.y>o.bottom&&this.collideBottom&&(u.y-=p.y-o.bottom,u.velocityY*=d)}});s.exports=h},31600:(s,g,i)=>{var a=i(83419),v=i(31401),f=i(53774),h=i(43459),u=i(26388),o=i(19909),d=i(76472),p=i(44777),l=i(20696),m=i(95643),y=i(95540),x=i(26546),b=i(24502),w=i(1985),C=i(97022),E=i(86091),T=i(73162),k=i(20074),P=i(56480),R=i(68875),M=i(87841),I=i(59996),B=i(72905),D=i(90668),N=i(19186),_=i(61340),G=i(26099),$=i(15994),V=i(69601),Y=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],U=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],F=new a({Extends:m,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,D],initialize:function(j,z,W,q,ot){m.call(this,j,"ParticleEmitter"),this.particleClass=P,this.ops={accelerationX:new p("accelerationX",0),accelerationY:new p("accelerationY",0),alpha:new p("alpha",1),angle:new p("angle",{min:0,max:360},!0),bounce:new p("bounce",0),color:new d("color"),delay:new p("delay",0,!0),hold:new p("hold",0,!0),lifespan:new p("lifespan",1e3,!0),maxVelocityX:new p("maxVelocityX",1e4),maxVelocityY:new p("maxVelocityY",1e4),moveToX:new p("moveToX",0),moveToY:new p("moveToY",0),quantity:new p("quantity",1,!0),rotate:new p("rotate",0),scaleX:new p("scaleX",1),scaleY:new p("scaleY",1),speedX:new p("speedX",0,!0),speedY:new p("speedY",0,!0),tint:new p("tint",16777215),x:new p("x",0),y:new p("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new G,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new _,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new T(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(z,W),this.setTexture(q),ot&&this.setConfig(ot)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(O){if(!O)return this;var j=0,z="",W=this.ops;for(j=0;j<U.length;j++)z=U[j],W[z].loadConfig(O);for(j=0;j<Y.length;j++)z=Y[j],C(O,z)&&(this[z]=y(O,z));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,C(O,"speed")&&(W.speedX.loadConfig(O,"speed"),W.speedY.active=!1),(w(O,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),C(O,"scale")&&(W.scaleX.loadConfig(O,"scale"),W.scaleY.active=!1),C(O,"callbackScope")){var q=y(O,"callbackScope",null);this.emitCallbackScope=q,this.deathCallbackScope=q}if(C(O,"emitZone")&&this.addEmitZone(O.emitZone),C(O,"deathZone")&&this.addDeathZone(O.deathZone),C(O,"bounds")){var ot=this.addParticleBounds(O.bounds);ot.collideLeft=y(O,"collideLeft",!0),ot.collideRight=y(O,"collideRight",!0),ot.collideTop=y(O,"collideTop",!0),ot.collideBottom=y(O,"collideBottom",!0)}return C(O,"followOffset")&&this.followOffset.setFromObject(y(O,"followOffset",0)),C(O,"texture")&&this.setTexture(O.texture),C(O,"frame")?this.setEmitterFrame(O.frame):C(O,"anim")&&this.setAnim(O.anim),C(O,"reserve")&&this.reserve(O.reserve),C(O,"advance")&&this.fastForward(O.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(l.START,this),this},toJSON:function(){var O=f(this),j=0,z="";for(j=0;j<Y.length;j++)z=Y[j],O[z]=this[z];var W=this.ops;for(j=0;j<U.length;j++)z=U[j],W[z]&&(O[z]=W[z].toJSON());return W.speedY.active||(delete O.speedX,O.speed=W.speedX.toJSON()),this.scaleX===this.scaleY&&(delete O.scaleX,delete O.scaleY,O.scale=W.scaleX.toJSON()),O},resetCounters:function(O,j){var z=this.counters;z.fill(0),z[0]=O,j&&(z[5]=1)},startFollow:function(O,j,z,W){return j===void 0&&(j=0),z===void 0&&(z=0),W===void 0&&(W=!1),this.follow=O,this.followOffset.set(j,z),this.trackVisible=W,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var O=this.frames,j=O.length,z;return j===1?z=O[0]:this.randomFrame?z=x(O):(z=O[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===j&&(this.currentFrame=0))),this.texture.get(z)},setEmitterFrame:function(O,j,z){j===void 0&&(j=!0),z===void 0&&(z=1),this.randomFrame=j,this.frameQuantity=z,this.currentFrame=0;var W=typeof O;if(this.frames.length=0,Array.isArray(O))this.frames=this.frames.concat(O);else if(W==="string"||W==="number")this.frames.push(O);else if(W==="object"){var q=O;O=y(q,"frames",null),O&&(this.frames=this.frames.concat(O));var ot=y(q,"cycle",!1);this.randomFrame=!ot,this.frameQuantity=y(q,"quantity",z)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var O=this.anims,j=O.length;if(j===0)return null;if(j===1)return O[0];if(this.randomAnim)return x(O);var z=O[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=$(this.currentAnim+1,0,j)),z},setAnim:function(O,j,z){j===void 0&&(j=!0),z===void 0&&(z=1),this.randomAnim=j,this.animQuantity=z,this.currentAnim=0;var W=typeof O;if(this.anims.length=0,Array.isArray(O))this.anims=this.anims.concat(O);else if(W==="string")this.anims.push(O);else if(W==="object"){var q=O;O=y(q,"anims",null),O&&(this.anims=this.anims.concat(O));var ot=y(q,"cycle",!1);this.randomAnim=!ot,this.animQuantity=y(q,"quantity",z)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(O){return O===void 0&&(O=!0),this.radial=O,this},addParticleBounds:function(O,j,z,W,q,ot,Q,rt){if(typeof O=="object"){var Mt=O;O=Mt.x,j=Mt.y,z=C(Mt,"w")?Mt.w:Mt.width,W=C(Mt,"h")?Mt.h:Mt.height}return this.addParticleProcessor(new V(O,j,z,W,q,ot,Q,rt))},setParticleSpeed:function(O,j){return j===void 0&&(j=O),this.ops.speedX.onChange(O),O===j?this.ops.speedY.active=!1:this.ops.speedY.onChange(j),this.radial=!0,this},setParticleScale:function(O,j){return O===void 0&&(O=1),j===void 0&&(j=O),this.ops.scaleX.onChange(O),this.ops.scaleY.onChange(j),this},setParticleGravity:function(O,j){return this.gravityX=O,this.gravityY=j,this},setParticleAlpha:function(O){return this.ops.alpha.onChange(O),this},setParticleTint:function(O){return this.ops.tint.onChange(O),this},setEmitterAngle:function(O){return this.ops.angle.onChange(O),this},setParticleLifespan:function(O){return this.ops.lifespan.onChange(O),this},setQuantity:function(O){return this.quantity=O,this},setFrequency:function(O,j){return this.frequency=O,this.flowCounter=O>0?O:0,j&&(this.quantity=j),this},addDeathZone:function(O){Array.isArray(O)||(O=[O]);for(var j,z=[],W=0;W<O.length;W++)if(j=O[W],j instanceof u)z.push(j);else if(typeof j.contains=="function")j=new u(j,!0),z.push(j);else{var q=y(j,"type","onEnter"),ot=y(j,"source",null);if(ot&&typeof ot.contains=="function"){var Q=q==="onEnter";j=new u(ot,Q),z.push(j)}}return this.deathZones=this.deathZones.concat(z),z},removeDeathZone:function(O){return B(this.deathZones,O),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(O){Array.isArray(O)||(O=[O]);for(var j,z=[],W=0;W<O.length;W++)if(j=O[W],j instanceof R||j instanceof o)z.push(j);else{var q=y(j,"source",null);if(q){var ot=y(j,"type","random");if(ot==="random"&&typeof q.getRandomPoint=="function")j=new R(q),z.push(j);else if(ot==="edge"&&typeof q.getPoints=="function"){var Q=y(j,"quantity",1),rt=y(j,"stepRate",0),Mt=y(j,"yoyo",!1),K=y(j,"seamless",!0),It=y(j,"total",-1);j=new o(q,Q,rt,Mt,K,It),z.push(j)}}}return this.emitZones=this.emitZones.concat(z),z},removeEmitZone:function(O){return B(this.emitZones,O),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(O){var j=this.emitZones,z=j.length;if(z!==0){var W=j[this.zoneIndex];W.getPoint(O),W.total>-1&&(this.zoneTotal++,this.zoneTotal===W.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===z&&(this.zoneIndex=0)))}},getDeathZone:function(O){for(var j=this.deathZones,z=0;z<j.length;z++){var W=j[z];if(W.willKill(O))return this.emit(l.DEATH_ZONE,this,O,W),!0}return!1},setEmitZone:function(O){var j;return isFinite(O)?j=O:j=this.emitZones.indexOf(O),j>=0&&(this.zoneIndex=j),this},addParticleProcessor:function(O){return this.processors.exists(O)||(O.emitter&&O.emitter.removeParticleProcessor(O),this.processors.add(O),O.emitter=this),O},removeParticleProcessor:function(O){return this.processors.exists(O)&&(this.processors.remove(O,!0),O.emitter=null),O},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(O){return this.addParticleProcessor(new b(O))},reserve:function(O){var j=this.dead;if(this.maxParticles>0){var z=this.getParticleCount();z+O>this.maxParticles&&(O=this.maxParticles-(z+O))}for(var W=0;W<O;W++)j.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(O,j){return O===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof O=="function"&&(this.emitCallback=O,j&&(this.emitCallbackScope=j)),this},onParticleDeath:function(O,j){return O===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof O=="function"&&(this.deathCallback=O,j&&(this.deathCallbackScope=j)),this},killAll:function(){for(var O=this.dead,j=this.alive;j.length>0;)O.push(j.pop());return this},forEachAlive:function(O,j){for(var z=this.alive,W=z.length,q=0;q<W;q++)O.call(j,z[q],this);return this},forEachDead:function(O,j){for(var z=this.dead,W=z.length,q=0;q<W;q++)O.call(j,z[q],this);return this},start:function(O,j){return O===void 0&&(O=0),this.emitting||(O>0&&this.fastForward(O),this.emitting=!0,this.resetCounters(this.frequency,!0),j!==void 0&&(this.duration=Math.abs(j)),this.emit(l.START,this)),this},stop:function(O){return O===void 0&&(O=!1),this.emitting&&(this.emitting=!1,O&&this.killAll(),this.emit(l.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(O,j){return O===void 0&&(O=""),j===void 0&&(j=this.true),this.sortProperty=O,this.sortOrderAsc=j,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(O){return this.sortProperty!==""?O=this.depthSortCallback:O=null,this.sortCallback=O,this},depthSort:function(){return N(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(O,j){var z=this.sortProperty;return this.sortOrderAsc?O[z]-j[z]:j[z]-O[z]},flow:function(O,j,z){return j===void 0&&(j=1),this.emitting=!1,this.frequency=O,this.quantity=j,z!==void 0&&(this.stopAfter=z),this.start()},explode:function(O,j,z){this.frequency=-1,this.resetCounters(-1,!0);var W=this.emitParticle(O,j,z);return this.emit(l.EXPLODE,this,W),W},emitParticleAt:function(O,j,z){return this.emitParticle(z,O,j)},emitParticle:function(O,j,z){if(!this.atLimit()){O===void 0&&(O=this.ops.quantity.onEmit());for(var W=this.dead,q=this.stopAfter,ot=this.follow?this.follow.x+this.followOffset.x:j,Q=this.follow?this.follow.y+this.followOffset.y:z,rt=0;rt<O;rt++){var Mt=W.pop();if(Mt||(Mt=new this.particleClass(this)),Mt.fire(ot,Q)?(this.particleBringToTop?this.alive.push(Mt):this.alive.unshift(Mt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Mt,this)):this.dead.push(Mt),q>0&&(this.stopCounter++,this.stopCounter>=q)||this.atLimit())break}return Mt}},fastForward:function(O,j){j===void 0&&(j=1e3/60);var z=0;for(this.skipping=!0;z<Math.abs(O);)this.preUpdate(0,j),z+=j;return this.skipping=!1,this},preUpdate:function(O,j){j*=this.timeScale;var z=j/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var W=this.getProcessors(),q=this.alive,ot=this.dead,Q=0,rt=[],Mt=q.length;for(Q=0;Q<Mt;Q++){var K=q[Q];K.update(j,z,W)&&rt.push({index:Q,particle:K})}if(Mt=rt.length,Mt>0){var It=this.deathCallback,Ft=this.deathCallbackScope;for(Q=Mt-1;Q>=0;Q--){var ft=rt[Q];q.splice(ft.index,1),ot.push(ft.particle),It&&It.call(Ft,ft.particle),ft.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&q.length===0&&(this.completeFlag=0,this.emit(l.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=j;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=j,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(O){for(var j=this.getWorldTransformMatrix(),z=this.alive,W=z.length,q=[],ot=0;ot<W;ot++){var Q=z[ot];I(O,Q.getBounds(j))&&q.push(Q)}return q},getBounds:function(O,j,z,W){O===void 0&&(O=0),j===void 0&&(j=0),z===void 0&&(z=1e3/60),W===void 0&&(W=new M);var q=this.getWorldTransformMatrix(),ot,Q,rt=this.alive,Mt=!1;if(W.setTo(0,0,0,0),j>0){var K=0;for(this.skipping=!0;K<Math.abs(j);){for(this.preUpdate(0,z),ot=0;ot<rt.length;ot++)Q=rt[ot].getBounds(q),Mt?k(W,Q):(Mt=!0,h(Q,W));K+=z}this.skipping=!1}else for(ot=0;ot<rt.length;ot++)Q=rt[ot].getBounds(q),Mt?k(W,Q):(Mt=!0,h(Q,W));return O>0&&E(W,O,O),W},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(O){this.ops.x.onChange(O)}},particleY:{get:function(){return this.ops.y.current},set:function(O){this.ops.y.onChange(O)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(O){this.ops.accelerationX.onChange(O)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(O){this.ops.accelerationY.onChange(O)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(O){this.ops.maxVelocityX.onChange(O)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(O){this.ops.maxVelocityY.onChange(O)}},speed:{get:function(){return this.ops.speedX.current},set:function(O){this.ops.speedX.onChange(O),this.ops.speedY.onChange(O)}},speedX:{get:function(){return this.ops.speedX.current},set:function(O){this.ops.speedX.onChange(O)}},speedY:{get:function(){return this.ops.speedY.current},set:function(O){this.ops.speedY.onChange(O)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(O){this.ops.moveToX.onChange(O)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(O){this.ops.moveToY.onChange(O)}},bounce:{get:function(){return this.ops.bounce.current},set:function(O){this.ops.bounce.onChange(O)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(O){this.ops.scaleX.onChange(O)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(O){this.ops.scaleY.onChange(O)}},particleColor:{get:function(){return this.ops.color.current},set:function(O){this.ops.color.onChange(O)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(O){this.ops.color.setEase(O)}},particleTint:{get:function(){return this.ops.tint.current},set:function(O){this.ops.tint.onChange(O)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(O){this.ops.alpha.onChange(O)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(O){this.ops.lifespan.onChange(O)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(O){this.ops.angle.onChange(O)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(O){this.ops.rotate.onChange(O)}},quantity:{get:function(){return this.ops.quantity.current},set:function(O){this.ops.quantity.onChange(O)}},delay:{get:function(){return this.ops.delay.current},set:function(O){this.ops.delay.onChange(O)}},hold:{get:function(){return this.ops.hold.current},set:function(O){this.ops.hold.onChange(O)}},flowCounter:{get:function(){return this.counters[0]},set:function(O){this.counters[0]=O}},frameCounter:{get:function(){return this.counters[1]},set:function(O){this.counters[1]=O}},animCounter:{get:function(){return this.counters[2]},set:function(O){this.counters[2]=O}},elapsed:{get:function(){return this.counters[3]},set:function(O){this.counters[3]=O}},stopCounter:{get:function(){return this.counters[4]},set:function(O){this.counters[4]=O}},completeFlag:{get:function(){return this.counters[5]},set:function(O){this.counters[5]=O}},zoneIndex:{get:function(){return this.counters[6]},set:function(O){this.counters[6]=O}},zoneTotal:{get:function(){return this.counters[7]},set:function(O){this.counters[7]=O}},currentFrame:{get:function(){return this.counters[8]},set:function(O){this.counters[8]=O}},currentAnim:{get:function(){return this.counters[9]},set:function(O){this.counters[9]=O}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var O,j=this.ops;for(O=0;O<U.length;O++){var z=U[O];j[z].destroy()}for(O=0;O<this.alive.length;O++)this.alive[O].destroy();for(O=0;O<this.dead.length;O++)this.dead[O].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});s.exports=F},9871:(s,g,i)=>{var a=i(59996),v=i(61340),f=new v,h=new v,u=new v,o=new v,d=function(p,l,m,y){var x=f,b=h,w=u,C=o;y?(C.loadIdentity(),C.multiply(y),C.translate(l.x,l.y),C.rotate(l.rotation),C.scale(l.scaleX,l.scaleY)):C.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var E=p.currentContext,T=m.roundPixels,k=m.alpha,P=l.alpha,R=l.alive,M=R.length,I=l.viewBounds;if(!(!l.visible||M===0||I&&!a(I,m.worldView))){l.sortCallback&&l.depthSort(),m.addToRenderList(l);var B=l.scrollFactorX,D=l.scrollFactorY;E.save(),E.globalCompositeOperation=p.blendModes[l.blendMode];for(var N=0;N<M;N++){var _=R[N],G=_.alpha*P*k;if(!(G<=0||_.scaleX===0||_.scaleY===0)){w.applyITRS(_.x,_.y,_.rotation,_.scaleX,_.scaleY),x.copyFrom(m.matrix),x.multiplyWithOffset(C,-m.scrollX*B,-m.scrollY*D),w.e=_.x,w.f=_.y,x.multiply(w,b);var $=_.frame,V=$.canvasData;if(V.width>0&&V.height>0){var Y=-$.halfWidth,U=-$.halfHeight;E.globalAlpha=G,E.save(),b.setToContext(E),T&&(Y=Math.round(Y),U=Math.round(U)),E.imageSmoothingEnabled=!$.source.scaleMode,E.drawImage($.source.image,V.x,V.y,V.width,V.height,Y,U,V.width,V.height),E.restore()}}}E.restore()}};s.exports=d},92730:(s,g,i)=>{var a=i(25305),v=i(44603),f=i(23568),h=i(95540),u=i(31600);v.register("particles",function(o,d){o===void 0&&(o={});var p=f(o,"key",null),l=h(o,"config",null),m=new u(this.scene,0,0,p);return d!==void 0&&(o.add=d),a(this.scene,m,o),l&&m.setConfig(l),m})},676:(s,g,i)=>{var a=i(39429),v=i(31600);a.register("particles",function(f,h,u,o){return f!==void 0&&typeof f=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new v(this.scene,f,h,u,o))})},90668:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(21188),f=i(9871),s.exports={renderWebGL:v,renderCanvas:f}},21188:(s,g,i)=>{var a=i(59996),v=i(61340),f=i(70554),h=new v,u=new v,o=new v,d=new v,p=function(l,m,y,x){var b=l.pipelines.set(m.pipeline),w=h,C=u,E=o,T=d;x?(T.loadIdentity(),T.multiply(x),T.translate(m.x,m.y),T.rotate(m.rotation),T.scale(m.scaleX,m.scaleY)):T.applyITRS(m.x,m.y,m.rotation,m.scaleX,m.scaleY);var k=f.getTintAppendFloatAlpha,P=y.alpha,R=m.alpha;l.pipelines.preBatch(m);var M=m.alive,I=M.length,B=m.viewBounds;if(!(I===0||B&&!a(B,y.worldView))){m.sortCallback&&m.depthSort(),y.addToRenderList(m),w.copyFrom(y.matrix),w.multiplyWithOffset(T,-y.scrollX*m.scrollFactorX,-y.scrollY*m.scrollFactorY),l.setBlendMode(m.blendMode),m.mask&&(m.mask.preRenderWebGL(l,m,y),l.pipelines.set(m.pipeline));for(var D=m.tintFill,N,_,G=0;G<I;G++){var $=M[G],V=$.alpha*R*P;if(!(V<=0||$.scaleX===0||$.scaleY===0)){E.applyITRS($.x,$.y,$.rotation,$.scaleX,$.scaleY),E.e=$.x,E.f=$.y,w.multiply(E,C);var Y=$.frame;Y.glTexture!==_&&(_=Y.glTexture,N=b.setGameObject(m,Y));var U=-Y.halfWidth,F=-Y.halfHeight,O=C.setQuad(U,F,U+Y.width,F+Y.height),j=k($.tint,V);b.shouldFlush(6)&&(b.flush(),N=b.setGameObject(m,Y)),b.batchQuad(m,O[0],O[1],O[2],O[3],O[4],O[5],O[6],O[7],Y.u0,Y.v0,Y.u1,Y.v1,j,j,j,j,D,_,N)}}m.mask&&m.mask.postRenderWebGL(l,y),l.pipelines.postBatch(m)}};s.exports=p},20286:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u,o){h===void 0&&(h=0),u===void 0&&(u=0),o===void 0&&(o=!0),this.emitter,this.x=h,this.y=u,this.active=o},update:function(){},destroy:function(){this.emitter=null}});s.exports=v},9774:s=>{s.exports="complete"},812:s=>{s.exports="deathzone"},30522:s=>{s.exports="explode"},96695:s=>{s.exports="start"},18677:s=>{s.exports="stop"},20696:(s,g,i)=>{s.exports={COMPLETE:i(9774),DEATH_ZONE:i(812),EXPLODE:i(30522),START:i(96695),STOP:i(18677)}},18404:(s,g,i)=>{s.exports={EmitterColorOp:i(76472),EmitterOp:i(44777),Events:i(20696),GravityWell:i(24502),Particle:i(56480),ParticleBounds:i(69601),ParticleEmitter:i(31600),ParticleProcessor:i(20286),Zones:i(21024)}},26388:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u){this.source=h,this.killOnEnter=u},willKill:function(f){var h=f.worldPosition,u=this.source.contains(h.x,h.y);return u&&this.killOnEnter||!u&&!this.killOnEnter}});s.exports=v},19909:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u,o,d,p,l){d===void 0&&(d=!1),p===void 0&&(p=!0),l===void 0&&(l=-1),this.source=h,this.points=[],this.quantity=u,this.stepRate=o,this.yoyo=d,this.counter=-1,this.seamless=p,this._length=0,this._direction=0,this.total=l,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var f=this.points[0],h=this.points[this.points.length-1];f.x===h.x&&f.y===h.y&&this.points.pop()}var u=this._length;return this._length=this.points.length,this._length<u&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(f){return this.source=f,this.updateSource()},getPoint:function(f){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var h=this.points[this.counter];h&&(f.x=h.x,f.y=h.y)}});s.exports=v},68875:(s,g,i)=>{var a=i(83419),v=i(26099),f=new a({initialize:function(u){this.source=u,this._tempVec=new v,this.total=-1},getPoint:function(h){var u=this._tempVec;this.source.getRandomPoint(u),h.x=u.x,h.y=u.y}});s.exports=f},21024:(s,g,i)=>{s.exports={DeathZone:i(26388),EdgeZone:i(19909),RandomZone:i(68875)}},1159:(s,g,i)=>{var a=i(83419),v=i(31401),f=i(68287),h=new a({Extends:f,Mixins:[v.PathFollower],initialize:function(o,d,p,l,m,y){f.call(this,o,p,l,m,y),this.path=d},preUpdate:function(u,o){this.anims.update(u,o),this.pathUpdate(u)}});s.exports=h},90145:(s,g,i)=>{var a=i(39429),v=i(1159);a.register("follower",function(f,h,u,o,d){var p=new v(this.scene,f,h,u,o,d);return this.displayList.add(p),this.updateList.add(p),p})},33663:(s,g,i)=>{var a=i(9674),v=i(83419),f=i(48803),h=i(90664),u=i(4703),o=i(45650),d=new v({Extends:u,initialize:function(l,m,y,x,b,w,C,E){x||(x="__DEFAULT"),u.call(this,l,m,y,x,b),this.type="Plane",this.anims=new a(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(w,C,E),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(p,l,m){p===void 0&&(p=8),l===void 0&&(l=8),m===void 0&&(m=!1);var y=!1;return m&&(y=!0),this.gridWidth=p,this.gridHeight=l,this.isTiled=m,this.clear(),f({mesh:this,widthSegments:p,heightSegments:l,isOrtho:!1,tile:m,flipY:y}),this},setSizeToFrame:function(p){p===void 0&&(p=!0);var l=this.frame;if(this.setPerspective(this.width/l.width,this.height/l.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!p)return this;var m=this.gridWidth,y=this.gridHeight,x=this.vertices,b=l.u0,w=l.u1,C=l.v0,E=l.v1,T,k,P=0;if(this.isTiled)for(C=l.v1,E=l.v0,k=0;k<y;k++)for(T=0;T<m;T++)x[P++].setUVs(b,E),x[P++].setUVs(b,C),x[P++].setUVs(w,E),x[P++].setUVs(b,C),x[P++].setUVs(w,C),x[P++].setUVs(w,E);else{var R=m+1,M=y+1,I=w-b,B=E-C,D=[];for(k=0;k<M;k++)for(T=0;T<R;T++){var N=b+I*(T/m),_=C+B*(k/y);D.push(N,_)}for(k=0;k<y;k++)for(T=0;T<m;T++){var G=(T+R*k)*2,$=(T+R*(k+1))*2,V=(T+1+R*(k+1))*2,Y=(T+1+R*k)*2;x[P++].setUVs(D[G],D[G+1]),x[P++].setUVs(D[$],D[$+1]),x[P++].setUVs(D[Y],D[Y+1]),x[P++].setUVs(D[$],D[$+1]),x[P++].setUVs(D[V],D[V+1]),x[P++].setUVs(D[Y],D[Y+1])}}return this},setViewHeight:function(p){p===void 0&&(p=this.frame.height);var l=this.fov*(Math.PI/180);this.viewPosition.z=this.height/p/Math.tan(l/2),this.dirtyCache[10]=1},createCheckerboard:function(p,l,m,y,x){p===void 0&&(p=16777215),l===void 0&&(l=255),m===void 0&&(m=255),y===void 0&&(y=255),x===void 0&&(x=128);for(var b=h(p),w=h(l),C=[],E=0;E<16;E++)for(var T=0;T<16;T++)E<8&&T<8||E>7&&T>7?C.push(b.r,b.g,b.b,m):C.push(w.r,w.g,w.b,y);var k=this.scene.sys.textures.addUint8Array(o(),new Uint8Array(C),16,16);return this.removeCheckerboard(),this.setTexture(k),this.setSizeToFrame(),this.setViewHeight(x),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(p,l){return this.anims.play(p,l)},playReverse:function(p,l){return this.anims.playReverse(p,l)},playAfterDelay:function(p,l){return this.anims.playAfterDelay(p,l)},playAfterRepeat:function(p,l){return this.anims.playAfterRepeat(p,l)},stop:function(){return this.anims.stop()},stopAfterDelay:function(p){return this.anims.stopAfterDelay(p)},stopAfterRepeat:function(p){return this.anims.stopAfterRepeat(p)},stopOnFrame:function(p){return this.anims.stopOnFrame(p)},preUpdate:function(p,l){u.prototype.preUpdate.call(this,p,l),this.anims.update(p,l)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});s.exports=d},56015:(s,g,i)=>{var a=i(25305),v=i(13059),f=i(44603),h=i(23568),u=i(35154),o=i(33663);f.register("plane",function(d,p){d===void 0&&(d={});var l=h(d,"key",null),m=h(d,"frame",null),y=u(d,"width",8),x=u(d,"height",8),b=u(d,"tile",!1),w=new o(this.scene,0,0,l,m,y,x,b);p!==void 0&&(d.add=p);var C=u(d,"checkerboard",null);if(C){var E=u(C,"color1",16777215),T=u(C,"color2",255),k=u(C,"alpha1",255),P=u(C,"alpha2",255),R=u(C,"height",128);w.createCheckerboard(E,T,k,P,R)}return a(this.scene,w,d),v(w,d),w})},30985:(s,g,i)=>{var a=i(33663),v=i(39429);v.register("plane",function(f,h,u,o,d,p,l){return this.displayList.add(new a(this.scene,f,h,u,o,d,p,l))})},80321:(s,g,i)=>{var a=i(83419),v=i(31401),f=i(95643),h=i(30100),u=i(36060),o=i(67277),d=new a({Extends:f,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible,o],initialize:function(l,m,y,x,b,w,C){x===void 0&&(x=16777215),b===void 0&&(b=128),w===void 0&&(w=1),C===void 0&&(C=.1),f.call(this,l,"PointLight"),this.initPipeline(u.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(m,y),this.color=h(x),this.intensity=w,this.attenuation=C,this.width=b*2,this.height=b*2,this._radius=b},radius:{get:function(){return this._radius},set:function(p){this._radius=p,this.width=p*2,this.height=p*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});s.exports=d},39829:(s,g,i)=>{var a=i(25305),v=i(44603),f=i(23568),h=i(80321);v.register("pointlight",function(u,o){u===void 0&&(u={});var d=f(u,"color",16777215),p=f(u,"radius",128),l=f(u,"intensity",1),m=f(u,"attenuation",.1),y=new h(this.scene,0,0,d,p,l,m);return o!==void 0&&(u.add=o),a(this.scene,y,u),y})},71255:(s,g,i)=>{var a=i(39429),v=i(80321);a.register("pointlight",function(f,h,u,o,d,p){return this.displayList.add(new v(this.scene,f,h,u,o,d,p))})},67277:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(57787),s.exports={renderWebGL:v,renderCanvas:f}},57787:(s,g,i)=>{var a=i(91296),v=function(f,h,u,o){u.addToRenderList(h);var d=f.pipelines.set(h.pipeline),p=a(h,u,o).calc,l=h.width,m=h.height,y=-h._radius,x=-h._radius,b=y+l,w=x+m,C=p.getX(0,0),E=p.getY(0,0),T=p.getX(y,x),k=p.getY(y,x),P=p.getX(y,w),R=p.getY(y,w),M=p.getX(b,w),I=p.getY(b,w),B=p.getX(b,x),D=p.getY(b,x);f.pipelines.preBatch(h),d.batchPointLight(h,u,T,k,P,R,M,I,B,D,C,E),f.pipelines.postBatch(h)};s.exports=v},591:(s,g,i)=>{var a=i(83419),v=i(81320),f=i(88571),h=new a({Extends:f,initialize:function(o,d,p,l,m){d===void 0&&(d=0),p===void 0&&(p=0),l===void 0&&(l=32),m===void 0&&(m=32);var y=new v(o.sys.textures,"",l,m);f.call(this,o,d,p,y),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(u,o){this.width=u,this.height=o,this.texture.setSize(u,o),this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=u,d.hitArea.height=o),this},resize:function(u,o){return this.setSize(u,o),this},saveTexture:function(u){var o=this.texture;return o.key=u,o.manager.addDynamicTexture(o)&&(this._saved=!0),o},fill:function(u,o,d,p,l,m){return this.texture.fill(u,o,d,p,l,m),this},clear:function(){return this.texture.clear(),this},stamp:function(u,o,d,p,l){return this.texture.stamp(u,o,d,p,l),this},erase:function(u,o,d){return this.texture.erase(u,o,d),this},draw:function(u,o,d,p,l){return this.texture.draw(u,o,d,p,l),this},drawFrame:function(u,o,d,p,l,m){return this.texture.drawFrame(u,o,d,p,l,m),this},repeat:function(u,o,d,p,l,m,y,x,b){return this.texture.repeat(u,o,d,p,l,m,y,x,b),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(u,o,d,p,l){return this.texture.batchDraw(u,o,d,p,l),this},batchDrawFrame:function(u,o,d,p,l,m){return this.texture.batchDrawFrame(u,o,d,p,l,m),this},endDraw:function(u){return this.texture.endDraw(u),this},snapshotArea:function(u,o,d,p,l,m,y){return this.texture.snapshotArea(u,o,d,p,l,m,y),this},snapshot:function(u,o,d){return this.snapshotArea(0,0,this.width,this.height,u,o,d)},snapshotPixel:function(u,o,d){return this.snapshotArea(u,o,1,1,d,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});s.exports=h},34495:(s,g,i)=>{var a=i(25305),v=i(44603),f=i(23568),h=i(591);v.register("renderTexture",function(u,o){u===void 0&&(u={});var d=f(u,"x",0),p=f(u,"y",0),l=f(u,"width",32),m=f(u,"height",32),y=new h(this.scene,d,p,l,m);return o!==void 0&&(u.add=o),a(this.scene,y,u),y})},60505:(s,g,i)=>{var a=i(39429),v=i(591);a.register("renderTexture",function(f,h,u,o){return this.displayList.add(new v(this.scene,f,h,u,o))})},77757:(s,g,i)=>{var a=i(9674),v=i(83419),f=i(31401),h=i(95643),u=i(36060),o=i(38745),d=i(26099),p=new v({Extends:h,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Flip,f.Mask,f.Pipeline,f.PostPipeline,f.Size,f.Texture,f.Transform,f.Visible,f.ScrollFactor,o],initialize:function(m,y,x,b,w,C,E,T,k){b===void 0&&(b="__DEFAULT"),C===void 0&&(C=2),E===void 0&&(E=!0),h.call(this,m,"Rope"),this.anims=new a(this),this.points=C,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=b==="__DEFAULT",this.dirty=!1,this.horizontal=E,this._flipX=!1,this._flipY=!1,this._perp=new d,this.debugCallback=null,this.debugGraphic=null,this.setTexture(b,w),this.setPosition(y,x),this.setSizeToFrame(),this.initPipeline(u.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(C)&&this.resizeArrays(C.length),this.setPoints(C,T,k),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(l,m){var y=this.anims.currentFrame;this.anims.update(l,m),this.anims.currentFrame!==y&&(this.updateUVs(),this.updateVertices())},play:function(l,m,y){return this.anims.play(l,m,y),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(l,m,y){return l===void 0&&(l=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(l,m,y))},setVertical:function(l,m,y){return l===void 0&&(l=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(l,m,y)):this},setTintFill:function(l){return l===void 0&&(l=!1),this.tintFill=l,this},setAlphas:function(l,m){var y=this.points.length;if(y<1)return this;var x=this.alphas;l===void 0?l=[1]:!Array.isArray(l)&&m===void 0&&(l=[l]);var b,w=0;if(m!==void 0)for(b=0;b<y;b++)w=b*2,x[w]=l,x[w+1]=m;else if(l.length===y)for(b=0;b<y;b++)w=b*2,x[w]=l[b],x[w+1]=l[b];else{var C=l[0];for(b=0;b<y;b++)w=b*2,l.length>w&&(C=l[w]),x[w]=C,l.length>w+1&&(C=l[w+1]),x[w+1]=C}return this},setColors:function(l){var m=this.points.length;if(m<1)return this;var y=this.colors;l===void 0?l=[16777215]:Array.isArray(l)||(l=[l]);var x,b=0;if(l.length===m)for(x=0;x<m;x++)b=x*2,y[b]=l[x],y[b+1]=l[x];else{var w=l[0];for(x=0;x<m;x++)b=x*2,l.length>b&&(w=l[b]),y[b]=w,l.length>b+1&&(w=l[b+1]),y[b+1]=w}return this},setPoints:function(l,m,y){if(l===void 0&&(l=2),typeof l=="number"){var x=l;x<2&&(x=2),l=[];var b,w,C;if(this.horizontal)for(C=-this.frame.halfWidth,w=this.frame.width/(x-1),b=0;b<x;b++)l.push({x:C+b*w,y:0});else for(C=-this.frame.halfHeight,w=this.frame.height/(x-1),b=0;b<x;b++)l.push({x:0,y:C+b*w})}var E=l.length,T=this.points.length;return E<1?(console.warn("Rope: Not enough points given"),this):(E===1&&(l.unshift({x:0,y:0}),E++),T!==E&&this.resizeArrays(E),this.dirty=!0,this.points=l,this.updateUVs(),m!=null&&this.setColors(m),y!=null&&this.setAlphas(y),this)},updateUVs:function(){for(var l=this.uv,m=this.points.length,y=this.frame.u0,x=this.frame.v0,b=this.frame.u1,w=this.frame.v1,C=(b-y)/(m-1),E=(w-x)/(m-1),T=0;T<m;T++){var k=T*4,P,R,M,I;this.horizontal?(this._flipX?(P=b-T*C,M=b-T*C):(P=y+T*C,M=y+T*C),this._flipY?(R=w,I=x):(R=x,I=w)):(this._flipX?(P=y,M=b):(P=b,M=y),this._flipY?(R=w-T*E,I=w-T*E):(R=x+T*E,I=x+T*E)),l[k+0]=P,l[k+1]=R,l[k+2]=M,l[k+3]=I}return this},resizeArrays:function(l){var m=this.colors,y=this.alphas;this.vertices=new Float32Array(l*4),this.uv=new Float32Array(l*4),m=new Uint32Array(l*2),y=new Float32Array(l*2);for(var x=0;x<l*2;x++)m[x]=16777215,y[x]=1;return this.colors=m,this.alphas=y,this.dirty=!0,this},updateVertices:function(){var l=this._perp,m=this.points,y=this.vertices,x=m.length;if(this.dirty=!1,!(x<1)){for(var b,w=m[0],C=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,E=0;E<x;E++){var T=m[E],k=E*4;E<x-1?b=m[E+1]:b=T,l.x=b.y-w.y,l.y=-(b.x-w.x);var P=l.length();l.x/=P,l.y/=P,l.x*=C,l.y*=C,y[k]=T.x+l.x,y[k+1]=T.y+l.y,y[k+2]=T.x-l.x,y[k+3]=T.y-l.y,w=T}return this}},setDebug:function(l,m){return this.debugGraphic=l,!l&&!m?this.debugCallback=null:m?this.debugCallback=m:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(l,m,y){var x=l.debugGraphic,b=y[0],w=y[1],C=y[2],E=y[3];x.lineBetween(b,w,C,E);for(var T=4;T<m;T+=4){var k=y[T+0],P=y[T+1],R=y[T+2],M=y[T+3];x.lineBetween(b,w,k,P),x.lineBetween(C,E,R,M),x.lineBetween(C,E,k,P),x.lineBetween(k,P,R,M),b=k,w=P,C=R,E=M}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(l){return this._flipX=l,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(l){return this._flipY=l,this.updateUVs()}}});s.exports=p},95262:s=>{var g=function(){};s.exports=g},26209:(s,g,i)=>{var a=i(25305),v=i(44603),f=i(23568),h=i(35154),u=i(77757);v.register("rope",function(o,d){o===void 0&&(o={});var p=f(o,"key",null),l=f(o,"frame",null),m=f(o,"horizontal",!0),y=h(o,"points",void 0),x=h(o,"colors",void 0),b=h(o,"alphas",void 0),w=new u(this.scene,0,0,p,l,y,m,x,b);return d!==void 0&&(o.add=d),a(this.scene,w,o),w})},96819:(s,g,i)=>{var a=i(77757),v=i(39429);v.register("rope",function(f,h,u,o,d,p,l,m){return this.displayList.add(new a(this.scene,f,h,u,o,d,p,l,m))})},38745:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(20439),f=i(95262),s.exports={renderWebGL:v,renderCanvas:f}},20439:(s,g,i)=>{var a=i(91296),v=i(70554),f=function(h,u,o,d){o.addToRenderList(u);var p=h.pipelines.set(u.pipeline,u),l=a(u,o,d).calc,m=u.vertices,y=u.uv,x=u.colors,b=u.alphas,w=u.alpha,C=v.getTintAppendFloatAlpha,E=o.roundPixels,T=m.length,k=Math.floor(T*.5);p.flush(),h.pipelines.preBatch(u);var P=p.setGameObject(u),R=p.vertexViewF32,M=p.vertexViewU32,I=p.vertexCount*p.currentShader.vertexComponentCount-1,B=0,D=u.tintFill;u.dirty&&u.updateVertices();for(var N=u.debugCallback,_=[],G=0;G<T;G+=2){var $=m[G+0],V=m[G+1],Y=$*l.a+V*l.c+l.e,U=$*l.b+V*l.d+l.f;E&&(Y=Math.round(Y),U=Math.round(U)),R[++I]=Y,R[++I]=U,R[++I]=y[G+0],R[++I]=y[G+1],R[++I]=P,R[++I]=D,M[++I]=C(x[B],o.alpha*(b[B]*w)),B++,N&&(_[G+0]=Y,_[G+1]=U)}N&&N.call(u,u,T,_),p.vertexCount+=k,p.currentBatch.count=p.vertexCount-p.currentBatch.start,h.pipelines.postBatch(u)};s.exports=f},20071:(s,g,i)=>{var a=i(83419),v=i(31401),f=i(95643),h=i(95540),u=i(79291),o=i(61622),d=i(25479),p=i(61340),l=i(95428),m=i(92503),y=new a({Extends:f,Mixins:[v.ComputedSize,v.Depth,v.GetBounds,v.Mask,v.Origin,v.ScrollFactor,v.Transform,v.Visible,d],initialize:function(b,w,C,E,T,k,P,R){C===void 0&&(C=0),E===void 0&&(E=0),T===void 0&&(T=128),k===void 0&&(k=128),f.call(this,b,"Shader"),this.blendMode=-1,this.shader;var M=b.sys.renderer;this.renderer=M,this.gl=M.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=M.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=M.width,this._rendererHeight=M.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(C,E),this.setSize(T,k),this.setOrigin(.5,.5),this.setShader(w,P,R),this.renderer.on(m.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(x){return this.renderToTexture?!0:!(f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&x.id)},setRenderToTexture:function(x,b){if(!this.renderToTexture){var w=this.width,C=this.height,E=this.renderer;this.glTexture=E.createTextureFromSource(null,w,C,0),this.framebuffer=E.createFramebuffer(w,C,this.glTexture,!1),this._rendererWidth=w,this._rendererHeight=C,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),x&&(this.texture=this.scene.sys.textures.addGLTexture(x,this.glTexture))}return this.shader&&(E.pipelines.clear(),this.load(),this.flush(),E.pipelines.rebind()),this},setShader:function(x,b,w){if(this.renderer.contextLost)return this._deferSetShader={key:x,textures:b,textureData:w},this;if(b===void 0&&(b=[]),typeof x=="string"){var C=this.scene.sys.cache.shader;if(!C.has(x))return console.warn("Shader missing: "+x),this;this.shader=C.get(x)}else this.shader=x;var E=this.gl,T=this.renderer;this.program&&T.deleteProgram(this.program);var k=T.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);E.uniformMatrix4fv(E.getUniformLocation(k.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),E.uniformMatrix4fv(E.getUniformLocation(k.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),E.uniform2f(E.getUniformLocation(k.webGLProgram,"uResolution"),this.width,this.height),this.program=k;var P=new Date,R={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[P.getFullYear(),P.getMonth(),P.getDate(),P.getHours()*60*60+P.getMinutes()*60+P.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=u(!0,{},this.shader.uniforms,R):this.uniforms=R;for(var M=0;M<4;M++)b[M]&&this.setSampler2D("iChannel"+M,b[M],M,w);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(x){return this.pointer=x,this},projOrtho:function(x,b,w,C){if(this.renderer.contextLost){this._deferProjOrtho={left:x,right:b,bottom:w,top:C};return}var E=-1e3,T=1e3,k=1/(x-b),P=1/(w-C),R=1/(E-T),M=this.projectionMatrix;M[0]=-2*k,M[5]=-2*P,M[10]=2*R,M[12]=(x+b)*k,M[13]=(C+w)*P,M[14]=(T+E)*R;var I=this.program,B=this.gl,D=this.renderer;D.setProgram(I),B.uniformMatrix4fv(B.getUniformLocation(I.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=b,this._rendererHeight=w},initUniforms:function(){var x=this.renderer.glFuncMap,b=this.program;this._textureCount=0;for(var w in this.uniforms){var C=this.uniforms[w],E=C.type,T=x[E];C.uniformLocation=this.renderer.createUniformLocation(b,w),E!=="sampler2D"&&(C.glMatrix=T.matrix,C.glValueLength=T.length,C.glFunc=T.func)}},setSampler2DBuffer:function(x,b,w,C,E,T){E===void 0&&(E=0),T===void 0&&(T={});var k=this.uniforms[x];return k.value=b,T.width=w,T.height=C,k.textureData=T,this._textureCount=E,this.initSampler2D(k),this},setSampler2D:function(x,b,w,C){w===void 0&&(w=0);var E=this.scene.sys.textures;if(E.exists(b)){var T=E.getFrame(b);if(T.glTexture&&T.glTexture.isRenderTexture)return this.setSampler2DBuffer(x,T.glTexture,T.width,T.height,w,C);var k=this.uniforms[x],P=T.source;k.textureKey=b,k.source=P.image,k.value=T.glTexture,P.isGLTexture&&(C||(C={}),C.width=P.width,C.height=P.height),C&&(k.textureData=C),this._textureCount=w,this.initSampler2D(k)}return this},setUniform:function(x,b){return o(this.uniforms,x,b),this},getUniform:function(x){return h(this.uniforms,x,null)},setChannel0:function(x,b){return this.setSampler2D("iChannel0",x,0,b)},setChannel1:function(x,b){return this.setSampler2D("iChannel1",x,1,b)},setChannel2:function(x,b){return this.setSampler2D("iChannel2",x,2,b)},setChannel3:function(x,b){return this.setSampler2D("iChannel3",x,3,b)},initSampler2D:function(x){if(x.value){var b=x.textureData;if(b&&!x.value.isRenderTexture){var w=this.gl,C=x.value,E=w[h(b,"magFilter","linear").toUpperCase()],T=w[h(b,"minFilter","linear").toUpperCase()],k=w[h(b,"wrapS","repeat").toUpperCase()],P=w[h(b,"wrapT","repeat").toUpperCase()],R=w[h(b,"format","rgba").toUpperCase()],M=h(b,"flipY",!1),I=h(b,"width",C.width),B=h(b,"height",C.height),D=h(b,"source",C.pixels);b.repeat&&(k=w.REPEAT,P=w.REPEAT),b.width&&(D=null),C.update(D,I,B,M,k,P,T,E,R)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var x=this.gl,b=this.uniforms,w,C,E,T,k,P=0;for(var R in b)w=b[R],E=w.glFunc,C=w.glValueLength,T=w.uniformLocation,k=w.value,k!==null&&(C===1?w.glMatrix?E.call(x,T.webGLUniformLocation,w.transpose,k):E.call(x,T.webGLUniformLocation,k):C===2?E.call(x,T.webGLUniformLocation,k.x,k.y):C===3?E.call(x,T.webGLUniformLocation,k.x,k.y,k.z):C===4?E.call(x,T.webGLUniformLocation,k.x,k.y,k.z,k.w):w.type==="sampler2D"&&(x.activeTexture(x.TEXTURE0+P),x.bindTexture(x.TEXTURE_2D,k.webGLTexture),x.uniform1i(T.webGLUniformLocation,P),P++))},load:function(x){var b=this.gl,w=this.width,C=this.height,E=this.renderer,T=this.program,k=this.viewMatrix;if(!this.renderToTexture){var P=-this._displayOriginX,R=-this._displayOriginY;k[0]=x[0],k[1]=x[1],k[4]=x[2],k[5]=x[3],k[8]=x[4],k[9]=x[5],k[12]=k[0]*P+k[4]*R,k[13]=k[1]*P+k[5]*R}b.useProgram(T.webGLProgram),b.uniformMatrix4fv(b.getUniformLocation(T.webGLProgram,"uViewMatrix"),!1,k),b.uniformMatrix4fv(b.getUniformLocation(T.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),b.uniform2f(b.getUniformLocation(T.webGLProgram,"uResolution"),this.width,this.height);var M=this.uniforms,I=M.resolution;I.value.x=w,I.value.y=C,M.time.value=E.game.loop.getDuration();var B=this.pointer;if(B){var D=M.mouse,N=B.x/w,_=1-B.y/C;D.value.x=N.toFixed(2),D.value.y=_.toFixed(2)}this.syncUniforms()},flush:function(){var x=this.width,b=this.height,w=this.program,C=this.gl,E=this.vertexBuffer,T=this.renderer,k=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(T.setFramebuffer(this.framebuffer),C.clearColor(0,0,0,0),C.clear(C.COLOR_BUFFER_BIT)),C.bindBuffer(C.ARRAY_BUFFER,E.webGLBuffer);var P=C.getAttribLocation(w.webGLProgram,"inPosition");P!==-1&&(C.enableVertexAttribArray(P),C.vertexAttribPointer(P,2,C.FLOAT,!1,k,0));var R=this.vertexViewF32;R[3]=b,R[4]=x,R[5]=b,R[8]=x,R[9]=b,R[10]=x;var M=6;C.bufferSubData(C.ARRAY_BUFFER,0,this.bytes.subarray(0,M*k)),C.drawArrays(C.TRIANGLES,0,M),this.renderToTexture&&T.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var x=this._deferSetShader.key,b=this._deferSetShader.textures,w=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(x,b,w)}if(this._deferProjOrtho!==null){var C=this._deferProjOrtho.left,E=this._deferProjOrtho.right,T=this._deferProjOrtho.bottom,k=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(C,E,T,k)}},preDestroy:function(){var x=this.renderer;x.off(m.RESTORE_WEBGL,this.onContextRestored,this),x.deleteProgram(this.program),x.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(x.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),l(this.uniforms,function(b){x.deleteUniformLocation(b.uniformLocation),b.uniformLocation=null})}});s.exports=y},80464:s=>{var g=function(){};s.exports=g},54935:(s,g,i)=>{var a=i(25305),v=i(44603),f=i(23568),h=i(20071);v.register("shader",function(u,o){u===void 0&&(u={});var d=f(u,"key",null),p=f(u,"x",0),l=f(u,"y",0),m=f(u,"width",128),y=f(u,"height",128),x=new h(this.scene,d,p,l,m,y);return o!==void 0&&(u.add=o),a(this.scene,x,u),x})},74177:(s,g,i)=>{var a=i(20071),v=i(39429);v.register("shader",function(f,h,u,o,d,p,l){return this.displayList.add(new a(this.scene,f,h,u,o,d,p,l))})},25479:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(19257),f=i(80464),s.exports={renderWebGL:v,renderCanvas:f}},19257:(s,g,i)=>{var a=i(91296),v=function(f,h,u,o){if(h.shader){if(u.addToRenderList(h),f.pipelines.clear(),h.renderToTexture)h.load(),h.flush();else{var d=a(h,u,o).calc;(f.width!==h._rendererWidth||f.height!==h._rendererHeight)&&h.projOrtho(0,f.width,f.height,0),h.load(d.matrix),h.flush()}f.pipelines.rebind()}};s.exports=v},10441:(s,g,i)=>{var a=i(70554),v=function(f,h,u,o,d,p){for(var l=a.getTintAppendFloatAlpha(u.fillColor,u.fillAlpha*o),m=u.pathData,y=u.pathIndexes,x=0;x<y.length;x+=3){var b=y[x]*2,w=y[x+1]*2,C=y[x+2]*2,E=m[b+0]-d,T=m[b+1]-p,k=m[w+0]-d,P=m[w+1]-p,R=m[C+0]-d,M=m[C+1]-p,I=h.getX(E,T),B=h.getY(E,T),D=h.getX(k,P),N=h.getY(k,P),_=h.getX(R,M),G=h.getY(R,M);f.batchTri(u,I,B,D,N,_,G,0,0,1,1,l,l,l,2)}};s.exports=v},65960:s=>{var g=function(i,a,v,f){var h=v||a.fillColor,u=f||a.fillAlpha,o=(h&16711680)>>>16,d=(h&65280)>>>8,p=h&255;i.fillStyle="rgba("+o+","+d+","+p+","+u+")"};s.exports=g},75177:s=>{var g=function(i,a,v,f){var h=v||a.strokeColor,u=f||a.strokeAlpha,o=(h&16711680)>>>16,d=(h&65280)>>>8,p=h&255;i.strokeStyle="rgba("+o+","+d+","+p+","+u+")",i.lineWidth=a.lineWidth};s.exports=g},17803:(s,g,i)=>{var a=i(83419),v=i(31401),f=i(95643),h=i(23031),u=new a({Extends:f,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible],initialize:function(d,p,l){p===void 0&&(p="Shape"),f.call(this,d,p),this.geom=l,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new h,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(o,d){return d===void 0&&(d=1),o===void 0?this.isFilled=!1:(this.fillColor=o,this.fillAlpha=d,this.isFilled=!0),this},setStrokeStyle:function(o,d,p){return p===void 0&&(p=1),o===void 0?this.isStroked=!1:(this.lineWidth=o,this.strokeColor=d,this.strokeAlpha=p,this.isStroked=!0),this},setClosePath:function(o){return this.closePath=o,this},setSize:function(o,d){return this.width=o,this.height=d,this},setDisplaySize:function(o,d){return this.displayWidth=o,this.displayHeight=d,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}}});s.exports=u},34682:(s,g,i)=>{var a=i(70554),v=function(f,h,u,o,d){var p=f.strokeTint,l=a.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*u);p.TL=l,p.TR=l,p.BL=l,p.BR=l;var m=h.pathData,y=m.length-1,x=h.lineWidth,b=x/2,w=m[0]-o,C=m[1]-d;h.closePath||(y-=2);for(var E=2;E<y;E+=2){var T=m[E]-o,k=m[E+1]-d;f.batchLine(w,C,T,k,b,b,x,E-2,h.closePath?E===y-1:!1),w=T,C=k}};s.exports=v},23629:(s,g,i)=>{var a=i(13609),v=i(83419),f=i(39506),h=i(94811),u=i(96503),o=i(36383),d=i(17803),p=new v({Extends:d,Mixins:[a],initialize:function(m,y,x,b,w,C,E,T,k){y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=128),w===void 0&&(w=0),C===void 0&&(C=360),E===void 0&&(E=!1),d.call(this,m,"Arc",new u(0,0,b)),this._startAngle=w,this._endAngle=C,this._anticlockwise=E,this._iterations=.01,this.setPosition(y,x);var P=this.geom.radius*2;this.setSize(P,P),T!==void 0&&this.setFillStyle(T,k),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(l){this._iterations=l,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(l){this.geom.radius=l;var m=l*2;this.setSize(m,m),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(l){this._startAngle=l,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(l){this._endAngle=l,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(l){this._anticlockwise=l,this.updateData()}},setRadius:function(l){return this.radius=l,this},setIterations:function(l){return l===void 0&&(l=.01),this.iterations=l,this},setStartAngle:function(l,m){return this._startAngle=l,m!==void 0&&(this._anticlockwise=m),this.updateData()},setEndAngle:function(l,m){return this._endAngle=l,m!==void 0&&(this._anticlockwise=m),this.updateData()},updateData:function(){var l=this._iterations,m=l,y=this.geom.radius,x=f(this._startAngle),b=f(this._endAngle),w=this._anticlockwise,C=y,E=y;b-=x,w?b<-o.PI2?b=-o.PI2:b>0&&(b=-o.PI2+b%o.PI2):b>o.PI2?b=o.PI2:b<0&&(b=o.PI2+b%o.PI2);for(var T=[C+Math.cos(x)*y,E+Math.sin(x)*y],k;m<1;)k=b*m+x,T.push(C+Math.cos(k)*y,E+Math.sin(k)*y),m+=l;return k=b+x,T.push(C+Math.cos(k)*y,E+Math.sin(k)*y),T.push(C+Math.cos(x)*y,E+Math.sin(x)*y),this.pathIndexes=h(T),this.pathData=T,this}});s.exports=p},42542:(s,g,i)=>{var a=i(39506),v=i(65960),f=i(75177),h=i(20926),u=function(o,d,p,l){p.addToRenderList(d);var m=o.currentContext;if(h(o,m,d,p,l)){var y=d.radius;m.beginPath(),m.arc(y-d.originX*(y*2),y-d.originY*(y*2),y,a(d._startAngle),a(d._endAngle),d.anticlockwise),d.closePath&&m.closePath(),d.isFilled&&(v(m,d),m.fill()),d.isStroked&&(f(m,d),m.stroke()),m.restore()}};s.exports=u},42563:(s,g,i)=>{var a=i(23629),v=i(39429);v.register("arc",function(f,h,u,o,d,p,l,m){return this.displayList.add(new a(this.scene,f,h,u,o,d,p,l,m))}),v.register("circle",function(f,h,u,o,d){return this.displayList.add(new a(this.scene,f,h,u,0,360,!1,o,d))})},13609:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(41447),f=i(42542),s.exports={renderWebGL:v,renderCanvas:f}},41447:(s,g,i)=>{var a=i(91296),v=i(10441),f=i(34682),h=function(u,o,d,p){d.addToRenderList(o);var l=u.pipelines.set(o.pipeline),m=a(o,d,p),y=l.calcMatrix.copyFrom(m.calc),x=o._displayOriginX,b=o._displayOriginY,w=d.alpha*o.alpha;u.pipelines.preBatch(o),o.isFilled&&v(l,y,o,w,x,b),o.isStroked&&f(l,o,w,x,b),u.pipelines.postBatch(o)};s.exports=h},89:(s,g,i)=>{var a=i(83419),v=i(33141),f=i(94811),h=i(87841),u=i(17803),o=new a({Extends:u,Mixins:[v],initialize:function(p,l,m,y,x,b){l===void 0&&(l=0),m===void 0&&(m=0),u.call(this,p,"Curve",y),this._smoothness=32,this._curveBounds=new h,this.closePath=!1,this.setPosition(l,m),x!==void 0&&this.setFillStyle(x,b),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){var d=this._curveBounds,p=this._smoothness;this.geom.getBounds(d,p),this.setSize(d.width,d.height),this.updateDisplayOrigin();for(var l=[],m=this.geom.getPoints(p),y=0;y<m.length;y++)l.push(m[y].x,m[y].y);return l.push(m[0].x,m[0].y),this.pathIndexes=f(l),this.pathData=l,this}});s.exports=o},3170:(s,g,i)=>{var a=i(65960),v=i(75177),f=i(20926),h=function(u,o,d,p){d.addToRenderList(o);var l=u.currentContext;if(f(u,l,o,d,p)){var m=o._displayOriginX+o._curveBounds.x,y=o._displayOriginY+o._curveBounds.y,x=o.pathData,b=x.length-1,w=x[0]-m,C=x[1]-y;l.beginPath(),l.moveTo(w,C),o.closePath||(b-=2);for(var E=2;E<b;E+=2){var T=x[E]-m,k=x[E+1]-y;l.lineTo(T,k)}o.closePath&&l.closePath(),o.isFilled&&(a(l,o),l.fill()),o.isStroked&&(v(l,o),l.stroke()),l.restore()}};s.exports=h},40511:(s,g,i)=>{var a=i(39429),v=i(89);a.register("curve",function(f,h,u,o,d){return this.displayList.add(new v(this.scene,f,h,u,o,d))})},33141:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(53987),f=i(3170),s.exports={renderWebGL:v,renderCanvas:f}},53987:(s,g,i)=>{var a=i(10441),v=i(91296),f=i(34682),h=function(u,o,d,p){d.addToRenderList(o);var l=u.pipelines.set(o.pipeline),m=v(o,d,p),y=l.calcMatrix.copyFrom(m.calc),x=o._displayOriginX+o._curveBounds.x,b=o._displayOriginY+o._curveBounds.y,w=d.alpha*o.alpha;u.pipelines.preBatch(o),o.isFilled&&a(l,y,o,w,x,b),o.isStroked&&f(l,o,w,x,b),u.pipelines.postBatch(o)};s.exports=h},19921:(s,g,i)=>{var a=i(83419),v=i(94811),f=i(54205),h=i(8497),u=i(17803),o=new a({Extends:u,Mixins:[f],initialize:function(p,l,m,y,x,b,w){l===void 0&&(l=0),m===void 0&&(m=0),y===void 0&&(y=128),x===void 0&&(x=128),u.call(this,p,"Ellipse",new h(y/2,x/2,y,x)),this._smoothness=64,this.setPosition(l,m),this.width=y,this.height=x,b!==void 0&&this.setFillStyle(b,w),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSize:function(d,p){return this.width=d,this.height=p,this.geom.setPosition(d/2,p/2),this.geom.setSize(d,p),this.updateData()},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){for(var d=[],p=this.geom.getPoints(this._smoothness),l=0;l<p.length;l++)d.push(p[l].x,p[l].y);return d.push(p[0].x,p[0].y),this.pathIndexes=v(d),this.pathData=d,this}});s.exports=o},7930:(s,g,i)=>{var a=i(65960),v=i(75177),f=i(20926),h=function(u,o,d,p){d.addToRenderList(o);var l=u.currentContext;if(f(u,l,o,d,p)){var m=o._displayOriginX,y=o._displayOriginY,x=o.pathData,b=x.length-1,w=x[0]-m,C=x[1]-y;l.beginPath(),l.moveTo(w,C),o.closePath||(b-=2);for(var E=2;E<b;E+=2){var T=x[E]-m,k=x[E+1]-y;l.lineTo(T,k)}l.closePath(),o.isFilled&&(a(l,o),l.fill()),o.isStroked&&(v(l,o),l.stroke()),l.restore()}};s.exports=h},1543:(s,g,i)=>{var a=i(19921),v=i(39429);v.register("ellipse",function(f,h,u,o,d,p){return this.displayList.add(new a(this.scene,f,h,u,o,d,p))})},54205:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(19467),f=i(7930),s.exports={renderWebGL:v,renderCanvas:f}},19467:(s,g,i)=>{var a=i(10441),v=i(91296),f=i(34682),h=function(u,o,d,p){d.addToRenderList(o);var l=u.pipelines.set(o.pipeline),m=v(o,d,p),y=l.calcMatrix.copyFrom(m.calc),x=o._displayOriginX,b=o._displayOriginY,w=d.alpha*o.alpha;u.pipelines.preBatch(o),o.isFilled&&a(l,y,o,w,x,b),o.isStroked&&f(l,o,w,x,b),u.pipelines.postBatch(o)};s.exports=h},30479:(s,g,i)=>{var a=i(83419),v=i(17803),f=i(26015),h=new a({Extends:v,Mixins:[f],initialize:function(o,d,p,l,m,y,x,b,w,C,E){d===void 0&&(d=0),p===void 0&&(p=0),l===void 0&&(l=128),m===void 0&&(m=128),y===void 0&&(y=32),x===void 0&&(x=32),v.call(this,o,"Grid",null),this.cellWidth=y,this.cellHeight=x,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(d,p),this.setSize(l,m),this.setFillStyle(b,w),C!==void 0&&this.setOutlineStyle(C,E),this.updateDisplayOrigin()},setFillStyle:function(u,o){return o===void 0&&(o=1),u===void 0?this.showCells=!1:(this.fillColor=u,this.fillAlpha=o,this.showCells=!0),this},setAltFillStyle:function(u,o){return o===void 0&&(o=1),u===void 0?this.showAltCells=!1:(this.altFillColor=u,this.altFillAlpha=o,this.showAltCells=!0),this},setOutlineStyle:function(u,o){return o===void 0&&(o=1),u===void 0?this.showOutline=!1:(this.outlineFillColor=u,this.outlineFillAlpha=o,this.showOutline=!0),this}});s.exports=h},49912:(s,g,i)=>{var a=i(65960),v=i(75177),f=i(20926),h=function(u,o,d,p){d.addToRenderList(o);var l=u.currentContext;if(f(u,l,o,d,p)){var m=-o._displayOriginX,y=-o._displayOriginY,x=d.alpha*o.alpha,b=o.width,w=o.height,C=o.cellWidth,E=o.cellHeight,T=Math.ceil(b/C),k=Math.ceil(w/E),P=C,R=E,M=C-(T*C-b),I=E-(k*E-w),B=o.showCells,D=o.showAltCells,N=o.showOutline,_=0,G=0,$=0,V=0,Y=0;if(N&&(P--,R--,M===C&&M--,I===E&&I--),B&&o.fillAlpha>0)for(a(l,o),G=0;G<k;G++)for(D&&($=G%2),_=0;_<T;_++){if(D&&$){$=0;continue}$++,V=_<T-1?P:M,Y=G<k-1?R:I,l.fillRect(m+_*C,y+G*E,V,Y)}if(D&&o.altFillAlpha>0)for(a(l,o,o.altFillColor,o.altFillAlpha*x),G=0;G<k;G++)for(D&&($=G%2),_=0;_<T;_++){if(D&&!$){$=1;continue}$=0,V=_<T-1?P:M,Y=G<k-1?R:I,l.fillRect(m+_*C,y+G*E,V,Y)}if(N&&o.outlineFillAlpha>0){for(v(l,o,o.outlineFillColor,o.outlineFillAlpha*x),_=1;_<T;_++){var U=_*C;l.beginPath(),l.moveTo(U+m,y),l.lineTo(U+m,w+y),l.stroke()}for(G=1;G<k;G++){var F=G*E;l.beginPath(),l.moveTo(m,F+y),l.lineTo(m+b,F+y),l.stroke()}}l.restore()}};s.exports=h},34137:(s,g,i)=>{var a=i(39429),v=i(30479);a.register("grid",function(f,h,u,o,d,p,l,m,y,x){return this.displayList.add(new v(this.scene,f,h,u,o,d,p,l,m,y,x))})},26015:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(46161),f=i(49912),s.exports={renderWebGL:v,renderCanvas:f}},46161:(s,g,i)=>{var a=i(91296),v=i(70554),f=function(h,u,o,d){o.addToRenderList(u);var p=h.pipelines.set(u.pipeline),l=a(u,o,d),m=p.calcMatrix.copyFrom(l.calc);m.translate(-u._displayOriginX,-u._displayOriginY);var y=o.alpha*u.alpha,x=u.width,b=u.height,w=u.cellWidth,C=u.cellHeight,E=Math.ceil(x/w),T=Math.ceil(b/C),k=w,P=C,R=w-(E*w-x),M=C-(T*C-b),I,B,D=u.showCells,N=u.showAltCells,_=u.showOutline,G=0,$=0,V=0,Y=0,U=0;if(_&&(k--,P--,R===w&&R--,M===C&&M--),h.pipelines.preBatch(u),D&&u.fillAlpha>0)for(I=p.fillTint,B=v.getTintAppendFloatAlpha(u.fillColor,u.fillAlpha*y),I.TL=B,I.TR=B,I.BL=B,I.BR=B,$=0;$<T;$++)for(N&&(V=$%2),G=0;G<E;G++){if(N&&V){V=0;continue}V++,Y=G<E-1?k:R,U=$<T-1?P:M,p.batchFillRect(G*w,$*C,Y,U)}if(N&&u.altFillAlpha>0)for(I=p.fillTint,B=v.getTintAppendFloatAlpha(u.altFillColor,u.altFillAlpha*y),I.TL=B,I.TR=B,I.BL=B,I.BR=B,$=0;$<T;$++)for(N&&(V=$%2),G=0;G<E;G++){if(N&&!V){V=1;continue}V=0,Y=G<E-1?k:R,U=$<T-1?P:M,p.batchFillRect(G*w,$*C,Y,U)}if(_&&u.outlineFillAlpha>0){var F=p.strokeTint,O=v.getTintAppendFloatAlpha(u.outlineFillColor,u.outlineFillAlpha*y);for(F.TL=O,F.TR=O,F.BL=O,F.BR=O,G=1;G<E;G++){var j=G*w;p.batchLine(j,0,j,b,1,1,1,0,!1)}for($=1;$<T;$++){var z=$*C;p.batchLine(0,z,x,z,1,1,1,0,!1)}}h.pipelines.postBatch(u)};s.exports=f},61475:(s,g,i)=>{var a=i(99651),v=i(83419),f=i(17803),h=new v({Extends:f,Mixins:[a],initialize:function(o,d,p,l,m,y,x,b){d===void 0&&(d=0),p===void 0&&(p=0),l===void 0&&(l=48),m===void 0&&(m=32),y===void 0&&(y=15658734),x===void 0&&(x=10066329),b===void 0&&(b=13421772),f.call(this,o,"IsoBox",null),this.projection=4,this.fillTop=y,this.fillLeft=x,this.fillRight=b,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(d,p),this.setSize(l,m),this.updateDisplayOrigin()},setProjection:function(u){return this.projection=u,this},setFaces:function(u,o,d){return u===void 0&&(u=!0),o===void 0&&(o=!0),d===void 0&&(d=!0),this.showTop=u,this.showLeft=o,this.showRight=d,this},setFillStyle:function(u,o,d){return this.fillTop=u,this.fillLeft=o,this.fillRight=d,this.isFilled=!0,this}});s.exports=h},11508:(s,g,i)=>{var a=i(65960),v=i(20926),f=function(h,u,o,d){o.addToRenderList(u);var p=h.currentContext;if(v(h,p,u,o,d)&&u.isFilled){var l=u.width,m=u.height,y=l/2,x=l/u.projection;u.showTop&&(a(p,u,u.fillTop),p.beginPath(),p.moveTo(-y,-m),p.lineTo(0,-x-m),p.lineTo(y,-m),p.lineTo(y,-1),p.lineTo(0,x-1),p.lineTo(-y,-1),p.lineTo(-y,-m),p.fill()),u.showLeft&&(a(p,u,u.fillLeft),p.beginPath(),p.moveTo(-y,0),p.lineTo(0,x),p.lineTo(0,x-m),p.lineTo(-y,-m),p.lineTo(-y,0),p.fill()),u.showRight&&(a(p,u,u.fillRight),p.beginPath(),p.moveTo(y,0),p.lineTo(0,x),p.lineTo(0,x-m),p.lineTo(y,-m),p.lineTo(y,0),p.fill()),p.restore()}};s.exports=f},3933:(s,g,i)=>{var a=i(39429),v=i(61475);a.register("isobox",function(f,h,u,o,d,p,l){return this.displayList.add(new v(this.scene,f,h,u,o,d,p,l))})},99651:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(68149),f=i(11508),s.exports={renderWebGL:v,renderCanvas:f}},68149:(s,g,i)=>{var a=i(91296),v=i(70554),f=function(h,u,o,d){o.addToRenderList(u);var p=h.pipelines.set(u.pipeline),l=a(u,o,d),m=p.calcMatrix.copyFrom(l.calc),y=u.width,x=u.height,b=y/2,w=y/u.projection,C=o.alpha*u.alpha;if(u.isFilled){var E,T,k,P,R,M,I,B,D;h.pipelines.preBatch(u),u.showTop&&(E=v.getTintAppendFloatAlpha(u.fillTop,C),T=m.getX(-b,-x),k=m.getY(-b,-x),P=m.getX(0,-w-x),R=m.getY(0,-w-x),M=m.getX(b,-x),I=m.getY(b,-x),B=m.getX(0,w-x),D=m.getY(0,w-x),p.batchQuad(u,T,k,P,R,M,I,B,D,0,0,1,1,E,E,E,E,2)),u.showLeft&&(E=v.getTintAppendFloatAlpha(u.fillLeft,C),T=m.getX(-b,0),k=m.getY(-b,0),P=m.getX(0,w),R=m.getY(0,w),M=m.getX(0,w-x),I=m.getY(0,w-x),B=m.getX(-b,-x),D=m.getY(-b,-x),p.batchQuad(u,T,k,P,R,M,I,B,D,0,0,1,1,E,E,E,E,2)),u.showRight&&(E=v.getTintAppendFloatAlpha(u.fillRight,C),T=m.getX(b,0),k=m.getY(b,0),P=m.getX(0,w),R=m.getY(0,w),M=m.getX(0,w-x),I=m.getY(0,w-x),B=m.getX(b,-x),D=m.getY(b,-x),p.batchQuad(u,T,k,P,R,M,I,B,D,0,0,1,1,E,E,E,E,2)),h.pipelines.postBatch(u)}};s.exports=f},16933:(s,g,i)=>{var a=i(83419),v=i(60561),f=i(17803),h=new a({Extends:f,Mixins:[v],initialize:function(o,d,p,l,m,y,x,b,w){d===void 0&&(d=0),p===void 0&&(p=0),l===void 0&&(l=48),m===void 0&&(m=32),y===void 0&&(y=!1),x===void 0&&(x=15658734),b===void 0&&(b=10066329),w===void 0&&(w=13421772),f.call(this,o,"IsoTriangle",null),this.projection=4,this.fillTop=x,this.fillLeft=b,this.fillRight=w,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=y,this.isFilled=!0,this.setPosition(d,p),this.setSize(l,m),this.updateDisplayOrigin()},setProjection:function(u){return this.projection=u,this},setReversed:function(u){return this.isReversed=u,this},setFaces:function(u,o,d){return u===void 0&&(u=!0),o===void 0&&(o=!0),d===void 0&&(d=!0),this.showTop=u,this.showLeft=o,this.showRight=d,this},setFillStyle:function(u,o,d){return this.fillTop=u,this.fillLeft=o,this.fillRight=d,this.isFilled=!0,this}});s.exports=h},79590:(s,g,i)=>{var a=i(65960),v=i(20926),f=function(h,u,o,d){o.addToRenderList(u);var p=h.currentContext;if(v(h,p,u,o,d)&&u.isFilled){var l=u.width,m=u.height,y=l/2,x=l/u.projection,b=u.isReversed;u.showTop&&b&&(a(p,u,u.fillTop),p.beginPath(),p.moveTo(-y,-m),p.lineTo(0,-x-m),p.lineTo(y,-m),p.lineTo(0,x-m),p.fill()),u.showLeft&&(a(p,u,u.fillLeft),p.beginPath(),b?(p.moveTo(-y,-m),p.lineTo(0,x),p.lineTo(0,x-m)):(p.moveTo(-y,0),p.lineTo(0,x),p.lineTo(0,x-m)),p.fill()),u.showRight&&(a(p,u,u.fillRight),p.beginPath(),b?(p.moveTo(y,-m),p.lineTo(0,x),p.lineTo(0,x-m)):(p.moveTo(y,0),p.lineTo(0,x),p.lineTo(0,x-m)),p.fill()),p.restore()}};s.exports=f},49803:(s,g,i)=>{var a=i(39429),v=i(16933);a.register("isotriangle",function(f,h,u,o,d,p,l,m){return this.displayList.add(new v(this.scene,f,h,u,o,d,p,l,m))})},60561:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(51503),f=i(79590),s.exports={renderWebGL:v,renderCanvas:f}},51503:(s,g,i)=>{var a=i(91296),v=i(70554),f=function(h,u,o,d){o.addToRenderList(u);var p=h.pipelines.set(u.pipeline),l=a(u,o,d),m=p.calcMatrix.copyFrom(l.calc),y=u.width,x=u.height,b=y/2,w=y/u.projection,C=u.isReversed,E=o.alpha*u.alpha;if(u.isFilled){h.pipelines.preBatch(u);var T,k,P,R,M,I,B;if(u.showTop&&C){T=v.getTintAppendFloatAlpha(u.fillTop,E),k=m.getX(-b,-x),P=m.getY(-b,-x),R=m.getX(0,-w-x),M=m.getY(0,-w-x),I=m.getX(b,-x),B=m.getY(b,-x);var D=m.getX(0,w-x),N=m.getY(0,w-x);p.batchQuad(u,k,P,R,M,I,B,D,N,0,0,1,1,T,T,T,T,2)}u.showLeft&&(T=v.getTintAppendFloatAlpha(u.fillLeft,E),C?(k=m.getX(-b,-x),P=m.getY(-b,-x),R=m.getX(0,w),M=m.getY(0,w),I=m.getX(0,w-x),B=m.getY(0,w-x)):(k=m.getX(-b,0),P=m.getY(-b,0),R=m.getX(0,w),M=m.getY(0,w),I=m.getX(0,w-x),B=m.getY(0,w-x)),p.batchTri(u,k,P,R,M,I,B,0,0,1,1,T,T,T,2)),u.showRight&&(T=v.getTintAppendFloatAlpha(u.fillRight,E),C?(k=m.getX(b,-x),P=m.getY(b,-x),R=m.getX(0,w),M=m.getY(0,w),I=m.getX(0,w-x),B=m.getY(0,w-x)):(k=m.getX(b,0),P=m.getY(b,0),R=m.getX(0,w),M=m.getY(0,w),I=m.getX(0,w-x),B=m.getY(0,w-x)),p.batchTri(u,k,P,R,M,I,B,0,0,1,1,T,T,T,2)),h.pipelines.postBatch(u)}};s.exports=f},57847:(s,g,i)=>{var a=i(83419),v=i(17803),f=i(23031),h=i(36823),u=new a({Extends:v,Mixins:[h],initialize:function(d,p,l,m,y,x,b,w,C){p===void 0&&(p=0),l===void 0&&(l=0),m===void 0&&(m=0),y===void 0&&(y=0),x===void 0&&(x=128),b===void 0&&(b=0),v.call(this,d,"Line",new f(m,y,x,b));var E=Math.max(1,this.geom.right-this.geom.left),T=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(p,l),this.setSize(E,T),w!==void 0&&this.setStrokeStyle(1,w,C),this.updateDisplayOrigin()},setLineWidth:function(o,d){return d===void 0&&(d=o),this._startWidth=o,this._endWidth=d,this.lineWidth=o,this},setTo:function(o,d,p,l){return this.geom.setTo(o,d,p,l),this}});s.exports=u},17440:(s,g,i)=>{var a=i(75177),v=i(20926),f=function(h,u,o,d){o.addToRenderList(u);var p=h.currentContext;if(v(h,p,u,o,d)){var l=u._displayOriginX,m=u._displayOriginY;u.isStroked&&(a(p,u),p.beginPath(),p.moveTo(u.geom.x1-l,u.geom.y1-m),p.lineTo(u.geom.x2-l,u.geom.y2-m),p.stroke()),p.restore()}};s.exports=f},2481:(s,g,i)=>{var a=i(39429),v=i(57847);a.register("line",function(f,h,u,o,d,p,l,m){return this.displayList.add(new v(this.scene,f,h,u,o,d,p,l,m))})},36823:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(77385),f=i(17440),s.exports={renderWebGL:v,renderCanvas:f}},77385:(s,g,i)=>{var a=i(91296),v=i(70554),f=function(h,u,o,d){o.addToRenderList(u);var p=h.pipelines.set(u.pipeline),l=a(u,o,d);p.calcMatrix.copyFrom(l.calc);var m=u._displayOriginX,y=u._displayOriginY,x=o.alpha*u.alpha;if(h.pipelines.preBatch(u),u.isStroked){var b=p.strokeTint,w=v.getTintAppendFloatAlpha(u.strokeColor,u.strokeAlpha*x);b.TL=w,b.TR=w,b.BL=w,b.BR=w,p.batchLine(u.geom.x1-m,u.geom.y1-y,u.geom.x2-m,u.geom.y2-y,u._startWidth/2,u._endWidth/2,1,0,!1,l.sprite,l.camera)}h.pipelines.postBatch(u)};s.exports=f},24949:(s,g,i)=>{var a=i(90273),v=i(83419),f=i(94811),h=i(13829),u=i(25717),o=i(17803),d=i(5469),p=new v({Extends:o,Mixins:[a],initialize:function(m,y,x,b,w,C){y===void 0&&(y=0),x===void 0&&(x=0),o.call(this,m,"Polygon",new u(b));var E=h(this.geom);this.setPosition(y,x),this.setSize(E.width,E.height),w!==void 0&&this.setFillStyle(w,C),this.updateDisplayOrigin(),this.updateData()},smooth:function(l){l===void 0&&(l=1);for(var m=0;m<l;m++)d(this.geom);return this.updateData()},setTo:function(l){this.geom.setTo(l);var m=h(this.geom);return this.setSize(m.width,m.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var l=[],m=this.geom.points,y=0;y<m.length;y++)l.push(m[y].x,m[y].y);return l.push(m[0].x,m[0].y),this.pathIndexes=f(l),this.pathData=l,this}});s.exports=p},38710:(s,g,i)=>{var a=i(65960),v=i(75177),f=i(20926),h=function(u,o,d,p){d.addToRenderList(o);var l=u.currentContext;if(f(u,l,o,d,p)){var m=o._displayOriginX,y=o._displayOriginY,x=o.pathData,b=x.length-1,w=x[0]-m,C=x[1]-y;l.beginPath(),l.moveTo(w,C),o.closePath||(b-=2);for(var E=2;E<b;E+=2){var T=x[E]-m,k=x[E+1]-y;l.lineTo(T,k)}o.closePath&&l.closePath(),o.isFilled&&(a(l,o),l.fill()),o.isStroked&&(v(l,o),l.stroke()),l.restore()}};s.exports=h},64827:(s,g,i)=>{var a=i(39429),v=i(24949);a.register("polygon",function(f,h,u,o,d){return this.displayList.add(new v(this.scene,f,h,u,o,d))})},90273:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(73695),f=i(38710),s.exports={renderWebGL:v,renderCanvas:f}},73695:(s,g,i)=>{var a=i(10441),v=i(91296),f=i(34682),h=function(u,o,d,p){d.addToRenderList(o);var l=u.pipelines.set(o.pipeline),m=v(o,d,p),y=l.calcMatrix.copyFrom(m.calc),x=o._displayOriginX,b=o._displayOriginY,w=d.alpha*o.alpha;u.pipelines.preBatch(o),o.isFilled&&a(l,y,o,w,x,b),o.isStroked&&f(l,o,w,x,b),u.pipelines.postBatch(o)};s.exports=h},74561:(s,g,i)=>{var a=i(83419),v=i(87841),f=i(17803),h=i(95597),u=new a({Extends:f,Mixins:[h],initialize:function(d,p,l,m,y,x,b){p===void 0&&(p=0),l===void 0&&(l=0),m===void 0&&(m=128),y===void 0&&(y=128),f.call(this,d,"Rectangle",new v(0,0,m,y)),this.setPosition(p,l),this.setSize(m,y),x!==void 0&&this.setFillStyle(x,b),this.updateDisplayOrigin(),this.updateData()},setSize:function(o,d){this.width=o,this.height=d,this.geom.setSize(o,d),this.updateData(),this.updateDisplayOrigin();var p=this.input;return p&&!p.customHitArea&&(p.hitArea.width=o,p.hitArea.height=d),this},updateData:function(){var o=[],d=this.geom,p=this._tempLine;return d.getLineA(p),o.push(p.x1,p.y1,p.x2,p.y2),d.getLineB(p),o.push(p.x2,p.y2),d.getLineC(p),o.push(p.x2,p.y2),d.getLineD(p),o.push(p.x2,p.y2),this.pathData=o,this}});s.exports=u},48682:(s,g,i)=>{var a=i(65960),v=i(75177),f=i(20926),h=function(u,o,d,p){d.addToRenderList(o);var l=u.currentContext;if(f(u,l,o,d,p)){var m=o._displayOriginX,y=o._displayOriginY;o.isFilled&&(a(l,o),l.fillRect(-m,-y,o.width,o.height)),o.isStroked&&(v(l,o),l.beginPath(),l.rect(-m,-y,o.width,o.height),l.stroke()),l.restore()}};s.exports=h},87959:(s,g,i)=>{var a=i(39429),v=i(74561);a.register("rectangle",function(f,h,u,o,d,p){return this.displayList.add(new v(this.scene,f,h,u,o,d,p))})},95597:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(52059),f=i(48682),s.exports={renderWebGL:v,renderCanvas:f}},52059:(s,g,i)=>{var a=i(91296),v=i(34682),f=i(70554),h=function(u,o,d,p){d.addToRenderList(o);var l=u.pipelines.set(o.pipeline),m=a(o,d,p);l.calcMatrix.copyFrom(m.calc);var y=o._displayOriginX,x=o._displayOriginY,b=d.alpha*o.alpha;if(u.pipelines.preBatch(o),o.isFilled){var w=l.fillTint,C=f.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*b);w.TL=C,w.TR=C,w.BL=C,w.BR=C,l.batchFillRect(-y,-x,o.width,o.height)}o.isStroked&&v(l,o,b,y,x),u.pipelines.postBatch(o)};s.exports=h},55911:(s,g,i)=>{var a=i(81991),v=i(83419),f=i(94811),h=i(17803),u=new v({Extends:h,Mixins:[a],initialize:function(d,p,l,m,y,x,b,w){p===void 0&&(p=0),l===void 0&&(l=0),m===void 0&&(m=5),y===void 0&&(y=32),x===void 0&&(x=64),h.call(this,d,"Star",null),this._points=m,this._innerRadius=y,this._outerRadius=x,this.setPosition(p,l),this.setSize(x*2,x*2),b!==void 0&&this.setFillStyle(b,w),this.updateDisplayOrigin(),this.updateData()},setPoints:function(o){return this._points=o,this.updateData()},setInnerRadius:function(o){return this._innerRadius=o,this.updateData()},setOuterRadius:function(o){return this._outerRadius=o,this.updateData()},points:{get:function(){return this._points},set:function(o){this._points=o,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(o){this._innerRadius=o,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(o){this._outerRadius=o,this.updateData()}},updateData:function(){var o=[],d=this._points,p=this._innerRadius,l=this._outerRadius,m=Math.PI/2*3,y=Math.PI/d,x=l,b=l;o.push(x,b+-l);for(var w=0;w<d;w++)o.push(x+Math.cos(m)*l,b+Math.sin(m)*l),m+=y,o.push(x+Math.cos(m)*p,b+Math.sin(m)*p),m+=y;return o.push(x,b+-l),this.pathIndexes=f(o),this.pathData=o,this}});s.exports=u},64272:(s,g,i)=>{var a=i(65960),v=i(75177),f=i(20926),h=function(u,o,d,p){d.addToRenderList(o);var l=u.currentContext;if(f(u,l,o,d,p)){var m=o._displayOriginX,y=o._displayOriginY,x=o.pathData,b=x.length-1,w=x[0]-m,C=x[1]-y;l.beginPath(),l.moveTo(w,C),o.closePath||(b-=2);for(var E=2;E<b;E+=2){var T=x[E]-m,k=x[E+1]-y;l.lineTo(T,k)}l.closePath(),o.isFilled&&(a(l,o),l.fill()),o.isStroked&&(v(l,o),l.stroke()),l.restore()}};s.exports=h},93697:(s,g,i)=>{var a=i(55911),v=i(39429);v.register("star",function(f,h,u,o,d,p,l){return this.displayList.add(new a(this.scene,f,h,u,o,d,p,l))})},81991:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(57017),f=i(64272),s.exports={renderWebGL:v,renderCanvas:f}},57017:(s,g,i)=>{var a=i(10441),v=i(91296),f=i(34682),h=function(u,o,d,p){d.addToRenderList(o);var l=u.pipelines.set(o.pipeline),m=v(o,d,p),y=l.calcMatrix.copyFrom(m.calc),x=o._displayOriginX,b=o._displayOriginY,w=d.alpha*o.alpha;u.pipelines.preBatch(o),o.isFilled&&a(l,y,o,w,x,b),o.isStroked&&f(l,o,w,x,b),u.pipelines.postBatch(o)};s.exports=h},36931:(s,g,i)=>{var a=i(83419),v=i(17803),f=i(16483),h=i(96195),u=new a({Extends:v,Mixins:[h],initialize:function(d,p,l,m,y,x,b,w,C,E,T){p===void 0&&(p=0),l===void 0&&(l=0),m===void 0&&(m=0),y===void 0&&(y=128),x===void 0&&(x=64),b===void 0&&(b=0),w===void 0&&(w=128),C===void 0&&(C=128),v.call(this,d,"Triangle",new f(m,y,x,b,w,C));var k=this.geom.right-this.geom.left,P=this.geom.bottom-this.geom.top;this.setPosition(p,l),this.setSize(k,P),E!==void 0&&this.setFillStyle(E,T),this.updateDisplayOrigin(),this.updateData()},setTo:function(o,d,p,l,m,y){return this.geom.setTo(o,d,p,l,m,y),this.updateData()},updateData:function(){var o=[],d=this.geom,p=this._tempLine;return d.getLineA(p),o.push(p.x1,p.y1,p.x2,p.y2),d.getLineB(p),o.push(p.x2,p.y2),d.getLineC(p),o.push(p.x2,p.y2),this.pathData=o,this}});s.exports=u},85172:(s,g,i)=>{var a=i(65960),v=i(75177),f=i(20926),h=function(u,o,d,p){d.addToRenderList(o);var l=u.currentContext;if(f(u,l,o,d,p)){var m=o._displayOriginX,y=o._displayOriginY,x=o.geom.x1-m,b=o.geom.y1-y,w=o.geom.x2-m,C=o.geom.y2-y,E=o.geom.x3-m,T=o.geom.y3-y;l.beginPath(),l.moveTo(x,b),l.lineTo(w,C),l.lineTo(E,T),l.closePath(),o.isFilled&&(a(l,o),l.fill()),o.isStroked&&(v(l,o),l.stroke()),l.restore()}};s.exports=h},45245:(s,g,i)=>{var a=i(39429),v=i(36931);a.register("triangle",function(f,h,u,o,d,p,l,m,y,x){return this.displayList.add(new v(this.scene,f,h,u,o,d,p,l,m,y,x))})},96195:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(83253),f=i(85172),s.exports={renderWebGL:v,renderCanvas:f}},83253:(s,g,i)=>{var a=i(91296),v=i(34682),f=i(70554),h=function(u,o,d,p){d.addToRenderList(o);var l=u.pipelines.set(o.pipeline),m=a(o,d,p);l.calcMatrix.copyFrom(m.calc);var y=o._displayOriginX,x=o._displayOriginY,b=d.alpha*o.alpha;if(u.pipelines.preBatch(o),o.isFilled){var w=l.fillTint,C=f.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*b);w.TL=C,w.TR=C,w.BL=C,w.BR=C;var E=o.geom.x1-y,T=o.geom.y1-x,k=o.geom.x2-y,P=o.geom.y2-x,R=o.geom.x3-y,M=o.geom.y3-x;l.batchFillTriangle(E,T,k,P,R,M,m.sprite,m.camera)}o.isStroked&&v(l,o,b,y,x),u.pipelines.postBatch(o)};s.exports=h},68287:(s,g,i)=>{var a=i(9674),v=i(83419),f=i(31401),h=i(95643),u=i(92751),o=new v({Extends:h,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,u],initialize:function(p,l,m,y,x){h.call(this,p,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(y,x),this.setPosition(l,m),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(d,p){this.anims.update(d,p)},play:function(d,p){return this.anims.play(d,p)},playReverse:function(d,p){return this.anims.playReverse(d,p)},playAfterDelay:function(d,p){return this.anims.playAfterDelay(d,p)},playAfterRepeat:function(d,p){return this.anims.playAfterRepeat(d,p)},chain:function(d){return this.anims.chain(d)},stop:function(){return this.anims.stop()},stopAfterDelay:function(d){return this.anims.stopAfterDelay(d)},stopAfterRepeat:function(d){return this.anims.stopAfterRepeat(d)},stopOnFrame:function(d){return this.anims.stopOnFrame(d)},toJSON:function(){return f.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});s.exports=o},76552:s=>{var g=function(i,a,v,f){v.addToRenderList(a),i.batchSprite(a,a.frame,v,f)};s.exports=g},15567:(s,g,i)=>{var a=i(25305),v=i(13059),f=i(44603),h=i(23568),u=i(68287);f.register("sprite",function(o,d){o===void 0&&(o={});var p=h(o,"key",null),l=h(o,"frame",null),m=new u(this.scene,0,0,p,l);return d!==void 0&&(o.add=d),a(this.scene,m,o),v(m,o),m})},46409:(s,g,i)=>{var a=i(39429),v=i(68287);a.register("sprite",function(f,h,u,o){return this.displayList.add(new v(this.scene,f,h,u,o))})},92751:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(9409),f=i(76552),s.exports={renderWebGL:v,renderCanvas:f}},9409:s=>{var g=function(i,a,v,f){v.addToRenderList(a),a.pipeline.batchSprite(a,v,f)};s.exports=g},14220:s=>{var g=function(i,a,v){var f=i.canvas,h=i.context,u=i.style,o=[],d=0,p=v.length;u.maxLines>0&&u.maxLines<v.length&&(p=u.maxLines),u.syncFont(f,h);for(var l=0;l<p;l++){var m=u.strokeThickness;m+=h.measureText(v[l]).width,v[l].length>1&&(m+=i.letterSpacing*(v[l].length-1)),u.wordWrap&&(m-=h.measureText(" ").width),o[l]=Math.ceil(m),d=Math.max(d,o[l])}var y=a.fontSize+u.strokeThickness,x=y*p,b=i.lineSpacing;return p>1&&(x+=b*(p-1)),{width:d,height:x,lines:p,lineWidths:o,lineSpacing:b,lineHeight:y}};s.exports=g},79557:(s,g,i)=>{var a=i(27919),v=function(f){var h=a.create(this),u=h.getContext("2d",{willReadFrequently:!0});f.syncFont(h,u);var o=u.measureText(f.testString);if("actualBoundingBoxAscent"in o){var d=o.actualBoundingBoxAscent,p=o.actualBoundingBoxDescent;return a.remove(h),{ascent:d,descent:p,fontSize:d+p}}var l=Math.ceil(o.width*f.baselineX),m=l,y=2*m;m=m*f.baselineY|0,h.width=l,h.height=y,u.fillStyle="#f00",u.fillRect(0,0,l,y),u.font=f._font,u.textBaseline="alphabetic",u.fillStyle="#000",u.fillText(f.testString,0,m);var x={ascent:0,descent:0,fontSize:0},b=u.getImageData(0,0,l,y);if(!b)return x.ascent=m,x.descent=m+6,x.fontSize=x.ascent+x.descent,a.remove(h),x;var w=b.data,C=w.length,E=l*4,T,k,P=0,R=!1;for(T=0;T<m;T++){for(k=0;k<E;k+=4)if(w[P+k]!==255){R=!0;break}if(!R)P+=E;else break}for(x.ascent=m-T,P=C-E,R=!1,T=y;T>m;T--){for(k=0;k<E;k+=4)if(w[P+k]!==255){R=!0;break}if(!R)P-=E;else break}return x.descent=T-m,x.fontSize=x.ascent+x.descent,a.remove(h),x};s.exports=v},50171:(s,g,i)=>{var a=i(40366),v=i(27919),f=i(83419),h=i(31401),u=i(95643),o=i(14220),d=i(35154),p=i(35846),l=i(61771),m=i(35762),y=i(45650),x=new f({Extends:u,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,l],initialize:function(w,C,E,T,k){C===void 0&&(C=0),E===void 0&&(E=0),u.call(this,w,"Text"),this.renderer=w.sys.renderer,this.setPosition(C,E),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=v.create(this),this.context,this.style=new m(this,k),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=y(),this.texture=w.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(T),k&&k.padding&&this.setPadding(k.padding),k&&k.lineSpacing&&this.setLineSpacing(k.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(b){var w=this.style;if(w.wordWrapCallback){var C=w.wordWrapCallback.call(w.wordWrapCallbackScope,b,this);return Array.isArray(C)&&(C=C.join(`
`)),C}else return w.wordWrapWidth?w.wordWrapUseAdvanced?this.advancedWordWrap(b,this.context,this.style.wordWrapWidth):this.basicWordWrap(b,this.context,this.style.wordWrapWidth):b},advancedWordWrap:function(b,w,C){for(var E="",T=b.replace(/ +/gi," ").split(this.splitRegExp),k=T.length,P=0;P<k;P++){var R=T[P],M="";R=R.replace(/^ *|\s*$/gi,"");var I=w.measureText(R).width;if(I<C){E+=R+`
`;continue}for(var B=C,D=R.split(" "),N=0;N<D.length;N++){var _=D[N],G=_+" ",$=w.measureText(G).width;if($>B){if(N===0){for(var V=G;V.length&&(V=V.slice(0,-1),$=w.measureText(V).width,!($<=B)););if(!V.length)throw new Error("wordWrapWidth < a single character");var Y=_.substr(V.length);D[N]=Y,M+=V}var U=D[N].length?N:N+1,F=D.slice(U).join(" ").replace(/[ \n]*$/gi,"");T.splice(P+1,0,F),k=T.length;break}else M+=G,B-=$}E+=M.replace(/[ \n]*$/gi,"")+`
`}return E=E.replace(/[\s|\n]*$/gi,""),E},basicWordWrap:function(b,w,C){for(var E="",T=b.split(this.splitRegExp),k=T.length-1,P=w.measureText(" ").width,R=0;R<=k;R++){for(var M=C,I=T[R].split(" "),B=I.length-1,D=0;D<=B;D++){var N=I[D],_=w.measureText(N).width,G=_;D<B&&(G+=P),G>M&&D>0&&(E+=`
`,M=C),E+=N,D<B?(E+=" ",M-=G):M-=_}R<k&&(E+=`
`)}return E},getWrappedText:function(b){b===void 0&&(b=this._text),this.style.syncFont(this.canvas,this.context);var w=this.runWordWrap(b);return w.split(this.splitRegExp)},setText:function(b){return!b&&b!==0&&(b=""),Array.isArray(b)&&(b=b.join(`
`)),b!==this._text&&(this._text=b.toString(),this.updateText()),this},appendText:function(b,w){w===void 0&&(w=!0),!b&&b!==0&&(b=""),Array.isArray(b)&&(b=b.join(`
`)),b=b.toString();var C=this._text.concat(w?`
`+b:b);return C!==this._text&&(this._text=C,this.updateText()),this},setStyle:function(b){return this.style.setStyle(b)},setFont:function(b){return this.style.setFont(b)},setFontFamily:function(b){return this.style.setFontFamily(b)},setFontSize:function(b){return this.style.setFontSize(b)},setFontStyle:function(b){return this.style.setFontStyle(b)},setFixedSize:function(b,w){return this.style.setFixedSize(b,w)},setBackgroundColor:function(b){return this.style.setBackgroundColor(b)},setFill:function(b){return this.style.setFill(b)},setColor:function(b){return this.style.setColor(b)},setStroke:function(b,w){return this.style.setStroke(b,w)},setShadow:function(b,w,C,E,T,k){return this.style.setShadow(b,w,C,E,T,k)},setShadowOffset:function(b,w){return this.style.setShadowOffset(b,w)},setShadowColor:function(b){return this.style.setShadowColor(b)},setShadowBlur:function(b){return this.style.setShadowBlur(b)},setShadowStroke:function(b){return this.style.setShadowStroke(b)},setShadowFill:function(b){return this.style.setShadowFill(b)},setWordWrapWidth:function(b,w){return this.style.setWordWrapWidth(b,w)},setWordWrapCallback:function(b,w){return this.style.setWordWrapCallback(b,w)},setAlign:function(b){return this.style.setAlign(b)},setResolution:function(b){return this.style.setResolution(b)},setLineSpacing:function(b){return this.lineSpacing=b,this.updateText()},setLetterSpacing:function(b){return this.letterSpacing=b,this.updateText()},setPadding:function(b,w,C,E){if(typeof b=="object"){var T=b,k=d(T,"x",null);k!==null?(b=k,C=k):(b=d(T,"left",0),C=d(T,"right",b));var P=d(T,"y",null);P!==null?(w=P,E=P):(w=d(T,"top",0),E=d(T,"bottom",w))}else b===void 0&&(b=0),w===void 0&&(w=b),C===void 0&&(C=b),E===void 0&&(E=w);return this.padding.left=b,this.padding.top=w,this.padding.right=C,this.padding.bottom=E,this.updateText()},setMaxLines:function(b){return this.style.setMaxLines(b)},setRTL:function(b){b===void 0&&(b=!0);var w=this.style;return w.rtl===b?this:(w.rtl=b,b?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),w.align==="left"?w.align="right":w.align==="right"&&(w.align="left"),this)},updateText:function(){var b=this.canvas,w=this.context,C=this.style,E=C.resolution,T=C.metrics;C.syncFont(b,w);var k=this._text;(C.wordWrapWidth||C.wordWrapCallback)&&(k=this.runWordWrap(this._text));var P=k.split(this.splitRegExp),R=o(this,T,P),M=this.padding,I;C.fixedWidth===0?(this.width=R.width+M.left+M.right,I=R.width):(this.width=C.fixedWidth,I=this.width-M.left-M.right,I<R.width&&(I=R.width)),C.fixedHeight===0?this.height=R.height+M.top+M.bottom:this.height=C.fixedHeight;var B=this.width,D=this.height;this.updateDisplayOrigin(),B*=E,D*=E,B=Math.max(B,1),D=Math.max(D,1),b.width!==B||b.height!==D?(b.width=B,b.height=D,this.frame.setSize(B,D),C.syncFont(b,w),C.rtl&&(w.direction="rtl")):w.clearRect(0,0,B,D),w.save(),w.scale(E,E),C.backgroundColor&&(w.fillStyle=C.backgroundColor,w.fillRect(0,0,B,D)),C.syncStyle(b,w),w.translate(M.left,M.top);for(var N,_,G=0;G<R.lines;G++){if(N=C.strokeThickness/2,_=C.strokeThickness/2+G*R.lineHeight+T.ascent,G>0&&(_+=R.lineSpacing*G),C.rtl)N=B-N-M.left-M.right;else if(C.align==="right")N+=I-R.lineWidths[G];else if(C.align==="center")N+=(I-R.lineWidths[G])/2;else if(C.align==="justify"){var $=.85;if(R.lineWidths[G]/R.width>=$){var V=R.width-R.lineWidths[G],Y=w.measureText(" ").width,U=P[G].trim(),F=U.split(" ");V+=(P[G].length-U.length)*Y;for(var O=Math.floor(V/Y),j=0;O>0;)F[j]+=" ",j=(j+1)%(F.length-1||1),--O;P[G]=F.join(" ")}}if(this.autoRound&&(N=Math.round(N),_=Math.round(_)),C.strokeThickness&&(C.syncShadow(w,C.shadowStroke),w.strokeText(P[G],N,_)),C.color){C.syncShadow(w,C.shadowFill);var z=this.letterSpacing;if(z!==0)for(var W=0,q=P[G].split(""),ot=0;ot<q.length;ot++)w.fillText(q[ot],N+W,_),W+=w.measureText(q[ot]).width+z;else w.fillText(P[G],N,_)}}w.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(b,this.frame.source.glTexture,!0));var Q=this.input;return Q&&!Q.customHitArea&&(Q.hitArea.width=this.width,Q.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(b){this.setText(b)}},toJSON:function(){var b=h.ToJSON(this),w={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return b.data=w,b},preDestroy:function(){p(this.canvas),v.remove(this.canvas);var b=this.texture;b&&b.destroy()}});s.exports=x},79724:s=>{var g=function(i,a,v,f){a.width===0||a.height===0||(v.addToRenderList(a),i.batchSprite(a,a.frame,v,f))};s.exports=g},71259:(s,g,i)=>{var a=i(25305),v=i(44603),f=i(23568),h=i(50171);v.register("text",function(u,o){u===void 0&&(u={});var d=f(u,"text",""),p=f(u,"style",null),l=f(u,"padding",null);l!==null&&(p.padding=l);var m=new h(this.scene,0,0,d,p);return o!==void 0&&(u.add=o),a(this.scene,m,u),m.autoRound=f(u,"autoRound",!0),m.resolution=f(u,"resolution",1),m})},68005:(s,g,i)=>{var a=i(50171),v=i(39429);v.register("text",function(f,h,u,o){return this.displayList.add(new a(this.scene,f,h,u,o))})},61771:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(34397),f=i(79724),s.exports={renderWebGL:v,renderCanvas:f}},35762:(s,g,i)=>{var a=i(83419),v=i(23568),f=i(35154),h=i(79557),u={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},o=new a({initialize:function(p,l){this.parent=p,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(l,!1,!0)},setStyle:function(d,p,l){p===void 0&&(p=!0),l===void 0&&(l=!1),d&&d.hasOwnProperty("fontSize")&&typeof d.fontSize=="number"&&(d.fontSize=d.fontSize.toString()+"px");for(var m in u){var y=l?u[m][1]:this[m];m==="wordWrapCallback"||m==="wordWrapCallbackScope"?this[m]=f(d,u[m][0],y):this[m]=v(d,u[m][0],y)}var x=f(d,"font",null);x!==null&&this.setFont(x,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var b=f(d,"fill",null);b!==null&&(this.color=b);var w=f(d,"metrics",!1);return w?this.metrics={ascent:f(w,"ascent",0),descent:f(w,"descent",0),fontSize:f(w,"fontSize",0)}:(p||!this.metrics)&&(this.metrics=h(this)),p?this.parent.updateText():this.parent},syncFont:function(d,p){p.font=this._font},syncStyle:function(d,p){p.textBaseline="alphabetic",p.fillStyle=this.color,p.strokeStyle=this.stroke,p.lineWidth=this.strokeThickness,p.lineCap="round",p.lineJoin="round"},syncShadow:function(d,p){p?(d.shadowOffsetX=this.shadowOffsetX,d.shadowOffsetY=this.shadowOffsetY,d.shadowColor=this.shadowColor,d.shadowBlur=this.shadowBlur):(d.shadowOffsetX=0,d.shadowOffsetY=0,d.shadowColor=0,d.shadowBlur=0)},update:function(d){return d&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=h(this)),this.parent.updateText()},setFont:function(d,p){p===void 0&&(p=!0);var l=d,m="",y="";if(typeof d!="string")l=f(d,"fontFamily","Courier"),m=f(d,"fontSize","16px"),y=f(d,"fontStyle","");else{var x=d.split(" "),b=0;y=x.length>2?x[b++]:"",m=x[b++]||"16px",l=x[b++]||"Courier"}return(l!==this.fontFamily||m!==this.fontSize||y!==this.fontStyle)&&(this.fontFamily=l,this.fontSize=m,this.fontStyle=y,p&&this.update(!0)),this.parent},setFontFamily:function(d){return this.fontFamily!==d&&(this.fontFamily=d,this.update(!0)),this.parent},setFontStyle:function(d){return this.fontStyle!==d&&(this.fontStyle=d,this.update(!0)),this.parent},setFontSize:function(d){return typeof d=="number"&&(d=d.toString()+"px"),this.fontSize!==d&&(this.fontSize=d,this.update(!0)),this.parent},setTestString:function(d){return this.testString=d,this.update(!0)},setFixedSize:function(d,p){return this.fixedWidth=d,this.fixedHeight=p,d&&(this.parent.width=d),p&&(this.parent.height=p),this.update(!1)},setBackgroundColor:function(d){return this.backgroundColor=d,this.update(!1)},setFill:function(d){return this.color=d,this.update(!1)},setColor:function(d){return this.color=d,this.update(!1)},setResolution:function(d){return this.resolution=d,this.update(!1)},setStroke:function(d,p){return p===void 0&&(p=this.strokeThickness),d===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==d||this.strokeThickness!==p)&&(this.stroke=d,this.strokeThickness=p,this.update(!0)),this.parent},setShadow:function(d,p,l,m,y,x){return d===void 0&&(d=0),p===void 0&&(p=0),l===void 0&&(l="#000"),m===void 0&&(m=0),y===void 0&&(y=!1),x===void 0&&(x=!0),this.shadowOffsetX=d,this.shadowOffsetY=p,this.shadowColor=l,this.shadowBlur=m,this.shadowStroke=y,this.shadowFill=x,this.update(!1)},setShadowOffset:function(d,p){return d===void 0&&(d=0),p===void 0&&(p=d),this.shadowOffsetX=d,this.shadowOffsetY=p,this.update(!1)},setShadowColor:function(d){return d===void 0&&(d="#000"),this.shadowColor=d,this.update(!1)},setShadowBlur:function(d){return d===void 0&&(d=0),this.shadowBlur=d,this.update(!1)},setShadowStroke:function(d){return this.shadowStroke=d,this.update(!1)},setShadowFill:function(d){return this.shadowFill=d,this.update(!1)},setWordWrapWidth:function(d,p){return p===void 0&&(p=!1),this.wordWrapWidth=d,this.wordWrapUseAdvanced=p,this.update(!1)},setWordWrapCallback:function(d,p){return p===void 0&&(p=null),this.wordWrapCallback=d,this.wordWrapCallbackScope=p,this.update(!1)},setAlign:function(d){return d===void 0&&(d="left"),this.align=d,this.update(!1)},setMaxLines:function(d){return d===void 0&&(d=0),this.maxLines=d,this.update(!1)},getTextMetrics:function(){var d=this.metrics;return{ascent:d.ascent,descent:d.descent,fontSize:d.fontSize}},toJSON:function(){var d={};for(var p in u)d[p]=this[p];return d.metrics=this.getTextMetrics(),d},destroy:function(){this.parent=void 0}});s.exports=o},34397:(s,g,i)=>{var a=i(70554),v=function(f,h,u,o){if(!(h.width===0||h.height===0)){u.addToRenderList(h);var d=h.frame,p=d.width,l=d.height,m=a.getTintAppendFloatAlpha,y=f.pipelines.set(h.pipeline,h),x=y.setTexture2D(d.glTexture,h);y.batchTexture(h,d.glTexture,p,l,h.x,h.y,p/h.style.resolution,l/h.style.resolution,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.displayOriginX,h.displayOriginY,0,0,p,l,m(h.tintTopLeft,u.alpha*h._alphaTL),m(h.tintTopRight,u.alpha*h._alphaTR),m(h.tintBottomLeft,u.alpha*h._alphaBL),m(h.tintBottomRight,u.alpha*h._alphaBR),h.tintFill,0,0,u,o,!1,x)}};s.exports=v},20839:(s,g,i)=>{var a=i(27919),v=i(83419),f=i(31401),h=i(95643),u=i(98439),o=i(68703),d=i(56295),p=i(45650),l=i(26099),m=8,y=new v({Extends:h,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,d],initialize:function(b,w,C,E,T,k,P){var R=b.sys.renderer;h.call(this,b,"TileSprite");var M=b.sys.textures.get(k),I=M.get(P);I.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),M=b.sys.textures.get("__MISSING"),I=M.get()),M.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),M=b.sys.textures.get("__MISSING"),I=M.get()),!E||!T?(E=I.width,T=I.height):(E=Math.floor(E),T=Math.floor(T)),this._tilePosition=new l,this._tileScale=new l(1,1),this.dirty=!1,this.renderer=R,this.canvas=a.create(this,E,T),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=M,this.displayFrame=I,this._crop=this.resetCropObject(),this._textureKey=p(),this.texture=b.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=u(I.width),this.potHeight=u(I.height),this.fillCanvas=a.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(w,C),this.setSize(E,T),this.setFrame(P),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(x,b){return this.displayTexture=this.scene.sys.textures.get(x),this.setFrame(b)},setFrame:function(x){var b=this.displayTexture.get(x);return this.potWidth=u(b.width),this.potHeight=u(b.height),this.canvas.width=0,!b.cutWidth||!b.cutHeight?this.renderFlags&=~m:this.renderFlags|=m,this.displayFrame=b,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(x,b){return x!==void 0&&(this.tilePositionX=x),b!==void 0&&(this.tilePositionY=b),this},setTileScale:function(x,b){return x===void 0&&(x=this.tileScaleX),b===void 0&&(b=x),this.tileScaleX=x,this.tileScaleY=b,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var x=this.displayFrame;if(x.source.isRenderTexture||x.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var b=this.fillContext,w=this.fillCanvas,C=this.potWidth,E=this.potHeight;(!this.renderer||!this.renderer.gl)&&(C=x.cutWidth,E=x.cutHeight),b.clearRect(0,0,C,E),w.width=C,w.height=E,b.drawImage(x.source.image,x.cutX,x.cutY,x.cutWidth,x.cutHeight,0,0,C,E),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(w,this.fillPattern):this.fillPattern=b.createPattern(w,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var x=this.canvas;if((x.width!==this.width||x.height!==this.height)&&(x.width=this.width,x.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var b=this.context;this.scene.sys.game.config.antialias||o.disable(b);var w=this._tileScale.x,C=this._tileScale.y,E=this._tilePosition.x,T=this._tilePosition.y;b.clearRect(0,0,this.width,this.height),b.save(),b.scale(w,C),b.translate(-E,-T),b.fillStyle=this.fillPattern,b.fillRect(E,T,this.width/w,this.height/C),b.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),a.remove(this.canvas),a.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var x=this.texture;x&&x.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(x){this._tilePosition.x=x,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(x){this._tilePosition.y=x,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(x){this._tileScale.x=x,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(x){this._tileScale.y=x,this.dirty=!0}}});s.exports=y},46992:s=>{var g=function(i,a,v,f){a.updateCanvas(),v.addToRenderList(a),i.batchSprite(a,a.frame,v,f)};s.exports=g},14167:(s,g,i)=>{var a=i(25305),v=i(44603),f=i(23568),h=i(20839);v.register("tileSprite",function(u,o){u===void 0&&(u={});var d=f(u,"x",0),p=f(u,"y",0),l=f(u,"width",512),m=f(u,"height",512),y=f(u,"key",""),x=f(u,"frame",""),b=new h(this.scene,d,p,l,m,y,x);return o!==void 0&&(u.add=o),a(this.scene,b,u),b})},91681:(s,g,i)=>{var a=i(20839),v=i(39429);v.register("tileSprite",function(f,h,u,o,d,p){return this.displayList.add(new a(this.scene,f,h,u,o,d,p))})},56295:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(18553),f=i(46992),s.exports={renderWebGL:v,renderCanvas:f}},18553:(s,g,i)=>{var a=i(70554),v=function(f,h,u,o){h.updateCanvas();var d=h.width,p=h.height;if(!(d===0||p===0)){u.addToRenderList(h);var l=a.getTintAppendFloatAlpha,m=f.pipelines.set(h.pipeline,h),y=m.setTexture2D(h.fillPattern,h);m.batchTexture(h,h.fillPattern,h.displayFrame.width*h.tileScaleX,h.displayFrame.height*h.tileScaleY,h.x,h.y,d,p,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.originX*d,h.originY*p,0,0,d,p,l(h.tintTopLeft,u.alpha*h._alphaTL),l(h.tintTopRight,u.alpha*h._alphaTR),l(h.tintBottomLeft,u.alpha*h._alphaBL),l(h.tintBottomRight,u.alpha*h._alphaBR),h.tintFill,h.tilePositionX%h.displayFrame.width/h.displayFrame.width,h.tilePositionY%h.displayFrame.height/h.displayFrame.height,u,o,!1,y)}};s.exports=v},18471:(s,g,i)=>{var a=i(45319),v=i(83419),f=i(31401),h=i(51708),u=i(8443),o=i(95643),d=i(36383),p=i(14463),l=i(45650),m=i(10247),y=new v({Extends:o,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.TextureCrop,f.Tint,f.Transform,f.Visible,m],initialize:function(b,w,C,E){o.call(this,b,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=l(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var T=b.sys.game;this._device=T.device.video,this.setPosition(w,C),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),T.events.on(u.PAUSE,this.globalPause,this),T.events.on(u.RESUME,this.globalResume,this);var k=b.sys.sound;k&&k.on(p.GLOBAL_MUTE,this.globalMute,this),E&&this.load(E)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(x){var b=this.scene.sys.cache.video.get(x);return b?(this.cacheKey=x,this.loadHandler(b.url,b.noAudio,b.crossOrigin)):console.warn("No video in cache for key: "+x),this},changeSource:function(x,b,w,C,E){b===void 0&&(b=!0),w===void 0&&(w=!1),this.cacheKey!==x&&(this.load(x),b&&this.play(w,C,E))},getVideoKey:function(){return this.cacheKey},loadURL:function(x,b,w){b===void 0&&(b=!1);var C=this._device.getVideoURL(x);return C?(this.cacheKey="",this.loadHandler(C.url,b,w)):console.warn("No supported video format found for "+x),this},loadMediaStream:function(x,b,w){return this.loadHandler(null,b,w,x)},loadHandler:function(x,b,w,C){b||(b=!1);var E=this.video;if(E?(this.removeLoadEventHandlers(),this.stop()):(E=document.createElement("video"),E.controls=!1,E.setAttribute("playsinline","playsinline"),E.setAttribute("preload","auto"),E.setAttribute("disablePictureInPicture","true")),b?(E.muted=!0,E.defaultMuted=!0,E.setAttribute("autoplay","autoplay")):(E.muted=!1,E.defaultMuted=!1,E.removeAttribute("autoplay")),w?E.setAttribute("crossorigin",w):E.removeAttribute("crossorigin"),C)if("srcObject"in E)try{E.srcObject=C}catch(k){if(k.name!=="TypeError")throw k;E.src=URL.createObjectURL(C)}else E.src=URL.createObjectURL(C);else E.src=x;this.retry=0,this.video=E,this._playCalled=!1,E.load(),this.addLoadEventHandlers();var T=this.scene.sys.textures.get(this._key);return this.setTexture(T),this},requestVideoFrame:function(x,b){var w=this.video;if(w){var C=b.width,E=b.height,T=this.videoTexture,k=this.videoTextureSource,P=!T||k.source!==w;P?(this._codePaused=w.paused,this._codeMuted=w.muted,T?(k.source=w,k.width=C,k.height=E,T.get().setSize(C,E)):(T=this.scene.sys.textures.create(this._key,w,C,E),T.add("__BASE",0,0,0,C,E),this.setTexture(T),this.videoTexture=T,this.videoTextureSource=T.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(h.VIDEO_TEXTURE,this,T)),this.setSizeToFrame(),this.updateDisplayOrigin()):k.update(),this.isStalled=!1,this.metadata=b;var R=b.mediaTime;P&&(this._lastUpdate=R,this.emit(h.VIDEO_CREATED,this,C,E),this.frameReady||(this.frameReady=!0,this.emit(h.VIDEO_PLAY,this))),this._playingMarker?R>=this._markerOut&&(w.loop?(w.currentTime=this._markerIn,this.emit(h.VIDEO_LOOP,this)):(this.stop(!1),this.emit(h.VIDEO_COMPLETE,this))):R<this._lastUpdate&&this.emit(h.VIDEO_LOOP,this),this._lastUpdate=R,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(x,b,w){b===void 0&&(b=-1),w===void 0&&(w=d.MAX_SAFE_INTEGER);var C=this.video;return!C||this.isPlaying()?(C||console.warn("Video not loaded"),this):(x===void 0&&(x=C.loop),C.loop=x,this._markerIn=b,this._markerOut=w,this._playingMarker=b>-1&&w>b&&w<d.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=C.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var x=this.video;x&&(x.addEventListener("error",this._loadCallbackHandler),x.addEventListener("abort",this._loadCallbackHandler),x.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var x=this.video;x&&(x.removeEventListener("error",this._loadCallbackHandler),x.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var x=this.video;if(x){var b=this._callbacks;for(var w in b)x.addEventListener(w,b[w])}},removeEventHandlers:function(){var x=this.video;if(x){var b=this._callbacks;for(var w in b)x.removeEventListener(w,b[w])}},createPlayPromise:function(x){x===void 0&&(x=!0);var b=this.video,w=b.play();if(w!==void 0){var C=this.playSuccess.bind(this),E=this.playError.bind(this);if(!x){var T=this;E=function(){T.failedPlayAttempts++}}w.then(C).catch(E)}else b.addEventListener("playing",this._callbacks.legacy),x||this.failedPlayAttempts++},addMarker:function(x,b,w){return!isNaN(b)&&b>=0&&!isNaN(w)&&w>b&&(this.markers[x]=[b,w]),this},playMarker:function(x,b){var w=this.markers[x];return w&&this.play(b,w[0],w[1]),this},removeMarker:function(x){return delete this.markers[x],this},snapshot:function(x,b){return x===void 0&&(x=this.width),b===void 0&&(b=this.height),this.snapshotArea(0,0,this.width,this.height,x,b)},snapshotArea:function(x,b,w,C,E,T){x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=this.width),C===void 0&&(C=this.height),E===void 0&&(E=w),T===void 0&&(T=C);var k=this.video,P=this.snapshotTexture;return P?(P.setSize(E,T),k&&P.context.drawImage(k,x,b,w,C,0,0,E,T)):(P=this.scene.sys.textures.createCanvas(l(),E,T),this.snapshotTexture=P,k&&P.context.drawImage(k,x,b,w,C,0,0,E,T)),P.update()},saveSnapshotTexture:function(x){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,x):this.snapshotTexture=this.scene.sys.textures.createCanvas(x,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(h.VIDEO_UNLOCKED,this));var x=this.scene.sys.sound;x&&x.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(x){var b=x.name;b==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(h.VIDEO_LOCKED,this)):b==="NotSupportedError"?(this.stop(!1),this.emit(h.VIDEO_UNSUPPORTED,this,x)):(this.stop(!1),this.emit(h.VIDEO_ERROR,this,x))},legacyPlayHandler:function(){var x=this.video;x&&(this.playSuccess(),x.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(h.VIDEO_PLAYING,this)},loadErrorHandler:function(x){this.stop(!1),this.emit(h.VIDEO_ERROR,this,x)},metadataHandler:function(x){this.emit(h.VIDEO_METADATA,this,x)},setSizeToFrame:function(x){x||(x=this.frame),this.width=x.realWidth,this.height=x.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var b=this.input;return b&&!b.customHitArea&&(b.hitArea.width=this.width,b.hitArea.height=this.height),this},stalledHandler:function(x){this.isStalled=!0,this.emit(h.VIDEO_STALLED,this,x)},completeHandler:function(){this._playCalled=!1,this.emit(h.VIDEO_COMPLETE,this)},preUpdate:function(x,b){var w=this.video;!w||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=b,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(x){var b=this.video;if(b){var w=b.duration;if(w!==1/0&&!isNaN(w)){var C=w*x;this.setCurrentTime(C)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(x){var b=this.video;if(b){if(typeof x=="string"){var w=x[0],C=parseFloat(x.substr(1));w==="+"?x=b.currentTime+C:w==="-"&&(x=b.currentTime-C)}b.currentTime=x}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(h.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(h.VIDEO_SEEKED,this)},getProgress:function(){var x=this.video;if(x){var b=x.duration;if(b!==1/0&&!isNaN(b))return x.currentTime/b}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(x){x===void 0&&(x=!0),this._codeMuted=x;var b=this.video;return b&&(b.muted=this._systemMuted?!0:x),this},isMuted:function(){return this._codeMuted},globalMute:function(x,b){this._systemMuted=b;var w=this.video;w&&(w.muted=this._codeMuted?!0:b)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(x){x===void 0&&(x=!0);var b=this.video;return this._codePaused=x,b&&!b.ended&&(x?b.paused||(this.removeEventHandlers(),b.pause()):x||(this._playCalled?b.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(x){return x===void 0&&(x=1),this.video&&(this.video.volume=a(x,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(x){return this.video&&(this.video.playbackRate=x),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(x){return x===void 0&&(x=!0),this.video&&(this.video.loop=x),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(x,b){return b===void 0&&(b=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,x),this.videoTextureSource.setFlipY(b)),this._key=x,this.flipY=b,!!this.videoTexture},stop:function(x){x===void 0&&(x=!0);var b=this.video;return b&&(this.removeEventHandlers(),b.cancelVideoFrameCallback(this._rfvCallbackId),b.pause()),this.retry=0,this._playCalled=!1,x&&this.emit(h.VIDEO_STOP,this),this},removeVideoElement:function(){var x=this.video;if(x){for(x.parentNode&&x.parentNode.removeChild(x);x.hasChildNodes();)x.removeChild(x.firstChild);x.removeAttribute("autoplay"),x.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var x=this.scene.sys.game.events;x.off(u.PAUSE,this.globalPause,this),x.off(u.RESUME,this.globalResume,this);var b=this.scene.sys.sound;b&&b.off(p.GLOBAL_MUTE,this.globalMute,this)}});s.exports=y},58352:s=>{var g=function(i,a,v,f){a.videoTexture&&(v.addToRenderList(a),i.batchSprite(a,a.frame,v,f))};s.exports=g},11511:(s,g,i)=>{var a=i(25305),v=i(44603),f=i(23568),h=i(18471);v.register("video",function(u,o){u===void 0&&(u={});var d=f(u,"key",null),p=new h(this.scene,0,0,d);return o!==void 0&&(u.add=o),a(this.scene,p,u),p})},89025:(s,g,i)=>{var a=i(18471),v=i(39429);v.register("video",function(f,h,u){return this.displayList.add(new a(this.scene,f,h,u))})},10247:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(29849),f=i(58352),s.exports={renderWebGL:v,renderCanvas:f}},29849:s=>{var g=function(i,a,v,f){a.videoTexture&&(v.addToRenderList(a),a.pipeline.batchSprite(a,v,f))};s.exports=g},41481:(s,g,i)=>{var a=i(10312),v=i(96503),f=i(87902),h=i(83419),u=i(31401),o=i(95643),d=i(87841),p=i(37303),l=new h({Extends:o,Mixins:[u.Depth,u.GetBounds,u.Origin,u.Transform,u.ScrollFactor,u.Visible],initialize:function(y,x,b,w,C){w===void 0&&(w=1),C===void 0&&(C=w),o.call(this,y,"Zone"),this.setPosition(x,b),this.width=w,this.height=C,this.blendMode=a.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(m){this.scaleX=m/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(m){this.scaleY=m/this.height}},setSize:function(m,y,x){x===void 0&&(x=!0),this.width=m,this.height=y,this.updateDisplayOrigin();var b=this.input;return x&&b&&!b.customHitArea&&(b.hitArea.width=m,b.hitArea.height=y),this},setDisplaySize:function(m,y){return this.displayWidth=m,this.displayHeight=y,this},setCircleDropZone:function(m){return this.setDropZone(new v(0,0,m),f)},setRectangleDropZone:function(m,y){return this.setDropZone(new d(0,0,m,y),p)},setDropZone:function(m,y){return this.input||this.setInteractive(m,y,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(m,y,x){x.addToRenderList(y)},renderWebGL:function(m,y,x){x.addToRenderList(y)}});s.exports=l},95261:(s,g,i)=>{var a=i(44603),v=i(23568),f=i(41481);a.register("zone",function(h){var u=v(h,"x",0),o=v(h,"y",0),d=v(h,"width",1),p=v(h,"height",d);return new f(this.scene,u,o,d,p)})},84175:(s,g,i)=>{var a=i(41481),v=i(39429);v.register("zone",function(f,h,u,o){return this.displayList.add(new a(this.scene,f,h,u,o))})},95166:s=>{var g=function(i){return i.radius>0?Math.PI*i.radius*i.radius:0};s.exports=g},96503:(s,g,i)=>{var a=i(83419),v=i(87902),f=i(26241),h=i(79124),u=i(23777),o=i(28176),d=new a({initialize:function(l,m,y){l===void 0&&(l=0),m===void 0&&(m=0),y===void 0&&(y=0),this.type=u.CIRCLE,this.x=l,this.y=m,this._radius=y,this._diameter=y*2},contains:function(p,l){return v(this,p,l)},getPoint:function(p,l){return f(this,p,l)},getPoints:function(p,l,m){return h(this,p,l,m)},getRandomPoint:function(p){return o(this,p)},setTo:function(p,l,m){return this.x=p,this.y=l,this._radius=m,this._diameter=m*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(p,l){return l===void 0&&(l=p),this.x=p,this.y=l,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(p){this._radius=p,this._diameter=p*2}},diameter:{get:function(){return this._diameter},set:function(p){this._diameter=p,this._radius=p*.5}},left:{get:function(){return this.x-this._radius},set:function(p){this.x=p+this._radius}},right:{get:function(){return this.x+this._radius},set:function(p){this.x=p-this._radius}},top:{get:function(){return this.y-this._radius},set:function(p){this.y=p+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(p){this.y=p-this._radius}}});s.exports=d},71562:s=>{var g=function(i){return 2*(Math.PI*i.radius)};s.exports=g},92110:(s,g,i)=>{var a=i(2141),v=function(f,h,u){return u===void 0&&(u=new a),u.x=f.x+f.radius*Math.cos(h),u.y=f.y+f.radius*Math.sin(h),u};s.exports=v},42250:(s,g,i)=>{var a=i(96503),v=function(f){return new a(f.x,f.y,f.radius)};s.exports=v},87902:s=>{var g=function(i,a,v){if(i.radius>0&&a>=i.left&&a<=i.right&&v>=i.top&&v<=i.bottom){var f=(i.x-a)*(i.x-a),h=(i.y-v)*(i.y-v);return f+h<=i.radius*i.radius}else return!1};s.exports=g},5698:(s,g,i)=>{var a=i(87902),v=function(f,h){return a(f,h.x,h.y)};s.exports=v},70588:(s,g,i)=>{var a=i(87902),v=function(f,h){return a(f,h.x,h.y)&&a(f,h.right,h.y)&&a(f,h.x,h.bottom)&&a(f,h.right,h.bottom)};s.exports=v},26394:s=>{var g=function(i,a){return a.setTo(i.x,i.y,i.radius)};s.exports=g},76278:s=>{var g=function(i,a){return i.x===a.x&&i.y===a.y&&i.radius===a.radius};s.exports=g},2074:(s,g,i)=>{var a=i(87841),v=function(f,h){return h===void 0&&(h=new a),h.x=f.left,h.y=f.top,h.width=f.diameter,h.height=f.diameter,h};s.exports=v},26241:(s,g,i)=>{var a=i(92110),v=i(62945),f=i(36383),h=i(2141),u=function(o,d,p){p===void 0&&(p=new h);var l=v(d,0,f.PI2);return a(o,l,p)};s.exports=u},79124:(s,g,i)=>{var a=i(71562),v=i(92110),f=i(62945),h=i(36383),u=function(o,d,p,l){l===void 0&&(l=[]),!d&&p>0&&(d=a(o)/p);for(var m=0;m<d;m++){var y=f(m/d,0,h.PI2);l.push(v(o,y))}return l};s.exports=u},50884:s=>{var g=function(i,a,v){return i.x+=a,i.y+=v,i};s.exports=g},39212:s=>{var g=function(i,a){return i.x+=a.x,i.y+=a.y,i};s.exports=g},28176:(s,g,i)=>{var a=i(2141),v=function(f,h){h===void 0&&(h=new a);var u=2*Math.PI*Math.random(),o=Math.random()+Math.random(),d=o>1?2-o:o,p=d*Math.cos(u),l=d*Math.sin(u);return h.x=f.x+p*f.radius,h.y=f.y+l*f.radius,h};s.exports=v},88911:(s,g,i)=>{var a=i(96503);a.Area=i(95166),a.Circumference=i(71562),a.CircumferencePoint=i(92110),a.Clone=i(42250),a.Contains=i(87902),a.ContainsPoint=i(5698),a.ContainsRect=i(70588),a.CopyFrom=i(26394),a.Equals=i(76278),a.GetBounds=i(2074),a.GetPoint=i(26241),a.GetPoints=i(79124),a.Offset=i(50884),a.OffsetPoint=i(39212),a.Random=i(28176),s.exports=a},23777:s=>{var g={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};s.exports=g},78874:s=>{var g=function(i){return i.isEmpty()?0:i.getMajorRadius()*i.getMinorRadius()*Math.PI};s.exports=g},92990:s=>{var g=function(i){var a=i.width/2,v=i.height/2,f=Math.pow(a-v,2)/Math.pow(a+v,2);return Math.PI*(a+v)*(1+3*f/(10+Math.sqrt(4-3*f)))};s.exports=g},79522:(s,g,i)=>{var a=i(2141),v=function(f,h,u){u===void 0&&(u=new a);var o=f.width/2,d=f.height/2;return u.x=f.x+o*Math.cos(h),u.y=f.y+d*Math.sin(h),u};s.exports=v},58102:(s,g,i)=>{var a=i(8497),v=function(f){return new a(f.x,f.y,f.width,f.height)};s.exports=v},81154:s=>{var g=function(i,a,v){if(i.width<=0||i.height<=0)return!1;var f=(a-i.x)/i.width,h=(v-i.y)/i.height;return f*=f,h*=h,f+h<.25};s.exports=g},46662:(s,g,i)=>{var a=i(81154),v=function(f,h){return a(f,h.x,h.y)};s.exports=v},1632:(s,g,i)=>{var a=i(81154),v=function(f,h){return a(f,h.x,h.y)&&a(f,h.right,h.y)&&a(f,h.x,h.bottom)&&a(f,h.right,h.bottom)};s.exports=v},65534:s=>{var g=function(i,a){return a.setTo(i.x,i.y,i.width,i.height)};s.exports=g},8497:(s,g,i)=>{var a=i(83419),v=i(81154),f=i(90549),h=i(48320),u=i(23777),o=i(24820),d=new a({initialize:function(l,m,y,x){l===void 0&&(l=0),m===void 0&&(m=0),y===void 0&&(y=0),x===void 0&&(x=0),this.type=u.ELLIPSE,this.x=l,this.y=m,this.width=y,this.height=x},contains:function(p,l){return v(this,p,l)},getPoint:function(p,l){return f(this,p,l)},getPoints:function(p,l,m){return h(this,p,l,m)},getRandomPoint:function(p){return o(this,p)},setTo:function(p,l,m,y){return this.x=p,this.y=l,this.width=m,this.height=y,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(p,l){return l===void 0&&(l=p),this.x=p,this.y=l,this},setSize:function(p,l){return l===void 0&&(l=p),this.width=p,this.height=l,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(p){this.x=p+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(p){this.x=p-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(p){this.y=p+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(p){this.y=p-this.height/2}}});s.exports=d},36146:s=>{var g=function(i,a){return i.x===a.x&&i.y===a.y&&i.width===a.width&&i.height===a.height};s.exports=g},23694:(s,g,i)=>{var a=i(87841),v=function(f,h){return h===void 0&&(h=new a),h.x=f.left,h.y=f.top,h.width=f.width,h.height=f.height,h};s.exports=v},90549:(s,g,i)=>{var a=i(79522),v=i(62945),f=i(36383),h=i(2141),u=function(o,d,p){p===void 0&&(p=new h);var l=v(d,0,f.PI2);return a(o,l,p)};s.exports=u},48320:(s,g,i)=>{var a=i(92990),v=i(79522),f=i(62945),h=i(36383),u=function(o,d,p,l){l===void 0&&(l=[]),!d&&p>0&&(d=a(o)/p);for(var m=0;m<d;m++){var y=f(m/d,0,h.PI2);l.push(v(o,y))}return l};s.exports=u},73424:s=>{var g=function(i,a,v){return i.x+=a,i.y+=v,i};s.exports=g},44808:s=>{var g=function(i,a){return i.x+=a.x,i.y+=a.y,i};s.exports=g},24820:(s,g,i)=>{var a=i(2141),v=function(f,h){h===void 0&&(h=new a);var u=Math.random()*Math.PI*2,o=Math.sqrt(Math.random());return h.x=f.x+o*Math.cos(u)*f.width/2,h.y=f.y+o*Math.sin(u)*f.height/2,h};s.exports=v},49203:(s,g,i)=>{var a=i(8497);a.Area=i(78874),a.Circumference=i(92990),a.CircumferencePoint=i(79522),a.Clone=i(58102),a.Contains=i(81154),a.ContainsPoint=i(46662),a.ContainsRect=i(1632),a.CopyFrom=i(65534),a.Equals=i(36146),a.GetBounds=i(23694),a.GetPoint=i(90549),a.GetPoints=i(48320),a.Offset=i(73424),a.OffsetPoint=i(44808),a.Random=i(24820),s.exports=a},55738:(s,g,i)=>{var a=i(23777),v=i(79291),f={Circle:i(88911),Ellipse:i(49203),Intersects:i(91865),Line:i(2529),Mesh:i(73090),Point:i(43711),Polygon:i(58423),Rectangle:i(93232),Triangle:i(84435)};f=v(!1,f,a),s.exports=f},2044:(s,g,i)=>{var a=i(20339),v=function(f,h){return a(f.x,f.y,h.x,h.y)<=f.radius+h.radius};s.exports=v},81491:s=>{var g=function(i,a){var v=a.width/2,f=a.height/2,h=Math.abs(i.x-a.x-v),u=Math.abs(i.y-a.y-f),o=v+i.radius,d=f+i.radius;if(h>o||u>d)return!1;if(h<=v||u<=f)return!0;var p=h-v,l=u-f,m=p*p,y=l*l,x=i.radius*i.radius;return m+y<=x};s.exports=g},63376:(s,g,i)=>{var a=i(2141),v=i(2044),f=function(h,u,o){if(o===void 0&&(o=[]),v(h,u)){var d=h.x,p=h.y,l=h.radius,m=u.x,y=u.y,x=u.radius,b,w,C,E,T;if(p===y)T=(x*x-l*l-m*m+d*d)/(2*(d-m)),b=1,w=-2*y,C=m*m+T*T-2*m*T+y*y-x*x,E=w*w-4*b*C,E===0?o.push(new a(T,-w/(2*b))):E>0&&(o.push(new a(T,(-w+Math.sqrt(E))/(2*b))),o.push(new a(T,(-w-Math.sqrt(E))/(2*b))));else{var k=(d-m)/(p-y),P=(x*x-l*l-m*m+d*d-y*y+p*p)/(2*(p-y));b=k*k+1,w=2*p*k-2*P*k-2*d,C=d*d+p*p+P*P-l*l-2*p*P,E=w*w-4*b*C,E===0?(T=-w/(2*b),o.push(new a(T,P-T*k))):E>0&&(T=(-w+Math.sqrt(E))/(2*b),o.push(new a(T,P-T*k)),T=(-w-Math.sqrt(E))/(2*b),o.push(new a(T,P-T*k)))}}return o};s.exports=f},97439:(s,g,i)=>{var a=i(4042),v=i(81491),f=function(h,u,o){if(o===void 0&&(o=[]),v(h,u)){var d=u.getLineA(),p=u.getLineB(),l=u.getLineC(),m=u.getLineD();a(d,h,o),a(p,h,o),a(l,h,o),a(m,h,o)}return o};s.exports=f},4042:(s,g,i)=>{var a=i(2141),v=i(80462),f=function(h,u,o){if(o===void 0&&(o=[]),v(h,u)){var d=h.x1,p=h.y1,l=h.x2,m=h.y2,y=u.x,x=u.y,b=u.radius,w=l-d,C=m-p,E=d-y,T=p-x,k=w*w+C*C,P=2*(w*E+C*T),R=E*E+T*T-b*b,M=P*P-4*k*R,I,B;if(M===0){var D=-P/(2*k);I=d+D*w,B=p+D*C,D>=0&&D<=1&&o.push(new a(I,B))}else if(M>0){var N=(-P-Math.sqrt(M))/(2*k);I=d+N*w,B=p+N*C,N>=0&&N<=1&&o.push(new a(I,B));var _=(-P+Math.sqrt(M))/(2*k);I=d+_*w,B=p+_*C,_>=0&&_<=1&&o.push(new a(I,B))}}return o};s.exports=f},36100:(s,g,i)=>{var a=i(25836),v=function(f,h,u,o){u===void 0&&(u=!1);var d=f.x1,p=f.y1,l=f.x2,m=f.y2,y=h.x1,x=h.y1,b=h.x2,w=h.y2,C=l-d,E=m-p,T=b-y,k=w-x,P=C*k-E*T;if(P===0)return null;var R,M,I;if(u){if(R=(C*(x-p)+E*(d-y))/(T*E-k*C),M=(y+T*R-d)/C,M<0||R<0||R>1)return null;I=M}else{if(R=((y-d)*k-(x-p)*T)/P,M=((p-x)*C-(d-y)*E)/P,R<0||R>1||M<0||M>1)return null;I=R}return o===void 0&&(o=new a),o.set(d+C*I,p+E*I,I)};s.exports=v},3073:(s,g,i)=>{var a=i(36100),v=i(23031),f=i(25836),h=new v,u=new f,o=function(d,p,l,m){l===void 0&&(l=!1),m===void 0&&(m=new f);var y=!1;m.set(),u.set();for(var x=p[p.length-1],b=0;b<p.length;b++){var w=p[b];h.setTo(x.x,x.y,w.x,w.y),x=w,a(d,h,l,u)&&(!y||u.z<m.z)&&(m.copy(u),y=!0)}return y?m:null};s.exports=o},56362:(s,g,i)=>{var a=i(25836),v=i(61369),f=i(3073),h=new a,u=function(o,d,p,l){l===void 0&&(l=new v),Array.isArray(d)||(d=[d]);var m=!1;l.set(),h.set();for(var y=0;y<d.length;y++)f(o,d[y].points,p,h)&&(!m||h.z<l.z)&&(l.set(h.x,h.y,h.z,y),m=!0);return m?l:null};s.exports=u},60646:(s,g,i)=>{var a=i(2141),v=i(76112),f=i(92773),h=function(u,o,d){if(d===void 0&&(d=[]),f(u,o))for(var p=o.getLineA(),l=o.getLineB(),m=o.getLineC(),y=o.getLineD(),x=[new a,new a,new a,new a],b=[v(p,u,x[0]),v(l,u,x[1]),v(m,u,x[2]),v(y,u,x[3])],w=0;w<4;w++)b[w]&&d.push(x[w]);return d};s.exports=h},71147:(s,g,i)=>{var a=i(61369),v=i(56362),f=i(23031),h=new f;function u(p,l,m,y,x){var b=Math.cos(p),w=Math.sin(p);h.setTo(l,m,l+b,m+w);var C=v(h,y,!0);C&&x.push(new a(C.x,C.y,p,C.w))}function o(p,l){return p.z-l.z}var d=function(p,l,m){Array.isArray(m)||(m=[m]);for(var y=[],x=[],b=0;b<m.length;b++)for(var w=m[b].points,C=0;C<w.length;C++){var E=Math.atan2(w[C].y-l,w[C].x-p);x.indexOf(E)===-1&&(u(E,p,l,m,y),u(E-1e-5,p,l,m,y),u(E+1e-5,p,l,m,y),x.push(E))}return y.sort(o)};s.exports=d},68389:(s,g,i)=>{var a=i(87841),v=i(59996),f=function(h,u,o){return o===void 0&&(o=new a),v(h,u)&&(o.x=Math.max(h.x,u.x),o.y=Math.max(h.y,u.y),o.width=Math.min(h.right,u.right)-o.x,o.height=Math.min(h.bottom,u.bottom)-o.y),o};s.exports=f},52784:(s,g,i)=>{var a=i(60646),v=i(59996),f=function(h,u,o){if(o===void 0&&(o=[]),v(h,u)){var d=h.getLineA(),p=h.getLineB(),l=h.getLineC(),m=h.getLineD();a(d,u,o),a(p,u,o),a(l,u,o),a(m,u,o)}return o};s.exports=f},26341:(s,g,i)=>{var a=i(89265),v=i(60646),f=function(h,u,o){if(o===void 0&&(o=[]),a(h,u)){var d=u.getLineA(),p=u.getLineB(),l=u.getLineC();v(d,h,o),v(p,h,o),v(l,h,o)}return o};s.exports=f},38720:(s,g,i)=>{var a=i(4042),v=i(67636),f=function(h,u,o){if(o===void 0&&(o=[]),v(h,u)){var d=h.getLineA(),p=h.getLineB(),l=h.getLineC();a(d,u,o),a(p,u,o),a(l,u,o)}return o};s.exports=f},13882:(s,g,i)=>{var a=i(2141),v=i(2822),f=i(76112),h=function(u,o,d){if(d===void 0&&(d=[]),v(u,o))for(var p=u.getLineA(),l=u.getLineB(),m=u.getLineC(),y=[new a,new a,new a],x=[f(p,o,y[0]),f(l,o,y[1]),f(m,o,y[2])],b=0;b<3;b++)x[b]&&d.push(y[b]);return d};s.exports=h},75636:(s,g,i)=>{var a=i(82944),v=i(13882),f=function(h,u,o){if(o===void 0&&(o=[]),a(h,u)){var d=u.getLineA(),p=u.getLineB(),l=u.getLineC();v(h,d,o),v(h,p,o),v(h,l,o)}return o};s.exports=f},80462:(s,g,i)=>{var a=i(87902),v=i(2141),f=new v,h=function(u,o,d){if(d===void 0&&(d=f),a(o,u.x1,u.y1))return d.x=u.x1,d.y=u.y1,!0;if(a(o,u.x2,u.y2))return d.x=u.x2,d.y=u.y2,!0;var p=u.x2-u.x1,l=u.y2-u.y1,m=o.x-u.x1,y=o.y-u.y1,x=p*p+l*l,b=p,w=l;if(x>0){var C=(m*p+y*l)/x;b*=C,w*=C}d.x=u.x1+b,d.y=u.y1+w;var E=b*b+w*w;return E<=x&&b*p+w*l>=0&&a(o,d.x,d.y)};s.exports=h},76112:s=>{var g=function(i,a,v){var f=i.x1,h=i.y1,u=i.x2,o=i.y2,d=a.x1,p=a.y1,l=a.x2,m=a.y2;if(f===u&&h===o||d===l&&p===m)return!1;var y=(m-p)*(u-f)-(l-d)*(o-h);if(y===0)return!1;var x=((l-d)*(h-p)-(m-p)*(f-d))/y,b=((u-f)*(h-p)-(o-h)*(f-d))/y;return x<0||x>1||b<0||b>1?!1:(v&&(v.x=f+x*(u-f),v.y=h+x*(o-h)),!0)};s.exports=g},92773:s=>{var g=function(i,a){var v=i.x1,f=i.y1,h=i.x2,u=i.y2,o=a.x,d=a.y,p=a.right,l=a.bottom,m=0;if(v>=o&&v<=p&&f>=d&&f<=l||h>=o&&h<=p&&u>=d&&u<=l)return!0;if(v<o&&h>=o){if(m=f+(u-f)*(o-v)/(h-v),m>d&&m<=l)return!0}else if(v>p&&h<=p&&(m=f+(u-f)*(p-v)/(h-v),m>=d&&m<=l))return!0;if(f<d&&u>=d){if(m=v+(h-v)*(d-f)/(u-f),m>=o&&m<=p)return!0}else if(f>l&&u<=l&&(m=v+(h-v)*(l-f)/(u-f),m>=o&&m<=p))return!0;return!1};s.exports=g},16204:s=>{var g=function(i,a,v){v===void 0&&(v=1);var f=a.x1,h=a.y1,u=a.x2,o=a.y2,d=i.x,p=i.y,l=(u-f)*(u-f)+(o-h)*(o-h);if(l===0)return!1;var m=((d-f)*(u-f)+(p-h)*(o-h))/l;if(m<0)return Math.sqrt((f-d)*(f-d)+(h-p)*(h-p))<=v;if(m>=0&&m<=1){var y=((h-p)*(u-f)-(f-d)*(o-h))/l;return Math.abs(y)*Math.sqrt(l)<=v}else return Math.sqrt((u-d)*(u-d)+(o-p)*(o-p))<=v};s.exports=g},14199:(s,g,i)=>{var a=i(16204),v=function(f,h){if(!a(f,h))return!1;var u=Math.min(h.x1,h.x2),o=Math.max(h.x1,h.x2),d=Math.min(h.y1,h.y2),p=Math.max(h.y1,h.y2);return f.x>=u&&f.x<=o&&f.y>=d&&f.y<=p};s.exports=v},59996:s=>{var g=function(i,a){return i.width<=0||i.height<=0||a.width<=0||a.height<=0?!1:!(i.right<a.x||i.bottom<a.y||i.x>a.right||i.y>a.bottom)};s.exports=g},89265:(s,g,i)=>{var a=i(76112),v=i(37303),f=i(48653),h=i(77493),u=function(o,d){if(d.left>o.right||d.right<o.left||d.top>o.bottom||d.bottom<o.top)return!1;var p=d.getLineA(),l=d.getLineB(),m=d.getLineC();if(v(o,p.x1,p.y1)||v(o,p.x2,p.y2)||v(o,l.x1,l.y1)||v(o,l.x2,l.y2)||v(o,m.x1,m.y1)||v(o,m.x2,m.y2))return!0;var y=o.getLineA(),x=o.getLineB(),b=o.getLineC(),w=o.getLineD();if(a(p,y)||a(p,x)||a(p,b)||a(p,w)||a(l,y)||a(l,x)||a(l,b)||a(l,w)||a(m,y)||a(m,x)||a(m,b)||a(m,w))return!0;var C=h(o),E=f(d,C,!0);return E.length>0};s.exports=u},84411:s=>{var g=function(i,a,v,f,h,u){return u===void 0&&(u=0),!(a>i.right+u||v<i.left-u||f>i.bottom+u||h<i.top-u)};s.exports=g},67636:(s,g,i)=>{var a=i(80462),v=i(10690),f=function(h,u){return h.left>u.right||h.right<u.left||h.top>u.bottom||h.bottom<u.top?!1:!!(v(h,u.x,u.y)||a(h.getLineA(),u)||a(h.getLineB(),u)||a(h.getLineC(),u))};s.exports=f},2822:(s,g,i)=>{var a=i(76112),v=function(f,h){return!!(f.contains(h.x1,h.y1)||f.contains(h.x2,h.y2)||a(f.getLineA(),h)||a(f.getLineB(),h)||a(f.getLineC(),h))};s.exports=v},82944:(s,g,i)=>{var a=i(48653),v=i(71694),f=i(76112),h=function(u,o){if(u.left>o.right||u.right<o.left||u.top>o.bottom||u.bottom<o.top)return!1;var d=u.getLineA(),p=u.getLineB(),l=u.getLineC(),m=o.getLineA(),y=o.getLineB(),x=o.getLineC();if(f(d,m)||f(d,y)||f(d,x)||f(p,m)||f(p,y)||f(p,x)||f(l,m)||f(l,y)||f(l,x))return!0;var b=v(u),w=a(o,b,!0);return w.length>0||(b=v(o),w=a(u,b,!0),w.length>0)};s.exports=h},91865:(s,g,i)=>{s.exports={CircleToCircle:i(2044),CircleToRectangle:i(81491),GetCircleToCircle:i(63376),GetCircleToRectangle:i(97439),GetLineToCircle:i(4042),GetLineToLine:i(36100),GetLineToPoints:i(3073),GetLineToPolygon:i(56362),GetLineToRectangle:i(60646),GetRaysFromPointToPolygon:i(71147),GetRectangleIntersection:i(68389),GetRectangleToRectangle:i(52784),GetRectangleToTriangle:i(26341),GetTriangleToCircle:i(38720),GetTriangleToLine:i(13882),GetTriangleToTriangle:i(75636),LineToCircle:i(80462),LineToLine:i(76112),LineToRectangle:i(92773),PointToLine:i(16204),PointToLineSegment:i(14199),RectangleToRectangle:i(59996),RectangleToTriangle:i(89265),RectangleToValues:i(84411),TriangleToCircle:i(67636),TriangleToLine:i(2822),TriangleToTriangle:i(82944)}},91938:s=>{var g=function(i){return Math.atan2(i.y2-i.y1,i.x2-i.x1)};s.exports=g},84993:s=>{var g=function(i,a,v){a===void 0&&(a=1),v===void 0&&(v=[]);var f=Math.round(i.x1),h=Math.round(i.y1),u=Math.round(i.x2),o=Math.round(i.y2),d=Math.abs(u-f),p=Math.abs(o-h),l=f<u?1:-1,m=h<o?1:-1,y=d-p;v.push({x:f,y:h});for(var x=1;!(f===u&&h===o);){var b=y<<1;b>-p&&(y-=p,f+=l),b<d&&(y+=d,h+=m),x%a===0&&v.push({x:f,y:h}),x++}return v};s.exports=g},36469:s=>{var g=function(i,a,v){var f=a-(i.x1+i.x2)/2,h=v-(i.y1+i.y2)/2;return i.x1+=f,i.y1+=h,i.x2+=f,i.y2+=h,i};s.exports=g},31116:(s,g,i)=>{var a=i(23031),v=function(f){return new a(f.x1,f.y1,f.x2,f.y2)};s.exports=v},59944:s=>{var g=function(i,a){return a.setTo(i.x1,i.y1,i.x2,i.y2)};s.exports=g},59220:s=>{var g=function(i,a){return i.x1===a.x1&&i.y1===a.y1&&i.x2===a.x2&&i.y2===a.y2};s.exports=g},78177:(s,g,i)=>{var a=i(35001),v=function(f,h,u){u===void 0&&(u=h);var o=a(f),d=f.x2-f.x1,p=f.y2-f.y1;return h&&(f.x1=f.x1-d/o*h,f.y1=f.y1-p/o*h),u&&(f.x2=f.x2+d/o*u,f.y2=f.y2+p/o*u),f};s.exports=v},26708:(s,g,i)=>{var a=i(52816),v=i(6113),f=i(2141),h=function(u,o,d,p,l){p===void 0&&(p=0),l===void 0&&(l=[]);var m=[],y=u.x1,x=u.y1,b=u.x2-y,w=u.y2-x,C=v(o,l),E,T,k=d-1;for(E=0;E<k;E++)T=C(E/k),m.push(new f(y+b*T,x+w*T));if(T=C(1),m.push(new f(y+b*T,x+w*T)),p>0){var P=m[0],R=[P];for(E=1;E<m.length-1;E++){var M=m[E];a(P,M)>=p&&(R.push(M),P=M)}var I=m[m.length-1];return a(P,I)<p&&R.pop(),R.push(I),R}else return m};s.exports=h},32125:(s,g,i)=>{var a=i(2141),v=function(f,h){return h===void 0&&(h=new a),h.x=(f.x1+f.x2)/2,h.y=(f.y1+f.y2)/2,h};s.exports=v},99569:(s,g,i)=>{var a=i(2141),v=function(f,h,u){u===void 0&&(u=new a);var o=f.x1,d=f.y1,p=f.x2,l=f.y2,m=(p-o)*(p-o)+(l-d)*(l-d);if(m===0)return u;var y=((h.x-o)*(p-o)+(h.y-d)*(l-d))/m;return u.x=o+y*(p-o),u.y=d+y*(l-d),u};s.exports=v},34638:(s,g,i)=>{var a=i(36383),v=i(91938),f=i(2141),h=function(u,o){o===void 0&&(o=new f);var d=v(u)-a.TAU;return o.x=Math.cos(d),o.y=Math.sin(d),o};s.exports=h},13151:(s,g,i)=>{var a=i(2141),v=function(f,h,u){return u===void 0&&(u=new a),u.x=f.x1+(f.x2-f.x1)*h,u.y=f.y1+(f.y2-f.y1)*h,u};s.exports=v},15258:(s,g,i)=>{var a=i(35001),v=i(2141),f=function(h,u,o,d){d===void 0&&(d=[]),!u&&o>0&&(u=a(h)/o);for(var p=h.x1,l=h.y1,m=h.x2,y=h.y2,x=0;x<u;x++){var b=x/u,w=p+(m-p)*b,C=l+(y-l)*b;d.push(new v(w,C))}return d};s.exports=f},26408:s=>{var g=function(i,a){var v=i.x1,f=i.y1,h=i.x2,u=i.y2,o=(h-v)*(h-v)+(u-f)*(u-f);if(o===0)return!1;var d=((f-a.y)*(h-v)-(v-a.x)*(u-f))/o;return Math.abs(d)*Math.sqrt(o)};s.exports=g},98770:s=>{var g=function(i){return Math.abs(i.y1-i.y2)};s.exports=g},35001:s=>{var g=function(i){return Math.sqrt((i.x2-i.x1)*(i.x2-i.x1)+(i.y2-i.y1)*(i.y2-i.y1))};s.exports=g},23031:(s,g,i)=>{var a=i(83419),v=i(13151),f=i(15258),h=i(23777),u=i(65822),o=i(26099),d=new a({initialize:function(l,m,y,x){l===void 0&&(l=0),m===void 0&&(m=0),y===void 0&&(y=0),x===void 0&&(x=0),this.type=h.LINE,this.x1=l,this.y1=m,this.x2=y,this.y2=x},getPoint:function(p,l){return v(this,p,l)},getPoints:function(p,l,m){return f(this,p,l,m)},getRandomPoint:function(p){return u(this,p)},setTo:function(p,l,m,y){return p===void 0&&(p=0),l===void 0&&(l=0),m===void 0&&(m=0),y===void 0&&(y=0),this.x1=p,this.y1=l,this.x2=m,this.y2=y,this},setFromObjects:function(p,l){return this.x1=p.x,this.y1=p.y,this.x2=l.x,this.y2=l.y,this},getPointA:function(p){return p===void 0&&(p=new o),p.set(this.x1,this.y1),p},getPointB:function(p){return p===void 0&&(p=new o),p.set(this.x2,this.y2),p},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(p){this.x1<=this.x2?this.x1=p:this.x2=p}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(p){this.x1>this.x2?this.x1=p:this.x2=p}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(p){this.y1<=this.y2?this.y1=p:this.y2=p}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(p){this.y1>this.y2?this.y1=p:this.y2=p}}});s.exports=d},64795:(s,g,i)=>{var a=i(36383),v=i(15994),f=i(91938),h=function(u){var o=f(u)-a.TAU;return v(o,-Math.PI,Math.PI)};s.exports=h},52616:(s,g,i)=>{var a=i(36383),v=i(91938),f=function(h){return Math.cos(v(h)-a.TAU)};s.exports=f},87231:(s,g,i)=>{var a=i(36383),v=i(91938),f=function(h){return Math.sin(v(h)-a.TAU)};s.exports=f},89662:s=>{var g=function(i,a,v){return i.x1+=a,i.y1+=v,i.x2+=a,i.y2+=v,i};s.exports=g},71165:s=>{var g=function(i){return-((i.x2-i.x1)/(i.y2-i.y1))};s.exports=g},65822:(s,g,i)=>{var a=i(2141),v=function(f,h){h===void 0&&(h=new a);var u=Math.random();return h.x=f.x1+u*(f.x2-f.x1),h.y=f.y1+u*(f.y2-f.y1),h};s.exports=v},69777:(s,g,i)=>{var a=i(91938),v=i(64795),f=function(h,u){return 2*v(u)-Math.PI-a(h)};s.exports=f},39706:(s,g,i)=>{var a=i(64400),v=function(f,h){var u=(f.x1+f.x2)/2,o=(f.y1+f.y2)/2;return a(f,u,o,h)};s.exports=v},82585:(s,g,i)=>{var a=i(64400),v=function(f,h,u){return a(f,h.x,h.y,u)};s.exports=v},64400:s=>{var g=function(i,a,v,f){var h=Math.cos(f),u=Math.sin(f),o=i.x1-a,d=i.y1-v;return i.x1=o*h-d*u+a,i.y1=o*u+d*h+v,o=i.x2-a,d=i.y2-v,i.x2=o*h-d*u+a,i.y2=o*u+d*h+v,i};s.exports=g},62377:s=>{var g=function(i,a,v,f,h){return i.x1=a,i.y1=v,i.x2=a+Math.cos(f)*h,i.y2=v+Math.sin(f)*h,i};s.exports=g},71366:s=>{var g=function(i){return(i.y2-i.y1)/(i.x2-i.x1)};s.exports=g},10809:s=>{var g=function(i){return Math.abs(i.x1-i.x2)};s.exports=g},2529:(s,g,i)=>{var a=i(23031);a.Angle=i(91938),a.BresenhamPoints=i(84993),a.CenterOn=i(36469),a.Clone=i(31116),a.CopyFrom=i(59944),a.Equals=i(59220),a.Extend=i(78177),a.GetEasedPoints=i(26708),a.GetMidPoint=i(32125),a.GetNearestPoint=i(99569),a.GetNormal=i(34638),a.GetPoint=i(13151),a.GetPoints=i(15258),a.GetShortestDistance=i(26408),a.Height=i(98770),a.Length=i(35001),a.NormalAngle=i(64795),a.NormalX=i(52616),a.NormalY=i(87231),a.Offset=i(89662),a.PerpSlope=i(71165),a.Random=i(65822),a.ReflectAngle=i(69777),a.Rotate=i(39706),a.RotateAroundPoint=i(82585),a.RotateAroundXY=i(64400),a.SetToAngle=i(62377),a.Slope=i(71366),a.Width=i(10809),s.exports=a},83997:(s,g,i)=>{var a=i(83419),v=i(87841),f=i(26099);function h(o,d,p,l){var m=o-p,y=d-l,x=m*m+y*y;return Math.sqrt(x)}var u=new a({initialize:function(d,p,l){this.vertex1=d,this.vertex2=p,this.vertex3=l,this.bounds=new v,this._inCenter=new f},getInCenter:function(o){o===void 0&&(o=!0);var d=this.vertex1,p=this.vertex2,l=this.vertex3,m,y,x,b,w,C;o?(m=d.x,y=d.y,x=p.x,b=p.y,w=l.x,C=l.y):(m=d.vx,y=d.vy,x=p.vx,b=p.vy,w=l.vx,C=l.vy);var E=h(w,C,x,b),T=h(m,y,w,C),k=h(x,b,m,y),P=E+T+k;return this._inCenter.set((m*E+x*T+w*k)/P,(y*E+b*T+C*k)/P)},contains:function(o,d,p){var l=this.vertex1,m=this.vertex2,y=this.vertex3,x=l.vx,b=l.vy,w=m.vx,C=m.vy,E=y.vx,T=y.vy;if(p){var k=p.a,P=p.b,R=p.c,M=p.d,I=p.e,B=p.f;x=l.vx*k+l.vy*R+I,b=l.vx*P+l.vy*M+B,w=m.vx*k+m.vy*R+I,C=m.vx*P+m.vy*M+B,E=y.vx*k+y.vy*R+I,T=y.vx*P+y.vy*M+B}var D=E-x,N=T-b,_=w-x,G=C-b,$=o-x,V=d-b,Y=D*D+N*N,U=D*_+N*G,F=D*$+N*V,O=_*_+G*G,j=_*$+G*V,z=Y*O-U*U,W=z===0?0:1/z,q=(O*F-U*j)*W,ot=(Y*j-U*F)*W;return q>=0&&ot>=0&&q+ot<1},isCounterClockwise:function(o){var d=this.vertex1,p=this.vertex2,l=this.vertex3,m=(p.vx-d.vx)*(l.vy-d.vy)-(p.vy-d.vy)*(l.vx-d.vx);return o<=0?m>=0:m<0},load:function(o,d,p,l,m){return p=this.vertex1.load(o,d,p,l,m),p=this.vertex2.load(o,d,p,l,m),p=this.vertex3.load(o,d,p,l,m),p},transformCoordinatesLocal:function(o,d,p,l){return this.vertex1.transformCoordinatesLocal(o,d,p,l),this.vertex2.transformCoordinatesLocal(o,d,p,l),this.vertex3.transformCoordinatesLocal(o,d,p,l),this},updateBounds:function(){var o=this.vertex1,d=this.vertex2,p=this.vertex3,l=this.bounds;return l.x=Math.min(o.vx,d.vx,p.vx),l.y=Math.min(o.vy,d.vy,p.vy),l.width=Math.max(o.vx,d.vx,p.vx)-l.x,l.height=Math.max(o.vy,d.vy,p.vy)-l.y,this},isInView:function(o,d,p,l,m,y,x,b,w,C,E){this.update(l,m,y,x,b,w,C,E);var T=this.vertex1,k=this.vertex2,P=this.vertex3;if(T.ta<=0&&k.ta<=0&&P.ta<=0||d&&!this.isCounterClockwise(p))return!1;var R=this.bounds;R.x=Math.min(T.tx,k.tx,P.tx),R.y=Math.min(T.ty,k.ty,P.ty),R.width=Math.max(T.tx,k.tx,P.tx)-R.x,R.height=Math.max(T.ty,k.ty,P.ty)-R.y;var M=o.x+o.width,I=o.y+o.height;return R.width<=0||R.height<=0||o.width<=0||o.height<=0?!1:!(R.right<o.x||R.bottom<o.y||R.x>M||R.y>I)},scrollUV:function(o,d){return this.vertex1.scrollUV(o,d),this.vertex2.scrollUV(o,d),this.vertex3.scrollUV(o,d),this},scaleUV:function(o,d){return this.vertex1.scaleUV(o,d),this.vertex2.scaleUV(o,d),this.vertex3.scaleUV(o,d),this},setColor:function(o){return this.vertex1.color=o,this.vertex2.color=o,this.vertex3.color=o,this},update:function(o,d,p,l,m,y,x,b){return this.vertex1.update(d,p,l,m,y,x,b,o),this.vertex2.update(d,p,l,m,y,x,b,o),this.vertex3.update(d,p,l,m,y,x,b,o),this},translate:function(o,d){d===void 0&&(d=0);var p=this.vertex1,l=this.vertex2,m=this.vertex3;return p.x+=o,p.y+=d,l.x+=o,l.y+=d,m.x+=o,m.y+=d,this},x:{get:function(){return this.getInCenter().x},set:function(o){var d=this.getInCenter();this.translate(o-d.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(o){var d=this.getInCenter();this.translate(0,o-d.y)}},alpha:{get:function(){var o=this.vertex1,d=this.vertex2,p=this.vertex3;return(o.alpha+d.alpha+p.alpha)/3},set:function(o){this.vertex1.alpha=o,this.vertex2.alpha=o,this.vertex3.alpha=o}},depth:{get:function(){var o=this.vertex1,d=this.vertex2,p=this.vertex3;return(o.vz+d.vz+p.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});s.exports=u},48803:(s,g,i)=>{var a=i(83997),v=i(95540),f=i(37867),h=i(25836),u=i(39318),o=new h,d=new h,p=new f,l=function(m){var y=v(m,"mesh"),x=v(m,"texture",null),b=v(m,"frame"),w=v(m,"width",1),C=v(m,"height",w),E=v(m,"widthSegments",1),T=v(m,"heightSegments",E),k=v(m,"x",0),P=v(m,"y",0),R=v(m,"z",0),M=v(m,"rotateX",0),I=v(m,"rotateY",0),B=v(m,"rotateZ",0),D=v(m,"zIsUp",!0),N=v(m,"isOrtho",y?y.dirtyCache[11]:!1),_=v(m,"colors",[16777215]),G=v(m,"alphas",[1]),$=v(m,"tile",!1),V=v(m,"flipY",!1),Y=v(m,"width",null),U={faces:[],verts:[]};o.set(k,P,R),d.set(M,I,B),p.fromRotationXYTranslation(d,o,D);var F;if(!x&&y)x=y.texture,b||(F=y.frame);else if(y&&typeof x=="string")x=y.scene.sys.textures.get(x);else if(!x)return U;F||(F=x.get(b)),!Y&&N&&x&&y&&(w=F.width/y.height,C=F.height/y.height);var O=w/2,j=C/2,z=Math.floor(E),W=Math.floor(T),q=z+1,ot=W+1,Q=w/z,rt=C/W,Mt=[],K=[],It,Ft,ft=0,yt=1,At=0,Bt=1;F&&(ft=F.u0,yt=F.u1,V?(At=F.v1,Bt=F.v0):(At=F.v0,Bt=F.v1));var le=yt-ft,_t=Bt-At;for(Ft=0;Ft<ot;Ft++){var xe=Ft*rt-j;for(It=0;It<q;It++){var Ee=It*Q-O;K.push(Ee,-xe);var ve=ft+le*(It/z),Fe=At+_t*(Ft/W);Mt.push(ve,Fe)}}Array.isArray(_)||(_=[_]),Array.isArray(G)||(G=[G]);var Ze=0,ei=0;for(Ft=0;Ft<W;Ft++)for(It=0;It<z;It++){var Ci=(It+q*Ft)*2,xt=(It+q*(Ft+1))*2,et=(It+1+q*(Ft+1))*2,tt=(It+1+q*Ft)*2,Ot=_[ei],ie=G[Ze],Ce=new u(K[Ci],K[Ci+1],0,Mt[Ci],Mt[Ci+1],Ot,ie).transformMat4(p),Ne=new u(K[xt],K[xt+1],0,Mt[xt],Mt[xt+1],Ot,ie).transformMat4(p),Ui=new u(K[tt],K[tt+1],0,Mt[tt],Mt[tt+1],Ot,ie).transformMat4(p),br=new u(K[xt],K[xt+1],0,Mt[xt],Mt[xt+1],Ot,ie).transformMat4(p),ar=new u(K[et],K[et+1],0,Mt[et],Mt[et+1],Ot,ie).transformMat4(p),vr=new u(K[tt],K[tt+1],0,Mt[tt],Mt[tt+1],Ot,ie).transformMat4(p);$&&(Ce.setUVs(ft,Bt),Ne.setUVs(ft,At),Ui.setUVs(yt,Bt),br.setUVs(ft,At),ar.setUVs(yt,At),vr.setUVs(yt,Bt)),ei++,ei===_.length&&(ei=0),Ze++,Ze===G.length&&(Ze=0),U.verts.push(Ce,Ne,Ui,br,ar,vr),U.faces.push(new a(Ce,Ne,Ui),new a(br,ar,vr))}return y&&(y.faces=y.faces.concat(U.faces),y.vertices=y.vertices.concat(U.verts)),U};s.exports=l},34684:(s,g,i)=>{var a=i(83997),v=i(37867),f=i(25836),h=i(39318),u=new f,o=new f,d=new v,p=function(l,m,y,x,b,w,C,E,T,k){y===void 0&&(y=1),x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=0),C===void 0&&(C=0),E===void 0&&(E=0),T===void 0&&(T=0),k===void 0&&(k=!0);var P={faces:[],verts:[]},R=l.materials;u.set(x,b,w),o.set(C,E,T),d.fromRotationXYTranslation(o,u,k);for(var M=0;M<l.models.length;M++)for(var I=l.models[M],B=I.vertices,D=I.textureCoords,N=I.faces,_=0;_<N.length;_++){var G=N[_],$=G.vertices[0],V=G.vertices[1],Y=G.vertices[2],U=B[$.vertexIndex],F=B[V.vertexIndex],O=B[Y.vertexIndex],j=$.textureCoordsIndex,z=V.textureCoordsIndex,W=Y.textureCoordsIndex,q=j===-1?{u:0,v:1}:D[j],ot=z===-1?{u:0,v:0}:D[z],Q=W===-1?{u:1,v:1}:D[W],rt=16777215;G.material!==""&&R[G.material]&&(rt=R[G.material]);var Mt=new h(U.x*y,U.y*y,U.z*y,q.u,q.v,rt).transformMat4(d),K=new h(F.x*y,F.y*y,F.z*y,ot.u,ot.v,rt).transformMat4(d),It=new h(O.x*y,O.y*y,O.z*y,Q.u,Q.v,rt).transformMat4(d);P.verts.push(Mt,K,It),P.faces.push(new a(Mt,K,It))}return m&&(m.faces=m.faces.concat(P.faces),m.vertices=m.vertices.concat(P.verts)),P};s.exports=p},92515:(s,g,i)=>{var a=i(83997),v=i(39318),f=function(h,u,o,d,p,l,m,y){if(d===void 0&&(d=!1),l===void 0&&(l=16777215),m===void 0&&(m=1),y===void 0&&(y=!1),h.length!==u.length&&!d){console.warn("GenerateVerts: vertices and uvs count not equal");return}var x={faces:[],vertices:[]},b,w,C,E,T,k,P,R,M,I,B,D=d?3:2,N=Array.isArray(l),_=Array.isArray(m);if(Array.isArray(o)&&o.length>0)for(b=0;b<o.length;b++){var G=o[b],$=o[b]*2,V=o[b]*D;w=h[V],C=h[V+1],E=d?h[V+2]:0,T=u[$],k=u[$+1],y&&(k=1-k),P=N?l[G]:l,R=_?m[G]:m,M=0,I=0,B=0,p&&(M=p[V],I=p[V+1],B=d?p[V+2]:0),x.vertices.push(new v(w,C,E,T,k,P,R,M,I,B))}else{var Y=0,U=0;for(b=0;b<h.length;b+=D)w=h[b],C=h[b+1],E=d?h[b+2]:0,T=u[Y],k=u[Y+1],P=N?l[U]:l,R=_?m[U]:m,M=0,I=0,B=0,p&&(M=p[b],I=p[b+1],B=d?p[b+2]:0),x.vertices.push(new v(w,C,E,T,k,P,R,M,I,B)),Y+=2,U++}for(b=0;b<x.vertices.length;b+=3){var F=x.vertices[b],O=x.vertices[b+1],j=x.vertices[b+2];x.faces.push(new a(F,O,j))}return x};s.exports=f},85048:s=>{var g=!0,i="untitled",a="",v="";function f(w){var C=w.indexOf("#");return C>-1?w.substring(0,C):w}function h(w){return w.models.length===0&&w.models.push({faces:[],name:i,textureCoords:[],vertexNormals:[],vertices:[]}),a="",w.models[w.models.length-1]}function u(w,C){var E=w.length>=2?w[1]:i;C.models.push({faces:[],name:E,textureCoords:[],vertexNormals:[],vertices:[]}),a=""}function o(w){w.length===2&&(a=w[1])}function d(w,C){var E=w.length,T=E>=2?parseFloat(w[1]):0,k=E>=3?parseFloat(w[2]):0,P=E>=4?parseFloat(w[3]):0;h(C).vertices.push({x:T,y:k,z:P})}function p(w,C){var E=w.length,T=E>=2?parseFloat(w[1]):0,k=E>=3?parseFloat(w[2]):0,P=E>=4?parseFloat(w[3]):0;isNaN(T)&&(T=0),isNaN(k)&&(k=0),isNaN(P)&&(P=0),g&&(k=1-k),h(C).textureCoords.push({u:T,v:k,w:P})}function l(w,C){var E=w.length,T=E>=2?parseFloat(w[1]):0,k=E>=3?parseFloat(w[2]):0,P=E>=4?parseFloat(w[3]):0;h(C).vertexNormals.push({x:T,y:k,z:P})}function m(w,C){var E=w.length-1;if(!(E<3)){for(var T={group:a,material:v,vertices:[]},k=0;k<E;k++){var P=w[k+1],R=P.split("/"),M=R.length;if(!(M<1||M>3)){var I=0,B=0,D=0;I=parseInt(R[0],10),M>1&&R[1]!==""&&(B=parseInt(R[1],10)),M>2&&(D=parseInt(R[2],10)),I!==0&&(I<0&&(I=h(C).vertices.length+1+I),B-=1,I-=1,D-=1,T.vertices.push({textureCoordsIndex:B,vertexIndex:I,vertexNormalIndex:D}))}}h(C).faces.push(T)}}function y(w,C){w.length>=2&&C.materialLibraries.push(w[1])}function x(w){w.length>=2&&(v=w[1])}var b=function(w,C){C===void 0&&(C=!0),g=C;var E={materials:{},materialLibraries:[],models:[]};a="",v="";for(var T=w.split(`
`),k=0;k<T.length;k++){var P=f(T[k]),R=P.replace(/\s\s+/g," ").trim().split(" ");switch(R[0].toLowerCase()){case"o":u(R,E);break;case"g":o(R);break;case"v":d(R,E);break;case"vt":p(R,E);break;case"vn":l(R,E);break;case"f":m(R,E);break;case"mtllib":y(R,E);break;case"usemtl":x(R);break}}return E};s.exports=b},61485:(s,g,i)=>{var a=i(37589),v=function(f){for(var h={},u=f.split(`
`),o="",d=0;d<u.length;d++){var p=u[d].trim();if(!(p.indexOf("#")===0||p==="")){var l=p.replace(/\s\s+/g," ").trim().split(" ");switch(l[0].toLowerCase()){case"newmtl":{o=l[1];break}case"kd":{var m=Math.floor(l[1]*255),y=l.length>=2?Math.floor(l[2]*255):m,x=l.length>=3?Math.floor(l[3]*255):m;h[o]=a(m,y,x);break}}}}return h};s.exports=v},92570:s=>{var g=function(i,a,v,f){var h,u;if(v===void 0&&f===void 0){var o=i.getInCenter();h=o.x,u=o.y}var d=Math.cos(a),p=Math.sin(a),l=i.vertex1,m=i.vertex2,y=i.vertex3,x=l.x-h,b=l.y-u;l.set(x*d-b*p+h,x*p+b*d+u),x=m.x-h,b=m.y-u,m.set(x*d-b*p+h,x*p+b*d+u),x=y.x-h,b=y.y-u,y.set(x*d-b*p+h,x*p+b*d+u)};s.exports=g},39318:(s,g,i)=>{var a=i(83419),v=i(70554),f=i(25836),h=new a({Extends:f,initialize:function(o,d,p,l,m,y,x,b,w,C){y===void 0&&(y=16777215),x===void 0&&(x=1),b===void 0&&(b=0),w===void 0&&(w=0),C===void 0&&(C=0),f.call(this,o,d,p),this.vx=0,this.vy=0,this.vz=0,this.nx=b,this.ny=w,this.nz=C,this.u=l,this.v=m,this.color=y,this.alpha=x,this.tx=0,this.ty=0,this.ta=0,this.tu=l,this.tv=m},setUVs:function(u,o){return this.u=u,this.v=o,this.tu=u,this.tv=o,this},scrollUV:function(u,o){return this.tu+=u,this.tv+=o,this},scaleUV:function(u,o){return this.tu=this.u*u,this.tv=this.v*o,this},transformCoordinatesLocal:function(u,o,d,p){var l=this.x,m=this.y,y=this.z,x=u.val,b=l*x[0]+m*x[4]+y*x[8]+x[12],w=l*x[1]+m*x[5]+y*x[9]+x[13],C=l*x[2]+m*x[6]+y*x[10]+x[14],E=l*x[3]+m*x[7]+y*x[11]+x[15];this.vx=b/E*o,this.vy=-(w/E)*d,p<=0?this.vz=C/E:this.vz=-(C/E)},resize:function(u,o,d,p,l,m){return this.x=u,this.y=o,this.vx=this.x*d,this.vy=-this.y*p,this.vz=0,l<.5?this.vx+=d*(.5-l):l>.5&&(this.vx-=d*(l-.5)),m<.5?this.vy+=p*(.5-m):m>.5&&(this.vy-=p*(m-.5)),this},update:function(u,o,d,p,l,m,y,x){var b=this.vx*u+this.vy*d+l,w=this.vx*o+this.vy*p+m;return y&&(b=Math.round(b),w=Math.round(w)),this.tx=b,this.ty=w,this.ta=this.alpha*x,this},load:function(u,o,d,p,l){return u[++d]=this.tx,u[++d]=this.ty,u[++d]=this.tu,u[++d]=this.tv,u[++d]=p,u[++d]=l,o[++d]=v.getTintAppendFloatAlpha(this.color,this.ta),d}});s.exports=h},73090:(s,g,i)=>{var a={Face:i(83997),GenerateGridVerts:i(48803),GenerateObjVerts:i(34684),GenerateVerts:i(92515),ParseObj:i(85048),ParseObjMaterial:i(61485),RotateFace:i(92570),Vertex:i(39318)};s.exports=a},96550:s=>{var g=function(i){return i.setTo(Math.ceil(i.x),Math.ceil(i.y))};s.exports=g},99706:(s,g,i)=>{var a=i(2141),v=function(f){return new a(f.x,f.y)};s.exports=v},68010:s=>{var g=function(i,a){return a.setTo(i.x,i.y)};s.exports=g},27814:s=>{var g=function(i,a){return i.x===a.x&&i.y===a.y};s.exports=g},73565:s=>{var g=function(i){return i.setTo(Math.floor(i.x),Math.floor(i.y))};s.exports=g},87555:(s,g,i)=>{var a=i(2141),v=function(f,h){if(h===void 0&&(h=new a),!Array.isArray(f))throw new Error("GetCentroid points argument must be an array");var u=f.length;if(u<1)throw new Error("GetCentroid points array must not be empty");if(u===1)h.x=f[0].x,h.y=f[0].y;else{for(var o=0;o<u;o++)h.x+=f[o].x,h.y+=f[o].y;h.x/=u,h.y/=u}return h};s.exports=v},28793:s=>{var g=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)};s.exports=g},44405:s=>{var g=function(i){return i.x*i.x+i.y*i.y};s.exports=g},20873:(s,g,i)=>{var a=i(87841),v=function(f,h){h===void 0&&(h=new a);for(var u=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,p=Number.POSITIVE_INFINITY,l=0;l<f.length;l++){var m=f[l];m.x>u&&(u=m.x),m.x<o&&(o=m.x),m.y>d&&(d=m.y),m.y<p&&(p=m.y)}return h.x=o,h.y=p,h.width=u-o,h.height=d-p,h};s.exports=v},26152:(s,g,i)=>{var a=i(2141),v=function(f,h,u,o){return u===void 0&&(u=0),o===void 0&&(o=new a),o.x=f.x+(h.x-f.x)*u,o.y=f.y+(h.y-f.y)*u,o};s.exports=v},55767:s=>{var g=function(i){return i.setTo(i.y,i.x)};s.exports=g},79432:(s,g,i)=>{var a=i(2141),v=function(f,h){return h===void 0&&(h=new a),h.setTo(-f.x,-f.y)};s.exports=v},2141:(s,g,i)=>{var a=i(83419),v=i(23777),f=new a({initialize:function(u,o){u===void 0&&(u=0),o===void 0&&(o=u),this.type=v.POINT,this.x=u,this.y=o},setTo:function(h,u){return h===void 0&&(h=0),u===void 0&&(u=h),this.x=h,this.y=u,this}});s.exports=f},72930:(s,g,i)=>{var a=i(2141),v=i(44405),f=function(h,u,o){o===void 0&&(o=new a);var d=h.x*u.x+h.y*u.y,p=d/v(u);return p!==0&&(o.x=p*u.x,o.y=p*u.y),o};s.exports=f},62880:(s,g,i)=>{var a=i(2141),v=function(f,h,u){u===void 0&&(u=new a);var o=f.x*h.x+f.y*h.y;return o!==0&&(u.x=o*h.x,u.y=o*h.y),u};s.exports=v},15093:(s,g,i)=>{var a=i(28793),v=function(f,h){if(f.x!==0||f.y!==0){var u=a(f);f.x/=u,f.y/=u}return f.x*=h,f.y*=h,f};s.exports=v},43711:(s,g,i)=>{var a=i(2141);a.Ceil=i(96550),a.Clone=i(99706),a.CopyFrom=i(68010),a.Equals=i(27814),a.Floor=i(73565),a.GetCentroid=i(87555),a.GetMagnitude=i(28793),a.GetMagnitudeSq=i(44405),a.GetRectangleFromPoints=i(20873),a.Interpolate=i(26152),a.Invert=i(55767),a.Negative=i(79432),a.Project=i(72930),a.ProjectUnit=i(62880),a.SetMagnitude=i(15093),s.exports=a},12306:(s,g,i)=>{var a=i(25717),v=function(f){return new a(f.points)};s.exports=v},63814:s=>{var g=function(i,a,v){for(var f=!1,h=-1,u=i.points.length-1;++h<i.points.length;u=h){var o=i.points[h].x,d=i.points[h].y,p=i.points[u].x,l=i.points[u].y;(d<=v&&v<l||l<=v&&v<d)&&a<(p-o)*(v-d)/(l-d)+o&&(f=!f)}return f};s.exports=g},99338:(s,g,i)=>{var a=i(63814),v=function(f,h){return a(f,h.x,h.y)};s.exports=v},94811:s=>{function g(U,F,O){O=O||2;var j=F&&F.length,z=j?F[0]*O:U.length,W=i(U,0,z,O,!0),q=[];if(!W||W.next===W.prev)return q;var ot,Q,rt,Mt,K,It,Ft;if(j&&(W=d(U,F,W,O)),U.length>80*O){ot=rt=U[0],Q=Mt=U[1];for(var ft=O;ft<z;ft+=O)K=U[ft],It=U[ft+1],K<ot&&(ot=K),It<Q&&(Q=It),K>rt&&(rt=K),It>Mt&&(Mt=It);Ft=Math.max(rt-ot,Mt-Q),Ft=Ft!==0?32767/Ft:0}return v(W,q,O,ot,Q,Ft,0),q}function i(U,F,O,j,z){var W,q;if(z===Y(U,F,O,j)>0)for(W=F;W<O;W+=j)q=G(W,U[W],U[W+1],q);else for(W=O-j;W>=F;W-=j)q=G(W,U[W],U[W+1],q);return q&&P(q,q.next)&&($(q),q=q.next),q}function a(U,F){if(!U)return U;F||(F=U);var O=U,j;do if(j=!1,!O.steiner&&(P(O,O.next)||k(O.prev,O,O.next)===0)){if($(O),O=F=O.prev,O===O.next)break;j=!0}else O=O.next;while(j||O!==F);return F}function v(U,F,O,j,z,W,q){if(U){!q&&W&&x(U,j,z,W);for(var ot=U,Q,rt;U.prev!==U.next;){if(Q=U.prev,rt=U.next,W?h(U,j,z,W):f(U)){F.push(Q.i/O|0),F.push(U.i/O|0),F.push(rt.i/O|0),$(U),U=rt.next,ot=rt.next;continue}if(U=rt,U===ot){q?q===1?(U=u(a(U),F,O),v(U,F,O,j,z,W,2)):q===2&&o(U,F,O,j,z,W):v(a(U),F,O,j,z,W,1);break}}}}function f(U){var F=U.prev,O=U,j=U.next;if(k(F,O,j)>=0)return!1;for(var z=F.x,W=O.x,q=j.x,ot=F.y,Q=O.y,rt=j.y,Mt=z<W?z<q?z:q:W<q?W:q,K=ot<Q?ot<rt?ot:rt:Q<rt?Q:rt,It=z>W?z>q?z:q:W>q?W:q,Ft=ot>Q?ot>rt?ot:rt:Q>rt?Q:rt,ft=j.next;ft!==F;){if(ft.x>=Mt&&ft.x<=It&&ft.y>=K&&ft.y<=Ft&&E(z,ot,W,Q,q,rt,ft.x,ft.y)&&k(ft.prev,ft,ft.next)>=0)return!1;ft=ft.next}return!0}function h(U,F,O,j){var z=U.prev,W=U,q=U.next;if(k(z,W,q)>=0)return!1;for(var ot=z.x,Q=W.x,rt=q.x,Mt=z.y,K=W.y,It=q.y,Ft=ot<Q?ot<rt?ot:rt:Q<rt?Q:rt,ft=Mt<K?Mt<It?Mt:It:K<It?K:It,yt=ot>Q?ot>rt?ot:rt:Q>rt?Q:rt,At=Mt>K?Mt>It?Mt:It:K>It?K:It,Bt=w(Ft,ft,F,O,j),le=w(yt,At,F,O,j),_t=U.prevZ,xe=U.nextZ;_t&&_t.z>=Bt&&xe&&xe.z<=le;){if(_t.x>=Ft&&_t.x<=yt&&_t.y>=ft&&_t.y<=At&&_t!==z&&_t!==q&&E(ot,Mt,Q,K,rt,It,_t.x,_t.y)&&k(_t.prev,_t,_t.next)>=0||(_t=_t.prevZ,xe.x>=Ft&&xe.x<=yt&&xe.y>=ft&&xe.y<=At&&xe!==z&&xe!==q&&E(ot,Mt,Q,K,rt,It,xe.x,xe.y)&&k(xe.prev,xe,xe.next)>=0))return!1;xe=xe.nextZ}for(;_t&&_t.z>=Bt;){if(_t.x>=Ft&&_t.x<=yt&&_t.y>=ft&&_t.y<=At&&_t!==z&&_t!==q&&E(ot,Mt,Q,K,rt,It,_t.x,_t.y)&&k(_t.prev,_t,_t.next)>=0)return!1;_t=_t.prevZ}for(;xe&&xe.z<=le;){if(xe.x>=Ft&&xe.x<=yt&&xe.y>=ft&&xe.y<=At&&xe!==z&&xe!==q&&E(ot,Mt,Q,K,rt,It,xe.x,xe.y)&&k(xe.prev,xe,xe.next)>=0)return!1;xe=xe.nextZ}return!0}function u(U,F,O){var j=U;do{var z=j.prev,W=j.next.next;!P(z,W)&&R(z,j,j.next,W)&&D(z,W)&&D(W,z)&&(F.push(z.i/O|0),F.push(j.i/O|0),F.push(W.i/O|0),$(j),$(j.next),j=U=W),j=j.next}while(j!==U);return a(j)}function o(U,F,O,j,z,W){var q=U;do{for(var ot=q.next.next;ot!==q.prev;){if(q.i!==ot.i&&T(q,ot)){var Q=_(q,ot);q=a(q,q.next),Q=a(Q,Q.next),v(q,F,O,j,z,W,0),v(Q,F,O,j,z,W,0);return}ot=ot.next}q=q.next}while(q!==U)}function d(U,F,O,j){var z=[],W,q,ot,Q,rt;for(W=0,q=F.length;W<q;W++)ot=F[W]*j,Q=W<q-1?F[W+1]*j:U.length,rt=i(U,ot,Q,j,!1),rt===rt.next&&(rt.steiner=!0),z.push(C(rt));for(z.sort(p),W=0;W<z.length;W++)O=l(z[W],O);return O}function p(U,F){return U.x-F.x}function l(U,F){var O=m(U,F);if(!O)return F;var j=_(O,U);return a(j,j.next),a(O,O.next)}function m(U,F){var O=F,j=U.x,z=U.y,W=-1/0,q;do{if(z<=O.y&&z>=O.next.y&&O.next.y!==O.y){var ot=O.x+(z-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(ot<=j&&ot>W&&(W=ot,q=O.x<O.next.x?O:O.next,ot===j))return q}O=O.next}while(O!==F);if(!q)return null;var Q=q,rt=q.x,Mt=q.y,K=1/0,It;O=q;do j>=O.x&&O.x>=rt&&j!==O.x&&E(z<Mt?j:W,z,rt,Mt,z<Mt?W:j,z,O.x,O.y)&&(It=Math.abs(z-O.y)/(j-O.x),D(O,U)&&(It<K||It===K&&(O.x>q.x||O.x===q.x&&y(q,O)))&&(q=O,K=It)),O=O.next;while(O!==Q);return q}function y(U,F){return k(U.prev,U,F.prev)<0&&k(F.next,U,U.next)<0}function x(U,F,O,j){var z=U;do z.z===0&&(z.z=w(z.x,z.y,F,O,j)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==U);z.prevZ.nextZ=null,z.prevZ=null,b(z)}function b(U){var F,O,j,z,W,q,ot,Q,rt=1;do{for(O=U,U=null,W=null,q=0;O;){for(q++,j=O,ot=0,F=0;F<rt&&(ot++,j=j.nextZ,!!j);F++);for(Q=rt;ot>0||Q>0&&j;)ot!==0&&(Q===0||!j||O.z<=j.z)?(z=O,O=O.nextZ,ot--):(z=j,j=j.nextZ,Q--),W?W.nextZ=z:U=z,z.prevZ=W,W=z;O=j}W.nextZ=null,rt*=2}while(q>1);return U}function w(U,F,O,j,z){return U=(U-O)*z|0,F=(F-j)*z|0,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,F=(F|F<<8)&16711935,F=(F|F<<4)&252645135,F=(F|F<<2)&858993459,F=(F|F<<1)&1431655765,U|F<<1}function C(U){var F=U,O=U;do(F.x<O.x||F.x===O.x&&F.y<O.y)&&(O=F),F=F.next;while(F!==U);return O}function E(U,F,O,j,z,W,q,ot){return(z-q)*(F-ot)>=(U-q)*(W-ot)&&(U-q)*(j-ot)>=(O-q)*(F-ot)&&(O-q)*(W-ot)>=(z-q)*(j-ot)}function T(U,F){return U.next.i!==F.i&&U.prev.i!==F.i&&!B(U,F)&&(D(U,F)&&D(F,U)&&N(U,F)&&(k(U.prev,U,F.prev)||k(U,F.prev,F))||P(U,F)&&k(U.prev,U,U.next)>0&&k(F.prev,F,F.next)>0)}function k(U,F,O){return(F.y-U.y)*(O.x-F.x)-(F.x-U.x)*(O.y-F.y)}function P(U,F){return U.x===F.x&&U.y===F.y}function R(U,F,O,j){var z=I(k(U,F,O)),W=I(k(U,F,j)),q=I(k(O,j,U)),ot=I(k(O,j,F));return!!(z!==W&&q!==ot||z===0&&M(U,O,F)||W===0&&M(U,j,F)||q===0&&M(O,U,j)||ot===0&&M(O,F,j))}function M(U,F,O){return F.x<=Math.max(U.x,O.x)&&F.x>=Math.min(U.x,O.x)&&F.y<=Math.max(U.y,O.y)&&F.y>=Math.min(U.y,O.y)}function I(U){return U>0?1:U<0?-1:0}function B(U,F){var O=U;do{if(O.i!==U.i&&O.next.i!==U.i&&O.i!==F.i&&O.next.i!==F.i&&R(O,O.next,U,F))return!0;O=O.next}while(O!==U);return!1}function D(U,F){return k(U.prev,U,U.next)<0?k(U,F,U.next)>=0&&k(U,U.prev,F)>=0:k(U,F,U.prev)<0||k(U,U.next,F)<0}function N(U,F){var O=U,j=!1,z=(U.x+F.x)/2,W=(U.y+F.y)/2;do O.y>W!=O.next.y>W&&O.next.y!==O.y&&z<(O.next.x-O.x)*(W-O.y)/(O.next.y-O.y)+O.x&&(j=!j),O=O.next;while(O!==U);return j}function _(U,F){var O=new V(U.i,U.x,U.y),j=new V(F.i,F.x,F.y),z=U.next,W=F.prev;return U.next=F,F.prev=U,O.next=z,z.prev=O,j.next=O,O.prev=j,W.next=j,j.prev=W,j}function G(U,F,O,j){var z=new V(U,F,O);return j?(z.next=j.next,z.prev=j,j.next.prev=z,j.next=z):(z.prev=z,z.next=z),z}function $(U){U.next.prev=U.prev,U.prev.next=U.next,U.prevZ&&(U.prevZ.nextZ=U.nextZ),U.nextZ&&(U.nextZ.prevZ=U.prevZ)}function V(U,F,O){this.i=U,this.x=F,this.y=O,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}g.deviation=function(U,F,O,j){var z=F&&F.length,W=z?F[0]*O:U.length,q=Math.abs(Y(U,0,W,O));if(z)for(var ot=0,Q=F.length;ot<Q;ot++){var rt=F[ot]*O,Mt=ot<Q-1?F[ot+1]*O:U.length;q-=Math.abs(Y(U,rt,Mt,O))}var K=0;for(ot=0;ot<j.length;ot+=3){var It=j[ot]*O,Ft=j[ot+1]*O,ft=j[ot+2]*O;K+=Math.abs((U[It]-U[ft])*(U[Ft+1]-U[It+1])-(U[It]-U[Ft])*(U[ft+1]-U[It+1]))}return q===0&&K===0?0:Math.abs((K-q)/q)};function Y(U,F,O,j){for(var z=0,W=F,q=O-j;W<O;W+=j)z+=(U[q]-U[W])*(U[W+1]+U[q+1]),q=W;return z}g.flatten=function(U){for(var F=U[0][0].length,O={vertices:[],holes:[],dimensions:F},j=0,z=0;z<U.length;z++){for(var W=0;W<U[z].length;W++)for(var q=0;q<F;q++)O.vertices.push(U[z][W][q]);z>0&&(j+=U[z-1].length,O.holes.push(j))}return O},s.exports=g},13829:(s,g,i)=>{var a=i(87841),v=function(f,h){h===void 0&&(h=new a);for(var u=1/0,o=1/0,d=-u,p=-o,l,m=0;m<f.points.length;m++)l=f.points[m],u=Math.min(u,l.x),o=Math.min(o,l.y),d=Math.max(d,l.x),p=Math.max(p,l.y);return h.x=u,h.y=o,h.width=d-u,h.height=p-o,h};s.exports=v},26173:s=>{var g=function(i,a){a===void 0&&(a=[]);for(var v=0;v<i.points.length;v++)a.push(i.points[v].x),a.push(i.points[v].y);return a};s.exports=g},9564:(s,g,i)=>{var a=i(35001),v=i(23031),f=i(30052),h=function(u,o,d,p){p===void 0&&(p=[]);var l=u.points,m=f(u);!o&&d>0&&(o=m/d);for(var y=0;y<o;y++)for(var x=m*(y/o),b=0,w=0;w<l.length;w++){var C=l[w],E=l[(w+1)%l.length],T=new v(C.x,C.y,E.x,E.y),k=a(T);if(x<b||x>b+k){b+=k;continue}var P=T.getPoint((x-b)/k);p.push(P);break}return p};s.exports=h},30052:(s,g,i)=>{var a=i(35001),v=i(23031),f=function(h){for(var u=h.points,o=0,d=0;d<u.length;d++){var p=u[d],l=u[(d+1)%u.length],m=new v(p.x,p.y,l.x,l.y);o+=a(m)}return o};s.exports=f},25717:(s,g,i)=>{var a=i(83419),v=i(63814),f=i(9564),h=i(23777),u=new a({initialize:function(d){this.type=h.POLYGON,this.area=0,this.points=[],d&&this.setTo(d)},contains:function(o,d){return v(this,o,d)},setTo:function(o){if(this.area=0,this.points=[],typeof o=="string"&&(o=o.split(" ")),!Array.isArray(o))return this;for(var d,p=0;p<o.length;p++)d={x:0,y:0},typeof o[p]=="number"||typeof o[p]=="string"?(d.x=parseFloat(o[p]),d.y=parseFloat(o[p+1]),p++):Array.isArray(o[p])?(d.x=o[p][0],d.y=o[p][1]):(d.x=o[p].x,d.y=o[p].y),this.points.push(d);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var o=0,d,p,l=0;l<this.points.length-1;l++)d=this.points[l],p=this.points[l+1],o+=(p.x-d.x)*(d.y+p.y);return d=this.points[0],p=this.points[this.points.length-1],o+=(d.x-p.x)*(p.y+d.y),this.area=-o*.5,this.area},getPoints:function(o,d,p){return f(this,o,d,p)}});s.exports=u},8133:s=>{var g=function(i){return i.points.reverse(),i};s.exports=g},29524:s=>{function g(u,o){var d=u.x-o.x,p=u.y-o.y;return d*d+p*p}function i(u,o,d){var p=o.x,l=o.y,m=d.x-p,y=d.y-l;if(m!==0||y!==0){var x=((u.x-p)*m+(u.y-l)*y)/(m*m+y*y);x>1?(p=d.x,l=d.y):x>0&&(p+=m*x,l+=y*x)}return m=u.x-p,y=u.y-l,m*m+y*y}function a(u,o){for(var d=u[0],p=[d],l,m=1,y=u.length;m<y;m++)l=u[m],g(l,d)>o&&(p.push(l),d=l);return d!==l&&p.push(l),p}function v(u,o,d,p,l){for(var m=p,y,x=o+1;x<d;x++){var b=i(u[x],u[o],u[d]);b>m&&(y=x,m=b)}m>p&&(y-o>1&&v(u,o,y,p,l),l.push(u[y]),d-y>1&&v(u,y,d,p,l))}function f(u,o){var d=u.length-1,p=[u[0]];return v(u,0,d,o,p),p.push(u[d]),p}var h=function(u,o,d){o===void 0&&(o=1),d===void 0&&(d=!1);var p=u.points;if(p.length>2){var l=o*o;d||(p=a(p,l)),u.setTo(f(p,l))}return u};s.exports=h},5469:s=>{var g=function(a,v){return a[0]=v[0],a[1]=v[1],a},i=function(a){var v,f=[],h=a.points;for(v=0;v<h.length;v++)f.push([h[v].x,h[v].y]);var u=[];for(f.length>0&&u.push(g([0,0],f[0])),v=0;v<f.length-1;v++){var o=f[v],d=f[v+1],p=o[0],l=o[1],m=d[0],y=d[1];u.push([.85*p+.15*m,.85*l+.15*y]),u.push([.15*p+.85*m,.15*l+.85*y])}return f.length>1&&u.push(g([0,0],f[f.length-1])),a.setTo(u)};s.exports=i},24709:s=>{var g=function(i,a,v){for(var f=i.points,h=0;h<f.length;h++)f[h].x+=a,f[h].y+=v;return i};s.exports=g},58423:(s,g,i)=>{var a=i(25717);a.Clone=i(12306),a.Contains=i(63814),a.ContainsPoint=i(99338),a.Earcut=i(94811),a.GetAABB=i(13829),a.GetNumberArray=i(26173),a.GetPoints=i(9564),a.Perimeter=i(30052),a.Reverse=i(8133),a.Simplify=i(29524),a.Smooth=i(5469),a.Translate=i(24709),s.exports=a},62224:s=>{var g=function(i){return i.width*i.height};s.exports=g},98615:s=>{var g=function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i};s.exports=g},31688:s=>{var g=function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i.width=Math.ceil(i.width),i.height=Math.ceil(i.height),i};s.exports=g},67502:s=>{var g=function(i,a,v){return i.x=a-i.width/2,i.y=v-i.height/2,i};s.exports=g},65085:(s,g,i)=>{var a=i(87841),v=function(f){return new a(f.x,f.y,f.width,f.height)};s.exports=v},37303:s=>{var g=function(i,a,v){return i.width<=0||i.height<=0?!1:i.x<=a&&i.x+i.width>=a&&i.y<=v&&i.y+i.height>=v};s.exports=g},96553:(s,g,i)=>{var a=i(37303),v=function(f,h){return a(f,h.x,h.y)};s.exports=v},70273:s=>{var g=function(i,a){return a.width*a.height>i.width*i.height?!1:a.x>i.x&&a.x<i.right&&a.right>i.x&&a.right<i.right&&a.y>i.y&&a.y<i.bottom&&a.bottom>i.y&&a.bottom<i.bottom};s.exports=g},43459:s=>{var g=function(i,a){return a.setTo(i.x,i.y,i.width,i.height)};s.exports=g},77493:s=>{var g=function(i,a){return a===void 0&&(a=[]),a.push({x:i.x,y:i.y}),a.push({x:i.right,y:i.y}),a.push({x:i.right,y:i.bottom}),a.push({x:i.x,y:i.bottom}),a};s.exports=g},9219:s=>{var g=function(i,a){return i.x===a.x&&i.y===a.y&&i.width===a.width&&i.height===a.height};s.exports=g},53751:(s,g,i)=>{var a=i(8249),v=function(f,h){var u=a(f);return u<a(h)?f.setSize(h.height*u,h.height):f.setSize(h.width,h.width/u),f.setPosition(h.centerX-f.width/2,h.centerY-f.height/2)};s.exports=v},16088:(s,g,i)=>{var a=i(8249),v=function(f,h){var u=a(f);return u>a(h)?f.setSize(h.height*u,h.height):f.setSize(h.width,h.width/u),f.setPosition(h.centerX-f.width/2,h.centerY-f.height/2)};s.exports=v},80774:s=>{var g=function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i};s.exports=g},83859:s=>{var g=function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i.width=Math.floor(i.width),i.height=Math.floor(i.height),i};s.exports=g},19217:(s,g,i)=>{var a=i(87841),v=i(36383),f=function(h,u){if(u===void 0&&(u=new a),h.length===0)return u;for(var o=Number.MAX_VALUE,d=Number.MAX_VALUE,p=v.MIN_SAFE_INTEGER,l=v.MIN_SAFE_INTEGER,m,y,x,b=0;b<h.length;b++)m=h[b],Array.isArray(m)?(y=m[0],x=m[1]):(y=m.x,x=m.y),o=Math.min(o,y),d=Math.min(d,x),p=Math.max(p,y),l=Math.max(l,x);return u.x=o,u.y=d,u.width=p-o,u.height=l-d,u};s.exports=f},9477:(s,g,i)=>{var a=i(87841),v=function(f,h,u,o,d){return d===void 0&&(d=new a),d.setTo(Math.min(f,u),Math.min(h,o),Math.abs(f-u),Math.abs(h-o))};s.exports=v},8249:s=>{var g=function(i){return i.height===0?NaN:i.width/i.height};s.exports=g},27165:(s,g,i)=>{var a=i(2141),v=function(f,h){return h===void 0&&(h=new a),h.x=f.centerX,h.y=f.centerY,h};s.exports=v},20812:(s,g,i)=>{var a=i(13019),v=i(2141),f=function(h,u,o){if(o===void 0&&(o=new v),u<=0||u>=1)return o.x=h.x,o.y=h.y,o;var d=a(h)*u;return u>.5?(d-=h.width+h.height,d<=h.width?(o.x=h.right-d,o.y=h.bottom):(o.x=h.x,o.y=h.bottom-(d-h.width))):d<=h.width?(o.x=h.x+d,o.y=h.y):(o.x=h.right,o.y=h.y+(d-h.width)),o};s.exports=f},34819:(s,g,i)=>{var a=i(20812),v=i(13019),f=function(h,u,o,d){d===void 0&&(d=[]),!u&&o>0&&(u=v(h)/o);for(var p=0;p<u;p++){var l=p/u;d.push(a(h,l))}return d};s.exports=f},51313:(s,g,i)=>{var a=i(2141),v=function(f,h){return h===void 0&&(h=new a),h.x=f.width,h.y=f.height,h};s.exports=v},86091:(s,g,i)=>{var a=i(67502),v=function(f,h,u){var o=f.centerX,d=f.centerY;return f.setSize(f.width+h*2,f.height+u*2),a(f,o,d)};s.exports=v},53951:(s,g,i)=>{var a=i(87841),v=i(59996),f=function(h,u,o){return o===void 0&&(o=new a),v(h,u)?(o.x=Math.max(h.x,u.x),o.y=Math.max(h.y,u.y),o.width=Math.min(h.right,u.right)-o.x,o.height=Math.min(h.bottom,u.bottom)-o.y):o.setEmpty(),o};s.exports=f},14649:(s,g,i)=>{var a=i(13019),v=i(2141),f=function(h,u,o,d){if(d===void 0&&(d=[]),!u&&!o)return d;u?o=Math.round(a(h)/u):u=a(h)/o;for(var p=h.x,l=h.y,m=0,y=0;y<o;y++)switch(d.push(new v(p,l)),m){case 0:p+=u,p>=h.right&&(m=1,l+=p-h.right,p=h.right);break;case 1:l+=u,l>=h.bottom&&(m=2,p-=l-h.bottom,l=h.bottom);break;case 2:p-=u,p<=h.left&&(m=3,l-=h.left-p,p=h.left);break;case 3:l-=u,l<=h.top&&(m=0,l=h.top);break}return d};s.exports=f},33595:s=>{var g=function(i,a){for(var v=i.x,f=i.right,h=i.y,u=i.bottom,o=0;o<a.length;o++)v=Math.min(v,a[o].x),f=Math.max(f,a[o].x),h=Math.min(h,a[o].y),u=Math.max(u,a[o].y);return i.x=v,i.y=h,i.width=f-v,i.height=u-h,i};s.exports=g},20074:s=>{var g=function(i,a){var v=Math.min(i.x,a.x),f=Math.max(i.right,a.right);i.x=v,i.width=f-v;var h=Math.min(i.y,a.y),u=Math.max(i.bottom,a.bottom);return i.y=h,i.height=u-h,i};s.exports=g},92171:s=>{var g=function(i,a,v){var f=Math.min(i.x,a),h=Math.max(i.right,a);i.x=f,i.width=h-f;var u=Math.min(i.y,v),o=Math.max(i.bottom,v);return i.y=u,i.height=o-u,i};s.exports=g},42981:s=>{var g=function(i,a,v){return i.x+=a,i.y+=v,i};s.exports=g},46907:s=>{var g=function(i,a){return i.x+=a.x,i.y+=a.y,i};s.exports=g},60170:s=>{var g=function(i,a){return i.x<a.right&&i.right>a.x&&i.y<a.bottom&&i.bottom>a.y};s.exports=g},13019:s=>{var g=function(i){return 2*(i.width+i.height)};s.exports=g},85133:(s,g,i)=>{var a=i(2141),v=i(39506),f=function(h,u,o){o===void 0&&(o=new a),u=v(u);var d=Math.sin(u),p=Math.cos(u),l=p>0?h.width/2:h.width/-2,m=d>0?h.height/2:h.height/-2;return Math.abs(l*d)<Math.abs(m*p)?m=l*d/p:l=m*p/d,o.x=l+h.centerX,o.y=m+h.centerY,o};s.exports=f},26597:(s,g,i)=>{var a=i(2141),v=function(f,h){return h===void 0&&(h=new a),h.x=f.x+Math.random()*f.width,h.y=f.y+Math.random()*f.height,h};s.exports=v},86470:(s,g,i)=>{var a=i(30976),v=i(70273),f=i(2141),h=function(u,o,d){if(d===void 0&&(d=new f),v(u,o))switch(a(0,3)){case 0:d.x=u.x+Math.random()*(o.right-u.x),d.y=u.y+Math.random()*(o.top-u.y);break;case 1:d.x=o.x+Math.random()*(u.right-o.x),d.y=o.bottom+Math.random()*(u.bottom-o.bottom);break;case 2:d.x=u.x+Math.random()*(o.x-u.x),d.y=o.y+Math.random()*(u.bottom-o.y);break;case 3:d.x=o.right+Math.random()*(u.right-o.right),d.y=u.y+Math.random()*(o.bottom-u.y);break}return d};s.exports=h},87841:(s,g,i)=>{var a=i(83419),v=i(37303),f=i(20812),h=i(34819),u=i(23777),o=i(23031),d=i(26597),p=new a({initialize:function(m,y,x,b){m===void 0&&(m=0),y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=0),this.type=u.RECTANGLE,this.x=m,this.y=y,this.width=x,this.height=b},contains:function(l,m){return v(this,l,m)},getPoint:function(l,m){return f(this,l,m)},getPoints:function(l,m,y){return h(this,l,m,y)},getRandomPoint:function(l){return d(this,l)},setTo:function(l,m,y,x){return this.x=l,this.y=m,this.width=y,this.height=x,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(l,m){return m===void 0&&(m=l),this.x=l,this.y=m,this},setSize:function(l,m){return m===void 0&&(m=l),this.width=l,this.height=m,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(l){return l===void 0&&(l=new o),l.setTo(this.x,this.y,this.right,this.y),l},getLineB:function(l){return l===void 0&&(l=new o),l.setTo(this.right,this.y,this.right,this.bottom),l},getLineC:function(l){return l===void 0&&(l=new o),l.setTo(this.right,this.bottom,this.x,this.bottom),l},getLineD:function(l){return l===void 0&&(l=new o),l.setTo(this.x,this.bottom,this.x,this.y),l},left:{get:function(){return this.x},set:function(l){l>=this.right?this.width=0:this.width=this.right-l,this.x=l}},right:{get:function(){return this.x+this.width},set:function(l){l<=this.x?this.width=0:this.width=l-this.x}},top:{get:function(){return this.y},set:function(l){l>=this.bottom?this.height=0:this.height=this.bottom-l,this.y=l}},bottom:{get:function(){return this.y+this.height},set:function(l){l<=this.y?this.height=0:this.height=l-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});s.exports=p},94845:s=>{var g=function(i,a){return i.width===a.width&&i.height===a.height};s.exports=g},31730:s=>{var g=function(i,a,v){return v===void 0&&(v=a),i.width*=a,i.height*=v,i};s.exports=g},36899:(s,g,i)=>{var a=i(87841),v=function(f,h,u){u===void 0&&(u=new a);var o=Math.min(f.x,h.x),d=Math.min(f.y,h.y),p=Math.max(f.right,h.right)-o,l=Math.max(f.bottom,h.bottom)-d;return u.setTo(o,d,p,l)};s.exports=v},93232:(s,g,i)=>{var a=i(87841);a.Area=i(62224),a.Ceil=i(98615),a.CeilAll=i(31688),a.CenterOn=i(67502),a.Clone=i(65085),a.Contains=i(37303),a.ContainsPoint=i(96553),a.ContainsRect=i(70273),a.CopyFrom=i(43459),a.Decompose=i(77493),a.Equals=i(9219),a.FitInside=i(53751),a.FitOutside=i(16088),a.Floor=i(80774),a.FloorAll=i(83859),a.FromPoints=i(19217),a.FromXY=i(9477),a.GetAspectRatio=i(8249),a.GetCenter=i(27165),a.GetPoint=i(20812),a.GetPoints=i(34819),a.GetSize=i(51313),a.Inflate=i(86091),a.Intersection=i(53951),a.MarchingAnts=i(14649),a.MergePoints=i(33595),a.MergeRect=i(20074),a.MergeXY=i(92171),a.Offset=i(42981),a.OffsetPoint=i(46907),a.Overlaps=i(60170),a.Perimeter=i(13019),a.PerimeterPoint=i(85133),a.Random=i(26597),a.RandomOutside=i(86470),a.SameDimensions=i(94845),a.Scale=i(31730),a.Union=i(36899),s.exports=a},41658:s=>{var g=function(i){var a=i.x1,v=i.y1,f=i.x2,h=i.y2,u=i.x3,o=i.y3;return Math.abs(((u-a)*(h-v)-(f-a)*(o-v))/2)};s.exports=g},39208:(s,g,i)=>{var a=i(16483),v=function(f,h,u){var o=u*(Math.sqrt(3)/2),d=f,p=h,l=f+u/2,m=h+o,y=f-u/2,x=h+o;return new a(d,p,l,m,y,x)};s.exports=v},39545:(s,g,i)=>{var a=i(94811),v=i(16483),f=function(h,u,o,d,p){u===void 0&&(u=null),o===void 0&&(o=1),d===void 0&&(d=1),p===void 0&&(p=[]);for(var l=a(h,u),m,y,x,b,w,C,E,T,k,P=0;P<l.length;P+=3)m=l[P],y=l[P+1],x=l[P+2],b=h[m*2]*o,w=h[m*2+1]*d,C=h[y*2]*o,E=h[y*2+1]*d,T=h[x*2]*o,k=h[x*2+1]*d,p.push(new v(b,w,C,E,T,k));return p};s.exports=f},90301:(s,g,i)=>{var a=i(16483),v=function(f,h,u,o){o===void 0&&(o=u);var d=f,p=h,l=f,m=h-o,y=f+u,x=h;return new a(d,p,l,m,y,x)};s.exports=v},23707:(s,g,i)=>{var a=i(97523),v=i(13584),f=function(h,u,o,d){d===void 0&&(d=a);var p=d(h),l=u-p.x,m=o-p.y;return v(h,l,m)};s.exports=f},97523:(s,g,i)=>{var a=i(2141),v=function(f,h){return h===void 0&&(h=new a),h.x=(f.x1+f.x2+f.x3)/3,h.y=(f.y1+f.y2+f.y3)/3,h};s.exports=v},24951:(s,g,i)=>{var a=i(26099);function v(h,u,o,d){return h*d-u*o}var f=function(h,u){u===void 0&&(u=new a);var o=h.x3,d=h.y3,p=h.x1-o,l=h.y1-d,m=h.x2-o,y=h.y2-d,x=2*v(p,l,m,y),b=v(l,p*p+l*l,y,m*m+y*y),w=v(p,p*p+l*l,m,m*m+y*y);return u.x=o-b/x,u.y=d+w/x,u};s.exports=f},85614:(s,g,i)=>{var a=i(96503),v=function(f,h){h===void 0&&(h=new a);var u=f.x1,o=f.y1,d=f.x2,p=f.y2,l=f.x3,m=f.y3,y=d-u,x=p-o,b=l-u,w=m-o,C=y*(u+d)+x*(o+p),E=b*(u+l)+w*(o+m),T=2*(y*(m-p)-x*(l-d)),k,P;if(Math.abs(T)<1e-6){var R=Math.min(u,d,l),M=Math.min(o,p,m);k=(Math.max(u,d,l)-R)*.5,P=(Math.max(o,p,m)-M)*.5,h.x=R+k,h.y=M+P,h.radius=Math.sqrt(k*k+P*P)}else h.x=(w*C-x*E)/T,h.y=(y*E-b*C)/T,k=h.x-u,P=h.y-o,h.radius=Math.sqrt(k*k+P*P);return h};s.exports=v},74422:(s,g,i)=>{var a=i(16483),v=function(f){return new a(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)};s.exports=v},10690:s=>{var g=function(i,a,v){var f=i.x3-i.x1,h=i.y3-i.y1,u=i.x2-i.x1,o=i.y2-i.y1,d=a-i.x1,p=v-i.y1,l=f*f+h*h,m=f*u+h*o,y=f*d+h*p,x=u*u+o*o,b=u*d+o*p,w=l*x-m*m,C=w===0?0:1/w,E=(x*y-m*b)*C,T=(l*b-m*y)*C;return E>=0&&T>=0&&E+T<1};s.exports=g},48653:s=>{var g=function(i,a,v,f){v===void 0&&(v=!1),f===void 0&&(f=[]);for(var h=i.x3-i.x1,u=i.y3-i.y1,o=i.x2-i.x1,d=i.y2-i.y1,p=h*h+u*u,l=h*o+u*d,m=o*o+d*d,y=p*m-l*l,x=y===0?0:1/y,b,w,C,E,T,k,P=i.x1,R=i.y1,M=0;M<a.length&&(C=a[M].x-P,E=a[M].y-R,T=h*C+u*E,k=o*C+d*E,b=(m*T-l*k)*x,w=(p*k-l*T)*x,!(b>=0&&w>=0&&b+w<1&&(f.push({x:a[M].x,y:a[M].y}),v)));M++);return f};s.exports=g},96006:(s,g,i)=>{var a=i(10690),v=function(f,h){return a(f,h.x,h.y)};s.exports=v},71326:s=>{var g=function(i,a){return a.setTo(i.x1,i.y1,i.x2,i.y2,i.x3,i.y3)};s.exports=g},71694:s=>{var g=function(i,a){return a===void 0&&(a=[]),a.push({x:i.x1,y:i.y1}),a.push({x:i.x2,y:i.y2}),a.push({x:i.x3,y:i.y3}),a};s.exports=g},33522:s=>{var g=function(i,a){return i.x1===a.x1&&i.y1===a.y1&&i.x2===a.x2&&i.y2===a.y2&&i.x3===a.x3&&i.y3===a.y3};s.exports=g},20437:(s,g,i)=>{var a=i(2141),v=i(35001),f=function(h,u,o){o===void 0&&(o=new a);var d=h.getLineA(),p=h.getLineB(),l=h.getLineC();if(u<=0||u>=1)return o.x=d.x1,o.y=d.y1,o;var m=v(d),y=v(p),x=v(l),b=m+y+x,w=b*u,C=0;return w<m?(C=w/m,o.x=d.x1+(d.x2-d.x1)*C,o.y=d.y1+(d.y2-d.y1)*C):w>m+y?(w-=m+y,C=w/x,o.x=l.x1+(l.x2-l.x1)*C,o.y=l.y1+(l.y2-l.y1)*C):(w-=m,C=w/y,o.x=p.x1+(p.x2-p.x1)*C,o.y=p.y1+(p.y2-p.y1)*C),o};s.exports=f},80672:(s,g,i)=>{var a=i(35001),v=i(2141),f=function(h,u,o,d){d===void 0&&(d=[]);var p=h.getLineA(),l=h.getLineB(),m=h.getLineC(),y=a(p),x=a(l),b=a(m),w=y+x+b;!u&&o>0&&(u=w/o);for(var C=0;C<u;C++){var E=w*(C/u),T=0,k=new v;E<y?(T=E/y,k.x=p.x1+(p.x2-p.x1)*T,k.y=p.y1+(p.y2-p.y1)*T):E>y+x?(E-=y+x,T=E/b,k.x=m.x1+(m.x2-m.x1)*T,k.y=m.y1+(m.y2-m.y1)*T):(E-=y,T=E/x,k.x=l.x1+(l.x2-l.x1)*T,k.y=l.y1+(l.y2-l.y1)*T),d.push(k)}return d};s.exports=f},39757:(s,g,i)=>{var a=i(2141);function v(h,u,o,d){var p=h-o,l=u-d,m=p*p+l*l;return Math.sqrt(m)}var f=function(h,u){u===void 0&&(u=new a);var o=h.x1,d=h.y1,p=h.x2,l=h.y2,m=h.x3,y=h.y3,x=v(m,y,p,l),b=v(o,d,m,y),w=v(p,l,o,d),C=x+b+w;return u.x=(o*x+p*b+m*w)/C,u.y=(d*x+l*b+y*w)/C,u};s.exports=f},13584:s=>{var g=function(i,a,v){return i.x1+=a,i.y1+=v,i.x2+=a,i.y2+=v,i.x3+=a,i.y3+=v,i};s.exports=g},1376:(s,g,i)=>{var a=i(35001),v=function(f){var h=f.getLineA(),u=f.getLineB(),o=f.getLineC();return a(h)+a(u)+a(o)};s.exports=v},90260:(s,g,i)=>{var a=i(2141),v=function(f,h){h===void 0&&(h=new a);var u=f.x2-f.x1,o=f.y2-f.y1,d=f.x3-f.x1,p=f.y3-f.y1,l=Math.random(),m=Math.random();return l+m>=1&&(l=1-l,m=1-m),h.x=f.x1+(u*l+d*m),h.y=f.y1+(o*l+p*m),h};s.exports=v},52172:(s,g,i)=>{var a=i(99614),v=i(39757),f=function(h,u){var o=v(h);return a(h,o.x,o.y,u)};s.exports=f},49907:(s,g,i)=>{var a=i(99614),v=function(f,h,u){return a(f,h.x,h.y,u)};s.exports=v},99614:s=>{var g=function(i,a,v,f){var h=Math.cos(f),u=Math.sin(f),o=i.x1-a,d=i.y1-v;return i.x1=o*h-d*u+a,i.y1=o*u+d*h+v,o=i.x2-a,d=i.y2-v,i.x2=o*h-d*u+a,i.y2=o*u+d*h+v,o=i.x3-a,d=i.y3-v,i.x3=o*h-d*u+a,i.y3=o*u+d*h+v,i};s.exports=g},16483:(s,g,i)=>{var a=i(83419),v=i(10690),f=i(20437),h=i(80672),u=i(23777),o=i(23031),d=i(90260),p=new a({initialize:function(m,y,x,b,w,C){m===void 0&&(m=0),y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=0),C===void 0&&(C=0),this.type=u.TRIANGLE,this.x1=m,this.y1=y,this.x2=x,this.y2=b,this.x3=w,this.y3=C},contains:function(l,m){return v(this,l,m)},getPoint:function(l,m){return f(this,l,m)},getPoints:function(l,m,y){return h(this,l,m,y)},getRandomPoint:function(l){return d(this,l)},setTo:function(l,m,y,x,b,w){return l===void 0&&(l=0),m===void 0&&(m=0),y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=0),this.x1=l,this.y1=m,this.x2=y,this.y2=x,this.x3=b,this.y3=w,this},getLineA:function(l){return l===void 0&&(l=new o),l.setTo(this.x1,this.y1,this.x2,this.y2),l},getLineB:function(l){return l===void 0&&(l=new o),l.setTo(this.x2,this.y2,this.x3,this.y3),l},getLineC:function(l){return l===void 0&&(l=new o),l.setTo(this.x3,this.y3,this.x1,this.y1),l},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(l){var m=0;this.x1<=this.x2&&this.x1<=this.x3?m=this.x1-l:this.x2<=this.x1&&this.x2<=this.x3?m=this.x2-l:m=this.x3-l,this.x1-=m,this.x2-=m,this.x3-=m}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(l){var m=0;this.x1>=this.x2&&this.x1>=this.x3?m=this.x1-l:this.x2>=this.x1&&this.x2>=this.x3?m=this.x2-l:m=this.x3-l,this.x1-=m,this.x2-=m,this.x3-=m}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(l){var m=0;this.y1<=this.y2&&this.y1<=this.y3?m=this.y1-l:this.y2<=this.y1&&this.y2<=this.y3?m=this.y2-l:m=this.y3-l,this.y1-=m,this.y2-=m,this.y3-=m}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(l){var m=0;this.y1>=this.y2&&this.y1>=this.y3?m=this.y1-l:this.y2>=this.y1&&this.y2>=this.y3?m=this.y2-l:m=this.y3-l,this.y1-=m,this.y2-=m,this.y3-=m}}});s.exports=p},84435:(s,g,i)=>{var a=i(16483);a.Area=i(41658),a.BuildEquilateral=i(39208),a.BuildFromPolygon=i(39545),a.BuildRight=i(90301),a.CenterOn=i(23707),a.Centroid=i(97523),a.CircumCenter=i(24951),a.CircumCircle=i(85614),a.Clone=i(74422),a.Contains=i(10690),a.ContainsArray=i(48653),a.ContainsPoint=i(96006),a.CopyFrom=i(71326),a.Decompose=i(71694),a.Equals=i(33522),a.GetPoint=i(20437),a.GetPoints=i(80672),a.InCenter=i(39757),a.Perimeter=i(1376),a.Offset=i(13584),a.Random=i(90260),a.Rotate=i(52172),a.RotateAroundPoint=i(49907),a.RotateAroundXY=i(99614),s.exports=a},74457:s=>{var g=function(i,a,v){return{gameObject:i,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:a,hitAreaCallback:v,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};s.exports=g},84409:s=>{var g=function(i,a){return function(v,f,h,u){var o=i.getPixelAlpha(f,h,u.texture.key,u.frame.name);return o&&o>=a}};s.exports=g},7003:(s,g,i)=>{var a=i(83419),v=i(93301),f=i(50792),h=i(8214),u=i(8443),o=i(78970),d=i(85098),p=i(42515),l=i(36210),m=i(61340),y=i(85955),x=new a({initialize:function(w,C){this.game=w,this.scaleManager,this.canvas,this.config=C,this.enabled=!0,this.events=new f,this.isOver=!0,this.defaultCursor="",this.keyboard=C.inputKeyboard?new o(this):null,this.mouse=C.inputMouse?new d(this):null,this.touch=C.inputTouch?new l(this):null,this.pointers=[],this.pointersTotal=C.inputActivePointers,C.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var E=0;E<=this.pointersTotal;E++){var T=new p(this,E);T.smoothFactor=C.inputSmoothFactor,this.pointers.push(T)}this.mousePointer=C.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new m,this._tempMatrix2=new m,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],w.events.once(u.BOOT,this.boot,this)},boot:function(){var b=this.game,w=b.events;this.canvas=b.canvas,this.scaleManager=b.scale,this.events.emit(h.MANAGER_BOOT),w.on(u.PRE_RENDER,this.preRender,this),w.once(u.DESTROY,this.destroy,this)},setCanvasOver:function(b){this.isOver=!0,this.events.emit(h.GAME_OVER,b)},setCanvasOut:function(b){this.isOver=!1,this.events.emit(h.GAME_OUT,b)},preRender:function(){var b=this.game.loop.now,w=this.game.loop.delta,C=this.game.scene.getScenes(!0,!0);this.time=b,this.events.emit(h.MANAGER_UPDATE);for(var E=0;E<C.length;E++){var T=C[E];if(T.sys.input&&T.sys.input.updatePoll(b,w)&&this.globalTopOnly)return}},setDefaultCursor:function(b){this.defaultCursor=b,this.canvas.style.cursor!==b&&(this.canvas.style.cursor=b)},setCursor:function(b){b.cursor&&(this.canvas.style.cursor=b.cursor)},resetCursor:function(b){b.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(b){b===void 0&&(b=1);var w=[];this.pointersTotal+b>10&&(b=10-this.pointersTotal);for(var C=0;C<b;C++){var E=this.pointers.length,T=new p(this,E);T.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(T),this.pointersTotal++,w.push(T)}return w},updateInputPlugins:function(b,w){var C=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var E=0;E<C.length;E++){var T=C[E];if(T.sys.input){var k=T.sys.input.update(b,w);if(k&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(b){for(var w=this.pointers,C=[],E=0;E<b.changedTouches.length;E++)for(var T=b.changedTouches[E],k=1;k<this.pointersTotal;k++){var P=w[k];if(!P.active){P.touchstart(T,b),this.activePointer=P,C.push(P);break}}this.updateInputPlugins(v.TOUCH_START,C)},onTouchMove:function(b){for(var w=this.pointers,C=[],E=0;E<b.changedTouches.length;E++)for(var T=b.changedTouches[E],k=1;k<this.pointersTotal;k++){var P=w[k];if(P.active&&P.identifier===T.identifier){var R=document.elementFromPoint(T.clientX,T.clientY),M=R===this.canvas;!this.isOver&&M?this.setCanvasOver(b):this.isOver&&!M&&this.setCanvasOut(b),this.isOver&&(P.touchmove(T,b),this.activePointer=P,C.push(P));break}}this.updateInputPlugins(v.TOUCH_MOVE,C)},onTouchEnd:function(b){for(var w=this.pointers,C=[],E=0;E<b.changedTouches.length;E++)for(var T=b.changedTouches[E],k=1;k<this.pointersTotal;k++){var P=w[k];if(P.active&&P.identifier===T.identifier){P.touchend(T,b),C.push(P);break}}this.updateInputPlugins(v.TOUCH_END,C)},onTouchCancel:function(b){for(var w=this.pointers,C=[],E=0;E<b.changedTouches.length;E++)for(var T=b.changedTouches[E],k=1;k<this.pointersTotal;k++){var P=w[k];if(P.active&&P.identifier===T.identifier){P.touchcancel(T,b),C.push(P);break}}this.updateInputPlugins(v.TOUCH_CANCEL,C)},onMouseDown:function(b){var w=this.mousePointer;w.down(b),w.updateMotion(),this.activePointer=w,this.updateInputPlugins(v.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(b){var w=this.mousePointer;w.move(b),w.updateMotion(),this.activePointer=w,this.updateInputPlugins(v.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(b){var w=this.mousePointer;w.up(b),w.updateMotion(),this.activePointer=w,this.updateInputPlugins(v.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(b){var w=this.mousePointer;w.wheel(b),this.activePointer=w,this.updateInputPlugins(v.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(b){var w=this.mouse.locked;this.mousePointer.locked=w,this.events.emit(h.POINTERLOCK_CHANGE,b,w)},inputCandidate:function(b,w){var C=b.input;if(!C||!C.enabled||!b.willRender(w))return!1;var E=!0,T=b.parentContainer;if(T)do{if(!T.willRender(w)){E=!1;break}T=T.parentContainer}while(T);return E},hitTest:function(b,w,C,E){E===void 0&&(E=this._tempHitTest);var T=this._tempPoint,k=C.scrollX,P=C.scrollY;E.length=0;var R=b.x,M=b.y;C.getWorldPoint(R,M,T),b.worldX=T.x,b.worldY=T.y;for(var I={x:0,y:0},B=this._tempMatrix,D=this._tempMatrix2,N=0;N<w.length;N++){var _=w[N];if(this.inputCandidate(_,C)){var G=T.x+k*_.scrollFactorX-k,$=T.y+P*_.scrollFactorY-P;_.parentContainer?(_.getWorldTransformMatrix(B,D),B.applyInverse(G,$,I)):y(G,$,_.x,_.y,_.rotation,_.scaleX,_.scaleY,I),this.pointWithinHitArea(_,I.x,I.y)&&E.push(_)}}return E},pointWithinHitArea:function(b,w,C){w+=b.displayOriginX,C+=b.displayOriginY;var E=b.input;return E&&E.hitAreaCallback(E.hitArea,w,C,b)?(E.localX=w,E.localY=C,!0):!1},pointWithinInteractiveObject:function(b,w,C){return b.hitArea?(w+=b.gameObject.displayOriginX,C+=b.gameObject.displayOriginY,b.localX=w,b.localY=C,b.hitAreaCallback(b.hitArea,w,C,b)):!1},transformPointer:function(b,w,C,E){var T=b.position,k=b.prevPosition;k.x=T.x,k.y=T.y;var P=this.scaleManager.transformX(w),R=this.scaleManager.transformY(C),M=b.smoothFactor;!E||M===0?(T.x=P,T.y=R):(T.x=P*M+k.x*(1-M),T.y=R*M+k.y*(1-M))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(u.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var b=0;b<this.pointers.length;b++)this.pointers[b].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});s.exports=x},48205:(s,g,i)=>{var a=i(96503),v=i(87902),f=i(83419),h=i(93301),u=i(74457),o=i(84409),d=i(20339),p=i(8497),l=i(81154),m=i(8214),y=i(50792),x=i(95540),b=i(23777),w=i(89639),C=i(41212),E=i(37277),T=i(87841),k=i(37303),P=i(44594),R=i(16483),M=i(10690),I=new f({Extends:y,initialize:function(D){y.call(this),this.scene=D,this.systems=D.sys,this.settings=D.sys.settings,this.manager=D.sys.game.input,this.pluginEvents=new y,this.enabled=!0,this.displayList,this.cameras,w.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var N={cancelled:!1};this._eventContainer={stopPropagation:function(){N.cancelled=!0}},this._eventData=N,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,D.sys.events.once(P.BOOT,this.boot,this),D.sys.events.on(P.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(P.DESTROY,this.destroy,this),this.pluginEvents.emit(m.BOOT)},start:function(){var B=this.systems.events;B.on(P.TRANSITION_START,this.transitionIn,this),B.on(P.TRANSITION_OUT,this.transitionOut,this),B.on(P.TRANSITION_COMPLETE,this.transitionComplete,this),B.on(P.PRE_UPDATE,this.preUpdate,this),B.once(P.SHUTDOWN,this.shutdown,this),this.manager.events.on(m.GAME_OUT,this.onGameOut,this),this.manager.events.on(m.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(m.START)},onGameOver:function(B){this.isActive()&&this.emit(m.GAME_OVER,B.timeStamp,B)},onGameOut:function(B){this.isActive()&&this.emit(m.GAME_OUT,B.timeStamp,B)},preUpdate:function(){this.pluginEvents.emit(m.PRE_UPDATE);var B=this._pendingRemoval,D=this._pendingInsertion,N=B.length,_=D.length;if(!(N===0&&_===0)){for(var G=this._list,$=0;$<N;$++){var V=B[$],Y=G.indexOf(V);Y>-1&&(G.splice(Y,1),this.clear(V,!0))}this._pendingRemoval.length=0,this._list=G.concat(D.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(B,D){if(!this.isActive())return!1;if(this.pluginEvents.emit(m.UPDATE,B,D),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var N,_=this.manager,G=_.pointers,$=_.pointersTotal;for(N=0;N<$;N++)G[N].updateMotion();if(this._list.length===0)return!1;var V=this.pollRate;if(V===-1)return!1;if(V>0)if(this._pollTimer-=D,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Y=!1;for(N=0;N<$;N++){var U=0,F=G[N];this._tempZones=[],this._temp=this.hitTestPointer(F),this.sortGameObjects(this._temp,F),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),U+=this.processOverOutEvents(F),this.getDragState(F)===2&&this.processDragThresholdEvent(F,B),U>0&&(Y=!0)}return Y},update:function(B,D){if(!this.isActive())return!1;for(var N=D.length,_=!1,G=0;G<N;G++){var $=0,V=D[G];switch(this._tempZones=[],this._temp=this.hitTestPointer(V),this.sortGameObjects(this._temp,V),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),B){case h.MOUSE_DOWN:$+=this.processDragDownEvent(V),$+=this.processDownEvents(V),$+=this.processOverOutEvents(V);break;case h.MOUSE_UP:$+=this.processDragUpEvent(V),$+=this.processUpEvents(V),$+=this.processOverOutEvents(V);break;case h.TOUCH_START:$+=this.processDragDownEvent(V),$+=this.processDownEvents(V),$+=this.processOverEvents(V);break;case h.TOUCH_END:case h.TOUCH_CANCEL:$+=this.processDragUpEvent(V),$+=this.processUpEvents(V),$+=this.processOutEvents(V);break;case h.MOUSE_MOVE:case h.TOUCH_MOVE:$+=this.processDragMoveEvent(V),$+=this.processMoveEvents(V),$+=this.processOverOutEvents(V);break;case h.MOUSE_WHEEL:$+=this.processWheelEvent(V);break}$>0&&(_=!0)}return this._updatedThisFrame=!0,_},clear:function(B,D){D===void 0&&(D=!1),this.disable(B);var N=B.input;N&&(this.removeDebug(B),this.manager.resetCursor(N),N.gameObject=void 0,N.target=void 0,N.hitArea=void 0,N.hitAreaCallback=void 0,N.callbackContext=void 0,B.input=null),D||this.queueForRemoval(B);var _=this._draggable.indexOf(B);return _>-1&&this._draggable.splice(_,1),B},disable:function(B){var D=B.input;D&&(D.enabled=!1,D.dragState=0);for(var N=this._drag,_=this._over,G=this.manager,$=0,V;$<G.pointersTotal;$++)V=N[$].indexOf(B),V>-1&&N[$].splice(V,1),V=_[$].indexOf(B),V>-1&&_[$].splice(V,1);return this},enable:function(B,D,N,_){return _===void 0&&(_=!1),B.input?B.input.enabled=!0:this.setHitArea(B,D,N),B.input&&_&&!B.input.dropZone&&(B.input.dropZone=_),this},hitTestPointer:function(B){for(var D=this.cameras.getCamerasBelowPointer(B),N=0;N<D.length;N++){for(var _=D[N],G=this.manager.hitTest(B,this._list,_),$=0;$<G.length;$++){var V=G[$];V.input.dropZone&&this._tempZones.push(V)}if(G.length>0)return B.camera=_,G}return B.camera=D[0],[]},processDownEvents:function(B){var D=0,N=this._temp,_=this._eventData,G=this._eventContainer;_.cancelled=!1;for(var $=!1,V=0;V<N.length;V++){var Y=N[V];if(!(!Y.input||!Y.input.enabled)){if(D++,Y.emit(m.GAMEOBJECT_POINTER_DOWN,B,Y.input.localX,Y.input.localY,G),_.cancelled||!Y.input||!Y.input.enabled){$=!0;break}if(this.emit(m.GAMEOBJECT_DOWN,B,Y,G),_.cancelled||!Y.input){$=!0;break}}}return!$&&this.manager&&(B.downElement===this.manager.game.canvas?this.emit(m.POINTER_DOWN,B,N):this.emit(m.POINTER_DOWN_OUTSIDE,B)),D},getDragState:function(B){return this._dragState[B.id]},setDragState:function(B,D){this._dragState[B.id]=D},processDragThresholdEvent:function(B,D){var N=!1,_=this.dragTimeThreshold,G=this.dragDistanceThreshold;if((G>0&&d(B.x,B.y,B.downX,B.downY)>=G||_>0&&D>=B.downTime+_)&&(N=!0),N)return this.setDragState(B,3),this.processDragStartList(B)},processDragStartList:function(B){if(this.getDragState(B)!==3)return 0;for(var D=this._drag[B.id],N=0;N<D.length;N++){var _=D[N],G=_.input;G.dragState=2,G.dragStartX=_.x,G.dragStartY=_.y,G.dragStartXGlobal=B.worldX,G.dragStartYGlobal=B.worldY,G.dragX=G.dragStartXGlobal-G.dragStartX,G.dragY=G.dragStartYGlobal-G.dragStartY,_.emit(m.GAMEOBJECT_DRAG_START,B,G.dragX,G.dragY),this.emit(m.DRAG_START,B,_)}return this.setDragState(B,4),D.length},processDragDownEvent:function(B){var D=this._temp;if(this._draggable.length===0||D.length===0||!B.primaryDown||this.getDragState(B)!==0)return 0;this.setDragState(B,1);for(var N=[],_=0;_<D.length;_++){var G=D[_];G.input.draggable&&G.input.dragState===0&&N.push(G)}return N.length===0?(this.setDragState(B,0),0):(N.length>1&&(this.sortGameObjects(N,B),this.topOnly&&N.splice(1)),this._drag[B.id]=N,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(B,3),this.processDragStartList(B)):(this.setDragState(B,2),0))},processDragMoveEvent:function(B){if(this.getDragState(B)===2&&this.processDragThresholdEvent(B,this.manager.game.loop.now),this.getDragState(B)!==4)return 0;for(var D=this._tempZones,N=this._drag[B.id],_=0;_<N.length;_++){var G=N[_],$=G.input,V=$.target;if(V){var Y=D.indexOf(V);Y===0?(G.emit(m.GAMEOBJECT_DRAG_OVER,B,V),this.emit(m.DRAG_OVER,B,G,V)):Y>0?(G.emit(m.GAMEOBJECT_DRAG_LEAVE,B,V),this.emit(m.DRAG_LEAVE,B,G,V),$.target=D[0],V=$.target,G.emit(m.GAMEOBJECT_DRAG_ENTER,B,V),this.emit(m.DRAG_ENTER,B,G,V)):(G.emit(m.GAMEOBJECT_DRAG_LEAVE,B,V),this.emit(m.DRAG_LEAVE,B,G,V),D[0]?($.target=D[0],V=$.target,G.emit(m.GAMEOBJECT_DRAG_ENTER,B,V),this.emit(m.DRAG_ENTER,B,G,V)):$.target=null)}else!V&&D[0]&&($.target=D[0],V=$.target,G.emit(m.GAMEOBJECT_DRAG_ENTER,B,V),this.emit(m.DRAG_ENTER,B,G,V));var U,F;if(!G.parentContainer)U=B.worldX-$.dragX,F=B.worldY-$.dragY;else{var O=B.worldX-$.dragStartXGlobal,j=B.worldY-$.dragStartYGlobal,z=G.getParentRotation(),W=O*Math.cos(z)+j*Math.sin(z),q=j*Math.cos(z)-O*Math.sin(z);W*=1/G.parentContainer.scaleX,q*=1/G.parentContainer.scaleY,U=W+$.dragStartX,F=q+$.dragStartY}G.emit(m.GAMEOBJECT_DRAG,B,U,F),this.emit(m.DRAG,B,G,U,F)}return N.length},processDragUpEvent:function(B){for(var D=this._drag[B.id],N=0;N<D.length;N++){var _=D[N],G=_.input;if(G&&G.dragState===2){G.dragState=0,G.dragX=G.localX-_.displayOriginX,G.dragY=G.localY-_.displayOriginY;var $=!1,V=G.target;V&&(_.emit(m.GAMEOBJECT_DROP,B,V),this.emit(m.DROP,B,_,V),G.target=null,$=!0),_.input&&_.input.enabled&&(_.emit(m.GAMEOBJECT_DRAG_END,B,G.dragX,G.dragY,$),this.emit(m.DRAG_END,B,_,$))}}return this.setDragState(B,0),D.splice(0),0},processMoveEvents:function(B){var D=0,N=this._temp,_=this._eventData,G=this._eventContainer;_.cancelled=!1;for(var $=!1,V=0;V<N.length;V++){var Y=N[V];if(!(!Y.input||!Y.input.enabled)){if(D++,Y.emit(m.GAMEOBJECT_POINTER_MOVE,B,Y.input.localX,Y.input.localY,G),_.cancelled||!Y.input||!Y.input.enabled){$=!0;break}if(this.emit(m.GAMEOBJECT_MOVE,B,Y,G),_.cancelled||!Y.input||!Y.input.enabled){$=!0;break}if(this.topOnly)break}}return $||this.emit(m.POINTER_MOVE,B,N),D},processWheelEvent:function(B){var D=0,N=this._temp,_=this._eventData,G=this._eventContainer;_.cancelled=!1;for(var $=!1,V=B.deltaX,Y=B.deltaY,U=B.deltaZ,F=0;F<N.length;F++){var O=N[F];if(!(!O.input||!O.input.enabled)){if(D++,O.emit(m.GAMEOBJECT_POINTER_WHEEL,B,V,Y,U,G),_.cancelled||!O.input||!O.input.enabled){$=!0;break}if(this.emit(m.GAMEOBJECT_WHEEL,B,O,V,Y,U,G),_.cancelled||!O.input||!O.input.enabled){$=!0;break}}}return $||this.emit(m.POINTER_WHEEL,B,N,V,Y,U),D},processOverEvents:function(B){var D=this._temp,N=0,_=D.length,G=[];if(_>0){var $=this.manager,V=this._eventData,Y=this._eventContainer;V.cancelled=!1;for(var U=!1,F=0;F<_;F++){var O=D[F];if(!(!O.input||!O.input.enabled)){if(G.push(O),$.setCursor(O.input),O.emit(m.GAMEOBJECT_POINTER_OVER,B,O.input.localX,O.input.localY,Y),N++,V.cancelled||!O.input||!O.input.enabled){U=!0;break}if(this.emit(m.GAMEOBJECT_OVER,B,O,Y),V.cancelled||!O.input||!O.input.enabled){U=!0;break}}}U||this.emit(m.POINTER_OVER,B,G)}return this._over[B.id]=G,N},processOutEvents:function(B){var D=this._over[B.id],N=0,_=D.length;if(_>0){var G=this.manager,$=this._eventData,V=this._eventContainer;$.cancelled=!1;var Y=!1;this.sortGameObjects(D,B);for(var U=0;U<_;U++){var F=D[U];if(F=D[U],!(!F.input||!F.input.enabled)){if(G.resetCursor(F.input),F.emit(m.GAMEOBJECT_POINTER_OUT,B,V),N++,$.cancelled||!F.input||!F.input.enabled){Y=!0;break}if(this.emit(m.GAMEOBJECT_OUT,B,F,V),$.cancelled||!F.input||!F.input.enabled){Y=!0;break}Y||this.emit(m.POINTER_OUT,B,D)}}this._over[B.id]=[]}return N},processOverOutEvents:function(B){var D=this._temp,N,_,G=[],$=[],V=[],Y=this._over[B.id],U=this._drag[B.id],F=this.manager;for(N=0;N<Y.length;N++)_=Y[N],D.indexOf(_)===-1&&U.indexOf(_)===-1?G.push(_):V.push(_);for(N=0;N<D.length;N++)_=D[N],Y.indexOf(_)===-1&&$.push(_);var O=G.length,j=0,z=this._eventData,W=this._eventContainer;z.cancelled=!1;var q=!1;if(O>0){for(this.sortGameObjects(G,B),N=0;N<O;N++)if(_=G[N],!(!_.input||!_.input.enabled)){if(F.resetCursor(_.input),_.emit(m.GAMEOBJECT_POINTER_OUT,B,W),j++,z.cancelled||!_.input||!_.input.enabled){q=!0;break}if(this.emit(m.GAMEOBJECT_OUT,B,_,W),z.cancelled||!_.input||!_.input.enabled){q=!0;break}}q||this.emit(m.POINTER_OUT,B,G)}if(O=$.length,z.cancelled=!1,q=!1,O>0){for(this.sortGameObjects($,B),N=0;N<O;N++)if(_=$[N],!(!_.input||!_.input.enabled)){if(F.setCursor(_.input),_.emit(m.GAMEOBJECT_POINTER_OVER,B,_.input.localX,_.input.localY,W),j++,z.cancelled||!_.input||!_.input.enabled){q=!0;break}if(this.emit(m.GAMEOBJECT_OVER,B,_,W),z.cancelled||!_.input||!_.input.enabled){q=!0;break}}q||this.emit(m.POINTER_OVER,B,$)}return Y=V.concat($),this._over[B.id]=this.sortGameObjects(Y,B),j},processUpEvents:function(B){var D=this._temp,N=this._eventData,_=this._eventContainer;N.cancelled=!1;for(var G=!1,$=0;$<D.length;$++){var V=D[$];if(!(!V.input||!V.input.enabled)){if(V.emit(m.GAMEOBJECT_POINTER_UP,B,V.input.localX,V.input.localY,_),N.cancelled||!V.input||!V.input.enabled){G=!0;break}if(this.emit(m.GAMEOBJECT_UP,B,V,_),N.cancelled||!V.input||!V.input.enabled){G=!0;break}}}return!G&&this.manager&&(B.upElement===this.manager.game.canvas?this.emit(m.POINTER_UP,B,D):this.emit(m.POINTER_UP_OUTSIDE,B)),D.length},queueForInsertion:function(B){return this._pendingInsertion.indexOf(B)===-1&&this._list.indexOf(B)===-1&&this._pendingInsertion.push(B),this},queueForRemoval:function(B){return this._pendingRemoval.push(B),this},setDraggable:function(B,D){D===void 0&&(D=!0),Array.isArray(B)||(B=[B]);for(var N=0;N<B.length;N++){var _=B[N];_.input.draggable=D;var G=this._draggable.indexOf(_);D&&G===-1?this._draggable.push(_):!D&&G>-1&&this._draggable.splice(G,1)}return this},makePixelPerfect:function(B){B===void 0&&(B=1);var D=this.systems.textures;return o(D,B)},setHitArea:function(B,D,N){if(D===void 0)return this.setHitAreaFromTexture(B);Array.isArray(B)||(B=[B]);var _=!1,G=!1,$=!1,V=!1,Y=!1,U=!0;if(C(D)&&Object.keys(D).length){var F=D,O=B.some(function(ot){return ot.hasOwnProperty("faces")});if(!O){D=x(F,"hitArea",null),N=x(F,"hitAreaCallback",null),Y=x(F,"pixelPerfect",!1);var j=x(F,"alphaTolerance",1);Y&&(D={},N=this.makePixelPerfect(j))}_=x(F,"draggable",!1),G=x(F,"dropZone",!1),$=x(F,"cursor",!1),V=x(F,"useHandCursor",!1),(!D||!N)&&(this.setHitAreaFromTexture(B),U=!1)}else typeof D=="function"&&!N&&(N=D,D={});for(var z=0;z<B.length;z++){var W=B[z];if(Y&&W.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var q=W.input?W.input:u(W,D,N);q.customHitArea=U,q.dropZone=G,q.cursor=V?"pointer":$,W.input=q,_&&this.setDraggable(W),this.queueForInsertion(W)}return this},setHitAreaCircle:function(B,D,N,_,G){G===void 0&&(G=v);var $=new a(D,N,_);return this.setHitArea(B,$,G)},setHitAreaEllipse:function(B,D,N,_,G,$){$===void 0&&($=l);var V=new p(D,N,_,G);return this.setHitArea(B,V,$)},setHitAreaFromTexture:function(B,D){D===void 0&&(D=k),Array.isArray(B)||(B=[B]);for(var N=0;N<B.length;N++){var _=B[N],G=_.frame,$=0,V=0;if(_.width?($=_.width,V=_.height):G&&($=G.realWidth,V=G.realHeight),_.type==="Container"&&($===0||V===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}$!==0&&V!==0&&(_.input=u(_,new T(0,0,$,V),D),this.queueForInsertion(_))}return this},setHitAreaRectangle:function(B,D,N,_,G,$){$===void 0&&($=k);var V=new T(D,N,_,G);return this.setHitArea(B,V,$)},setHitAreaTriangle:function(B,D,N,_,G,$,V,Y){Y===void 0&&(Y=M);var U=new R(D,N,_,G,$,V);return this.setHitArea(B,U,Y)},enableDebug:function(B,D){D===void 0&&(D=65280);var N=B.input;if(!N||!N.hitArea)return this;var _=N.hitArea,G=_.type,$=N.hitAreaDebug,V=this.systems.add,Y=this.systems.updateList;$&&(Y.remove($),$.destroy(),$=null);var U=0,F=0;switch(G){case b.CIRCLE:$=V.arc(0,0,_.radius),U=_.x-_.radius,F=_.y-_.radius;break;case b.ELLIPSE:$=V.ellipse(0,0,_.width,_.height),U=_.x-_.width/2,F=_.y-_.height/2;break;case b.LINE:$=V.line(0,0,_.x1,_.y1,_.x2,_.y2);break;case b.POLYGON:$=V.polygon(0,0,_.points);break;case b.RECTANGLE:$=V.rectangle(0,0,_.width,_.height),U=_.x,F=_.y;break;case b.TRIANGLE:$=V.triangle(0,0,_.x1,_.y1,_.x2,_.y2,_.x3,_.y3);break}return $&&($.isFilled=!1,$.strokeColor=D,$.preUpdate=function(){$.setVisible(B.visible),$.setStrokeStyle(1/B.scale,$.strokeColor),$.setDisplayOrigin(B.displayOriginX,B.displayOriginY);var O=B.x,j=B.y,z=B.rotation,W=B.scaleX,q=B.scaleY;if(B.parentContainer){var ot=B.getWorldTransformMatrix();O=ot.tx,j=ot.ty,z=ot.rotation,W=ot.scaleX,q=ot.scaleY}$.setRotation(z),$.setScale(W,q),$.setPosition(O+U*W,j+F*q),$.setScrollFactor(B.scrollFactorX,B.scrollFactorY),$.setDepth(B.depth)},Y.add($),N.hitAreaDebug=$),this},removeDebug:function(B){var D=B.input;if(D&&D.hitAreaDebug){var N=D.hitAreaDebug;N.destroy(),D.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(B){return this.pollRate=B,this._pollTimer=0,this},setGlobalTopOnly:function(B){return this.manager.globalTopOnly=B,this},setTopOnly:function(B){return this.topOnly=B,this},sortGameObjects:function(B,D){if(B.length<2||!D.camera)return B;var N=D.camera.renderList;return B.sort(function(_,G){var $=Math.max(N.indexOf(_),0),V=Math.max(N.indexOf(G),0);return V-$})},sortDropZones:function(B){return B.length<2?B:(this.scene.sys.depthSort(),B.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(B,D){if(!B.parentContainer&&!D.parentContainer)return this.displayList.getIndex(D)-this.displayList.getIndex(B);if(B.parentContainer===D.parentContainer)return D.parentContainer.getIndex(D)-B.parentContainer.getIndex(B);if(B.parentContainer===D)return-1;if(D.parentContainer===B)return 1;for(var N=B.getIndexList(),_=D.getIndexList(),G=Math.min(N.length,_.length),$=0;$<G;$++){var V=N[$],Y=_[$];if(V!==Y)return Y-V}return _.length-N.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(B){return this.manager.addPointer(B)},setDefaultCursor:function(B){return this.manager.setDefaultCursor(B),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(m.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var B=0;B<10;B++)this._drag[B]=[],this._over[B]=[];this.removeAllListeners();var D=this.manager;D.canvas.style.cursor=D.defaultCursor;var N=this.systems.events;N.off(P.TRANSITION_START,this.transitionIn,this),N.off(P.TRANSITION_OUT,this.transitionOut,this),N.off(P.TRANSITION_COMPLETE,this.transitionComplete,this),N.off(P.PRE_UPDATE,this.preUpdate,this),D.events.off(m.GAME_OUT,this.onGameOut,this),D.events.off(m.GAME_OVER,this.onGameOver,this),N.off(P.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var B=this.manager.pointers,D=0;D<B.length;D++)B[D].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(m.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(P.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});E.register("InputPlugin",I,"input"),s.exports=I},89639:(s,g,i)=>{var a=i(35154),v={},f={};f.register=function(h,u,o,d,p){v[h]={plugin:u,mapping:o,settingsKey:d,configKey:p}},f.getPlugin=function(h){return v[h]},f.install=function(h){var u=h.scene.sys,o=u.settings.input,d=u.game.config;for(var p in v){var l=v[p].plugin,m=v[p].mapping,y=v[p].settingsKey,x=v[p].configKey;a(o,y,d[x])&&(h[m]=new l(h))}},f.remove=function(h){v.hasOwnProperty(h)&&delete v[h]},s.exports=f},42515:(s,g,i)=>{var a=i(31040),v=i(83419),f=i(20339),h=i(43855),u=i(47235),o=i(26099),d=i(25892),p=new v({initialize:function(m,y){this.manager=m,this.id=y,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new o,this.prevPosition=new o,this.midPoint=new o(-1,-1),this.velocity=new o,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=y===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(l){var m=l.getWorldPoint(this.x,this.y);return this.worldX=m.x,this.worldY=m.y,this},positionToCamera:function(l,m){return l.getWorldPoint(this.x,this.y,m)},updateMotion:function(){var l=this.position.x,m=this.position.y,y=this.midPoint.x,x=this.midPoint.y;if(!(l===y&&m===x)){var b=u(this.motionFactor,y,l),w=u(this.motionFactor,x,m);h(b,l,.1)&&(b=l),h(w,m,.1)&&(w=m),this.midPoint.set(b,w);var C=l-b,E=m-w;this.velocity.set(C,E),this.angle=a(b,w,l,m),this.distance=Math.sqrt(C*C+E*E)}},up:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.button=l.button,this.upElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),l.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=l.timeStamp,this.wasTouch=!1)},down:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.button=l.button,this.downElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),l.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),d.macOS&&l.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=l.timeStamp),this.wasTouch=!1},move:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.manager.transformPointer(this,l.pageX,l.pageY,!0),this.locked&&(this.movementX=l.movementX||l.mozMovementX||l.webkitMovementX||0,this.movementY=l.movementY||l.mozMovementY||l.webkitMovementY||0),this.moveTime=l.timeStamp,this.wasTouch=!1},wheel:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.deltaX=l.deltaX,this.deltaY=l.deltaY,this.deltaZ=l.deltaZ,this.wasTouch=!1},touchstart:function(l,m){l.pointerId&&(this.pointerId=l.pointerId),this.identifier=l.identifier,this.target=l.target,this.active=!0,this.buttons=1,this.event=m,this.downElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=m.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(l,m){this.event=m,this.manager.transformPointer(this,l.pageX,l.pageY,!0),this.moveTime=m.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(l,m){this.buttons=0,this.event=m,this.upElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=m.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(l,m){this.buttons=0,this.event=m,this.upElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=m.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(l,m){l===void 0&&(l=10),m===void 0&&(m=[]);for(var y=this.prevPosition.x,x=this.prevPosition.y,b=this.position.x,w=this.position.y,C=0;C<l;C++){var E=1/l*C;m[C]={x:u(E,y,b),y:u(E,x,w)}}return m},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(l){this.position.x=l}},y:{get:function(){return this.position.y},set:function(l){this.position.y=l}},time:{get:function(){return this.event?this.event.timeStamp:0}}});s.exports=p},93301:s=>{var g={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};s.exports=g},7179:s=>{s.exports="boot"},85375:s=>{s.exports="destroy"},39843:s=>{s.exports="dragend"},23388:s=>{s.exports="dragenter"},16133:s=>{s.exports="drag"},27829:s=>{s.exports="dragleave"},53904:s=>{s.exports="dragover"},56058:s=>{s.exports="dragstart"},2642:s=>{s.exports="drop"},88171:s=>{s.exports="gameobjectdown"},36147:s=>{s.exports="dragend"},71692:s=>{s.exports="dragenter"},96149:s=>{s.exports="drag"},81285:s=>{s.exports="dragleave"},74048:s=>{s.exports="dragover"},21322:s=>{s.exports="dragstart"},49378:s=>{s.exports="drop"},86754:s=>{s.exports="gameobjectmove"},86433:s=>{s.exports="gameobjectout"},60709:s=>{s.exports="gameobjectover"},24081:s=>{s.exports="pointerdown"},11172:s=>{s.exports="pointermove"},18907:s=>{s.exports="pointerout"},95579:s=>{s.exports="pointerover"},35368:s=>{s.exports="pointerup"},26972:s=>{s.exports="wheel"},47078:s=>{s.exports="gameobjectup"},73802:s=>{s.exports="gameobjectwheel"},56718:s=>{s.exports="gameout"},25936:s=>{s.exports="gameover"},27503:s=>{s.exports="boot"},50852:s=>{s.exports="process"},96438:s=>{s.exports="update"},59152:s=>{s.exports="pointerlockchange"},47777:s=>{s.exports="pointerdown"},27957:s=>{s.exports="pointerdownoutside"},19444:s=>{s.exports="pointermove"},54251:s=>{s.exports="pointerout"},18667:s=>{s.exports="pointerover"},27192:s=>{s.exports="pointerup"},24652:s=>{s.exports="pointerupoutside"},45132:s=>{s.exports="wheel"},44512:s=>{s.exports="preupdate"},15757:s=>{s.exports="shutdown"},41637:s=>{s.exports="start"},93802:s=>{s.exports="update"},8214:(s,g,i)=>{s.exports={BOOT:i(7179),DESTROY:i(85375),DRAG_END:i(39843),DRAG_ENTER:i(23388),DRAG:i(16133),DRAG_LEAVE:i(27829),DRAG_OVER:i(53904),DRAG_START:i(56058),DROP:i(2642),GAME_OUT:i(56718),GAME_OVER:i(25936),GAMEOBJECT_DOWN:i(88171),GAMEOBJECT_DRAG_END:i(36147),GAMEOBJECT_DRAG_ENTER:i(71692),GAMEOBJECT_DRAG:i(96149),GAMEOBJECT_DRAG_LEAVE:i(81285),GAMEOBJECT_DRAG_OVER:i(74048),GAMEOBJECT_DRAG_START:i(21322),GAMEOBJECT_DROP:i(49378),GAMEOBJECT_MOVE:i(86754),GAMEOBJECT_OUT:i(86433),GAMEOBJECT_OVER:i(60709),GAMEOBJECT_POINTER_DOWN:i(24081),GAMEOBJECT_POINTER_MOVE:i(11172),GAMEOBJECT_POINTER_OUT:i(18907),GAMEOBJECT_POINTER_OVER:i(95579),GAMEOBJECT_POINTER_UP:i(35368),GAMEOBJECT_POINTER_WHEEL:i(26972),GAMEOBJECT_UP:i(47078),GAMEOBJECT_WHEEL:i(73802),MANAGER_BOOT:i(27503),MANAGER_PROCESS:i(50852),MANAGER_UPDATE:i(96438),POINTER_DOWN:i(47777),POINTER_DOWN_OUTSIDE:i(27957),POINTER_MOVE:i(19444),POINTER_OUT:i(54251),POINTER_OVER:i(18667),POINTER_UP:i(27192),POINTER_UP_OUTSIDE:i(24652),POINTER_WHEEL:i(45132),POINTERLOCK_CHANGE:i(59152),PRE_UPDATE:i(44512),SHUTDOWN:i(15757),START:i(41637),UPDATE:i(93802)}},97421:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u){this.pad=h,this.events=h.events,this.index=u,this.value=0,this.threshold=.1},update:function(f){this.value=f},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});s.exports=v},28884:(s,g,i)=>{var a=i(83419),v=i(92734),f=new a({initialize:function(u,o){this.pad=u,this.events=u.manager,this.index=o,this.value=0,this.threshold=1,this.pressed=!1},update:function(h){this.value=h;var u=this.pad,o=this.index;h>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(v.BUTTON_DOWN,u,this,h),this.pad.emit(v.GAMEPAD_BUTTON_DOWN,o,h,this)):this.pressed&&(this.pressed=!1,this.events.emit(v.BUTTON_UP,u,this,h),this.pad.emit(v.GAMEPAD_BUTTON_UP,o,h,this))},destroy:function(){this.pad=null,this.events=null}});s.exports=f},99125:(s,g,i)=>{var a=i(97421),v=i(28884),f=i(83419),h=i(50792),u=i(26099),o=new f({Extends:h,initialize:function(p,l){h.call(this),this.manager=p,this.pad=l,this.id=l.id,this.index=l.index;for(var m=[],y=0;y<l.buttons.length;y++)m.push(new v(this,y));this.buttons=m;var x=[];for(y=0;y<l.axes.length;y++)x.push(new a(this,y));this.axes=x,this.vibration=l.vibrationActuator;var b={value:0,pressed:!1};this._LCLeft=m[14]?m[14]:b,this._LCRight=m[15]?m[15]:b,this._LCTop=m[12]?m[12]:b,this._LCBottom=m[13]?m[13]:b,this._RCLeft=m[2]?m[2]:b,this._RCRight=m[1]?m[1]:b,this._RCTop=m[3]?m[3]:b,this._RCBottom=m[0]?m[0]:b,this._FBLeftTop=m[4]?m[4]:b,this._FBLeftBottom=m[6]?m[6]:b,this._FBRightTop=m[5]?m[5]:b,this._FBRightBottom=m[7]?m[7]:b;var w={value:0};this._HAxisLeft=x[0]?x[0]:w,this._VAxisLeft=x[1]?x[1]:w,this._HAxisRight=x[2]?x[2]:w,this._VAxisRight=x[3]?x[3]:w,this.leftStick=new u,this.rightStick=new u,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(d){return this.axes[d].getValue()},setAxisThreshold:function(d){for(var p=0;p<this.axes.length;p++)this.axes[p].threshold=d},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(d){return this.buttons[d].value},isButtonDown:function(d){return this.buttons[d].pressed},update:function(d){if(!(d.timestamp<this._created)){var p,l=this.buttons,m=d.buttons,y=l.length;for(p=0;p<y;p++)l[p].update(m[p].value);var x=this.axes,b=d.axes;for(y=x.length,p=0;p<y;p++)x[p].update(b[p]);y>=2&&(this.leftStick.set(x[0].getValue(),x[1].getValue()),y>=4&&this.rightStick.set(x[2].getValue(),x[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var d;for(d=0;d<this.buttons.length;d++)this.buttons[d].destroy();for(d=0;d<this.axes.length;d++)this.axes[d].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});s.exports=o},56654:(s,g,i)=>{var a=i(83419),v=i(50792),f=i(92734),h=i(99125),u=i(35154),o=i(89639),d=i(8214),p=new a({Extends:v,initialize:function(m){v.call(this),this.scene=m.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=m,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,m.pluginEvents.once(d.BOOT,this.boot,this),m.pluginEvents.on(d.START,this.start,this)},boot:function(){var l=this.scene.sys.game,m=this.settings.input,y=l.config;this.enabled=u(m,"gamepad",y.inputGamepad)&&l.device.input.gamepads,this.target=u(m,"gamepad.target",y.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(d.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(d.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var l=this,m=this.target,y=function(x){x.defaultPrevented||!l.isActive()||(l.refreshPads(),l.queue.push(x))};this.onGamepadHandler=y,m.addEventListener("gamepadconnected",y,!1),m.addEventListener("gamepaddisconnected",y,!1),this.sceneInputPlugin.pluginEvents.on(d.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(d.UPDATE,this.update);for(var l=0;l<this.gamepads.length;l++)this.gamepads[l].removeAllListeners()},disconnectAll:function(){for(var l=0;l<this.gamepads.length;l++)this.gamepads[l].pad.connected=!1},refreshPads:function(){var l=navigator.getGamepads();if(!l)this.disconnectAll();else for(var m=this.gamepads,y=0;y<l.length;y++){var x=l[y];if(x){var b=x.id,w=x.index,C=m[w];if(C)C.id!==b?(C.destroy(),m[w]=new h(this,x)):C.update(x);else{var E=new h(this,x);m[w]=E,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=E):this._pad3=E:this._pad2=E:this._pad1=E}}}},getAll:function(){for(var l=[],m=this.gamepads,y=0;y<m.length;y++)m[y]&&l.push(m[y]);return l},getPad:function(l){for(var m=this.gamepads,y=0;y<m.length;y++)if(m[y]&&m[y].index===l)return m[y]},update:function(){if(this.enabled){this.refreshPads();var l=this.queue.length;if(l!==0)for(var m=this.queue.splice(0,l),y=0;y<l;y++){var x=m[y],b=this.getPad(x.gamepad.index);x.type==="gamepadconnected"?this.emit(f.CONNECTED,b,x):x.type==="gamepaddisconnected"&&this.emit(f.DISCONNECTED,b,x)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var l=0;l<this.gamepads.length;l++)this.gamepads[l]&&this.gamepads[l].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});o.register("GamepadPlugin",p,"gamepad","gamepad","inputGamepad"),s.exports=p},89651:s=>{s.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:s=>{s.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:s=>{s.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(s,g,i)=>{s.exports={DUALSHOCK_4:i(65294),SNES_USB:i(89651),XBOX_360:i(90089)}},46008:s=>{s.exports="down"},7629:s=>{s.exports="up"},42206:s=>{s.exports="connected"},86544:s=>{s.exports="disconnected"},94784:s=>{s.exports="down"},14325:s=>{s.exports="up"},92734:(s,g,i)=>{s.exports={BUTTON_DOWN:i(46008),BUTTON_UP:i(7629),CONNECTED:i(42206),DISCONNECTED:i(86544),GAMEPAD_BUTTON_DOWN:i(94784),GAMEPAD_BUTTON_UP:i(14325)}},48646:(s,g,i)=>{s.exports={Axis:i(97421),Button:i(28884),Events:i(92734),Gamepad:i(99125),GamepadPlugin:i(56654),Configs:i(64894)}},14350:(s,g,i)=>{var a=i(93301),v=i(79291),f={CreatePixelPerfectHandler:i(84409),CreateInteractiveObject:i(74457),Events:i(8214),Gamepad:i(48646),InputManager:i(7003),InputPlugin:i(48205),InputPluginCache:i(89639),Keyboard:i(51442),Mouse:i(87078),Pointer:i(42515),Touch:i(95618)};f=v(!1,f,a),s.exports=f},78970:(s,g,i)=>{var a=i(72905),v=i(83419),f=i(8443),h=i(8214),u=i(46032),o=i(29747),d=new v({initialize:function(l){this.manager=l,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=o,this.onKeyUp=o,l.events.once(h.MANAGER_BOOT,this.boot,this)},boot:function(){var p=this.manager.config;this.enabled=p.inputKeyboard,this.target=p.inputKeyboardEventTarget,this.addCapture(p.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(f.POST_STEP,this.postUpdate,this)},startListeners:function(){var p=this;this.onKeyDown=function(m){if(!(m.defaultPrevented||!p.enabled||!p.manager)){p.queue.push(m),p.manager.events.emit(h.MANAGER_PROCESS);var y=m.altKey||m.ctrlKey||m.shiftKey||m.metaKey;p.preventDefault&&!y&&p.captures.indexOf(m.keyCode)>-1&&m.preventDefault()}},this.onKeyUp=function(m){if(!(m.defaultPrevented||!p.enabled||!p.manager)){p.queue.push(m),p.manager.events.emit(h.MANAGER_PROCESS);var y=m.altKey||m.ctrlKey||m.shiftKey||m.metaKey;p.preventDefault&&!y&&p.captures.indexOf(m.keyCode)>-1&&m.preventDefault()}};var l=this.target;l&&(l.addEventListener("keydown",this.onKeyDown,!1),l.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var p=this.target;p.removeEventListener("keydown",this.onKeyDown,!1),p.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(p){typeof p=="string"&&(p=p.split(",")),Array.isArray(p)||(p=[p]);for(var l=this.captures,m=0;m<p.length;m++){var y=p[m];typeof y=="string"&&(y=u[y.trim().toUpperCase()]),l.indexOf(y)===-1&&l.push(y)}this.preventDefault=l.length>0},removeCapture:function(p){typeof p=="string"&&(p=p.split(",")),Array.isArray(p)||(p=[p]);for(var l=this.captures,m=0;m<p.length;m++){var y=p[m];typeof y=="string"&&(y=u[y.toUpperCase()]),a(l,y)}this.preventDefault=l.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(f.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});s.exports=d},28846:(s,g,i)=>{var a=i(83419),v=i(50792),f=i(95922),h=i(8443),u=i(35154),o=i(8214),d=i(89639),p=i(30472),l=i(46032),m=i(87960),y=i(74600),x=i(44594),b=i(56583),w=new a({Extends:v,initialize:function(E){v.call(this),this.game=E.systems.game,this.scene=E.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=E,this.manager=E.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,E.pluginEvents.once(o.BOOT,this.boot,this),E.pluginEvents.on(o.START,this.start,this)},boot:function(){var C=this.settings.input;this.enabled=u(C,"keyboard",!0);var E=u(C,"keyboard.capture",null);E&&this.addCaptures(E),this.sceneInputPlugin.pluginEvents.once(o.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(o.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(o.SHUTDOWN,this.shutdown,this),this.game.events.on(h.BLUR,this.resetKeys,this),this.scene.sys.events.on(x.PAUSE,this.resetKeys,this),this.scene.sys.events.on(x.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(C){return this.manager.addCapture(C),this},removeCapture:function(C){return this.manager.removeCapture(C),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:l.UP,down:l.DOWN,left:l.LEFT,right:l.RIGHT,space:l.SPACE,shift:l.SHIFT})},addKeys:function(C,E,T){E===void 0&&(E=!0),T===void 0&&(T=!1);var k={};if(typeof C=="string"){C=C.split(",");for(var P=0;P<C.length;P++){var R=C[P].trim();R&&(k[R]=this.addKey(R,E,T))}}else for(var M in C)k[M]=this.addKey(C[M],E,T);return k},addKey:function(C,E,T){E===void 0&&(E=!0),T===void 0&&(T=!1);var k=this.keys;if(C instanceof p){var P=k.indexOf(C);return P>-1?k[P]=C:k[C.keyCode]=C,E&&this.addCapture(C.keyCode),C.setEmitOnRepeat(T),C}return typeof C=="string"&&(C=l[C.toUpperCase()]),k[C]||(k[C]=new p(this,C),E&&this.addCapture(C),k[C].setEmitOnRepeat(T)),k[C]},removeKey:function(C,E,T){E===void 0&&(E=!1),T===void 0&&(T=!1);var k=this.keys,P;if(C instanceof p){var R=k.indexOf(C);R>-1&&(P=this.keys[R],this.keys[R]=void 0)}else typeof C=="string"&&(C=l[C.toUpperCase()]);return k[C]&&(P=k[C],k[C]=void 0),P&&(P.plugin=null,T&&this.removeCapture(P.keyCode),E&&P.destroy()),this},removeAllKeys:function(C,E){C===void 0&&(C=!1),E===void 0&&(E=!1);for(var T=this.keys,k=0;k<T.length;k++){var P=T[k];P&&(T[k]=void 0,E&&this.removeCapture(P.keyCode),C&&P.destroy())}return this},createCombo:function(C,E){return new m(this,C,E)},checkDown:function(C,E){if(E===void 0&&(E=0),this.enabled&&C.isDown){var T=b(this.time-C.timeDown,E);if(T>C._tick)return C._tick=T,!0}return!1},update:function(){var C=this.manager.queue,E=C.length;if(!(!this.isActive()||E===0))for(var T=this.keys,k=0;k<E;k++){var P=C[k],R=P.keyCode,M=T[R],I=!1;P.cancelled===void 0&&(P.cancelled=0,P.stopImmediatePropagation=function(){P.cancelled=1},P.stopPropagation=function(){P.cancelled=-1}),P.cancelled!==-1&&(R===this.prevCode&&P.timeStamp===this.prevTime&&P.type===this.prevType||(this.prevCode=R,this.prevTime=P.timeStamp,this.prevType=P.type,P.type==="keydown"?(M&&(I=M.isDown,M.onDown(P)),!P.cancelled&&(!M||!I)&&(y[R]&&this.emit(f.KEY_DOWN+y[R],P),P.cancelled||this.emit(f.ANY_KEY_DOWN,P))):(M&&M.onUp(P),P.cancelled||(y[R]&&this.emit(f.KEY_UP+y[R],P),P.cancelled||this.emit(f.ANY_KEY_UP,P))),P.cancelled===1&&(P.cancelled=0)))}},resetKeys:function(){for(var C=this.keys,E=0;E<C.length;E++)C[E]&&C[E].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(o.MANAGER_PROCESS,this.update,this),this.game.events.off(h.BLUR,this.resetKeys),this.scene.sys.events.off(x.PAUSE,this.resetKeys,this),this.scene.sys.events.off(x.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var C=this.keys,E=0;E<C.length;E++)C[E]&&C[E].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});d.register("KeyboardPlugin",w,"keyboard","keyboard","inputKeyboard"),s.exports=w},66970:s=>{var g=function(i,a){return a.timeLastMatched=i.timeStamp,a.index++,a.index===a.size?!0:(a.current=a.keyCodes[a.index],!1)};s.exports=g},87960:(s,g,i)=>{var a=i(83419),v=i(95922),f=i(95540),h=i(68769),u=i(92803),o=new a({initialize:function(p,l,m){if(m===void 0&&(m={}),l.length<2)return!1;this.manager=p,this.enabled=!0,this.keyCodes=[];for(var y=0;y<l.length;y++){var x=l[y];typeof x=="string"?this.keyCodes.push(x.toUpperCase().charCodeAt(0)):typeof x=="number"?this.keyCodes.push(x):x.hasOwnProperty("keyCode")&&this.keyCodes.push(x.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=f(m,"resetOnWrongKey",!0),this.maxKeyDelay=f(m,"maxKeyDelay",0),this.resetOnMatch=f(m,"resetOnMatch",!1),this.deleteOnMatch=f(m,"deleteOnMatch",!1);var b=this,w=function(C){if(!(b.matched||!b.enabled)){var E=h(C,b);E&&(b.manager.emit(v.COMBO_MATCH,b,C),b.resetOnMatch?u(b):b.deleteOnMatch&&b.destroy())}};this.onKeyDown=w,this.manager.on(v.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(v.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});s.exports=o},68769:(s,g,i)=>{var a=i(66970),v=function(f,h){if(h.matched)return!0;var u=!1,o=!1;if(f.keyCode===h.current)if(h.index>0&&h.maxKeyDelay>0){var d=h.timeLastMatched+h.maxKeyDelay;f.timeStamp<=d&&(o=!0,u=a(f,h))}else o=!0,u=a(f,h);return!o&&h.resetOnWrongKey&&(h.index=0,h.current=h.keyCodes[0]),u&&(h.timeLastMatched=f.timeStamp,h.matched=!0,h.timeMatched=f.timeStamp),u};s.exports=v},92803:s=>{var g=function(i){return i.current=i.keyCodes[0],i.index=0,i.timeLastMatched=0,i.matched=!1,i.timeMatched=0,i};s.exports=g},92612:s=>{s.exports="keydown"},23345:s=>{s.exports="keyup"},21957:s=>{s.exports="keycombomatch"},44743:s=>{s.exports="down"},3771:s=>{s.exports="keydown-"},46358:s=>{s.exports="keyup-"},75674:s=>{s.exports="up"},95922:(s,g,i)=>{s.exports={ANY_KEY_DOWN:i(92612),ANY_KEY_UP:i(23345),COMBO_MATCH:i(21957),DOWN:i(44743),KEY_DOWN:i(3771),KEY_UP:i(46358),UP:i(75674)}},51442:(s,g,i)=>{s.exports={Events:i(95922),KeyboardManager:i(78970),KeyboardPlugin:i(28846),Key:i(30472),KeyCodes:i(46032),KeyCombo:i(87960),AdvanceKeyCombo:i(66970),ProcessKeyCombo:i(68769),ResetKeyCombo:i(92803),JustDown:i(90229),JustUp:i(38796),DownDuration:i(37015),UpDuration:i(41170)}},37015:s=>{var g=function(i,a){a===void 0&&(a=50);var v=i.plugin.game.loop.time-i.timeDown;return i.isDown&&v<a};s.exports=g},90229:s=>{var g=function(i){return i._justDown?(i._justDown=!1,!0):!1};s.exports=g},38796:s=>{var g=function(i){return i._justUp?(i._justUp=!1,!0):!1};s.exports=g},30472:(s,g,i)=>{var a=i(83419),v=i(50792),f=i(95922),h=new a({Extends:v,initialize:function(o,d){v.call(this),this.plugin=o,this.keyCode=d,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(u){return this.emitOnRepeat=u,this},onDown:function(u){this.originalEvent=u,this.enabled&&(this.altKey=u.altKey,this.ctrlKey=u.ctrlKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.location=u.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(f.DOWN,this,u):(this.isDown=!0,this.isUp=!1,this.timeDown=u.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(f.DOWN,this,u)))},onUp:function(u){this.originalEvent=u,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=u.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(f.UP,this,u))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});s.exports=h},46032:s=>{var g={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};s.exports=g},74600:(s,g,i)=>{var a=i(46032),v={};for(var f in a)v[a[f]]=f;s.exports=v},41170:s=>{var g=function(i,a){a===void 0&&(a=50);var v=i.plugin.game.loop.time-i.timeUp;return i.isUp&&v<a};s.exports=g},85098:(s,g,i)=>{var a=i(83419),v=i(89357),f=i(8214),h=i(29747),u=new a({initialize:function(d){this.manager=d,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=h,this.onMouseDown=h,this.onMouseUp=h,this.onMouseDownWindow=h,this.onMouseUpWindow=h,this.onMouseOver=h,this.onMouseOut=h,this.onMouseWheel=h,this.pointerLockChange=h,this.isTop=!0,d.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputMouse,this.target=o.inputMouseEventTarget,this.passive=o.inputMousePassive,this.preventDefaultDown=o.inputMousePreventDefaultDown,this.preventDefaultUp=o.inputMousePreventDefaultUp,this.preventDefaultMove=o.inputMousePreventDefaultMove,this.preventDefaultWheel=o.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,o.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),this},requestPointerLock:function(){if(v.pointerLock){var o=this.target;o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock||o.webkitRequestPointerLock,o.requestPointerLock()}},releasePointerLock:function(){v.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var o=this.target;if(o){var d=this,p=this.manager,l=p.canvas,m=window&&window.focus&&p.game.config.autoFocus;this.onMouseMove=function(x){!x.defaultPrevented&&d.enabled&&p&&p.enabled&&(p.onMouseMove(x),d.preventDefaultMove&&x.preventDefault())},this.onMouseDown=function(x){m&&window.focus(),!x.defaultPrevented&&d.enabled&&p&&p.enabled&&(p.onMouseDown(x),d.preventDefaultDown&&x.target===l&&x.preventDefault())},this.onMouseDownWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&d.enabled&&p&&p.enabled&&x.target!==l&&p.onMouseDown(x)},this.onMouseUp=function(x){!x.defaultPrevented&&d.enabled&&p&&p.enabled&&(p.onMouseUp(x),d.preventDefaultUp&&x.target===l&&x.preventDefault())},this.onMouseUpWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&d.enabled&&p&&p.enabled&&x.target!==l&&p.onMouseUp(x)},this.onMouseOver=function(x){!x.defaultPrevented&&d.enabled&&p&&p.enabled&&p.setCanvasOver(x)},this.onMouseOut=function(x){!x.defaultPrevented&&d.enabled&&p&&p.enabled&&p.setCanvasOut(x)},this.onMouseWheel=function(x){!x.defaultPrevented&&d.enabled&&p&&p.enabled&&p.onMouseWheel(x),d.preventDefaultWheel&&x.target===l&&x.preventDefault()};var y={passive:!0};if(o.addEventListener("mousemove",this.onMouseMove),o.addEventListener("mousedown",this.onMouseDown),o.addEventListener("mouseup",this.onMouseUp),o.addEventListener("mouseover",this.onMouseOver,y),o.addEventListener("mouseout",this.onMouseOut,y),this.preventDefaultWheel?o.addEventListener("wheel",this.onMouseWheel,{passive:!1}):o.addEventListener("wheel",this.onMouseWheel,y),window&&p.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,y),window.top.addEventListener("mouseup",this.onMouseUpWindow,y)}catch(x){window.addEventListener("mousedown",this.onMouseDownWindow,y),window.addEventListener("mouseup",this.onMouseUpWindow,y),this.isTop=!1}v.pointerLock&&(this.pointerLockChange=function(x){var b=d.target;d.locked=document.pointerLockElement===b||document.mozPointerLockElement===b||document.webkitPointerLockElement===b,p.onPointerLockChange(x)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var o=this.target;o.removeEventListener("mousemove",this.onMouseMove),o.removeEventListener("mousedown",this.onMouseDown),o.removeEventListener("mouseup",this.onMouseUp),o.removeEventListener("mouseover",this.onMouseOver),o.removeEventListener("mouseout",this.onMouseOut),window&&(o=this.isTop?window.top:window,o.removeEventListener("mousedown",this.onMouseDownWindow),o.removeEventListener("mouseup",this.onMouseUpWindow)),v.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});s.exports=u},87078:(s,g,i)=>{s.exports={MouseManager:i(85098)}},36210:(s,g,i)=>{var a=i(83419),v=i(8214),f=i(29747),h=new a({initialize:function(o){this.manager=o,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=f,this.onTouchStartWindow=f,this.onTouchMove=f,this.onTouchEnd=f,this.onTouchEndWindow=f,this.onTouchCancel=f,this.onTouchCancelWindow=f,this.isTop=!0,o.events.once(v.MANAGER_BOOT,this.boot,this)},boot:function(){var u=this.manager.config;this.enabled=u.inputTouch,this.target=u.inputTouchEventTarget,this.capture=u.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,u.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(u){return u.preventDefault(),!1}),this},startListeners:function(){var u=this.target;if(u){var o=this,d=this.manager,p=d.canvas,l=window&&window.focus&&d.game.config.autoFocus;this.onTouchMove=function(b){!b.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchMove(b),o.capture&&b.cancelable&&b.preventDefault())},this.onTouchStart=function(b){l&&window.focus(),!b.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchStart(b),o.capture&&b.cancelable&&b.target===p&&b.preventDefault())},this.onTouchStartWindow=function(b){!b.defaultPrevented&&o.enabled&&d&&d.enabled&&b.target!==p&&d.onTouchStart(b)},this.onTouchEnd=function(b){!b.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchEnd(b),o.capture&&b.cancelable&&b.target===p&&b.preventDefault())},this.onTouchEndWindow=function(b){!b.defaultPrevented&&o.enabled&&d&&d.enabled&&b.target!==p&&d.onTouchEnd(b)},this.onTouchCancel=function(b){!b.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchCancel(b),o.capture&&b.preventDefault())},this.onTouchCancelWindow=function(b){!b.defaultPrevented&&o.enabled&&d&&d.enabled&&d.onTouchCancel(b)};var m=this.capture,y={passive:!0},x={passive:!1};if(u.addEventListener("touchstart",this.onTouchStart,m?x:y),u.addEventListener("touchmove",this.onTouchMove,m?x:y),u.addEventListener("touchend",this.onTouchEnd,m?x:y),u.addEventListener("touchcancel",this.onTouchCancel,m?x:y),window&&d.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,x),window.top.addEventListener("touchend",this.onTouchEndWindow,x),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,x)}catch(b){window.addEventListener("touchstart",this.onTouchStartWindow,x),window.addEventListener("touchend",this.onTouchEndWindow,x),window.addEventListener("touchcancel",this.onTouchCancelWindow,x),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var u=this.target;u.removeEventListener("touchstart",this.onTouchStart),u.removeEventListener("touchmove",this.onTouchMove),u.removeEventListener("touchend",this.onTouchEnd),u.removeEventListener("touchcancel",this.onTouchCancel),window&&(u=this.isTop?window.top:window,u.removeEventListener("touchstart",this.onTouchStartWindow),u.removeEventListener("touchend",this.onTouchEndWindow),u.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});s.exports=h},95618:(s,g,i)=>{s.exports={TouchManager:i(36210)}},41299:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(54899),h=i(95540),u=i(98356),o=i(3374),d=i(84376),p=i(92638),l=new a({initialize:function(y,x){if(this.loader=y,this.cache=h(x,"cache",!1),this.type=h(x,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=h(x,"key",!1);var b=this.key;if(y.prefix&&y.prefix!==""&&(this.key=y.prefix+b),!this.key)throw new Error("Invalid File key: "+this.key);var w=h(x,"url");w===void 0?w=y.path+b+"."+h(x,"extension",""):typeof w=="string"&&!w.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(w=y.path+w),this.url=w,this.src="",this.xhrSettings=p(h(x,"responseType",void 0)),h(x,"xhrSettings",!1)&&(this.xhrSettings=o(this.xhrSettings,h(x,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?v.FILE_POPULATED:v.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=h(x,"config",{}),this.multiFile,this.linkFile,this.base64=typeof w=="string"&&w.indexOf("data:")===0},setLink:function(m){this.linkFile=m,m.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===v.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=v.FILE_LOADING,this.src=u(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=d(this,this.loader.xhr))},onLoad:function(m,y){var x=m.responseURL&&this.loader.localSchemes.some(function(C){return m.responseURL.indexOf(C)===0}),b=x&&y.target.status===0,w=!(y.target&&y.target.status!==200)||b;m.readyState===4&&m.status>=400&&m.status<=599&&(w=!1),this.state=v.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,w)},onBase64Load:function(m){this.xhrLoader=m,this.state=v.FILE_LOADED,this.percentComplete=1,this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(m){m.lengthComputable&&(this.bytesLoaded=m.loaded,this.bytesTotal=m.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=v.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=v.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=v.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(m){if(this.state!==v.FILE_PENDING_DESTROY){m===void 0&&(m=this.data);var y=this.key,x=this.type;this.loader.emit(f.FILE_COMPLETE,y,x,m),this.loader.emit(f.FILE_KEY_COMPLETE+x+"-"+y,y,x,m),this.loader.flagForRemoval(this),this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});l.createObjectURL=function(m,y,x){if(typeof URL=="function")m.src=URL.createObjectURL(y);else{var b=new FileReader;b.onload=function(){m.removeAttribute("crossOrigin"),m.src="data:"+(y.type||x)+";base64,"+b.result.split(",")[1]},b.onerror=m.onerror,b.readAsDataURL(y)}},l.revokeObjectURL=function(m){typeof URL=="function"&&URL.revokeObjectURL(m.src)},s.exports=l},74099:s=>{var g={},i={install:function(a){for(var v in g)a[v]=g[v]},register:function(a,v){g[a]=v},destroy:function(){g={}}};s.exports=i},98356:s=>{var g=function(i,a){return i.url?i.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?i.url:a+i.url:!1};s.exports=g},74261:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(35072),h=i(50792),u=i(54899),o=i(74099),d=i(95540),p=i(35154),l=i(37277),m=i(44594),y=i(92638),x=new a({Extends:h,initialize:function(w){h.call(this);var C=w.sys.game.config,E=w.sys.settings.loader;this.scene=w,this.systems=w.sys,this.cacheManager=w.sys.cache,this.textureManager=w.sys.textures,this.sceneManager=w.sys.game.scene,o.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(d(E,"baseURL",C.loaderBaseURL)),this.setPath(d(E,"path",C.loaderPath)),this.setPrefix(d(E,"prefix",C.loaderPrefix)),this.maxParallelDownloads=d(E,"maxParallelDownloads",C.loaderMaxParallelDownloads),this.xhr=y(d(E,"responseType",C.loaderResponseType),d(E,"async",C.loaderAsync),d(E,"user",C.loaderUser),d(E,"password",C.loaderPassword),d(E,"timeout",C.loaderTimeout),d(E,"withCredentials",C.loaderWithCredentials)),this.crossOrigin=d(E,"crossOrigin",C.loaderCrossOrigin),this.imageLoadType=d(E,"imageLoadType",C.loaderImageLoadType),this.localSchemes=d(E,"localScheme",C.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new f,this.inflight=new f,this.queue=new f,this._deleteQueue=new f,this.totalFailed=0,this.totalComplete=0,this.state=v.LOADER_IDLE,this.multiKeyIndex=0,w.sys.events.once(m.BOOT,this.boot,this),w.sys.events.on(m.START,this.pluginStart,this)},boot:function(){this.systems.events.once(m.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(m.SHUTDOWN,this.shutdown,this)},setBaseURL:function(b){return b===void 0&&(b=""),b!==""&&b.substr(-1)!=="/"&&(b=b.concat("/")),this.baseURL=b,this},setPath:function(b){return b===void 0&&(b=""),b!==""&&b.substr(-1)!=="/"&&(b=b.concat("/")),this.path=b,this},setPrefix:function(b){return b===void 0&&(b=""),this.prefix=b,this},setCORS:function(b){return this.crossOrigin=b,this},addFile:function(b){Array.isArray(b)||(b=[b]);for(var w=0;w<b.length;w++){var C=b[w];this.keyExists(C)||(this.list.set(C),this.emit(u.ADD,C.key,C.type,this,C),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(b){var w=b.hasCacheConflict();return w||this.list.iterate(function(C){if(C.type===b.type&&C.key===b.key)return w=!0,!1}),!w&&this.isLoading()&&(this.inflight.iterate(function(C){if(C.type===b.type&&C.key===b.key)return w=!0,!1}),this.queue.iterate(function(C){if(C.type===b.type&&C.key===b.key)return w=!0,!1})),w},addPack:function(b,w){if(typeof w=="string"){var C=p(b,w);C&&(b={packKey:C})}var E=0,T=this.baseURL,k=this.path,P=this.prefix;for(var R in b)if(Object.prototype.hasOwnProperty.call(b,R)){var M=b[R],I=d(M,"baseURL",T),B=d(M,"path",k),D=d(M,"prefix",P),N=d(M,"files",null),_=d(M,"defaultType","void");if(Array.isArray(N)){this.setBaseURL(I),this.setPath(B),this.setPrefix(D);for(var G=0;G<N.length;G++){var $=N[G],V=$.hasOwnProperty("type")?$.type:_;this[V]&&(this[V]($),E++)}}}return this.setBaseURL(T),this.setPath(k),this.setPrefix(P),E>0},isLoading:function(){return this.state===v.LOADER_LOADING||this.state===v.LOADER_PROCESSING},isReady:function(){return this.state===v.LOADER_IDLE||this.state===v.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(u.START,this),this.list.size===0?this.loadComplete():(this.state=v.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(m.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(u.PROGRESS,this.progress)},update:function(){this.state===v.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(b){if((b.state===v.FILE_POPULATED||b.state===v.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(b),this.list.delete(b),b.crossOrigin||(b.crossOrigin=this.crossOrigin),b.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(b,w){this.inflight&&(this.inflight.delete(b),this.updateProgress(),w?(this.totalComplete++,this.queue.set(b),this.emit(u.FILE_LOAD,b),b.onProcess()):(this.totalFailed++,this._deleteQueue.set(b),this.emit(u.FILE_LOAD_ERROR,b),this.fileProcessComplete(b)))},fileProcessComplete:function(b){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(b.state===v.FILE_ERRORED?b.multiFile&&b.multiFile.onFileFailed(b):b.state===v.FILE_COMPLETE&&(b.multiFile?b.multiFile.isReadyToProcess()&&(b.multiFile.addToCache(),b.multiFile.pendingDestroy()):(b.addToCache(),b.pendingDestroy())),this.queue.delete(b),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(u.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=v.LOADER_COMPLETE,this.systems.events.off(m.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(u.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(b){this._deleteQueue.set(b)},saveJSON:function(b,w){return this.save(JSON.stringify(b),w)},save:function(b,w,C){w===void 0&&(w="file.json"),C===void 0&&(C="application/json");var E=new Blob([b],{type:C}),T=URL.createObjectURL(E),k=document.createElement("a");return k.download=w,k.textContent="Download "+w,k.href=T,k.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var b=this.systems.game.config,w=this.systems.settings.loader;this.setBaseURL(d(w,"baseURL",b.loaderBaseURL)),this.setPath(d(w,"path",b.loaderPath)),this.setPrefix(d(w,"prefix",b.loaderPrefix)),this.state=v.LOADER_IDLE},shutdown:function(){this.reset(),this.state=v.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(m.UPDATE,this.update,this),this.systems.events.off(m.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=v.LOADER_DESTROYED,this.systems.events.off(m.UPDATE,this.update,this),this.systems.events.off(m.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});l.register("Loader",x,"load"),s.exports=x},3374:(s,g,i)=>{var a=i(79291),v=i(92638),f=function(h,u){var o=h===void 0?v():a({},h);if(u)for(var d in u)u[d]!==void 0&&(o[d]=u[d]);return o};s.exports=f},26430:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(54899),h=new a({initialize:function(o,d,p,l){var m=[];l.forEach(function(b){b&&m.push(b)}),this.loader=o,this.type=d,this.key=p;var y=this.key;o.prefix&&o.prefix!==""&&(this.key=o.prefix+y),this.multiKeyIndex=o.multiKeyIndex++,this.files=m,this.state=v.FILE_PENDING,this.complete=!1,this.pending=m.length,this.failed=0,this.config={},this.baseURL=o.baseURL,this.path=o.path,this.prefix=o.prefix;for(var x=0;x<m.length;x++)m[x].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(u){return this.files.push(u),u.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(u){var o=this.files.indexOf(u);o!==-1&&this.pending--},onFileFailed:function(u){var o=this.files.indexOf(u);o!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,u.type,u.key))},pendingDestroy:function(){if(this.state!==v.FILE_PENDING_DESTROY){var u=this.key,o=this.type;this.loader.emit(f.FILE_COMPLETE,u,o),this.loader.emit(f.FILE_KEY_COMPLETE+o+"-"+u,u,o),this.loader.flagForRemoval(this);for(var d=0;d<this.files.length;d++)this.files[d].pendingDestroy();this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});s.exports=h},84376:(s,g,i)=>{var a=i(3374),v=function(f,h){var u=a(h,f.xhrSettings);if(f.base64){var o=f.url.split(";base64,").pop()||f.url.split(",").pop(),d={responseText:atob(o)};f.onBase64Load(d);return}var p=new XMLHttpRequest;if(p.open("GET",f.src,u.async,u.user,u.password),p.responseType=f.xhrSettings.responseType,p.timeout=u.timeout,u.headers)for(var l in u.headers)p.setRequestHeader(l,u.headers[l]);return u.header&&u.headerValue&&p.setRequestHeader(u.header,u.headerValue),u.requestedWith&&p.setRequestHeader("X-Requested-With",u.requestedWith),u.overrideMimeType&&p.overrideMimeType(u.overrideMimeType),u.withCredentials&&(p.withCredentials=!0),p.onload=f.onLoad.bind(f,p),p.onerror=f.onError.bind(f,p),p.onprogress=f.onProgress.bind(f),p.ontimeout=f.onError.bind(f,p),p.send(),p};s.exports=v},92638:s=>{var g=function(i,a,v,f,h,u){return i===void 0&&(i=""),a===void 0&&(a=!0),v===void 0&&(v=""),f===void 0&&(f=""),h===void 0&&(h=0),u===void 0&&(u=!1),{responseType:i,async:a,user:v,password:f,timeout:h,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:u}};s.exports=g},23906:s=>{var g={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};s.exports=g},42155:s=>{s.exports="addfile"},38991:s=>{s.exports="complete"},27540:s=>{s.exports="filecomplete"},87464:s=>{s.exports="filecomplete-"},94486:s=>{s.exports="loaderror"},13035:s=>{s.exports="load"},38144:s=>{s.exports="fileprogress"},97520:s=>{s.exports="postprocess"},85595:s=>{s.exports="progress"},55680:s=>{s.exports="start"},54899:(s,g,i)=>{s.exports={ADD:i(42155),COMPLETE:i(38991),FILE_COMPLETE:i(27540),FILE_KEY_COMPLETE:i(87464),FILE_LOAD_ERROR:i(94486),FILE_LOAD:i(13035),FILE_PROGRESS:i(38144),POST_PROCESS:i(97520),PROGRESS:i(85595),START:i(55680)}},14135:(s,g,i)=>{var a=i(83419),v=i(74099),f=i(518),h=i(54899),u=new a({Extends:f,initialize:function(d,p,l,m,y){f.call(this,d,p,l,m,y),this.type="animationJSON"},onProcess:function(){this.loader.once(h.POST_PROCESS,this.onLoadComplete,this),f.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});v.register("animation",function(o,d,p,l){if(Array.isArray(o))for(var m=0;m<o.length;m++)this.addFile(new u(this,o[m]));else this.addFile(new u(this,o,d,l,p));return this}),s.exports=u},76272:(s,g,i)=>{var a=i(83419),v=i(74099),f=i(95540),h=i(19550),u=i(41212),o=i(518),d=i(26430),p=new a({Extends:d,initialize:function(m,y,x,b,w,C){var E,T;if(u(y)){var k=y;y=f(k,"key"),E=new h(m,{key:y,url:f(k,"textureURL"),extension:f(k,"textureExtension","png"),normalMap:f(k,"normalMap"),xhrSettings:f(k,"textureXhrSettings")}),T=new o(m,{key:y,url:f(k,"atlasURL"),extension:f(k,"atlasExtension","json"),xhrSettings:f(k,"atlasXhrSettings")})}else E=new h(m,y,x,w),T=new o(m,y,b,C);E.linkFile?d.call(this,m,"atlasjson",y,[E,T,E.linkFile]):d.call(this,m,"atlasjson",y,[E,T])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],m=this.files[1],y=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(l.key,l.data,m.data,y),m.addToCache(),this.complete=!0}}});v.register("aseprite",function(l,m,y,x,b){var w;if(Array.isArray(l))for(var C=0;C<l.length;C++)w=new p(this,l[C]),this.addFile(w.files);else w=new p(this,l,m,y,x,b),this.addFile(w.files);return this}),s.exports=p},38734:(s,g,i)=>{var a=i(83419),v=i(74099),f=i(95540),h=i(19550),u=i(41212),o=i(518),d=i(26430),p=new a({Extends:d,initialize:function(m,y,x,b,w,C){var E,T;if(u(y)){var k=y;y=f(k,"key"),E=new h(m,{key:y,url:f(k,"textureURL"),extension:f(k,"textureExtension","png"),normalMap:f(k,"normalMap"),xhrSettings:f(k,"textureXhrSettings")}),T=new o(m,{key:y,url:f(k,"atlasURL"),extension:f(k,"atlasExtension","json"),xhrSettings:f(k,"atlasXhrSettings")})}else E=new h(m,y,x,w),T=new o(m,y,b,C);E.linkFile?d.call(this,m,"atlasjson",y,[E,T,E.linkFile]):d.call(this,m,"atlasjson",y,[E,T])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],m=this.files[1],y=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(l.key,l.data,m.data,y),this.complete=!0}}});v.register("atlas",function(l,m,y,x,b){var w;if(Array.isArray(l))for(var C=0;C<l.length;C++)w=new p(this,l[C]),this.addFile(w.files);else w=new p(this,l,m,y,x,b),this.addFile(w.files);return this}),s.exports=p},74599:(s,g,i)=>{var a=i(83419),v=i(74099),f=i(95540),h=i(19550),u=i(41212),o=i(26430),d=i(57318),p=new a({Extends:o,initialize:function(m,y,x,b,w,C){var E,T;if(u(y)){var k=y;y=f(k,"key"),E=new h(m,{key:y,url:f(k,"textureURL"),extension:f(k,"textureExtension","png"),normalMap:f(k,"normalMap"),xhrSettings:f(k,"textureXhrSettings")}),T=new d(m,{key:y,url:f(k,"atlasURL"),extension:f(k,"atlasExtension","xml"),xhrSettings:f(k,"atlasXhrSettings")})}else E=new h(m,y,x,w),T=new d(m,y,b,C);E.linkFile?o.call(this,m,"atlasxml",y,[E,T,E.linkFile]):o.call(this,m,"atlasxml",y,[E,T])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],m=this.files[1],y=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(l.key,l.data,m.data,y),this.complete=!0}}});v.register("atlasXML",function(l,m,y,x,b){var w;if(Array.isArray(l))for(var C=0;C<l.length;C++)w=new p(this,l[C]),this.addFile(w.files);else w=new p(this,l,m,y,x,b),this.addFile(w.files);return this}),s.exports=p},21097:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(89749),d=i(41212),p=new a({Extends:f,initialize:function(m,y,x,b,w){if(d(y)){var C=y;y=u(C,"key"),b=u(C,"xhrSettings"),w=u(C,"context",w)}var E={type:"audio",cache:m.cacheManager.audio,extension:x.type,responseType:"arraybuffer",key:y,url:x.url,xhrSettings:b,config:{context:w}};f.call(this,m,E)},onProcess:function(){this.state=v.FILE_PROCESSING;var l=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(m){l.data=m,l.onProcessComplete()},function(m){console.error("Error decoding audio: "+l.key+" - ",m?m.message:null),l.onProcessError()}),this.config.context=null}});p.create=function(l,m,y,x,b){var w=l.systems.game,C=w.config.audio,E=w.device.audio;d(m)&&(y=u(m,"url",[]),x=u(m,"config",{}));var T=p.getAudioURL(w,y);return T?E.webAudio&&!C.disableWebAudio?new p(l,m,T,b,w.sound.context):new o(l,m,T,x):(console.warn('No audio URLs for "%s" matched this device',m),null)},p.getAudioURL=function(l,m){Array.isArray(m)||(m=[m]);for(var y=0;y<m.length;y++){var x=u(m[y],"url",m[y]);if(x.indexOf("blob:")===0||x.indexOf("data:")===0)return{url:x,type:""};var b=x.match(/\.([a-zA-Z0-9]+)($|\?)/);if(b=u(m[y],"type",b?b[1]:"").toLowerCase(),l.device.audio[b])return{url:x,type:b}}return null},h.register("audio",function(l,m,y,x){var b=this.systems.game,w=b.config.audio,C=b.device.audio;if(w.noAudio||!C.webAudio&&!C.audioData)return this;var E;if(Array.isArray(l))for(var T=0;T<l.length;T++)E=p.create(this,l[T]),E&&this.addFile(E);else E=p.create(this,l,m,y,x),E&&this.addFile(E);return this}),s.exports=p},89524:(s,g,i)=>{var a=i(21097),v=i(83419),f=i(74099),h=i(95540),u=i(41212),o=i(518),d=i(26430),p=new v({Extends:d,initialize:function(m,y,x,b,w,C,E){if(u(y)){var T=y;y=h(T,"key"),x=h(T,"jsonURL"),b=h(T,"audioURL"),w=h(T,"audioConfig"),C=h(T,"audioXhrSettings"),E=h(T,"jsonXhrSettings")}var k;if(!b)k=new o(m,y,x,E),d.call(this,m,"audiosprite",y,[k]),this.config.resourceLoad=!0,this.config.audioConfig=w,this.config.audioXhrSettings=C;else{var P=a.create(m,y,b,w,C);P&&(k=new o(m,y,x,E),d.call(this,m,"audiosprite",y,[P,k]),this.config.resourceLoad=!1)}},onFileComplete:function(l){var m=this.files.indexOf(l);if(m!==-1&&(this.pending--,this.config.resourceLoad&&l.type==="json"&&l.data.hasOwnProperty("resources"))){var y=l.data.resources,x=h(this.config,"audioConfig"),b=h(this.config,"audioXhrSettings"),w=a.create(this.loader,l.key,y,x,b);w&&(this.addToMultiFile(w),this.loader.addFile(w))}},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],m=this.files[1];l.addToCache(),m.addToCache(),this.complete=!0}}});f.register("audioSprite",function(l,m,y,x,b,w){var C=this.systems.game,E=C.config.audio,T=C.device.audio;if(E&&E.noAudio||!T.webAudio&&!T.audioData)return this;var k;if(Array.isArray(l))for(var P=0;P<l.length;P++)k=new p(this,l[P]),k.files&&this.addFile(k.files);else k=new p(this,l,m,y,x,b,w),k.files&&this.addFile(k.files);return this})},85722:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(41212),d=new a({Extends:f,initialize:function(l,m,y,x,b){var w="bin";if(o(m)){var C=m;m=u(C,"key"),y=u(C,"url"),x=u(C,"xhrSettings"),w=u(C,"extension",w),b=u(C,"dataType",b)}var E={type:"binary",cache:l.cacheManager.binary,extension:w,responseType:"arraybuffer",key:m,url:y,xhrSettings:x,config:{dataType:b}};f.call(this,l,E)},onProcess:function(){this.state=v.FILE_PROCESSING;var p=this.config.dataType;this.data=p?new p(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});h.register("binary",function(p,l,m,y){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new d(this,p[x]));else this.addFile(new d(this,p,l,y,m));return this}),s.exports=d},97025:(s,g,i)=>{var a=i(83419),v=i(74099),f=i(95540),h=i(19550),u=i(41212),o=i(26430),d=i(21859),p=i(57318),l=new a({Extends:o,initialize:function(y,x,b,w,C,E){var T,k;if(u(x)){var P=x;x=f(P,"key"),T=new h(y,{key:x,url:f(P,"textureURL"),extension:f(P,"textureExtension","png"),normalMap:f(P,"normalMap"),xhrSettings:f(P,"textureXhrSettings")}),k=new p(y,{key:x,url:f(P,"fontDataURL"),extension:f(P,"fontDataExtension","xml"),xhrSettings:f(P,"fontDataXhrSettings")})}else T=new h(y,x,b,C),k=new p(y,x,w,E);T.linkFile?o.call(this,y,"bitmapfont",x,[T,k,T.linkFile]):o.call(this,y,"bitmapfont",x,[T,k])},addToCache:function(){if(this.isReadyToProcess()){var m=this.files[0],y=this.files[1];m.addToCache();var x=m.cache.get(m.key),b=d(y.data,m.cache.getFrame(m.key),0,0,x);this.loader.cacheManager.bitmapFont.add(m.key,{data:b,texture:m.key,frame:null}),this.complete=!0}}});v.register("bitmapFont",function(m,y,x,b,w){var C;if(Array.isArray(m))for(var E=0;E<m.length;E++)C=new l(this,m[E]),this.addFile(C.files);else C=new l(this,m,y,x,b,w),this.addFile(C.files);return this}),s.exports=l},16024:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(41212),d=new a({Extends:f,initialize:function(l,m,y,x){var b="css";if(o(m)){var w=m;m=u(w,"key"),y=u(w,"url"),x=u(w,"xhrSettings"),b=u(w,"extension",b)}var C={type:"script",cache:!1,extension:b,responseType:"text",key:m,url:y,xhrSettings:x};f.call(this,l,C)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("css",function(p,l,m){if(Array.isArray(p))for(var y=0;y<p.length;y++)this.addFile(new d(this,p[y]));else this.addFile(new d(this,p,l,m));return this}),s.exports=d},69559:(s,g,i)=>{var a=i(38734),v=i(85722),f=i(83419),h=i(74099),u=i(95540),o=i(19550),d=i(41212),p=i(518),l=i(31403),m=i(46975),y=i(59327),x=i(26430),b=i(82038),w=i(55222),C=new f({Extends:x,initialize:function(T,k,P,R){if(P.multiAtlasURL){var M=new p(T,{key:k,url:P.multiAtlasURL,xhrSettings:R,config:P});x.call(this,T,"texture",k,[M])}else{var I=P.textureURL.substr(P.textureURL.length-3);P.type||(P.type=I.toLowerCase()==="ktx"?"KTX":"PVR");var B=new v(T,{key:k,url:P.textureURL,extension:I,xhrSettings:R,config:P});if(P.atlasURL){var D=new p(T,{key:k,url:P.atlasURL,xhrSettings:R,config:P});x.call(this,T,"texture",k,[B,D])}else x.call(this,T,"texture",k,[B])}this.config=P},onFileComplete:function(E){var T=this.files.indexOf(E);if(T!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(E.type==="json"&&E.data.hasOwnProperty("textures")){var k=E.data.textures,P=this.config,R=this.loader,M=R.baseURL,I=R.path,B=R.prefix,D=u(P,"multiBaseURL",this.baseURL),N=u(P,"multiPath",this.path),_=u(P,"prefix",this.prefix),G=u(P,"textureXhrSettings");D&&R.setBaseURL(D),N&&R.setPath(N),_&&R.setPrefix(_);for(var $=0;$<k.length;$++){var V=k[$].image,Y="CMA"+this.multiKeyIndex+"_"+V,U=new v(R,Y,V,G);if(this.addToMultiFile(U),R.addFile(U),k[$].normalMap){var F=new v(R,Y,k[$].normalMap,G);F.type="normalMap",U.setLink(F),this.addToMultiFile(F),R.addFile(F)}}R.setBaseURL(M),R.setPath(I),R.setPrefix(B)}}},addToCache:function(){function E(D){console.warn('Compressed Texture Invalid: "'+M.key+'". '+D)}if(this.isReadyToProcess()){var T=this.config;if(T.multiAtlasURL)this.addMultiToCache();else{var k=this.loader.systems.renderer,P=this.loader.textureManager,R,M=this.files[0],I=this.files[1];if(T.type==="PVR"?R=b(M.data):T.type==="KTX"&&(R=l(M.data),R||E("KTX file contains unsupported format.")),R&&!w(R)&&(E("Texture dimensions failed verification. Check the texture format specifications for "+T.format+" 0x"+R.internalFormat.toString(16)+"."),R=null),R&&!k.supportsCompressedTexture(T.format,R.internalFormat)&&(E("Texture format "+T.format+" with internal format "+R.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),R=null),R){R.format=k.getCompressedTextureName(T.format,R.internalFormat);var B=I&&I.data?I.data:null;P.addCompressedTexture(M.key,R,B)}}this.complete=!0}},addMultiToCache:function(){for(var E=this.config,T=this.files[0],k=[],P=[],R=[],M=this.loader.systems.renderer,I=this.loader.textureManager,B,D=1;D<this.files.length;D++){var N=this.files[D];if(N.type!=="normalMap")for(var _=N.key.indexOf("_"),G=N.key.substr(_+1),$=N.data,V=0;V<T.data.textures.length;V++){var Y=T.data.textures[V];if(Y.image===G){E.type==="PVR"?B=b($):E.type==="KTX"&&(B=l($)),B&&M.supportsCompressedTexture(E.format,B.internalFormat)&&(B.format=M.getCompressedTextureName(E.format,B.internalFormat),P.push(B),k.push(Y),N.linkFile&&R.push(N.linkFile.data));break}}}R.length===0&&(R=void 0),I.addAtlasJSONArray(this.key,P,k,R),this.complete=!0}});h.register("texture",function(E,T,k){var P=this.systems.renderer,R=function(I,B,D,N){var _={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(d(B)){var G=B;B=u(G,"key"),D=u(G,"url"),N=u(G,"xhrSettings")}var $=!1;for(var V in D)if(P.supportsCompressedTexture(V)){var Y=D[V];typeof Y=="string"?_.textureURL=Y:_=m(Y,_),_.format=V.toUpperCase(),$=!0;break}if(!$)console.warn("No supported compressed texture format or IMG fallback",B);else if(_.format==="IMG"){var U,F;_.multiAtlasURL?(F=new y(I,B,_.multiAtlasURL,_.multiPath,_.multiBaseURL,N),U=F.files):_.atlasURL?(F=new a(I,B,_.textureURL,_.atlasURL,N),U=F.files):U=new o(I,B,_.textureURL,N),I.addFile(U)}else{var O=new C(I,B,_,N);I.addFile(O.files)}};if(Array.isArray(E))for(var M=0;M<E.length;M++)R(this,E[M]);else R(this,E,T,k);return this}),s.exports=C},47931:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(41212),d=i(73894),p=new a({Extends:f,initialize:function(m,y,x,b,w){var C="glsl";if(o(y)){var E=y;y=u(E,"key"),x=u(E,"url"),b=u(E,"shaderType","fragment"),w=u(E,"xhrSettings"),C=u(E,"extension",C)}else b===void 0&&(b="fragment");var T={type:"glsl",cache:m.cacheManager.shader,extension:C,responseType:"text",key:y,url:x,config:{shaderType:b},xhrSettings:w};f.call(this,m,T)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.split(`
`),m=this.extractBlock(l,0);if(m)for(;m;){var y=this.getShaderName(m.header),x=this.getShaderType(m.header),b=this.getShaderUniforms(m.header),w=m.shader;if(this.cache.has(y)){var C=this.cache.get(y);x==="fragment"?C.fragmentSrc=w:C.vertexSrc=w,C.uniforms||(C.uniforms=b)}else x==="fragment"?this.cache.add(y,new d(y,w,"",b)):this.cache.add(y,new d(y,"",w,b));m=this.extractBlock(l,m.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new d(this.key,this.data)):this.cache.add(this.key,new d(this.key,"",this.data))},getShaderName:function(l){for(var m=0;m<l.length;m++){var y=l[m].trim();if(y.substring(0,5)==="name:")return y.substring(5).trim()}return this.key},getShaderType:function(l){for(var m=0;m<l.length;m++){var y=l[m].trim();if(y.substring(0,5)==="type:")return y.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(l){for(var m={},y=0;y<l.length;y++){var x=l[y].trim();if(x.substring(0,8)==="uniform."){var b=x.indexOf(":");if(b){var w=x.substring(8,b);try{m[w]=JSON.parse(x.substring(b+1))}catch(C){console.warn("Invalid uniform JSON: "+w)}}}}return m},extractBlock:function(l,m){for(var y=-1,x=-1,b=-1,w=!1,C=!1,E=[],T=[],k=m;k<l.length;k++){var P=l[k].trim();if(P==="---")if(y===-1)y=k,w=!0;else if(w)x=k,w=!1,C=!0;else{C=!1;break}else w?E.push(P):C&&(T.push(P),b=k)}return!w&&x!==-1?{header:E,shader:T.join(`
`),offset:b}:null}});h.register("glsl",function(l,m,y,x){if(Array.isArray(l))for(var b=0;b<l.length;b++)this.addFile(new p(this,l[b]));else this.addFile(new p(this,l,m,y,x));return this}),s.exports=p},89749:(s,g,i)=>{var a=i(83419),v=i(54899),f=i(41299),h=i(95540),u=i(98356),o=i(41212),d=new a({Extends:f,initialize:function(l,m,y,x){if(o(m)){var b=m;m=h(b,"key"),x=h(b,"config",x)}var w={type:"audio",cache:l.cacheManager.audio,extension:y.type,key:m,url:y.url,config:x};f.call(this,l,w),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var p=0;p<this.data.length;p++){var l=this.data[p];l.oncanplaythrough=null,l.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(p){var l=p.target;l.oncanplaythrough=null,l.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(v.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var p=this.config&&this.config.instances||1;this.filesTotal=p,this.filesLoaded=0,this.percentComplete=0;for(var l=0;l<p;l++){var m=new Audio;m.dataset||(m.dataset={}),m.dataset.name=this.key+("0"+l).slice(-2),m.dataset.used="false",this.locked?m.dataset.locked="true":(m.dataset.locked="false",m.preload="auto",m.oncanplaythrough=this.onProgress.bind(this),m.onerror=this.onError.bind(this)),this.data.push(m)}for(l=0;l<this.data.length;l++)m=this.data[l],m.src=u(this,this.loader.baseURL),this.locked||m.load();this.locked&&setTimeout(this.onLoad.bind(this))}});s.exports=d},88470:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(41212),d=new a({Extends:f,initialize:function(l,m,y,x){var b="html";if(o(m)){var w=m;m=u(w,"key"),y=u(w,"url"),x=u(w,"xhrSettings"),b=u(w,"extension",b)}var C={type:"text",cache:l.cacheManager.html,extension:b,responseType:"text",key:m,url:y,xhrSettings:x};f.call(this,l,C)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("html",function(p,l,m){if(Array.isArray(p))for(var y=0;y<p.length;y++)this.addFile(new d(this,p[y]));else this.addFile(new d(this,p,l,m));return this}),s.exports=d},14643:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(41212),d=new a({Extends:f,initialize:function(l,m,y,x,b,w){x===void 0&&(x=512),b===void 0&&(b=512);var C="html";if(o(m)){var E=m;m=u(E,"key"),y=u(E,"url"),w=u(E,"xhrSettings"),C=u(E,"extension",C),x=u(E,"width",x),b=u(E,"height",b)}var T={type:"html",cache:l.textureManager,extension:C,responseType:"text",key:m,url:y,xhrSettings:w,config:{width:x,height:b}};f.call(this,l,T)},onProcess:function(){this.state=v.FILE_PROCESSING;var p=this.config.width,l=this.config.height,m=[];m.push('<svg width="'+p+'px" height="'+l+'px" viewBox="0 0 '+p+" "+l+'" xmlns="http://www.w3.org/2000/svg">'),m.push('<foreignObject width="100%" height="100%">'),m.push('<body xmlns="http://www.w3.org/1999/xhtml">'),m.push(this.xhrLoader.responseText),m.push("</body>"),m.push("</foreignObject>"),m.push("</svg>");var y=[m.join(`
`)],x=this;try{var b=new window.Blob(y,{type:"image/svg+xml;charset=utf-8"})}catch(w){x.state=v.FILE_ERRORED,x.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){f.revokeObjectURL(x.data),x.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(x.data),x.onProcessError()},f.createObjectURL(this.data,b,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});h.register("htmlTexture",function(p,l,m,y,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new d(this,p[b]));else this.addFile(new d(this,p,l,m,y,x));return this}),s.exports=d},19550:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(41212),d=i(98356),p=new a({Extends:f,initialize:function l(m,y,x,b,w){var C="png",E;if(o(y)){var T=y;y=u(T,"key"),x=u(T,"url"),E=u(T,"normalMap"),b=u(T,"xhrSettings"),C=u(T,"extension",C),w=u(T,"frameConfig")}Array.isArray(x)&&(E=x[1],x=x[0]);var k={type:"image",cache:m.textureManager,extension:C,responseType:"blob",key:y,url:x,xhrSettings:b,config:w};if(f.call(this,m,k),E){var P=new l(m,this.key,E,b,w);P.type="normalMap",this.setLink(P),m.addFile(P)}this.useImageElementLoad=m.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var l=this;this.data.onload=function(){f.revokeObjectURL(l.data),l.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(l.data),l.onProcessError()},f.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var l=this.state;this.state=v.FILE_PROCESSING,l===v.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=v.FILE_LOADING,this.src=d(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var l=this;this.data.onload=function(){l.state=v.FILE_LOADED,l.loader.nextFile(l,!0)},this.data.onerror=function(){l.loader.nextFile(l,!1)},this.data.src=this.src},addToCache:function(){var l=this.linkFile;l?l.state>=v.FILE_COMPLETE&&(l.type==="spritesheet"?l.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,l.data,this.data):this.cache.addImage(this.key,this.data,l.data)):this.cache.addImage(this.key,this.data)}});h.register("image",function(l,m,y){if(Array.isArray(l))for(var x=0;x<l.length;x++)this.addFile(new p(this,l[x]));else this.addFile(new p(this,l,m,y));return this}),s.exports=p},518:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(35154),d=i(41212),p=new a({Extends:f,initialize:function(m,y,x,b,w){var C="json";if(d(y)){var E=y;y=u(E,"key"),x=u(E,"url"),b=u(E,"xhrSettings"),C=u(E,"extension",C),w=u(E,"dataKey",w)}var T={type:"json",cache:m.cacheManager.json,extension:C,responseType:"text",key:y,url:x,xhrSettings:b,config:w};f.call(this,m,T),d(x)&&(w?this.data=o(x,w):this.data=x,this.state=v.FILE_POPULATED)},onProcess:function(){if(this.state!==v.FILE_POPULATED){this.state=v.FILE_PROCESSING;try{var l=JSON.parse(this.xhrLoader.responseText)}catch(y){throw this.onProcessError(),y}var m=this.config;typeof m=="string"?this.data=o(l,m,l):this.data=l}this.onProcessComplete()}});h.register("json",function(l,m,y,x){if(Array.isArray(l))for(var b=0;b<l.length;b++)this.addFile(new p(this,l[b]));else this.addFile(new p(this,l,m,x,y));return this}),s.exports=p},59327:(s,g,i)=>{var a=i(83419),v=i(74099),f=i(95540),h=i(19550),u=i(41212),o=i(518),d=i(26430),p=new a({Extends:d,initialize:function(m,y,x,b,w,C,E){if(u(y)){var T=y;y=f(T,"key"),f(T,"url",!1)?x=f(T,"url"):x=f(T,"atlasURL"),C=f(T,"xhrSettings"),b=f(T,"path"),w=f(T,"baseURL"),E=f(T,"textureXhrSettings")}var k=new o(m,y,x,C);d.call(this,m,"multiatlas",y,[k]),this.config.path=b,this.config.baseURL=w,this.config.textureXhrSettings=E},onFileComplete:function(l){var m=this.files.indexOf(l);if(m!==-1&&(this.pending--,l.type==="json"&&l.data.hasOwnProperty("textures"))){var y=l.data.textures,x=this.config,b=this.loader,w=b.baseURL,C=b.path,E=b.prefix,T=f(x,"baseURL",this.baseURL),k=f(x,"path",this.path),P=f(x,"prefix",this.prefix),R=f(x,"textureXhrSettings");b.setBaseURL(T),b.setPath(k),b.setPrefix(P);for(var M=0;M<y.length;M++){var I=y[M].image,B="MA"+this.multiKeyIndex+"_"+I,D=new h(b,B,I,R);if(this.addToMultiFile(D),b.addFile(D),y[M].normalMap){var N=new h(b,B,y[M].normalMap,R);N.type="normalMap",D.setLink(N),this.addToMultiFile(N),b.addFile(N)}}b.setBaseURL(w),b.setPath(C),b.setPrefix(E)}},addToCache:function(){if(this.isReadyToProcess()){for(var l=this.files[0],m=[],y=[],x=[],b=1;b<this.files.length;b++){var w=this.files[b];if(w.type!=="normalMap")for(var C=w.key.indexOf("_"),E=w.key.substr(C+1),T=w.data,k=0;k<l.data.textures.length;k++){var P=l.data.textures[k];if(P.image===E){y.push(T),m.push(P),w.linkFile&&x.push(w.linkFile.data);break}}}x.length===0&&(x=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,y,m,x),this.complete=!0}}});v.register("multiatlas",function(l,m,y,x,b){var w;if(Array.isArray(l))for(var C=0;C<l.length;C++)w=new p(this,l[C]),this.addFile(w.files);else w=new p(this,l,m,y,x,b),this.addFile(w.files);return this}),s.exports=p},99297:(s,g,i)=>{var a=i(83419),v=i(74099),f=i(95540),h=i(41212),u=i(26430),o=i(34328),d=new a({Extends:u,initialize:function(l,m,y,x){var b="js",w=[];if(h(m)){var C=m;m=f(C,"key"),y=f(C,"url"),x=f(C,"xhrSettings"),b=f(C,"extension",b)}Array.isArray(y)||(y=[y]);for(var E=0;E<y.length;E++){var T=new o(l,{key:m+"_"+E.toString(),url:y[E],extension:b,xhrSettings:x});T.onProcess=function(){this.onProcessComplete()},w.push(T)}u.call(this,l,"scripts",m,w)},addToCache:function(){if(this.isReadyToProcess()){for(var p=0;p<this.files.length;p++){var l=this.files[p];l.data=document.createElement("script"),l.data.language="javascript",l.data.type="text/javascript",l.data.defer=!1,l.data.text=l.xhrLoader.responseText,document.head.appendChild(l.data)}this.complete=!0}}});v.register("scripts",function(p,l,m){var y;if(Array.isArray(p))for(var x=0;x<p.length;x++)y=new d(this,p[x]),this.addFile(y.files);else y=new d(this,p,l,m),this.addFile(y.files);return this}),s.exports=d},41846:(s,g,i)=>{var a=i(83419),v=i(74099),f=i(95540),h=i(41212),u=i(26430),o=i(85048),d=i(61485),p=i(78776),l=new a({Extends:u,initialize:function(y,x,b,w,C,E){var T,k,P=y.cacheManager.obj;if(h(x)){var R=x;x=f(R,"key"),T=new p(y,{key:x,type:"obj",cache:P,url:f(R,"url"),extension:f(R,"extension","obj"),xhrSettings:f(R,"xhrSettings"),config:{flipUV:f(R,"flipUV",C)}}),w=f(R,"matURL"),w&&(k=new p(y,{key:x,type:"mat",cache:P,url:w,extension:f(R,"matExtension","mat"),xhrSettings:f(R,"xhrSettings")}))}else T=new p(y,{key:x,url:b,type:"obj",cache:P,extension:"obj",xhrSettings:E,config:{flipUV:C}}),w&&(k=new p(y,{key:x,url:w,type:"mat",cache:P,extension:"mat",xhrSettings:E}));u.call(this,y,"obj",x,[T,k])},addToCache:function(){if(this.isReadyToProcess()){var m=this.files[0],y=this.files[1],x=o(m.data,m.config.flipUV);y&&(x.materials=d(y.data)),m.cache.add(m.key,x),this.complete=!0}}});v.register("obj",function(m,y,x,b,w){var C;if(Array.isArray(m))for(var E=0;E<m.length;E++)C=new l(this,m[E]),this.addFile(C.files);else C=new l(this,m,y,x,b,w),this.addFile(C.files);return this}),s.exports=l},58610:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(74099),h=i(518),u=new a({Extends:h,initialize:function(d,p,l,m,y){h.call(this,d,p,l,m,y),this.type="packfile"},onProcess:function(){if(this.state!==v.FILE_POPULATED&&(this.state=v.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var o={};o[this.config]=this.data,this.data=o}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});f.register("pack",function(o,d,p,l){if(Array.isArray(o))for(var m=0;m<o.length;m++)this.addFile(new u(this,o[m]));else this.addFile(new u(this,o,d,l,p));return this}),s.exports=u},48988:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(41212),d=new a({Extends:f,initialize:function(l,m,y,x,b,w){var C="js";if(o(m)){var E=m;m=u(E,"key"),y=u(E,"url"),w=u(E,"xhrSettings"),C=u(E,"extension",C),x=u(E,"start"),b=u(E,"mapping")}var T={type:"plugin",cache:!1,extension:C,responseType:"text",key:m,url:y,xhrSettings:w,config:{start:x,mapping:b}};f.call(this,l,T),typeof y=="function"&&(this.data=y,this.state=v.FILE_POPULATED)},onProcess:function(){var p=this.loader.systems.plugins,l=this.config,m=u(l,"start",!1),y=u(l,"mapping",null);if(this.state===v.FILE_POPULATED)p.install(this.key,this.data,m,y);else{this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var x=p.install(this.key,window[this.key],m,y);(m||y)&&(this.loader.systems[y]=x,this.loader.scene[y]=x)}this.onProcessComplete()}});h.register("plugin",function(p,l,m,y,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new d(this,p[b]));else this.addFile(new d(this,p,l,m,y,x));return this}),s.exports=d},67397:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(41212),d=new a({Extends:f,initialize:function(l,m,y,x,b){var w="svg";if(o(m)){var C=m;m=u(C,"key"),y=u(C,"url"),x=u(C,"svgConfig",{}),b=u(C,"xhrSettings"),w=u(C,"extension",w)}var E={type:"svg",cache:l.textureManager,extension:w,responseType:"text",key:m,url:y,xhrSettings:b,config:{width:u(x,"width"),height:u(x,"height"),scale:u(x,"scale")}};f.call(this,l,E)},onProcess:function(){this.state=v.FILE_PROCESSING;var p=this.xhrLoader.responseText,l=[p],m=this.config.width,y=this.config.height,x=this.config.scale;t:if(m&&y||x){var b=null,w=new DOMParser;b=w.parseFromString(p,"text/xml");var C=b.getElementsByTagName("svg")[0],E=C.hasAttribute("viewBox"),T=parseFloat(C.getAttribute("width")),k=parseFloat(C.getAttribute("height"));if(!E&&T&&k)C.setAttribute("viewBox","0  0 "+T+" "+k);else if(E&&!T&&!k){var P=C.getAttribute("viewBox").split(/\s+|,/);T=P[2],k=P[3]}if(x)if(T&&k)m=T*x,y=k*x;else break t;C.setAttribute("width",m.toString()+"px"),C.setAttribute("height",y.toString()+"px"),l=[new XMLSerializer().serializeToString(C)]}try{var R=new window.Blob(l,{type:"image/svg+xml;charset=utf-8"})}catch(B){this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var M=this,I=!1;this.data.onload=function(){I||f.revokeObjectURL(M.data),M.onProcessComplete()},this.data.onerror=function(){I?M.onProcessError():(I=!0,f.revokeObjectURL(M.data),M.data.src="data:image/svg+xml,"+encodeURIComponent(l.join("")))},f.createObjectURL(this.data,R,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});h.register("svg",function(p,l,m,y){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new d(this,p[x]));else this.addFile(new d(this,p,l,m,y));return this}),s.exports=d},88423:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(41212),d=new a({Extends:f,initialize:function(l,m,y,x){var b="js";if(o(m)){var w=m;m=u(w,"key"),y=u(w,"url"),x=u(w,"xhrSettings"),b=u(w,"extension",b)}var C={type:"text",extension:b,responseType:"text",key:m,url:y,xhrSettings:x};f.call(this,l,C)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var p=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),l=eval;this.loader.sceneManager.add(this.key,l(p)),this.complete=!0}});h.register("sceneFile",function(p,l,m){if(Array.isArray(p))for(var y=0;y<p.length;y++)this.addFile(new d(this,p[y]));else this.addFile(new d(this,p,l,m));return this}),s.exports=d},56812:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(41212),d=new a({Extends:f,initialize:function(l,m,y,x,b,w){var C="js";if(o(m)){var E=m;m=u(E,"key"),y=u(E,"url"),w=u(E,"xhrSettings"),C=u(E,"extension",C),x=u(E,"systemKey"),b=u(E,"sceneKey")}var T={type:"scenePlugin",cache:!1,extension:C,responseType:"text",key:m,url:y,xhrSettings:w,config:{systemKey:x,sceneKey:b}};f.call(this,l,T),typeof y=="function"&&(this.data=y,this.state=v.FILE_POPULATED)},onProcess:function(){var p=this.loader.systems.plugins,l=this.config,m=this.key,y=u(l,"systemKey",m),x=u(l,"sceneKey",m);this.state===v.FILE_POPULATED?p.installScenePlugin(y,this.data,x,this.loader.scene,!0):(this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),p.installScenePlugin(y,window[this.key],x,this.loader.scene,!0)),this.onProcessComplete()}});h.register("scenePlugin",function(p,l,m,y,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new d(this,p[b]));else this.addFile(new d(this,p,l,m,y,x));return this}),s.exports=d},34328:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(41212),d=new a({Extends:f,initialize:function(l,m,y,x,b){var w="js";if(o(m)){var C=m;m=u(C,"key"),y=u(C,"url"),x=u(C,"type","script"),b=u(C,"xhrSettings"),w=u(C,"extension",w)}else x===void 0&&(x="script");var E={type:x,cache:!1,extension:w,responseType:"text",key:m,url:y,xhrSettings:b};f.call(this,l,E)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("script",function(p,l,m,y){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new d(this,p[x]));else this.addFile(new d(this,p,l,m,y));return this}),s.exports=d},85035:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(74099),h=i(19550),u=new a({Extends:h,initialize:function(d,p,l,m,y){h.call(this,d,p,l,y,m),this.type="spritesheet"},addToCache:function(){var o=this.linkFile;o?o.state>=v.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,o.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,o.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});f.register("spritesheet",function(o,d,p,l){if(Array.isArray(o))for(var m=0;m<o.length;m++)this.addFile(new u(this,o[m]));else this.addFile(new u(this,o,d,p,l));return this}),s.exports=u},78776:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(41212),d=new a({Extends:f,initialize:function(l,m,y,x){var b="text",w="txt",C=l.cacheManager.text;if(o(m)){var E=m;m=u(E,"key"),y=u(E,"url"),x=u(E,"xhrSettings"),w=u(E,"extension",w),b=u(E,"type",b),C=u(E,"cache",C)}var T={type:b,cache:C,extension:w,responseType:"text",key:m,url:y,xhrSettings:x};f.call(this,l,T)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("text",function(p,l,m){if(Array.isArray(p))for(var y=0;y<p.length;y++)this.addFile(new d(this,p[y]));else this.addFile(new d(this,p,l,m));return this}),s.exports=d},49477:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(41212),d=i(80341),p=new a({Extends:f,initialize:function(m,y,x,b){var w="csv";if(o(y)){var C=y;y=u(C,"key"),x=u(C,"url"),b=u(C,"xhrSettings"),w=u(C,"extension",w)}var E={type:"tilemapCSV",cache:m.cacheManager.tilemap,extension:w,responseType:"text",key:y,url:x,xhrSettings:b};f.call(this,m,E),this.tilemapFormat=d.CSV},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,l)}});h.register("tilemapCSV",function(l,m,y){if(Array.isArray(l))for(var x=0;x<l.length;x++)this.addFile(new p(this,l[x]));else this.addFile(new p(this,l,m,y));return this}),s.exports=p},40807:(s,g,i)=>{var a=i(83419),v=i(74099),f=i(518),h=i(80341),u=new a({Extends:f,initialize:function(d,p,l,m){f.call(this,d,p,l,m),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var o={format:h.WELTMEISTER,data:this.data};this.cache.add(this.key,o)}});v.register("tilemapImpact",function(o,d,p){if(Array.isArray(o))for(var l=0;l<o.length;l++)this.addFile(new u(this,o[l]));else this.addFile(new u(this,o,d,p));return this}),s.exports=u},56775:(s,g,i)=>{var a=i(83419),v=i(74099),f=i(518),h=i(80341),u=new a({Extends:f,initialize:function(d,p,l,m){f.call(this,d,p,l,m),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var o={format:h.TILED_JSON,data:this.data};this.cache.add(this.key,o)}});v.register("tilemapTiledJSON",function(o,d,p){if(Array.isArray(o))for(var l=0;l<o.length;l++)this.addFile(new u(this,o[l]));else this.addFile(new u(this,o,d,p));return this}),s.exports=u},25771:(s,g,i)=>{var a=i(83419),v=i(74099),f=i(95540),h=i(19550),u=i(41212),o=i(26430),d=i(78776),p=new a({Extends:o,initialize:function(m,y,x,b,w,C){var E,T;if(u(y)){var k=y;y=f(k,"key"),E=new h(m,{key:y,url:f(k,"textureURL"),extension:f(k,"textureExtension","png"),normalMap:f(k,"normalMap"),xhrSettings:f(k,"textureXhrSettings")}),T=new d(m,{key:y,url:f(k,"atlasURL"),extension:f(k,"atlasExtension","txt"),xhrSettings:f(k,"atlasXhrSettings")})}else E=new h(m,y,x,w),T=new d(m,y,b,C);E.linkFile?o.call(this,m,"unityatlas",y,[E,T,E.linkFile]):o.call(this,m,"unityatlas",y,[E,T])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],m=this.files[1],y=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(l.key,l.data,m.data,y),this.complete=!0}}});v.register("unityAtlas",function(l,m,y,x,b){var w;if(Array.isArray(l))for(var C=0;C<l.length;C++)w=new p(this,l[C]),this.addFile(w.files);else w=new p(this,l,m,y,x,b),this.addFile(w.files);return this}),s.exports=p},33720:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(98356),o=i(95540),d=i(41212),p=new a({Extends:f,initialize:function(m,y,x,b){if(b===void 0&&(b=!1),d(y)){var w=y;y=o(w,"key"),x=o(w,"url",[]),b=o(w,"noAudio",!1)}var C=m.systems.game.device.video.getVideoURL(x);C||console.warn("VideoFile: No supported format for "+y);var E={type:"video",cache:m.cacheManager.video,extension:C.type,key:y,url:C.url,config:{noAudio:b}};f.call(this,m,E)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=u(this,this.loader.baseURL),this.state=v.FILE_LOADED,this.loader.nextFile(this,!0)}});h.register("video",function(l,m,y){if(Array.isArray(l))for(var x=0;x<l.length;x++)this.addFile(new p(this,l[x]));else this.addFile(new p(this,l,m,y));return this}),s.exports=p},57318:(s,g,i)=>{var a=i(83419),v=i(23906),f=i(41299),h=i(74099),u=i(95540),o=i(41212),d=i(56836),p=new a({Extends:f,initialize:function(m,y,x,b){var w="xml";if(o(y)){var C=y;y=u(C,"key"),x=u(C,"url"),b=u(C,"xhrSettings"),w=u(C,"extension",w)}var E={type:"xml",cache:m.cacheManager.xml,extension:w,responseType:"text",key:y,url:x,xhrSettings:b};f.call(this,m,E)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=d(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});h.register("xml",function(l,m,y){if(Array.isArray(l))for(var x=0;x<l.length;x++)this.addFile(new p(this,l[x]));else this.addFile(new p(this,l,m,y));return this}),s.exports=p},64589:(s,g,i)=>{s.exports={AnimationJSONFile:i(14135),AsepriteFile:i(76272),AtlasJSONFile:i(38734),AtlasXMLFile:i(74599),AudioFile:i(21097),AudioSpriteFile:i(89524),BinaryFile:i(85722),BitmapFontFile:i(97025),CompressedTextureFile:i(69559),CSSFile:i(16024),GLSLFile:i(47931),HTML5AudioFile:i(89749),HTMLFile:i(88470),HTMLTextureFile:i(14643),ImageFile:i(19550),JSONFile:i(518),MultiAtlasFile:i(59327),MultiScriptFile:i(99297),OBJFile:i(41846),PackFile:i(58610),PluginFile:i(48988),SceneFile:i(88423),ScenePluginFile:i(56812),ScriptFile:i(34328),SpriteSheetFile:i(85035),SVGFile:i(67397),TextFile:i(78776),TilemapCSVFile:i(49477),TilemapImpactFile:i(40807),TilemapJSONFile:i(56775),UnityAtlasFile:i(25771),VideoFile:i(33720),XMLFile:i(57318)}},57777:(s,g,i)=>{var a=i(23906),v=i(79291),f={Events:i(54899),FileTypes:i(64589),File:i(41299),FileTypesManager:i(74099),GetURL:i(98356),LoaderPlugin:i(74261),MergeXHRSettings:i(3374),MultiFile:i(26430),XHRLoader:i(84376),XHRSettings:i(92638)};f=v(!1,f,a),s.exports=f},53307:s=>{var g=function(i){for(var a=0,v=0;v<i.length;v++)a+=+i[v];return a/i.length};s.exports=g},85710:(s,g,i)=>{var a=i(6411),v=function(f,h){return a(f)/a(h)/a(f-h)};s.exports=v},30976:s=>{var g=function(i,a){return Math.floor(Math.random()*(a-i+1)+i)};s.exports=g},87842:s=>{var g=function(i,a,v,f,h){var u=(f-a)*.5,o=(h-v)*.5,d=i*i,p=i*d;return(2*v-2*f+u+o)*p+(-3*v+3*f-2*u-o)*d+u*i+v};s.exports=g},26302:s=>{var g=function(i,a,v){a===void 0&&(a=0),v===void 0&&(v=10);var f=Math.pow(v,-a);return Math.ceil(i*f)/f};s.exports=g},45319:s=>{var g=function(i,a,v){return Math.max(a,Math.min(v,i))};s.exports=g},39506:(s,g,i)=>{var a=i(36383),v=function(f){return f*a.DEG_TO_RAD};s.exports=v},61241:s=>{var g=function(i,a){return Math.abs(i-a)};s.exports=g},38857:(s,g,i)=>{var a=i(45319),v=i(83419),f=i(37867),h=i(29747),u=new f,o=new v({initialize:function d(p,l,m,y){p===void 0&&(p=0),l===void 0&&(l=0),m===void 0&&(m=0),y===void 0&&(y=d.DefaultOrder),this._x=p,this._y=l,this._z=m,this._order=y,this.onChangeCallback=h},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(d){this._order=d,this.onChangeCallback(this)}},set:function(d,p,l,m){return m===void 0&&(m=this._order),this._x=d,this._y=p,this._z=l,this._order=m,this.onChangeCallback(this),this},copy:function(d){return this.set(d.x,d.y,d.z,d.order)},setFromQuaternion:function(d,p,l){return p===void 0&&(p=this._order),l===void 0&&(l=!1),u.fromQuat(d),this.setFromRotationMatrix(u,p,l)},setFromRotationMatrix:function(d,p,l){p===void 0&&(p=this._order),l===void 0&&(l=!1);var m=d.val,y=m[0],x=m[4],b=m[8],w=m[1],C=m[5],E=m[9],T=m[2],k=m[6],P=m[10],R=0,M=0,I=0,B=.99999;switch(p){case"XYZ":{M=Math.asin(a(b,-1,1)),Math.abs(b)<B?(R=Math.atan2(-E,P),I=Math.atan2(-x,y)):R=Math.atan2(k,C);break}case"YXZ":{R=Math.asin(-a(E,-1,1)),Math.abs(E)<B?(M=Math.atan2(b,P),I=Math.atan2(w,C)):M=Math.atan2(-T,y);break}case"ZXY":{R=Math.asin(a(k,-1,1)),Math.abs(k)<B?(M=Math.atan2(-T,P),I=Math.atan2(-x,C)):I=Math.atan2(w,y);break}case"ZYX":{M=Math.asin(-a(T,-1,1)),Math.abs(T)<B?(R=Math.atan2(k,P),I=Math.atan2(w,y)):I=Math.atan2(-x,C);break}case"YZX":{I=Math.asin(a(w,-1,1)),Math.abs(w)<B?(R=Math.atan2(-E,C),M=Math.atan2(-T,y)):M=Math.atan2(b,P);break}case"XZY":{I=Math.asin(-a(x,-1,1)),Math.abs(x)<B?(R=Math.atan2(k,C),M=Math.atan2(b,y)):R=Math.atan2(-E,P);break}}return this._x=R,this._y=M,this._z=I,this._order=p,l&&this.onChangeCallback(this),this}});o.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],o.DefaultOrder="XYZ",s.exports=o},6411:s=>{var g=function(i){if(i===0)return 1;for(var a=i;--i;)a*=i;return a};s.exports=g},99472:s=>{var g=function(i,a){return Math.random()*(a-i)+i};s.exports=g},77623:s=>{var g=function(i,a,v){a===void 0&&(a=0),v===void 0&&(v=10);var f=Math.pow(v,-a);return Math.floor(i*f)/f};s.exports=g},62945:(s,g,i)=>{var a=i(45319),v=function(f,h,u){return f=a(f,0,1),(u-h)*f+h};s.exports=v},38265:s=>{var g=function(i,a){return i/a/1e3};s.exports=g},78702:s=>{var g=function(i){return i==parseFloat(i)?!(i%2):void 0};s.exports=g},94883:s=>{var g=function(i){return i===parseFloat(i)?!(i%2):void 0};s.exports=g},28915:s=>{var g=function(i,a,v){return(a-i)*v+i};s.exports=g},94908:s=>{var g=function(i,a,v){return v===void 0&&(v=0),i.clone().lerp(a,v)};s.exports=g},94434:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h){this.val=new Float32Array(9),h?this.copy(h):this.identity()},clone:function(){return new v(this)},set:function(f){return this.copy(f)},copy:function(f){var h=this.val,u=f.val;return h[0]=u[0],h[1]=u[1],h[2]=u[2],h[3]=u[3],h[4]=u[4],h[5]=u[5],h[6]=u[6],h[7]=u[7],h[8]=u[8],this},fromMat4:function(f){var h=f.val,u=this.val;return u[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[4],u[4]=h[5],u[5]=h[6],u[6]=h[8],u[7]=h[9],u[8]=h[10],this},fromArray:function(f){var h=this.val;return h[0]=f[0],h[1]=f[1],h[2]=f[2],h[3]=f[3],h[4]=f[4],h[5]=f[5],h[6]=f[6],h[7]=f[7],h[8]=f[8],this},identity:function(){var f=this.val;return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,this},transpose:function(){var f=this.val,h=f[1],u=f[2],o=f[5];return f[1]=f[3],f[2]=f[6],f[3]=h,f[5]=f[7],f[6]=u,f[7]=o,this},invert:function(){var f=this.val,h=f[0],u=f[1],o=f[2],d=f[3],p=f[4],l=f[5],m=f[6],y=f[7],x=f[8],b=x*p-l*y,w=-x*d+l*m,C=y*d-p*m,E=h*b+u*w+o*C;return E?(E=1/E,f[0]=b*E,f[1]=(-x*u+o*y)*E,f[2]=(l*u-o*p)*E,f[3]=w*E,f[4]=(x*h-o*m)*E,f[5]=(-l*h+o*d)*E,f[6]=C*E,f[7]=(-y*h+u*m)*E,f[8]=(p*h-u*d)*E,this):null},adjoint:function(){var f=this.val,h=f[0],u=f[1],o=f[2],d=f[3],p=f[4],l=f[5],m=f[6],y=f[7],x=f[8];return f[0]=p*x-l*y,f[1]=o*y-u*x,f[2]=u*l-o*p,f[3]=l*m-d*x,f[4]=h*x-o*m,f[5]=o*d-h*l,f[6]=d*y-p*m,f[7]=u*m-h*y,f[8]=h*p-u*d,this},determinant:function(){var f=this.val,h=f[0],u=f[1],o=f[2],d=f[3],p=f[4],l=f[5],m=f[6],y=f[7],x=f[8];return h*(x*p-l*y)+u*(-x*d+l*m)+o*(y*d-p*m)},multiply:function(f){var h=this.val,u=h[0],o=h[1],d=h[2],p=h[3],l=h[4],m=h[5],y=h[6],x=h[7],b=h[8],w=f.val,C=w[0],E=w[1],T=w[2],k=w[3],P=w[4],R=w[5],M=w[6],I=w[7],B=w[8];return h[0]=C*u+E*p+T*y,h[1]=C*o+E*l+T*x,h[2]=C*d+E*m+T*b,h[3]=k*u+P*p+R*y,h[4]=k*o+P*l+R*x,h[5]=k*d+P*m+R*b,h[6]=M*u+I*p+B*y,h[7]=M*o+I*l+B*x,h[8]=M*d+I*m+B*b,this},translate:function(f){var h=this.val,u=f.x,o=f.y;return h[6]=u*h[0]+o*h[3]+h[6],h[7]=u*h[1]+o*h[4]+h[7],h[8]=u*h[2]+o*h[5]+h[8],this},rotate:function(f){var h=this.val,u=h[0],o=h[1],d=h[2],p=h[3],l=h[4],m=h[5],y=Math.sin(f),x=Math.cos(f);return h[0]=x*u+y*p,h[1]=x*o+y*l,h[2]=x*d+y*m,h[3]=x*p-y*u,h[4]=x*l-y*o,h[5]=x*m-y*d,this},scale:function(f){var h=this.val,u=f.x,o=f.y;return h[0]=u*h[0],h[1]=u*h[1],h[2]=u*h[2],h[3]=o*h[3],h[4]=o*h[4],h[5]=o*h[5],this},fromQuat:function(f){var h=f.x,u=f.y,o=f.z,d=f.w,p=h+h,l=u+u,m=o+o,y=h*p,x=h*l,b=h*m,w=u*l,C=u*m,E=o*m,T=d*p,k=d*l,P=d*m,R=this.val;return R[0]=1-(w+E),R[3]=x+P,R[6]=b-k,R[1]=x-P,R[4]=1-(y+E),R[7]=C+T,R[2]=b+k,R[5]=C-T,R[8]=1-(y+w),this},normalFromMat4:function(f){var h=f.val,u=this.val,o=h[0],d=h[1],p=h[2],l=h[3],m=h[4],y=h[5],x=h[6],b=h[7],w=h[8],C=h[9],E=h[10],T=h[11],k=h[12],P=h[13],R=h[14],M=h[15],I=o*y-d*m,B=o*x-p*m,D=o*b-l*m,N=d*x-p*y,_=d*b-l*y,G=p*b-l*x,$=w*P-C*k,V=w*R-E*k,Y=w*M-T*k,U=C*R-E*P,F=C*M-T*P,O=E*M-T*R,j=I*O-B*F+D*U+N*Y-_*V+G*$;return j?(j=1/j,u[0]=(y*O-x*F+b*U)*j,u[1]=(x*Y-m*O-b*V)*j,u[2]=(m*F-y*Y+b*$)*j,u[3]=(p*F-d*O-l*U)*j,u[4]=(o*O-p*Y+l*V)*j,u[5]=(d*Y-o*F-l*$)*j,u[6]=(P*G-R*_+M*N)*j,u[7]=(R*D-k*G-M*B)*j,u[8]=(k*_-P*D+M*I)*j,this):null}});s.exports=v},37867:(s,g,i)=>{var a=i(83419),v=i(25836),f=1e-6,h=new a({initialize:function(y){this.val=new Float32Array(16),y?this.copy(y):this.identity()},clone:function(){return new h(this)},set:function(m){return this.copy(m)},setValues:function(m,y,x,b,w,C,E,T,k,P,R,M,I,B,D,N){var _=this.val;return _[0]=m,_[1]=y,_[2]=x,_[3]=b,_[4]=w,_[5]=C,_[6]=E,_[7]=T,_[8]=k,_[9]=P,_[10]=R,_[11]=M,_[12]=I,_[13]=B,_[14]=D,_[15]=N,this},copy:function(m){var y=m.val;return this.setValues(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15])},fromArray:function(m){return this.setValues(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(m,y,x){var b=u.fromQuat(x),w=b.val,C=y.x,E=y.y,T=y.z;return this.setValues(w[0]*C,w[1]*C,w[2]*C,0,w[4]*E,w[5]*E,w[6]*E,0,w[8]*T,w[9]*T,w[10]*T,0,m.x,m.y,m.z,1)},xyz:function(m,y,x){this.identity();var b=this.val;return b[12]=m,b[13]=y,b[14]=x,this},scaling:function(m,y,x){this.zero();var b=this.val;return b[0]=m,b[5]=y,b[10]=x,b[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var m=this.val,y=m[1],x=m[2],b=m[3],w=m[6],C=m[7],E=m[11];return m[1]=m[4],m[2]=m[8],m[3]=m[12],m[4]=y,m[6]=m[9],m[7]=m[13],m[8]=x,m[9]=w,m[11]=m[14],m[12]=b,m[13]=C,m[14]=E,this},getInverse:function(m){return this.copy(m),this.invert()},invert:function(){var m=this.val,y=m[0],x=m[1],b=m[2],w=m[3],C=m[4],E=m[5],T=m[6],k=m[7],P=m[8],R=m[9],M=m[10],I=m[11],B=m[12],D=m[13],N=m[14],_=m[15],G=y*E-x*C,$=y*T-b*C,V=y*k-w*C,Y=x*T-b*E,U=x*k-w*E,F=b*k-w*T,O=P*D-R*B,j=P*N-M*B,z=P*_-I*B,W=R*N-M*D,q=R*_-I*D,ot=M*_-I*N,Q=G*ot-$*q+V*W+Y*z-U*j+F*O;return Q?(Q=1/Q,this.setValues((E*ot-T*q+k*W)*Q,(b*q-x*ot-w*W)*Q,(D*F-N*U+_*Y)*Q,(M*U-R*F-I*Y)*Q,(T*z-C*ot-k*j)*Q,(y*ot-b*z+w*j)*Q,(N*V-B*F-_*$)*Q,(P*F-M*V+I*$)*Q,(C*q-E*z+k*O)*Q,(x*z-y*q-w*O)*Q,(B*U-D*V+_*G)*Q,(R*V-P*U-I*G)*Q,(E*j-C*W-T*O)*Q,(y*W-x*j+b*O)*Q,(D*$-B*Y-N*G)*Q,(P*Y-R*$+M*G)*Q)):this},adjoint:function(){var m=this.val,y=m[0],x=m[1],b=m[2],w=m[3],C=m[4],E=m[5],T=m[6],k=m[7],P=m[8],R=m[9],M=m[10],I=m[11],B=m[12],D=m[13],N=m[14],_=m[15];return this.setValues(E*(M*_-I*N)-R*(T*_-k*N)+D*(T*I-k*M),-(x*(M*_-I*N)-R*(b*_-w*N)+D*(b*I-w*M)),x*(T*_-k*N)-E*(b*_-w*N)+D*(b*k-w*T),-(x*(T*I-k*M)-E*(b*I-w*M)+R*(b*k-w*T)),-(C*(M*_-I*N)-P*(T*_-k*N)+B*(T*I-k*M)),y*(M*_-I*N)-P*(b*_-w*N)+B*(b*I-w*M),-(y*(T*_-k*N)-C*(b*_-w*N)+B*(b*k-w*T)),y*(T*I-k*M)-C*(b*I-w*M)+P*(b*k-w*T),C*(R*_-I*D)-P*(E*_-k*D)+B*(E*I-k*R),-(y*(R*_-I*D)-P*(x*_-w*D)+B*(x*I-w*R)),y*(E*_-k*D)-C*(x*_-w*D)+B*(x*k-w*E),-(y*(E*I-k*R)-C*(x*I-w*R)+P*(x*k-w*E)),-(C*(R*N-M*D)-P*(E*N-T*D)+B*(E*M-T*R)),y*(R*N-M*D)-P*(x*N-b*D)+B*(x*M-b*R),-(y*(E*N-T*D)-C*(x*N-b*D)+B*(x*T-b*E)),y*(E*M-T*R)-C*(x*M-b*R)+P*(x*T-b*E))},determinant:function(){var m=this.val,y=m[0],x=m[1],b=m[2],w=m[3],C=m[4],E=m[5],T=m[6],k=m[7],P=m[8],R=m[9],M=m[10],I=m[11],B=m[12],D=m[13],N=m[14],_=m[15],G=y*E-x*C,$=y*T-b*C,V=y*k-w*C,Y=x*T-b*E,U=x*k-w*E,F=b*k-w*T,O=P*D-R*B,j=P*N-M*B,z=P*_-I*B,W=R*N-M*D,q=R*_-I*D,ot=M*_-I*N;return G*ot-$*q+V*W+Y*z-U*j+F*O},multiply:function(m){var y=this.val,x=y[0],b=y[1],w=y[2],C=y[3],E=y[4],T=y[5],k=y[6],P=y[7],R=y[8],M=y[9],I=y[10],B=y[11],D=y[12],N=y[13],_=y[14],G=y[15],$=m.val,V=$[0],Y=$[1],U=$[2],F=$[3];return y[0]=V*x+Y*E+U*R+F*D,y[1]=V*b+Y*T+U*M+F*N,y[2]=V*w+Y*k+U*I+F*_,y[3]=V*C+Y*P+U*B+F*G,V=$[4],Y=$[5],U=$[6],F=$[7],y[4]=V*x+Y*E+U*R+F*D,y[5]=V*b+Y*T+U*M+F*N,y[6]=V*w+Y*k+U*I+F*_,y[7]=V*C+Y*P+U*B+F*G,V=$[8],Y=$[9],U=$[10],F=$[11],y[8]=V*x+Y*E+U*R+F*D,y[9]=V*b+Y*T+U*M+F*N,y[10]=V*w+Y*k+U*I+F*_,y[11]=V*C+Y*P+U*B+F*G,V=$[12],Y=$[13],U=$[14],F=$[15],y[12]=V*x+Y*E+U*R+F*D,y[13]=V*b+Y*T+U*M+F*N,y[14]=V*w+Y*k+U*I+F*_,y[15]=V*C+Y*P+U*B+F*G,this},multiplyLocal:function(m){var y=this.val,x=m.val;return this.setValues(y[0]*x[0]+y[1]*x[4]+y[2]*x[8]+y[3]*x[12],y[0]*x[1]+y[1]*x[5]+y[2]*x[9]+y[3]*x[13],y[0]*x[2]+y[1]*x[6]+y[2]*x[10]+y[3]*x[14],y[0]*x[3]+y[1]*x[7]+y[2]*x[11]+y[3]*x[15],y[4]*x[0]+y[5]*x[4]+y[6]*x[8]+y[7]*x[12],y[4]*x[1]+y[5]*x[5]+y[6]*x[9]+y[7]*x[13],y[4]*x[2]+y[5]*x[6]+y[6]*x[10]+y[7]*x[14],y[4]*x[3]+y[5]*x[7]+y[6]*x[11]+y[7]*x[15],y[8]*x[0]+y[9]*x[4]+y[10]*x[8]+y[11]*x[12],y[8]*x[1]+y[9]*x[5]+y[10]*x[9]+y[11]*x[13],y[8]*x[2]+y[9]*x[6]+y[10]*x[10]+y[11]*x[14],y[8]*x[3]+y[9]*x[7]+y[10]*x[11]+y[11]*x[15],y[12]*x[0]+y[13]*x[4]+y[14]*x[8]+y[15]*x[12],y[12]*x[1]+y[13]*x[5]+y[14]*x[9]+y[15]*x[13],y[12]*x[2]+y[13]*x[6]+y[14]*x[10]+y[15]*x[14],y[12]*x[3]+y[13]*x[7]+y[14]*x[11]+y[15]*x[15])},premultiply:function(m){return this.multiplyMatrices(m,this)},multiplyMatrices:function(m,y){var x=m.val,b=y.val,w=x[0],C=x[4],E=x[8],T=x[12],k=x[1],P=x[5],R=x[9],M=x[13],I=x[2],B=x[6],D=x[10],N=x[14],_=x[3],G=x[7],$=x[11],V=x[15],Y=b[0],U=b[4],F=b[8],O=b[12],j=b[1],z=b[5],W=b[9],q=b[13],ot=b[2],Q=b[6],rt=b[10],Mt=b[14],K=b[3],It=b[7],Ft=b[11],ft=b[15];return this.setValues(w*Y+C*j+E*ot+T*K,k*Y+P*j+R*ot+M*K,I*Y+B*j+D*ot+N*K,_*Y+G*j+$*ot+V*K,w*U+C*z+E*Q+T*It,k*U+P*z+R*Q+M*It,I*U+B*z+D*Q+N*It,_*U+G*z+$*Q+V*It,w*F+C*W+E*rt+T*Ft,k*F+P*W+R*rt+M*Ft,I*F+B*W+D*rt+N*Ft,_*F+G*W+$*rt+V*Ft,w*O+C*q+E*Mt+T*ft,k*O+P*q+R*Mt+M*ft,I*O+B*q+D*Mt+N*ft,_*O+G*q+$*Mt+V*ft)},translate:function(m){return this.translateXYZ(m.x,m.y,m.z)},translateXYZ:function(m,y,x){var b=this.val;return b[12]=b[0]*m+b[4]*y+b[8]*x+b[12],b[13]=b[1]*m+b[5]*y+b[9]*x+b[13],b[14]=b[2]*m+b[6]*y+b[10]*x+b[14],b[15]=b[3]*m+b[7]*y+b[11]*x+b[15],this},scale:function(m){return this.scaleXYZ(m.x,m.y,m.z)},scaleXYZ:function(m,y,x){var b=this.val;return b[0]=b[0]*m,b[1]=b[1]*m,b[2]=b[2]*m,b[3]=b[3]*m,b[4]=b[4]*y,b[5]=b[5]*y,b[6]=b[6]*y,b[7]=b[7]*y,b[8]=b[8]*x,b[9]=b[9]*x,b[10]=b[10]*x,b[11]=b[11]*x,this},makeRotationAxis:function(m,y){var x=Math.cos(y),b=Math.sin(y),w=1-x,C=m.x,E=m.y,T=m.z,k=w*C,P=w*E;return this.setValues(k*C+x,k*E-b*T,k*T+b*E,0,k*E+b*T,P*E+x,P*T-b*C,0,k*T-b*E,P*T+b*C,w*T*T+x,0,0,0,0,1)},rotate:function(m,y){var x=this.val,b=y.x,w=y.y,C=y.z,E=Math.sqrt(b*b+w*w+C*C);if(Math.abs(E)<f)return this;E=1/E,b*=E,w*=E,C*=E;var T=Math.sin(m),k=Math.cos(m),P=1-k,R=x[0],M=x[1],I=x[2],B=x[3],D=x[4],N=x[5],_=x[6],G=x[7],$=x[8],V=x[9],Y=x[10],U=x[11],F=x[12],O=x[13],j=x[14],z=x[15],W=b*b*P+k,q=w*b*P+C*T,ot=C*b*P-w*T,Q=b*w*P-C*T,rt=w*w*P+k,Mt=C*w*P+b*T,K=b*C*P+w*T,It=w*C*P-b*T,Ft=C*C*P+k;return this.setValues(R*W+D*q+$*ot,M*W+N*q+V*ot,I*W+_*q+Y*ot,B*W+G*q+U*ot,R*Q+D*rt+$*Mt,M*Q+N*rt+V*Mt,I*Q+_*rt+Y*Mt,B*Q+G*rt+U*Mt,R*K+D*It+$*Ft,M*K+N*It+V*Ft,I*K+_*It+Y*Ft,B*K+G*It+U*Ft,F,O,j,z)},rotateX:function(m){var y=this.val,x=Math.sin(m),b=Math.cos(m),w=y[4],C=y[5],E=y[6],T=y[7],k=y[8],P=y[9],R=y[10],M=y[11];return y[4]=w*b+k*x,y[5]=C*b+P*x,y[6]=E*b+R*x,y[7]=T*b+M*x,y[8]=k*b-w*x,y[9]=P*b-C*x,y[10]=R*b-E*x,y[11]=M*b-T*x,this},rotateY:function(m){var y=this.val,x=Math.sin(m),b=Math.cos(m),w=y[0],C=y[1],E=y[2],T=y[3],k=y[8],P=y[9],R=y[10],M=y[11];return y[0]=w*b-k*x,y[1]=C*b-P*x,y[2]=E*b-R*x,y[3]=T*b-M*x,y[8]=w*x+k*b,y[9]=C*x+P*b,y[10]=E*x+R*b,y[11]=T*x+M*b,this},rotateZ:function(m){var y=this.val,x=Math.sin(m),b=Math.cos(m),w=y[0],C=y[1],E=y[2],T=y[3],k=y[4],P=y[5],R=y[6],M=y[7];return y[0]=w*b+k*x,y[1]=C*b+P*x,y[2]=E*b+R*x,y[3]=T*b+M*x,y[4]=k*b-w*x,y[5]=P*b-C*x,y[6]=R*b-E*x,y[7]=M*b-T*x,this},fromRotationTranslation:function(m,y){var x=m.x,b=m.y,w=m.z,C=m.w,E=x+x,T=b+b,k=w+w,P=x*E,R=x*T,M=x*k,I=b*T,B=b*k,D=w*k,N=C*E,_=C*T,G=C*k;return this.setValues(1-(I+D),R+G,M-_,0,R-G,1-(P+D),B+N,0,M+_,B-N,1-(P+I),0,y.x,y.y,y.z,1)},fromQuat:function(m){var y=m.x,x=m.y,b=m.z,w=m.w,C=y+y,E=x+x,T=b+b,k=y*C,P=y*E,R=y*T,M=x*E,I=x*T,B=b*T,D=w*C,N=w*E,_=w*T;return this.setValues(1-(M+B),P+_,R-N,0,P-_,1-(k+B),I+D,0,R+N,I-D,1-(k+M),0,0,0,0,1)},frustum:function(m,y,x,b,w,C){var E=1/(y-m),T=1/(b-x),k=1/(w-C);return this.setValues(w*2*E,0,0,0,0,w*2*T,0,0,(y+m)*E,(b+x)*T,(C+w)*k,-1,0,0,C*w*2*k,0)},perspective:function(m,y,x,b){var w=1/Math.tan(m/2),C=1/(x-b);return this.setValues(w/y,0,0,0,0,w,0,0,0,0,(b+x)*C,-1,0,0,2*b*x*C,0)},perspectiveLH:function(m,y,x,b){return this.setValues(2*x/m,0,0,0,0,2*x/y,0,0,0,0,-b/(x-b),1,0,0,x*b/(x-b),0)},ortho:function(m,y,x,b,w,C){var E=m-y,T=x-b,k=w-C;return E=E===0?E:1/E,T=T===0?T:1/T,k=k===0?k:1/k,this.setValues(-2*E,0,0,0,0,-2*T,0,0,0,0,2*k,0,(m+y)*E,(b+x)*T,(C+w)*k,1)},lookAtRH:function(m,y,x){var b=this.val;return l.subVectors(m,y),l.getLengthSquared()===0&&(l.z=1),l.normalize(),d.crossVectors(x,l),d.getLengthSquared()===0&&(Math.abs(x.z)===1?l.x+=1e-4:l.z+=1e-4,l.normalize(),d.crossVectors(x,l)),d.normalize(),p.crossVectors(l,d),b[0]=d.x,b[1]=d.y,b[2]=d.z,b[4]=p.x,b[5]=p.y,b[6]=p.z,b[8]=l.x,b[9]=l.y,b[10]=l.z,this},lookAt:function(m,y,x){var b=m.x,w=m.y,C=m.z,E=x.x,T=x.y,k=x.z,P=y.x,R=y.y,M=y.z;if(Math.abs(b-P)<f&&Math.abs(w-R)<f&&Math.abs(C-M)<f)return this.identity();var I=b-P,B=w-R,D=C-M,N=1/Math.sqrt(I*I+B*B+D*D);I*=N,B*=N,D*=N;var _=T*D-k*B,G=k*I-E*D,$=E*B-T*I;N=Math.sqrt(_*_+G*G+$*$),N?(N=1/N,_*=N,G*=N,$*=N):(_=0,G=0,$=0);var V=B*$-D*G,Y=D*_-I*$,U=I*G-B*_;return N=Math.sqrt(V*V+Y*Y+U*U),N?(N=1/N,V*=N,Y*=N,U*=N):(V=0,Y=0,U=0),this.setValues(_,V,I,0,G,Y,B,0,$,U,D,0,-(_*b+G*w+$*C),-(V*b+Y*w+U*C),-(I*b+B*w+D*C),1)},yawPitchRoll:function(m,y,x){this.zero(),u.zero(),o.zero();var b=this.val,w=u.val,C=o.val,E=Math.sin(x),T=Math.cos(x);return b[10]=1,b[15]=1,b[0]=T,b[1]=E,b[4]=-E,b[5]=T,E=Math.sin(y),T=Math.cos(y),w[0]=1,w[15]=1,w[5]=T,w[10]=T,w[9]=-E,w[6]=E,E=Math.sin(m),T=Math.cos(m),C[5]=1,C[15]=1,C[0]=T,C[2]=-E,C[8]=E,C[10]=T,this.multiplyLocal(u),this.multiplyLocal(o),this},setWorldMatrix:function(m,y,x,b,w){return this.yawPitchRoll(m.y,m.x,m.z),u.scaling(x.x,x.y,x.z),o.xyz(y.x,y.y,y.z),this.multiplyLocal(u),this.multiplyLocal(o),b&&this.multiplyLocal(b),w&&this.multiplyLocal(w),this},multiplyToMat4:function(m,y){var x=this.val,b=m.val,w=x[0],C=x[1],E=x[2],T=x[3],k=x[4],P=x[5],R=x[6],M=x[7],I=x[8],B=x[9],D=x[10],N=x[11],_=x[12],G=x[13],$=x[14],V=x[15],Y=b[0],U=b[1],F=b[2],O=b[3],j=b[4],z=b[5],W=b[6],q=b[7],ot=b[8],Q=b[9],rt=b[10],Mt=b[11],K=b[12],It=b[13],Ft=b[14],ft=b[15];return y.setValues(Y*w+U*k+F*I+O*_,U*C+U*P+F*B+O*G,F*E+U*R+F*D+O*$,O*T+U*M+F*N+O*V,j*w+z*k+W*I+q*_,j*C+z*P+W*B+q*G,j*E+z*R+W*D+q*$,j*T+z*M+W*N+q*V,ot*w+Q*k+rt*I+Mt*_,ot*C+Q*P+rt*B+Mt*G,ot*E+Q*R+rt*D+Mt*$,ot*T+Q*M+rt*N+Mt*V,K*w+It*k+Ft*I+ft*_,K*C+It*P+Ft*B+ft*G,K*E+It*R+Ft*D+ft*$,K*T+It*M+Ft*N+ft*V)},fromRotationXYTranslation:function(m,y,x){var b=y.x,w=y.y,C=y.z,E=Math.sin(m.x),T=Math.cos(m.x),k=Math.sin(m.y),P=Math.cos(m.y),R=b,M=w,I=C,B=-E,D=0-B*k,N=0-T*k,_=B*P,G=T*P;return x||(R=P*b+k*C,M=D*b+T*w+_*C,I=N*b+E*w+G*C),this.setValues(P,D,N,0,0,T,E,0,k,_,G,0,R,M,I,1)},getMaxScaleOnAxis:function(){var m=this.val,y=m[0]*m[0]+m[1]*m[1]+m[2]*m[2],x=m[4]*m[4]+m[5]*m[5]+m[6]*m[6],b=m[8]*m[8]+m[9]*m[9]+m[10]*m[10];return Math.sqrt(Math.max(y,x,b))}}),u=new h,o=new h,d=new v,p=new v,l=new v;s.exports=h},86883:s=>{var g=function(i,a,v){return Math.min(i+a,v)};s.exports=g},50040:s=>{var g=function(i){var a=i.length;if(a===0)return 0;i.sort(function(f,h){return f-h});var v=Math.floor(a/2);return a%2===0?(i[v]+i[v-1])/2:i[v]};s.exports=g},37204:s=>{var g=function(i,a,v){return Math.max(i-a,v)};s.exports=g},65201:s=>{var g=function(i,a,v,f){v===void 0&&(v=a+1);var h=(i-a)/(v-a);return h>1?f!==void 0?(h=(f-i)/(f-v),h<0&&(h=0)):h=1:h<0&&(h=0),h};s.exports=g},15746:(s,g,i)=>{var a=i(83419),v=i(94434),f=i(29747),h=i(25836),u=1e-6,o=new Int8Array([1,2,0]),d=new Float32Array([0,0,0]),p=new h(1,0,0),l=new h(0,1,0),m=new h,y=new v,x=new a({initialize:function(w,C,E,T){this.onChangeCallback=f,this.set(w,C,E,T)},x:{get:function(){return this._x},set:function(b){this._x=b,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(b){this._y=b,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(b){this._z=b,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(b){this._w=b,this.onChangeCallback(this)}},copy:function(b){return this.set(b)},set:function(b,w,C,E,T){return T===void 0&&(T=!0),typeof b=="object"?(this._x=b.x||0,this._y=b.y||0,this._z=b.z||0,this._w=b.w||0):(this._x=b||0,this._y=w||0,this._z=C||0,this._w=E||0),T&&this.onChangeCallback(this),this},add:function(b){return this._x+=b.x,this._y+=b.y,this._z+=b.z,this._w+=b.w,this.onChangeCallback(this),this},subtract:function(b){return this._x-=b.x,this._y-=b.y,this._z-=b.z,this._w-=b.w,this.onChangeCallback(this),this},scale:function(b){return this._x*=b,this._y*=b,this._z*=b,this._w*=b,this.onChangeCallback(this),this},length:function(){var b=this.x,w=this.y,C=this.z,E=this.w;return Math.sqrt(b*b+w*w+C*C+E*E)},lengthSq:function(){var b=this.x,w=this.y,C=this.z,E=this.w;return b*b+w*w+C*C+E*E},normalize:function(){var b=this.x,w=this.y,C=this.z,E=this.w,T=b*b+w*w+C*C+E*E;return T>0&&(T=1/Math.sqrt(T),this._x=b*T,this._y=w*T,this._z=C*T,this._w=E*T),this.onChangeCallback(this),this},dot:function(b){return this.x*b.x+this.y*b.y+this.z*b.z+this.w*b.w},lerp:function(b,w){w===void 0&&(w=0);var C=this.x,E=this.y,T=this.z,k=this.w;return this.set(C+w*(b.x-C),E+w*(b.y-E),T+w*(b.z-T),k+w*(b.w-k))},rotationTo:function(b,w){var C=b.x*w.x+b.y*w.y+b.z*w.z;return C<-.999999?(m.copy(p).cross(b).length()<u&&m.copy(l).cross(b),m.normalize(),this.setAxisAngle(m,Math.PI)):C>.999999?this.set(0,0,0,1):(m.copy(b).cross(w),this._x=m.x,this._y=m.y,this._z=m.z,this._w=1+C,this.normalize())},setAxes:function(b,w,C){var E=y.val;return E[0]=w.x,E[3]=w.y,E[6]=w.z,E[1]=C.x,E[4]=C.y,E[7]=C.z,E[2]=-b.x,E[5]=-b.y,E[8]=-b.z,this.fromMat3(y).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(b,w){w=w*.5;var C=Math.sin(w);return this.set(C*b.x,C*b.y,C*b.z,Math.cos(w))},multiply:function(b){var w=this.x,C=this.y,E=this.z,T=this.w,k=b.x,P=b.y,R=b.z,M=b.w;return this.set(w*M+T*k+C*R-E*P,C*M+T*P+E*k-w*R,E*M+T*R+w*P-C*k,T*M-w*k-C*P-E*R)},slerp:function(b,w){var C=this.x,E=this.y,T=this.z,k=this.w,P=b.x,R=b.y,M=b.z,I=b.w,B=C*P+E*R+T*M+k*I;B<0&&(B=-B,P=-P,R=-R,M=-M,I=-I);var D=1-w,N=w;if(1-B>u){var _=Math.acos(B),G=Math.sin(_);D=Math.sin((1-w)*_)/G,N=Math.sin(w*_)/G}return this.set(D*C+N*P,D*E+N*R,D*T+N*M,D*k+N*I)},invert:function(){var b=this.x,w=this.y,C=this.z,E=this.w,T=b*b+w*w+C*C+E*E,k=T?1/T:0;return this.set(-b*k,-w*k,-C*k,E*k)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(b){b*=.5;var w=this.x,C=this.y,E=this.z,T=this.w,k=Math.sin(b),P=Math.cos(b);return this.set(w*P+T*k,C*P+E*k,E*P-C*k,T*P-w*k)},rotateY:function(b){b*=.5;var w=this.x,C=this.y,E=this.z,T=this.w,k=Math.sin(b),P=Math.cos(b);return this.set(w*P-E*k,C*P+T*k,E*P+w*k,T*P-C*k)},rotateZ:function(b){b*=.5;var w=this.x,C=this.y,E=this.z,T=this.w,k=Math.sin(b),P=Math.cos(b);return this.set(w*P+C*k,C*P-w*k,E*P+T*k,T*P-E*k)},calculateW:function(){var b=this.x,w=this.y,C=this.z;return this.w=-Math.sqrt(1-b*b-w*w-C*C),this},setFromEuler:function(b,w){var C=b.x/2,E=b.y/2,T=b.z/2,k=Math.cos(C),P=Math.cos(E),R=Math.cos(T),M=Math.sin(C),I=Math.sin(E),B=Math.sin(T);switch(b.order){case"XYZ":{this.set(M*P*R+k*I*B,k*I*R-M*P*B,k*P*B+M*I*R,k*P*R-M*I*B,w);break}case"YXZ":{this.set(M*P*R+k*I*B,k*I*R-M*P*B,k*P*B-M*I*R,k*P*R+M*I*B,w);break}case"ZXY":{this.set(M*P*R-k*I*B,k*I*R+M*P*B,k*P*B+M*I*R,k*P*R-M*I*B,w);break}case"ZYX":{this.set(M*P*R-k*I*B,k*I*R+M*P*B,k*P*B-M*I*R,k*P*R+M*I*B,w);break}case"YZX":{this.set(M*P*R+k*I*B,k*I*R+M*P*B,k*P*B-M*I*R,k*P*R-M*I*B,w);break}case"XZY":{this.set(M*P*R-k*I*B,k*I*R-M*P*B,k*P*B+M*I*R,k*P*R+M*I*B,w);break}}return this},setFromRotationMatrix:function(b){var w=b.val,C=w[0],E=w[4],T=w[8],k=w[1],P=w[5],R=w[9],M=w[2],I=w[6],B=w[10],D=C+P+B,N;return D>0?(N=.5/Math.sqrt(D+1),this.set((I-R)*N,(T-M)*N,(k-E)*N,.25/N)):C>P&&C>B?(N=2*Math.sqrt(1+C-P-B),this.set(.25*N,(E+k)/N,(T+M)/N,(I-R)/N)):P>B?(N=2*Math.sqrt(1+P-C-B),this.set((E+k)/N,.25*N,(R+I)/N,(T-M)/N)):(N=2*Math.sqrt(1+B-C-P),this.set((T+M)/N,(R+I)/N,.25*N,(k-E)/N)),this},fromMat3:function(b){var w=b.val,C=w[0]+w[4]+w[8],E;if(C>0)E=Math.sqrt(C+1),this.w=.5*E,E=.5/E,this._x=(w[7]-w[5])*E,this._y=(w[2]-w[6])*E,this._z=(w[3]-w[1])*E;else{var T=0;w[4]>w[0]&&(T=1),w[8]>w[T*3+T]&&(T=2);var k=o[T],P=o[k];E=Math.sqrt(w[T*3+T]-w[k*3+k]-w[P*3+P]+1),d[T]=.5*E,E=.5/E,d[k]=(w[k*3+T]+w[T*3+k])*E,d[P]=(w[P*3+T]+w[T*3+P])*E,this._x=d[0],this._y=d[1],this._z=d[2],this._w=(w[P*3+k]-w[k*3+P])*E}return this.onChangeCallback(this),this}});s.exports=x},43396:(s,g,i)=>{var a=i(36383),v=function(f){return f*a.RAD_TO_DEG};s.exports=v},74362:s=>{var g=function(i,a){a===void 0&&(a=1);var v=Math.random()*2*Math.PI;return i.x=Math.cos(v)*a,i.y=Math.sin(v)*a,i};s.exports=g},60706:s=>{var g=function(i,a){a===void 0&&(a=1);var v=Math.random()*2*Math.PI,f=Math.random()*2-1,h=Math.sqrt(1-f*f)*a;return i.x=Math.cos(v)*h,i.y=Math.sin(v)*h,i.z=f*a,i};s.exports=g},67421:s=>{var g=function(i,a){return a===void 0&&(a=1),i.x=(Math.random()*2-1)*a,i.y=(Math.random()*2-1)*a,i.z=(Math.random()*2-1)*a,i.w=(Math.random()*2-1)*a,i};s.exports=g},36305:s=>{var g=function(i,a){var v=i.x,f=i.y;return i.x=v*Math.cos(a)-f*Math.sin(a),i.y=v*Math.sin(a)+f*Math.cos(a),i};s.exports=g},11520:s=>{var g=function(i,a,v,f){var h=Math.cos(f),u=Math.sin(f),o=i.x-a,d=i.y-v;return i.x=o*h-d*u+a,i.y=o*u+d*h+v,i};s.exports=g},1163:s=>{var g=function(i,a,v,f,h){var u=f+Math.atan2(i.y-v,i.x-a);return i.x=a+h*Math.cos(u),i.y=v+h*Math.sin(u),i};s.exports=g},70336:s=>{var g=function(i,a,v,f,h){return i.x=a+h*Math.cos(f),i.y=v+h*Math.sin(f),i};s.exports=g},72678:(s,g,i)=>{var a=i(25836),v=i(37867),f=i(15746),h=new v,u=new f,o=new a,d=function(p,l,m){return u.setAxisAngle(l,m),h.fromRotationTranslation(u,o.set(0,0,0)),p.transformMat4(h)};s.exports=d},2284:s=>{var g=function(i){return i>0?Math.ceil(i):Math.floor(i)};s.exports=g},41013:s=>{var g=function(i,a,v){a===void 0&&(a=0),v===void 0&&(v=10);var f=Math.pow(v,-a);return Math.round(i*f)/f};s.exports=g},16922:s=>{var g=function(i,a,v,f){a===void 0&&(a=1),v===void 0&&(v=1),f===void 0&&(f=1),f*=Math.PI/i;for(var h=[],u=[],o=0;o<i;o++)v-=a*f,a+=v*f,h[o]=v,u[o]=a;return{sin:u,cos:h,length:i}};s.exports=g},7602:s=>{var g=function(i,a,v){return i<=a?0:i>=v?1:(i=(i-a)/(v-a),i*i*(3-2*i))};s.exports=g},54261:s=>{var g=function(i,a,v){return i=Math.max(0,Math.min(1,(i-a)/(v-a))),i*i*i*(i*(i*6-15)+10)};s.exports=g},44408:(s,g,i)=>{var a=i(26099),v=function(f,h,u,o){o===void 0&&(o=new a);var d=0,p=0,l=h*u;return f>0&&f<=l&&(f>h-1?(p=Math.floor(f/h),d=f-p*h):d=f),o.set(d,p)};s.exports=v},85955:(s,g,i)=>{var a=i(26099),v=function(f,h,u,o,d,p,l,m){m===void 0&&(m=new a);var y=Math.sin(d),x=Math.cos(d),b=x*p,w=y*p,C=-y*l,E=x*l,T=1/(b*E+C*-w);return m.x=E*T*f+-C*T*h+(o*C-u*E)*T,m.y=b*T*h+-w*T*f+(-o*b+u*w)*T,m};s.exports=v},26099:(s,g,i)=>{var a=i(83419),v=i(43855),f=new a({initialize:function(u,o){this.x=0,this.y=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0):(o===void 0&&(o=u),this.x=u||0,this.y=o||0)},clone:function(){return new f(this.x,this.y)},copy:function(h){return this.x=h.x||0,this.y=h.y||0,this},setFromObject:function(h){return this.x=h.x||0,this.y=h.y||0,this},set:function(h,u){return u===void 0&&(u=h),this.x=h,this.y=u,this},setTo:function(h,u){return this.set(h,u)},setToPolar:function(h,u){return u==null&&(u=1),this.x=Math.cos(h)*u,this.y=Math.sin(h)*u,this},equals:function(h){return this.x===h.x&&this.y===h.y},fuzzyEquals:function(h,u){return v(this.x,h.x,u)&&v(this.y,h.y,u)},angle:function(){var h=Math.atan2(this.y,this.x);return h<0&&(h+=2*Math.PI),h},setAngle:function(h){return this.setToPolar(h,this.length())},add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this},scale:function(h){return isFinite(h)?(this.x*=h,this.y*=h):(this.x=0,this.y=0),this},divide:function(h){return this.x/=h.x,this.y/=h.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(h){var u=h.x-this.x,o=h.y-this.y;return Math.sqrt(u*u+o*o)},distanceSq:function(h){var u=h.x-this.x,o=h.y-this.y;return u*u+o*o},length:function(){var h=this.x,u=this.y;return Math.sqrt(h*h+u*u)},setLength:function(h){return this.normalize().scale(h)},lengthSq:function(){var h=this.x,u=this.y;return h*h+u*u},normalize:function(){var h=this.x,u=this.y,o=h*h+u*u;return o>0&&(o=1/Math.sqrt(o),this.x=h*o,this.y=u*o),this},normalizeRightHand:function(){var h=this.x;return this.x=this.y*-1,this.y=h,this},normalizeLeftHand:function(){var h=this.x;return this.x=this.y,this.y=h*-1,this},dot:function(h){return this.x*h.x+this.y*h.y},cross:function(h){return this.x*h.y-this.y*h.x},lerp:function(h,u){u===void 0&&(u=0);var o=this.x,d=this.y;return this.x=o+u*(h.x-o),this.y=d+u*(h.y-d),this},transformMat3:function(h){var u=this.x,o=this.y,d=h.val;return this.x=d[0]*u+d[3]*o+d[6],this.y=d[1]*u+d[4]*o+d[7],this},transformMat4:function(h){var u=this.x,o=this.y,d=h.val;return this.x=d[0]*u+d[4]*o+d[12],this.y=d[1]*u+d[5]*o+d[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(h){var u=this.length();return u&&u>h&&this.scale(h/u),this},reflect:function(h){return h=h.clone().normalize(),this.subtract(h.scale(2*this.dot(h)))},mirror:function(h){return this.reflect(h).negate()},rotate:function(h){var u=Math.cos(h),o=Math.sin(h);return this.set(u*this.x-o*this.y,o*this.x+u*this.y)},project:function(h){var u=this.dot(h)/h.dot(h);return this.copy(h).scale(u)}});f.ZERO=new f,f.RIGHT=new f(1,0),f.LEFT=new f(-1,0),f.UP=new f(0,-1),f.DOWN=new f(0,1),f.ONE=new f(1,1),s.exports=f},25836:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u,o){this.x=0,this.y=0,this.z=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):(this.x=h||0,this.y=u||0,this.z=o||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(f){return this.x=Math.min(this.x,f.x),this.y=Math.min(this.y,f.y),this.z=Math.min(this.z,f.z),this},max:function(f){return this.x=Math.max(this.x,f.x),this.y=Math.max(this.y,f.y),this.z=Math.max(this.z,f.z),this},clone:function(){return new v(this.x,this.y,this.z)},addVectors:function(f,h){return this.x=f.x+h.x,this.y=f.y+h.y,this.z=f.z+h.z,this},crossVectors:function(f,h){var u=f.x,o=f.y,d=f.z,p=h.x,l=h.y,m=h.z;return this.x=o*m-d*l,this.y=d*p-u*m,this.z=u*l-o*p,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this},set:function(f,h,u){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=h||0,this.z=u||0),this},setFromMatrixPosition:function(f){return this.fromArray(f.val,12)},setFromMatrixColumn:function(f,h){return this.fromArray(f.val,h*4)},fromArray:function(f,h){return h===void 0&&(h=0),this.x=f[h],this.y=f[h+1],this.z=f[h+2],this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this},addScalar:function(f){return this.x+=f,this.y+=f,this.z+=f,this},addScale:function(f,h){return this.x+=f.x*h,this.y+=f.y*h,this.z+=f.z*h||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f,this.z*=f):(this.x=0,this.y=0,this.z=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(f){var h=f.x-this.x,u=f.y-this.y,o=f.z-this.z||0;return Math.sqrt(h*h+u*u+o*o)},distanceSq:function(f){var h=f.x-this.x,u=f.y-this.y,o=f.z-this.z||0;return h*h+u*u+o*o},length:function(){var f=this.x,h=this.y,u=this.z;return Math.sqrt(f*f+h*h+u*u)},lengthSq:function(){var f=this.x,h=this.y,u=this.z;return f*f+h*h+u*u},normalize:function(){var f=this.x,h=this.y,u=this.z,o=f*f+h*h+u*u;return o>0&&(o=1/Math.sqrt(o),this.x=f*o,this.y=h*o,this.z=u*o),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z},cross:function(f){var h=this.x,u=this.y,o=this.z,d=f.x,p=f.y,l=f.z;return this.x=u*l-o*p,this.y=o*d-h*l,this.z=h*p-u*d,this},lerp:function(f,h){h===void 0&&(h=0);var u=this.x,o=this.y,d=this.z;return this.x=u+h*(f.x-u),this.y=o+h*(f.y-o),this.z=d+h*(f.z-d),this},applyMatrix3:function(f){var h=this.x,u=this.y,o=this.z,d=f.val;return this.x=d[0]*h+d[3]*u+d[6]*o,this.y=d[1]*h+d[4]*u+d[7]*o,this.z=d[2]*h+d[5]*u+d[8]*o,this},applyMatrix4:function(f){var h=this.x,u=this.y,o=this.z,d=f.val,p=1/(d[3]*h+d[7]*u+d[11]*o+d[15]);return this.x=(d[0]*h+d[4]*u+d[8]*o+d[12])*p,this.y=(d[1]*h+d[5]*u+d[9]*o+d[13])*p,this.z=(d[2]*h+d[6]*u+d[10]*o+d[14])*p,this},transformMat3:function(f){var h=this.x,u=this.y,o=this.z,d=f.val;return this.x=h*d[0]+u*d[3]+o*d[6],this.y=h*d[1]+u*d[4]+o*d[7],this.z=h*d[2]+u*d[5]+o*d[8],this},transformMat4:function(f){var h=this.x,u=this.y,o=this.z,d=f.val;return this.x=d[0]*h+d[4]*u+d[8]*o+d[12],this.y=d[1]*h+d[5]*u+d[9]*o+d[13],this.z=d[2]*h+d[6]*u+d[10]*o+d[14],this},transformCoordinates:function(f){var h=this.x,u=this.y,o=this.z,d=f.val,p=h*d[0]+u*d[4]+o*d[8]+d[12],l=h*d[1]+u*d[5]+o*d[9]+d[13],m=h*d[2]+u*d[6]+o*d[10]+d[14],y=h*d[3]+u*d[7]+o*d[11]+d[15];return this.x=p/y,this.y=l/y,this.z=m/y,this},transformQuat:function(f){var h=this.x,u=this.y,o=this.z,d=f.x,p=f.y,l=f.z,m=f.w,y=m*h+p*o-l*u,x=m*u+l*h-d*o,b=m*o+d*u-p*h,w=-d*h-p*u-l*o;return this.x=y*m+w*-d+x*-l-b*-p,this.y=x*m+w*-p+b*-d-y*-l,this.z=b*m+w*-l+y*-p-x*-d,this},project:function(f){var h=this.x,u=this.y,o=this.z,d=f.val,p=d[0],l=d[1],m=d[2],y=d[3],x=d[4],b=d[5],w=d[6],C=d[7],E=d[8],T=d[9],k=d[10],P=d[11],R=d[12],M=d[13],I=d[14],B=d[15],D=1/(h*y+u*C+o*P+B);return this.x=(h*p+u*x+o*E+R)*D,this.y=(h*l+u*b+o*T+M)*D,this.z=(h*m+u*w+o*k+I)*D,this},projectViewMatrix:function(f,h){return this.applyMatrix4(f).applyMatrix4(h)},unprojectViewMatrix:function(f,h){return this.applyMatrix4(f).applyMatrix4(h)},unproject:function(f,h){var u=f.x,o=f.y,d=f.z,p=f.w,l=this.x-u,m=p-this.y-1-o,y=this.z;return this.x=2*l/d-1,this.y=2*m/p-1,this.z=2*y-1,this.project(h)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});v.ZERO=new v,v.RIGHT=new v(1,0,0),v.LEFT=new v(-1,0,0),v.UP=new v(0,-1,0),v.DOWN=new v(0,1,0),v.FORWARD=new v(0,0,1),v.BACK=new v(0,0,-1),v.ONE=new v(1,1,1),s.exports=v},61369:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u,o,d){this.x=0,this.y=0,this.z=0,this.w=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0,this.w=h.w||0):(this.x=h||0,this.y=u||0,this.z=o||0,this.w=d||0)},clone:function(){return new v(this.x,this.y,this.z,this.w)},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this.w=f.w||0,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z&&this.w===f.w},set:function(f,h,u,o){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=h||0,this.z=u||0,this.w=o||0),this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this.w+=f.w||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this.w-=f.w||0,this},scale:function(f){return this.x*=f,this.y*=f,this.z*=f,this.w*=f,this},length:function(){var f=this.x,h=this.y,u=this.z,o=this.w;return Math.sqrt(f*f+h*h+u*u+o*o)},lengthSq:function(){var f=this.x,h=this.y,u=this.z,o=this.w;return f*f+h*h+u*u+o*o},normalize:function(){var f=this.x,h=this.y,u=this.z,o=this.w,d=f*f+h*h+u*u+o*o;return d>0&&(d=1/Math.sqrt(d),this.x=f*d,this.y=h*d,this.z=u*d,this.w=o*d),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,h){h===void 0&&(h=0);var u=this.x,o=this.y,d=this.z,p=this.w;return this.x=u+h*(f.x-u),this.y=o+h*(f.y-o),this.z=d+h*(f.z-d),this.w=p+h*(f.w-p),this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this.w*=f.w||1,this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this.w/=f.w||1,this},distance:function(f){var h=f.x-this.x,u=f.y-this.y,o=f.z-this.z||0,d=f.w-this.w||0;return Math.sqrt(h*h+u*u+o*o+d*d)},distanceSq:function(f){var h=f.x-this.x,u=f.y-this.y,o=f.z-this.z||0,d=f.w-this.w||0;return h*h+u*u+o*o+d*d},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(f){var h=this.x,u=this.y,o=this.z,d=this.w,p=f.val;return this.x=p[0]*h+p[4]*u+p[8]*o+p[12]*d,this.y=p[1]*h+p[5]*u+p[9]*o+p[13]*d,this.z=p[2]*h+p[6]*u+p[10]*o+p[14]*d,this.w=p[3]*h+p[7]*u+p[11]*o+p[15]*d,this},transformQuat:function(f){var h=this.x,u=this.y,o=this.z,d=f.x,p=f.y,l=f.z,m=f.w,y=m*h+p*o-l*u,x=m*u+l*h-d*o,b=m*o+d*u-p*h,w=-d*h-p*u-l*o;return this.x=y*m+w*-d+x*-l-b*-p,this.y=x*m+w*-p+b*-d-y*-l,this.z=b*m+w*-l+y*-p-x*-d,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});v.prototype.sub=v.prototype.subtract,v.prototype.mul=v.prototype.multiply,v.prototype.div=v.prototype.divide,v.prototype.dist=v.prototype.distance,v.prototype.distSq=v.prototype.distanceSq,v.prototype.len=v.prototype.length,v.prototype.lenSq=v.prototype.lengthSq,s.exports=v},60417:s=>{var g=function(i,a,v){return Math.abs(i-a)<=v};s.exports=g},15994:s=>{var g=function(i,a,v){var f=v-a;return a+((i-a)%f+f)%f};s.exports=g},31040:s=>{var g=function(i,a,v,f){return Math.atan2(f-a,v-i)};s.exports=g},55495:s=>{var g=function(i,a){return Math.atan2(a.y-i.y,a.x-i.x)};s.exports=g},128:s=>{var g=function(i,a){return Math.atan2(a.x-i.x,a.y-i.y)};s.exports=g},41273:s=>{var g=function(i,a,v,f){return Math.atan2(v-i,f-a)};s.exports=g},1432:(s,g,i)=>{var a=i(36383),v=function(f){return f>Math.PI&&(f-=a.PI2),Math.abs(((f+a.TAU)%a.PI2-a.PI2)%a.PI2)};s.exports=v},12407:s=>{var g=function(i){return i=i%(2*Math.PI),i>=0?i:i+2*Math.PI};s.exports=g},53993:(s,g,i)=>{var a=i(99472),v=function(){return a(-Math.PI,Math.PI)};s.exports=v},86564:(s,g,i)=>{var a=i(99472),v=function(){return a(-180,180)};s.exports=v},90154:(s,g,i)=>{var a=i(12407),v=function(f){return a(f+Math.PI)};s.exports=v},48736:(s,g,i)=>{var a=i(36383),v=function(f,h,u){return u===void 0&&(u=.05),f===h||(Math.abs(h-f)<=u||Math.abs(h-f)>=a.PI2-u?f=h:(Math.abs(h-f)>Math.PI&&(h<f?h+=a.PI2:h-=a.PI2),h>f?f+=u:h<f&&(f-=u))),f};s.exports=v},61430:s=>{var g=function(i,a){var v=a-i;if(v===0)return 0;var f=Math.floor((v- -180)/360);return v-f*360};s.exports=g},86554:(s,g,i)=>{var a=i(15994),v=function(f){return a(f,-Math.PI,Math.PI)};s.exports=v},30954:(s,g,i)=>{var a=i(15994),v=function(f){return a(f,-180,180)};s.exports=v},25588:(s,g,i)=>{s.exports={Between:i(31040),BetweenPoints:i(55495),BetweenPointsY:i(128),BetweenY:i(41273),CounterClockwise:i(1432),Normalize:i(12407),Random:i(53993),RandomDegrees:i(86564),Reverse:i(90154),RotateTo:i(48736),ShortestBetween:i(61430),Wrap:i(86554),WrapDegrees:i(30954)}},36383:s=>{var g={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};s.exports=g},20339:s=>{var g=function(i,a,v,f){var h=i-v,u=a-f;return Math.sqrt(h*h+u*u)};s.exports=g},52816:s=>{var g=function(i,a){var v=i.x-a.x,f=i.y-a.y;return Math.sqrt(v*v+f*f)};s.exports=g},64559:s=>{var g=function(i,a){var v=i.x-a.x,f=i.y-a.y;return v*v+f*f};s.exports=g},82340:s=>{var g=function(i,a,v,f){return Math.max(Math.abs(i-v),Math.abs(a-f))};s.exports=g},14390:s=>{var g=function(i,a,v,f,h){return h===void 0&&(h=2),Math.sqrt(Math.pow(v-i,h)+Math.pow(f-a,h))};s.exports=g},2243:s=>{var g=function(i,a,v,f){return Math.abs(i-v)+Math.abs(a-f)};s.exports=g},89774:s=>{var g=function(i,a,v,f){var h=i-v,u=a-f;return h*h+u*u};s.exports=g},50994:(s,g,i)=>{s.exports={Between:i(20339),BetweenPoints:i(52816),BetweenPointsSquared:i(64559),Chebyshev:i(82340),Power:i(14390),Snake:i(2243),Squared:i(89774)}},62640:(s,g,i)=>{var a=i(54178),v=i(41521),f=i(79980),h=i(85433),u=i(99140),o=i(48857),d=i(81596),p=i(59133),l=i(98516),m=i(35248),y=i(82500),x=i(49752);s.exports={Power0:d,Power1:p.Out,Power2:h.Out,Power3:l.Out,Power4:m.Out,Linear:d,Quad:p.Out,Cubic:h.Out,Quart:l.Out,Quint:m.Out,Sine:y.Out,Expo:o.Out,Circ:f.Out,Elastic:u.Out,Back:a.Out,Bounce:v.Out,Stepped:x,"Quad.easeIn":p.In,"Cubic.easeIn":h.In,"Quart.easeIn":l.In,"Quint.easeIn":m.In,"Sine.easeIn":y.In,"Expo.easeIn":o.In,"Circ.easeIn":f.In,"Elastic.easeIn":u.In,"Back.easeIn":a.In,"Bounce.easeIn":v.In,"Quad.easeOut":p.Out,"Cubic.easeOut":h.Out,"Quart.easeOut":l.Out,"Quint.easeOut":m.Out,"Sine.easeOut":y.Out,"Expo.easeOut":o.Out,"Circ.easeOut":f.Out,"Elastic.easeOut":u.Out,"Back.easeOut":a.Out,"Bounce.easeOut":v.Out,"Quad.easeInOut":p.InOut,"Cubic.easeInOut":h.InOut,"Quart.easeInOut":l.InOut,"Quint.easeInOut":m.InOut,"Sine.easeInOut":y.InOut,"Expo.easeInOut":o.InOut,"Circ.easeInOut":f.InOut,"Elastic.easeInOut":u.InOut,"Back.easeInOut":a.InOut,"Bounce.easeInOut":v.InOut}},1639:s=>{var g=function(i,a){return a===void 0&&(a=1.70158),i*i*((a+1)*i-a)};s.exports=g},50099:s=>{var g=function(i,a){a===void 0&&(a=1.70158);var v=a*1.525;return(i*=2)<1?.5*(i*i*((v+1)*i-v)):.5*((i-=2)*i*((v+1)*i+v)+2)};s.exports=g},41286:s=>{var g=function(i,a){return a===void 0&&(a=1.70158),--i*i*((a+1)*i+a)+1};s.exports=g},54178:(s,g,i)=>{s.exports={In:i(1639),Out:i(41286),InOut:i(50099)}},59590:s=>{var g=function(i){return i=1-i,i<.36363636363636365?1-7.5625*i*i:i<.7272727272727273?1-(7.5625*(i-=.5454545454545454)*i+.75):i<.9090909090909091?1-(7.5625*(i-=.8181818181818182)*i+.9375):1-(7.5625*(i-=.9545454545454546)*i+.984375)};s.exports=g},41788:s=>{var g=function(i){var a=!1;return i<.5?(i=1-i*2,a=!0):i=i*2-1,i<.36363636363636365?i=7.5625*i*i:i<.7272727272727273?i=7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?i=7.5625*(i-=.8181818181818182)*i+.9375:i=7.5625*(i-=.9545454545454546)*i+.984375,a?(1-i)*.5:i*.5+.5};s.exports=g},69905:s=>{var g=function(i){return i<.36363636363636365?7.5625*i*i:i<.7272727272727273?7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?7.5625*(i-=.8181818181818182)*i+.9375:7.5625*(i-=.9545454545454546)*i+.984375};s.exports=g},41521:(s,g,i)=>{s.exports={In:i(59590),Out:i(69905),InOut:i(41788)}},91861:s=>{var g=function(i){return 1-Math.sqrt(1-i*i)};s.exports=g},4177:s=>{var g=function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)};s.exports=g},57512:s=>{var g=function(i){return Math.sqrt(1- --i*i)};s.exports=g},79980:(s,g,i)=>{s.exports={In:i(91861),Out:i(57512),InOut:i(4177)}},51150:s=>{var g=function(i){return i*i*i};s.exports=g},82820:s=>{var g=function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)};s.exports=g},35033:s=>{var g=function(i){return--i*i*i+1};s.exports=g},85433:(s,g,i)=>{s.exports={In:i(51150),Out:i(35033),InOut:i(82820)}},69965:s=>{var g=function(i,a,v){if(a===void 0&&(a=.1),v===void 0&&(v=.1),i===0)return 0;if(i===1)return 1;var f=v/4;return a<1?a=1:f=v*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(i-=1))*Math.sin((i-f)*(2*Math.PI)/v))};s.exports=g},50665:s=>{var g=function(i,a,v){if(a===void 0&&(a=.1),v===void 0&&(v=.1),i===0)return 0;if(i===1)return 1;var f=v/4;return a<1?a=1:f=v*Math.asin(1/a)/(2*Math.PI),(i*=2)<1?-.5*(a*Math.pow(2,10*(i-=1))*Math.sin((i-f)*(2*Math.PI)/v)):a*Math.pow(2,-10*(i-=1))*Math.sin((i-f)*(2*Math.PI)/v)*.5+1};s.exports=g},7744:s=>{var g=function(i,a,v){if(a===void 0&&(a=.1),v===void 0&&(v=.1),i===0)return 0;if(i===1)return 1;var f=v/4;return a<1?a=1:f=v*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*i)*Math.sin((i-f)*(2*Math.PI)/v)+1};s.exports=g},99140:(s,g,i)=>{s.exports={In:i(69965),Out:i(7744),InOut:i(50665)}},24590:s=>{var g=function(i){return Math.pow(2,10*(i-1))-.001};s.exports=g},87844:s=>{var g=function(i){return(i*=2)<1?.5*Math.pow(2,10*(i-1)):.5*(2-Math.pow(2,-10*(i-1)))};s.exports=g},89433:s=>{var g=function(i){return 1-Math.pow(2,-10*i)};s.exports=g},48857:(s,g,i)=>{s.exports={In:i(24590),Out:i(89433),InOut:i(87844)}},48820:(s,g,i)=>{s.exports={Back:i(54178),Bounce:i(41521),Circular:i(79980),Cubic:i(85433),Elastic:i(99140),Expo:i(48857),Linear:i(81596),Quadratic:i(59133),Quartic:i(98516),Quintic:i(35248),Sine:i(82500),Stepped:i(49752)}},7147:s=>{var g=function(i){return i};s.exports=g},81596:(s,g,i)=>{s.exports=i(7147)},34826:s=>{var g=function(i){return i*i};s.exports=g},20544:s=>{var g=function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)};s.exports=g},92029:s=>{var g=function(i){return i*(2-i)};s.exports=g},59133:(s,g,i)=>{s.exports={In:i(34826),Out:i(92029),InOut:i(20544)}},64413:s=>{var g=function(i){return i*i*i*i};s.exports=g},78137:s=>{var g=function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)};s.exports=g},45840:s=>{var g=function(i){return 1- --i*i*i*i};s.exports=g},98516:(s,g,i)=>{s.exports={In:i(64413),Out:i(45840),InOut:i(78137)}},87745:s=>{var g=function(i){return i*i*i*i*i};s.exports=g},16509:s=>{var g=function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)};s.exports=g},17868:s=>{var g=function(i){return--i*i*i*i*i+1};s.exports=g},35248:(s,g,i)=>{s.exports={In:i(87745),Out:i(17868),InOut:i(16509)}},80461:s=>{var g=function(i){return i===0?0:i===1?1:1-Math.cos(i*Math.PI/2)};s.exports=g},34025:s=>{var g=function(i){return i===0?0:i===1?1:.5*(1-Math.cos(Math.PI*i))};s.exports=g},52768:s=>{var g=function(i){return i===0?0:i===1?1:Math.sin(i*Math.PI/2)};s.exports=g},82500:(s,g,i)=>{s.exports={In:i(80461),Out:i(52768),InOut:i(34025)}},72251:s=>{var g=function(i,a){return a===void 0&&(a=1),i<=0?0:i>=1?1:((a*i|0)+1)*(1/a)};s.exports=g},49752:(s,g,i)=>{s.exports=i(72251)},75698:s=>{var g=function(i,a){return a===void 0&&(a=1e-4),Math.ceil(i-a)};s.exports=g},43855:s=>{var g=function(i,a,v){return v===void 0&&(v=1e-4),Math.abs(i-a)<v};s.exports=g},25777:s=>{var g=function(i,a){return a===void 0&&(a=1e-4),Math.floor(i+a)};s.exports=g},5470:s=>{var g=function(i,a,v){return v===void 0&&(v=1e-4),i>a-v};s.exports=g},94977:s=>{var g=function(i,a,v){return v===void 0&&(v=1e-4),i<a+v};s.exports=g},48379:(s,g,i)=>{s.exports={Ceil:i(75698),Equal:i(43855),Floor:i(25777),GreaterThan:i(5470),LessThan:i(94977)}},75508:(s,g,i)=>{var a=i(36383),v=i(79291),f={Angle:i(25588),Distance:i(50994),Easing:i(48820),Fuzzy:i(48379),Interpolation:i(38289),Pow2:i(49001),Snap:i(73697),RandomDataGenerator:i(28453),Average:i(53307),Bernstein:i(85710),Between:i(30976),CatmullRom:i(87842),CeilTo:i(26302),Clamp:i(45319),DegToRad:i(39506),Difference:i(61241),Euler:i(38857),Factorial:i(6411),FloatBetween:i(99472),FloorTo:i(77623),FromPercent:i(62945),GetSpeed:i(38265),IsEven:i(78702),IsEvenStrict:i(94883),Linear:i(28915),LinearXY:i(94908),MaxAdd:i(86883),Median:i(50040),MinSub:i(37204),Percent:i(65201),RadToDeg:i(43396),RandomXY:i(74362),RandomXYZ:i(60706),RandomXYZW:i(67421),Rotate:i(36305),RotateAround:i(11520),RotateAroundDistance:i(1163),RotateTo:i(70336),RoundAwayFromZero:i(2284),RoundTo:i(41013),SinCosTableGenerator:i(16922),SmootherStep:i(54261),SmoothStep:i(7602),ToXY:i(44408),TransformXY:i(85955),Within:i(60417),Wrap:i(15994),Vector2:i(26099),Vector3:i(25836),Vector4:i(61369),Matrix3:i(94434),Matrix4:i(37867),Quaternion:i(15746),RotateVec3:i(72678)};f=v(!1,f,a),s.exports=f},89318:(s,g,i)=>{var a=i(85710),v=function(f,h){for(var u=0,o=f.length-1,d=0;d<=o;d++)u+=Math.pow(1-h,o-d)*Math.pow(h,d)*f[d]*a(o,d);return u};s.exports=v},77259:(s,g,i)=>{var a=i(87842),v=function(f,h){var u=f.length-1,o=u*h,d=Math.floor(o);return f[0]===f[u]?(h<0&&(d=Math.floor(o=u*(1+h))),a(o-d,f[(d-1+u)%u],f[d],f[(d+1)%u],f[(d+2)%u])):h<0?f[0]-(a(-o,f[0],f[0],f[1],f[1])-f[0]):h>1?f[u]-(a(o-u,f[u],f[u],f[u-1],f[u-1])-f[u]):a(o-d,f[d?d-1:0],f[d],f[u<d+1?u:d+1],f[u<d+2?u:d+2])};s.exports=v},36316:s=>{function g(h,u){var o=1-h;return o*o*o*u}function i(h,u){var o=1-h;return 3*o*o*h*u}function a(h,u){return 3*(1-h)*h*h*u}function v(h,u){return h*h*h*u}var f=function(h,u,o,d,p){return g(h,u)+i(h,o)+a(h,d)+v(h,p)};s.exports=f},28392:(s,g,i)=>{var a=i(28915),v=function(f,h){var u=f.length-1,o=u*h,d=Math.floor(o);return h<0?a(f[0],f[1],o):h>1?a(f[u],f[u-1],u-o):a(f[d],f[d+1>u?u:d+1],o-d)};s.exports=v},32112:s=>{function g(f,h){var u=1-f;return u*u*h}function i(f,h){return 2*(1-f)*f*h}function a(f,h){return f*f*h}var v=function(f,h,u,o){return g(f,h)+i(f,u)+a(f,o)};s.exports=v},47235:(s,g,i)=>{var a=i(7602),v=function(f,h,u){return h+(u-h)*a(f,0,1)};s.exports=v},50178:(s,g,i)=>{var a=i(54261),v=function(f,h,u){return h+(u-h)*a(f,0,1)};s.exports=v},38289:(s,g,i)=>{s.exports={Bezier:i(89318),CatmullRom:i(77259),CubicBezier:i(36316),Linear:i(28392),QuadraticBezier:i(32112),SmoothStep:i(47235),SmootherStep:i(50178)}},98439:s=>{var g=function(i){var a=Math.log(i)/.6931471805599453;return 1<<Math.ceil(a)};s.exports=g},50030:s=>{var g=function(i,a){return i>0&&(i&i-1)===0&&a>0&&(a&a-1)===0};s.exports=g},81230:s=>{var g=function(i){return i>0&&(i&i-1)===0};s.exports=g},49001:(s,g,i)=>{s.exports={GetNext:i(98439),IsSize:i(50030),IsValue:i(81230)}},28453:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h){h===void 0&&(h=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],h&&this.init(h)},rnd:function(){var f=2091639*this.s0+this.c*23283064365386963e-26;return this.c=f|0,this.s0=this.s1,this.s1=this.s2,this.s2=f-this.c,this.s2},hash:function(f){var h,u=this.n;f=f.toString();for(var o=0;o<f.length;o++)u+=f.charCodeAt(o),h=.02519603282416938*u,u=h>>>0,h-=u,h*=u,u=h>>>0,h-=u,u+=h*4294967296;return this.n=u,(u>>>0)*23283064365386963e-26},init:function(f){typeof f=="string"?this.state(f):this.sow(f)},sow:function(f){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!f)for(var h=0;h<f.length&&f[h]!=null;h++){var u=f[h];this.s0-=this.hash(u),this.s0+=~~(this.s0<0),this.s1-=this.hash(u),this.s1+=~~(this.s1<0),this.s2-=this.hash(u),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(f,h){return Math.floor(this.realInRange(0,h-f+1)+f)},between:function(f,h){return Math.floor(this.realInRange(0,h-f+1)+f)},realInRange:function(f,h){return this.frac()*(h-f)+f},normal:function(){return 1-2*this.frac()},uuid:function(){var f="",h="";for(h=f="";f++<36;h+=~f%5|f*3&4?(f^15?8^this.frac()*(f^20?16:4):4).toString(16):"-");return h},pick:function(f){return f[this.integerInRange(0,f.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(f){return f[~~(Math.pow(this.frac(),2)*(f.length-.5)+.5)]},timestamp:function(f,h){return this.realInRange(f||9466848e5,h||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(f){return typeof f=="string"&&f.match(/^!rnd/)&&(f=f.split(","),this.c=parseFloat(f[1]),this.s0=parseFloat(f[2]),this.s1=parseFloat(f[3]),this.s2=parseFloat(f[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(f){for(var h=f.length-1,u=h;u>0;u--){var o=Math.floor(this.frac()*(u+1)),d=f[o];f[o]=f[u],f[u]=d}return f}});s.exports=v},63448:s=>{var g=function(i,a,v,f){return v===void 0&&(v=0),a===0?i:(i-=v,i=a*Math.ceil(i/a),f?(v+i)/a:v+i)};s.exports=g},56583:s=>{var g=function(i,a,v,f){return v===void 0&&(v=0),a===0?i:(i-=v,i=a*Math.floor(i/a),f?(v+i)/a:v+i)};s.exports=g},77720:s=>{var g=function(i,a,v,f){return v===void 0&&(v=0),a===0?i:(i-=v,i=a*Math.round(i/a),f?(v+i)/a:v+i)};s.exports=g},73697:(s,g,i)=>{s.exports={Ceil:i(63448),Floor:i(56583),To:i(77720)}},85454:(s,g,i)=>{i(63595);var a=i(8054),v=i(79291),f={Actions:i(61061),Animations:i(60421),BlendModes:i(10312),Cache:i(83388),Cameras:i(26638),Core:i(42857),Class:i(83419),Create:i(15822),Curves:i(25410),Data:i(44965),Display:i(27460),DOM:i(84902),Events:i(93055),FX:i(66064),Game:i(50127),GameObjects:i(77856),Geom:i(55738),Input:i(14350),Loader:i(57777),Math:i(75508),Physics:i(44563),Plugins:i(18922),Renderer:i(36909),Scale:i(93364),ScaleModes:i(29795),Scene:i(97482),Scenes:i(62194),Structs:i(41392),Textures:i(27458),Tilemaps:i(62501),Time:i(90291),Tweens:i(43066),Utils:i(91799)};f.Sound=i(23717),f=v(!1,f,a),s.exports=f,i.g.Phaser=f},71289:(s,g,i)=>{var a=i(83419),v=i(92209),f=i(88571),h=new a({Extends:f,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(o,d,p,l,m){f.call(this,o,d,p,l,m),this.body=null}});s.exports=h},86689:(s,g,i)=>{var a=i(83419),v=i(39506),f=i(20339),h=i(89774),u=i(66022),o=i(95540),d=i(46975),p=i(72441),l=i(47956),m=i(37277),y=i(44594),x=i(26099),b=i(82248),w=new a({initialize:function(E){this.scene=E,this.systems=E.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,E.sys.events.once(y.BOOT,this.boot,this),E.sys.events.on(y.START,this.start,this)},boot:function(){this.world=new b(this.scene,this.config),this.add=new u(this.world),this.systems.events.once(y.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new b(this.scene,this.config),this.add=new u(this.world));var C=this.systems.events;o(this.config,"customUpdate",!1)||C.on(y.UPDATE,this.world.update,this.world),C.on(y.POST_UPDATE,this.world.postUpdate,this.world),C.once(y.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(y.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(y.UPDATE,this.world.update,this.world)},getConfig:function(){var C=this.systems.game.config.physics,E=this.systems.settings.physics,T=d(o(E,"arcade",{}),o(C,"arcade",{}));return T},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(C,E,T,k,P){return T===void 0&&(T=null),k===void 0&&(k=null),P===void 0&&(P=T),this.world.collideObjects(C,E,T,k,P,!0)},collide:function(C,E,T,k,P){return T===void 0&&(T=null),k===void 0&&(k=null),P===void 0&&(P=T),this.world.collideObjects(C,E,T,k,P,!1)},collideTiles:function(C,E,T,k,P){return this.world.collideTiles(C,E,T,k,P)},overlapTiles:function(C,E,T,k,P){return this.world.overlapTiles(C,E,T,k,P)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(C,E,T,k,P,R){k===void 0&&(k=60);var M=Math.atan2(T-C.y,E-C.x);return C.body.acceleration.setToPolar(M,k),P!==void 0&&R!==void 0&&C.body.maxVelocity.set(P,R),M},accelerateToObject:function(C,E,T,k,P){return this.accelerateTo(C,E.x,E.y,T,k,P)},closest:function(C,E){E||(E=this.world.bodies.entries);for(var T=Number.MAX_VALUE,k=null,P=C.x,R=C.y,M=E.length,I=0;I<M;I++){var B=E[I],D=B.body||B;if(!(C===B||C===D||C===D.gameObject||C===D.center)){var N=h(P,R,D.center.x,D.center.y);N<T&&(k=B,T=N)}}return k},furthest:function(C,E){E||(E=this.world.bodies.entries);for(var T=-1,k=null,P=C.x,R=C.y,M=E.length,I=0;I<M;I++){var B=E[I],D=B.body||B;if(!(C===B||C===D||C===D.gameObject||C===D.center)){var N=h(P,R,D.center.x,D.center.y);N>T&&(k=B,T=N)}}return k},moveTo:function(C,E,T,k,P){k===void 0&&(k=60),P===void 0&&(P=0);var R=Math.atan2(T-C.y,E-C.x);return P>0&&(k=f(C.x,C.y,E,T)/(P/1e3)),C.body.velocity.setToPolar(R,k),R},moveToObject:function(C,E,T,k){return this.moveTo(C,E.x,E.y,T,k)},velocityFromAngle:function(C,E,T){return E===void 0&&(E=60),T===void 0&&(T=new x),T.setToPolar(v(C),E)},velocityFromRotation:function(C,E,T){return E===void 0&&(E=60),T===void 0&&(T=new x),T.setToPolar(C,E)},overlapRect:function(C,E,T,k,P,R){return l(this.world,C,E,T,k,P,R)},overlapCirc:function(C,E,T,k,P){return p(this.world,C,E,T,k,P)},shutdown:function(){if(this.world){var C=this.systems.events;C.off(y.UPDATE,this.world.update,this.world),C.off(y.POST_UPDATE,this.world.postUpdate,this.world),C.off(y.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(y.START,this.start,this),this.scene=null,this.systems=null}});m.register("ArcadePhysics",w,"arcadePhysics"),s.exports=w},13759:(s,g,i)=>{var a=i(83419),v=i(92209),f=i(68287),h=new a({Extends:f,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(o,d,p,l,m){f.call(this,o,d,p,l,m),this.body=null}});s.exports=h},37742:(s,g,i)=>{var a=i(83419),v=i(78389),f=i(37747),h=i(63012),u=i(43396),o=i(87841),d=i(37303),p=i(95829),l=i(26099),m=new a({Mixins:[v],initialize:function(x,b){var w=64,C=64,E={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},T=b!==void 0;T&&b.displayWidth&&(w=b.displayWidth,C=b.displayHeight),T||(b=E),this.world=x,this.gameObject=T?b:void 0,this.isBody=!0,this.transform={x:b.x,y:b.y,rotation:b.angle,scaleX:b.scaleX,scaleY:b.scaleY,displayOriginX:b.displayOriginX,displayOriginY:b.displayOriginY},this.debugShowBody=x.defaults.debugShowBody,this.debugShowVelocity=x.defaults.debugShowVelocity,this.debugBodyColor=x.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new l,this.position=new l(b.x-b.scaleX*b.displayOriginX,b.y-b.scaleY*b.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=b.angle,this.preRotation=b.angle,this.width=w,this.height=C,this.sourceWidth=w,this.sourceHeight=C,b.frame&&(this.sourceWidth=b.frame.realWidth,this.sourceHeight=b.frame.realHeight),this.halfWidth=Math.abs(w/2),this.halfHeight=Math.abs(C/2),this.center=new l(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new l,this.newVelocity=new l,this.deltaMax=new l,this.acceleration=new l,this.allowDrag=!0,this.drag=new l,this.allowGravity=!0,this.gravity=new l,this.bounce=new l,this.worldBounce=null,this.customBoundsRectangle=x.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new l(1e4,1e4),this.maxSpeed=-1,this.friction=new l(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=f.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new l(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=p(!1),this.touching=p(!0),this.wasTouching=p(!0),this.blocked=p(!0),this.syncBounds=!1,this.physicsType=f.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=b.scaleX,this._sy=b.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new o,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var y=this.gameObject,x=this.transform;if(y.parentContainer){var b=y.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);x.x=b.tx,x.y=b.ty,x.rotation=u(b.rotation),x.scaleX=b.scaleX,x.scaleY=b.scaleY,x.displayOriginX=y.displayOriginX,x.displayOriginY=y.displayOriginY}else x.x=y.x,x.y=y.y,x.rotation=y.angle,x.scaleX=y.scaleX,x.scaleY=y.scaleY,x.displayOriginX=y.displayOriginX,x.displayOriginY=y.displayOriginY;var w=!1;if(this.syncBounds){var C=y.getBounds(this._bounds);this.width=C.width,this.height=C.height,w=!0}else{var E=Math.abs(x.scaleX),T=Math.abs(x.scaleY);(this._sx!==E||this._sy!==T)&&(this.width=this.sourceWidth*E,this.height=this.sourceHeight*T,this._sx=E,this._sy=T,w=!0)}w&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var y=this.transform;this.position.x=y.x+y.scaleX*(this.offset.x-y.displayOriginX),this.position.y=y.y+y.scaleY*(this.offset.y-y.displayOriginY),this.updateCenter()},resetFlags:function(y){y===void 0&&(y=!1);var x=this.wasTouching,b=this.touching,w=this.blocked;y?p(!0,x):(x.none=b.none,x.up=b.up,x.down=b.down,x.left=b.left,x.right=b.right),p(!0,b),p(!0,w),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(y,x){if(y&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var b=this.position;this.prev.x=b.x,this.prev.y=b.y,this.prevFrame.x=b.x,this.prevFrame.y=b.y}y&&this.update(x)},update:function(y){var x=this.prev,b=this.position,w=this.velocity;if(x.set(b.x,b.y),!this.moves){this._dx=b.x-x.x,this._dy=b.y-x.y;return}if(this.directControl){var C=this.autoFrame;w.set((b.x-C.x)/y,(b.y-C.y)/y),this.world.updateMotion(this,y),this._dx=b.x-C.x,this._dy=b.y-C.y}else this.world.updateMotion(this,y),this.newVelocity.set(w.x*y,w.y*y),b.add(this.newVelocity),this._dx=b.x-x.x,this._dy=b.y-x.y;var E=w.x,T=w.y;if(this.updateCenter(),this.angle=Math.atan2(T,E),this.speed=Math.sqrt(E*E+T*T),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var k=this.blocked;this.world.emit(h.WORLD_BOUNDS,this,k.up,k.down,k.left,k.right)}},postUpdate:function(){var y=this.position,x=y.x-this.prevFrame.x,b=y.y-this.prevFrame.y,w=this.gameObject;if(this.moves){var C=this.deltaMax.x,E=this.deltaMax.y;C!==0&&x!==0&&(x<0&&x<-C?x=-C:x>0&&x>C&&(x=C)),E!==0&&b!==0&&(b<0&&b<-E?b=-E:b>0&&b>E&&(b=E)),w&&(w.x+=x,w.y+=b)}x<0?this.facing=f.FACING_LEFT:x>0&&(this.facing=f.FACING_RIGHT),b<0?this.facing=f.FACING_UP:b>0&&(this.facing=f.FACING_DOWN),this.allowRotation&&w&&(w.angle+=this.deltaZ()),this._tx=x,this._ty=b,this.autoFrame.set(y.x,y.y)},setBoundsRectangle:function(y){return this.customBoundsRectangle=y||this.world.bounds,this},checkWorldBounds:function(){var y=this.position,x=this.velocity,b=this.blocked,w=this.customBoundsRectangle,C=this.world.checkCollision,E=this.worldBounce?-this.worldBounce.x:-this.bounce.x,T=this.worldBounce?-this.worldBounce.y:-this.bounce.y,k=!1;return y.x<w.x&&C.left?(y.x=w.x,x.x*=E,b.left=!0,k=!0):this.right>w.right&&C.right&&(y.x=w.right-this.width,x.x*=E,b.right=!0,k=!0),y.y<w.y&&C.up?(y.y=w.y,x.y*=T,b.up=!0,k=!0):this.bottom>w.bottom&&C.down&&(y.y=w.bottom-this.height,x.y*=T,b.down=!0,k=!0),k&&(this.blocked.none=!1,this.updateCenter()),k},setOffset:function(y,x){return x===void 0&&(x=y),this.offset.set(y,x),this},setGameObject:function(y,x){return x===void 0&&(x=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=y,y.body&&(y.body=this),this.setSize(),this.world.add(this),this.enable=x,this},setSize:function(y,x,b){b===void 0&&(b=!0);var w=this.gameObject;if(w&&(!y&&w.frame&&(y=w.frame.realWidth),!x&&w.frame&&(x=w.frame.realHeight)),this.sourceWidth=y,this.sourceHeight=x,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),b&&w&&w.getCenter){var C=(w.width-y)/2,E=(w.height-x)/2;this.offset.set(C,E)}return this.isCircle=!1,this.radius=0,this},setCircle:function(y,x,b){return x===void 0&&(x=this.offset.x),b===void 0&&(b=this.offset.y),y>0?(this.isCircle=!0,this.radius=y,this.sourceWidth=y*2,this.sourceHeight=y*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(x,b),this.updateCenter()):this.isCircle=!1,this},reset:function(y,x){this.stop();var b=this.gameObject;b&&(b.setPosition(y,x),this.rotation=b.angle,this.preRotation=b.angle);var w=this.position;b&&b.getTopLeft?b.getTopLeft(w):w.set(y,x),this.prev.copy(w),this.prevFrame.copy(w),this.autoFrame.copy(w),b&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(y){return y.x=this.x,y.y=this.y,y.right=this.right,y.bottom=this.bottom,y},hitTest:function(y,x){if(!this.isCircle)return d(this,y,x);if(this.radius>0&&y>=this.left&&y<=this.right&&x>=this.top&&x<=this.bottom){var b=(this.center.x-y)*(this.center.x-y),w=(this.center.y-x)*(this.center.y-x);return b+w<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(y){var x=this.position,b=x.x+this.halfWidth,w=x.y+this.halfHeight;this.debugShowBody&&(y.lineStyle(y.defaultStrokeWidth,this.debugBodyColor),this.isCircle?y.strokeCircle(b,w,this.width/2):(this.checkCollision.up&&y.lineBetween(x.x,x.y,x.x+this.width,x.y),this.checkCollision.right&&y.lineBetween(x.x+this.width,x.y,x.x+this.width,x.y+this.height),this.checkCollision.down&&y.lineBetween(x.x,x.y+this.height,x.x+this.width,x.y+this.height),this.checkCollision.left&&y.lineBetween(x.x,x.y,x.x,x.y+this.height))),this.debugShowVelocity&&(y.lineStyle(y.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),y.lineBetween(b,w,b+this.velocity.x/2,w+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(y){return y===void 0&&(y=!0),this.directControl=y,this},setCollideWorldBounds:function(y,x,b,w){y===void 0&&(y=!0),this.collideWorldBounds=y;var C=x!==void 0,E=b!==void 0;return(C||E)&&(this.worldBounce||(this.worldBounce=new l),C&&(this.worldBounce.x=x),E&&(this.worldBounce.y=b)),w!==void 0&&(this.onWorldBounds=w),this},setVelocity:function(y,x){return this.velocity.set(y,x),y=this.velocity.x,x=this.velocity.y,this.speed=Math.sqrt(y*y+x*x),this},setVelocityX:function(y){return this.setVelocity(y,this.velocity.y)},setVelocityY:function(y){return this.setVelocity(this.velocity.x,y)},setMaxVelocity:function(y,x){return this.maxVelocity.set(y,x),this},setMaxVelocityX:function(y){return this.maxVelocity.x=y,this},setMaxVelocityY:function(y){return this.maxVelocity.y=y,this},setMaxSpeed:function(y){return this.maxSpeed=y,this},setSlideFactor:function(y,x){return this.slideFactor.set(y,x),this},setBounce:function(y,x){return this.bounce.set(y,x),this},setBounceX:function(y){return this.bounce.x=y,this},setBounceY:function(y){return this.bounce.y=y,this},setAcceleration:function(y,x){return this.acceleration.set(y,x),this},setAccelerationX:function(y){return this.acceleration.x=y,this},setAccelerationY:function(y){return this.acceleration.y=y,this},setAllowDrag:function(y){return y===void 0&&(y=!0),this.allowDrag=y,this},setAllowGravity:function(y){return y===void 0&&(y=!0),this.allowGravity=y,this},setAllowRotation:function(y){return y===void 0&&(y=!0),this.allowRotation=y,this},setDrag:function(y,x){return this.drag.set(y,x),this},setDamping:function(y){return this.useDamping=y,this},setDragX:function(y){return this.drag.x=y,this},setDragY:function(y){return this.drag.y=y,this},setGravity:function(y,x){return this.gravity.set(y,x),this},setGravityX:function(y){return this.gravity.x=y,this},setGravityY:function(y){return this.gravity.y=y,this},setFriction:function(y,x){return this.friction.set(y,x),this},setFrictionX:function(y){return this.friction.x=y,this},setFrictionY:function(y){return this.friction.y=y,this},setAngularVelocity:function(y){return this.angularVelocity=y,this},setAngularAcceleration:function(y){return this.angularAcceleration=y,this},setAngularDrag:function(y){return this.angularDrag=y,this},setMass:function(y){return this.mass=y,this},setImmovable:function(y){return y===void 0&&(y=!0),this.immovable=y,this},setEnable:function(y){return y===void 0&&(y=!0),this.enable=y,this},processX:function(y,x,b,w){this.x+=y,this.updateCenter(),x!==null&&(this.velocity.x=x*this.slideFactor.x);var C=this.blocked;b&&(C.left=!0,C.none=!1),w&&(C.right=!0,C.none=!1)},processY:function(y,x,b,w){this.y+=y,this.updateCenter(),x!==null&&(this.velocity.y=x*this.slideFactor.y);var C=this.blocked;b&&(C.up=!0,C.none=!1),w&&(C.down=!0,C.none=!1)},x:{get:function(){return this.position.x},set:function(y){this.position.x=y}},y:{get:function(){return this.position.y},set:function(y){this.position.y=y}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});s.exports=m},79342:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u,o,d,p,l,m){this.world=h,this.name="",this.active=!0,this.overlapOnly=u,this.object1=o,this.object2=d,this.collideCallback=p,this.processCallback=l,this.callbackContext=m},setName:function(f){return this.name=f,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});s.exports=v},66022:(s,g,i)=>{var a=i(71289),v=i(13759),f=i(37742),h=i(83419),u=i(37747),o=i(60758),d=i(72624),p=i(71464),l=new h({initialize:function(y){this.world=y,this.scene=y.scene,this.sys=y.scene.sys},collider:function(m,y,x,b,w){return this.world.addCollider(m,y,x,b,w)},overlap:function(m,y,x,b,w){return this.world.addOverlap(m,y,x,b,w)},existing:function(m,y){var x=y?u.STATIC_BODY:u.DYNAMIC_BODY;return this.world.enableBody(m,x),m},staticImage:function(m,y,x,b){var w=new a(this.scene,m,y,x,b);return this.sys.displayList.add(w),this.world.enableBody(w,u.STATIC_BODY),w},image:function(m,y,x,b){var w=new a(this.scene,m,y,x,b);return this.sys.displayList.add(w),this.world.enableBody(w,u.DYNAMIC_BODY),w},staticSprite:function(m,y,x,b){var w=new v(this.scene,m,y,x,b);return this.sys.displayList.add(w),this.sys.updateList.add(w),this.world.enableBody(w,u.STATIC_BODY),w},sprite:function(m,y,x,b){var w=new v(this.scene,m,y,x,b);return this.sys.displayList.add(w),this.sys.updateList.add(w),this.world.enableBody(w,u.DYNAMIC_BODY),w},staticGroup:function(m,y){return this.sys.updateList.add(new p(this.world,this.world.scene,m,y))},group:function(m,y){return this.sys.updateList.add(new o(this.world,this.world.scene,m,y))},body:function(m,y,x,b){var w=new f(this.world);return w.position.set(m,y),x&&b&&w.setSize(x,b),this.world.add(w,u.DYNAMIC_BODY),w},staticBody:function(m,y,x,b){var w=new d(this.world);return w.position.set(m,y),x&&b&&w.setSize(x,b),this.world.add(w,u.STATIC_BODY),w},destroy:function(){this.world=null,this.scene=null,this.sys=null}});s.exports=l},79599:s=>{var g=function(i){var a=0;if(!Array.isArray(i))a=i;else for(var v=0;v<i.length;v++)a|=i[v];return a};s.exports=g},64897:(s,g,i)=>{var a=i(37747),v=function(f,h,u,o){var d=0,p=f.deltaAbsX()+h.deltaAbsX()+o;return f._dx===0&&h._dx===0?(f.embedded=!0,h.embedded=!0):f._dx>h._dx?(d=f.right-h.x,d>p&&!u||f.checkCollision.right===!1||h.checkCollision.left===!1?d=0:(f.touching.none=!1,f.touching.right=!0,h.touching.none=!1,h.touching.left=!0,h.physicsType===a.STATIC_BODY&&!u&&(f.blocked.none=!1,f.blocked.right=!0),f.physicsType===a.STATIC_BODY&&!u&&(h.blocked.none=!1,h.blocked.left=!0))):f._dx<h._dx&&(d=f.x-h.width-h.x,-d>p&&!u||f.checkCollision.left===!1||h.checkCollision.right===!1?d=0:(f.touching.none=!1,f.touching.left=!0,h.touching.none=!1,h.touching.right=!0,h.physicsType===a.STATIC_BODY&&!u&&(f.blocked.none=!1,f.blocked.left=!0),f.physicsType===a.STATIC_BODY&&!u&&(h.blocked.none=!1,h.blocked.right=!0))),f.overlapX=d,h.overlapX=d,d};s.exports=v},45170:(s,g,i)=>{var a=i(37747),v=function(f,h,u,o){var d=0,p=f.deltaAbsY()+h.deltaAbsY()+o;return f._dy===0&&h._dy===0?(f.embedded=!0,h.embedded=!0):f._dy>h._dy?(d=f.bottom-h.y,d>p&&!u||f.checkCollision.down===!1||h.checkCollision.up===!1?d=0:(f.touching.none=!1,f.touching.down=!0,h.touching.none=!1,h.touching.up=!0,h.physicsType===a.STATIC_BODY&&!u&&(f.blocked.none=!1,f.blocked.down=!0),f.physicsType===a.STATIC_BODY&&!u&&(h.blocked.none=!1,h.blocked.up=!0))):f._dy<h._dy&&(d=f.y-h.bottom,-d>p&&!u||f.checkCollision.up===!1||h.checkCollision.down===!1?d=0:(f.touching.none=!1,f.touching.up=!0,h.touching.none=!1,h.touching.down=!0,h.physicsType===a.STATIC_BODY&&!u&&(f.blocked.none=!1,f.blocked.up=!0),f.physicsType===a.STATIC_BODY&&!u&&(h.blocked.none=!1,h.blocked.down=!0))),f.overlapY=d,h.overlapY=d,d};s.exports=v},60758:(s,g,i)=>{var a=i(13759),v=i(83419),f=i(78389),h=i(37747),u=i(95540),o=i(26479),d=i(41212),p=new v({Extends:o,Mixins:[f],initialize:function(m,y,x,b){if(!x&&!b)b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(d(x))b=x,x=null,b.internalCreateCallback=this.createCallbackHandler,b.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(x)&&d(x[0])){var w=this;x.forEach(function(C){C.internalCreateCallback=w.createCallbackHandler,C.internalRemoveCallback=w.removeCallbackHandler,C.classType=u(C,"classType",a)}),b=null}else b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=m,b&&(b.classType=u(b,"classType",a)),this.physicsType=h.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:u(b,"collideWorldBounds",!1),setBoundsRectangle:u(b,"customBoundsRectangle",null),setAccelerationX:u(b,"accelerationX",0),setAccelerationY:u(b,"accelerationY",0),setAllowDrag:u(b,"allowDrag",!0),setAllowGravity:u(b,"allowGravity",!0),setAllowRotation:u(b,"allowRotation",!0),setDamping:u(b,"useDamping",!1),setBounceX:u(b,"bounceX",0),setBounceY:u(b,"bounceY",0),setDragX:u(b,"dragX",0),setDragY:u(b,"dragY",0),setEnable:u(b,"enable",!0),setGravityX:u(b,"gravityX",0),setGravityY:u(b,"gravityY",0),setFrictionX:u(b,"frictionX",0),setFrictionY:u(b,"frictionY",0),setMaxSpeed:u(b,"maxSpeed",-1),setMaxVelocityX:u(b,"maxVelocityX",1e4),setMaxVelocityY:u(b,"maxVelocityY",1e4),setVelocityX:u(b,"velocityX",0),setVelocityY:u(b,"velocityY",0),setAngularVelocity:u(b,"angularVelocity",0),setAngularAcceleration:u(b,"angularAcceleration",0),setAngularDrag:u(b,"angularDrag",0),setMass:u(b,"mass",1),setImmovable:u(b,"immovable",!1)},o.call(this,y,x,b),this.type="PhysicsGroup"},createCallbackHandler:function(l){l.body||this.world.enableBody(l,h.DYNAMIC_BODY);var m=l.body;for(var y in this.defaults)m[y](this.defaults[y])},removeCallbackHandler:function(l){l.body&&this.world.disableBody(l)},setVelocity:function(l,m,y){y===void 0&&(y=0);for(var x=this.getChildren(),b=0;b<x.length;b++)x[b].body.velocity.set(l+b*y,m+b*y);return this},setVelocityX:function(l,m){m===void 0&&(m=0);for(var y=this.getChildren(),x=0;x<y.length;x++)y[x].body.velocity.x=l+x*m;return this},setVelocityY:function(l,m){m===void 0&&(m=0);for(var y=this.getChildren(),x=0;x<y.length;x++)y[x].body.velocity.y=l+x*m;return this}});s.exports=p},3017:s=>{var g,i,a,v,f,h,u,o,d,p,l,m,y,x,b,w,C,E=function(I,B,D){g=I,i=B;var N=g.velocity.x,_=i.velocity.x;return a=g.pushable,d=g._dx<0,p=g._dx>0,l=g._dx===0,b=Math.abs(g.right-i.x)<=Math.abs(i.right-g.x),u=_-N*g.bounce.x,v=i.pushable,m=i._dx<0,y=i._dx>0,x=i._dx===0,w=!b,o=N-_*i.bounce.x,C=Math.abs(D),T()},T=function(){return p&&b&&i.blocked.right?(g.processX(-C,u,!1,!0),1):d&&w&&i.blocked.left?(g.processX(C,u,!0),1):y&&w&&g.blocked.right?(i.processX(-C,o,!1,!0),2):m&&b&&g.blocked.left?(i.processX(C,o,!0),2):0},k=function(){var I=g.velocity.x,B=i.velocity.x,D=Math.sqrt(B*B*i.mass/g.mass)*(B>0?1:-1),N=Math.sqrt(I*I*g.mass/i.mass)*(I>0?1:-1),_=(D+N)*.5;return D-=_,N-=_,f=_+D*g.bounce.x,h=_+N*i.bounce.x,d&&w?P(0):m&&b?P(1):p&&b?P(2):y&&w?P(3):!1},P=function(I){if(a&&v)C*=.5,I===0||I===3?(g.processX(C,f),i.processX(-C,h)):(g.processX(-C,f),i.processX(C,h));else if(a&&!v)I===0||I===3?g.processX(C,u,!0):g.processX(-C,u,!1,!0);else if(!a&&v)I===0||I===3?i.processX(-C,o,!1,!0):i.processX(C,o,!0);else{var B=C*.5;I===0?x?(g.processX(C,0,!0),i.processX(0,null,!1,!0)):y?(g.processX(B,0,!0),i.processX(-B,0,!1,!0)):(g.processX(B,i.velocity.x,!0),i.processX(-B,null,!1,!0)):I===1?l?(g.processX(0,null,!1,!0),i.processX(C,0,!0)):p?(g.processX(-B,0,!1,!0),i.processX(B,0,!0)):(g.processX(-B,null,!1,!0),i.processX(B,g.velocity.x,!0)):I===2?x?(g.processX(-C,0,!1,!0),i.processX(0,null,!0)):m?(g.processX(-B,0,!1,!0),i.processX(B,0,!0)):(g.processX(-B,i.velocity.x,!1,!0),i.processX(B,null,!0)):I===3&&(l?(g.processX(0,null,!0),i.processX(-C,0,!1,!0)):d?(g.processX(B,0,!0),i.processX(-B,0,!1,!0)):(g.processX(B,i.velocity.y,!0),i.processX(-B,null,!1,!0)))}return!0},R=function(I){I===1?i.velocity.x=0:b?i.processX(C,o,!0):i.processX(-C,o,!1,!0),g.moves&&(i.y+=(g.y-g.prev.y)*g.friction.y,i._dy=i.y-i.prev.y)},M=function(I){I===2?g.velocity.x=0:w?g.processX(C,u,!0):g.processX(-C,u,!1,!0),i.moves&&(g.y+=(i.y-i.prev.y)*i.friction.y,g._dy=g.y-g.prev.y)};s.exports={BlockCheck:T,Check:k,Set:E,Run:P,RunImmovableBody1:R,RunImmovableBody2:M}},47962:s=>{var g,i,a,v,f,h,u,o,d,p,l,m,y,x,b,w,C,E=function(I,B,D){g=I,i=B;var N=g.velocity.y,_=i.velocity.y;return a=g.pushable,d=g._dy<0,p=g._dy>0,l=g._dy===0,b=Math.abs(g.bottom-i.y)<=Math.abs(i.bottom-g.y),u=_-N*g.bounce.y,v=i.pushable,m=i._dy<0,y=i._dy>0,x=i._dy===0,w=!b,o=N-_*i.bounce.y,C=Math.abs(D),T()},T=function(){return p&&b&&i.blocked.down?(g.processY(-C,u,!1,!0),1):d&&w&&i.blocked.up?(g.processY(C,u,!0),1):y&&w&&g.blocked.down?(i.processY(-C,o,!1,!0),2):m&&b&&g.blocked.up?(i.processY(C,o,!0),2):0},k=function(){var I=g.velocity.y,B=i.velocity.y,D=Math.sqrt(B*B*i.mass/g.mass)*(B>0?1:-1),N=Math.sqrt(I*I*g.mass/i.mass)*(I>0?1:-1),_=(D+N)*.5;return D-=_,N-=_,f=_+D*g.bounce.y,h=_+N*i.bounce.y,d&&w?P(0):m&&b?P(1):p&&b?P(2):y&&w?P(3):!1},P=function(I){if(a&&v)C*=.5,I===0||I===3?(g.processY(C,f),i.processY(-C,h)):(g.processY(-C,f),i.processY(C,h));else if(a&&!v)I===0||I===3?g.processY(C,u,!0):g.processY(-C,u,!1,!0);else if(!a&&v)I===0||I===3?i.processY(-C,o,!1,!0):i.processY(C,o,!0);else{var B=C*.5;I===0?x?(g.processY(C,0,!0),i.processY(0,null,!1,!0)):y?(g.processY(B,0,!0),i.processY(-B,0,!1,!0)):(g.processY(B,i.velocity.y,!0),i.processY(-B,null,!1,!0)):I===1?l?(g.processY(0,null,!1,!0),i.processY(C,0,!0)):p?(g.processY(-B,0,!1,!0),i.processY(B,0,!0)):(g.processY(-B,null,!1,!0),i.processY(B,g.velocity.y,!0)):I===2?x?(g.processY(-C,0,!1,!0),i.processY(0,null,!0)):m?(g.processY(-B,0,!1,!0),i.processY(B,0,!0)):(g.processY(-B,i.velocity.y,!1,!0),i.processY(B,null,!0)):I===3&&(l?(g.processY(0,null,!0),i.processY(-C,0,!1,!0)):d?(g.processY(B,0,!0),i.processY(-B,0,!1,!0)):(g.processY(B,i.velocity.y,!0),i.processY(-B,null,!1,!0)))}return!0},R=function(I){I===1?i.velocity.y=0:b?i.processY(C,o,!0):i.processY(-C,o,!1,!0),g.moves&&(i.x+=(g.x-g.prev.x)*g.friction.x,i._dx=i.x-i.prev.x)},M=function(I){I===2?g.velocity.y=0:w?g.processY(C,u,!0):g.processY(-C,u,!1,!0),i.moves&&(g.x+=(i.x-i.prev.x)*i.friction.x,g._dx=g.x-g.prev.x)};s.exports={BlockCheck:T,Check:k,Set:E,Run:P,RunImmovableBody1:R,RunImmovableBody2:M}},14087:(s,g,i)=>{var a=i(64897),v=i(3017),f=function(h,u,o,d,p){p===void 0&&(p=a(h,u,o,d));var l=h.immovable,m=u.immovable;if(o||p===0||l&&m||h.customSeparateX||u.customSeparateX)return p!==0||h.embedded&&u.embedded;var y=v.Set(h,u,p);return!l&&!m?y>0?!0:v.Check():(l?v.RunImmovableBody1(y):m&&v.RunImmovableBody2(y),!0)};s.exports=f},89936:(s,g,i)=>{var a=i(45170),v=i(47962),f=function(h,u,o,d,p){p===void 0&&(p=a(h,u,o,d));var l=h.immovable,m=u.immovable;if(o||p===0||l&&m||h.customSeparateY||u.customSeparateY)return p!==0||h.embedded&&u.embedded;var y=v.Set(h,u,p);return!l&&!m?y>0?!0:v.Check():(l?v.RunImmovableBody1(y):m&&v.RunImmovableBody2(y),!0)};s.exports=f},95829:s=>{var g=function(i,a){return a===void 0&&(a={}),a.none=i,a.up=!1,a.down=!1,a.left=!1,a.right=!1,i||(a.up=!0,a.down=!0,a.left=!0,a.right=!0),a};s.exports=g},72624:(s,g,i)=>{var a=i(87902),v=i(83419),f=i(78389),h=i(37747),u=i(37303),o=i(95829),d=i(26099),p=new v({Mixins:[f],initialize:function(m,y){var x=64,b=64,w={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},C=y!==void 0;C&&y.displayWidth&&(x=y.displayWidth,b=y.displayHeight),C||(y=w),this.world=m,this.gameObject=C?y:void 0,this.isBody=!0,this.debugShowBody=m.defaults.debugShowStaticBody,this.debugBodyColor=m.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new d,this.position=new d(y.x-x*y.originX,y.y-b*y.originY),this.width=x,this.height=b,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new d(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=d.ZERO,this.allowGravity=!1,this.gravity=d.ZERO,this.bounce=d.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=o(!1),this.touching=o(!0),this.wasTouching=o(!0),this.blocked=o(!0),this.physicsType=h.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(l,m){return l&&l!==this.gameObject&&(this.gameObject.body=null,l.body=this,this.gameObject=l),m&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var l=this.gameObject;return l.getTopLeft(this.position),this.width=l.displayWidth,this.height=l.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(l,m){return m===void 0&&(m=l),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(l,m),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(l,m,y){y===void 0&&(y=!0);var x=this.gameObject;if(x&&x.frame&&(l||(l=x.frame.realWidth),m||(m=x.frame.realHeight)),this.world.staticTree.remove(this),this.width=l,this.height=m,this.halfWidth=Math.floor(l/2),this.halfHeight=Math.floor(m/2),y&&x&&x.getCenter){var b=x.displayWidth/2,w=x.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(b-this.halfWidth,w-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(l,m,y){return m===void 0&&(m=this.offset.x),y===void 0&&(y=this.offset.y),l>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=l,this.width=l*2,this.height=l*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(m,y),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(l,m){var y=this.gameObject;l===void 0&&(l=y.x),m===void 0&&(m=y.y),this.world.staticTree.remove(this),y.setPosition(l,m),y.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(l){return l.x=this.x,l.y=this.y,l.right=this.right,l.bottom=this.bottom,l},hitTest:function(l,m){return this.isCircle?a(this,l,m):u(this,l,m)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(l){var m=this.position,y=m.x+this.halfWidth,x=m.y+this.halfHeight;this.debugShowBody&&(l.lineStyle(l.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?l.strokeCircle(y,x,this.width/2):l.strokeRect(m.x,m.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(l){return l<=0&&(l=.1),this.mass=l,this},x:{get:function(){return this.position.x},set:function(l){this.world.staticTree.remove(this),this.position.x=l,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(l){this.world.staticTree.remove(this),this.position.y=l,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});s.exports=p},71464:(s,g,i)=>{var a=i(13759),v=i(83419),f=i(78389),h=i(37747),u=i(95540),o=i(26479),d=i(41212),p=new v({Extends:o,Mixins:[f],initialize:function(m,y,x,b){!x&&!b?b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:a}:d(x)?(b=x,x=null,b.internalCreateCallback=this.createCallbackHandler,b.internalRemoveCallback=this.removeCallbackHandler,b.createMultipleCallback=this.createMultipleCallbackHandler,b.classType=u(b,"classType",a)):Array.isArray(x)&&d(x[0])?(b=x,x=null,b.forEach(function(w){w.internalCreateCallback=this.createCallbackHandler,w.internalRemoveCallback=this.removeCallbackHandler,w.createMultipleCallback=this.createMultipleCallbackHandler,w.classType=u(w,"classType",a)})):b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=m,this.physicsType=h.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,o.call(this,y,x,b),this.type="StaticPhysicsGroup"},createCallbackHandler:function(l){l.body||this.world.enableBody(l,h.STATIC_BODY)},removeCallbackHandler:function(l){l.body&&this.world.disableBody(l)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var l=this.children.entries,m=0;m<l.length;m++)l[m].body.reset();return this}});s.exports=p},82248:(s,g,i)=>{var a=i(55495),v=i(37742),f=i(45319),h=i(83419),u=i(79342),o=i(37747),d=i(20339),p=i(52816),l=i(50792),m=i(63012),y=i(43855),x=i(5470),b=i(94977),w=i(64897),C=i(45170),E=i(96523),T=i(35154),k=i(36383),P=i(25774),R=i(96602),M=i(87841),I=i(59542),B=i(40012),D=i(14087),N=i(89936),_=i(35072),G=i(72624),$=i(2483),V=i(61340),Y=i(26099),U=i(15994),F=new h({Extends:l,initialize:function(j,z){l.call(this),this.scene=j,this.bodies=new _,this.staticBodies=new _,this.pendingDestroy=new _,this.colliders=new P,this.gravity=new Y(T(z,"gravity.x",0),T(z,"gravity.y",0)),this.bounds=new M(T(z,"x",0),T(z,"y",0),T(z,"width",j.sys.scale.width),T(z,"height",j.sys.scale.height)),this.checkCollision={up:T(z,"checkCollision.up",!0),down:T(z,"checkCollision.down",!0),left:T(z,"checkCollision.left",!0),right:T(z,"checkCollision.right",!0)},this.fps=T(z,"fps",60),this.fixedStep=T(z,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=T(z,"timeScale",1),this.OVERLAP_BIAS=T(z,"overlapBias",4),this.TILE_BIAS=T(z,"tileBias",16),this.forceX=T(z,"forceX",!1),this.isPaused=T(z,"isPaused",!1),this._total=0,this.drawDebug=T(z,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:T(z,"debugShowBody",!0),debugShowStaticBody:T(z,"debugShowStaticBody",!0),debugShowVelocity:T(z,"debugShowVelocity",!0),bodyDebugColor:T(z,"debugBodyColor",16711935),staticBodyDebugColor:T(z,"debugStaticBodyColor",255),velocityDebugColor:T(z,"debugVelocityColor",65280)},this.maxEntries=T(z,"maxEntries",16),this.useTree=T(z,"useTree",!0),this.tree=new I(this.maxEntries),this.staticTree=new I(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new V,this._tempMatrix2=new V,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(O,j){j===void 0&&(j=o.DYNAMIC_BODY),Array.isArray(O)||(O=[O]);for(var z=0;z<O.length;z++){var W=O[z];if(W.isParent)for(var q=W.getChildren(),ot=0;ot<q.length;ot++){var Q=q[ot];Q.isParent?this.enable(Q,j):this.enableBody(Q,j)}else this.enableBody(W,j)}},enableBody:function(O,j){return j===void 0&&(j=o.DYNAMIC_BODY),O.hasTransformComponent&&(O.body||(j===o.DYNAMIC_BODY?O.body=new v(this,O):j===o.STATIC_BODY&&(O.body=new G(this,O))),this.add(O.body)),O},add:function(O){return O.physicsType===o.DYNAMIC_BODY?this.bodies.set(O):O.physicsType===o.STATIC_BODY&&(this.staticBodies.set(O),this.staticTree.insert(O)),O.enable=!0,O},disable:function(O){Array.isArray(O)||(O=[O]);for(var j=0;j<O.length;j++){var z=O[j];if(z.isParent)for(var W=z.getChildren(),q=0;q<W.length;q++){var ot=W[q];ot.isParent?this.disable(ot):this.disableBody(ot.body)}else this.disableBody(z.body)}},disableBody:function(O){this.remove(O),O.enable=!1},remove:function(O){O.physicsType===o.DYNAMIC_BODY?(this.tree.remove(O),this.bodies.delete(O)):O.physicsType===o.STATIC_BODY&&(this.staticBodies.delete(O),this.staticTree.remove(O))},createDebugGraphic:function(){var O=this.scene.sys.add.graphics({x:0,y:0});return O.setDepth(Number.MAX_VALUE),this.debugGraphic=O,this.drawDebug=!0,O},setBounds:function(O,j,z,W,q,ot,Q,rt){return this.bounds.setTo(O,j,z,W),q!==void 0&&this.setBoundsCollision(q,ot,Q,rt),this},setBoundsCollision:function(O,j,z,W){return O===void 0&&(O=!0),j===void 0&&(j=!0),z===void 0&&(z=!0),W===void 0&&(W=!0),this.checkCollision.left=O,this.checkCollision.right=j,this.checkCollision.up=z,this.checkCollision.down=W,this},pause:function(){return this.isPaused=!0,this.emit(m.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(m.RESUME),this},addCollider:function(O,j,z,W,q){z===void 0&&(z=null),W===void 0&&(W=null),q===void 0&&(q=z);var ot=new u(this,!1,O,j,z,W,q);return this.colliders.add(ot),ot},addOverlap:function(O,j,z,W,q){z===void 0&&(z=null),W===void 0&&(W=null),q===void 0&&(q=z);var ot=new u(this,!0,O,j,z,W,q);return this.colliders.add(ot),ot},removeCollider:function(O){return this.colliders.remove(O),this},setFPS:function(O){return this.fps=O,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(O,j){if(!(this.isPaused||this.bodies.size===0)){var z,W=this._frameTime,q=this._frameTimeMS*this.timeScale;this._elapsed+=j;var ot,Q=this.bodies.entries,rt=this._elapsed>=q;for(this.fixedStep||(W=j*.001,rt=!0,this._elapsed=0),z=0;z<Q.length;z++)ot=Q[z],ot.enable&&ot.preUpdate(rt,W);if(rt){this._elapsed-=q,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Q));var Mt=this.colliders.update();for(z=0;z<Mt.length;z++){var K=Mt[z];K.active&&K.update()}this.emit(m.WORLD_STEP,W)}for(;this._elapsed>=q;)this._elapsed-=q,this.step(W)}},step:function(O){var j,z,W=this.bodies.entries,q=W.length;for(j=0;j<q;j++)z=W[j],z.enable&&z.update(O);this.useTree&&(this.tree.clear(),this.tree.load(W));var ot=this.colliders.update();for(j=0;j<ot.length;j++){var Q=ot[j];Q.active&&Q.update()}this.emit(m.WORLD_STEP,O),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var O,j,z=this.bodies.entries,W=z.length,q=this.bodies,ot=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,O=0;O<W;O++)j=z[O],j.enable&&j.postUpdate();if(this.drawDebug){var Q=this.debugGraphic;for(Q.clear(),O=0;O<W;O++)j=z[O],j.willDrawDebug()&&j.drawDebug(Q);for(z=ot.entries,W=z.length,O=0;O<W;O++)j=z[O],j.willDrawDebug()&&j.drawDebug(Q)}var rt=this.pendingDestroy;if(rt.size>0){var Mt=this.tree,K=this.staticTree;for(z=rt.entries,W=z.length,O=0;O<W;O++)j=z[O],j.physicsType===o.DYNAMIC_BODY?(Mt.remove(j),q.delete(j)):j.physicsType===o.STATIC_BODY&&(K.remove(j),ot.delete(j)),j.world=void 0,j.gameObject=void 0;rt.clear()}},updateMotion:function(O,j){O.allowRotation&&this.computeAngularVelocity(O,j),this.computeVelocity(O,j)},computeAngularVelocity:function(O,j){var z=O.angularVelocity,W=O.angularAcceleration,q=O.angularDrag,ot=O.maxAngular;W?z+=W*j:O.allowDrag&&q&&(q*=j,x(z-q,0,.1)?z-=q:b(z+q,0,.1)?z+=q:z=0),z=f(z,-ot,ot);var Q=z-O.angularVelocity;O.angularVelocity+=Q,O.rotation+=O.angularVelocity*j},computeVelocity:function(O,j){var z=O.velocity.x,W=O.acceleration.x,q=O.drag.x,ot=O.maxVelocity.x,Q=O.velocity.y,rt=O.acceleration.y,Mt=O.drag.y,K=O.maxVelocity.y,It=O.speed,Ft=O.maxSpeed,ft=O.allowDrag,yt=O.useDamping;O.allowGravity&&(z+=(this.gravity.x+O.gravity.x)*j,Q+=(this.gravity.y+O.gravity.y)*j),W?z+=W*j:ft&&q&&(yt?(q=Math.pow(q,j),z*=q,It=Math.sqrt(z*z+Q*Q),y(It,0,.001)&&(z=0)):(q*=j,x(z-q,0,.01)?z-=q:b(z+q,0,.01)?z+=q:z=0)),rt?Q+=rt*j:ft&&Mt&&(yt?(Mt=Math.pow(Mt,j),Q*=Mt,It=Math.sqrt(z*z+Q*Q),y(It,0,.001)&&(Q=0)):(Mt*=j,x(Q-Mt,0,.01)?Q-=Mt:b(Q+Mt,0,.01)?Q+=Mt:Q=0)),z=f(z,-ot,ot),Q=f(Q,-K,K),O.velocity.set(z,Q),Ft>-1&&O.velocity.length()>Ft&&(O.velocity.normalize().scale(Ft),It=Ft),O.speed=It},separate:function(O,j,z,W,q){var ot,Q,rt=!1,Mt=!0;if(!O.enable||!j.enable||O.checkCollision.none||j.checkCollision.none||!this.intersects(O,j)||z&&z.call(W,O.gameObject,j.gameObject)===!1)return rt;if(O.isCircle||j.isCircle){var K=this.separateCircle(O,j,q);K.result?(rt=!0,Mt=!1):(ot=K.x,Q=K.y,Mt=!0)}if(Mt){var It=!1,Ft=!1,ft=this.OVERLAP_BIAS;q?(It=D(O,j,q,ft,ot),Ft=N(O,j,q,ft,Q)):this.forceX||Math.abs(this.gravity.y+O.gravity.y)<Math.abs(this.gravity.x+O.gravity.x)?(It=D(O,j,q,ft,ot),this.intersects(O,j)&&(Ft=N(O,j,q,ft,Q))):(Ft=N(O,j,q,ft,Q),this.intersects(O,j)&&(It=D(O,j,q,ft,ot))),rt=It||Ft}return rt&&(q?(O.onOverlap||j.onOverlap)&&this.emit(m.OVERLAP,O.gameObject,j.gameObject,O,j):(O.onCollide||j.onCollide)&&this.emit(m.COLLIDE,O.gameObject,j.gameObject,O,j)),rt},separateCircle:function(O,j,z){w(O,j,!1,0),C(O,j,!1,0);var W=O.isCircle,q=j.isCircle,ot=O.center,Q=j.center,rt=O.immovable,Mt=j.immovable,K=O.velocity,It=j.velocity,Ft=0,ft=!0;if(W!==q){ft=!1;var yt=ot.x,At=ot.y,Bt=O.halfWidth,le=j.position.x,_t=j.position.y,xe=j.right,Ee=j.bottom;q&&(yt=Q.x,At=Q.y,Bt=j.halfWidth,le=O.position.x,_t=O.position.y,xe=O.right,Ee=O.bottom),At<_t?yt<le?Ft=d(yt,At,le,_t)-Bt:yt>xe&&(Ft=d(yt,At,xe,_t)-Bt):At>Ee&&(yt<le?Ft=d(yt,At,le,Ee)-Bt:yt>xe&&(Ft=d(yt,At,xe,Ee)-Bt)),Ft*=-1}else Ft=O.halfWidth+j.halfWidth-p(ot,Q);O.overlapR=Ft,j.overlapR=Ft;var ve=a(ot,Q),Fe=(Ft+k.EPSILON)*Math.cos(ve),Ze=(Ft+k.EPSILON)*Math.sin(ve),ei={overlap:Ft,result:!1,x:Fe,y:Ze};if(z&&(!ft||ft&&Ft!==0))return ei.result=!0,ei;if(!ft&&Ft===0||rt&&Mt||O.customSeparateX||j.customSeparateX)return ei.x=void 0,ei.y=void 0,ei;var Ci=!O.pushable&&!j.pushable;if(ft){var xt=ot.x-Q.x,et=ot.y-Q.y,tt=Math.sqrt(Math.pow(xt,2)+Math.pow(et,2)),Ot=(Q.x-ot.x)/tt||0,ie=(Q.y-ot.y)/tt||0,Ce=2*(K.x*Ot+K.y*ie-It.x*Ot-It.y*ie)/(O.mass+j.mass);(rt||Mt)&&(Ce*=2),rt||(K.x=K.x-Ce/O.mass*Ot,K.y=K.y-Ce/O.mass*ie,K.multiply(O.bounce)),Mt||(It.x=It.x+Ce/j.mass*Ot,It.y=It.y+Ce/j.mass*ie,It.multiply(j.bounce)),!rt&&!Mt&&(Fe*=.5,Ze*=.5),rt||(O.x-=Fe,O.y-=Ze,O.updateCenter()),Mt||(j.x+=Fe,j.y+=Ze,j.updateCenter()),ei.result=!0}else!rt||O.pushable||Ci?(O.x-=Fe,O.y-=Ze,O.updateCenter()):(!Mt||j.pushable||Ci)&&(j.x+=Fe,j.y+=Ze,j.updateCenter()),ei.x=void 0,ei.y=void 0;return ei},intersects:function(O,j){return O===j?!1:!O.isCircle&&!j.isCircle?!(O.right<=j.left||O.bottom<=j.top||O.left>=j.right||O.top>=j.bottom):O.isCircle?j.isCircle?p(O.center,j.center)<=O.halfWidth+j.halfWidth:this.circleBodyIntersects(O,j):this.circleBodyIntersects(j,O)},circleBodyIntersects:function(O,j){var z=f(O.center.x,j.left,j.right),W=f(O.center.y,j.top,j.bottom),q=(O.center.x-z)*(O.center.x-z),ot=(O.center.y-W)*(O.center.y-W);return q+ot<=O.halfWidth*O.halfWidth},overlap:function(O,j,z,W,q){return z===void 0&&(z=null),W===void 0&&(W=null),q===void 0&&(q=z),this.collideObjects(O,j,z,W,q,!0)},collide:function(O,j,z,W,q){return z===void 0&&(z=null),W===void 0&&(W=null),q===void 0&&(q=z),this.collideObjects(O,j,z,W,q,!1)},collideObjects:function(O,j,z,W,q,ot){var Q,rt;O.isParent&&(O.physicsType===void 0||j===void 0||O===j)&&(O=O.children.entries),j&&j.isParent&&j.physicsType===void 0&&(j=j.children.entries);var Mt=Array.isArray(O),K=Array.isArray(j);if(this._total=0,!Mt&&!K)this.collideHandler(O,j,z,W,q,ot);else if(!Mt&&K)for(Q=0;Q<j.length;Q++)this.collideHandler(O,j[Q],z,W,q,ot);else if(Mt&&!K)if(j)for(Q=0;Q<O.length;Q++)this.collideHandler(O[Q],j,z,W,q,ot);else for(Q=0;Q<O.length;Q++){var It=O[Q];for(rt=Q+1;rt<O.length;rt++)Q!==rt&&this.collideHandler(It,O[rt],z,W,q,ot)}else for(Q=0;Q<O.length;Q++)for(rt=0;rt<j.length;rt++)this.collideHandler(O[Q],j[rt],z,W,q,ot);return this._total>0},collideHandler:function(O,j,z,W,q,ot){if(j===void 0&&O.isParent)return this.collideGroupVsGroup(O,O,z,W,q,ot);if(!O||!j)return!1;if(O.body||O.isBody){if(j.body||j.isBody)return this.collideSpriteVsSprite(O,j,z,W,q,ot);if(j.isParent)return this.collideSpriteVsGroup(O,j,z,W,q,ot);if(j.isTilemap)return this.collideSpriteVsTilemapLayer(O,j,z,W,q,ot)}else if(O.isParent){if(j.body||j.isBody)return this.collideSpriteVsGroup(j,O,z,W,q,ot);if(j.isParent)return this.collideGroupVsGroup(O,j,z,W,q,ot);if(j.isTilemap)return this.collideGroupVsTilemapLayer(O,j,z,W,q,ot)}else if(O.isTilemap){if(j.body||j.isBody)return this.collideSpriteVsTilemapLayer(j,O,z,W,q,ot);if(j.isParent)return this.collideGroupVsTilemapLayer(j,O,z,W,q,ot)}},canCollide:function(O,j){return O&&j&&(O.collisionMask&j.collisionCategory)!==0&&(j.collisionMask&O.collisionCategory)!==0},collideSpriteVsSprite:function(O,j,z,W,q,ot){var Q=O.isBody?O:O.body,rt=j.isBody?j:j.body;return this.canCollide(Q,rt)?(this.separate(Q,rt,W,q,ot)&&(z&&z.call(q,O,j),this._total++),!0):!1},collideSpriteVsGroup:function(O,j,z,W,q,ot){var Q=O.isBody?O:O.body;if(!(j.length===0||!Q||!Q.enable||Q.checkCollision.none||!this.canCollide(Q,j))){var rt,Mt,K;if(this.useTree||j.physicsType===o.STATIC_BODY){var It=this.treeMinMax;It.minX=Q.left,It.minY=Q.top,It.maxX=Q.right,It.maxY=Q.bottom;var Ft=j.physicsType===o.DYNAMIC_BODY?this.tree.search(It):this.staticTree.search(It);for(Mt=Ft.length,rt=0;rt<Mt;rt++)K=Ft[rt],!(Q===K||!K.enable||K.checkCollision.none||!j.contains(K.gameObject))&&this.separate(Q,K,W,q,ot)&&(z&&z.call(q,Q.gameObject,K.gameObject),this._total++)}else{var ft=j.getChildren(),yt=j.children.entries.indexOf(O);for(Mt=ft.length,rt=0;rt<Mt;rt++)K=ft[rt].body,!(!K||rt===yt||!K.enable)&&this.separate(Q,K,W,q,ot)&&(z&&z.call(q,Q.gameObject,K.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(O,j,z,W,q,ot){if(!this.canCollide(O,j))return!1;var Q=O.getChildren();if(Q.length===0)return!1;for(var rt=!1,Mt=0;Mt<Q.length;Mt++)(Q[Mt].body||Q[Mt].isBody)&&this.collideSpriteVsTilemapLayer(Q[Mt],j,z,W,q,ot)&&(rt=!0);return rt},collideTiles:function(O,j,z,W,q){return j.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,j,z,W,q,!1,!1)},overlapTiles:function(O,j,z,W,q){return j.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,j,z,W,q,!0,!1)},collideSpriteVsTilemapLayer:function(O,j,z,W,q,ot){var Q=O.isBody?O:O.body;if(!Q.enable||Q.checkCollision.none||!this.canCollide(Q,j))return!1;var rt=j.layer,Mt=Q.x-rt.tileWidth*j.scaleX,K=Q.y-rt.tileHeight*j.scaleY,It=Q.width+rt.tileWidth*j.scaleX,Ft=Q.height+rt.tileHeight*j.scaleY,ft=ot?null:this.tileFilterOptions,yt=E(Mt,K,It,Ft,ft,j.scene.cameras.main,j.layer);return yt.length===0?!1:this.collideSpriteVsTilesHandler(O,yt,z,W,q,ot,!0)},collideSpriteVsTilesHandler:function(O,j,z,W,q,ot,Q){for(var rt=O.isBody?O:O.body,Mt,K={left:0,right:0,top:0,bottom:0},It,Ft=!1,ft=0;ft<j.length;ft++){Mt=j[ft],It=Mt.tilemapLayer;var yt=It.tileToWorldXY(Mt.x,Mt.y);K.left=yt.x,K.top=yt.y,K.right=K.left+Mt.width*It.scaleX,K.bottom=K.top+Mt.height*It.scaleY,$(K,rt)&&(!W||W.call(q,O,Mt))&&R(Mt,O)&&(ot||B(ft,rt,Mt,K,It,this.TILE_BIAS,Q))&&(this._total++,Ft=!0,z&&z.call(q,O,Mt),ot&&rt.onOverlap?this.emit(m.TILE_OVERLAP,O,Mt,rt):rt.onCollide&&this.emit(m.TILE_COLLIDE,O,Mt,rt))}return Ft},collideGroupVsGroup:function(O,j,z,W,q,ot){if(!(O.length===0||j.length===0||!this.canCollide(O,j)))for(var Q=O.getChildren(),rt=0;rt<Q.length;rt++)this.collideSpriteVsGroup(Q[rt],j,z,W,q,ot)},wrap:function(O,j){O.body?this.wrapObject(O,j):O.getChildren?this.wrapArray(O.getChildren(),j):Array.isArray(O)?this.wrapArray(O,j):this.wrapObject(O,j)},wrapArray:function(O,j){for(var z=0;z<O.length;z++)this.wrapObject(O[z],j)},wrapObject:function(O,j){j===void 0&&(j=0),O.x=U(O.x,this.bounds.left-j,this.bounds.right+j),O.y=U(O.y,this.bounds.top-j,this.bounds.bottom+j)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});s.exports=F},1093:s=>{var g={setAcceleration:function(i,a){return this.body.acceleration.set(i,a),this},setAccelerationX:function(i){return this.body.acceleration.x=i,this},setAccelerationY:function(i){return this.body.acceleration.y=i,this}};s.exports=g},59023:s=>{var g={setAngularVelocity:function(i){return this.body.angularVelocity=i,this},setAngularAcceleration:function(i){return this.body.angularAcceleration=i,this},setAngularDrag:function(i){return this.body.angularDrag=i,this}};s.exports=g},62069:s=>{var g={setBounce:function(i,a){return this.body.bounce.set(i,a),this},setBounceX:function(i){return this.body.bounce.x=i,this},setBounceY:function(i){return this.body.bounce.y=i,this},setCollideWorldBounds:function(i,a,v,f){return this.body.setCollideWorldBounds(i,a,v,f),this}};s.exports=g},78389:(s,g,i)=>{var a=i(79599),v={setCollisionCategory:function(f){var h=this.body?this.body:this;return h.collisionCategory=f,this},willCollideWith:function(f){var h=this.body?this.body:this;return(h.collisionMask&f)!==0},addCollidesWith:function(f){var h=this.body?this.body:this;return h.collisionMask=h.collisionMask|f,this},removeCollidesWith:function(f){var h=this.body?this.body:this;return h.collisionMask=h.collisionMask&~f,this},setCollidesWith:function(f){var h=this.body?this.body:this;return h.collisionMask=a(f),this},resetCollisionCategory:function(){var f=this.body?this.body:this;return f.collisionCategory=1,f.collisionMask=1,this}};s.exports=v},87118:s=>{var g={setDebug:function(i,a,v){return this.debugShowBody=i,this.debugShowVelocity=a,this.debugBodyColor=v,this},setDebugBodyColor:function(i){return this.body.debugBodyColor=i,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(i){this.body.debugShowBody=i}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(i){this.body.debugShowVelocity=i}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(i){this.body.debugBodyColor=i}}};s.exports=g},52819:s=>{var g={setDrag:function(i,a){return this.body.drag.set(i,a),this},setDragX:function(i){return this.body.drag.x=i,this},setDragY:function(i){return this.body.drag.y=i,this},setDamping:function(i){return this.body.useDamping=i,this}};s.exports=g},4074:s=>{var g={setDirectControl:function(i){return this.body.setDirectControl(i),this},enableBody:function(i,a,v,f,h){return i&&this.body.reset(a,v),f&&(this.body.gameObject.active=!0),h&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(i,a){return i===void 0&&(i=!1),a===void 0&&(a=!1),this.body.stop(),this.body.enable=!1,i&&(this.body.gameObject.active=!1),a&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};s.exports=g},40831:s=>{var g={setFriction:function(i,a){return this.body.friction.set(i,a),this},setFrictionX:function(i){return this.body.friction.x=i,this},setFrictionY:function(i){return this.body.friction.y=i,this}};s.exports=g},26775:s=>{var g={setGravity:function(i,a){return this.body.gravity.set(i,a),this},setGravityX:function(i){return this.body.gravity.x=i,this},setGravityY:function(i){return this.body.gravity.y=i,this}};s.exports=g},9437:s=>{var g={setImmovable:function(i){return i===void 0&&(i=!0),this.body.immovable=i,this}};s.exports=g},30621:s=>{var g={setMass:function(i){return this.body.mass=i,this}};s.exports=g},72441:(s,g,i)=>{var a=i(47956),v=i(96503),f=i(2044),h=i(81491),u=function(o,d,p,l,m,y){var x=a(o,d-l,p-l,2*l,2*l,m,y);if(x.length===0)return x;for(var b=new v(d,p,l),w=new v,C=[],E=0;E<x.length;E++){var T=x[E];T.isCircle?(w.setTo(T.center.x,T.center.y,T.halfWidth),f(b,w)&&C.push(T)):h(b,T)&&C.push(T)}return C};s.exports=u},47956:s=>{var g=function(i,a,v,f,h,u,o){u===void 0&&(u=!0),o===void 0&&(o=!1);var d=[],p=[],l=i.treeMinMax;if(l.minX=a,l.minY=v,l.maxX=a+f,l.maxY=v+h,o&&(p=i.staticTree.search(l)),u&&i.useTree)d=i.tree.search(l);else if(u){var m=i.bodies,y={position:{x:a,y:v},left:a,top:v,right:a+f,bottom:v+h,isCircle:!1},x=i.intersects;m.iterate(function(b){x(b,y)&&d.push(b)})}return p.concat(d)};s.exports=g},62121:s=>{var g={setPushable:function(i){return i===void 0&&(i=!0),this.body.pushable=i,this}};s.exports=g},29384:s=>{var g={setOffset:function(i,a){return this.body.setOffset(i,a),this},setSize:function(i,a,v){return this.body.setSize(i,a,v),this},setBodySize:function(i,a,v){return this.body.setSize(i,a,v),this},setCircle:function(i,a,v){return this.body.setCircle(i,a,v),this}};s.exports=g},15098:s=>{var g={setVelocity:function(i,a){return this.body.setVelocity(i,a),this},setVelocityX:function(i){return this.body.setVelocityX(i),this},setVelocityY:function(i){return this.body.setVelocityY(i),this},setMaxVelocity:function(i,a){return this.body.maxVelocity.set(i,a),this}};s.exports=g},92209:(s,g,i)=>{s.exports={Acceleration:i(1093),Angular:i(59023),Bounce:i(62069),Collision:i(78389),Debug:i(87118),Drag:i(52819),Enable:i(4074),Friction:i(40831),Gravity:i(26775),Immovable:i(9437),Mass:i(30621),OverlapCirc:i(72441),OverlapRect:i(47956),Pushable:i(62121),Size:i(29384),Velocity:i(15098)}},37747:s=>{var g={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};s.exports=g},20009:s=>{s.exports="collide"},36768:s=>{s.exports="overlap"},60473:s=>{s.exports="pause"},89954:s=>{s.exports="resume"},61804:s=>{s.exports="tilecollide"},7161:s=>{s.exports="tileoverlap"},34689:s=>{s.exports="worldbounds"},16006:s=>{s.exports="worldstep"},63012:(s,g,i)=>{s.exports={COLLIDE:i(20009),OVERLAP:i(36768),PAUSE:i(60473),RESUME:i(89954),TILE_COLLIDE:i(61804),TILE_OVERLAP:i(7161),WORLD_BOUNDS:i(34689),WORLD_STEP:i(16006)}},27064:(s,g,i)=>{var a=i(37747),v=i(79291),f={ArcadePhysics:i(86689),Body:i(37742),Collider:i(79342),Components:i(92209),Events:i(63012),Factory:i(66022),GetCollidesWith:i(79599),GetOverlapX:i(64897),GetOverlapY:i(45170),SeparateX:i(14087),SeparateY:i(89936),Group:i(60758),Image:i(71289),Sprite:i(13759),StaticBody:i(72624),StaticGroup:i(71464),Tilemap:i(55173),World:i(82248)};f=v(!1,f,a),s.exports=f},96602:s=>{var g=function(i,a){return i.collisionCallback?!i.collisionCallback.call(i.collisionCallbackContext,a,i):i.layer.callbacks[i.index]?!i.layer.callbacks[i.index].callback.call(i.layer.callbacks[i.index].callbackContext,a,i):!0};s.exports=g},36294:s=>{var g=function(i,a){a<0?(i.blocked.none=!1,i.blocked.left=!0):a>0&&(i.blocked.none=!1,i.blocked.right=!0),i.position.x-=a,i.updateCenter(),i.bounce.x===0?i.velocity.x=0:i.velocity.x=-i.velocity.x*i.bounce.x};s.exports=g},67013:s=>{var g=function(i,a){a<0?(i.blocked.none=!1,i.blocked.up=!0):a>0&&(i.blocked.none=!1,i.blocked.down=!0),i.position.y-=a,i.updateCenter(),i.bounce.y===0?i.velocity.y=0:i.velocity.y=-i.velocity.y*i.bounce.y};s.exports=g},40012:(s,g,i)=>{var a=i(21329),v=i(53442),f=i(2483),h=function(u,o,d,p,l,m,y){var x=p.left,b=p.top,w=p.right,C=p.bottom,E=d.faceLeft||d.faceRight,T=d.faceTop||d.faceBottom;if(y||(E=!0,T=!0),!E&&!T)return!1;var k=0,P=0,R=0,M=1;if(o.deltaAbsX()>o.deltaAbsY()?R=-1:o.deltaAbsX()<o.deltaAbsY()&&(M=-1),o.deltaX()!==0&&o.deltaY()!==0&&E&&T&&(R=Math.min(Math.abs(o.position.x-w),Math.abs(o.right-x)),M=Math.min(Math.abs(o.position.y-C),Math.abs(o.bottom-b))),R<M){if(E&&(k=a(o,d,x,w,m,y),k!==0&&!f(p,o)))return!0;T&&(P=v(o,d,b,C,m,y))}else{if(T&&(P=v(o,d,b,C,m,y),P!==0&&!f(p,o)))return!0;E&&(k=a(o,d,x,w,m,y))}return k!==0||P!==0};s.exports=h},21329:(s,g,i)=>{var a=i(36294),v=function(f,h,u,o,d,p){var l=0,m=h.faceLeft,y=h.faceRight,x=h.collideLeft,b=h.collideRight;return p||(m=!0,y=!0,x=!0,b=!0),f.deltaX()<0&&b&&f.checkCollision.left?y&&f.x<o&&(l=f.x-o,l<-d&&(l=0)):f.deltaX()>0&&x&&f.checkCollision.right&&m&&f.right>u&&(l=f.right-u,l>d&&(l=0)),l!==0&&(f.customSeparateX?f.overlapX=l:a(f,l)),l};s.exports=v},53442:(s,g,i)=>{var a=i(67013),v=function(f,h,u,o,d,p){var l=0,m=h.faceTop,y=h.faceBottom,x=h.collideUp,b=h.collideDown;return p||(m=!0,y=!0,x=!0,b=!0),f.deltaY()<0&&b&&f.checkCollision.up?y&&f.y<o&&(l=f.y-o,l<-d&&(l=0)):f.deltaY()>0&&x&&f.checkCollision.down&&m&&f.bottom>u&&(l=f.bottom-u,l>d&&(l=0)),l!==0&&(f.customSeparateY?f.overlapY=l:a(f,l)),l};s.exports=v},2483:s=>{var g=function(i,a){return!(a.right<=i.left||a.bottom<=i.top||a.position.x>=i.right||a.position.y>=i.bottom)};s.exports=g},55173:(s,g,i)=>{var a={ProcessTileCallbacks:i(96602),ProcessTileSeparationX:i(36294),ProcessTileSeparationY:i(67013),SeparateTile:i(40012),TileCheckX:i(21329),TileCheckY:i(53442),TileIntersectsBody:i(2483)};s.exports=a},44563:(s,g,i)=>{s.exports={Arcade:i(27064),Matter:i(3875)}},68174:(s,g,i)=>{var a=i(83419),v=i(26099),f=new a({initialize:function(){this.boundsCenter=new v,this.centerDiff=new v},parseBody:function(h){if(h=h.hasOwnProperty("body")?h.body:h,!h.hasOwnProperty("bounds")||!h.hasOwnProperty("centerOfMass"))return!1;var u=this.boundsCenter,o=this.centerDiff,d=h.bounds.max.x-h.bounds.min.x,p=h.bounds.max.y-h.bounds.min.y,l=d*h.centerOfMass.x,m=p*h.centerOfMass.y;return u.set(d/2,p/2),o.set(l-u.x,m-u.y),!0},getTopLeft:function(h,u,o){if(u===void 0&&(u=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,p=this.centerDiff;return new v(u+d.x+p.x,o+d.y+p.y)}return!1},getTopCenter:function(h,u,o){if(u===void 0&&(u=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,p=this.centerDiff;return new v(u+p.x,o+d.y+p.y)}return!1},getTopRight:function(h,u,o){if(u===void 0&&(u=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,p=this.centerDiff;return new v(u-(d.x-p.x),o+d.y+p.y)}return!1},getLeftCenter:function(h,u,o){if(u===void 0&&(u=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,p=this.centerDiff;return new v(u+d.x+p.x,o+p.y)}return!1},getCenter:function(h,u,o){if(u===void 0&&(u=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.centerDiff;return new v(u+d.x,o+d.y)}return!1},getRightCenter:function(h,u,o){if(u===void 0&&(u=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,p=this.centerDiff;return new v(u-(d.x-p.x),o+p.y)}return!1},getBottomLeft:function(h,u,o){if(u===void 0&&(u=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,p=this.centerDiff;return new v(u+d.x+p.x,o-(d.y-p.y))}return!1},getBottomCenter:function(h,u,o){if(u===void 0&&(u=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,p=this.centerDiff;return new v(u+p.x,o-(d.y-p.y))}return!1},getBottomRight:function(h,u,o){if(u===void 0&&(u=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,p=this.centerDiff;return new v(u-(d.x-p.x),o-(d.y-p.y))}return!1}});s.exports=f},19933:(s,g,i)=>{var a=i(6790);a.Body=i(22562),a.Composite=i(69351),a.World=i(4372),a.Collision=i(52284),a.Detector=i(81388),a.Pairs=i(99561),a.Pair=i(4506),a.Query=i(73296),a.Resolver=i(66272),a.Constraint=i(48140),a.Common=i(53402),a.Engine=i(48413),a.Events=i(35810),a.Sleeping=i(53614),a.Plugin=i(73832),a.Bodies=i(66280),a.Composites=i(74116),a.Axes=i(66615),a.Bounds=i(15647),a.Svg=i(74058),a.Vector=i(31725),a.Vertices=i(41598),a.World.add=a.Composite.add,a.World.remove=a.Composite.remove,a.World.addComposite=a.Composite.addComposite,a.World.addBody=a.Composite.addBody,a.World.addConstraint=a.Composite.addConstraint,a.World.clear=a.Composite.clear,s.exports=a},28137:(s,g,i)=>{var a=i(66280),v=i(83419),f=i(74116),h=i(48140),u=i(74058),o=i(75803),d=i(23181),p=i(34803),l=i(73834),m=i(19496),y=i(85791),x=i(98713),b=i(41598),w=new v({initialize:function(E){this.world=E,this.scene=E.scene,this.sys=E.scene.sys},rectangle:function(C,E,T,k,P){var R=a.rectangle(C,E,T,k,P);return this.world.add(R),R},trapezoid:function(C,E,T,k,P,R){var M=a.trapezoid(C,E,T,k,P,R);return this.world.add(M),M},circle:function(C,E,T,k,P){var R=a.circle(C,E,T,k,P);return this.world.add(R),R},polygon:function(C,E,T,k,P){var R=a.polygon(C,E,T,k,P);return this.world.add(R),R},fromVertices:function(C,E,T,k,P,R,M){typeof T=="string"&&(T=b.fromPath(T));var I=a.fromVertices(C,E,T,k,P,R,M);return this.world.add(I),I},fromPhysicsEditor:function(C,E,T,k,P){P===void 0&&(P=!0);var R=m.parseBody(C,E,T,k);return P&&!this.world.has(R)&&this.world.add(R),R},fromSVG:function(C,E,T,k,P,R){k===void 0&&(k=1),P===void 0&&(P={}),R===void 0&&(R=!0);for(var M=T.getElementsByTagName("path"),I=[],B=0;B<M.length;B++){var D=u.pathToVertices(M[B],30);k!==1&&b.scale(D,k,k),I.push(D)}var N=a.fromVertices(C,E,I,P);return R&&this.world.add(N),N},fromJSON:function(C,E,T,k,P){k===void 0&&(k={}),P===void 0&&(P=!0);var R=y.parseBody(C,E,T,k);return R&&P&&this.world.add(R),R},imageStack:function(C,E,T,k,P,R,M,I,B){M===void 0&&(M=0),I===void 0&&(I=0),B===void 0&&(B={});var D=this.world,N=this.sys.displayList;B.addToWorld=!1;var _=f.stack(T,k,P,R,M,I,function(G,$){var V=new d(D,G,$,C,E,B);return N.add(V),V.body});return D.add(_),_},stack:function(C,E,T,k,P,R,M){var I=f.stack(C,E,T,k,P,R,M);return this.world.add(I),I},pyramid:function(C,E,T,k,P,R,M){var I=f.pyramid(C,E,T,k,P,R,M);return this.world.add(I),I},chain:function(C,E,T,k,P,R){return f.chain(C,E,T,k,P,R)},mesh:function(C,E,T,k,P){return f.mesh(C,E,T,k,P)},newtonsCradle:function(C,E,T,k,P){var R=f.newtonsCradle(C,E,T,k,P);return this.world.add(R),R},car:function(C,E,T,k,P){var R=f.car(C,E,T,k,P);return this.world.add(R),R},softBody:function(C,E,T,k,P,R,M,I,B,D){var N=f.softBody(C,E,T,k,P,R,M,I,B,D);return this.world.add(N),N},joint:function(C,E,T,k,P){return this.constraint(C,E,T,k,P)},spring:function(C,E,T,k,P){return this.constraint(C,E,T,k,P)},constraint:function(C,E,T,k,P){k===void 0&&(k=1),P===void 0&&(P={}),P.bodyA=C.type==="body"?C:C.body,P.bodyB=E.type==="body"?E:E.body,isNaN(T)||(P.length=T),P.stiffness=k;var R=h.create(P);return this.world.add(R),R},worldConstraint:function(C,E,T,k){T===void 0&&(T=1),k===void 0&&(k={}),k.bodyB=C.type==="body"?C:C.body,isNaN(E)||(k.length=E),k.stiffness=T;var P=h.create(k);return this.world.add(P),P},mouseSpring:function(C){return this.pointerConstraint(C)},pointerConstraint:function(C){C===void 0&&(C={}),C.hasOwnProperty("render")||(C.render={visible:!1});var E=new x(this.scene,this.world,C);return this.world.add(E.constraint),E},image:function(C,E,T,k,P){var R=new d(this.world,C,E,T,k,P);return this.sys.displayList.add(R),R},tileBody:function(C,E){return new l(this.world,C,E)},sprite:function(C,E,T,k,P){var R=new p(this.world,C,E,T,k,P);return this.sys.displayList.add(R),this.sys.updateList.add(R),R},gameObject:function(C,E,T){return o(this.world,C,E,T)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});s.exports=w},75803:(s,g,i)=>{var a=i(31884),v=i(95540),f=i(26099);function h(o){return!!o.get&&typeof o.get=="function"||!!o.set&&typeof o.set=="function"}var u=function(o,d,p,l){p===void 0&&(p={}),l===void 0&&(l=!0);var m=d.x,y=d.y;d.body={temp:!0,position:{x:m,y}};var x=[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity];if(x.forEach(function(w){for(var C in w)h(w[C])?Object.defineProperty(d,C,{get:w[C].get,set:w[C].set}):Object.defineProperty(d,C,{value:w[C]})}),d.world=o,d._tempVec2=new f(m,y),p.hasOwnProperty("type")&&p.type==="body")d.setExistingBody(p,l);else{var b=v(p,"shape",null);b||(b="rectangle"),p.addToWorld=l,d.setBody(b,p)}return d};s.exports=u},23181:(s,g,i)=>{var a=i(83419),v=i(31884),f=i(95643),h=i(95540),u=i(88571),o=i(72699),d=i(26099),p=new a({Extends:u,Mixins:[v.Bounce,v.Collision,v.Force,v.Friction,v.Gravity,v.Mass,v.Sensor,v.SetBody,v.Sleep,v.Static,v.Transform,v.Velocity,o],initialize:function(m,y,x,b,w,C){f.call(this,m.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(b,w),this.setSizeToFrame(),this.setOrigin(),this.world=m,this._tempVec2=new d(y,x);var E=h(C,"shape",null);E?this.setBody(E,C):this.setRectangle(this.width,this.height,C),this.setPosition(y,x),this.initPipeline(),this.initPostPipeline(!0)}});s.exports=p},42045:(s,g,i)=>{var a=i(60461),v=i(66615),f=i(66280),h=i(22562),u=i(68174),o=i(15647),d=i(83419),p=i(52284),l=i(53402),m=i(69351),y=i(74116),x=i(48140),b=i(81388),w=i(20339),C=i(28137),E=i(95540),T=i(35154),k=i(18210),P=i(40178),R=i(6790),M=i(74507),I=i(46975),B=i(4506),D=i(99561),N=i(73832),_=i(37277),G=i(73296),$=i(66272),V=i(44594),Y=i(74058),U=i(31725),F=i(41598),O=i(68243);l.setDecomp(i(55973));var j=new d({initialize:function(W){this.scene=W,this.systems=W.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=h,this.composite=m,this.collision=p,this.detector=b,this.pair=B,this.pairs=D,this.query=G,this.resolver=$,this.constraint=x,this.bodies=f,this.composites=y,this.axes=v,this.bounds=o,this.svg=Y,this.vector=U,this.vertices=F,this.verts=F,this._tempVec2=U.create(),T(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),T(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),T(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),$._restingThresh=T(this.config,"restingThresh",4),$._restingThreshTangent=T(this.config,"restingThreshTangent",6),$._positionDampen=T(this.config,"positionDampen",.9),$._positionWarming=T(this.config,"positionWarming",.8),$._frictionNormalMultiplier=T(this.config,"frictionNormalMultiplier",5),W.sys.events.once(V.BOOT,this.boot,this),W.sys.events.on(V.START,this.start,this)},boot:function(){this.world=new O(this.scene,this.config),this.add=new C(this.world),this.bodyBounds=new u,this.systems.events.once(V.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new O(this.scene,this.config),this.add=new C(this.world));var z=this.systems.events;z.on(V.UPDATE,this.world.update,this.world),z.on(V.POST_UPDATE,this.world.postUpdate,this.world),z.once(V.SHUTDOWN,this.shutdown,this)},getConfig:function(){var z=this.systems.game.config.physics,W=this.systems.settings.physics,q=I(E(W,"matter",{}),E(z,"matter",{}));return q},enableAttractorPlugin:function(){return N.register(k),N.use(R,k),this},enableWrapPlugin:function(){return N.register(M),N.use(R,M),this},enableCollisionEventsPlugin:function(){return N.register(P),N.use(R,P),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(z,W){this.world.step(z,W)},containsPoint:function(z,W,q){z=this.getMatterBodies(z);var ot=U.create(W,q),Q=G.point(z,ot);return Q.length>0},intersectPoint:function(z,W,q){q=this.getMatterBodies(q);var ot=U.create(z,W),Q=[],rt=G.point(q,ot);return rt.forEach(function(Mt){Q.indexOf(Mt)===-1&&Q.push(Mt)}),Q},intersectRect:function(z,W,q,ot,Q,rt){Q===void 0&&(Q=!1),rt=this.getMatterBodies(rt);var Mt={min:{x:z,y:W},max:{x:z+q,y:W+ot}},K=[],It=G.region(rt,Mt,Q);return It.forEach(function(Ft){K.indexOf(Ft)===-1&&K.push(Ft)}),K},intersectRay:function(z,W,q,ot,Q,rt){Q===void 0&&(Q=1),rt=this.getMatterBodies(rt);for(var Mt=[],K=G.ray(rt,U.create(z,W),U.create(q,ot),Q),It=0;It<K.length;It++)Mt.push(K[It].body);return Mt},intersectBody:function(z,W){W=this.getMatterBodies(W);for(var q=[],ot=G.collides(z,W),Q=0;Q<ot.length;Q++){var rt=ot[Q];rt.bodyA===z?q.push(rt.bodyB):q.push(rt.bodyA)}return q},overlap:function(z,W,q,ot,Q){q===void 0&&(q=null),ot===void 0&&(ot=null),Q===void 0&&(Q=q),Array.isArray(z)||(z=[z]),z=this.getMatterBodies(z),W=this.getMatterBodies(W);for(var rt=!1,Mt=0;Mt<z.length;Mt++)for(var K=z[Mt],It=G.collides(K,W),Ft=0;Ft<It.length;Ft++){var ft=It[Ft],yt=ft.bodyA.id===K.id?ft.bodyB:ft.bodyA;if(!ot||ot.call(Q,K,yt,ft)){if(rt=!0,q)q.call(Q,K,yt,ft);else if(!ot)return!0}}return rt},setCollisionCategory:function(z,W){return z=this.getMatterBodies(z),z.forEach(function(q){q.collisionFilter.category=W}),this},setCollisionGroup:function(z,W){return z=this.getMatterBodies(z),z.forEach(function(q){q.collisionFilter.group=W}),this},setCollidesWith:function(z,W){z=this.getMatterBodies(z);var q=0;if(!Array.isArray(W))q=W;else for(var ot=0;ot<W.length;ot++)q|=W[ot];return z.forEach(function(Q){Q.collisionFilter.mask=q}),this},getMatterBodies:function(z){if(!z)return this.world.getAllBodies();Array.isArray(z)||(z=[z]);for(var W=[],q=0;q<z.length;q++){var ot=z[q].hasOwnProperty("body")?z[q].body:z[q];W.push(ot)}return W},setVelocity:function(z,W,q){z=this.getMatterBodies(z);var ot=this._tempVec2;return ot.x=W,ot.y=q,z.forEach(function(Q){h.setVelocity(Q,ot)}),this},setVelocityX:function(z,W){z=this.getMatterBodies(z);var q=this._tempVec2;return q.x=W,z.forEach(function(ot){q.y=ot.velocity.y,h.setVelocity(ot,q)}),this},setVelocityY:function(z,W){z=this.getMatterBodies(z);var q=this._tempVec2;return q.y=W,z.forEach(function(ot){q.x=ot.velocity.x,h.setVelocity(ot,q)}),this},setAngularVelocity:function(z,W){return z=this.getMatterBodies(z),z.forEach(function(q){h.setAngularVelocity(q,W)}),this},applyForce:function(z,W){z=this.getMatterBodies(z);var q=this._tempVec2;return z.forEach(function(ot){q.x=ot.position.x,q.y=ot.position.y,h.applyForce(ot,q,W)}),this},applyForceFromPosition:function(z,W,q,ot){z=this.getMatterBodies(z);var Q=this._tempVec2;return z.forEach(function(rt){ot===void 0&&(ot=rt.angle),Q.x=q*Math.cos(ot),Q.y=q*Math.sin(ot),h.applyForce(rt,W,Q)}),this},applyForceFromAngle:function(z,W,q){z=this.getMatterBodies(z);var ot=this._tempVec2;return z.forEach(function(Q){q===void 0&&(q=Q.angle),ot.x=W*Math.cos(q),ot.y=W*Math.sin(q),h.applyForce(Q,{x:Q.position.x,y:Q.position.y},ot)}),this},getConstraintLength:function(z){var W=z.pointA.x,q=z.pointA.y,ot=z.pointB.x,Q=z.pointB.y;return z.bodyA&&(W+=z.bodyA.position.x,q+=z.bodyA.position.y),z.bodyB&&(ot+=z.bodyB.position.x,Q+=z.bodyB.position.y),w(W,q,ot,Q)},alignBody:function(z,W,q,ot){z=z.hasOwnProperty("body")?z.body:z;var Q;switch(ot){case a.TOP_LEFT:case a.LEFT_TOP:Q=this.bodyBounds.getTopLeft(z,W,q);break;case a.TOP_CENTER:Q=this.bodyBounds.getTopCenter(z,W,q);break;case a.TOP_RIGHT:case a.RIGHT_TOP:Q=this.bodyBounds.getTopRight(z,W,q);break;case a.LEFT_CENTER:Q=this.bodyBounds.getLeftCenter(z,W,q);break;case a.CENTER:Q=this.bodyBounds.getCenter(z,W,q);break;case a.RIGHT_CENTER:Q=this.bodyBounds.getRightCenter(z,W,q);break;case a.LEFT_BOTTOM:case a.BOTTOM_LEFT:Q=this.bodyBounds.getBottomLeft(z,W,q);break;case a.BOTTOM_CENTER:Q=this.bodyBounds.getBottomCenter(z,W,q);break;case a.BOTTOM_RIGHT:case a.RIGHT_BOTTOM:Q=this.bodyBounds.getBottomRight(z,W,q);break}return Q&&h.setPosition(z,Q),this},shutdown:function(){var z=this.systems.events;this.world&&(z.off(V.UPDATE,this.world.update,this.world),z.off(V.POST_UPDATE,this.world.postUpdate,this.world)),z.off(V.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(V.START,this.start,this),this.scene=null,this.systems=null}});_.register("MatterPhysics",j,"matterPhysics"),s.exports=j},34803:(s,g,i)=>{var a=i(9674),v=i(83419),f=i(31884),h=i(95643),u=i(95540),o=i(72699),d=i(68287),p=i(26099),l=new v({Extends:d,Mixins:[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity,o],initialize:function(y,x,b,w,C,E){h.call(this,y.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(w,C),this.setSizeToFrame(),this.setOrigin(),this.world=y,this._tempVec2=new p(x,b);var T=u(E,"shape",null);T?this.setBody(T,E):this.setRectangle(this.width,this.height,E),this.setPosition(x,b),this.initPipeline(),this.initPostPipeline(!0)}});s.exports=l},73834:(s,g,i)=>{var a=i(66280),v=i(22562),f=i(83419),h=i(31884),u=i(62644),o=i(50792),d=i(95540),p=i(97022),l=i(41598),m=new f({Extends:o,Mixins:[h.Bounce,h.Collision,h.Friction,h.Gravity,h.Mass,h.Sensor,h.Sleep,h.Static],initialize:function(x,b,w){o.call(this),this.tile=b,this.world=x,b.physics.matterBody&&b.physics.matterBody.destroy(),b.physics.matterBody=this;var C=d(w,"body",null),E=d(w,"addToWorld",!0);if(C)this.setBody(C,E);else{var T=b.getCollisionGroup(),k=d(T,"objects",[]);k.length>0?this.setFromTileCollision(w):this.setFromTileRectangle(w)}if(b.flipX||b.flipY){var P={x:b.getCenterX(),y:b.getCenterY()},R=b.flipX?-1:1,M=b.flipY?-1:1;v.scale(C,R,M,P)}},setFromTileRectangle:function(y){y===void 0&&(y={}),p(y,"isStatic")||(y.isStatic=!0),p(y,"addToWorld")||(y.addToWorld=!0);var x=this.tile.getBounds(),b=x.x+x.width/2,w=x.y+x.height/2,C=a.rectangle(b,w,x.width,x.height,y);return this.setBody(C,y.addToWorld),this},setFromTileCollision:function(y){y===void 0&&(y={}),p(y,"isStatic")||(y.isStatic=!0),p(y,"addToWorld")||(y.addToWorld=!0);for(var x=this.tile.tilemapLayer.scaleX,b=this.tile.tilemapLayer.scaleY,w=this.tile.getLeft(),C=this.tile.getTop(),E=this.tile.getCollisionGroup(),T=d(E,"objects",[]),k=[],P=0;P<T.length;P++){var R=T[P],M=w+R.x*x,I=C+R.y*b,B=R.width*x,D=R.height*b,N=null;if(R.rectangle)N=a.rectangle(M+B/2,I+D/2,B,D,y);else if(R.ellipse)N=a.circle(M+B/2,I+D/2,B/2,y);else if(R.polygon||R.polyline){var _=R.polygon?R.polygon:R.polyline,G=_.map(function(U){return{x:U.x*x,y:U.y*b}}),$=l.create(G),V=l.centre($);M+=V.x,I+=V.y,N=a.fromVertices(M,I,$,y)}N&&k.push(N)}if(k.length===1)this.setBody(k[0],y.addToWorld);else if(k.length>1){var Y=u(y);Y.parts=k,this.setBody(v.create(Y),Y.addToWorld)}return this},setBody:function(y,x){return x===void 0&&(x=!0),this.body&&this.removeBody(),this.body=y,this.body.gameObject=this,x&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});s.exports=m},19496:(s,g,i)=>{var a=i(66280),v=i(22562),f=i(53402),h=i(95540),u=i(41598),o={parseBody:function(d,p,l,m){m===void 0&&(m={});for(var y=h(l,"fixtures",[]),x=[],b=0;b<y.length;b++)for(var w=this.parseFixture(y[b]),C=0;C<w.length;C++)x.push(w[C]);var E=f.clone(l,!0);f.extend(E,m,!0),delete E.fixtures,delete E.type;var T=v.create(E);return v.setParts(T,x),v.setPosition(T,{x:d,y:p}),T},parseFixture:function(d){var p=f.extend({},!1,d);delete p.circle,delete p.vertices;var l;if(d.circle){var m=h(d.circle,"x"),y=h(d.circle,"y"),x=h(d.circle,"radius");l=[a.circle(m,y,x,p)]}else d.vertices&&(l=this.parseVertices(d.vertices,p));return l},parseVertices:function(d,p){p===void 0&&(p={});for(var l=[],m=0;m<d.length;m++)u.clockwiseSort(d[m]),l.push(v.create(f.extend({position:u.centre(d[m]),vertices:d[m]},p)));return a.flagCoincidentParts(l)}};s.exports=o},85791:(s,g,i)=>{var a=i(66280),v=i(22562),f={parseBody:function(h,u,o,d){d===void 0&&(d={});var p,l=o.vertices;if(l.length===1)d.vertices=l[0],p=v.create(d),a.flagCoincidentParts(p.parts);else{for(var m=[],y=0;y<l.length;y++){var x=v.create({vertices:l[y]});m.push(x)}a.flagCoincidentParts(m),d.parts=m,p=v.create(d)}return p.label=o.label,v.setPosition(p,{x:h,y:u}),p}};s.exports=f},98713:(s,g,i)=>{var a=i(15647),v=i(83419),f=i(69351),h=i(48140),u=i(81388),o=i(1121),d=i(8214),p=i(46975),l=i(53614),m=i(26099),y=i(41598),x=new v({initialize:function(w,C,E){E===void 0&&(E={});var T={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=w,this.world=C,this.camera=null,this.pointer=null,this.active=!0,this.position=new m,this.body=null,this.part=null,this.constraint=h.create(p(E,T)),this.world.on(o.BEFORE_UPDATE,this.update,this),w.sys.input.on(d.POINTER_DOWN,this.onDown,this),w.sys.input.on(d.POINTER_UP,this.onUp,this)},onDown:function(b){this.pointer||(this.pointer=b,this.camera=b.camera)},onUp:function(b){b===this.pointer&&(this.pointer=null)},getBody:function(b){var w=this.position,C=this.constraint;this.camera.getWorldPoint(b.x,b.y,w);for(var E=f.allBodies(this.world.localWorld),T=0;T<E.length;T++){var k=E[T];if(!k.ignorePointer&&a.contains(k.bounds,w)&&u.canCollide(k.collisionFilter,C.collisionFilter)&&this.hitTestBody(k,w))return this.world.emit(o.DRAG_START,k,this.part,this),!0}return!1},hitTestBody:function(b,w){for(var C=this.constraint,E=b.parts.length,T=E>1?1:0,k=T;k<E;k++){var P=b.parts[k];if(y.contains(P.vertices,w))return C.pointA=w,C.pointB={x:w.x-b.position.x,y:w.y-b.position.y},C.bodyB=b,C.angleB=b.angle,l.set(b,!1),this.part=P,this.body=b,!0}return!1},update:function(){var b=this.pointer,w=this.body;if(!this.active||!b){w&&this.stopDrag();return}if(!b.isDown&&w){this.stopDrag();return}else if(b.isDown){if(!this.camera||!w&&!this.getBody(b))return;w=this.body;var C=this.position,E=this.constraint;this.camera.getWorldPoint(b.x,b.y,C),E.pointA.x=C.x,E.pointA.y=C.y,l.set(w,!1),this.world.emit(o.DRAG,w,this)}},stopDrag:function(){var b=this.body,w=this.constraint;w.bodyB=null,w.pointB=null,this.pointer=null,this.body=null,this.part=null,b&&this.world.emit(o.DRAG_END,b,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(o.BEFORE_UPDATE,this.update),this.scene.sys.input.off(d.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(d.POINTER_UP,this.onUp,this)}});s.exports=x},68243:(s,g,i)=>{var a=i(66280),v=i(22562),f=i(83419),h=i(53402),u=i(69351),o=i(48413),d=i(50792),p=i(1121),l=i(95540),m=i(35154),y=i(22562),x=i(35810),b=i(73834),w=i(4372),C=i(31725),E=new f({Extends:d,initialize:function(k,P){d.call(this),this.scene=k,this.engine=o.create(P),this.localWorld=this.engine.world;var R=m(P,"gravity",null);R?this.setGravity(R.x,R.y,R.scale):R===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=m(P,"enabled",!0),this.getDelta=m(P,"getDelta",this.update60Hz);var M=l(P,"runner",{}),I=l(M,"fps",!1),B=l(M,"fps",60),D=l(M,"delta",1e3/B),N=l(M,"deltaMin",1e3/B),_=l(M,"deltaMax",1e3/(B*.5));I||(B=1e3/D),this.runner={fps:B,deltaSampleSize:l(M,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:l(M,"isFixed",!1),delta:D,deltaMin:N,deltaMax:_},this.autoUpdate=m(P,"autoUpdate",!0);var G=m(P,"debug",!1);if(this.drawDebug=typeof G=="object"?!0:G,this.debugGraphic,this.debugConfig={showAxes:l(G,"showAxes",!1),showAngleIndicator:l(G,"showAngleIndicator",!1),angleColor:l(G,"angleColor",15208787),showBroadphase:l(G,"showBroadphase",!1),broadphaseColor:l(G,"broadphaseColor",16757760),showBounds:l(G,"showBounds",!1),boundsColor:l(G,"boundsColor",16777215),showVelocity:l(G,"showVelocity",!1),velocityColor:l(G,"velocityColor",44783),showCollisions:l(G,"showCollisions",!1),collisionColor:l(G,"collisionColor",16094476),showSeparations:l(G,"showSeparations",!1),separationColor:l(G,"separationColor",16753920),showBody:l(G,"showBody",!0),showStaticBody:l(G,"showStaticBody",!0),showInternalEdges:l(G,"showInternalEdges",!1),renderFill:l(G,"renderFill",!1),renderLine:l(G,"renderLine",!0),fillColor:l(G,"fillColor",1075465),fillOpacity:l(G,"fillOpacity",1),lineColor:l(G,"lineColor",2678297),lineOpacity:l(G,"lineOpacity",1),lineThickness:l(G,"lineThickness",1),staticFillColor:l(G,"staticFillColor",857979),staticLineColor:l(G,"staticLineColor",1255396),showSleeping:l(G,"showSleeping",!1),staticBodySleepOpacity:l(G,"staticBodySleepOpacity",.7),sleepFillColor:l(G,"sleepFillColor",4605510),sleepLineColor:l(G,"sleepLineColor",10066585),showSensors:l(G,"showSensors",!0),sensorFillColor:l(G,"sensorFillColor",857979),sensorLineColor:l(G,"sensorLineColor",1255396),showPositions:l(G,"showPositions",!0),positionSize:l(G,"positionSize",4),positionColor:l(G,"positionColor",14697178),showJoint:l(G,"showJoint",!0),jointColor:l(G,"jointColor",14737474),jointLineOpacity:l(G,"jointLineOpacity",1),jointLineThickness:l(G,"jointLineThickness",2),pinSize:l(G,"pinSize",4),pinColor:l(G,"pinColor",4382944),springColor:l(G,"springColor",14697184),anchorColor:l(G,"anchorColor",15724527),anchorSize:l(G,"anchorSize",4),showConvexHulls:l(G,"showConvexHulls",!1),hullColor:l(G,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),l(P,"setBounds",!1)){var $=P.setBounds;if(typeof $=="boolean")this.setBounds();else{var V=l($,"x",0),Y=l($,"y",0),U=l($,"width",k.sys.scale.width),F=l($,"height",k.sys.scale.height),O=l($,"thickness",64),j=l($,"left",!0),z=l($,"right",!0),W=l($,"top",!0),q=l($,"bottom",!0);this.setBounds(V,Y,U,F,O,j,z,W,q)}}},setCompositeRenderStyle:function(T){var k=T.bodies,P=T.constraints,R=T.composites,M,I,B;for(M=0;M<k.length;M++)I=k[M],B=I.render,this.setBodyRenderStyle(I,B.lineColor,B.lineOpacity,B.lineThickness,B.fillColor,B.fillOpacity);for(M=0;M<P.length;M++)I=P[M],B=I.render,this.setConstraintRenderStyle(I,B.lineColor,B.lineOpacity,B.lineThickness,B.pinSize,B.anchorColor,B.anchorSize);for(M=0;M<R.length;M++)I=R[M],this.setCompositeRenderStyle(I);return this},setBodyRenderStyle:function(T,k,P,R,M,I){var B=T.render,D=this.debugConfig;return B?(k==null&&(k=T.isStatic?D.staticLineColor:D.lineColor),P==null&&(P=D.lineOpacity),R==null&&(R=D.lineThickness),M==null&&(M=T.isStatic?D.staticFillColor:D.fillColor),I==null&&(I=D.fillOpacity),k!==!1&&(B.lineColor=k),P!==!1&&(B.lineOpacity=P),R!==!1&&(B.lineThickness=R),M!==!1&&(B.fillColor=M),I!==!1&&(B.fillOpacity=I),this):this},setConstraintRenderStyle:function(T,k,P,R,M,I,B){var D=T.render,N=this.debugConfig;if(!D)return this;if(k==null){var _=D.type;_==="line"?k=N.jointColor:_==="pin"?k=N.pinColor:_==="spring"&&(k=N.springColor)}return P==null&&(P=N.jointLineOpacity),R==null&&(R=N.jointLineThickness),M==null&&(M=N.pinSize),I==null&&(I=N.anchorColor),B==null&&(B=N.anchorSize),k!==!1&&(D.lineColor=k),P!==!1&&(D.lineOpacity=P),R!==!1&&(D.lineThickness=R),M!==!1&&(D.pinSize=M),I!==!1&&(D.anchorColor=I),B!==!1&&(D.anchorSize=B),this},setEventsProxy:function(){var T=this,k=this.engine,P=this.localWorld;this.drawDebug&&(x.on(P,"compositeModified",function(R){T.setCompositeRenderStyle(R)}),x.on(P,"beforeAdd",function(R){for(var M=[].concat(R.object),I=0;I<M.length;I++){var B=M[I],D=B.render;B.type==="body"?T.setBodyRenderStyle(B,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity):B.type==="composite"?T.setCompositeRenderStyle(B):B.type==="constraint"&&T.setConstraintRenderStyle(B,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize)}})),x.on(P,"beforeAdd",function(R){T.emit(p.BEFORE_ADD,R)}),x.on(P,"afterAdd",function(R){T.emit(p.AFTER_ADD,R)}),x.on(P,"beforeRemove",function(R){T.emit(p.BEFORE_REMOVE,R)}),x.on(P,"afterRemove",function(R){T.emit(p.AFTER_REMOVE,R)}),x.on(k,"beforeUpdate",function(R){T.emit(p.BEFORE_UPDATE,R)}),x.on(k,"afterUpdate",function(R){T.emit(p.AFTER_UPDATE,R)}),x.on(k,"collisionStart",function(R){var M=R.pairs,I,B;M.length>0&&(I=M[0].bodyA,B=M[0].bodyB),T.emit(p.COLLISION_START,R,I,B)}),x.on(k,"collisionActive",function(R){var M=R.pairs,I,B;M.length>0&&(I=M[0].bodyA,B=M[0].bodyB),T.emit(p.COLLISION_ACTIVE,R,I,B)}),x.on(k,"collisionEnd",function(R){var M=R.pairs,I,B;M.length>0&&(I=M[0].bodyA,B=M[0].bodyB),T.emit(p.COLLISION_END,R,I,B)})},setBounds:function(T,k,P,R,M,I,B,D,N){return T===void 0&&(T=0),k===void 0&&(k=0),P===void 0&&(P=this.scene.sys.scale.width),R===void 0&&(R=this.scene.sys.scale.height),M===void 0&&(M=64),I===void 0&&(I=!0),B===void 0&&(B=!0),D===void 0&&(D=!0),N===void 0&&(N=!0),this.updateWall(I,"left",T-M,k-M,M,R+M*2),this.updateWall(B,"right",T+P,k-M,M,R+M*2),this.updateWall(D,"top",T,k-M,P,M),this.updateWall(N,"bottom",T,k+R,P,M),this},updateWall:function(T,k,P,R,M,I){var B=this.walls[k];T?(B&&w.remove(this.localWorld,B),P+=M/2,R+=I/2,this.walls[k]=this.create(P,R,M,I,{isStatic:!0,friction:0,frictionStatic:0})):(B&&w.remove(this.localWorld,B),this.walls[k]=null)},createDebugGraphic:function(){var T=this.scene.sys.add.graphics({x:0,y:0});return T.setDepth(Number.MAX_VALUE),this.debugGraphic=T,this.drawDebug=!0,T},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(T,k,P){return T===void 0&&(T=0),k===void 0&&(k=1),P===void 0&&(P=.001),this.localWorld.gravity.x=T,this.localWorld.gravity.y=k,this.localWorld.gravity.scale=P,this},create:function(T,k,P,R,M){var I=a.rectangle(T,k,P,R,M);return w.add(this.localWorld,I),I},add:function(T){return w.add(this.localWorld,T),this},remove:function(T,k){Array.isArray(T)||(T=[T]);for(var P=0;P<T.length;P++){var R=T[P],M=R.body?R.body:R;u.remove(this.localWorld,M,k)}return this},removeConstraint:function(T,k){return u.remove(this.localWorld,T,k),this},convertTilemapLayer:function(T,k){var P=T.layer,R=T.getTilesWithin(0,0,P.width,P.height,{isColliding:!0});return this.convertTiles(R,k),this},convertTiles:function(T,k){if(T.length===0)return this;for(var P=0;P<T.length;P++)new b(this,T[P],k);return this},nextGroup:function(T){return y.nextGroup(T)},nextCategory:function(){return y.nextCategory()},pause:function(){return this.enabled=!1,this.emit(p.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(p.RESUME),this},update:function(T,k){if(!(!this.enabled||!this.autoUpdate)){var P=this.engine,R=this.runner,M=P.timing;R.isFixed?k=this.getDelta(T,k):(k=T-R.timePrev||R.delta,R.timePrev=T,R.deltaHistory.push(k),R.deltaHistory=R.deltaHistory.slice(-R.deltaSampleSize),k=Math.min.apply(null,R.deltaHistory),k=k<R.deltaMin?R.deltaMin:k,k=k>R.deltaMax?R.deltaMax:k,R.delta=k),R.timeScalePrev=M.timeScale,R.frameCounter+=1,T-R.counterTimestamp>=1e3&&(R.fps=R.frameCounter*((T-R.counterTimestamp)/1e3),R.counterTimestamp=T,R.frameCounter=0),o.update(P,k)}},step:function(T){o.update(this.engine,T)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(T){var k=T.hasOwnProperty("body")?T.body:T;return u.get(this.localWorld,k.id,k.type)!==null},getAllBodies:function(){return u.allBodies(this.localWorld)},getAllConstraints:function(){return u.allConstraints(this.localWorld)},getAllComposites:function(){return u.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var T=this.debugConfig,k=this.engine,P=this.debugGraphic,R=u.allBodies(this.localWorld);this.debugGraphic.clear(),T.showBroadphase&&k.broadphase.controller&&this.renderGrid(k.broadphase,P,T.broadphaseColor,.5),T.showBounds&&this.renderBodyBounds(R,P,T.boundsColor,.5),(T.showBody||T.showStaticBody)&&this.renderBodies(R),T.showJoint&&this.renderJoints(),(T.showAxes||T.showAngleIndicator)&&this.renderBodyAxes(R,P,T.showAxes,T.angleColor,.5),T.showVelocity&&this.renderBodyVelocity(R,P,T.velocityColor,1,2),T.showSeparations&&this.renderSeparations(k.pairs.list,P,T.separationColor),T.showCollisions&&this.renderCollisions(k.pairs.list,P,T.collisionColor)}},renderGrid:function(T,k,P,R){k.lineStyle(1,P,R);for(var M=h.keys(T.buckets),I=0;I<M.length;I++){var B=M[I];if(!(T.buckets[B].length<2)){var D=B.split(/C|R/);k.strokeRect(parseInt(D[1],10)*T.bucketWidth,parseInt(D[2],10)*T.bucketHeight,T.bucketWidth,T.bucketHeight)}}return this},renderSeparations:function(T,k,P){k.lineStyle(1,P,1);for(var R=0;R<T.length;R++){var M=T[R];if(M.isActive){var I=M.collision,B=I.bodyA,D=I.bodyB,N=B.position,_=D.position,G=I.penetration,$=!B.isStatic&&!D.isStatic?4:1;D.isStatic&&($=0),k.lineBetween(_.x,_.y,_.x-G.x*$,_.y-G.y*$),$=!B.isStatic&&!D.isStatic?4:1,B.isStatic&&($=0),k.lineBetween(N.x,N.y,N.x-G.x*$,N.y-G.y*$)}}return this},renderCollisions:function(T,k,P){k.lineStyle(1,P,.5),k.fillStyle(P,1);var R,M;for(R=0;R<T.length;R++)if(M=T[R],!!M.isActive)for(var I=0;I<M.activeContacts.length;I++){var B=M.activeContacts[I],D=B.vertex;k.fillRect(D.x-2,D.y-2,5,5)}for(R=0;R<T.length;R++)if(M=T[R],!!M.isActive){var N=M.collision,_=M.activeContacts;if(_.length>0){var G=_[0].vertex.x,$=_[0].vertex.y;_.length===2&&(G=(_[0].vertex.x+_[1].vertex.x)/2,$=(_[0].vertex.y+_[1].vertex.y)/2),N.bodyB===N.supports[0].body||N.bodyA.isStatic?k.lineBetween(G-N.normal.x*8,$-N.normal.y*8,G,$):k.lineBetween(G+N.normal.x*8,$+N.normal.y*8,G,$)}}return this},renderBodyBounds:function(T,k,P,R){k.lineStyle(1,P,R);for(var M=0;M<T.length;M++){var I=T[M];if(I.render.visible){var B=I.bounds;if(B)k.strokeRect(B.min.x,B.min.y,B.max.x-B.min.x,B.max.y-B.min.y);else for(var D=I.parts,N=D.length>1?1:0;N<D.length;N++){var _=D[N];k.strokeRect(_.bounds.min.x,_.bounds.min.y,_.bounds.max.x-_.bounds.min.x,_.bounds.max.y-_.bounds.min.y)}}}return this},renderBodyAxes:function(T,k,P,R,M){k.lineStyle(1,R,M);for(var I=0;I<T.length;I++){var B=T[I],D=B.parts;if(B.render.visible){var N,_,G;if(P)for(_=D.length>1?1:0;_<D.length;_++)for(N=D[_],G=0;G<N.axes.length;G++){var $=N.axes[G];k.lineBetween(N.position.x,N.position.y,N.position.x+$.x*20,N.position.y+$.y*20)}else for(_=D.length>1?1:0;_<D.length;_++)for(N=D[_],G=0;G<N.axes.length;G++)k.lineBetween(N.position.x,N.position.y,(N.vertices[0].x+N.vertices[N.vertices.length-1].x)/2,(N.vertices[0].y+N.vertices[N.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(T,k,P,R,M){k.lineStyle(M,P,R);for(var I=0;I<T.length;I++){var B=T[I];B.render.visible&&k.lineBetween(B.position.x,B.position.y,B.position.x+(B.position.x-B.positionPrev.x)*2,B.position.y+(B.position.y-B.positionPrev.y)*2)}return this},renderBodies:function(T){for(var k=this.debugGraphic,P=this.debugConfig,R=P.showBody,M=P.showStaticBody,I=P.showSleeping,B=P.showInternalEdges,D=P.showConvexHulls,N=P.renderFill,_=P.renderLine,G=P.staticBodySleepOpacity,$=P.sleepFillColor,V=P.sleepLineColor,Y=P.hullColor,U=0;U<T.length;U++){var F=T[U];if(F.render.visible&&!(!M&&F.isStatic||!R&&!F.isStatic)){var O=F.render.lineColor,j=F.render.lineOpacity,z=F.render.lineThickness,W=F.render.fillColor,q=F.render.fillOpacity;I&&F.isSleeping&&(F.isStatic?(j*=G,q*=G):(O=V,W=$)),N||(W=null),_||(O=null),this.renderBody(F,k,B,O,j,z,W,q);var ot=F.parts.length;D&&ot>1&&this.renderConvexHull(F,k,Y,z)}}},renderBody:function(T,k,P,R,M,I,B,D){R===void 0&&(R=null),M===void 0&&(M=null),I===void 0&&(I=1),B===void 0&&(B=null),D===void 0&&(D=null);for(var N=this.debugConfig,_=N.sensorFillColor,G=N.sensorLineColor,$=T.parts,V=$.length,Y=V>1?1:0;Y<V;Y++){var U=$[Y],F=U.render,O=F.opacity;if(!(!F.visible||O===0||U.isSensor&&!N.showSensors)){var j=U.circleRadius;if(k.beginPath(),U.isSensor?(B!==null&&k.fillStyle(_,D*O),R!==null&&k.lineStyle(I,G,M*O)):(B!==null&&k.fillStyle(B,D*O),R!==null&&k.lineStyle(I,R,M*O)),j)k.arc(U.position.x,U.position.y,j,0,2*Math.PI);else{var z=U.vertices,W=z.length;k.moveTo(z[0].x,z[0].y);for(var q=1;q<W;q++){var ot=z[q];if(!z[q-1].isInternal||P?k.lineTo(ot.x,ot.y):k.moveTo(ot.x,ot.y),q<W&&ot.isInternal&&!P){var Q=(q+1)%W;k.moveTo(z[Q].x,z[Q].y)}}k.closePath()}B!==null&&k.fillPath(),R!==null&&k.strokePath()}}if(N.showPositions&&!T.isStatic){var rt=T.position.x,Mt=T.position.y,K=Math.ceil(N.positionSize/2);k.fillStyle(N.positionColor,1),k.fillRect(rt-K,Mt-K,N.positionSize,N.positionSize)}return this},renderConvexHull:function(T,k,P,R){R===void 0&&(R=1);var M=T.parts,I=M.length;if(I>1){var B=T.vertices;k.lineStyle(R,P),k.beginPath(),k.moveTo(B[0].x,B[0].y);for(var D=1;D<B.length;D++)k.lineTo(B[D].x,B[D].y);k.lineTo(B[0].x,B[0].y),k.strokePath()}return this},renderJoints:function(){for(var T=this.debugGraphic,k=u.allConstraints(this.localWorld),P=0;P<k.length;P++){var R=k[P].render,M=R.lineColor,I=R.lineOpacity,B=R.lineThickness,D=R.pinSize,N=R.anchorColor,_=R.anchorSize;this.renderConstraint(k[P],T,M,I,B,D,N,_)}},renderConstraint:function(T,k,P,R,M,I,B,D){var N=T.render;if(!N.visible||!T.pointA||!T.pointB)return this;k.lineStyle(M,P,R);var _=T.bodyA,G=T.bodyB,$,V;if(_?$=C.add(_.position,T.pointA):$=T.pointA,N.type==="pin")k.strokeCircle($.x,$.y,I);else{if(G?V=C.add(G.position,T.pointB):V=T.pointB,k.beginPath(),k.moveTo($.x,$.y),N.type==="spring")for(var Y=C.sub(V,$),U=C.perp(C.normalise(Y)),F=Math.ceil(h.clamp(T.length/5,12,20)),O,j=1;j<F;j+=1)O=j%2===0?1:-1,k.lineTo($.x+Y.x*(j/F)+U.x*O*4,$.y+Y.y*(j/F)+U.y*O*4);k.lineTo(V.x,V.y)}return k.strokePath(),N.anchors&&D>0&&(k.fillStyle(B),k.fillCircle($.x,$.y,D),k.fillCircle(V.x,V.y,D)),this},resetCollisionIDs:function(){return v._nextCollidingGroupId=1,v._nextNonCollidingGroupId=-1,v._nextCategory=1,this},shutdown:function(){x.off(this.engine),this.removeAllListeners(),w.clear(this.localWorld,!1),o.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});s.exports=E},70410:s=>{var g={setBounce:function(i){return this.body.restitution=i,this}};s.exports=g},66968:s=>{var g={setCollisionCategory:function(i){return this.body.collisionFilter.category=i,this},setCollisionGroup:function(i){return this.body.collisionFilter.group=i,this},setCollidesWith:function(i){var a=0;if(!Array.isArray(i))a=i;else for(var v=0;v<i.length;v++)a|=i[v];return this.body.collisionFilter.mask=a,this},setOnCollide:function(i){return this.body.onCollideCallback=i,this},setOnCollideEnd:function(i){return this.body.onCollideEndCallback=i,this},setOnCollideActive:function(i){return this.body.onCollideActiveCallback=i,this},setOnCollideWith:function(i,a){Array.isArray(i)||(i=[i]);for(var v=0;v<i.length;v++){var f=i[v].hasOwnProperty("body")?i[v].body:i[v];this.body.setOnCollideWith(f,a)}return this}};s.exports=g},51607:(s,g,i)=>{var a=i(22562),v={applyForce:function(f){return this._tempVec2.set(this.body.position.x,this.body.position.y),a.applyForce(this.body,this._tempVec2,f),this},applyForceFrom:function(f,h){return a.applyForce(this.body,f,h),this},thrust:function(f){var h=this.body.angle;return this._tempVec2.set(f*Math.cos(h),f*Math.sin(h)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(f){var h=this.body.angle-Math.PI/2;return this._tempVec2.set(f*Math.cos(h),f*Math.sin(h)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(f){var h=this.body.angle+Math.PI/2;return this._tempVec2.set(f*Math.cos(h),f*Math.sin(h)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(f){var h=this.body.angle-Math.PI;return this._tempVec2.set(f*Math.cos(h),f*Math.sin(h)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};s.exports=v},5436:s=>{var g={setFriction:function(i,a,v){return this.body.friction=i,a!==void 0&&(this.body.frictionAir=a),v!==void 0&&(this.body.frictionStatic=v),this},setFrictionAir:function(i){return this.body.frictionAir=i,this},setFrictionStatic:function(i){return this.body.frictionStatic=i,this}};s.exports=g},39858:s=>{var g={setIgnoreGravity:function(i){return this.body.ignoreGravity=i,this}};s.exports=g},37302:(s,g,i)=>{var a=i(22562),v=i(26099),f={setMass:function(h){return a.setMass(this.body,h),this},setDensity:function(h){return a.setDensity(this.body,h),this},centerOfMass:{get:function(){return new v(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};s.exports=f},39132:s=>{var g={setSensor:function(i){return this.body.isSensor=i,this},isSensor:function(){return this.body.isSensor}};s.exports=g},57772:(s,g,i)=>{var a=i(66280),v=i(22562),f=i(43855),h=i(95540),u=i(19496),o=i(85791),d=i(41598),p={setRectangle:function(l,m,y){return this.setBody({type:"rectangle",width:l,height:m},y)},setCircle:function(l,m){return this.setBody({type:"circle",radius:l},m)},setPolygon:function(l,m,y){return this.setBody({type:"polygon",sides:m,radius:l},y)},setTrapezoid:function(l,m,y,x){return this.setBody({type:"trapezoid",width:l,height:m,slope:y},x)},setExistingBody:function(l,m){m===void 0&&(m=!0),this.body&&this.world.remove(this.body,!0),this.body=l;for(var y=0;y<l.parts.length;y++)l.parts[y].gameObject=this;var x=this;if(l.destroy=function(){x.world.remove(x.body,!0),x.body.gameObject=null},m&&(this.world.has(l)&&this.world.remove(l,!0),this.world.add(l)),this._originComponent){var b=l.render.sprite.xOffset,w=l.render.sprite.yOffset,C=l.centerOfMass.x,E=l.centerOfMass.y;if(f(C,.5)&&f(E,.5))this.setOrigin(b+.5,w+.5);else{var T=l.centerOffset.x,k=l.centerOffset.y;this.setOrigin(b+T/this.displayWidth,w+k/this.displayHeight)}}return this},setBody:function(l,m){if(!l)return this;var y;typeof l=="string"&&(l={type:l});var x=h(l,"type","rectangle"),b=h(l,"x",this._tempVec2.x),w=h(l,"y",this._tempVec2.y),C=h(l,"width",this.width),E=h(l,"height",this.height);switch(x){case"rectangle":y=a.rectangle(b,w,C,E,m);break;case"circle":var T=h(l,"radius",Math.max(C,E)/2),k=h(l,"maxSides",25);y=a.circle(b,w,T,m,k);break;case"trapezoid":var P=h(l,"slope",.5);y=a.trapezoid(b,w,C,E,P,m);break;case"polygon":var R=h(l,"sides",5),M=h(l,"radius",Math.max(C,E)/2);y=a.polygon(b,w,R,M,m);break;case"fromVertices":case"fromVerts":var I=h(l,"verts",null);if(I)if(typeof I=="string"&&(I=d.fromPath(I)),this.body&&!this.body.hasOwnProperty("temp"))v.setVertices(this.body,I),y=this.body;else{var B=h(l,"flagInternal",!1),D=h(l,"removeCollinear",.01),N=h(l,"minimumArea",10);y=a.fromVertices(b,w,I,m,B,D,N)}break;case"fromPhysicsEditor":y=u.parseBody(b,w,l,m);break;case"fromPhysicsTracer":y=o.parseBody(b,w,l,m);break}return y&&this.setExistingBody(y,l.addToWorld),this}};s.exports=p},38083:(s,g,i)=>{var a=i(1121),v=i(53614),f=i(35810),h={setToSleep:function(){return v.set(this.body,!0),this},setAwake:function(){return v.set(this.body,!1),this},setSleepThreshold:function(u){return u===void 0&&(u=60),this.body.sleepThreshold=u,this},setSleepEvents:function(u,o){return this.setSleepStartEvent(u),this.setSleepEndEvent(o),this},setSleepStartEvent:function(u){if(u){var o=this.world;f.on(this.body,"sleepStart",function(d){o.emit(a.SLEEP_START,d,this)})}else f.off(this.body,"sleepStart");return this},setSleepEndEvent:function(u){if(u){var o=this.world;f.on(this.body,"sleepEnd",function(d){o.emit(a.SLEEP_END,d,this)})}else f.off(this.body,"sleepEnd");return this}};s.exports=h},90556:(s,g,i)=>{var a=i(22562),v={setStatic:function(f){return a.setStatic(this.body,f),this},isStatic:function(){return this.body.isStatic}};s.exports=v},85436:(s,g,i)=>{var a=i(22562),v=i(36383),f=i(86554),h=i(30954),u=4,o={x:{get:function(){return this.body.position.x},set:function(d){this._tempVec2.set(d,this.y),a.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(d){this._tempVec2.set(this.x,d),a.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(d){var p=1/this._scaleX,l=1/this._scaleY;this._scaleX=d,this._scaleX===0?this.renderFlags&=~u:this.renderFlags|=u,a.scale(this.body,p,l),a.scale(this.body,d,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(d){var p=1/this._scaleX,l=1/this._scaleY;this._scaleY=d,this._scaleY===0?this.renderFlags&=~u:this.renderFlags|=u,a.scale(this.body,p,l),a.scale(this.body,this._scaleX,d)}},angle:{get:function(){return h(this.body.angle*v.RAD_TO_DEG)},set:function(d){this.rotation=h(d)*v.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(d){this._rotation=f(d),a.setAngle(this.body,this._rotation)}},setPosition:function(d,p){return d===void 0&&(d=0),p===void 0&&(p=d),this._tempVec2.set(d,p),a.setPosition(this.body,this._tempVec2),this},setRotation:function(d){return d===void 0&&(d=0),this._rotation=f(d),a.setAngle(this.body,d),this},setFixedRotation:function(){return a.setInertia(this.body,1/0),this},setAngle:function(d){return d===void 0&&(d=0),this.angle=d,a.setAngle(this.body,this.rotation),this},setScale:function(d,p,l){d===void 0&&(d=1),p===void 0&&(p=d);var m=1/this._scaleX,y=1/this._scaleY;return this._scaleX=d,this._scaleY=p,a.scale(this.body,m,y,l),a.scale(this.body,d,p,l),this}};s.exports=o},42081:(s,g,i)=>{var a=i(22562),v={setVelocityX:function(f){return this._tempVec2.set(f,this.body.velocity.y),a.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(f){return this._tempVec2.set(this.body.velocity.x,f),a.setVelocity(this.body,this._tempVec2),this},setVelocity:function(f,h){return this._tempVec2.set(f,h),a.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return a.getVelocity(this.body)},setAngularVelocity:function(f){return a.setAngularVelocity(this.body,f),this},getAngularVelocity:function(){return a.getAngularVelocity(this.body)},setAngularSpeed:function(f){return a.setAngularSpeed(this.body,f),this},getAngularSpeed:function(){return a.getAngularSpeed(this.body)}};s.exports=v},31884:(s,g,i)=>{s.exports={Bounce:i(70410),Collision:i(66968),Force:i(51607),Friction:i(5436),Gravity:i(39858),Mass:i(37302),Sensor:i(39132),SetBody:i(57772),Sleep:i(38083),Static:i(90556),Transform:i(85436),Velocity:i(42081)}},85608:s=>{s.exports="afteradd"},1213:s=>{s.exports="afterremove"},25968:s=>{s.exports="afterupdate"},67205:s=>{s.exports="beforeadd"},39438:s=>{s.exports="beforeremove"},44823:s=>{s.exports="beforeupdate"},92593:s=>{s.exports="collisionactive"},60128:s=>{s.exports="collisionend"},76861:s=>{s.exports="collisionstart"},92362:s=>{s.exports="dragend"},76408:s=>{s.exports="drag"},93971:s=>{s.exports="dragstart"},5656:s=>{s.exports="pause"},47861:s=>{s.exports="resume"},79099:s=>{s.exports="sleepend"},35906:s=>{s.exports="sleepstart"},1121:(s,g,i)=>{s.exports={AFTER_ADD:i(85608),AFTER_REMOVE:i(1213),AFTER_UPDATE:i(25968),BEFORE_ADD:i(67205),BEFORE_REMOVE:i(39438),BEFORE_UPDATE:i(44823),COLLISION_ACTIVE:i(92593),COLLISION_END:i(60128),COLLISION_START:i(76861),DRAG_END:i(92362),DRAG:i(76408),DRAG_START:i(93971),PAUSE:i(5656),RESUME:i(47861),SLEEP_END:i(79099),SLEEP_START:i(35906)}},3875:(s,g,i)=>{s.exports={BodyBounds:i(68174),Components:i(31884),Events:i(1121),Factory:i(28137),MatterGameObject:i(75803),Image:i(23181),Matter:i(19933),MatterPhysics:i(42045),PolyDecomp:i(55973),Sprite:i(34803),TileBody:i(73834),PhysicsEditorParser:i(19496),PhysicsJSONParser:i(85791),PointerConstraint:i(98713),World:i(68243)}},22562:(s,g,i)=>{var a={};s.exports=a;var v=i(41598),f=i(31725),h=i(53614),u=i(53402),o=i(15647),d=i(66615);(function(){a._timeCorrection=!0,a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a._baseDelta=16.666666666666668,a.create=function(l){var m={id:u.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!l.hasOwnProperty("position")&&l.hasOwnProperty("vertices")?l.position=v.centre(l.vertices):l.hasOwnProperty("vertices")||(m.vertices=v.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var y=u.extend(m,l);return p(y,l),y.setOnCollideWith=function(x,b){return b?this.onCollideWith[x.id]=b:delete this.onCollideWith[x.id],this},y},a.nextGroup=function(l){return l?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var p=function(l,m){if(m=m||{},a.set(l,{bounds:l.bounds||o.create(l.vertices),positionPrev:l.positionPrev||f.clone(l.position),anglePrev:l.anglePrev||l.angle,vertices:l.vertices,parts:l.parts||[l],isStatic:l.isStatic,isSleeping:l.isSleeping,parent:l.parent||l}),v.rotate(l.vertices,l.angle,l.position),d.rotate(l.axes,l.angle),o.update(l.bounds,l.vertices,l.velocity),a.set(l,{axes:m.axes||l.axes,area:m.area||l.area,mass:m.mass||l.mass,inertia:m.inertia||l.inertia}),l.parts.length===1){var y=l.bounds,x=l.centerOfMass,b=l.centerOffset,w=y.max.x-y.min.x,C=y.max.y-y.min.y;x.x=-(y.min.x-l.position.x)/w,x.y=-(y.min.y-l.position.y)/C,b.x=w*x.x,b.y=C*x.y}};a.set=function(l,m,y){var x;typeof m=="string"&&(x=m,m={},m[x]=y);for(x in m)if(Object.prototype.hasOwnProperty.call(m,x))switch(y=m[x],x){case"isStatic":a.setStatic(l,y);break;case"isSleeping":h.set(l,y);break;case"mass":a.setMass(l,y);break;case"density":a.setDensity(l,y);break;case"inertia":a.setInertia(l,y);break;case"vertices":a.setVertices(l,y);break;case"position":a.setPosition(l,y);break;case"angle":a.setAngle(l,y);break;case"velocity":a.setVelocity(l,y);break;case"angularVelocity":a.setAngularVelocity(l,y);break;case"speed":a.setSpeed(l,y);break;case"angularSpeed":a.setAngularSpeed(l,y);break;case"parts":a.setParts(l,y);break;case"centre":a.setCentre(l,y);break;default:l[x]=y}},a.setStatic=function(l,m){for(var y=0;y<l.parts.length;y++){var x=l.parts[y];m?(x.isStatic||(x._original={restitution:x.restitution,friction:x.friction,mass:x.mass,inertia:x.inertia,density:x.density,inverseMass:x.inverseMass,inverseInertia:x.inverseInertia}),x.restitution=0,x.friction=1,x.mass=x.inertia=x.density=1/0,x.inverseMass=x.inverseInertia=0,x.positionPrev.x=x.position.x,x.positionPrev.y=x.position.y,x.anglePrev=x.angle,x.angularVelocity=0,x.speed=0,x.angularSpeed=0,x.motion=0):x._original&&(x.restitution=x._original.restitution,x.friction=x._original.friction,x.mass=x._original.mass,x.inertia=x._original.inertia,x.density=x._original.density,x.inverseMass=x._original.inverseMass,x.inverseInertia=x._original.inverseInertia,x._original=null),x.isStatic=m}},a.setMass=function(l,m){var y=l.inertia/(l.mass/6);l.inertia=y*(m/6),l.inverseInertia=1/l.inertia,l.mass=m,l.inverseMass=1/l.mass,l.density=l.mass/l.area},a.setDensity=function(l,m){a.setMass(l,m*l.area),l.density=m},a.setInertia=function(l,m){l.inertia=m,l.inverseInertia=1/l.inertia},a.setVertices=function(l,m){m[0].body===l?l.vertices=m:l.vertices=v.create(m,l),l.axes=d.fromVertices(l.vertices),l.area=v.area(l.vertices),a.setMass(l,l.density*l.area);var y=v.centre(l.vertices);v.translate(l.vertices,y,-1),a.setInertia(l,a._inertiaScale*v.inertia(l.vertices,l.mass)),v.translate(l.vertices,l.position),o.update(l.bounds,l.vertices,l.velocity)},a.setParts=function(l,m,y){var x;for(m=m.slice(0),l.parts.length=0,l.parts.push(l),l.parent=l,x=0;x<m.length;x++){var b=m[x];b!==l&&(b.parent=l,l.parts.push(b))}if(l.parts.length!==1){if(y=typeof y!="undefined"?y:!0,y){var w=[];for(x=0;x<m.length;x++)w=w.concat(m[x].vertices);v.clockwiseSort(w);var C=v.hull(w),E=v.centre(C);a.setVertices(l,C),v.translate(l.vertices,E)}var T=a._totalProperties(l),k=T.centre.x,P=T.centre.y,R=l.bounds,M=l.centerOfMass,I=l.centerOffset;o.update(R,l.vertices,l.velocity),M.x=-(R.min.x-k)/(R.max.x-R.min.x),M.y=-(R.min.y-P)/(R.max.y-R.min.y),I.x=k,I.y=P,l.area=T.area,l.parent=l,l.position.x=k,l.position.y=P,l.positionPrev.x=k,l.positionPrev.y=P,a.setMass(l,T.mass),a.setInertia(l,T.inertia),a.setPosition(l,T.centre)}},a.setCentre=function(l,m,y){y?(l.positionPrev.x+=m.x,l.positionPrev.y+=m.y,l.position.x+=m.x,l.position.y+=m.y):(l.positionPrev.x=m.x-(l.position.x-l.positionPrev.x),l.positionPrev.y=m.y-(l.position.y-l.positionPrev.y),l.position.x=m.x,l.position.y=m.y)},a.setPosition=function(l,m,y){var x=f.sub(m,l.position);y?(l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.velocity.x=x.x,l.velocity.y=x.y,l.speed=f.magnitude(x)):(l.positionPrev.x+=x.x,l.positionPrev.y+=x.y);for(var b=0;b<l.parts.length;b++){var w=l.parts[b];w.position.x+=x.x,w.position.y+=x.y,v.translate(w.vertices,x),o.update(w.bounds,w.vertices,l.velocity)}},a.setAngle=function(l,m,y){var x=m-l.angle;y?(l.anglePrev=l.angle,l.angularVelocity=x,l.angularSpeed=Math.abs(x)):l.anglePrev+=x;for(var b=0;b<l.parts.length;b++){var w=l.parts[b];w.angle+=x,v.rotate(w.vertices,x,l.position),d.rotate(w.axes,x),o.update(w.bounds,w.vertices,l.velocity),b>0&&f.rotateAbout(w.position,x,l.position,w.position)}},a.setVelocity=function(l,m){var y=l.deltaTime/a._baseDelta;l.positionPrev.x=l.position.x-m.x*y,l.positionPrev.y=l.position.y-m.y*y,l.velocity.x=(l.position.x-l.positionPrev.x)/y,l.velocity.y=(l.position.y-l.positionPrev.y)/y,l.speed=f.magnitude(l.velocity)},a.getVelocity=function(l){var m=a._baseDelta/l.deltaTime;return{x:(l.position.x-l.positionPrev.x)*m,y:(l.position.y-l.positionPrev.y)*m}},a.getSpeed=function(l){return f.magnitude(a.getVelocity(l))},a.setSpeed=function(l,m){a.setVelocity(l,f.mult(f.normalise(a.getVelocity(l)),m))},a.setAngularVelocity=function(l,m){var y=l.deltaTime/a._baseDelta;l.anglePrev=l.angle-m*y,l.angularVelocity=(l.angle-l.anglePrev)/y,l.angularSpeed=Math.abs(l.angularVelocity)},a.getAngularVelocity=function(l){return(l.angle-l.anglePrev)*a._baseDelta/l.deltaTime},a.getAngularSpeed=function(l){return Math.abs(a.getAngularVelocity(l))},a.setAngularSpeed=function(l,m){a.setAngularVelocity(l,u.sign(a.getAngularVelocity(l))*m)},a.translate=function(l,m,y){a.setPosition(l,f.add(l.position,m),y)},a.rotate=function(l,m,y,x){if(!y)a.setAngle(l,l.angle+m,x);else{var b=Math.cos(m),w=Math.sin(m),C=l.position.x-y.x,E=l.position.y-y.y;a.setPosition(l,{x:y.x+(C*b-E*w),y:y.y+(C*w+E*b)},x),a.setAngle(l,l.angle+m,x)}},a.scale=function(l,m,y,x){var b=0,w=0;x=x||l.position;for(var C=l.inertia===1/0,E=0;E<l.parts.length;E++){var T=l.parts[E];T.scale.x=m,T.scale.y=y,v.scale(T.vertices,m,y,x),T.axes=d.fromVertices(T.vertices),T.area=v.area(T.vertices),a.setMass(T,l.density*T.area),v.translate(T.vertices,{x:-T.position.x,y:-T.position.y}),a.setInertia(T,a._inertiaScale*v.inertia(T.vertices,T.mass)),v.translate(T.vertices,{x:T.position.x,y:T.position.y}),E>0&&(b+=T.area,w+=T.inertia),T.position.x=x.x+(T.position.x-x.x)*m,T.position.y=x.y+(T.position.y-x.y)*y,o.update(T.bounds,T.vertices,l.velocity)}l.parts.length>1&&(l.area=b,l.isStatic||(a.setMass(l,l.density*b),a.setInertia(l,w))),l.circleRadius&&(m===y?l.circleRadius*=m:l.circleRadius=null),C&&a.setInertia(l,1/0)},a.update=function(l,m){m=(typeof m!="undefined"?m:16.666666666666668)*l.timeScale;var y=m*m,x=a._timeCorrection?m/(l.deltaTime||m):1,b=1-l.frictionAir*(m/u._baseDelta),w=(l.position.x-l.positionPrev.x)*x,C=(l.position.y-l.positionPrev.y)*x;l.velocity.x=w*b+l.force.x/l.mass*y,l.velocity.y=C*b+l.force.y/l.mass*y,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.position.x+=l.velocity.x,l.position.y+=l.velocity.y,l.deltaTime=m,l.angularVelocity=(l.angle-l.anglePrev)*b*x+l.torque/l.inertia*y,l.anglePrev=l.angle,l.angle+=l.angularVelocity,l.speed=f.magnitude(l.velocity),l.angularSpeed=Math.abs(l.angularVelocity);for(var E=0;E<l.parts.length;E++){var T=l.parts[E];v.translate(T.vertices,l.velocity),E>0&&(T.position.x+=l.velocity.x,T.position.y+=l.velocity.y),l.angularVelocity!==0&&(v.rotate(T.vertices,l.angularVelocity,l.position),d.rotate(T.axes,l.angularVelocity),E>0&&f.rotateAbout(T.position,l.angularVelocity,l.position,T.position)),o.update(T.bounds,T.vertices,l.velocity)}},a.updateVelocities=function(l){var m=a._baseDelta/l.deltaTime,y=l.velocity;y.x=(l.position.x-l.positionPrev.x)*m,y.y=(l.position.y-l.positionPrev.y)*m,l.speed=Math.sqrt(y.x*y.x+y.y*y.y),l.angularVelocity=(l.angle-l.anglePrev)*m,l.angularSpeed=Math.abs(l.angularVelocity)},a.applyForce=function(l,m,y){var x={x:m.x-l.position.x,y:m.y-l.position.y};l.force.x+=y.x,l.force.y+=y.y,l.torque+=x.x*y.y-x.y*y.x},a._totalProperties=function(l){for(var m={mass:0,area:0,inertia:0,centre:{x:0,y:0}},y=l.parts.length===1?0:1;y<l.parts.length;y++){var x=l.parts[y],b=x.mass!==1/0?x.mass:1;m.mass+=b,m.area+=x.area,m.inertia+=x.inertia,m.centre=f.add(m.centre,f.mult(x.position,b))}return m.centre=f.div(m.centre,m.mass),m}})()},69351:(s,g,i)=>{var a={};s.exports=a;var v=i(35810),f=i(53402),h=i(15647),u=i(22562);(function(){a.create=function(o){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},o)},a.setModified=function(o,d,p,l){if(v.trigger(o,"compositeModified",o),o.isModified=d,d&&o.cache&&(o.cache.allBodies=null,o.cache.allConstraints=null,o.cache.allComposites=null),p&&o.parent&&a.setModified(o.parent,d,p,l),l)for(var m=0;m<o.composites.length;m++){var y=o.composites[m];a.setModified(y,d,p,l)}},a.add=function(o,d){var p=[].concat(d);v.trigger(o,"beforeAdd",{object:d});for(var l=0;l<p.length;l++){var m=p[l];switch(m.type){case"body":if(m.parent!==m){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(o,m);break;case"constraint":a.addConstraint(o,m);break;case"composite":a.addComposite(o,m);break;case"mouseConstraint":a.addConstraint(o,m.constraint);break}}return v.trigger(o,"afterAdd",{object:d}),o},a.remove=function(o,d,p){var l=[].concat(d);v.trigger(o,"beforeRemove",{object:d});for(var m=0;m<l.length;m++){var y=l[m];switch(y.type){case"body":a.removeBody(o,y,p);break;case"constraint":a.removeConstraint(o,y,p);break;case"composite":a.removeComposite(o,y,p);break;case"mouseConstraint":a.removeConstraint(o,y.constraint);break}}return v.trigger(o,"afterRemove",{object:d}),o},a.addComposite=function(o,d){return o.composites.push(d),d.parent=o,a.setModified(o,!0,!0,!1),o},a.removeComposite=function(o,d,p){var l=f.indexOf(o.composites,d);if(l!==-1&&a.removeCompositeAt(o,l),p)for(var m=0;m<o.composites.length;m++)a.removeComposite(o.composites[m],d,!0);return o},a.removeCompositeAt=function(o,d){return o.composites.splice(d,1),a.setModified(o,!0,!0,!1),o},a.addBody=function(o,d){return o.bodies.push(d),a.setModified(o,!0,!0,!1),o},a.removeBody=function(o,d,p){var l=f.indexOf(o.bodies,d);if(l!==-1&&a.removeBodyAt(o,l),p)for(var m=0;m<o.composites.length;m++)a.removeBody(o.composites[m],d,!0);return o},a.removeBodyAt=function(o,d){return o.bodies.splice(d,1),a.setModified(o,!0,!0,!1),o},a.addConstraint=function(o,d){return o.constraints.push(d),a.setModified(o,!0,!0,!1),o},a.removeConstraint=function(o,d,p){var l=f.indexOf(o.constraints,d);if(l!==-1&&a.removeConstraintAt(o,l),p)for(var m=0;m<o.composites.length;m++)a.removeConstraint(o.composites[m],d,!0);return o},a.removeConstraintAt=function(o,d){return o.constraints.splice(d,1),a.setModified(o,!0,!0,!1),o},a.clear=function(o,d,p){if(p)for(var l=0;l<o.composites.length;l++)a.clear(o.composites[l],d,!0);return d?o.bodies=o.bodies.filter(function(m){return m.isStatic}):o.bodies.length=0,o.constraints.length=0,o.composites.length=0,a.setModified(o,!0,!0,!1),o},a.allBodies=function(o){if(o.cache&&o.cache.allBodies)return o.cache.allBodies;for(var d=[].concat(o.bodies),p=0;p<o.composites.length;p++)d=d.concat(a.allBodies(o.composites[p]));return o.cache&&(o.cache.allBodies=d),d},a.allConstraints=function(o){if(o.cache&&o.cache.allConstraints)return o.cache.allConstraints;for(var d=[].concat(o.constraints),p=0;p<o.composites.length;p++)d=d.concat(a.allConstraints(o.composites[p]));return o.cache&&(o.cache.allConstraints=d),d},a.allComposites=function(o){if(o.cache&&o.cache.allComposites)return o.cache.allComposites;for(var d=[].concat(o.composites),p=0;p<o.composites.length;p++)d=d.concat(a.allComposites(o.composites[p]));return o.cache&&(o.cache.allComposites=d),d},a.get=function(o,d,p){var l,m;switch(p){case"body":l=a.allBodies(o);break;case"constraint":l=a.allConstraints(o);break;case"composite":l=a.allComposites(o).concat(o);break}return l?(m=l.filter(function(y){return y.id.toString()===d.toString()}),m.length===0?null:m[0]):null},a.move=function(o,d,p){return a.remove(o,d),a.add(p,d),o},a.rebase=function(o){for(var d=a.allBodies(o).concat(a.allConstraints(o)).concat(a.allComposites(o)),p=0;p<d.length;p++)d[p].id=f.nextId();return o},a.translate=function(o,d,p){for(var l=p?a.allBodies(o):o.bodies,m=0;m<l.length;m++)u.translate(l[m],d);return o},a.rotate=function(o,d,p,l){for(var m=Math.cos(d),y=Math.sin(d),x=l?a.allBodies(o):o.bodies,b=0;b<x.length;b++){var w=x[b],C=w.position.x-p.x,E=w.position.y-p.y;u.setPosition(w,{x:p.x+(C*m-E*y),y:p.y+(C*y+E*m)}),u.rotate(w,d)}return o},a.scale=function(o,d,p,l,m){for(var y=m?a.allBodies(o):o.bodies,x=0;x<y.length;x++){var b=y[x],w=b.position.x-l.x,C=b.position.y-l.y;u.setPosition(b,{x:l.x+w*d,y:l.y+C*p}),u.scale(b,d,p)}return o},a.bounds=function(o){for(var d=a.allBodies(o),p=[],l=0;l<d.length;l+=1){var m=d[l];p.push(m.bounds.min,m.bounds.max)}return h.create(p)}})()},4372:(s,g,i)=>{var a={};s.exports=a;var v=i(69351);(function(){a.create=v.create,a.add=v.add,a.remove=v.remove,a.clear=v.clear,a.addComposite=v.addComposite,a.addBody=v.addBody,a.addConstraint=v.addConstraint})()},52284:(s,g,i)=>{var a={};s.exports=a;var v=i(41598),f=i(4506);(function(){var h=[],u={overlap:0,axis:null},o={overlap:0,axis:null};a.create=function(d,p){return{pair:null,collided:!1,bodyA:d,bodyB:p,parentA:d.parent,parentB:p.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},a.collides=function(d,p,l){if(a._overlapAxes(u,d.vertices,p.vertices,d.axes),u.overlap<=0||(a._overlapAxes(o,p.vertices,d.vertices,p.axes),o.overlap<=0))return null;var m=l&&l.table[f.id(d,p)],y;m?y=m.collision:(y=a.create(d,p),y.collided=!0,y.bodyA=d.id<p.id?d:p,y.bodyB=d.id<p.id?p:d,y.parentA=y.bodyA.parent,y.parentB=y.bodyB.parent),d=y.bodyA,p=y.bodyB;var x;u.overlap<o.overlap?x=u:x=o;var b=y.normal,w=y.supports,C=x.axis,E=C.x,T=C.y;E*(p.position.x-d.position.x)+T*(p.position.y-d.position.y)<0?(b.x=E,b.y=T):(b.x=-E,b.y=-T),y.tangent.x=-b.y,y.tangent.y=b.x,y.depth=x.overlap,y.penetration.x=b.x*y.depth,y.penetration.y=b.y*y.depth;var k=a._findSupports(d,p,b,1),P=0;if(v.contains(d.vertices,k[0])&&(w[P++]=k[0]),v.contains(d.vertices,k[1])&&(w[P++]=k[1]),P<2){var R=a._findSupports(p,d,b,-1);v.contains(p.vertices,R[0])&&(w[P++]=R[0]),P<2&&v.contains(p.vertices,R[1])&&(w[P++]=R[1])}return P===0&&(w[P++]=k[0]),w.length=P,y},a._overlapAxes=function(d,p,l,m){var y=p.length,x=l.length,b=p[0].x,w=p[0].y,C=l[0].x,E=l[0].y,T=m.length,k=Number.MAX_VALUE,P=0,R,M,I,B,D,N;for(D=0;D<T;D++){var _=m[D],G=_.x,$=_.y,V=b*G+w*$,Y=C*G+E*$,U=V,F=Y;for(N=1;N<y;N+=1)B=p[N].x*G+p[N].y*$,B>U?U=B:B<V&&(V=B);for(N=1;N<x;N+=1)B=l[N].x*G+l[N].y*$,B>F?F=B:B<Y&&(Y=B);if(M=U-Y,I=F-V,R=M<I?M:I,R<k&&(k=R,P=D,R<=0))break}d.axis=m[P],d.overlap=k},a._projectToAxis=function(d,p,l){for(var m=p[0].x*l.x+p[0].y*l.y,y=m,x=1;x<p.length;x+=1){var b=p[x].x*l.x+p[x].y*l.y;b>y?y=b:b<m&&(m=b)}d.min=m,d.max=y},a._findSupports=function(d,p,l,m){var y=p.vertices,x=y.length,b=d.position.x,w=d.position.y,C=l.x*m,E=l.y*m,T=Number.MAX_VALUE,k,P,R,M,I;for(I=0;I<x;I+=1)P=y[I],M=C*(b-P.x)+E*(w-P.y),M<T&&(T=M,k=P);return R=y[(x+k.index-1)%x],T=C*(b-R.x)+E*(w-R.y),P=y[(k.index+1)%x],C*(b-P.x)+E*(w-P.y)<T?(h[0]=k,h[1]=P,h):(h[0]=k,h[1]=R,h)}})()},43424:s=>{var g={};s.exports=g,function(){g.create=function(i){return{vertex:i,normalImpulse:0,tangentImpulse:0}}}()},81388:(s,g,i)=>{var a={};s.exports=a;var v=i(53402),f=i(52284);(function(){a.create=function(h){var u={bodies:[],pairs:null};return v.extend(u,h)},a.setBodies=function(h,u){h.bodies=u.slice(0)},a.clear=function(h){h.bodies=[]},a.collisions=function(h){var u=[],o=h.pairs,d=h.bodies,p=d.length,l=a.canCollide,m=f.collides,y,x;for(d.sort(a._compareBoundsX),y=0;y<p;y++){var b=d[y],w=b.bounds,C=b.bounds.max.x,E=b.bounds.max.y,T=b.bounds.min.y,k=b.isStatic||b.isSleeping,P=b.parts.length,R=P===1;for(x=y+1;x<p;x++){var M=d[x],I=M.bounds;if(I.min.x>C)break;if(!(E<I.min.y||T>I.max.y)&&!(k&&(M.isStatic||M.isSleeping))&&l(b.collisionFilter,M.collisionFilter)){var B=M.parts.length;if(R&&B===1){var D=m(b,M,o);D&&u.push(D)}else for(var N=P>1?1:0,_=B>1?1:0,G=N;G<P;G++)for(var $=b.parts[G],w=$.bounds,V=_;V<B;V++){var Y=M.parts[V],I=Y.bounds;if(!(w.min.x>I.max.x||w.max.x<I.min.x||w.max.y<I.min.y||w.min.y>I.max.y)){var D=m($,Y,o);D&&u.push(D)}}}}}return u},a.canCollide=function(h,u){return h.group===u.group&&h.group!==0?h.group>0:(h.mask&u.category)!==0&&(u.mask&h.category)!==0},a._compareBoundsX=function(h,u){return h.bounds.min.x-u.bounds.min.x}})()},4506:(s,g,i)=>{var a={};s.exports=a;var v=i(43424);(function(){a.create=function(f,h){var u=f.bodyA,o=f.bodyB,d={id:a.id(u,o),bodyA:u,bodyB:o,collision:f,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:u.isSensor||o.isSensor,timeCreated:h,timeUpdated:h,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(d,f,h),d},a.update=function(f,h,u){var o=f.contacts,d=h.supports,p=f.activeContacts,l=h.parentA,m=h.parentB,y=l.vertices.length;f.isActive=!0,f.timeUpdated=u,f.collision=h,f.separation=h.depth,f.inverseMass=l.inverseMass+m.inverseMass,f.friction=l.friction<m.friction?l.friction:m.friction,f.frictionStatic=l.frictionStatic>m.frictionStatic?l.frictionStatic:m.frictionStatic,f.restitution=l.restitution>m.restitution?l.restitution:m.restitution,f.slop=l.slop>m.slop?l.slop:m.slop,h.pair=f,p.length=0;for(var x=0;x<d.length;x++){var b=d[x],w=b.body===l?b.index:y+b.index,C=o[w];C?p.push(C):p.push(o[w]=v.create(b))}},a.setActive=function(f,h,u){h?(f.isActive=!0,f.timeUpdated=u):(f.isActive=!1,f.activeContacts.length=0)},a.id=function(f,h){return f.id<h.id?"A"+f.id+"B"+h.id:"A"+h.id+"B"+f.id}})()},99561:(s,g,i)=>{var a={};s.exports=a;var v=i(4506),f=i(53402);(function(){a.create=function(h){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},h)},a.update=function(h,u,o){var d=h.list,p=d.length,l=h.table,m=u.length,y=h.collisionStart,x=h.collisionEnd,b=h.collisionActive,w,C,E,T;for(y.length=0,x.length=0,b.length=0,T=0;T<p;T++)d[T].confirmedActive=!1;for(T=0;T<m;T++)w=u[T],E=w.pair,E?(E.isActive?b.push(E):y.push(E),v.update(E,w,o),E.confirmedActive=!0):(E=v.create(w,o),l[E.id]=E,y.push(E),d.push(E));var k=[];for(p=d.length,T=0;T<p;T++)E=d[T],E.confirmedActive||(v.setActive(E,!1,o),x.push(E),!E.collision.bodyA.isSleeping&&!E.collision.bodyB.isSleeping&&k.push(T));for(T=0;T<k.length;T++)C=k[T]-T,E=d[C],d.splice(C,1),delete l[E.id]},a.clear=function(h){return h.table={},h.list.length=0,h.collisionStart.length=0,h.collisionActive.length=0,h.collisionEnd.length=0,h}})()},73296:(s,g,i)=>{var a={};s.exports=a;var v=i(31725),f=i(52284),h=i(15647),u=i(66280),o=i(41598);(function(){a.collides=function(d,p){for(var l=[],m=p.length,y=d.bounds,x=f.collides,b=h.overlaps,w=0;w<m;w++){var C=p[w],E=C.parts.length,T=E===1?0:1;if(d!==C&&b(C.bounds,y))for(var k=T;k<E;k++){var P=C.parts[k];if(b(P.bounds,y)){var R=x(P,d);if(R){l.push(R);break}}}}return l},a.ray=function(d,p,l,m){m=m||1e-100;for(var y=v.angle(p,l),x=v.magnitude(v.sub(p,l)),b=(l.x+p.x)*.5,w=(l.y+p.y)*.5,C=u.rectangle(b,w,x,m,{angle:y}),E=a.collides(C,d),T=0;T<E.length;T+=1){var k=E[T];k.body=k.bodyB=k.bodyA}return E},a.region=function(d,p,l){for(var m=[],y=0;y<d.length;y++){var x=d[y],b=h.overlaps(x.bounds,p);(b&&!l||!b&&l)&&m.push(x)}return m},a.point=function(d,p){for(var l=[],m=0;m<d.length;m++){var y=d[m];if(h.contains(y.bounds,p))for(var x=y.parts.length===1?0:1;x<y.parts.length;x++){var b=y.parts[x];if(h.contains(b.bounds,p)&&o.contains(b.vertices,p)){l.push(y);break}}}return l}})()},66272:(s,g,i)=>{var a={};s.exports=a;var v=i(41598),f=i(53402),h=i(15647);(function(){a._restingThresh=2,a._restingThreshTangent=Math.sqrt(6),a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a._frictionMaxStatic=Number.MAX_VALUE,a.preSolvePosition=function(u){var o,d,p,l=u.length;for(o=0;o<l;o++)d=u[o],d.isActive&&(p=d.activeContacts.length,d.collision.parentA.totalContacts+=p,d.collision.parentB.totalContacts+=p)},a.solvePosition=function(u,o,d){var p,l,m,y,x,b,w,C,E=a._positionDampen*(d||1),T=f.clamp(o/f._baseDelta,0,1),k=u.length;for(p=0;p<k;p++)l=u[p],!(!l.isActive||l.isSensor)&&(m=l.collision,y=m.parentA,x=m.parentB,b=m.normal,l.separation=b.x*(x.positionImpulse.x+m.penetration.x-y.positionImpulse.x)+b.y*(x.positionImpulse.y+m.penetration.y-y.positionImpulse.y));for(p=0;p<k;p++)l=u[p],!(!l.isActive||l.isSensor)&&(m=l.collision,y=m.parentA,x=m.parentB,b=m.normal,C=l.separation-l.slop*T,(y.isStatic||x.isStatic)&&(C*=2),y.isStatic||y.isSleeping||(w=E/y.totalContacts,y.positionImpulse.x+=b.x*C*w,y.positionImpulse.y+=b.y*C*w),x.isStatic||x.isSleeping||(w=E/x.totalContacts,x.positionImpulse.x-=b.x*C*w,x.positionImpulse.y-=b.y*C*w))},a.postSolvePosition=function(u){for(var o=a._positionWarming,d=u.length,p=v.translate,l=h.update,m=0;m<d;m++){var y=u[m],x=y.positionImpulse,b=x.x,w=x.y,C=y.velocity;if(y.totalContacts=0,b!==0||w!==0){for(var E=0;E<y.parts.length;E++){var T=y.parts[E];p(T.vertices,x),l(T.bounds,T.vertices,C),T.position.x+=b,T.position.y+=w}y.positionPrev.x+=b,y.positionPrev.y+=w,b*C.x+w*C.y<0?(x.x=0,x.y=0):(x.x*=o,x.y*=o)}}},a.preSolveVelocity=function(u){var o=u.length,d,p;for(d=0;d<o;d++){var l=u[d];if(!(!l.isActive||l.isSensor)){var m=l.activeContacts,y=m.length,x=l.collision,b=x.parentA,w=x.parentB,C=x.normal,E=x.tangent;for(p=0;p<y;p++){var T=m[p],k=T.vertex,P=T.normalImpulse,R=T.tangentImpulse;if(P!==0||R!==0){var M=C.x*P+E.x*R,I=C.y*P+E.y*R;b.isStatic||b.isSleeping||(b.positionPrev.x+=M*b.inverseMass,b.positionPrev.y+=I*b.inverseMass,b.anglePrev+=b.inverseInertia*((k.x-b.position.x)*I-(k.y-b.position.y)*M)),w.isStatic||w.isSleeping||(w.positionPrev.x-=M*w.inverseMass,w.positionPrev.y-=I*w.inverseMass,w.anglePrev-=w.inverseInertia*((k.x-w.position.x)*I-(k.y-w.position.y)*M))}}}}},a.solveVelocity=function(u,o){var d=o/f._baseDelta,p=d*d,l=p*d,m=-a._restingThresh*d,y=a._restingThreshTangent,x=a._frictionNormalMultiplier*d,b=a._frictionMaxStatic,w=u.length,C,E,T,k;for(T=0;T<w;T++){var P=u[T];if(!(!P.isActive||P.isSensor)){var R=P.collision,M=R.parentA,I=R.parentB,B=M.velocity,D=I.velocity,N=R.normal.x,_=R.normal.y,G=R.tangent.x,$=R.tangent.y,V=P.activeContacts,Y=V.length,U=1/Y,F=M.inverseMass+I.inverseMass,O=P.friction*P.frictionStatic*x;for(B.x=M.position.x-M.positionPrev.x,B.y=M.position.y-M.positionPrev.y,D.x=I.position.x-I.positionPrev.x,D.y=I.position.y-I.positionPrev.y,M.angularVelocity=M.angle-M.anglePrev,I.angularVelocity=I.angle-I.anglePrev,k=0;k<Y;k++){var j=V[k],z=j.vertex,W=z.x-M.position.x,q=z.y-M.position.y,ot=z.x-I.position.x,Q=z.y-I.position.y,rt=B.x-q*M.angularVelocity,Mt=B.y+W*M.angularVelocity,K=D.x-Q*I.angularVelocity,It=D.y+ot*I.angularVelocity,Ft=rt-K,ft=Mt-It,yt=N*Ft+_*ft,At=G*Ft+$*ft,Bt=P.separation+yt,le=Math.min(Bt,1);le=Bt<0?0:le;var _t=le*O;At<-_t||At>_t?(E=At>0?At:-At,C=P.friction*(At>0?1:-1)*l,C<-E?C=-E:C>E&&(C=E)):(C=At,E=b);var xe=W*_-q*N,Ee=ot*_-Q*N,ve=U/(F+M.inverseInertia*xe*xe+I.inverseInertia*Ee*Ee),Fe=(1+P.restitution)*yt*ve;if(C*=ve,yt<m)j.normalImpulse=0;else{var Ze=j.normalImpulse;j.normalImpulse+=Fe,j.normalImpulse>0&&(j.normalImpulse=0),Fe=j.normalImpulse-Ze}if(At<-y||At>y)j.tangentImpulse=0;else{var ei=j.tangentImpulse;j.tangentImpulse+=C,j.tangentImpulse<-E&&(j.tangentImpulse=-E),j.tangentImpulse>E&&(j.tangentImpulse=E),C=j.tangentImpulse-ei}var Ci=N*Fe+G*C,xt=_*Fe+$*C;M.isStatic||M.isSleeping||(M.positionPrev.x+=Ci*M.inverseMass,M.positionPrev.y+=xt*M.inverseMass,M.anglePrev+=(W*xt-q*Ci)*M.inverseInertia),I.isStatic||I.isSleeping||(I.positionPrev.x-=Ci*I.inverseMass,I.positionPrev.y-=xt*I.inverseMass,I.anglePrev-=(ot*xt-Q*Ci)*I.inverseInertia)}}}}})()},48140:(s,g,i)=>{var a={};s.exports=a;var v=i(41598),f=i(31725),h=i(53614),u=i(15647),o=i(66615),d=i(53402);(function(){a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(p){var l=p;l.bodyA&&!l.pointA&&(l.pointA={x:0,y:0}),l.bodyB&&!l.pointB&&(l.pointB={x:0,y:0});var m=l.bodyA?f.add(l.bodyA.position,l.pointA):l.pointA,y=l.bodyB?f.add(l.bodyB.position,l.pointB):l.pointB,x=f.magnitude(f.sub(m,y));l.length=typeof l.length!="undefined"?l.length:x,l.id=l.id||d.nextId(),l.label=l.label||"Constraint",l.type="constraint",l.stiffness=l.stiffness||(l.length>0?1:.7),l.damping=l.damping||0,l.angularStiffness=l.angularStiffness||0,l.angleA=l.bodyA?l.bodyA.angle:l.angleA,l.angleB=l.bodyB?l.bodyB.angle:l.angleB,l.plugin={};var b={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return l.length===0&&l.stiffness>.1?(b.type="pin",b.anchors=!1):l.stiffness<.9&&(b.type="spring"),l.render=d.extend(b,l.render),l},a.preSolveAll=function(p){for(var l=0;l<p.length;l+=1){var m=p[l],y=m.constraintImpulse;m.isStatic||y.x===0&&y.y===0&&y.angle===0||(m.position.x+=y.x,m.position.y+=y.y,m.angle+=y.angle)}},a.solveAll=function(p,l){for(var m=d.clamp(l/d._baseDelta,0,1),y=0;y<p.length;y+=1){var x=p[y],b=!x.bodyA||x.bodyA&&x.bodyA.isStatic,w=!x.bodyB||x.bodyB&&x.bodyB.isStatic;(b||w)&&a.solve(p[y],m)}for(y=0;y<p.length;y+=1)x=p[y],b=!x.bodyA||x.bodyA&&x.bodyA.isStatic,w=!x.bodyB||x.bodyB&&x.bodyB.isStatic,!b&&!w&&a.solve(p[y],m)},a.solve=function(p,l){var m=p.bodyA,y=p.bodyB,x=p.pointA,b=p.pointB;if(!(!m&&!y)){m&&!m.isStatic&&(f.rotate(x,m.angle-p.angleA,x),p.angleA=m.angle),y&&!y.isStatic&&(f.rotate(b,y.angle-p.angleB,b),p.angleB=y.angle);var w=x,C=b;if(m&&(w=f.add(m.position,x)),y&&(C=f.add(y.position,b)),!(!w||!C)){var E=f.sub(w,C),T=f.magnitude(E);T<a._minLength&&(T=a._minLength);var k=(T-p.length)/T,P=p.stiffness>=1||p.length===0,R=P?p.stiffness*l:p.stiffness*l*l,M=p.damping*l,I=f.mult(E,k*R),B=(m?m.inverseMass:0)+(y?y.inverseMass:0),D=(m?m.inverseInertia:0)+(y?y.inverseInertia:0),N=B+D,_,G,$,V,Y;if(M>0){var U=f.create();$=f.div(E,T),Y=f.sub(y&&f.sub(y.position,y.positionPrev)||U,m&&f.sub(m.position,m.positionPrev)||U),V=f.dot($,Y)}m&&!m.isStatic&&(G=m.inverseMass/B,m.constraintImpulse.x-=I.x*G,m.constraintImpulse.y-=I.y*G,m.position.x-=I.x*G,m.position.y-=I.y*G,M>0&&(m.positionPrev.x-=M*$.x*V*G,m.positionPrev.y-=M*$.y*V*G),_=f.cross(x,I)/N*a._torqueDampen*m.inverseInertia*(1-p.angularStiffness),m.constraintImpulse.angle-=_,m.angle-=_),y&&!y.isStatic&&(G=y.inverseMass/B,y.constraintImpulse.x+=I.x*G,y.constraintImpulse.y+=I.y*G,y.position.x+=I.x*G,y.position.y+=I.y*G,M>0&&(y.positionPrev.x+=M*$.x*V*G,y.positionPrev.y+=M*$.y*V*G),_=f.cross(b,I)/N*a._torqueDampen*y.inverseInertia*(1-p.angularStiffness),y.constraintImpulse.angle+=_,y.angle+=_)}}},a.postSolveAll=function(p){for(var l=0;l<p.length;l++){var m=p[l],y=m.constraintImpulse;if(!(m.isStatic||y.x===0&&y.y===0&&y.angle===0)){h.set(m,!1);for(var x=0;x<m.parts.length;x++){var b=m.parts[x];v.translate(b.vertices,y),x>0&&(b.position.x+=y.x,b.position.y+=y.y),y.angle!==0&&(v.rotate(b.vertices,y.angle,m.position),o.rotate(b.axes,y.angle),x>0&&f.rotateAbout(b.position,y.angle,m.position,b.position)),u.update(b.bounds,b.vertices,m.velocity)}y.angle*=a._warming,y.x*=a._warming,y.y*=a._warming}}},a.pointAWorld=function(p){return{x:(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),y:(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0)}},a.pointBWorld=function(p){return{x:(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),y:(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0)}},a.currentLength=function(p){var l=(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),m=(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0),y=(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),x=(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0),b=l-y,w=m-x;return Math.sqrt(b*b+w*w)}})()},53402:(s,g,i)=>{var a={};s.exports=a,function(){a._baseDelta=16.666666666666668,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(f,h){var u,o;typeof h=="boolean"?(u=2,o=h):(u=1,o=!0);for(var d=u;d<arguments.length;d++){var p=arguments[d];if(p)for(var l in p)o&&p[l]&&p[l].constructor===Object&&(!f[l]||f[l].constructor===Object)?(f[l]=f[l]||{},a.extend(f[l],o,p[l])):f[l]=p[l]}return f},a.clone=function(f,h){return a.extend({},h,f)},a.keys=function(f){if(Object.keys)return Object.keys(f);var h=[];for(var u in f)h.push(u);return h},a.values=function(f){var h=[];if(Object.keys){for(var u=Object.keys(f),o=0;o<u.length;o++)h.push(f[u[o]]);return h}for(var d in f)h.push(f[d]);return h},a.get=function(f,h,u,o){h=h.split(".").slice(u,o);for(var d=0;d<h.length;d+=1)f=f[h[d]];return f},a.set=function(f,h,u,o,d){var p=h.split(".").slice(o,d);return a.get(f,h,0,-1)[p[p.length-1]]=u,u},a.shuffle=function(f){for(var h=f.length-1;h>0;h--){var u=Math.floor(a.random()*(h+1)),o=f[h];f[h]=f[u],f[u]=o}return f},a.choose=function(f){return f[Math.floor(a.random()*f.length)]},a.isElement=function(f){return typeof HTMLElement!="undefined"?f instanceof HTMLElement:!!(f&&f.nodeType&&f.nodeName)},a.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},a.isFunction=function(f){return typeof f=="function"},a.isPlainObject=function(f){return typeof f=="object"&&f.constructor===Object},a.isString=function(f){return toString.call(f)==="[object String]"},a.clamp=function(f,h,u){return f<h?h:f>u?u:f},a.sign=function(f){return f<0?-1:1},a.now=function(){if(typeof window!="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(f,h){return f=typeof f!="undefined"?f:0,h=typeof h!="undefined"?h:1,f+v()*(h-f)};var v=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(f){return f=f.replace("#",""),f.length==3&&(f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)),parseInt(f,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var f=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[f]||(a.warn(f),a._warnedOnce[f]=!0)},a.deprecated=function(f,h,u){f[h]=a.chain(function(){a.warnOnce(" deprecated ",u)},f[h])},a.nextId=function(){return a._nextId++},a.indexOf=function(f,h){if(f.indexOf)return f.indexOf(h);for(var u=0;u<f.length;u++)if(f[u]===h)return u;return-1},a.map=function(f,h){if(f.map)return f.map(h);for(var u=[],o=0;o<f.length;o+=1)u.push(h(f[o]));return u},a.topologicalSort=function(f){var h=[],u=[],o=[];for(var d in f)!u[d]&&!o[d]&&a._topologicalSort(d,u,o,f,h);return h},a._topologicalSort=function(f,h,u,o,d){var p=o[f]||[];u[f]=!0;for(var l=0;l<p.length;l+=1){var m=p[l];u[m]||h[m]||a._topologicalSort(m,h,u,o,d)}u[f]=!1,h[f]=!0,d.push(f)},a.chain=function(){for(var f=[],h=0;h<arguments.length;h+=1){var u=arguments[h];u._chained?f.push.apply(f,u._chained):f.push(u)}var o=function(){for(var d,p=new Array(arguments.length),l=0,m=arguments.length;l<m;l++)p[l]=arguments[l];for(l=0;l<f.length;l+=1){var y=f[l].apply(d,p);typeof y!="undefined"&&(d=y)}return d};return o._chained=f,o},a.chainPathBefore=function(f,h,u){return a.set(f,h,a.chain(u,a.get(f,h)))},a.chainPathAfter=function(f,h,u){return a.set(f,h,a.chain(a.get(f,h),u))},a.setDecomp=function(f){a._decomp=f},a.getDecomp=function(){var f=a._decomp;try{!f&&typeof window!="undefined"&&(f=window.decomp),!f&&typeof i.g!="undefined"&&(f=i.g.decomp)}catch(h){f=null}return f}}()},48413:(s,g,i)=>{var a={};s.exports=a;var v=i(53614),f=i(66272),h=i(81388),u=i(99561),o=i(35810),d=i(69351),p=i(48140),l=i(53402),m=i(22562);(function(){a.create=function(y){y=y||{};var x={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},b=l.extend(x,y);return b.world=y.world||d.create({label:"World"}),b.pairs=y.pairs||u.create(),b.detector=y.detector||h.create(),b.grid={buckets:[]},b.world.gravity=b.gravity,b.broadphase=b.grid,b.metrics={},b},a.update=function(y,x){var b=l.now(),w=y.world,C=y.detector,E=y.pairs,T=y.timing,k=T.timestamp,P;x=typeof x!="undefined"?x:l._baseDelta,x*=T.timeScale,T.timestamp+=x,T.lastDelta=x;var R={timestamp:T.timestamp,delta:x};o.trigger(y,"beforeUpdate",R);var M=d.allBodies(w),I=d.allConstraints(w);for(w.isModified&&(h.setBodies(C,M),d.setModified(w,!1,!1,!0)),y.enableSleeping&&v.update(M,x),a._bodiesApplyGravity(M,y.gravity),x>0&&a._bodiesUpdate(M,x),o.trigger(y,"beforeSolve",R),p.preSolveAll(M),P=0;P<y.constraintIterations;P++)p.solveAll(I,x);p.postSolveAll(M),C.pairs=y.pairs;var B=h.collisions(C);u.update(E,B,k),y.enableSleeping&&v.afterCollisions(E.list),E.collisionStart.length>0&&o.trigger(y,"collisionStart",{pairs:E.collisionStart,timestamp:T.timestamp,delta:x});var D=l.clamp(20/y.positionIterations,0,1);for(f.preSolvePosition(E.list),P=0;P<y.positionIterations;P++)f.solvePosition(E.list,x,D);for(f.postSolvePosition(M),p.preSolveAll(M),P=0;P<y.constraintIterations;P++)p.solveAll(I,x);for(p.postSolveAll(M),f.preSolveVelocity(E.list),P=0;P<y.velocityIterations;P++)f.solveVelocity(E.list,x);return a._bodiesUpdateVelocities(M),E.collisionActive.length>0&&o.trigger(y,"collisionActive",{pairs:E.collisionActive,timestamp:T.timestamp,delta:x}),E.collisionEnd.length>0&&o.trigger(y,"collisionEnd",{pairs:E.collisionEnd,timestamp:T.timestamp,delta:x}),a._bodiesClearForces(M),o.trigger(y,"afterUpdate",R),y.timing.lastElapsed=l.now()-b,y},a.merge=function(y,x){if(l.extend(y,x),x.world){y.world=x.world,a.clear(y);for(var b=d.allBodies(y.world),w=0;w<b.length;w++){var C=b[w];v.set(C,!1),C.id=l.nextId()}}},a.clear=function(y){u.clear(y.pairs),h.clear(y.detector)},a._bodiesClearForces=function(y){for(var x=y.length,b=0;b<x;b++){var w=y[b];w.force.x=0,w.force.y=0,w.torque=0}},a._bodiesApplyGravity=function(y,x){var b=typeof x.scale!="undefined"?x.scale:.001,w=y.length;if(!(x.x===0&&x.y===0||b===0))for(var C=0;C<w;C++){var E=y[C];E.ignoreGravity||E.isStatic||E.isSleeping||(E.force.y+=E.mass*x.y*b,E.force.x+=E.mass*x.x*b)}},a._bodiesUpdate=function(y,x){for(var b=y.length,w=0;w<b;w++){var C=y[w];C.isStatic||C.isSleeping||m.update(C,x)}},a._bodiesUpdateVelocities=function(y){for(var x=y.length,b=0;b<x;b++)m.updateVelocities(y[b])}})()},35810:(s,g,i)=>{var a={};s.exports=a;var v=i(53402);(function(){a.on=function(f,h,u){for(var o=h.split(" "),d,p=0;p<o.length;p++)d=o[p],f.events=f.events||{},f.events[d]=f.events[d]||[],f.events[d].push(u);return u},a.off=function(f,h,u){if(!h){f.events={};return}typeof h=="function"&&(u=h,h=v.keys(f.events).join(" "));for(var o=h.split(" "),d=0;d<o.length;d++){var p=f.events[o[d]],l=[];if(u&&p)for(var m=0;m<p.length;m++)p[m]!==u&&l.push(p[m]);f.events[o[d]]=l}},a.trigger=function(f,h,u){var o,d,p,l,m=f.events;if(m&&v.keys(m).length>0){u||(u={}),o=h.split(" ");for(var y=0;y<o.length;y++)if(d=o[y],p=m[d],p){l=v.clone(u,!1),l.name=d,l.source=f;for(var x=0;x<p.length;x++)p[x].apply(f,[l])}}}})()},6790:(s,g,i)=>{var a={};s.exports=a;var v=i(73832),f=i(53402);(function(){a.name="matter-js",a.version="0.19.0",a.uses=[],a.used=[],a.use=function(){v.use(a,Array.prototype.slice.call(arguments))},a.before=function(h,u){return h=h.replace(/^Matter./,""),f.chainPathBefore(a,h,u)},a.after=function(h,u){return h=h.replace(/^Matter./,""),f.chainPathAfter(a,h,u)}})()},73832:(s,g,i)=>{var a={};s.exports=a;var v=i(53402);(function(){a._registry={},a.register=function(f){if(a.isPlugin(f)||v.warn("Plugin.register:",a.toString(f),"does not implement all required fields."),f.name in a._registry){var h=a._registry[f.name],u=a.versionParse(f.version).number,o=a.versionParse(h.version).number;u>o?(v.warn("Plugin.register:",a.toString(h),"was upgraded to",a.toString(f)),a._registry[f.name]=f):u<o?v.warn("Plugin.register:",a.toString(h),"can not be downgraded to",a.toString(f)):f!==h&&v.warn("Plugin.register:",a.toString(f),"is already registered to different plugin object")}else a._registry[f.name]=f;return f},a.resolve=function(f){return a._registry[a.dependencyParse(f).name]},a.toString=function(f){return typeof f=="string"?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},a.isPlugin=function(f){return f&&f.name&&f.version&&f.install},a.isUsed=function(f,h){return f.used.indexOf(h)>-1},a.isFor=function(f,h){var u=f.for&&a.dependencyParse(f.for);return!f.for||h.name===u.name&&a.versionSatisfies(h.version,u.range)},a.use=function(f,h){if(f.uses=(f.uses||[]).concat(h||[]),f.uses.length===0){v.warn("Plugin.use:",a.toString(f),"does not specify any dependencies to install.");return}for(var u=a.dependencies(f),o=v.topologicalSort(u),d=[],p=0;p<o.length;p+=1)if(o[p]!==f.name){var l=a.resolve(o[p]);if(!l){d.push(" "+o[p]);continue}a.isUsed(f,l.name)||(a.isFor(l,f)||(v.warn("Plugin.use:",a.toString(l),"is for",l.for,"but installed on",a.toString(f)+"."),l._warned=!0),l.install?l.install(f):(v.warn("Plugin.use:",a.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(d.push(" "+a.toString(l)),delete l._warned):d.push(" "+a.toString(l)),f.used.push(l.name))}d.length>0&&!l.silent&&v.info(d.join("  "))},a.dependencies=function(f,h){var u=a.dependencyParse(f),o=u.name;if(h=h||{},!(o in h)){f=a.resolve(f)||f,h[o]=v.map(f.uses||[],function(p){a.isPlugin(p)&&a.register(p);var l=a.dependencyParse(p),m=a.resolve(p);return m&&!a.versionSatisfies(m.version,l.range)?(v.warn("Plugin.dependencies:",a.toString(m),"does not satisfy",a.toString(l),"used by",a.toString(u)+"."),m._warned=!0,f._warned=!0):m||(v.warn("Plugin.dependencies:",a.toString(p),"used by",a.toString(u),"could not be resolved."),f._warned=!0),l.name});for(var d=0;d<h[o].length;d+=1)a.dependencies(h[o][d],h);return h}},a.dependencyParse=function(f){if(v.isString(f)){var h=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return h.test(f)||v.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}}return{name:f.name,range:f.range||f.version}},a.versionParse=function(f){var h=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;h.test(f)||v.warn("Plugin.versionParse:",f,"is not a valid version or range.");var u=h.exec(f),o=Number(u[4]),d=Number(u[5]),p=Number(u[6]);return{isRange:!!(u[1]||u[2]),version:u[3],range:f,operator:u[1]||u[2]||"",major:o,minor:d,patch:p,parts:[o,d,p],prerelease:u[7],number:o*1e8+d*1e4+p}},a.versionSatisfies=function(f,h){h=h||"*";var u=a.versionParse(h),o=a.versionParse(f);if(u.isRange){if(u.operator==="*"||f==="*")return!0;if(u.operator===">")return o.number>u.number;if(u.operator===">=")return o.number>=u.number;if(u.operator==="~")return o.major===u.major&&o.minor===u.minor&&o.patch>=u.patch;if(u.operator==="^")return u.major>0?o.major===u.major&&o.number>=u.number:u.minor>0?o.minor===u.minor&&o.patch>=u.patch:o.patch===u.patch}return f===h||f==="*"}})()},53614:(s,g,i)=>{var a={};s.exports=a;var v=i(22562),f=i(35810),h=i(53402);(function(){a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(u,o){for(var d=o/h._baseDelta,p=a._motionSleepThreshold,l=0;l<u.length;l++){var m=u[l],y=v.getSpeed(m),x=v.getAngularSpeed(m),b=y*y+x*x;if(m.force.x!==0||m.force.y!==0){a.set(m,!1);continue}var w=Math.min(m.motion,b),C=Math.max(m.motion,b);m.motion=a._minBias*w+(1-a._minBias)*C,m.sleepThreshold>0&&m.motion<p?(m.sleepCounter+=1,m.sleepCounter>=m.sleepThreshold/d&&a.set(m,!0)):m.sleepCounter>0&&(m.sleepCounter-=1)}},a.afterCollisions=function(u){for(var o=a._motionSleepThreshold,d=0;d<u.length;d++){var p=u[d];if(p.isActive){var l=p.collision,m=l.bodyA.parent,y=l.bodyB.parent;if(!(m.isSleeping&&y.isSleeping||m.isStatic||y.isStatic)&&(m.isSleeping||y.isSleeping)){var x=m.isSleeping&&!m.isStatic?m:y,b=x===m?y:m;!x.isStatic&&b.motion>o&&a.set(x,!1)}}}},a.set=function(u,o){var d=u.isSleeping;o?(u.isSleeping=!0,u.sleepCounter=u.sleepThreshold,u.positionImpulse.x=0,u.positionImpulse.y=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.speed=0,u.angularSpeed=0,u.motion=0,d||f.trigger(u,"sleepStart")):(u.isSleeping=!1,u.sleepCounter=0,d&&f.trigger(u,"sleepEnd"))}})()},66280:(s,g,i)=>{var a={};s.exports=a;var v=i(41598),f=i(53402),h=i(22562),u=i(15647),o=i(31725);(function(){a.rectangle=function(d,p,l,m,y){y=y||{};var x={label:"Rectangle Body",position:{x:d,y:p},vertices:v.fromPath("L 0 0 L "+l+" 0 L "+l+" "+m+" L 0 "+m)};if(y.chamfer){var b=y.chamfer;x.vertices=v.chamfer(x.vertices,b.radius,b.quality,b.qualityMin,b.qualityMax),delete y.chamfer}return h.create(f.extend({},x,y))},a.trapezoid=function(d,p,l,m,y,x){x=x||{},y*=.5;var b=(1-y*2)*l,w=l*y,C=w+b,E=C+w,T;y<.5?T="L 0 0 L "+w+" "+-m+" L "+C+" "+-m+" L "+E+" 0":T="L 0 0 L "+C+" "+-m+" L "+E+" 0";var k={label:"Trapezoid Body",position:{x:d,y:p},vertices:v.fromPath(T)};if(x.chamfer){var P=x.chamfer;k.vertices=v.chamfer(k.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete x.chamfer}return h.create(f.extend({},k,x))},a.circle=function(d,p,l,m,y){m=m||{};var x={label:"Circle Body",circleRadius:l};y=y||25;var b=Math.ceil(Math.max(10,Math.min(y,l)));return b%2===1&&(b+=1),a.polygon(d,p,b,l,f.extend({},x,m))},a.polygon=function(d,p,l,m,y){if(y=y||{},l<3)return a.circle(d,p,m,y);for(var x=2*Math.PI/l,b="",w=x*.5,C=0;C<l;C+=1){var E=w+C*x,T=Math.cos(E)*m,k=Math.sin(E)*m;b+="L "+T.toFixed(3)+" "+k.toFixed(3)+" "}var P={label:"Polygon Body",position:{x:d,y:p},vertices:v.fromPath(b)};if(y.chamfer){var R=y.chamfer;P.vertices=v.chamfer(P.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete y.chamfer}return h.create(f.extend({},P,y))},a.fromVertices=function(d,p,l,m,y,x,b,w){var C=f.getDecomp(),E,T,k,P,R,M,I,B,D,N,_;for(E=!!(C&&C.quickDecomp),m=m||{},k=[],y=typeof y!="undefined"?y:!1,x=typeof x!="undefined"?x:.01,b=typeof b!="undefined"?b:10,w=typeof w!="undefined"?w:.01,f.isArray(l[0])||(l=[l]),N=0;N<l.length;N+=1)if(M=l[N],P=v.isConvex(M),R=!P,R&&!E&&f.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),P||!E)P?M=v.clockwiseSort(M):M=v.hull(M),k.push({position:{x:d,y:p},vertices:M});else{var G=M.map(function(ot){return[ot.x,ot.y]});C.makeCCW(G),x!==!1&&C.removeCollinearPoints(G,x),w!==!1&&C.removeDuplicatePoints&&C.removeDuplicatePoints(G,w);var $=C.quickDecomp(G);for(I=0;I<$.length;I++){var V=$[I],Y=V.map(function(ot){return{x:ot[0],y:ot[1]}});b>0&&v.area(Y)<b||k.push({position:v.centre(Y),vertices:Y})}}for(I=0;I<k.length;I++)k[I]=h.create(f.extend(k[I],m));if(y){var U=5;for(I=0;I<k.length;I++){var F=k[I];for(B=I+1;B<k.length;B++){var O=k[B];if(u.overlaps(F.bounds,O.bounds)){var j=F.vertices,z=O.vertices;for(D=0;D<F.vertices.length;D++)for(_=0;_<O.vertices.length;_++){var W=o.magnitudeSquared(o.sub(j[(D+1)%j.length],z[_])),q=o.magnitudeSquared(o.sub(j[D],z[(_+1)%z.length]));W<U&&q<U&&(j[D].isInternal=!0,z[_].isInternal=!0)}}}}}return k.length>1?(T=h.create(f.extend({parts:k.slice(0)},m)),h.setPosition(T,{x:d,y:p}),T):k[0]},a.flagCoincidentParts=function(d,p){p===void 0&&(p=5);for(var l=0;l<d.length;l++)for(var m=d[l],y=l+1;y<d.length;y++){var x=d[y];if(u.overlaps(m.bounds,x.bounds))for(var b=m.vertices,w=x.vertices,C=0;C<m.vertices.length;C++)for(var E=0;E<x.vertices.length;E++){var T=o.magnitudeSquared(o.sub(b[(C+1)%b.length],w[E])),k=o.magnitudeSquared(o.sub(b[C],w[(E+1)%w.length]));T<p&&k<p&&(b[C].isInternal=!0,w[E].isInternal=!0)}}return d}})()},74116:(s,g,i)=>{var a={};s.exports=a;var v=i(69351),f=i(48140),h=i(53402),u=i(22562),o=i(66280);(function(){a.stack=function(d,p,l,m,y,x,b){for(var w=v.create({label:"Stack"}),C=d,E=p,T,k=0,P=0;P<m;P++){for(var R=0,M=0;M<l;M++){var I=b(C,E,M,P,T,k);if(I){var B=I.bounds.max.y-I.bounds.min.y,D=I.bounds.max.x-I.bounds.min.x;B>R&&(R=B),u.translate(I,{x:D*.5,y:B*.5}),C=I.bounds.max.x+y,v.addBody(w,I),T=I,k+=1}else C+=y}E+=R+x,C=d}return w},a.chain=function(d,p,l,m,y,x){for(var b=d.bodies,w=1;w<b.length;w++){var C=b[w-1],E=b[w],T=C.bounds.max.y-C.bounds.min.y,k=C.bounds.max.x-C.bounds.min.x,P=E.bounds.max.y-E.bounds.min.y,R=E.bounds.max.x-E.bounds.min.x,M={bodyA:C,pointA:{x:k*p,y:T*l},bodyB:E,pointB:{x:R*m,y:P*y}},I=h.extend(M,x);v.addConstraint(d,f.create(I))}return d.label+=" Chain",d},a.mesh=function(d,p,l,m,y){var x=d.bodies,b,w,C,E,T;for(b=0;b<l;b++){for(w=1;w<p;w++)C=x[w-1+b*p],E=x[w+b*p],v.addConstraint(d,f.create(h.extend({bodyA:C,bodyB:E},y)));if(b>0)for(w=0;w<p;w++)C=x[w+(b-1)*p],E=x[w+b*p],v.addConstraint(d,f.create(h.extend({bodyA:C,bodyB:E},y))),m&&w>0&&(T=x[w-1+(b-1)*p],v.addConstraint(d,f.create(h.extend({bodyA:T,bodyB:E},y)))),m&&w<p-1&&(T=x[w+1+(b-1)*p],v.addConstraint(d,f.create(h.extend({bodyA:T,bodyB:E},y))))}return d.label+=" Mesh",d},a.pyramid=function(d,p,l,m,y,x,b){return a.stack(d,p,l,m,y,x,function(w,C,E,T,k,P){var R=Math.min(m,Math.ceil(l/2)),M=k?k.bounds.max.x-k.bounds.min.x:0;if(!(T>R)){T=R-T;var I=T,B=l-1-T;if(!(E<I||E>B)){P===1&&u.translate(k,{x:(E+(l%2===1?1:-1))*M,y:0});var D=k?E*M:0;return b(d+D+E*y,C,E,T,k,P)}}})},a.newtonsCradle=function(d,p,l,m,y){for(var x=v.create({label:"Newtons Cradle"}),b=0;b<l;b++){var w=1.9,C=o.circle(d+b*(m*w),p+y,m,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),E=f.create({pointA:{x:d+b*(m*w),y:p},bodyB:C});v.addBody(x,C),v.addConstraint(x,E)}return x},a.car=function(d,p,l,m,y){var x=u.nextGroup(!0),b=20,w=-l*.5+b,C=l*.5-b,E=0,T=v.create({label:"Car"}),k=o.rectangle(d,p,l,m,{collisionFilter:{group:x},chamfer:{radius:m*.5},density:2e-4}),P=o.circle(d+w,p+E,y,{collisionFilter:{group:x},friction:.8}),R=o.circle(d+C,p+E,y,{collisionFilter:{group:x},friction:.8}),M=f.create({bodyB:k,pointB:{x:w,y:E},bodyA:P,stiffness:1,length:0}),I=f.create({bodyB:k,pointB:{x:C,y:E},bodyA:R,stiffness:1,length:0});return v.addBody(T,k),v.addBody(T,P),v.addBody(T,R),v.addConstraint(T,M),v.addConstraint(T,I),T},a.softBody=function(d,p,l,m,y,x,b,w,C,E){C=h.extend({inertia:1/0},C),E=h.extend({stiffness:.2,render:{type:"line",anchors:!1}},E);var T=a.stack(d,p,l,m,y,x,function(k,P){return o.circle(k,P,w,C)});return a.mesh(T,l,m,b,E),T.label="Soft Body",T}})()},66615:(s,g,i)=>{var a={};s.exports=a;var v=i(31725),f=i(53402);(function(){a.fromVertices=function(h){for(var u={},o=0;o<h.length;o++){var d=(o+1)%h.length,p=v.normalise({x:h[d].y-h[o].y,y:h[o].x-h[d].x}),l=p.y===0?1/0:p.x/p.y;l=l.toFixed(3).toString(),u[l]=p}return f.values(u)},a.rotate=function(h,u){if(u!==0)for(var o=Math.cos(u),d=Math.sin(u),p=0;p<h.length;p++){var l=h[p],m;m=l.x*o-l.y*d,l.y=l.x*d+l.y*o,l.x=m}}})()},15647:s=>{var g={};s.exports=g,function(){g.create=function(i){var a={min:{x:0,y:0},max:{x:0,y:0}};return i&&g.update(a,i),a},g.update=function(i,a,v){i.min.x=1/0,i.max.x=-1/0,i.min.y=1/0,i.max.y=-1/0;for(var f=0;f<a.length;f++){var h=a[f];h.x>i.max.x&&(i.max.x=h.x),h.x<i.min.x&&(i.min.x=h.x),h.y>i.max.y&&(i.max.y=h.y),h.y<i.min.y&&(i.min.y=h.y)}v&&(v.x>0?i.max.x+=v.x:i.min.x+=v.x,v.y>0?i.max.y+=v.y:i.min.y+=v.y)},g.contains=function(i,a){return a.x>=i.min.x&&a.x<=i.max.x&&a.y>=i.min.y&&a.y<=i.max.y},g.overlaps=function(i,a){return i.min.x<=a.max.x&&i.max.x>=a.min.x&&i.max.y>=a.min.y&&i.min.y<=a.max.y},g.translate=function(i,a){i.min.x+=a.x,i.max.x+=a.x,i.min.y+=a.y,i.max.y+=a.y},g.shift=function(i,a){var v=i.max.x-i.min.x,f=i.max.y-i.min.y;i.min.x=a.x,i.max.x=a.x+v,i.min.y=a.y,i.max.y=a.y+f}}()},74058:(s,g,i)=>{var a={};s.exports=a,i(15647);var v=i(53402);(function(){a.pathToVertices=function(f,h){typeof window!="undefined"&&!("SVGPathSeg"in window)&&v.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var u,o,d,p,l,m,y,x,b,w,C=[],E,T,k=0,P=0,R=0;h=h||15;var M=function(B,D,N){var _=N%2===1&&N>1;if(!b||B!=b.x||D!=b.y){b&&_?(E=b.x,T=b.y):(E=0,T=0);var G={x:E+B,y:T+D};(_||!b)&&(b=G),C.push(G),P=E+B,R=T+D}},I=function(B){var D=B.pathSegTypeAsLetter.toUpperCase();if(D!=="Z"){switch(D){case"M":case"L":case"T":case"C":case"S":case"Q":P=B.x,R=B.y;break;case"H":P=B.x;break;case"V":R=B.y;break}M(P,R,B.pathSegType)}};for(a._svgPathToAbsolute(f),d=f.getTotalLength(),m=[],u=0;u<f.pathSegList.numberOfItems;u+=1)m.push(f.pathSegList.getItem(u));for(y=m.concat();k<d;){if(w=f.getPathSegAtLength(k),l=m[w],l!=x){for(;y.length&&y[0]!=l;)I(y.shift());x=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":p=f.getPointAtLength(k),M(p.x,p.y,0);break}k+=h}for(u=0,o=y.length;u<o;++u)I(y[u]);return C},a._svgPathToAbsolute=function(f){for(var h,u,o,d,p,l,m=f.pathSegList,y=0,x=0,b=m.numberOfItems,w=0;w<b;++w){var C=m.getItem(w),E=C.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(E))"x"in C&&(y=C.x),"y"in C&&(x=C.y);else switch("x1"in C&&(o=y+C.x1),"x2"in C&&(p=y+C.x2),"y1"in C&&(d=x+C.y1),"y2"in C&&(l=x+C.y2),"x"in C&&(y+=C.x),"y"in C&&(x+=C.y),E){case"m":m.replaceItem(f.createSVGPathSegMovetoAbs(y,x),w);break;case"l":m.replaceItem(f.createSVGPathSegLinetoAbs(y,x),w);break;case"h":m.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(y),w);break;case"v":m.replaceItem(f.createSVGPathSegLinetoVerticalAbs(x),w);break;case"c":m.replaceItem(f.createSVGPathSegCurvetoCubicAbs(y,x,o,d,p,l),w);break;case"s":m.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(y,x,p,l),w);break;case"q":m.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(y,x,o,d),w);break;case"t":m.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(y,x),w);break;case"a":m.replaceItem(f.createSVGPathSegArcAbs(y,x,C.r1,C.r2,C.angle,C.largeArcFlag,C.sweepFlag),w);break;case"z":case"Z":y=h,x=u;break}(E=="M"||E=="m")&&(h=y,u=x)}}})()},31725:s=>{var g={};s.exports=g,function(){g.create=function(i,a){return{x:i||0,y:a||0}},g.clone=function(i){return{x:i.x,y:i.y}},g.magnitude=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)},g.magnitudeSquared=function(i){return i.x*i.x+i.y*i.y},g.rotate=function(i,a,v){var f=Math.cos(a),h=Math.sin(a);v||(v={});var u=i.x*f-i.y*h;return v.y=i.x*h+i.y*f,v.x=u,v},g.rotateAbout=function(i,a,v,f){var h=Math.cos(a),u=Math.sin(a);f||(f={});var o=v.x+((i.x-v.x)*h-(i.y-v.y)*u);return f.y=v.y+((i.x-v.x)*u+(i.y-v.y)*h),f.x=o,f},g.normalise=function(i){var a=g.magnitude(i);return a===0?{x:0,y:0}:{x:i.x/a,y:i.y/a}},g.dot=function(i,a){return i.x*a.x+i.y*a.y},g.cross=function(i,a){return i.x*a.y-i.y*a.x},g.cross3=function(i,a,v){return(a.x-i.x)*(v.y-i.y)-(a.y-i.y)*(v.x-i.x)},g.add=function(i,a,v){return v||(v={}),v.x=i.x+a.x,v.y=i.y+a.y,v},g.sub=function(i,a,v){return v||(v={}),v.x=i.x-a.x,v.y=i.y-a.y,v},g.mult=function(i,a){return{x:i.x*a,y:i.y*a}},g.div=function(i,a){return{x:i.x/a,y:i.y/a}},g.perp=function(i,a){return a=a===!0?-1:1,{x:a*-i.y,y:a*i.x}},g.neg=function(i){return{x:-i.x,y:-i.y}},g.angle=function(i,a){return Math.atan2(a.y-i.y,a.x-i.x)},g._temp=[g.create(),g.create(),g.create(),g.create(),g.create(),g.create()]}()},41598:(s,g,i)=>{var a={};s.exports=a;var v=i(31725),f=i(53402);(function(){a.create=function(h,u){for(var o=[],d=0;d<h.length;d++){var p=h[d],l={x:p.x,y:p.y,index:d,body:u,isInternal:!1};o.push(l)}return o},a.fromPath=function(h,u){var o=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,d=[];return h.replace(o,function(p,l,m){d.push({x:parseFloat(l),y:parseFloat(m)})}),a.create(d,u)},a.centre=function(h){for(var u=a.area(h,!0),o={x:0,y:0},d,p,l,m=0;m<h.length;m++)l=(m+1)%h.length,d=v.cross(h[m],h[l]),p=v.mult(v.add(h[m],h[l]),d),o=v.add(o,p);return v.div(o,6*u)},a.mean=function(h){for(var u={x:0,y:0},o=0;o<h.length;o++)u.x+=h[o].x,u.y+=h[o].y;return v.div(u,h.length)},a.area=function(h,u){for(var o=0,d=h.length-1,p=0;p<h.length;p++)o+=(h[d].x-h[p].x)*(h[d].y+h[p].y),d=p;return u?o/2:Math.abs(o)/2},a.inertia=function(h,u){for(var o=0,d=0,p=h,l,m,y=0;y<p.length;y++)m=(y+1)%p.length,l=Math.abs(v.cross(p[m],p[y])),o+=l*(v.dot(p[m],p[m])+v.dot(p[m],p[y])+v.dot(p[y],p[y])),d+=l;return u/6*(o/d)},a.translate=function(h,u,o){o=typeof o!="undefined"?o:1;var d=h.length,p=u.x*o,l=u.y*o,m;for(m=0;m<d;m++)h[m].x+=p,h[m].y+=l;return h},a.rotate=function(h,u,o){if(u!==0){var d=Math.cos(u),p=Math.sin(u),l=o.x,m=o.y,y=h.length,x,b,w,C;for(C=0;C<y;C++)x=h[C],b=x.x-l,w=x.y-m,x.x=l+(b*d-w*p),x.y=m+(b*p+w*d);return h}},a.contains=function(h,u){for(var o=u.x,d=u.y,p=h.length,l=h[p-1],m,y=0;y<p;y++){if(m=h[y],(o-l.x)*(m.y-l.y)+(d-l.y)*(l.x-m.x)>0)return!1;l=m}return!0},a.scale=function(h,u,o,d){if(u===1&&o===1)return h;d=d||a.centre(h);for(var p,l,m=0;m<h.length;m++)p=h[m],l=v.sub(p,d),h[m].x=d.x+l.x*u,h[m].y=d.y+l.y*o;return h},a.chamfer=function(h,u,o,d,p){typeof u=="number"?u=[u]:u=u||[8],o=typeof o!="undefined"?o:-1,d=d||2,p=p||14;for(var l=[],m=0;m<h.length;m++){var y=h[m-1>=0?m-1:h.length-1],x=h[m],b=h[(m+1)%h.length],w=u[m<u.length?m:u.length-1];if(w===0){l.push(x);continue}var C=v.normalise({x:x.y-y.y,y:y.x-x.x}),E=v.normalise({x:b.y-x.y,y:x.x-b.x}),T=Math.sqrt(2*Math.pow(w,2)),k=v.mult(f.clone(C),w),P=v.normalise(v.mult(v.add(C,E),.5)),R=v.sub(x,v.mult(P,T)),M=o;o===-1&&(M=Math.pow(w,.32)*1.75),M=f.clamp(M,d,p),M%2===1&&(M+=1);for(var I=Math.acos(v.dot(C,E)),B=I/M,D=0;D<M;D++)l.push(v.add(v.rotate(k,B*D),R))}return l},a.clockwiseSort=function(h){var u=a.mean(h);return h.sort(function(o,d){return v.angle(u,o)-v.angle(u,d)}),h},a.isConvex=function(h){var u=0,o=h.length,d,p,l,m;if(o<3)return null;for(d=0;d<o;d++)if(p=(d+1)%o,l=(d+2)%o,m=(h[p].x-h[d].x)*(h[l].y-h[p].y),m-=(h[p].y-h[d].y)*(h[l].x-h[p].x),m<0?u|=1:m>0&&(u|=2),u===3)return!1;return u!==0?!0:null},a.hull=function(h){var u=[],o=[],d,p;for(h=h.slice(0),h.sort(function(l,m){var y=l.x-m.x;return y!==0?y:l.y-m.y}),p=0;p<h.length;p+=1){for(d=h[p];o.length>=2&&v.cross3(o[o.length-2],o[o.length-1],d)<=0;)o.pop();o.push(d)}for(p=h.length-1;p>=0;p-=1){for(d=h[p];u.length>=2&&v.cross3(u[u.length-2],u[u.length-1],d)<=0;)u.pop();u.push(d)}return u.pop(),o.pop(),u.concat(o)}})()},18210:(s,g,i)=>{var a=i(19933),v={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(f){f.after("Body.create",function(){v.Body.init(this)}),f.before("Engine.update",function(h){v.Engine.update(h)})},Body:{init:function(f){f.plugin.attractors=f.plugin.attractors||[]}},Engine:{update:function(f){for(var h=a.Composite.allBodies(f.world),u=0;u<h.length;u++){var o=h[u],d=o.plugin.attractors;if(d&&d.length>0)for(var p=0;p<h.length;p++){var l=h[p];if(u!==p)for(var m=0;m<d.length;m++){var y=d[m],x=y;a.Common.isFunction(y)&&(x=y(o,l)),x&&a.Body.applyForce(l,l.position,x)}}}}},Attractors:{gravityConstant:.001,gravity:function(f,h){var u=a.Vector.sub(h.position,f.position),o=a.Vector.magnitudeSquared(u)||1e-4,d=a.Vector.normalise(u),p=-v.Attractors.gravityConstant*(f.mass*h.mass/o),l=a.Vector.mult(d,p);a.Body.applyForce(f,f.position,a.Vector.neg(l)),a.Body.applyForce(h,h.position,l)}}};s.exports=v},40178:s=>{var g={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(i){i.after("Engine.create",function(){i.Events.on(this,"collisionStart",function(a){a.pairs.map(function(v){var f=v.bodyA,h=v.bodyB;f.gameObject&&f.gameObject.emit("collide",f,h,v),h.gameObject&&h.gameObject.emit("collide",h,f,v),i.Events.trigger(f,"onCollide",{pair:v}),i.Events.trigger(h,"onCollide",{pair:v}),f.onCollideCallback&&f.onCollideCallback(v),h.onCollideCallback&&h.onCollideCallback(v),f.onCollideWith[h.id]&&f.onCollideWith[h.id](h,v),h.onCollideWith[f.id]&&h.onCollideWith[f.id](f,v)})}),i.Events.on(this,"collisionActive",function(a){a.pairs.map(function(v){var f=v.bodyA,h=v.bodyB;f.gameObject&&f.gameObject.emit("collideActive",f,h,v),h.gameObject&&h.gameObject.emit("collideActive",h,f,v),i.Events.trigger(f,"onCollideActive",{pair:v}),i.Events.trigger(h,"onCollideActive",{pair:v}),f.onCollideActiveCallback&&f.onCollideActiveCallback(v),h.onCollideActiveCallback&&h.onCollideActiveCallback(v)})}),i.Events.on(this,"collisionEnd",function(a){a.pairs.map(function(v){var f=v.bodyA,h=v.bodyB;f.gameObject&&f.gameObject.emit("collideEnd",f,h,v),h.gameObject&&h.gameObject.emit("collideEnd",h,f,v),i.Events.trigger(f,"onCollideEnd",{pair:v}),i.Events.trigger(h,"onCollideEnd",{pair:v}),f.onCollideEndCallback&&f.onCollideEndCallback(v),h.onCollideEndCallback&&h.onCollideEndCallback(v)})})})}};s.exports=g},74507:(s,g,i)=>{var a=i(19933),v={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(f){f.after("Engine.update",function(){v.Engine.update(this)})},Engine:{update:function(f){for(var h=f.world,u=a.Composite.allBodies(h),o=a.Composite.allComposites(h),d=0;d<u.length;d+=1){var p=u[d];p.plugin.wrap&&v.Body.wrap(p,p.plugin.wrap)}for(d=0;d<o.length;d+=1){var l=o[d];l.plugin.wrap&&v.Composite.wrap(l,l.plugin.wrap)}}},Bounds:{wrap:function(f,h){var u=null,o=null;if(typeof h.min.x!="undefined"&&typeof h.max.x!="undefined"&&(f.min.x>h.max.x?u=h.min.x-f.max.x:f.max.x<h.min.x&&(u=h.max.x-f.min.x)),typeof h.min.y!="undefined"&&typeof h.max.y!="undefined"&&(f.min.y>h.max.y?o=h.min.y-f.max.y:f.max.y<h.min.y&&(o=h.max.y-f.min.y)),u!==null||o!==null)return{x:u||0,y:o||0}}},Body:{wrap:function(f,h){var u=v.Bounds.wrap(f.bounds,h);return u&&a.Body.translate(f,u),u}},Composite:{bounds:function(f){for(var h=a.Composite.allBodies(f),u=[],o=0;o<h.length;o+=1){var d=h[o];u.push(d.bounds.min,d.bounds.max)}return a.Bounds.create(u)},wrap:function(f,h){var u=v.Bounds.wrap(v.Composite.bounds(f),h);return u&&a.Composite.translate(f,u),u}}};s.exports=v},55973:s=>{s.exports={decomp:I,quickDecomp:_,isSimple:D,removeCollinearPoints:G,removeDuplicatePoints:$,makeCCW:b};function g(U,F,O){O=O||0;var j=[0,0],z,W,q,ot,Q,rt,Mt;return z=U[1][1]-U[0][1],W=U[0][0]-U[1][0],q=z*U[0][0]+W*U[0][1],ot=F[1][1]-F[0][1],Q=F[0][0]-F[1][0],rt=ot*F[0][0]+Q*F[0][1],Mt=z*Q-ot*W,V(Mt,0,O)||(j[0]=(Q*q-W*rt)/Mt,j[1]=(z*rt-ot*q)/Mt),j}function i(U,F,O,j){var z=F[0]-U[0],W=F[1]-U[1],q=j[0]-O[0],ot=j[1]-O[1];if(q*W-ot*z===0)return!1;var Q=(z*(O[1]-U[1])+W*(U[0]-O[0]))/(q*W-ot*z),rt=(q*(U[1]-O[1])+ot*(O[0]-U[0]))/(ot*z-q*W);return Q>=0&&Q<=1&&rt>=0&&rt<=1}function a(U,F,O){return(F[0]-U[0])*(O[1]-U[1])-(O[0]-U[0])*(F[1]-U[1])}function v(U,F,O){return a(U,F,O)>0}function f(U,F,O){return a(U,F,O)>=0}function h(U,F,O){return a(U,F,O)<0}function u(U,F,O){return a(U,F,O)<=0}var o=[],d=[];function p(U,F,O,j){if(j){var z=o,W=d;z[0]=F[0]-U[0],z[1]=F[1]-U[1],W[0]=O[0]-F[0],W[1]=O[1]-F[1];var q=z[0]*W[0]+z[1]*W[1],ot=Math.sqrt(z[0]*z[0]+z[1]*z[1]),Q=Math.sqrt(W[0]*W[0]+W[1]*W[1]),rt=Math.acos(q/(ot*Q));return rt<j}else return a(U,F,O)===0}function l(U,F){var O=F[0]-U[0],j=F[1]-U[1];return O*O+j*j}function m(U,F){var O=U.length;return U[F<0?F%O+O:F%O]}function y(U){U.length=0}function x(U,F,O,j){for(var z=O;z<j;z++)U.push(F[z])}function b(U){for(var F=0,O=U,j=1;j<U.length;++j)(O[j][1]<O[F][1]||O[j][1]===O[F][1]&&O[j][0]>O[F][0])&&(F=j);return v(m(U,F-1),m(U,F),m(U,F+1))?!1:(w(U),!0)}function w(U){for(var F=[],O=U.length,j=0;j!==O;j++)F.push(U.pop());for(var j=0;j!==O;j++)U[j]=F[j]}function C(U,F){return h(m(U,F-1),m(U,F),m(U,F+1))}var E=[],T=[];function k(U,F,O){var j,z,W=E,q=T;if(f(m(U,F+1),m(U,F),m(U,O))&&u(m(U,F-1),m(U,F),m(U,O)))return!1;z=l(m(U,F),m(U,O));for(var ot=0;ot!==U.length;++ot)if(!((ot+1)%U.length===F||ot===F)&&f(m(U,F),m(U,O),m(U,ot+1))&&u(m(U,F),m(U,O),m(U,ot))&&(W[0]=m(U,F),W[1]=m(U,O),q[0]=m(U,ot),q[1]=m(U,ot+1),j=g(W,q),l(m(U,F),j)<z))return!1;return!0}function P(U,F,O){for(var j=0;j!==U.length;++j)if(!(j===F||j===O||(j+1)%U.length===F||(j+1)%U.length===O)&&i(m(U,F),m(U,O),m(U,j),m(U,j+1)))return!1;return!0}function R(U,F,O,j){var z=j||[];if(y(z),F<O)for(var W=F;W<=O;W++)z.push(U[W]);else{for(var W=0;W<=O;W++)z.push(U[W]);for(var W=F;W<U.length;W++)z.push(U[W])}return z}function M(U){for(var F=[],O=[],j=[],z=[],W=Number.MAX_VALUE,q=0;q<U.length;++q)if(C(U,q)){for(var ot=0;ot<U.length;++ot)if(k(U,q,ot)){O=M(R(U,q,ot,z)),j=M(R(U,ot,q,z));for(var Q=0;Q<j.length;Q++)O.push(j[Q]);O.length<W&&(F=O,W=O.length,F.push([m(U,q),m(U,ot)]))}}return F}function I(U){var F=M(U);return F.length>0?B(U,F):[U]}function B(U,F){if(F.length===0)return[U];if(F instanceof Array&&F.length&&F[0]instanceof Array&&F[0].length===2&&F[0][0]instanceof Array){for(var O=[U],j=0;j<F.length;j++)for(var z=F[j],W=0;W<O.length;W++){var q=O[W],ot=B(q,z);if(ot){O.splice(W,1),O.push(ot[0],ot[1]);break}}return O}else{var z=F,j=U.indexOf(z[0]),W=U.indexOf(z[1]);return j!==-1&&W!==-1?[R(U,j,W),R(U,W,j)]:!1}}function D(U){var F=U,O;for(O=0;O<F.length-1;O++)for(var j=0;j<O-1;j++)if(i(F[O],F[O+1],F[j],F[j+1]))return!1;for(O=1;O<F.length-2;O++)if(i(F[0],F[F.length-1],F[O],F[O+1]))return!1;return!0}function N(U,F,O,j,z){z=z||0;var W=F[1]-U[1],q=U[0]-F[0],ot=W*U[0]+q*U[1],Q=j[1]-O[1],rt=O[0]-j[0],Mt=Q*O[0]+rt*O[1],K=W*rt-Q*q;return V(K,0,z)?[0,0]:[(rt*ot-q*Mt)/K,(W*Mt-Q*ot)/K]}function _(U,F,O,j,z,W,q){W=W||100,q=q||0,z=z||25,F=typeof F!="undefined"?F:[],O=O||[],j=j||[];var ot=[0,0],Q=[0,0],rt=[0,0],Mt=0,K=0,It=0,Ft=0,ft=0,yt=0,At=0,Bt=[],le=[],_t=U,xe=U;if(xe.length<3)return F;if(q++,q>W)return console.warn("quickDecomp: max level ("+W+") reached."),F;for(var Ee=0;Ee<U.length;++Ee)if(C(_t,Ee)){O.push(_t[Ee]),Mt=K=Number.MAX_VALUE;for(var ve=0;ve<U.length;++ve)v(m(_t,Ee-1),m(_t,Ee),m(_t,ve))&&u(m(_t,Ee-1),m(_t,Ee),m(_t,ve-1))&&(rt=N(m(_t,Ee-1),m(_t,Ee),m(_t,ve),m(_t,ve-1)),h(m(_t,Ee+1),m(_t,Ee),rt)&&(It=l(_t[Ee],rt),It<K&&(K=It,Q=rt,yt=ve))),v(m(_t,Ee+1),m(_t,Ee),m(_t,ve+1))&&u(m(_t,Ee+1),m(_t,Ee),m(_t,ve))&&(rt=N(m(_t,Ee+1),m(_t,Ee),m(_t,ve),m(_t,ve+1)),v(m(_t,Ee-1),m(_t,Ee),rt)&&(It=l(_t[Ee],rt),It<Mt&&(Mt=It,ot=rt,ft=ve)));if(yt===(ft+1)%U.length)rt[0]=(Q[0]+ot[0])/2,rt[1]=(Q[1]+ot[1])/2,j.push(rt),Ee<ft?(x(Bt,_t,Ee,ft+1),Bt.push(rt),le.push(rt),yt!==0&&x(le,_t,yt,_t.length),x(le,_t,0,Ee+1)):(Ee!==0&&x(Bt,_t,Ee,_t.length),x(Bt,_t,0,ft+1),Bt.push(rt),le.push(rt),x(le,_t,yt,Ee+1));else{if(yt>ft&&(ft+=U.length),Ft=Number.MAX_VALUE,ft<yt)return F;for(var ve=yt;ve<=ft;++ve)f(m(_t,Ee-1),m(_t,Ee),m(_t,ve))&&u(m(_t,Ee+1),m(_t,Ee),m(_t,ve))&&(It=l(m(_t,Ee),m(_t,ve)),It<Ft&&P(_t,Ee,ve)&&(Ft=It,At=ve%U.length));Ee<At?(x(Bt,_t,Ee,At+1),At!==0&&x(le,_t,At,xe.length),x(le,_t,0,Ee+1)):(Ee!==0&&x(Bt,_t,Ee,xe.length),x(Bt,_t,0,At+1),x(le,_t,At,Ee+1))}return Bt.length<le.length?(_(Bt,F,O,j,z,W,q),_(le,F,O,j,z,W,q)):(_(le,F,O,j,z,W,q),_(Bt,F,O,j,z,W,q)),F}return F.push(U),F}function G(U,F){for(var O=0,j=U.length-1;U.length>3&&j>=0;--j)p(m(U,j-1),m(U,j),m(U,j+1),F)&&(U.splice(j%U.length,1),O++);return O}function $(U,F){for(var O=U.length-1;O>=1;--O)for(var j=U[O],z=O-1;z>=0;--z)if(Y(j,U[z],F)){U.splice(O,1);continue}}function V(U,F,O){return O=O||0,Math.abs(U-F)<=O}function Y(U,F,O){return V(U[0],F[0],O)&&V(U[1],F[1],O)}},52018:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h){this.pluginManager=h,this.game=h.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});s.exports=v},42363:s=>{var g={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};s.exports=g},37277:s=>{var g={},i={},a={};a.register=function(v,f,h,u){u===void 0&&(u=!1),g[v]={plugin:f,mapping:h,custom:u}},a.registerCustom=function(v,f,h,u){i[v]={plugin:f,mapping:h,data:u}},a.hasCore=function(v){return g.hasOwnProperty(v)},a.hasCustom=function(v){return i.hasOwnProperty(v)},a.getCore=function(v){return g[v]},a.getCustom=function(v){return i[v]},a.getCustomClass=function(v){return i.hasOwnProperty(v)?i[v].plugin:null},a.remove=function(v){g.hasOwnProperty(v)&&delete g[v]},a.removeCustom=function(v){i.hasOwnProperty(v)&&delete i[v]},a.destroyCorePlugins=function(){for(var v in g)g.hasOwnProperty(v)&&delete g[v]},a.destroyCustomPlugins=function(){for(var v in i)i.hasOwnProperty(v)&&delete i[v]},s.exports=a},77332:(s,g,i)=>{var a=i(83419),v=i(8443),f=i(50792),h=i(74099),u=i(44603),o=i(39429),d=i(95540),p=i(37277),l=i(72905),m=new a({Extends:f,initialize:function(x){f.call(this),this.game=x,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],x.isBooted?this.boot():x.events.once(v.BOOT,this.boot,this)},boot:function(){var y,x,b,w,C,E,T,k=this.game.config,P=k.installGlobalPlugins;for(P=P.concat(this._pendingGlobal),y=0;y<P.length;y++)x=P[y],b=d(x,"key",null),w=d(x,"plugin",null),C=d(x,"start",!1),E=d(x,"mapping",null),T=d(x,"data",null),b&&(w?this.install(b,w,C,E,T):console.warn("Missing `plugin` for key: "+b));for(P=k.installScenePlugins,P=P.concat(this._pendingScene),y=0;y<P.length;y++)x=P[y],b=d(x,"key",null),w=d(x,"plugin",null),E=d(x,"mapping",null),b&&(w?this.installScenePlugin(b,w,E):console.warn("Missing `plugin` for key: "+b));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(v.DESTROY,this.destroy,this)},addToScene:function(y,x,b){var w,C,E,T=this.game,k=y.scene,P=y.settings.map,R=y.settings.isBooted;for(w=0;w<x.length;w++)C=x[w],T[C]?(y[C]=T[C],P.hasOwnProperty(C)&&(k[P[C]]=y[C])):C==="game"&&P.hasOwnProperty(C)&&(k[P[C]]=T);for(var M=0;M<b.length;M++)for(E=b[M],w=0;w<E.length;w++)if(C=E[w],!!p.hasCore(C)){var I=p.getCore(C),B=I.mapping,D=new I.plugin(k,this,B);y[B]=D,I.custom?k[B]=D:P.hasOwnProperty(B)&&(k[P[B]]=D),R&&D.boot()}for(E=this.plugins,w=0;w<E.length;w++){var N=E[w];N.mapping&&(k[N.mapping]=N.plugin)}},getDefaultScenePlugins:function(){var y=this.game.config.defaultPlugins;return y=y.concat(this.scenePlugins),y},installScenePlugin:function(y,x,b,w,C){if(C===void 0&&(C=!1),typeof x!="function"){console.warn("Invalid Scene Plugin: "+y);return}if(p.hasCore(y)||p.register(y,x,b,!0),this.scenePlugins.indexOf(y)===-1)this.scenePlugins.push(y);else if(!C&&p.hasCore(y)){console.warn("Scene Plugin key in use: "+y);return}if(w){var E=new x(w,this,y);w.sys[y]=E,b&&b!==""&&(w[b]=E),E.boot()}},install:function(y,x,b,w,C){if(b===void 0&&(b=!1),w===void 0&&(w=null),C===void 0&&(C=null),typeof x!="function")return console.warn("Invalid Plugin: "+y),null;if(p.hasCustom(y))return console.warn("Plugin key in use: "+y),null;if(w!==null&&(b=!0),!this.game.isBooted)this._pendingGlobal.push({key:y,plugin:x,start:b,mapping:w,data:C});else if(p.registerCustom(y,x,w,C),b)return this.start(y);return null},getIndex:function(y){for(var x=this.plugins,b=0;b<x.length;b++){var w=x[b];if(w.key===y)return b}return-1},getEntry:function(y){var x=this.getIndex(y);if(x!==-1)return this.plugins[x]},isActive:function(y){var x=this.getEntry(y);return x&&x.active},start:function(y,x){x===void 0&&(x=y);var b=this.getEntry(x);return b&&!b.active?(b.active=!0,b.plugin.start()):b||(b=this.createEntry(y,x)),b?b.plugin:null},createEntry:function(y,x){var b=p.getCustom(y);if(b){var w=new b.plugin(this);b={key:x,plugin:w,active:!0,mapping:b.mapping,data:b.data},this.plugins.push(b),w.init(b.data),w.start()}return b},stop:function(y){var x=this.getEntry(y);return x&&x.active&&(x.active=!1,x.plugin.stop()),this},get:function(y,x){x===void 0&&(x=!0);var b=this.getEntry(y);if(b)return b.plugin;var w=this.getClass(y);return w&&x?(b=this.createEntry(y,y),b?b.plugin:null):w||null},getClass:function(y){return p.getCustomClass(y)},removeGlobalPlugin:function(y){var x=this.getEntry(y);x&&l(this.plugins,x),p.removeCustom(y)},removeScenePlugin:function(y){l(this.scenePlugins,y),p.remove(y)},registerGameObject:function(y,x,b){return x&&o.register(y,x),b&&u.register(y,b),this},removeGameObject:function(y,x,b){return x===void 0&&(x=!0),b===void 0&&(b=!0),x&&o.remove(y),b&&u.remove(y),this},registerFileType:function(y,x,b){h.register(y,x),b&&b.sys.load&&(b.sys.load[y]=x)},destroy:function(){for(var y=0;y<this.plugins.length;y++)this.plugins[y].plugin.destroy();p.destroyCustomPlugins(),this.game.noReturn&&p.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});s.exports=m},45145:(s,g,i)=>{var a=i(52018),v=i(83419),f=i(44594),h=new v({Extends:a,initialize:function(o,d,p){a.call(this,d),this.scene=o,this.systems=o.sys,this.pluginKey=p,o.sys.events.once(f.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});s.exports=h},18922:(s,g,i)=>{s.exports={BasePlugin:i(52018),DefaultPlugins:i(42363),PluginCache:i(37277),PluginManager:i(77332),ScenePlugin:i(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(s){const g=performance.now(),i=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||i.totalVideoFrames-i.droppedVideoFrames,v=(f,h)=>{const u=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||u.totalVideoFrames-u.droppedVideoFrames;if(o>a){const d=this.mozFrameDelay||u.totalFrameDelay-i.totalFrameDelay||0,p=h-f;s(h,{presentationTime:h+d*1e3,expectedDisplayTime:h+p,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+p/1e3,presentedFrames:o,processingDuration:d}),delete this._rvfcpolyfillmap[g]}else this._rvfcpolyfillmap[g]=requestAnimationFrame(d=>v(h,d))};return this._rvfcpolyfillmap[g]=requestAnimationFrame(f=>v(g,f)),g},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(s){cancelAnimationFrame(this._rvfcpolyfillmap[s]),delete this._rvfcpolyfillmap[s]})},10312:s=>{s.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:s=>{var g={DEFAULT:0,LINEAR:0,NEAREST:1};s.exports=g},68627:(s,g,i)=>{var a=i(19715),v=i(32880),f=i(83419),h=i(8054),u=i(50792),o=i(92503),d=i(56373),p=i(97480),l=i(69442),m=i(61340),y=new f({Extends:u,initialize:function(b){u.call(this);var w=b.config;this.config={clearBeforeRender:w.clearBeforeRender,backgroundColor:w.backgroundColor,antialias:w.antialias,roundPixels:w.roundPixels},this.game=b,this.type=h.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=b.canvas;var C={alpha:b.config.transparent,desynchronized:b.config.desynchronized,willReadFrequently:!1};this.gameContext=w.context?w.context:this.gameCanvas.getContext("2d",C),this.currentContext=this.gameContext,this.antialias=b.config.antialias,this.blendModes=d(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new m,this._tempMatrix2=new m,this._tempMatrix3=new m,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(l.READY,this.boot,this)},boot:function(){var x=this.game,b=x.scale.baseSize;this.width=b.width,this.height=b.height,this.isBooted=!0,x.scale.on(p.RESIZE,this.onResize,this),this.resize(b.width,b.height)},onResize:function(x,b){(b.width!==this.width||b.height!==this.height)&&this.resize(b.width,b.height)},resize:function(x,b){this.width=x,this.height=b,this.emit(o.RESIZE,x,b)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(x){return this.currentContext.globalCompositeOperation=x,this},setContext:function(x){return this.currentContext=x||this.gameContext,this},setAlpha:function(x){return this.currentContext.globalAlpha=x,this},preRender:function(){var x=this.gameContext,b=this.config,w=this.width,C=this.height;x.globalAlpha=1,x.globalCompositeOperation="source-over",x.setTransform(1,0,0,1,0,0),b.clearBeforeRender&&(x.clearRect(0,0,w,C),b.transparent||(x.fillStyle=b.backgroundColor.rgba,x.fillRect(0,0,w,C))),x.save(),this.drawCount=0,this.emit(o.PRE_RENDER)},render:function(x,b,w){var C=b.length;this.emit(o.RENDER,x,w);var E=w.x,T=w.y,k=w.width,P=w.height,R=w.renderToTexture?w.context:x.sys.context;R.save(),this.game.scene.customViewports&&(R.beginPath(),R.rect(E,T,k,P),R.clip()),w.emit(a.PRE_RENDER,w),this.currentContext=R;var M=w.mask;M&&M.preRenderCanvas(this,null,w._maskCamera),w.transparent||(R.fillStyle=w.backgroundColor.rgba,R.fillRect(E,T,k,P)),R.globalAlpha=w.alpha,R.globalCompositeOperation="source-over",this.drawCount+=C,w.renderToTexture&&w.emit(a.PRE_RENDER,w),w.matrix.copyToContext(R);for(var I=0;I<C;I++){var B=b[I];B.mask&&B.mask.preRenderCanvas(this,B,w),B.renderCanvas(this,B,w),B.mask&&B.mask.postRenderCanvas(this,B,w)}R.setTransform(1,0,0,1,0,0),R.globalCompositeOperation="source-over",R.globalAlpha=1,w.flashEffect.postRenderCanvas(R),w.fadeEffect.postRenderCanvas(R),w.dirty=!1,M&&M.postRenderCanvas(this),R.restore(),w.renderToTexture&&(w.emit(a.POST_RENDER,w),w.renderToGame&&x.sys.context.drawImage(w.canvas,E,T)),w.emit(a.POST_RENDER,w)},postRender:function(){var x=this.gameContext;x.restore(),this.emit(o.POST_RENDER);var b=this.snapshotState;b.callback&&(v(this.gameCanvas,b),b.callback=null)},snapshotCanvas:function(x,b,w,C,E,T,k,P,R){w===void 0&&(w=!1),this.snapshotArea(C,E,T,k,b,P,R);var M=this.snapshotState;return M.getPixel=w,v(x,M),M.callback=null,this},snapshot:function(x,b,w){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,x,b,w)},snapshotArea:function(x,b,w,C,E,T,k){var P=this.snapshotState;return P.callback=E,P.type=T,P.encoder=k,P.getPixel=!1,P.x=x,P.y=b,P.width=Math.min(w,this.gameCanvas.width),P.height=Math.min(C,this.gameCanvas.height),this},snapshotPixel:function(x,b,w){return this.snapshotArea(x,b,1,1,w),this.snapshotState.getPixel=!0,this},batchSprite:function(x,b,w,C){var E=w.alpha*x.alpha;if(E!==0){var T=this.currentContext,k=this._tempMatrix1,P=this._tempMatrix2,R=b.canvasData,M=R.x,I=R.y,B=b.cutWidth,D=b.cutHeight,N=b.customPivot,_=b.source.resolution,G=x.displayOriginX,$=x.displayOriginY,V=-G+b.x,Y=-$+b.y;if(x.isCropped){var U=x._crop;(U.flipX!==x.flipX||U.flipY!==x.flipY)&&b.updateCropUVs(U,x.flipX,x.flipY),B=U.cw,D=U.ch,M=U.cx,I=U.cy,V=-G+U.x,Y=-$+U.y,x.flipX&&(V>=0?V=-(V+B):V<0&&(V=Math.abs(V)-B)),x.flipY&&(Y>=0?Y=-(Y+D):Y<0&&(Y=Math.abs(Y)-D))}var F=1,O=1;x.flipX&&(N||(V+=-b.realWidth+G*2),F=-1),x.flipY&&(N||(Y+=-b.realHeight+$*2),O=-1);var j=x.x,z=x.y;P.applyITRS(j,z,x.rotation,x.scaleX*F,x.scaleY*O),k.copyFrom(w.matrix),C?(k.multiplyWithOffset(C,-w.scrollX*x.scrollFactorX,-w.scrollY*x.scrollFactorY),P.e=j,P.f=z):(P.e-=w.scrollX*x.scrollFactorX,P.f-=w.scrollY*x.scrollFactorY),k.multiply(P),w.roundPixels&&(k.e=Math.round(k.e),k.f=Math.round(k.f)),T.save(),k.setToContext(T),T.globalCompositeOperation=this.blendModes[x.blendMode],T.globalAlpha=E,T.imageSmoothingEnabled=!b.source.scaleMode,x.mask&&x.mask.preRenderCanvas(this,x,w),B>0&&D>0&&(w.roundPixels?T.drawImage(b.source.image,M,I,B,D,Math.round(V),Math.round(Y),Math.round(B/_),Math.round(D/_)):T.drawImage(b.source.image,M,I,B,D,V,Y,B/_,D/_)),x.mask&&x.mask.postRenderCanvas(this,x,w),T.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});s.exports=y},55830:(s,g,i)=>{s.exports={CanvasRenderer:i(68627),GetBlendModes:i(56373),SetTransform:i(20926)}},56373:(s,g,i)=>{var a=i(10312),v=i(89289),f=function(){var h=[],u=v.supportNewBlendModes,o="source-over";return h[a.NORMAL]=o,h[a.ADD]="lighter",h[a.MULTIPLY]=u?"multiply":o,h[a.SCREEN]=u?"screen":o,h[a.OVERLAY]=u?"overlay":o,h[a.DARKEN]=u?"darken":o,h[a.LIGHTEN]=u?"lighten":o,h[a.COLOR_DODGE]=u?"color-dodge":o,h[a.COLOR_BURN]=u?"color-burn":o,h[a.HARD_LIGHT]=u?"hard-light":o,h[a.SOFT_LIGHT]=u?"soft-light":o,h[a.DIFFERENCE]=u?"difference":o,h[a.EXCLUSION]=u?"exclusion":o,h[a.HUE]=u?"hue":o,h[a.SATURATION]=u?"saturation":o,h[a.COLOR]=u?"color":o,h[a.LUMINOSITY]=u?"luminosity":o,h[a.ERASE]="destination-out",h[a.SOURCE_IN]="source-in",h[a.SOURCE_OUT]="source-out",h[a.SOURCE_ATOP]="source-atop",h[a.DESTINATION_OVER]="destination-over",h[a.DESTINATION_IN]="destination-in",h[a.DESTINATION_OUT]="destination-out",h[a.DESTINATION_ATOP]="destination-atop",h[a.LIGHTER]="lighter",h[a.COPY]="copy",h[a.XOR]="xor",h};s.exports=f},20926:(s,g,i)=>{var a=i(91296),v=function(f,h,u,o,d){var p=o.alpha*u.alpha;if(p<=0)return!1;var l=a(u,o,d).calc;return h.globalCompositeOperation=f.blendModes[u.blendMode],h.globalAlpha=p,h.save(),l.setToContext(h),h.imageSmoothingEnabled=u.frame?!u.frame.source.scaleMode:f.antialias,!0};s.exports=v},63899:s=>{s.exports="losewebgl"},6119:s=>{s.exports="postrender"},48070:s=>{s.exports="prerender"},15640:s=>{s.exports="render"},8912:s=>{s.exports="resize"},87124:s=>{s.exports="restorewebgl"},92503:(s,g,i)=>{s.exports={LOSE_WEBGL:i(63899),POST_RENDER:i(6119),PRE_RENDER:i(48070),RENDER:i(15640),RESIZE:i(8912),RESTORE_WEBGL:i(87124)}},36909:(s,g,i)=>{s.exports={Events:i(92503),Snapshot:i(89966)},s.exports.Canvas=i(55830),s.exports.WebGL=i(4159)},32880:(s,g,i)=>{var a=i(27919),v=i(40987),f=i(95540),h=function(u,o){var d=f(o,"callback"),p=f(o,"type","image/png"),l=f(o,"encoder",.92),m=Math.abs(Math.round(f(o,"x",0))),y=Math.abs(Math.round(f(o,"y",0))),x=Math.floor(f(o,"width",u.width)),b=Math.floor(f(o,"height",u.height)),w=f(o,"getPixel",!1);if(w){var C=u.getContext("2d",{willReadFrequently:!1}),E=C.getImageData(m,y,1,1),T=E.data;d.call(null,new v(T[0],T[1],T[2],T[3]))}else if(m!==0||y!==0||x!==u.width||b!==u.height){var k=a.createWebGL(this,x,b),P=k.getContext("2d",{willReadFrequently:!0});x>0&&b>0&&P.drawImage(u,m,y,x,b,0,0,x,b);var R=new Image;R.onerror=function(){d.call(null),a.remove(k)},R.onload=function(){d.call(null,R),a.remove(k)},R.src=k.toDataURL(p,l)}else{var M=new Image;M.onerror=function(){d.call(null)},M.onload=function(){d.call(null,M)},M.src=u.toDataURL(p,l)}};s.exports=h},88815:(s,g,i)=>{var a=i(27919),v=i(40987),f=i(95540),h=function(u,o){var d=u,p=f(o,"callback"),l=f(o,"type","image/png"),m=f(o,"encoder",.92),y=Math.abs(Math.round(f(o,"x",0))),x=Math.abs(Math.round(f(o,"y",0))),b=f(o,"getPixel",!1),w=f(o,"isFramebuffer",!1),C=w?f(o,"bufferWidth",1):d.drawingBufferWidth,E=w?f(o,"bufferHeight",1):d.drawingBufferHeight;if(b){var T=new Uint8Array(4),k=w?x:E-x;d.readPixels(y,k,1,1,d.RGBA,d.UNSIGNED_BYTE,T),p.call(null,new v(T[0],T[1],T[2],T[3]))}else{var P=Math.floor(f(o,"width",C)),R=Math.floor(f(o,"height",E)),M=P*R*4,I=new Uint8Array(M);d.readPixels(y,E-x-R,P,R,d.RGBA,d.UNSIGNED_BYTE,I);for(var B=a.createWebGL(this,P,R),D=B.getContext("2d",{willReadFrequently:!0}),N=D.getImageData(0,0,P,R),_=N.data,G=0;G<R;G++)for(var $=0;$<P;$++){var V=((R-G-1)*P+$)*4,Y=w?M-(G*P+(P-$))*4:(G*P+$)*4;_[Y+0]=I[V+0],_[Y+1]=I[V+1],_[Y+2]=I[V+2],_[Y+3]=I[V+3]}D.putImageData(N,0,0);var U=new Image;U.onerror=function(){p.call(null),a.remove(B)},U.onload=function(){p.call(null,U),a.remove(B)},U.src=B.toDataURL(l,m)}};s.exports=h},89966:(s,g,i)=>{s.exports={Canvas:i(32880),WebGL:i(88815)}},7530:(s,g,i)=>{var a=i(83419),v=i(36060),f=i(90330),h=i(82264),u=i(95540),o=i(32302),d=i(63448),p=i(31302),l=i(58918),m=i(14811),y=i(92651),x=i(96569),b=i(56527),w=i(57516),C=i(43439),E=i(81041),T=i(12385),k=i(7589),P=i(95428),R=i(72905),M=new a({initialize:function(B){this.game=B.game,this.renderer=B,this.classes=new f([[v.UTILITY_PIPELINE,k],[v.MULTI_PIPELINE,w],[v.BITMAPMASK_PIPELINE,p],[v.SINGLE_PIPELINE,T],[v.ROPE_PIPELINE,E],[v.LIGHT_PIPELINE,x],[v.POINTLIGHT_PIPELINE,C],[v.MOBILE_PIPELINE,b]]),this.postPipelineClasses=new f,this.pipelines=new f,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(I,B,D){var N=this.renderer,_=this.renderTargets;this.frameInc=Math.floor(u(I,"frameInc",32));var G=N.width,$=N.height,V=this.game.config.disablePreFX,Y=this.game.config.disablePostFX;if(Y||this.postPipelineClasses.setAll([[String(m.BARREL),l.Barrel],[String(m.BLOOM),l.Bloom],[String(m.BLUR),l.Blur],[String(m.BOKEH),l.Bokeh],[String(m.CIRCLE),l.Circle],[String(m.COLOR_MATRIX),l.ColorMatrix],[String(m.DISPLACEMENT),l.Displacement],[String(m.GLOW),l.Glow],[String(m.GRADIENT),l.Gradient],[String(m.PIXELATE),l.Pixelate],[String(m.SHADOW),l.Shadow],[String(m.SHINE),l.Shine],[String(m.VIGNETTE),l.Vignette],[String(m.WIPE),l.Wipe]]),!V){this.classes.set(v.FX_PIPELINE,y);for(var U=Math.min(G,$),F=Math.ceil(U/this.frameInc),O=1;O<F;O++){var j=O*this.frameInc;_.push(new o(N,j,j)),_.push(new o(N,j,j)),_.push(new o(N,j,j)),this.maxDimension=j}_.push(new o(N,G,$,1,0,!0,!0)),_.push(new o(N,G,$,1,0,!0,!0)),_.push(new o(N,G,$,1,0,!0,!0))}var z,W,q=this,ot=this.game;if(this.classes.each(function(rt,Mt){z=q.add(rt,new Mt({game:ot})),rt===v.UTILITY_PIPELINE&&(q.UTILITY_PIPELINE=z,q.fullFrame1=z.fullFrame1,q.fullFrame2=z.fullFrame2,q.halfFrame1=z.halfFrame1,q.halfFrame2=z.halfFrame2)}),this.MULTI_PIPELINE=this.get(v.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(v.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(v.MOBILE_PIPELINE),V||(this.FX_PIPELINE=this.get(v.FX_PIPELINE)),I)for(W in I){var Q=I[W];z=new Q(ot),z.name=W,z.isPostFX?this.postPipelineClasses.set(W,Q):this.has(W)||(this.classes.set(W,Q),this.add(W,z))}this.default=this.get(B),D&&!h.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(I){var B=this.get(I);return B&&(this.default=B),B},add:function(I,B){if(B.isPostFX){console.warn(I+" is a Post Pipeline. Use `addPostPipeline` instead");return}var D=this.pipelines,N=this.renderer;return D.has(I)?console.warn("Pipeline exists: "+I):(B.name=I,B.manager=this,D.set(I,B)),B.hasBooted||B.boot(),N.width!==0&&N.height!==0&&!B.isPreFX&&B.resize(N.width,N.height),B},addPostPipeline:function(I,B){this.postPipelineClasses.has(I)||this.postPipelineClasses.set(I,B)},flush:function(){this.current&&this.current.flush()},has:function(I){var B=this.pipelines;return typeof I=="string"?B.has(I):!!B.contains(I)},get:function(I){var B=this.pipelines;if(typeof I=="string")return B.get(I);if(B.contains(I))return I},getPostPipeline:function(I,B,D){var N=this.postPipelineClasses,_,G="",$=typeof I;if($==="string"||$==="number"?(_=N.get(I),G=I):$==="function"?(N.contains(I)&&(_=I),G=I.name):$==="object"&&(_=N.get(I.name),G=I.name),_){var V=new _(this.game,D);return V.name=G,B&&(V.gameObject=B),this.postPipelineInstances.push(V),V}},removePostPipeline:function(I){R(this.postPipelineInstances,I)},remove:function(I,B,D){B===void 0&&(B=!0),D===void 0&&(D=!0),this.pipelines.delete(I),B&&this.classes.delete(I),D&&this.postPipelineClasses.delete(I)},set:function(I,B,D){if(!I.isPostFX)return this.isCurrent(I,D)||(this.flush(),this.current&&this.current.unbind(),this.current=I,I.bind(D)),I.updateProjectionMatrix(),I.onBind(B),I},preBatch:function(I){if(I.hasPostPipeline){this.flush();for(var B=I.postPipelines,D=B.length-1;D>=0;D--){var N=B[D];N.active&&N.preBatch(I)}}},postBatch:function(I){if(I.hasPostPipeline){this.flush();for(var B=I.postPipelines,D=0;D<B.length;D++){var N=B[D];N.active&&N.postBatch(I)}}},preBatchCamera:function(I){if(I.hasPostPipeline){this.flush();for(var B=I.postPipelines,D=B.length-1;D>=0;D--){var N=B[D];N.active&&N.preBatch(I)}}},postBatchCamera:function(I){if(I.hasPostPipeline){this.flush();for(var B=I.postPipelines,D=0;D<B.length;D++){var N=B[D];N.active&&N.postBatch(I)}}},isCurrent:function(I,B){var D=this.renderer,N=this.current;return N&&!B&&(B=N.currentShader),!(N!==I||B.program!==D.currentProgram)},copyFrame:function(I,B,D,N,_){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(I,B,D,N,_),this},copyToGame:function(I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(I),this},drawFrame:function(I,B,D,N){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(I,B,D,N),this},blendFrames:function(I,B,D,N,_){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(I,B,D,N,_),this},blendFramesAdditive:function(I,B,D,N,_){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(I,B,D,N,_),this},clearFrame:function(I,B){return this.UTILITY_PIPELINE.clearFrame(I,B),this},blitFrame:function(I,B,D,N,_,G){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(I,B,D,N,_,G),this},copyFrameRect:function(I,B,D,N,_,G,$,V){return this.UTILITY_PIPELINE.copyFrameRect(I,B,D,N,_,G,$,V),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(I){return this.UTILITY_PIPELINE.bind(I)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(I,B){B.restoreContext()}),P(this.postPipelineInstances,function(I){I.restoreContext()})},rebind:function(I){I===void 0&&this.previous&&(I=this.previous);var B=this.renderer,D=B.gl;D.disable(D.DEPTH_TEST),D.disable(D.CULL_FACE),B.hasActiveStencilMask()?D.clear(D.DEPTH_BUFFER_BIT):(D.disable(D.STENCIL_TEST),D.clear(D.DEPTH_BUFFER_BIT|D.STENCIL_BUFFER_BIT)),D.viewport(0,0,B.width,B.height),B.currentProgram=null,B.setBlendMode(0,!0);var N=B.vaoExtension;N&&N.bindVertexArrayOES(null);var _=this.pipelines.entries;for(var G in _)_[G].glReset=!0;I&&(this.current=I,I.rebind())},clear:function(){var I=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,I.currentProgram=null,I.setBlendMode(0,!0);var B=I.vaoExtension;B&&B.bindVertexArrayOES(null)},getRenderTarget:function(I){var B=this.renderTargets,D=3;if(I>this.maxDimension)return this.targetIndex=B.length-D,B[this.targetIndex];var N=(d(I,this.frameInc,0,!0)-1)*D;return this.targetIndex=N,B[N]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});s.exports=M},32302:(s,g,i)=>{var a=i(83419),v=i(92503),f=new a({initialize:function(u,o,d,p,l,m,y,x,b){p===void 0&&(p=1),l===void 0&&(l=0),m===void 0&&(m=!0),y===void 0&&(y=!1),x===void 0&&(x=!0),b===void 0&&(b=!0),this.renderer=u,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=p,this.minFilter=l,this.autoClear=m,this.autoResize=!0,this.hasDepthBuffer=x,this.forceClamp=b,this.resize(o,d),y?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(h){return h&&!this.autoResize?(this.renderer.on(v.RESIZE,this.resize,this),this.autoResize=!0):!h&&this.autoResize&&(this.renderer.off(v.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(h,u){if(h=Math.round(h*this.scale),u=Math.round(u*this.scale),h<=0&&(h=1),u<=0&&(u=1),this.autoResize&&(h!==this.width||u!==this.height)){var o=this.renderer;o.deleteFramebuffer(this.framebuffer),o.deleteTexture(this.texture),this.texture=o.createTextureFromSource(null,h,u,this.minFilter,this.forceClamp),this.framebuffer=o.createFramebuffer(h,u,this.texture,this.hasDepthBuffer),this.width=h,this.height=u}return this},willResize:function(h,u){return h=Math.round(h*this.scale),u=Math.round(u*this.scale),h<=0&&(h=1),u<=0&&(u=1),h!==this.width||u!==this.height},bind:function(h,u,o){h===void 0&&(h=!1);var d=this.renderer;if(h&&d.flush(),u&&o&&this.resize(u,o),d.pushFramebuffer(this.framebuffer,!1,!1),h&&this.adjustViewport(),this.autoClear){var p=this.renderer.gl;p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT)}d.clearStencilMask()},adjustViewport:function(){var h=this.renderer.gl;h.viewport(0,0,this.width,this.height),h.disable(h.SCISSOR_TEST)},clear:function(){var h=this.renderer,u=h.gl;h.pushFramebuffer(this.framebuffer),u.disable(u.SCISSOR_TEST),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),h.popFramebuffer(),h.resetScissor()},unbind:function(h){h===void 0&&(h=!1);var u=this.renderer;return h&&u.flush(),u.popFramebuffer()},destroy:function(){var h=this.renderer;h.off(v.RESIZE,this.resize,this),h.deleteFramebuffer(this.framebuffer),h.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});s.exports=f},70554:s=>{s.exports={getTintFromFloats:function(g,i,a,v){var f=(g*255|0)&255,h=(i*255|0)&255,u=(a*255|0)&255,o=(v*255|0)&255;return(o<<24|f<<16|h<<8|u)>>>0},getTintAppendFloatAlpha:function(g,i){var a=(i*255|0)&255;return(a<<24|g)>>>0},getTintAppendFloatAlphaAndSwap:function(g,i){var a=(g>>16|0)&255,v=(g>>8|0)&255,f=(g|0)&255,h=(i*255|0)&255;return(h<<24|f<<16|v<<8|a)>>>0},getFloatsFromUintRGB:function(g){var i=(g>>16|0)&255,a=(g>>8|0)&255,v=(g|0)&255;return[i/255,a/255,v/255]},checkShaderMax:function(g,i){var a=Math.min(16,g.getParameter(g.MAX_TEXTURE_IMAGE_UNITS));return!i||i===-1?a:Math.min(a,i)},parseFragmentShaderMaxTextures:function(g,i){if(!g)return"";for(var a="",v=0;v<i;v++)v>0&&(a+=`
	else `),v<i-1&&(a+="if (outTexId < "+v+".5)"),a+=`
	{`,a+=`
		texture = texture2D(uMainSampler[`+v+"], outTexCoord);",a+=`
	}`;return g=g.replace(/%count%/gi,i.toString()),g.replace(/%forloop%/gi,a)},setGlowQuality:function(g,i,a,v){return a===void 0&&(a=i.config.glowFXQuality),v===void 0&&(v=i.config.glowFXDistance),g=g.replace(/__SIZE__/gi,(1/a/v).toFixed(7)),g=g.replace(/__DIST__/gi,v.toFixed(0)+".0"),g}}},29100:(s,g,i)=>{var a=i(83419),v=i(62644),f=i(50792),h=i(77085),u=i(95540),o=i(37867),d=i(92503),p=i(32302),l=i(70554),m=i(38683),y=new a({Extends:f,initialize:function(b){f.call(this);var w=b.game,C=w.renderer,E=C.gl;this.name=u(b,"name","WebGLPipeline"),this.game=w,this.renderer=C,this.manager,this.gl=E,this.view=w.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=u(b,"topology",E.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=u(b,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=b,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=u(b,"resizeUniform","")},boot:function(){var x,b=this.gl,w=this.config,C=this.renderer;this.isPostFX||(this.projectionMatrix=new o().identity());var E=this.renderTargets,T=u(w,"renderTarget",!1);typeof T=="boolean"&&T&&(T=1);var k=C.width,P=C.height;if(typeof T=="number")for(x=0;x<T;x++)E.push(new p(C,k,P,1,0,!0));else if(Array.isArray(T))for(x=0;x<T.length;x++){var R=u(T[x],"scale",1),M=u(T[x],"minFilter",0),I=u(T[x],"autoClear",1),B=u(T[x],"autoResize",!1),D=u(T[x],"width",null),N=u(T[x],"height",D);D?E.push(new p(C,D,N,1,M,I,B)):E.push(new p(C,k,P,R,M,I,B))}E.length&&(this.currentRenderTarget=E[0]),this.setShadersFromConfig(w);var _=this.shaders,G=0;for(x=0;x<_.length;x++)_[x].vertexSize>G&&(G=_[x].vertexSize);var $=u(w,"batchSize",C.config.batchSize);this.vertexCapacity=$*6;var V=new ArrayBuffer(this.vertexCapacity*G);this.vertexData=V,this.bytes=new Uint8Array(V),this.vertexViewF32=new Float32Array(V),this.vertexViewU32=new Uint32Array(V);var Y=u(w,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=C.createVertexBuffer(V,b.STATIC_DRAW)):this.vertexBuffer=C.createVertexBuffer(V.byteLength,b.DYNAMIC_DRAW),this.setVertexBuffer(),x=_.length-1;x>=0;x--)_[x].rebind();this.hasBooted=!0,C.on(d.RESIZE,this.resize,this),C.on(d.PRE_RENDER,this.onPreRender,this),C.on(d.RENDER,this.onRender,this),C.on(d.POST_RENDER,this.onPostRender,this),this.emit(h.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(x,b,w){var C=this.renderer;if(x!==this.currentShader||C.currentProgram!==this.currentShader.program){this.flush();var E=this.setVertexBuffer(w);E&&!b&&(b=!0),x.bind(b,!1),this.currentShader=x}return this},getShaderByName:function(x){for(var b=this.shaders,w=0;w<b.length;w++)if(b[w].name===x)return b[w]},setShadersFromConfig:function(x){var b,w=this.shaders,C=this.renderer;for(b=0;b<w.length;b++)w[b].destroy();var E="vertShader",T="fragShader",k="attributes",P=u(x,E,null),R=l.parseFragmentShaderMaxTextures(u(x,T,null),C.maxTextures),M=u(x,k,null),I=u(x,"shaders",[]),B=I.length;if(B===0)P&&R&&(this.shaders=[new m(this,"default",P,R,v(M))]);else{var D=[];for(b=0;b<B;b++){var N=I[b],_,G,$,V;if(typeof N=="string"?(_="default",G=P,$=l.parseFragmentShaderMaxTextures(N,C.maxTextures),V=M):(_=u(N,"name","default"),G=u(N,E,P),$=l.parseFragmentShaderMaxTextures(u(N,T,R),C.maxTextures),V=u(N,k,M)),_==="default"){var Y=$.split(`
`),U=Y[0].trim();U.indexOf("#define SHADER_NAME")>-1&&(_=U.substring(20))}G&&$&&D.push(new m(this,_,G,$,v(V)))}this.shaders=D}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(x){return this.currentBatch={start:this.vertexCount,count:0,texture:[x],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=x,this.batch.push(this.currentBatch),0},addTextureToBatch:function(x){var b=this.currentBatch;b&&(b.texture.push(x),b.unit++,b.maxUnit++)},pushBatch:function(x){if(!this.currentBatch||this.forceZero&&x!==this.currentTexture)return this.createBatch(x);if(x===this.currentTexture)return this.currentUnit;var b=this.currentBatch,w=b.texture.indexOf(x);return w===-1?b.texture.length===this.renderer.maxTextures?this.createBatch(x):(b.unit++,b.maxUnit++,b.texture.push(x),this.currentUnit=b.unit,this.currentTexture=x,b.unit):(this.currentUnit=w,this.currentTexture=x,w)},setGameObject:function(x,b){return b===void 0&&(b=x.frame),this.pushBatch(b.source.glTexture)},shouldFlush:function(x){return x===void 0&&(x=0),this.vertexCount+x>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(x,b){(x!==this.width||b!==this.height)&&this.flush(),this.width=x,this.height=b;for(var w=this.renderTargets,C=0;C<w.length;C++)w[C].resize(x,b);return this.setProjectionMatrix(x,b),this.resizeUniform&&this.set2f(this.resizeUniform,x,b),this.emit(h.RESIZE,x,b,this),this.onResize(x,b),this},setProjectionMatrix:function(x,b){var w=this.projectionMatrix;if(!w)return this;this.projectionWidth=x,this.projectionHeight=b,w.ortho(0,x,b,0,-1e3,1e3);for(var C=this.shaders,E="uProjectionMatrix",T=0;T<C.length;T++){var k=C[T];k.hasUniform(E)&&(k.resetUniform(E),k.setMatrix4fv(E,!1,w.val,k))}return this},flipProjectionMatrix:function(x){x===void 0&&(x=!0);var b=this.projectionMatrix;if(!b)return this;var w=this.projectionWidth,C=this.projectionHeight;x?b.ortho(0,w,0,C,-1e3,1e3):b.ortho(0,w,C,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,b.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var x=this.renderer.projectionWidth,b=this.renderer.projectionHeight;(this.projectionWidth!==x||this.projectionHeight!==b)&&this.setProjectionMatrix(x,b)}},bind:function(x){if(x===void 0&&(x=this.currentShader),this.glReset)return this.rebind(x);var b=!1,w=this.gl;return w.getParameter(w.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(w.bindBuffer(w.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,b=!0),x.bind(b),this.currentShader=x,this.activeTextures.length=0,this.emit(h.BIND,this,x),this.onActive(x),this},rebind:function(x){this.activeBuffer=null,this.setVertexBuffer();for(var b=this.shaders,w=b.length-1;w>=0;w--){var C=b[w].rebind();(!x||C===x)&&(this.currentShader=C)}return this.activeTextures.length=0,this.emit(h.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var x=this.shaders,b=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,b&&this.setVertexBuffer();for(var w=0;w<x.length;w++){var C=x[w];C.syncUniforms(),b&&C.rebind()}},setVertexBuffer:function(x){if(x===void 0&&(x=this.vertexBuffer),x!==this.activeBuffer){var b=this.gl;return this.gl.bindBuffer(b.ARRAY_BUFFER,x.webGLBuffer),this.activeBuffer=x,!0}return!1},preBatch:function(x){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(x),this},postBatch:function(x){return this.onDraw(this.currentRenderTarget),this.onPostBatch(x),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(x){if(x===void 0&&(x=!1),this.vertexCount>0){this.emit(h.BEFORE_FLUSH,this,x),this.onBeforeFlush(x);var b=this.gl,w=this.vertexCount,C=this.currentShader.vertexSize,E=this.topology;if(this.active){this.setVertexBuffer(),w===this.vertexCapacity?b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.DYNAMIC_DRAW):b.bufferSubData(b.ARRAY_BUFFER,0,this.bytes.subarray(0,w*C));var T,k,P,R=this.batch,M=this.activeTextures;if(this.forceZero)for(M[0]||b.activeTexture(b.TEXTURE0),T=0;T<R.length;T++)k=R[T],P=k.texture[0],M[0]!==P&&(b.bindTexture(b.TEXTURE_2D,P.webGLTexture),M[0]=P),b.drawArrays(E,k.start,k.count);else for(T=0;T<R.length;T++){k=R[T];for(var I=0;I<=k.maxUnit;I++)P=k.texture[I],M[I]!==P&&(b.activeTexture(b.TEXTURE0+I),b.bindTexture(b.TEXTURE_2D,P.webGLTexture),M[I]=P);b.drawArrays(E,k.start,k.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(h.AFTER_FLUSH,this,x),this.onAfterFlush(x)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(x,b,w,C,E,T,k){var P=this.vertexViewF32,R=this.vertexViewU32,M=this.vertexCount*this.currentShader.vertexComponentCount-1;P[++M]=x,P[++M]=b,P[++M]=w,P[++M]=C,P[++M]=E,P[++M]=T,R[++M]=k,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(x,b,w,C,E,T,k,P,R,M,I,B,D,N,_,G,$,V,Y,U){U===void 0&&(U=this.currentUnit);var F=!1;this.shouldFlush(6)&&(this.flush(),F=!0),this.currentBatch||(U=this.setTexture2D(Y));var O=this.vertexViewF32,j=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return O[++z]=b,O[++z]=w,O[++z]=M,O[++z]=I,O[++z]=U,O[++z]=V,j[++z]=N,O[++z]=C,O[++z]=E,O[++z]=M,O[++z]=D,O[++z]=U,O[++z]=V,j[++z]=G,O[++z]=T,O[++z]=k,O[++z]=B,O[++z]=D,O[++z]=U,O[++z]=V,j[++z]=$,O[++z]=b,O[++z]=w,O[++z]=M,O[++z]=I,O[++z]=U,O[++z]=V,j[++z]=N,O[++z]=T,O[++z]=k,O[++z]=B,O[++z]=D,O[++z]=U,O[++z]=V,j[++z]=$,O[++z]=P,O[++z]=R,O[++z]=B,O[++z]=I,O[++z]=U,O[++z]=V,j[++z]=_,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),F},batchTri:function(x,b,w,C,E,T,k,P,R,M,I,B,D,N,_,G,$){$===void 0&&($=this.currentUnit);var V=!1;this.shouldFlush(3)&&(this.flush(),V=!0),this.currentBatch||($=this.setTexture2D(G));var Y=this.vertexViewF32,U=this.vertexViewU32,F=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++F]=b,Y[++F]=w,Y[++F]=P,Y[++F]=R,Y[++F]=$,Y[++F]=_,U[++F]=B,Y[++F]=C,Y[++F]=E,Y[++F]=P,Y[++F]=I,Y[++F]=$,Y[++F]=_,U[++F]=D,Y[++F]=T,Y[++F]=k,Y[++F]=M,Y[++F]=I,Y[++F]=$,Y[++F]=_,U[++F]=N,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),V},drawFillRect:function(x,b,w,C,E,T,k,P){k===void 0&&(k=this.renderer.whiteTexture),P===void 0&&(P=!0),x=Math.floor(x),b=Math.floor(b);var R=Math.floor(x+w),M=Math.floor(b+C),I=this.setTexture2D(k),B=l.getTintAppendFloatAlphaAndSwap(E,T),D=0,N=0,_=1,G=1;P&&(N=1,G=0),this.batchQuad(null,x,b,x,M,R,M,R,b,D,N,_,G,B,B,B,B,0,k,I)},setTexture2D:function(x){return x===void 0&&(x=this.renderer.whiteTexture),this.pushBatch(x)},bindTexture:function(x,b){b===void 0&&(b=0);var w=this.gl;return w.activeTexture(w.TEXTURE0+b),w.bindTexture(w.TEXTURE_2D,x.webGLTexture),this},bindRenderTarget:function(x,b){return this.bindTexture(x.texture,b)},setTime:function(x,b){return this.set1f(x,this.game.loop.getDuration(),b),this},setBoolean:function(x,b,w){return w===void 0&&(w=this.currentShader),w.setBoolean(x,b),this},set1f:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set1f(x,b),this},set2f:function(x,b,w,C){return C===void 0&&(C=this.currentShader),C.set2f(x,b,w),this},set3f:function(x,b,w,C,E){return E===void 0&&(E=this.currentShader),E.set3f(x,b,w,C),this},set4f:function(x,b,w,C,E,T){return T===void 0&&(T=this.currentShader),T.set4f(x,b,w,C,E),this},set1fv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set1fv(x,b),this},set2fv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set2fv(x,b),this},set3fv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set3fv(x,b),this},set4fv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set4fv(x,b),this},set1iv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set1iv(x,b),this},set2iv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set2iv(x,b),this},set3iv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set3iv(x,b),this},set4iv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set4iv(x,b),this},set1i:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set1i(x,b),this},set2i:function(x,b,w,C){return C===void 0&&(C=this.currentShader),C.set2i(x,b,w),this},set3i:function(x,b,w,C,E){return E===void 0&&(E=this.currentShader),E.set3i(x,b,w,C),this},set4i:function(x,b,w,C,E,T){return T===void 0&&(T=this.currentShader),T.set4i(x,b,w,C,E),this},setMatrix2fv:function(x,b,w,C){return C===void 0&&(C=this.currentShader),C.setMatrix2fv(x,b,w),this},setMatrix3fv:function(x,b,w,C){return C===void 0&&(C=this.currentShader),C.setMatrix3fv(x,b,w),this},setMatrix4fv:function(x,b,w,C){return C===void 0&&(C=this.currentShader),C.setMatrix4fv(x,b,w),this},destroy:function(){this.emit(h.DESTROY,this);var x,b=this.shaders;for(x=0;x<b.length;x++)b[x].destroy();var w=this.renderTargets;for(x=0;x<w.length;x++)w[x].destroy();var C=this.renderer;return C.deleteBuffer(this.vertexBuffer),C.off(d.RESIZE,this.resize,this),C.off(d.PRE_RENDER,this.onPreRender,this),C.off(d.RENDER,this.onRender,this),C.off(d.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});s.exports=y},74797:(s,g,i)=>{var a=i(95428),v=i(72905),f=i(19715),h=i(83419),u=i(8054),o=i(50792),d=i(92503),p=i(50030),l=i(37867),m=i(29747),y=i(7530),x=i(32302),b=i(97480),w=i(69442),C=i(70554),E=i(88815),T=i(26128),k=i(1482),P=i(82751),R=i(84387),M=i(93567),I=i(57183),B=new h({Extends:o,initialize:function(N){o.call(this);var _=N.config,G={alpha:_.transparent,desynchronized:_.desynchronized,depth:!0,antialias:_.antialiasGL,premultipliedAlpha:_.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:_.failIfMajorPerformanceCaveat,powerPreference:_.powerPreference,preserveDrawingBuffer:_.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:_.clearBeforeRender,antialias:_.antialias,backgroundColor:_.backgroundColor,contextCreation:G,roundPixels:_.roundPixels,maxTextures:_.maxTextures,maxTextureSize:_.maxTextureSize,batchSize:_.batchSize,maxLights:_.maxLights,mipmapFilter:_.mipmapFilter},this.game=N,this.type=u.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=N.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=m,this.contextRestoredHandler=m,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(D){var N,_=this.game,G=this.canvas,$=D.backgroundColor;if(_.config.context?N=_.config.context:N=G.getContext("webgl",D.contextCreation)||G.getContext("experimental-webgl",D.contextCreation),!N||N.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=N;var V=this,Y=function(){var O=N.getSupportedExtensions();V.supportedExtensions=O;var j="ANGLE_instanced_arrays";V.instancedArraysExtension=O.indexOf(j)>-1?N.getExtension(j):null;var z="OES_vertex_array_object";V.vaoExtension=O.indexOf(z)>-1?N.getExtension(z):null};Y(),this.contextLostHandler=function(O){V.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),V.emit(d.LOSE_WEBGL,V),O.preventDefault()},G.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(O){if(N.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}V.currentProgram=null,V.currentFramebuffer=null,V.setBlendMode(u.BlendModes.NORMAL),N.disable(N.BLEND),N.disable(N.DEPTH_TEST),N.enable(N.CULL_FACE),V.compression=V.getCompressedTextures();var j=function(z){z.createResource()};a(V.glTextureWrappers,j),a(V.glBufferWrappers,j),a(V.glFramebufferWrappers,j),a(V.glProgramWrappers,j),a(V.glAttribLocationWrappers,j),a(V.glUniformLocationWrappers,j),V.createTemporaryTextures(),V.pipelines.restoreContext(),V.resize(V.game.scale.baseSize.width,V.game.scale.baseSize.height),Y(),V.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),V.emit(d.RESTORE_WEBGL,V),O.preventDefault()},G.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),_.context=N;for(var U=0;U<=27;U++)this.blendModes.push({func:[N.ONE,N.ONE_MINUS_SRC_ALPHA],equation:N.FUNC_ADD});this.blendModes[1].func=[N.ONE,N.DST_ALPHA],this.blendModes[2].func=[N.DST_COLOR,N.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[N.ONE,N.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[N.ZERO,N.ONE_MINUS_SRC_ALPHA],equation:N.FUNC_REVERSE_SUBTRACT},this.glFormats=[N.BYTE,N.SHORT,N.UNSIGNED_BYTE,N.UNSIGNED_SHORT,N.FLOAT],this.glFuncMap={mat2:{func:N.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:N.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:N.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:N.uniform1f,length:1},"1fv":{func:N.uniform1fv,length:1},"1i":{func:N.uniform1i,length:1},"1iv":{func:N.uniform1iv,length:1},"2f":{func:N.uniform2f,length:2},"2fv":{func:N.uniform2fv,length:1},"2i":{func:N.uniform2i,length:2},"2iv":{func:N.uniform2iv,length:1},"3f":{func:N.uniform3f,length:3},"3fv":{func:N.uniform3fv,length:1},"3i":{func:N.uniform3i,length:3},"3iv":{func:N.uniform3iv,length:1},"4f":{func:N.uniform4f,length:4},"4fv":{func:N.uniform4fv,length:1},"4i":{func:N.uniform4i,length:4},"4iv":{func:N.uniform4iv,length:1}},(!D.maxTextures||D.maxTextures===-1)&&(D.maxTextures=N.getParameter(N.MAX_TEXTURE_IMAGE_UNITS)),D.maxTextureSize||(D.maxTextureSize=N.getParameter(N.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),N.disable(N.DEPTH_TEST),N.disable(N.CULL_FACE),N.enable(N.BLEND),N.clearColor($.redGL,$.greenGL,$.blueGL,$.alphaGL);var F=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return F.indexOf(D.mipmapFilter)!==-1&&(this.mipmapFilter=N[D.mipmapFilter]),this.maxTextures=C.checkShaderMax(N,D.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new y(this),this.setBlendMode(u.BlendModes.NORMAL),this.projectionMatrix=new l().identity(),_.textures.once(w.READY,this.boot,this),this},boot:function(){var D=this.game,N=this.pipelines,_=D.scale.baseSize,G=_.width,$=_.height;this.width=G,this.height=$,this.isBooted=!0,this.renderTarget=new x(this,G,$,1,0,!0,!0),this.maskTarget=new x(this,G,$,1,0,!0,!0),this.maskSource=new x(this,G,$,1,0,!0,!0);var V=D.config;N.boot(V.pipeline,V.defaultPipeline,V.autoMobilePipeline),this.blankTexture=D.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=D.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=D.textures.getFrame("__WHITE").glTexture;var Y=this.gl;Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.enable(Y.SCISSOR_TEST),D.scale.on(b.RESIZE,this.onResize,this),this.resize(G,$)},createTemporaryTextures:function(){for(var D=this.gl,N=0;N<this.maxTextures;N++){var _=D.createTexture();D.activeTexture(D.TEXTURE0+N),D.bindTexture(D.TEXTURE_2D,_),D.texImage2D(D.TEXTURE_2D,0,D.RGBA,1,1,0,D.RGBA,D.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(N)}},captureFrame:function(D,N){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(D,N,_){},stopCapture:function(){},onCapture:function(D){},onResize:function(D,N){(N.width!==this.width||N.height!==this.height)&&this.resize(N.width,N.height)},beginCapture:function(D,N){D===void 0&&(D=this.width),N===void 0&&(N=this.height),this.renderTarget.bind(!0,D,N),this.setProjectionMatrix(D,N)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(D,N){var _=this.gl;return this.width=D,this.height=N,this.setProjectionMatrix(D,N),_.viewport(0,0,D,N),this.drawingBufferHeight=_.drawingBufferHeight,_.scissor(0,_.drawingBufferHeight-N,D,N),this.defaultScissor[2]=D,this.defaultScissor[3]=N,this.emit(d.RESIZE,D,N),this},getCompressedTextures:function(){var D="WEBGL_compressed_texture_",N="WEBKIT_"+D,_="EXT_texture_compression_",G=function(V,Y){var U=V.getExtension(D+Y)||V.getExtension(N+Y)||V.getExtension(_+Y);if(U){var F={};for(var O in U)F[U[O]]=O;return F}},$=this.gl;return{ETC:G($,"etc"),ETC1:G($,"etc1"),ATC:G($,"atc"),ASTC:G($,"astc"),BPTC:G($,"bptc"),RGTC:G($,"rgtc"),PVRTC:G($,"pvrtc"),S3TC:G($,"s3tc"),S3TCSRGB:G($,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(D,N){var _=this.compression[D.toUpperCase()];if(N in _)return _[N]},supportsCompressedTexture:function(D,N){var _=this.compression[D.toUpperCase()];return _?N?N in _:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(D,N){return(D!==this.projectionWidth||N!==this.projectionHeight)&&(this.projectionWidth=D,this.projectionHeight=N,this.projectionMatrix.ortho(0,D,N,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(D){return this.supportedExtensions?this.supportedExtensions.indexOf(D):!1},getExtension:function(D){return this.hasExtension(D)?(D in this.extensions||(this.extensions[D]=this.gl.getExtension(D)),this.extensions[D]):null},flush:function(){this.pipelines.flush()},pushScissor:function(D,N,_,G,$){$===void 0&&($=this.drawingBufferHeight);var V=this.scissorStack,Y=[D,N,_,G];return V.push(Y),this.setScissor(D,N,_,G,$),this.currentScissor=Y,Y},setScissor:function(D,N,_,G,$){$===void 0&&($=this.drawingBufferHeight);var V=this.gl,Y=this.currentScissor,U=_>0&&G>0;if(Y&&U){var F=Y[0],O=Y[1],j=Y[2],z=Y[3];U=F!==D||O!==N||j!==_||z!==G}U&&(this.flush(),V.scissor(D,$-N-G,_,G))},resetScissor:function(){var D=this.gl;D.enable(D.SCISSOR_TEST);var N=this.currentScissor;if(N){var _=N[0],G=N[1],$=N[2],V=N[3];$>0&&V>0&&D.scissor(_,this.drawingBufferHeight-G-V,$,V)}},popScissor:function(){var D=this.scissorStack;D.pop();var N=D[D.length-1];N&&this.setScissor(N[0],N[1],N[2],N[3]),this.currentScissor=N},hasActiveStencilMask:function(){var D=this.currentMask.mask,N=this.currentCameraMask.mask;return D&&D.isStencil||N&&N.isStencil},resetViewport:function(){var D=this.gl;D.viewport(0,0,this.width,this.height),this.drawingBufferHeight=D.drawingBufferHeight},setBlendMode:function(D,N){N===void 0&&(N=!1);var _=this.gl,G=this.blendModes[D];return N||D!==u.BlendModes.SKIP_CHECK&&this.currentBlendMode!==D?(this.flush(),_.enable(_.BLEND),_.blendEquation(G.equation),G.func.length>2?_.blendFuncSeparate(G.func[0],G.func[1],G.func[2],G.func[3]):_.blendFunc(G.func[0],G.func[1]),this.currentBlendMode=D,!0):!1},addBlendMode:function(D,N){var _=this.blendModes.push({func:D,equation:N});return _-1},updateBlendMode:function(D,N,_){return this.blendModes[D]&&(this.blendModes[D].func=N,_&&(this.blendModes[D].equation=_)),this},removeBlendMode:function(D){return D>17&&this.blendModes[D]&&this.blendModes.splice(D,1),this},pushFramebuffer:function(D,N,_,G,$){return D===this.currentFramebuffer?this:(this.fboStack.push(D),this.setFramebuffer(D,N,_,G,$))},setFramebuffer:function(D,N,_,G,$){if(N===void 0&&(N=!1),_===void 0&&(_=!0),G===void 0&&(G=null),$===void 0&&($=!1),D===this.currentFramebuffer)return this;var V=this.gl,Y=this.width,U=this.height;return D&&D.renderTexture&&_?(Y=D.renderTexture.width,U=D.renderTexture.height):this.flush(),D?V.bindFramebuffer(V.FRAMEBUFFER,D.webGLFramebuffer):V.bindFramebuffer(V.FRAMEBUFFER,null),_&&V.viewport(0,0,Y,U),G&&V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,G.webGLTexture,0),$&&(V.clearColor(0,0,0,0),V.clear(V.COLOR_BUFFER_BIT)),N&&(D?(this.drawingBufferHeight=U,this.pushScissor(0,0,Y,U)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=D,this},popFramebuffer:function(D,N){D===void 0&&(D=!1),N===void 0&&(N=!0);var _=this.fboStack;_.pop();var G=_[_.length-1];return G||(G=null),this.setFramebuffer(G,D,N),G},restoreFramebuffer:function(D,N){D===void 0&&(D=!1),N===void 0&&(N=!0);var _=this.fboStack,G=_[_.length-1];G||(G=null),this.currentFramebuffer=null,this.setFramebuffer(G,D,N)},setProgram:function(D){return D!==this.currentProgram?(this.flush(),this.gl.useProgram(D.webGLProgram),this.currentProgram=D,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(D,N,_,G,$){$===void 0&&($=!1);var V=this.gl,Y=V.NEAREST,U=V.NEAREST,F=V.CLAMP_TO_EDGE,O=null;N=D?D.width:N,_=D?D.height:_;var j=p(N,_);if(j&&!$&&(F=V.REPEAT),G===u.ScaleModes.LINEAR&&this.config.antialias){var z=D&&D.compressed,W=!z&&j||z&&D.mipmaps.length>1;Y=this.mipmapFilter&&W?this.mipmapFilter:V.LINEAR,U=V.LINEAR}return!D&&typeof N=="number"&&typeof _=="number"?O=this.createTexture2D(0,Y,U,F,F,V.RGBA,null,N,_):O=this.createTexture2D(0,Y,U,F,F,V.RGBA,D),O},createTexture2D:function(D,N,_,G,$,V,Y,U,F,O,j,z){typeof U!="number"&&(U=Y?Y.width:1),typeof F!="number"&&(F=Y?Y.height:1);var W=new P(this.gl,D,N,_,G,$,V,Y,U,F,O,j,z);return this.glTextureWrappers.push(W),W},createFramebuffer:function(D,N,_,G){this.currentFramebuffer=null;var $=new R(this.gl,D,N,_,G);return this.glFramebufferWrappers.push($),$},beginBitmapMask:function(D,N){var _=this.gl;_&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==D&&(this.currentMask.mask=D,this.currentMask.camera=N))},drawBitmapMask:function(D,N,_){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),D.renderWebGL(this,D,N),this.maskSource.unbind(!0),this.maskTarget.unbind();var G=this.gl,$=this.getCurrentStencilMask();$?(G.enable(G.STENCIL_TEST),$.mask.applyStencil(this,$.camera,!0)):this.currentMask.mask=null,this.pipelines.set(_),G.activeTexture(G.TEXTURE0),G.bindTexture(G.TEXTURE_2D,this.maskTarget.texture.webGLTexture),G.activeTexture(G.TEXTURE1),G.bindTexture(G.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(D,N){var _=new k(this.gl,D,N);return this.glProgramWrappers.push(_),_},createVertexBuffer:function(D,N){var _=this.gl,G=new T(_,D,_.ARRAY_BUFFER,N);return this.glBufferWrappers.push(G),G},createAttribLocation:function(D,N){var _=new M(this.gl,D,N);return this.glAttribLocationWrappers.push(_),_},createUniformLocation:function(D,N){var _=new I(this.gl,D,N);return this.glUniformLocationWrappers.push(_),_},createIndexBuffer:function(D,N){var _=this.gl,G=new T(_,D,_.ELEMENT_ARRAY_BUFFER,N);return this.glBufferWrappers.push(G),G},deleteTexture:function(D){if(D)return v(this.glTextureWrappers,D),D.destroy(),this},deleteFramebuffer:function(D){return D?(v(this.fboStack,D),v(this.glFramebufferWrappers,D),D.destroy(),this):this},deleteProgram:function(D){return D&&(v(this.glProgramWrappers,D),D.destroy()),this},deleteAttribLocation:function(D){return D&&(v(this.glAttribLocationWrappers,D),D.destroy()),this},deleteUniformLocation:function(D){return D&&(v(this.glUniformLocationWrappers,D),D.destroy()),this},deleteBuffer:function(D){return D?(v(this.glBufferWrappers,D),D.destroy(),this):this},preRenderCamera:function(D){var N=D.x,_=D.y,G=D.width,$=D.height,V=D.backgroundColor;if(D.emit(f.PRE_RENDER,D),this.pipelines.preBatchCamera(D),this.pushScissor(N,_,G,$),D.mask&&(this.currentCameraMask.mask=D.mask,this.currentCameraMask.camera=D._maskCamera,D.mask.preRenderWebGL(this,D,D._maskCamera)),V.alphaGL>0){var Y=this.pipelines.setMulti();Y.drawFillRect(N,_,G,$,C.getTintFromFloats(V.blueGL,V.greenGL,V.redGL,1),V.alphaGL)}},getCurrentStencilMask:function(){var D=null,N=this.maskStack,_=this.currentCameraMask;return N.length>0?D=N[N.length-1]:_.mask&&_.mask.isStencil&&(D=_),D},postRenderCamera:function(D){var N=D.flashEffect,_=D.fadeEffect;if(N.isRunning||_.isRunning||_.isComplete){var G=this.pipelines.setMulti();N.postRenderWebGL(G,C.getTintFromFloats),_.postRenderWebGL(G,C.getTintFromFloats)}D.dirty=!1,this.popScissor(),D.mask&&(this.currentCameraMask.mask=null,D.mask.postRenderWebGL(this,D._maskCamera)),this.pipelines.postBatchCamera(D),D.emit(f.POST_RENDER,D)},preRender:function(){if(!this.contextLost){var D=this.gl;if(D.bindFramebuffer(D.FRAMEBUFFER,null),this.config.clearBeforeRender){var N=this.config.backgroundColor;D.clearColor(N.redGL,N.greenGL,N.blueGL,N.alphaGL),D.clear(D.COLOR_BUFFER_BIT|D.DEPTH_BUFFER_BIT|D.STENCIL_BUFFER_BIT)}D.enable(D.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&D.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(d.PRE_RENDER)}},render:function(D,N,_){if(!this.contextLost){var G=N.length;if(this.emit(d.RENDER,D,_),this.preRenderCamera(_),G===0){this.setBlendMode(u.BlendModes.NORMAL),this.postRenderCamera(_);return}this.currentType="";for(var $=this.currentMask,V=0;V<G;V++){this.finalType=V===G-1;var Y=N[V],U=Y.mask;$=this.currentMask,$.mask&&$.mask!==U&&$.mask.postRenderWebGL(this,$.camera),U&&$.mask!==U&&U.preRenderWebGL(this,Y,_),Y.blendMode!==this.currentBlendMode&&this.setBlendMode(Y.blendMode);var F=Y.type;F!==this.currentType&&(this.newType=!0,this.currentType=F),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=N[V+1].type===this.currentType,Y.renderWebGL(this,Y,_),this.newType=!1}$=this.currentMask,$.mask&&$.mask.postRenderWebGL(this,$.camera),this.setBlendMode(u.BlendModes.NORMAL),this.postRenderCamera(_)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(d.POST_RENDER);var D=this.snapshotState;D.callback&&(E(this.gl,D),D.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var D=this.gl,N=this.getCurrentStencilMask();if(N){var _=N.mask;D.enable(D.STENCIL_TEST),_.invertAlpha?D.stencilFunc(D.NOTEQUAL,_.level,255):D.stencilFunc(D.EQUAL,_.level,255)}},snapshot:function(D,N,_){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,D,N,_)},snapshotArea:function(D,N,_,G,$,V,Y){var U=this.snapshotState;return U.callback=$,U.type=V,U.encoder=Y,U.getPixel=!1,U.x=D,U.y=N,U.width=_,U.height=G,this},snapshotPixel:function(D,N,_){return this.snapshotArea(D,N,1,1,_),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(D,N,_,G,$,V,Y,U,F,O,j){$===void 0&&($=!1),V===void 0&&(V=0),Y===void 0&&(Y=0),U===void 0&&(U=N),F===void 0&&(F=_),O==="pixel"&&($=!0,O="image/png");var z=this.currentFramebuffer;this.snapshotArea(V,Y,U,F,G,O,j);var W=this.snapshotState;return W.getPixel=$,W.isFramebuffer=!0,W.bufferWidth=N,W.bufferHeight=_,W.width=Math.min(W.width,N),W.height=Math.min(W.height,_),this.setFramebuffer(D),E(this.gl,W),this.setFramebuffer(z),W.callback=null,W.isFramebuffer=!1,this},canvasToTexture:function(D,N,_,G){_===void 0&&(_=!1),G===void 0&&(G=!1);var $=this.gl,V=$.NEAREST,Y=$.NEAREST,U=D.width,F=D.height,O=$.CLAMP_TO_EDGE,j=p(U,F);return!_&&j&&(O=$.REPEAT),this.config.antialias&&(V=j&&this.mipmapFilter?this.mipmapFilter:$.LINEAR,Y=$.LINEAR),N?(N.update(D,U,F,G,O,O,V,Y,N.format),N):this.createTexture2D(0,V,Y,O,O,$.RGBA,D,U,F,!0,!1,G)},createCanvasTexture:function(D,N,_){return N===void 0&&(N=!1),_===void 0&&(_=!1),this.canvasToTexture(D,null,N,_)},updateCanvasTexture:function(D,N,_,G){return _===void 0&&(_=!1),G===void 0&&(G=!1),this.canvasToTexture(D,N,G,_)},videoToTexture:function(D,N,_,G){_===void 0&&(_=!1),G===void 0&&(G=!1);var $=this.gl,V=$.NEAREST,Y=$.NEAREST,U=D.videoWidth,F=D.videoHeight,O=$.CLAMP_TO_EDGE,j=p(U,F);return!_&&j&&(O=$.REPEAT),this.config.antialias&&(V=j&&this.mipmapFilter?this.mipmapFilter:$.LINEAR,Y=$.LINEAR),N?(N.update(D,U,F,G,O,O,V,Y,N.format),N):this.createTexture2D(0,V,Y,O,O,$.RGBA,D,U,F,!0,!0,G)},createVideoTexture:function(D,N,_){return N===void 0&&(N=!1),_===void 0&&(_=!1),this.videoToTexture(D,null,N,_)},updateVideoTexture:function(D,N,_,G){return _===void 0&&(_=!1),G===void 0&&(G=!1),this.videoToTexture(D,N,G,_)},createUint8ArrayTexture:function(D,N,_){var G=this.gl,$=G.NEAREST,V=G.NEAREST,Y=G.CLAMP_TO_EDGE,U=p(N,_);return U&&(Y=G.REPEAT),this.createTexture2D(0,$,V,Y,Y,G.RGBA,D,N,_)},setTextureFilter:function(D,N){var _=this.gl,G=N===0?_.LINEAR:_.NEAREST;_.activeTexture(_.TEXTURE0);var $=_.getParameter(_.TEXTURE_BINDING_2D);return _.bindTexture(_.TEXTURE_2D,D.webGLTexture),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,G),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,G),D.minFilter=G,D.magFilter=G,$&&_.bindTexture(_.TEXTURE_2D,$),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var D=function(N){N.destroy()};a(this.glAttribLocationWrappers,D),a(this.glBufferWrappers,D),a(this.glFramebufferWrappers,D),a(this.glProgramWrappers,D),a(this.glTextureWrappers,D),a(this.glUniformLocationWrappers,D),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});s.exports=B},38683:(s,g,i)=>{var a=i(83419),v=i(95428),f=i(95540),h=i(14500),u=new a({initialize:function(d,p,l,m,y){this.pipeline=d,this.name=p,this.renderer=d.renderer,this.gl=this.renderer.gl,this.fragSrc=m,this.vertSrc=l,this.program=this.renderer.createProgram(l,m),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(y),this.createUniforms()},createAttributes:function(o){var d=0,p=0,l=[];this.vertexComponentCount=0;for(var m=0;m<o.length;m++){var y=o[m],x=y.name,b=f(y,"size",1),w=f(y,"type",h.FLOAT),C=w.enum,E=w.size,T=!!y.normalized;l.push({name:x,size:b,type:C,normalized:T,offset:p,enabled:!1,location:-1}),E===4?d+=b:d++,p+=b*E}this.vertexSize=p,this.vertexComponentCount=d,this.attributes=l},bind:function(o,d){return o===void 0&&(o=!1),d===void 0&&(d=!1),d&&this.pipeline.flush(),this.renderer.setProgram(this.program),o&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(o){o===void 0&&(o=!1);for(var d=this.gl,p=this.renderer,l=this.vertexSize,m=this.attributes,y=this.program,x=0;x<m.length;x++){var b=m[x],w=b.size,C=b.type,E=b.offset,T=b.enabled,k=b.location,P=!!b.normalized;if(o){k!==-1&&p.deleteAttribLocation(k);var R=this.renderer.createAttribLocation(y,b.name);R.webGLAttribLocation>=0?(d.enableVertexAttribArray(R.webGLAttribLocation),d.vertexAttribPointer(R.webGLAttribLocation,w,C,P,l,E),b.enabled=!0,b.location=R):R.webGLAttribLocation!==-1&&d.disableVertexAttribArray(R.webGLAttribLocation)}else T?d.vertexAttribPointer(k.webGLAttribLocation,w,C,P,l,E):!T&&k!==-1&&k.webGLAttribLocation>-1&&(d.disableVertexAttribArray(k.webGLAttribLocation),b.location=-1)}return this},createUniforms:function(){var o=this.gl,d=this.program,p=this.uniforms,l,m,y,x=o.getProgramParameter(d.webGLProgram,o.ACTIVE_UNIFORMS);for(l=0;l<x;l++){var b=o.getActiveUniform(d.webGLProgram,l);if(b){m=b.name,y=this.renderer.createUniformLocation(d,m),y!==null&&(p[m]={name:m,location:y,setter:null,value1:null,value2:null,value3:null,value4:null});var w=m.indexOf("[");w>0&&(m=m.substr(0,w),p.hasOwnProperty(m)||(y=this.renderer.createUniformLocation(d,m),y!==null&&(p[m]={name:m,location:y,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var o=this.gl;this.renderer.setProgram(this.program);for(var d in this.uniforms){var p=this.uniforms[d];p.setter&&p.setter.call(o,p.location.webGLUniformLocation,p.value1,p.value2,p.value3,p.value4)}},hasUniform:function(o){return this.uniforms.hasOwnProperty(o)},resetUniform:function(o){var d=this.uniforms[o];return d&&(d.value1=null,d.value2=null,d.value3=null,d.value4=null),this},setUniform1:function(o,d,p,l){var m=this.uniforms[d];return m?((l||m.value1!==p)&&(m.setter||(m.setter=o),m.value1=p,this.renderer.setProgram(this.program),o.call(this.gl,m.location.webGLUniformLocation,p),this.pipeline.currentShader=this),this):this},setUniform2:function(o,d,p,l,m){var y=this.uniforms[d];return y?((m||y.value1!==p||y.value2!==l)&&(y.setter||(y.setter=o),y.value1=p,y.value2=l,this.renderer.setProgram(this.program),o.call(this.gl,y.location.webGLUniformLocation,p,l),this.pipeline.currentShader=this),this):this},setUniform3:function(o,d,p,l,m,y){var x=this.uniforms[d];return x?((y||x.value1!==p||x.value2!==l||x.value3!==m)&&(x.setter||(x.setter=o),x.value1=p,x.value2=l,x.value3=m,this.renderer.setProgram(this.program),o.call(this.gl,x.location.webGLUniformLocation,p,l,m),this.pipeline.currentShader=this),this):this},setUniform4:function(o,d,p,l,m,y,x){var b=this.uniforms[d];return b?((x||b.value1!==p||b.value2!==l||b.value3!==m||b.value4!==y)&&(b.setter||(b.setter=o),b.value1=p,b.value2=l,b.value3=m,b.value4=y,this.renderer.setProgram(this.program),o.call(this.gl,b.location.webGLUniformLocation,p,l,m,y),this.pipeline.currentShader=this),this):this},setBoolean:function(o,d){return this.setUniform1(this.gl.uniform1i,o,Number(d))},set1f:function(o,d){return this.setUniform1(this.gl.uniform1f,o,d)},set2f:function(o,d,p){return this.setUniform2(this.gl.uniform2f,o,d,p)},set3f:function(o,d,p,l){return this.setUniform3(this.gl.uniform3f,o,d,p,l)},set4f:function(o,d,p,l,m){return this.setUniform4(this.gl.uniform4f,o,d,p,l,m)},set1fv:function(o,d){return this.setUniform1(this.gl.uniform1fv,o,d,!0)},set2fv:function(o,d){return this.setUniform1(this.gl.uniform2fv,o,d,!0)},set3fv:function(o,d){return this.setUniform1(this.gl.uniform3fv,o,d,!0)},set4fv:function(o,d){return this.setUniform1(this.gl.uniform4fv,o,d,!0)},set1iv:function(o,d){return this.setUniform1(this.gl.uniform1iv,o,d,!0)},set2iv:function(o,d){return this.setUniform1(this.gl.uniform2iv,o,d,!0)},set3iv:function(o,d){return this.setUniform1(this.gl.uniform3iv,o,d,!0)},set4iv:function(o,d){return this.setUniform1(this.gl.uniform4iv,o,d,!0)},set1i:function(o,d){return this.setUniform1(this.gl.uniform1i,o,d)},set2i:function(o,d,p){return this.setUniform2(this.gl.uniform2i,o,d,p)},set3i:function(o,d,p,l){return this.setUniform3(this.gl.uniform3i,o,d,p,l)},set4i:function(o,d,p,l,m){return this.setUniform4(this.gl.uniform4i,o,d,p,l,m)},setMatrix2fv:function(o,d,p){return this.setUniform2(this.gl.uniformMatrix2fv,o,d,p,!0)},setMatrix3fv:function(o,d,p){return this.setUniform2(this.gl.uniformMatrix3fv,o,d,p,!0)},setMatrix4fv:function(o,d,p){return this.setUniform2(this.gl.uniformMatrix4fv,o,d,p,!0)},createProgram:function(o,d){return o===void 0&&(o=this.vertSrc),d===void 0&&(d=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=o,this.fragSrc=d,this.program=this.renderer.createProgram(o,d),this.createUniforms(),this.rebind()},destroy:function(){var o=this.renderer;v(this.uniforms,function(d){o.deleteUniformLocation(d.location)}),this.uniforms=null,v(this.attributes,function(d){o.deleteAttribLocation(d.location)}),this.attributes=null,o.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});s.exports=u},14500:s=>{var g={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};s.exports=g},4159:(s,g,i)=>{var a=i(14500),v=i(79291),f={PipelineManager:i(7530),Pipelines:i(96615),RenderTarget:i(32302),Utils:i(70554),WebGLPipeline:i(29100),WebGLRenderer:i(74797),WebGLShader:i(38683),Wrappers:i(9503)};f=v(!1,f,a),s.exports=f},31302:(s,g,i)=>{var a=i(83419),v=i(95540),f=i(78908),h=i(85191),u=i(14500),o=i(29100),d=new a({Extends:o,initialize:function(l){l.fragShader=v(l,"fragShader",f),l.vertShader=v(l,"vertShader",h),l.batchSize=v(l,"batchSize",1),l.vertices=v(l,"vertices",[-1,1,-1,-7,7,1]),l.attributes=v(l,"attributes",[{name:"inPosition",size:2,type:u.FLOAT}]),o.call(this,l)},boot:function(){o.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(p,l){o.prototype.resize.call(this,p,l),this.set2f("uResolution",p,l)},beginMask:function(p,l,m){this.renderer.beginBitmapMask(p,m)},endMask:function(p,l,m){var y=this.gl,x=this.renderer,b=p.bitmapMask;b&&y&&(x.drawBitmapMask(b,l,this),m&&this.set2f("uResolution",m.width,m.height),this.set1i("uInvertMaskAlpha",p.invertAlpha),y.drawArrays(this.topology,0,3),m&&this.set2f("uResolution",this.width,this.height),y.bindTexture(y.TEXTURE_2D,null))}});s.exports=d},92651:(s,g,i)=>{var a=i(83419),v=i(58918),f=i(14811),h=i(95540),u=i(43558),o=i(89350),d=i(70554),p=new a({Extends:u,initialize:function(m){m.shaders=[d.setGlowQuality(o.FXGlowFrag,m.game),o.FXShadowFrag,o.FXPixelateFrag,o.FXVignetteFrag,o.FXShineFrag,o.FXBlurLowFrag,o.FXBlurMedFrag,o.FXBlurHighFrag,o.FXGradientFrag,o.FXBloomFrag,o.ColorMatrixFrag,o.FXCircleFrag,o.FXBarrelFrag,o.FXDisplacementFrag,o.FXWipeFrag,o.FXBokehFrag],u.call(this,m);var y=this.game;this.glow=new v.Glow(y),this.shadow=new v.Shadow(y),this.pixelate=new v.Pixelate(y),this.vignette=new v.Vignette(y),this.shine=new v.Shine(y),this.gradient=new v.Gradient(y),this.circle=new v.Circle(y),this.barrel=new v.Barrel(y),this.wipe=new v.Wipe(y),this.bokeh=new v.Bokeh(y);var x=[];x[f.GLOW]=this.onGlow,x[f.SHADOW]=this.onShadow,x[f.PIXELATE]=this.onPixelate,x[f.VIGNETTE]=this.onVignette,x[f.SHINE]=this.onShine,x[f.BLUR]=this.onBlur,x[f.GRADIENT]=this.onGradient,x[f.BLOOM]=this.onBloom,x[f.COLOR_MATRIX]=this.onColorMatrix,x[f.CIRCLE]=this.onCircle,x[f.BARREL]=this.onBarrel,x[f.DISPLACEMENT]=this.onDisplacement,x[f.WIPE]=this.onWipe,x[f.BOKEH]=this.onBokeh,this.fxHandlers=x,this.source,this.target,this.swap},onDraw:function(l,m,y){this.source=l,this.target=m,this.swap=y;var x=l.width,b=l.height,w=this.tempSprite,C=this.fxHandlers;if(w&&w.preFX)for(var E=w.preFX.list,T=0;T<E.length;T++){var k=E[T];k.active&&C[k.type].call(this,k,x,b)}this.drawToGame(this.source)},runDraw:function(){var l=this.source,m=this.target;this.copy(l,m),this.source=m,this.target=l},onGlow:function(l,m,y){var x=this.shaders[f.GLOW];this.setShader(x),this.glow.onPreRender(l,x,m,y),this.runDraw()},onShadow:function(l){var m=this.shaders[f.SHADOW];this.setShader(m),this.shadow.onPreRender(l,m),this.runDraw()},onPixelate:function(l,m,y){var x=this.shaders[f.PIXELATE];this.setShader(x),this.pixelate.onPreRender(l,x,m,y),this.runDraw()},onVignette:function(l){var m=this.shaders[f.VIGNETTE];this.setShader(m),this.vignette.onPreRender(l,m),this.runDraw()},onShine:function(l,m,y){var x=this.shaders[f.SHINE];this.setShader(x),this.shine.onPreRender(l,x,m,y),this.runDraw()},onBlur:function(l,m,y){var x=h(l,"quality"),b=this.shaders[f.BLUR+x];this.setShader(b),this.set1i("uMainSampler",0),this.set2f("resolution",m,y),this.set1f("strength",h(l,"strength")),this.set3fv("color",h(l,"glcolor"));for(var w=h(l,"x"),C=h(l,"y"),E=h(l,"steps"),T=0;T<E;T++)this.set2f("offset",w,0),this.runDraw(),this.set2f("offset",0,C),this.runDraw()},onGradient:function(l){var m=this.shaders[f.GRADIENT];this.setShader(m),this.gradient.onPreRender(l,m),this.runDraw()},onBloom:function(l,m,y){var x=this.shaders[f.BLOOM];this.copySprite(this.source,this.swap),this.setShader(x),this.set1i("uMainSampler",0),this.set1f("strength",h(l,"blurStrength")),this.set3fv("color",h(l,"glcolor"));for(var b=2/m*h(l,"offsetX"),w=2/y*h(l,"offsetY"),C=h(l,"steps"),E=0;E<C;E++)this.set2f("offset",b,0),this.runDraw(),this.set2f("offset",0,w),this.runDraw();this.blendFrames(this.swap,this.source,this.target,h(l,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(l){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",l.getData()),this.set1f("uAlpha",l.alpha),this.runDraw()},onCircle:function(l,m,y){var x=this.shaders[f.CIRCLE];this.setShader(x),this.circle.onPreRender(l,x,m,y),this.runDraw()},onBarrel:function(l){var m=this.shaders[f.BARREL];this.setShader(m),this.barrel.onPreRender(l,m),this.runDraw()},onDisplacement:function(l){this.setShader(this.shaders[f.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",l.x,l.y),this.bindTexture(l.glTexture,1),this.runDraw()},onWipe:function(l){var m=this.shaders[f.WIPE];this.setShader(m),this.wipe.onPreRender(l,m),this.runDraw()},onBokeh:function(l,m,y){var x=this.shaders[f.BOKEH];this.setShader(x),this.bokeh.onPreRender(l,x,m,y),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,u.prototype.destroy.call(this),this}});s.exports=p},96569:(s,g,i)=>{var a=i(83419),v=i(95540),f=i(31063),h=i(57516),u=i(61340),o=i(26099),d=i(29100),p=new a({Extends:h,initialize:function(m){var y=v(m,"fragShader",f);m.fragShader=y.replace("%LIGHT_COUNT%",m.game.renderer.config.maxLights),h.call(this,m),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new o,this._tempMatrix=new u,this._tempMatrix2=new u},boot:function(){d.prototype.boot.call(this)},onRender:function(l,m){var y=l.sys.lights;if(this.lightsActive=!1,!(!y||!y.active)){var x=y.getLights(m),b=x.length;this.lightsActive=!0;var w,C=this.renderer,E=C.height,T=m.matrix,k=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",m.x,m.y,m.rotation,m.zoom),this.set3f("uAmbientLightColor",y.ambientColor.r,y.ambientColor.g,y.ambientColor.b),this.set1i("uLightCount",b),w=0;w<b;w++){var P=x[w].light,R=P.color,M="uLights["+w+"].";T.transformPoint(P.x,P.y,k),this.set2f(M+"position",k.x-m.scrollX*P.scrollFactorX*m.zoom,E-(k.y-m.scrollY*P.scrollFactorY*m.zoom)),this.set3f(M+"color",R.r,R.g,R.b),this.set1f(M+"intensity",P.intensity),this.set1f(M+"radius",P.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(l){if(l!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var m=this.inverseRotationMatrix;if(l){var y=-l,x=Math.cos(y),b=Math.sin(y);m[1]=b,m[3]=-b,m[0]=m[4]=x}else m[0]=m[4]=1,m[1]=m[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,m),this.currentNormalMapRotation=l}},setTexture2D:function(l,m){var y=this.renderer;l===void 0&&(l=y.whiteTexture);var x=this.getNormalMap(m);this.isNewNormalMap(l,x)&&(this.flush(),this.createBatch(l),this.addTextureToBatch(x),this.currentNormalMap=x);var b=0;if(m&&m.parentContainer){var w=m.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);b=w.rotationNormalized}else m&&(b=m.rotation);return this.setNormalMapRotation(b),0},setGameObject:function(l,m){m===void 0&&(m=l.frame);var y=m.glTexture,x=this.getNormalMap(l);if(this.isNewNormalMap(y,x)&&(this.flush(),this.createBatch(y),this.addTextureToBatch(x),this.currentNormalMap=x),l.parentContainer){var b=l.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(b.rotationNormalized)}else this.setNormalMapRotation(l.rotation);return 0},isNewNormalMap:function(l,m){return this.currentTexture!==l||this.currentNormalMap!==m},getNormalMap:function(l){var m;if(l)l.displayTexture?m=l.displayTexture.dataSource[l.displayFrame.sourceIndex]:l.texture?m=l.texture.dataSource[l.frame.sourceIndex]:l.tileset&&(Array.isArray(l.tileset)?m=l.tileset[0].image.dataSource[0]:m=l.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return m?m.glTexture:this.renderer.normalTexture},batchSprite:function(l,m,y){this.lightsActive&&h.prototype.batchSprite.call(this,l,m,y)},batchTexture:function(l,m,y,x,b,w,C,E,T,k,P,R,M,I,B,D,N,_,G,$,V,Y,U,F,O,j,z,W,q,ot,Q,rt){this.lightsActive&&h.prototype.batchTexture.call(this,l,m,y,x,b,w,C,E,T,k,P,R,M,I,B,D,N,_,G,$,V,Y,U,F,O,j,z,W,q,ot,Q,rt)},batchTextureFrame:function(l,m,y,x,b,w,C){this.lightsActive&&h.prototype.batchTextureFrame.call(this,l,m,y,x,b,w,C)}});s.exports=p},56527:(s,g,i)=>{var a=i(83419),v=i(95540),f=i(57516),h=i(45561),u=i(60722),o=i(14500),d=i(29100),p=new a({Extends:f,initialize:function(m){m.fragShader=v(m,"fragShader",h),m.vertShader=v(m,"vertShader",u),m.attributes=v(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:o.UNSIGNED_BYTE,normalized:!0}]),m.forceZero=!0,m.resizeUniform="uResolution",f.call(this,m)},boot:function(){d.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height),this.set1i("uRoundPixels",l.config.roundPixels)}});s.exports=p},57516:(s,g,i)=>{var a=i(83419),v=i(94811),f=i(95540),h=i(98840),u=i(44667),o=i(61340),d=i(70554),p=i(14500),l=i(29100),m=new a({Extends:l,initialize:function(x){var b=x.game.renderer,w=f(x,"fragShader",h);x.fragShader=d.parseFragmentShaderMaxTextures(w,b.maxTextures),x.vertShader=f(x,"vertShader",u),x.attributes=f(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:p.UNSIGNED_BYTE,normalized:!0}]),x.resizeUniform="uResolution",l.call(this,x),this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.calcMatrix=new o,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){l.prototype.boot.call(this);var y=this.renderer;this.set1iv("uMainSampler",y.textureIndexes),this.set2f("uResolution",y.width,y.height),this.set1i("uRoundPixels",y.config.roundPixels)},batchSprite:function(y,x,b){this.manager.set(this,y);var w=this._tempMatrix1,C=this._tempMatrix2,E=this._tempMatrix3,T=y.frame,k=T.glTexture,P=T.u0,R=T.v0,M=T.u1,I=T.v1,B=T.x,D=T.y,N=T.cutWidth,_=T.cutHeight,G=T.customPivot,$=y.displayOriginX,V=y.displayOriginY,Y=-$+B,U=-V+D;if(y.isCropped){var F=y._crop;(F.flipX!==y.flipX||F.flipY!==y.flipY)&&T.updateCropUVs(F,y.flipX,y.flipY),P=F.u0,R=F.v0,M=F.u1,I=F.v1,N=F.width,_=F.height,B=F.x,D=F.y,Y=-$+B,U=-V+D}var O=1,j=1;y.flipX&&(G||(Y+=-T.realWidth+$*2),O=-1),y.flipY&&(G||(U+=-T.realHeight+V*2),j=-1);var z=y.x,W=y.y;C.applyITRS(z,W,y.rotation,y.scaleX*O,y.scaleY*j),w.copyFrom(x.matrix),b?(w.multiplyWithOffset(b,-x.scrollX*y.scrollFactorX,-x.scrollY*y.scrollFactorY),C.e=z,C.f=W):(C.e-=x.scrollX*y.scrollFactorX,C.f-=x.scrollY*y.scrollFactorY),w.multiply(C,E);var q=E.setQuad(Y,U,Y+N,U+_),ot=d.getTintAppendFloatAlpha,Q=x.alpha,rt=ot(y.tintTopLeft,Q*y._alphaTL),Mt=ot(y.tintTopRight,Q*y._alphaTR),K=ot(y.tintBottomLeft,Q*y._alphaBL),It=ot(y.tintBottomRight,Q*y._alphaBR);this.shouldFlush(6)&&this.flush();var Ft=this.setGameObject(y,T);this.manager.preBatch(y),this.currentShader.set1i("uRoundPixels",x.roundPixels),this.batchQuad(y,q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],P,R,M,I,rt,Mt,K,It,y.tintFill,k,Ft),this.manager.postBatch(y)},batchTexture:function(y,x,b,w,C,E,T,k,P,R,M,I,B,D,N,_,G,$,V,Y,U,F,O,j,z,W,q,ot,Q,rt,Mt,K,It){It===void 0&&(It=!1),this.manager.set(this,y);var Ft=this._tempMatrix1,ft=this._tempMatrix2,yt=this._tempMatrix3,At=$/b+q,Bt=V/w+ot,le=($+Y)/b+q,_t=(V+U)/w+ot,xe=T,Ee=k,ve=-_,Fe=-G;if(y.isCropped){var Ze=y._crop,ei=Ze.width,Ci=Ze.height;xe=ei,Ee=Ci,T=ei,k=Ci,$=Ze.x,V=Ze.y;var xt=$,et=V;I&&(xt=Y-Ze.x-ei),B&&(et=U-Ze.y-Ci),At=xt/b+q,Bt=et/w+ot,le=(xt+ei)/b+q,_t=(et+Ci)/w+ot,ve=-_+$,Fe=-G+V}B=B^(!Mt&&x.isRenderTexture?1:0),I&&(xe*=-1,ve+=T),B&&(Ee*=-1,Fe+=k),ft.applyITRS(C,E,M,P,R),Ft.copyFrom(Q.matrix),rt?(Ft.multiplyWithOffset(rt,-Q.scrollX*D,-Q.scrollY*N),ft.e=C,ft.f=E):(ft.e-=Q.scrollX*D,ft.f-=Q.scrollY*N),Ft.multiply(ft,yt);var tt=yt.setQuad(ve,Fe,ve+xe,Fe+Ee);K==null&&(K=this.setTexture2D(x)),y&&!It&&this.manager.preBatch(y),this.currentShader.set1i("uRoundPixels",Q.roundPixels),this.batchQuad(y,tt[0],tt[1],tt[2],tt[3],tt[4],tt[5],tt[6],tt[7],At,Bt,le,_t,F,O,j,z,W,x,K),y&&!It&&this.manager.postBatch(y)},batchTextureFrame:function(y,x,b,w,C,E,T){this.manager.set(this);var k=this._tempMatrix1.copyFrom(E),P=this._tempMatrix2;T?k.multiply(T,P):P=k;var R=P.setQuad(x,b,x+y.width,b+y.height),M=this.setTexture2D(y.source.glTexture);w=d.getTintAppendFloatAlpha(w,C),this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],y.u0,y.v0,y.u1,y.v1,w,w,w,w,0,y.glTexture,M)},batchFillRect:function(y,x,b,w,C,E){this.renderer.pipelines.set(this);var T=this.calcMatrix;E&&E.multiply(C,T);var k=T.setQuad(y,x,y+b,x+w),P=this.fillTint;this.batchQuad(null,k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],0,0,1,1,P.TL,P.TR,P.BL,P.BR,2)},batchFillTriangle:function(y,x,b,w,C,E,T,k){this.renderer.pipelines.set(this);var P=this.calcMatrix;k&&k.multiply(T,P);var R=P.getX(y,x),M=P.getY(y,x),I=P.getX(b,w),B=P.getY(b,w),D=P.getX(C,E),N=P.getY(C,E),_=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,R,M,I,B,D,N,0,0,1,1,_.TL,_.TR,_.BL,2)},batchStrokeTriangle:function(y,x,b,w,C,E,T,k,P){var R=this.tempTriangle;R[0].x=y,R[0].y=x,R[0].width=T,R[1].x=b,R[1].y=w,R[1].width=T,R[2].x=C,R[2].y=E,R[2].width=T,R[3].x=y,R[3].y=x,R[3].width=T,this.batchStrokePath(R,T,!1,k,P)},batchFillPath:function(y,x,b){this.renderer.pipelines.set(this);var w=this.calcMatrix;b&&b.multiply(x,w);for(var C=y.length,E=this.polygonCache,T,k,P=this.fillTint.TL,R=this.fillTint.TR,M=this.fillTint.BL,I=0;I<C;++I)k=y[I],E.push(k.x,k.y);T=v(E),C=T.length,this.currentShader.set1i("uRoundPixels",!1);for(var B=0;B<C;B+=3){var D=T[B+0]*2,N=T[B+1]*2,_=T[B+2]*2,G=E[D+0],$=E[D+1],V=E[N+0],Y=E[N+1],U=E[_+0],F=E[_+1],O=w.getX(G,$),j=w.getY(G,$),z=w.getX(V,Y),W=w.getY(V,Y),q=w.getX(U,F),ot=w.getY(U,F);this.batchTri(null,O,j,z,W,q,ot,0,0,1,1,P,R,M,2)}E.length=0},batchStrokePath:function(y,x,b,w,C){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var E=y.length-1,T=0;T<E;T++){var k=y[T],P=y[T+1];this.batchLine(k.x,k.y,P.x,P.y,k.width/2,P.width/2,x,T,!b&&T===E-1,w,C)}},batchLine:function(y,x,b,w,C,E,T,k,P,R,M){this.renderer.pipelines.set(this);var I=this.calcMatrix;M&&M.multiply(R,I);var B=b-y,D=w-x,N=Math.sqrt(B*B+D*D);if(N!==0){var _=C*(w-x)/N,G=C*(y-b)/N,$=E*(w-x)/N,V=E*(y-b)/N,Y=b-$,U=w-V,F=y-_,O=x-G,j=b+$,z=w+V,W=y+_,q=x+G,ot=I.getX(Y,U),Q=I.getY(Y,U),rt=I.getX(F,O),Mt=I.getY(F,O),K=I.getX(j,z),It=I.getY(j,z),Ft=I.getX(W,q),ft=I.getY(W,q),yt=this.strokeTint,At=yt.TL,Bt=yt.TR,le=yt.BL,_t=yt.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,Ft,ft,rt,Mt,ot,Q,K,It,0,0,1,1,At,Bt,le,_t,2),!(T<=2)){var xe=this.prevQuad,Ee=this.firstQuad;k>0&&xe[4]?this.batchQuad(null,Ft,ft,rt,Mt,xe[0],xe[1],xe[2],xe[3],0,0,1,1,At,Bt,le,_t,2):(Ee[0]=Ft,Ee[1]=ft,Ee[2]=rt,Ee[3]=Mt,Ee[4]=1),P&&Ee[4]?this.batchQuad(null,ot,Q,K,It,Ee[0],Ee[1],Ee[2],Ee[3],0,0,1,1,At,Bt,le,_t,2):(xe[0]=ot,xe[1]=Q,xe[2]=K,xe[3]=It,xe[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,l.prototype.destroy.call(this),this}});s.exports=m},43439:(s,g,i)=>{var a=i(83419),v=i(95540),f=i(4127),h=i(89924),u=i(29100),o=new a({Extends:u,initialize:function(p){p.vertShader=v(p,"vertShader",h),p.fragShader=v(p,"fragShader",f),p.attributes=v(p,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),u.call(this,p)},onRender:function(d,p){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",p.zoom)},batchPointLight:function(d,p,l,m,y,x,b,w,C,E,T,k){var P=d.color,R=d.intensity,M=d.radius,I=d.attenuation,B=P.r*R,D=P.g*R,N=P.b*R,_=p.alpha*d.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(l,m,T,k,M,I,B,D,N,_),this.batchLightVert(y,x,T,k,M,I,B,D,N,_),this.batchLightVert(b,w,T,k,M,I,B,D,N,_),this.batchLightVert(l,m,T,k,M,I,B,D,N,_),this.batchLightVert(b,w,T,k,M,I,B,D,N,_),this.batchLightVert(C,E,T,k,M,I,B,D,N,_),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(d,p,l,m,y,x,b,w,C,E){var T=this.vertexViewF32,k=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++k]=d,T[++k]=p,T[++k]=l,T[++k]=m,T[++k]=y,T[++k]=x,T[++k]=b,T[++k]=w,T[++k]=C,T[++k]=E,this.vertexCount++}});s.exports=o},84057:(s,g,i)=>{var a=i(83419),v=i(89422),f=i(95540),h=i(27681),u=i(49627),o=i(29100),d=new a({Extends:o,initialize:function(l){l.renderTarget=f(l,"renderTarget",1),l.fragShader=f(l,"fragShader",h),l.vertShader=f(l,"vertShader",u),l.attributes=f(l,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),l.batchSize=1,l.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],o.call(this,l),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new v,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){o.prototype.boot.call(this);var p=this.manager.UTILITY_PIPELINE;this.fullFrame1=p.fullFrame1,this.fullFrame2=p.fullFrame2,this.halfFrame1=p.halfFrame1,this.halfFrame2=p.halfFrame2;var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height),this.set1i("uRoundPixels",l.config.roundPixels);for(var m=this.renderTargets,y=0;y<m.length;y++)m[y].autoResize=!0},postBatch:function(p){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(p),this},onDraw:function(p){this.bindAndDraw(p)},getController:function(p){return p!==void 0?p:this.controller?this.controller:this},copySprite:function(p,l,m){m===void 0&&(m=!1);var y=this.gl;y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,p.texture.webGLTexture);var x=y.getParameter(y.FRAMEBUFFER_BINDING);y.bindFramebuffer(y.FRAMEBUFFER,l.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,l.texture.webGLTexture,0),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),m&&(y.bindTexture(y.TEXTURE_2D,null),y.bindFramebuffer(y.FRAMEBUFFER,x))},copyFrame:function(p,l,m,y,x){this.manager.copyFrame(p,l,m,y,x)},copyToGame:function(p){this.manager.copyToGame(p)},drawFrame:function(p,l,m){this.manager.drawFrame(p,l,m,this.colorMatrix)},blendFrames:function(p,l,m,y,x){this.manager.blendFrames(p,l,m,y,x)},blendFramesAdditive:function(p,l,m,y,x){this.manager.blendFramesAdditive(p,l,m,y,x)},clearFrame:function(p,l){this.manager.clearFrame(p,l)},blitFrame:function(p,l,m,y,x,b){this.manager.blitFrame(p,l,m,y,x,b)},copyFrameRect:function(p,l,m,y,x,b,w,C){this.manager.copyFrameRect(p,l,m,y,x,b,w,C)},bindAndDraw:function(p,l,m,y,x){m===void 0&&(m=!0),y===void 0&&(y=!0);var b=this.gl,w=this.renderer;this.bind(x),this.set1i("uMainSampler",0),l?(b.viewport(0,0,l.width,l.height),b.bindFramebuffer(b.FRAMEBUFFER,l.framebuffer.webGLFramebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,l.texture.webGLTexture,0),m&&(y?b.clearColor(0,0,0,0):b.clearColor(0,0,0,1),b.clear(b.COLOR_BUFFER_BIT))):(w.popFramebuffer(!1,!1),w.currentFramebuffer||b.viewport(0,0,w.width,w.height)),w.restoreStencilMask(),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,p.texture.webGLTexture),b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6),l&&(b.bindTexture(b.TEXTURE_2D,null),b.bindFramebuffer(b.FRAMEBUFFER,w.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),o.prototype.destroy.call(this),this}});s.exports=d},43558:(s,g,i)=>{var a=i(10312),v=i(67502),f=i(83419),h=i(96293),u=i(95540),o=i(57516),d=i(27681),p=i(87841),l=i(32302),m=i(45561),y=i(60722),x=i(29100),b=new f({Extends:o,initialize:function(C){var E=u(C,"fragShader",d),T=u(C,"vertShader",y),k=u(C,"drawShader",d),P=[{name:"DrawSprite",fragShader:m,vertShader:y},{name:"CopySprite",fragShader:E,vertShader:T},{name:"DrawGame",fragShader:k,vertShader:y},{name:"ColorMatrix",fragShader:h}],R=u(C,"shaders",[]);C.shaders=P.concat(R),C.vertShader||(C.vertShader=T),C.batchSize=1,o.call(this,C),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new p,this.targetBounds=new p,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){x.prototype.boot.call(this);var w=this.shaders,C=this.renderer;this.drawSpriteShader=w[0],this.copyShader=w[1],this.gameShader=w[2],this.colorMatrixShader=w[3],this.fsTarget=new l(C,C.width,C.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var E=new ArrayBuffer(168);this.quadVertexData=E,this.quadVertexViewF32=new Float32Array(E),this.quadVertexBuffer=C.createVertexBuffer(E,this.gl.STATIC_DRAW),this.onResize(C.width,C.height),this.currentShader=this.copyShader,this.set2f("uResolution",C.width,C.height),this.set1i("uRoundPixels",C.config.roundPixels)},onResize:function(w,C){var E=this.quadVertexViewF32;E[1]=C,E[22]=C,E[14]=w,E[28]=w,E[35]=w,E[36]=C},batchQuad:function(w,C,E,T,k,P,R,M,I,B,D,N,_,G,$,V,Y,U,F){var O=Math.min(C,T,P,M),j=Math.min(E,k,R,I),z=Math.max(C,T,P,M),W=Math.max(E,k,R,I),q=z-O,ot=W-j,Q=this.spriteBounds.setTo(O,j,q,ot),rt=w?w.preFX.padding:0,Mt=q+rt*2,K=ot+rt*2,It=Math.abs(Math.max(Mt,K)),Ft=this.manager.getRenderTarget(It),ft=this.targetBounds.setTo(0,0,Ft.width,Ft.height);v(ft,Q.centerX,Q.centerY),this.tempSprite=w;var yt=this.gl,At=this.renderer;At.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",At.width,At.height),this.set1i("uRoundPixels",At.config.roundPixels),this.flipProjectionMatrix(!0),w&&(this.onDrawSprite(w,Ft),w.preFX.onFX(this));var Bt=this.fsTarget;return this.flush(),yt.viewport(0,0,At.width,At.height),yt.bindFramebuffer(yt.FRAMEBUFFER,Bt.framebuffer.webGLFramebuffer),yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0,yt.TEXTURE_2D,Bt.texture.webGLTexture,0),yt.clearColor(0,0,0,0),yt.clear(yt.COLOR_BUFFER_BIT),this.setTexture2D(F),this.batchVert(C,E,B,D,0,U,G),this.batchVert(T,k,B,_,0,U,V),this.batchVert(P,R,N,_,0,U,Y),this.batchVert(C,E,B,D,0,U,G),this.batchVert(P,R,N,_,0,U,Y),this.batchVert(M,I,N,D,0,U,$),this.flush(),this.flipProjectionMatrix(!1),yt.activeTexture(yt.TEXTURE0),yt.bindTexture(yt.TEXTURE_2D,Ft.texture.webGLTexture),yt.copyTexSubImage2D(yt.TEXTURE_2D,0,0,0,ft.x,ft.y,ft.width,ft.height),yt.bindFramebuffer(yt.FRAMEBUFFER,null),yt.bindTexture(yt.TEXTURE_2D,null),this.onBatch(w),this.currentShader=this.copyShader,this.onDraw(Ft,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(w,C,E,T,k,P,R){E===void 0&&(E=!0),T===void 0&&(T=!0),k===void 0&&(k=!1),R===void 0&&(R=this.copyShader);var M=this.gl,I=this.tempSprite;P&&(R=this.colorMatrixShader),this.currentShader=R;var B=this.setVertexBuffer(this.quadVertexBuffer);R.bind(B,!1);var D=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",D.width,D.height),this.set1i("uRoundPixels",D.config.roundPixels),I.preFX.onFXCopy(this),this.onCopySprite(w,C,I),P&&(this.set1fv("uColorMatrix",P.getData()),this.set1f("uAlpha",P.alpha)),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,w.texture.webGLTexture),w.height>C.height)M.viewport(0,0,w.width,w.height),this.setTargetUVs(w,C);else{var N=C.height-w.height;M.viewport(0,N,w.width,w.height),this.resetUVs()}if(M.bindFramebuffer(M.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,C.texture.webGLTexture,0),E&&(M.clearColor(0,0,0,+!T),M.clear(M.COLOR_BUFFER_BIT)),k){var _=this.renderer.currentBlendMode;this.renderer.setBlendMode(a.ERASE)}M.bufferData(M.ARRAY_BUFFER,this.quadVertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),k&&this.renderer.setBlendMode(_),M.bindFramebuffer(M.FRAMEBUFFER,null)},copy:function(w,C){var E=this.gl;this.set1i("uMainSampler",0),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,w.texture.webGLTexture),E.viewport(0,0,w.width,w.height),this.setUVs(0,0,0,1,1,1,1,0),E.bindFramebuffer(E.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,C.texture.webGLTexture,0),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.quadVertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null)},blendFrames:function(w,C,E,T,k){this.manager.blendFrames(w,C,E,T,k)},blendFramesAdditive:function(w,C,E,T,k){this.manager.blendFramesAdditive(w,C,E,T,k)},drawToGame:function(w){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(w)},copyToGame:function(w){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(w)},bindAndDraw:function(w){var C=this.gl,E=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(w.texture);var T=this._tempMatrix1.loadIdentity(),k=this.targetBounds.x,P=this.targetBounds.y,R=k+w.width,M=P+w.height,I=T.getX(k,P),B=T.getX(k,M),D=T.getX(R,M),N=T.getX(R,P),_=T.getY(k,P),G=T.getY(k,M),$=T.getY(R,M),V=T.getY(R,P),Y=16777215;this.batchVert(I,_,0,0,0,0,Y),this.batchVert(B,G,0,1,0,0,Y),this.batchVert(D,$,1,1,0,0,Y),this.batchVert(I,_,0,0,0,0,Y),this.batchVert(D,$,1,1,0,0,Y),this.batchVert(N,V,1,0,0,0,Y),E.restoreFramebuffer(!1,!0),E.currentFramebuffer||C.viewport(0,0,E.width,E.height),E.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(w){this.drawToGame(w)},setUVs:function(w,C,E,T,k,P,R,M){var I=this.quadVertexViewF32;I[2]=w,I[3]=C,I[9]=E,I[10]=T,I[16]=k,I[17]=P,I[23]=w,I[24]=C,I[30]=k,I[31]=P,I[37]=R,I[38]=M},setTargetUVs:function(w,C){var E=C.height/w.height;E>.5?E=.5-(E-.5):E=.5+(.5-E),this.setUVs(0,E,0,1+E,1,1+E,1,E)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,o.prototype.destroy.call(this),this}});s.exports=b},81041:(s,g,i)=>{var a=i(83419),v=i(95540),f=i(57516),h=new a({Extends:f,initialize:function(o){o.topology=5,o.batchSize=v(o,"batchSize",256),f.call(this,o)}});s.exports=h},12385:(s,g,i)=>{var a=i(83419),v=i(95540),f=i(57516),h=i(45561),u=i(60722),o=i(29100),d=new a({Extends:f,initialize:function(l){l.fragShader=v(l,"fragShader",h),l.vertShader=v(l,"vertShader",u),l.forceZero=!0,f.call(this,l)},boot:function(){o.prototype.boot.call(this);var p=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",p.width,p.height),this.set1i("uRoundPixels",p.config.roundPixels)}});s.exports=d},7589:(s,g,i)=>{var a=i(35407),v=i(10312),f=i(83419),h=i(89422),u=i(96293),o=i(36682),d=i(95540),p=i(48247),l=i(49627),m=i(29100),y=new f({Extends:m,initialize:function(b){b.renderTarget=d(b,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),b.vertShader=d(b,"vertShader",l),b.shaders=d(b,"shaders",[{name:"Copy",fragShader:o},{name:"AddBlend",fragShader:a},{name:"LinearBlend",fragShader:p},{name:"ColorMatrix",fragShader:u}]),b.attributes=d(b,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),b.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],b.batchSize=1,m.call(this,b),this.colorMatrix=new h,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){m.prototype.boot.call(this);var x=this.shaders,b=this.renderTargets;this.copyShader=x[0],this.addShader=x[1],this.linearShader=x[2],this.colorMatrixShader=x[3],this.fullFrame1=b[0],this.fullFrame2=b[1],this.halfFrame1=b[2],this.halfFrame2=b[3]},copyFrame:function(x,b,w,C,E){w===void 0&&(w=1),C===void 0&&(C=!0),E===void 0&&(E=!0);var T=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",w),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,x.texture.webGLTexture),b?(T.viewport(0,0,b.width,b.height),T.bindFramebuffer(T.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,b.texture.webGLTexture,0)):T.viewport(0,0,x.width,x.height),C&&(E?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blitFrame:function(x,b,w,C,E,T,k){w===void 0&&(w=1),C===void 0&&(C=!0),E===void 0&&(E=!0),T===void 0&&(T=!1),k===void 0&&(k=!1);var P=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",w),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,x.texture.webGLTexture),x.height>b.height)P.viewport(0,0,x.width,x.height),this.setTargetUVs(x,b);else{var R=b.height-x.height;P.viewport(0,R,x.width,x.height)}if(P.bindFramebuffer(P.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,b.texture.webGLTexture,0),C&&(E?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),T){var M=this.renderer.currentBlendMode;this.renderer.setBlendMode(v.ERASE)}k&&this.flipY(),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),T&&this.renderer.setBlendMode(M),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(x,b,w,C,E,T,k,P){k===void 0&&(k=!0),P===void 0&&(P=!0);var R=this.gl;R.bindFramebuffer(R.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,x.texture.webGLTexture,0),k&&(P?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,b.texture.webGLTexture),R.copyTexSubImage2D(R.TEXTURE_2D,0,0,0,w,C,E,T),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},copyToGame:function(x){var b=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,x.texture.webGLTexture),b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6)},drawFrame:function(x,b,w,C){w===void 0&&(w=!0),C===void 0&&(C=this.colorMatrix);var E=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",C.getData()),this.set1f("uAlpha",C.alpha),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,x.texture.webGLTexture),b?(E.viewport(0,0,b.width,b.height),E.bindFramebuffer(E.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,b.texture.webGLTexture,0)):E.viewport(0,0,x.width,x.height),w?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blendFrames:function(x,b,w,C,E,T){C===void 0&&(C=1),E===void 0&&(E=!0),T===void 0&&(T=this.linearShader);var k=this.gl;this.setShader(T),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",C),k.activeTexture(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,x.texture.webGLTexture),k.activeTexture(k.TEXTURE1),k.bindTexture(k.TEXTURE_2D,b.texture.webGLTexture),w?(k.bindFramebuffer(k.FRAMEBUFFER,w.framebuffer.webGLFramebuffer),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,w.texture.webGLTexture,0),k.viewport(0,0,w.width,w.height)):k.viewport(0,0,x.width,x.height),E?k.clearColor(0,0,0,0):k.clearColor(0,0,0,1),k.clear(k.COLOR_BUFFER_BIT),k.bufferData(k.ARRAY_BUFFER,this.vertexData,k.STATIC_DRAW),k.drawArrays(k.TRIANGLES,0,6),k.bindFramebuffer(k.FRAMEBUFFER,null),k.bindTexture(k.TEXTURE_2D,null)},blendFramesAdditive:function(x,b,w,C,E){this.blendFrames(x,b,w,C,E,this.addShader)},clearFrame:function(x,b){b===void 0&&(b=!0);var w=this.gl;w.viewport(0,0,x.width,x.height),w.bindFramebuffer(w.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),b?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT);var C=this.renderer.currentFramebuffer;w.bindFramebuffer(w.FRAMEBUFFER,C.webGLFramebuffer)},setUVs:function(x,b,w,C,E,T,k,P){var R=this.vertexViewF32;R[2]=x,R[3]=b,R[6]=w,R[7]=C,R[10]=E,R[11]=T,R[14]=x,R[15]=b,R[18]=E,R[19]=T,R[22]=k,R[23]=P},setTargetUVs:function(x,b){var w=b.height/x.height;w>.5?w=.5-(w-.5):w=.5+(.5-w),this.setUVs(0,w,0,1+w,1,1+w,1,w)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});s.exports=y},36060:s=>{var g={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};s.exports=g},84817:s=>{s.exports="pipelineafterflush"},36712:s=>{s.exports="pipelinebeforeflush"},40285:s=>{s.exports="pipelinebind"},65918:s=>{s.exports="pipelineboot"},92852:s=>{s.exports="pipelinedestroy"},56072:s=>{s.exports="pipelinerebind"},57566:s=>{s.exports="pipelineresize"},77085:(s,g,i)=>{s.exports={AFTER_FLUSH:i(84817),BEFORE_FLUSH:i(36712),BIND:i(40285),BOOT:i(65918),DESTROY:i(92852),REBIND:i(56072),RESIZE:i(57566)}},54812:(s,g,i)=>{var a=i(83419),v=i(99155),f=i(84057),h=new a({Extends:f,initialize:function(o){f.call(this,{game:o,fragShader:v}),this.amount=1},onPreRender:function(u,o){u=this.getController(u),this.set1f("amount",u.amount,o)}});s.exports=h},67329:(s,g,i)=>{var a=i(83419),v=i(24400),f=i(84057),h=new a({Extends:f,initialize:function(o){f.call(this,{game:o,fragShader:v}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(u){u=this.getController(u),this.set1f("strength",u.blurStrength),this.set3fv("color",u.glcolor)},onDraw:function(u){var o=this.getController(),d=this.fullFrame1,p=this.fullFrame2;this.copyFrame(u,p);for(var l=2/u.width*o.offsetX,m=2/u.height*o.offsetY,y=0;y<o.steps;y++)this.set2f("offset",l,0),this.copySprite(u,d),this.set2f("offset",0,m),this.copySprite(d,u);this.blendFrames(p,u,d,o.strength),this.copyToGame(d)}});s.exports=h},8861:(s,g,i)=>{var a=i(83419),v=i(41514),f=i(51078),h=i(94328),u=i(84057),o=new a({Extends:u,initialize:function(p){u.call(this,{game:p,shaders:[{name:"Gaussian5",fragShader:v},{name:"Gaussian9",fragShader:f},{name:"Gaussian13",fragShader:h}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(d){var p=this.getController(),l=this.gl,m=this.fullFrame1,y=l.getParameter(l.FRAMEBUFFER_BINDING);this.bind(this.shaders[p.quality]),l.activeTexture(l.TEXTURE0),l.viewport(0,0,d.width,d.height),this.set1i("uMainSampler",0),this.set2f("resolution",d.width,d.height),this.set1f("strength",p.strength),this.set3fv("color",p.glcolor);for(var x=0;x<p.steps;x++)this.set2f("offset",p.x,0),this.copySprite(d,m),this.set2f("offset",0,p.y),this.copySprite(m,d);l.bindFramebuffer(l.FRAMEBUFFER,y),l.bindTexture(l.TEXTURE_2D,null),this.copyToGame(d)}});s.exports=o},51051:(s,g,i)=>{var a=i(83419),v=i(90610),f=i(84057),h=new a({Extends:f,initialize:function(o){f.call(this,{game:o,fragShader:v}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(u,o,d,p){u=this.getController(u),this.set1f("radius",u.radius,o),this.set1f("amount",u.amount,o),this.set1f("contrast",u.contrast,o),this.set1f("strength",u.strength,o),this.set2f("blur",u.blurX,u.blurY,o),this.setBoolean("isTiltShift",u.isTiltShift,o),d&&p&&this.set2f("resolution",d,p,o)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});s.exports=h},89428:(s,g,i)=>{var a=i(83419),v=i(91899),f=i(84057),h=new a({Extends:f,initialize:function(o){f.call(this,{game:o,fragShader:v}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(u,o,d,p){u=this.getController(u),this.set1f("scale",u.scale,o),this.set1f("feather",u.feather,o),this.set1f("thickness",u.thickness,o),this.set3fv("color",u.glcolor,o),this.set4fv("backgroundColor",u.glcolor2,o),d&&p&&this.set2f("resolution",d,p,o)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});s.exports=h},88904:(s,g,i)=>{var a=i(83419),v=i(84057),f=new a({Extends:v,initialize:function(u){v.call(this,{game:u})},onDraw:function(h){var u=this.fullFrame1;this.controller?this.manager.drawFrame(h,u,!0,this.controller):this.drawFrame(h,u),this.copyToGame(u)}});s.exports=f},63563:(s,g,i)=>{var a=i(83419),v=i(47838),f=i(84057),h=new a({Extends:f,initialize:function(o){f.call(this,{game:o,fragShader:v}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(u){var o=this.game.textures.getFrame(u);o&&(this.glTexture=o.glTexture)},onDraw:function(u){var o=this.getController(),d=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",o.x,o.y),this.bindTexture(o.glTexture,1),this.copySprite(u,d),this.copyToGame(d)}});s.exports=h},94045:(s,g,i)=>{var a=i(83419),v=i(95540),f=i(98656),h=i(84057),u=i(70554),o=new a({Extends:h,initialize:function(p,l){var m=v(l,"quality",.1),y=v(l,"distance",10);h.call(this,{game:p,fragShader:u.setGlowQuality(f,p,m,y)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(d,p,l,m){d=this.getController(d),this.set1f("outerStrength",d.outerStrength,p),this.set1f("innerStrength",d.innerStrength,p),this.set4fv("glowColor",d.glcolor,p),this.setBoolean("knockout",d.knockout,p),l&&m&&this.set2f("resolution",l,m,p)},onDraw:function(d){this.set2f("resolution",d.width,d.height),this.bindAndDraw(d)}});s.exports=o},74088:(s,g,i)=>{var a=i(83419),v=i(70463),f=i(84057),h=new a({Extends:f,initialize:function(o){f.call(this,{game:o,fragShader:v}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(u,o){u=this.getController(u),this.set1f("alpha",u.alpha,o),this.set1i("size",u.size,o),this.set3fv("color1",u.glcolor1,o),this.set3fv("color2",u.glcolor2,o),this.set2f("positionFrom",u.fromX,u.fromY,o),this.set2f("positionTo",u.toX,u.toY,o)}});s.exports=h},99636:(s,g,i)=>{var a=i(83419),v=i(50831),f=i(84057),h=new a({Extends:f,initialize:function(o){f.call(this,{game:o,fragShader:v}),this.amount=1},onPreRender:function(u,o,d,p){u=this.getController(u),this.set1f("amount",u.amount,o),d&&p&&this.set2f("resolution",d,p,o)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});s.exports=h},34700:(s,g,i)=>{var a=i(83419),v=i(92595),f=i(84057),h=new a({Extends:f,initialize:function(o){f.call(this,{game:o,fragShader:v}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(u,o){u=this.getController(u);var d=u.samples;this.set1i("samples",d,o),this.set1f("intensity",u.intensity,o),this.set1f("decay",u.decay,o),this.set1f("power",u.power/d,o),this.set2f("lightPosition",u.x,u.y,o),this.set4fv("color",u.glcolor,o)}});s.exports=h},91157:(s,g,i)=>{var a=i(83419),v=i(72464),f=i(84057),h=new a({Extends:f,initialize:function(o){f.call(this,{game:o,fragShader:v}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(u,o,d,p){u=this.getController(u),this.setTime("time",o),this.set1f("speed",u.speed,o),this.set1f("lineWidth",u.lineWidth,o),this.set1f("gradient",u.gradient,o),this.setBoolean("reveal",u.reveal,o),d&&p&&this.set2f("resolution",d,p,o)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});s.exports=h},27797:(s,g,i)=>{var a=i(83419),v=i(39249),f=i(84057),h=new a({Extends:f,initialize:function(o){f.call(this,{game:o,fragShader:v}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(u,o){u=this.getController(u),this.set1f("radius",u.radius,o),this.set1f("strength",u.strength,o),this.set2f("position",u.x,u.y,o)}});s.exports=h},67603:(s,g,i)=>{var a=i(83419),v=i(2878),f=i(84057),h=new a({Extends:f,initialize:function(o){f.call(this,{game:o,fragShader:v}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(u,o){u=this.getController(u);var d=u.progress,p=u.wipeWidth,l=u.direction,m=u.axis;this.set4f("config",d,p,l,m,o),this.setBoolean("reveal",u.reveal,o)}});s.exports=h},58918:(s,g,i)=>{var a={Barrel:i(54812),Bloom:i(67329),Blur:i(8861),Bokeh:i(51051),Circle:i(89428),ColorMatrix:i(88904),Displacement:i(63563),Glow:i(94045),Gradient:i(74088),Pixelate:i(99636),Shadow:i(34700),Shine:i(91157),Vignette:i(27797),Wipe:i(67603)};s.exports=a},96615:(s,g,i)=>{var a=i(36060),v=i(79291),f={FX:i(58918),BitmapMaskPipeline:i(31302),Events:i(77085),FXPipeline:i(92651),LightPipeline:i(96569),MobilePipeline:i(56527),MultiPipeline:i(57516),PointLightPipeline:i(43439),PostFXPipeline:i(84057),PreFXPipeline:i(43558),RopePipeline:i(81041),SinglePipeline:i(12385),UtilityPipeline:i(7589)};f=v(!1,f,a),s.exports=f},35407:s=>{s.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:s=>{s.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:s=>{s.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:s=>{s.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:s=>{s.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:s=>{s.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:s=>{s.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:s=>{s.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:s=>{s.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:s=>{s.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:s=>{s.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:s=>{s.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:s=>{s.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:s=>{s.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:s=>{s.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:s=>{s.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:s=>{s.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:s=>{s.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:s=>{s.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:s=>{s.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:s=>{s.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:s=>{s.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:s=>{s.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:s=>{s.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:s=>{s.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:s=>{s.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:s=>{s.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:s=>{s.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:s=>{s.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:s=>{s.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:s=>{s.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:s=>{s.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:s=>{s.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:s=>{s.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(s,g,i)=>{s.exports={AddBlendFrag:i(35407),BitmapMaskFrag:i(78908),BitmapMaskVert:i(85191),ColorMatrixFrag:i(96293),CopyFrag:i(36682),FXBarrelFrag:i(99155),FXBloomFrag:i(24400),FXBlurHighFrag:i(94328),FXBlurLowFrag:i(41514),FXBlurMedFrag:i(51078),FXBokehFrag:i(90610),FXCircleFrag:i(91899),FXDisplacementFrag:i(47838),FXGlowFrag:i(98656),FXGradientFrag:i(70463),FXPixelateFrag:i(50831),FXShadowFrag:i(92595),FXShineFrag:i(72464),FXVignetteFrag:i(39249),FXWipeFrag:i(2878),LightFrag:i(31063),LinearBlendFrag:i(48247),MeshFrag:i(41214),MeshVert:i(39653),MobileFrag:i(62143),MobileVert:i(47940),MultiFrag:i(98840),MultiVert:i(44667),PointLightFrag:i(4127),PointLightVert:i(89924),PostFXFrag:i(27681),QuadVert:i(49627),SingleFrag:i(45561),SingleVert:i(60722)}},93567:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u,o){this.webGLAttribLocation=-1,this.gl=h,this.program=u,this.name=o,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var f=this.gl;f.isContextLost()||(this.webGLAttribLocation=f.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});s.exports=v},26128:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u,o,d){this.webGLBuffer=null,this.gl=h,this.initialDataOrSize=u,this.bufferType=o,this.bufferUsage=d,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var f=this.gl;if(!f.isContextLost()){var h=this.bufferType,u=f.createBuffer();this.webGLBuffer=u,f.bindBuffer(h,this.webGLBuffer),f.bufferData(h,this.initialDataOrSize,this.bufferUsage),f.bindBuffer(h,null)}}},destroy:function(){var f=this.gl;f.isContextLost()||f.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});s.exports=v},84387:(s,g,i)=>{var a=i(83419),v={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},f=new a({initialize:function(u,o,d,p,l){this.webGLFramebuffer=null,this.gl=u,this.width=o,this.height=d,this.renderTexture=p,this.addDepthStencilBuffer=!!l,this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){var u=this.renderTexture,o=0,d=h.createFramebuffer();if(this.webGLFramebuffer=d,h.bindFramebuffer(h.FRAMEBUFFER,d),u.isRenderTexture=!0,u.isAlphaPremultiplied=!1,h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,u.webGLTexture,0),o=h.checkFramebufferStatus(h.FRAMEBUFFER),o!==h.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(v[o]||o));if(this.addDepthStencilBuffer){var p=h.createRenderbuffer();h.bindRenderbuffer(h.RENDERBUFFER,p),h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_STENCIL,this.width,this.height),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,p)}h.bindFramebuffer(h.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var h=this.gl;if(!h.isContextLost()){h.bindFramebuffer(h.FRAMEBUFFER,this.webGLFramebuffer);var u=h.getFramebufferAttachmentParameter(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);u!==null&&(h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,null,0),h.deleteTexture(u));var o=h.getFramebufferAttachmentParameter(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);o!==null&&h.deleteRenderbuffer(o),h.bindFramebuffer(h.FRAMEBUFFER,null),h.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});s.exports=f},1482:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u,o){this.webGLProgram=null,this.gl=h,this.vertexSource=u,this.fragmentSource=o,this.createResource()},createResource:function(){var f=this.gl;if(!f.isContextLost()){var h=f.createProgram(),u=f.createShader(f.VERTEX_SHADER),o=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(u,this.vertexSource),f.shaderSource(o,this.fragmentSource),f.compileShader(u),f.compileShader(o);var d=`Shader failed:
`;if(!f.getShaderParameter(u,f.COMPILE_STATUS))throw new Error("Vertex "+d+f.getShaderInfoLog(u));if(!f.getShaderParameter(o,f.COMPILE_STATUS))throw new Error("Fragment "+d+f.getShaderInfoLog(o));if(f.attachShader(h,u),f.attachShader(h,o),f.linkProgram(h),!f.getProgramParameter(h,f.LINK_STATUS))throw new Error("Link "+d+f.getProgramInfoLog(h));f.useProgram(h),this.webGLProgram=h}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});s.exports=v},82751:(s,g,i)=>{var a=i(83419),v=i(50030),f=new a({initialize:function(u,o,d,p,l,m,y,x,b,w,C,E,T){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=u,this.mipLevel=o,this.minFilter=d,this.magFilter=p,this.wrapT=l,this.wrapS=m,this.format=y,this.pixels=x,this.width=b,this.height=w,this.pma=C==null?!0:C,this.forceSize=!!E,this.flipY=!!T,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){if(this.pixels instanceof f){this.webGLTexture=this.pixels.webGLTexture;return}var u=h.createTexture();u.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=u,this._processTexture()}},update:function(h,u,o,d,p,l,m,y,x){if(!(u===0||o===0)){this.pixels=h,this.width=u,this.height=o,this.flipY=d,this.wrapS=p,this.wrapT=l,this.minFilter=m,this.magFilter=y,this.format=x;var b=this.gl;b.isContextLost()||this._processTexture()}},_processTexture:function(){var h=this.gl;h.activeTexture(h.TEXTURE0);var u=h.getParameter(h.TEXTURE_BINDING_2D);h.bindTexture(h.TEXTURE_2D,this.webGLTexture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.minFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,this.magFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,this.wrapS),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,this.wrapT),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,this.flipY);var o=this.pixels,d=this.mipLevel,p=this.width,l=this.height,m=this.format,y=!1;if(o==null)h.texImage2D(h.TEXTURE_2D,d,m,p,l,0,m,h.UNSIGNED_BYTE,null),y=v(p,l);else if(o.compressed){p=o.width,l=o.height,y=o.generateMipmap;for(var x=0;x<o.mipmaps.length;x++)h.compressedTexImage2D(h.TEXTURE_2D,x,o.internalFormat,o.mipmaps[x].width,o.mipmaps[x].height,0,o.mipmaps[x].data)}else o instanceof Uint8Array?(h.texImage2D(h.TEXTURE_2D,d,m,p,l,0,m,h.UNSIGNED_BYTE,o),y=v(p,l)):(this.forceSize||(p=o.width,l=o.height),h.texImage2D(h.TEXTURE_2D,d,m,m,h.UNSIGNED_BYTE,o),y=v(p,l));y&&h.generateMipmap(h.TEXTURE_2D),u?h.bindTexture(h.TEXTURE_2D,u):h.bindTexture(h.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(h){this.__SPECTOR_Metadata=h,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=h)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof f||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});s.exports=f},57183:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u,o){this.webGLUniformLocation=null,this.gl=h,this.program=u,this.name=o,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var f=this.gl;f.isContextLost()||(this.webGLUniformLocation=f.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});s.exports=v},9503:(s,g,i)=>{var a={WebGLAttribLocationWrapper:i(93567),WebGLBufferWrapper:i(26128),WebGLProgramWrapper:i(1482),WebGLTextureWrapper:i(82751),WebGLFramebufferWrapper:i(84387),WebGLUniformLocationWrapper:i(57183)};s.exports=a},76531:(s,g,i)=>{var a=i(13560),v=i(83419),f=i(50792),h=i(97480),u=i(8443),o=i(57811),d=i(74403),p=i(45818),l=i(29747),m=i(87841),y=i(86555),x=i(56583),b=i(26099),w=i(38058),C=new v({Extends:f,initialize:function(T){f.call(this),this.game=T,this.canvas,this.canvasBounds=new m,this.parent=null,this.parentIsWindow=!1,this.parentSize=new y,this.gameSize=new y,this.baseSize=new y,this.displaySize=new y,this.scaleMode=a.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new b(1,1),this.autoRound=!1,this.autoCenter=a.CENTER.NO_CENTER,this.orientation=a.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:l,windowResize:l,fullScreenChange:l,fullScreenError:l}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(u.BOOT,this.boot,this)},boot:function(){var E=this.game;this.canvas=E.canvas,this.fullscreen=E.device.fullscreen,this.scaleMode!==a.SCALE_MODE.RESIZE&&this.scaleMode!==a.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===a.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),E.events.on(u.PRE_STEP,this.step,this),E.events.once(u.READY,this.refresh,this),E.events.once(u.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(E){this.getParent(E),this.getParentBounds();var T=E.width,k=E.height,P=E.scaleMode,R=E.zoom,M=E.autoRound;if(typeof T=="string")if(T.substr(-1)!=="%")T=parseInt(T,10);else{var I=this.parentSize.width;I===0&&(I=window.innerWidth);var B=parseInt(T,10)/100;T=Math.floor(I*B)}if(typeof k=="string")if(k.substr(-1)!=="%")k=parseInt(k,10);else{var D=this.parentSize.height;D===0&&(D=window.innerHeight);var N=parseInt(k,10)/100;k=Math.floor(D*N)}this.scaleMode=P,this.autoRound=M,this.autoCenter=E.autoCenter,this.resizeInterval=E.resizeInterval,M&&(T=Math.floor(T),k=Math.floor(k)),this.gameSize.setSize(T,k),R===a.ZOOM.MAX_ZOOM&&(R=this.getMaxZoom()),this.zoom=R,R!==1&&(this._resetZoom=!0),this.baseSize.setSize(T,k),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),E.minWidth>0&&this.displaySize.setMin(E.minWidth*R,E.minHeight*R),E.maxWidth>0&&this.displaySize.setMax(E.maxWidth*R,E.maxHeight*R),this.displaySize.setSize(T,k),(E.snapWidth>0||E.snapHeight>0)&&this.displaySize.setSnap(E.snapWidth,E.snapHeight),this.orientation=p(T,k)},getParent:function(E){var T=E.parent;if(T!==null){if(this.parent=d(T),this.parentIsWindow=this.parent===document.body,E.expandParent&&E.scaleMode!==a.SCALE_MODE.NONE){var k=this.parent.getBoundingClientRect();(this.parentIsWindow||k.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",k=this.parent.getBoundingClientRect(),!this.parentIsWindow&&k.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}E.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=d(E.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var E=this.parentSize,T=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(T.height=o(!0));var k=T.width,P=T.height;if(E.width!==k||E.height!==P)return E.setSize(k,P),!0;if(this.canvas){var R=this.canvasBounds,M=this.canvas.getBoundingClientRect();if(M.x!==R.x||M.y!==R.y)return!0}return!1},lockOrientation:function(E){var T=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return T?T.call(screen,E):!1},setParentSize:function(E,T){return this.parentSize.setSize(E,T),this.refresh()},setGameSize:function(E,T){var k=this.autoRound;k&&(E=Math.floor(E),T=Math.floor(T));var P=this.width,R=this.height;return this.gameSize.resize(E,T),this.baseSize.resize(E,T),k&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(E/T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(P,R)},resize:function(E,T){var k=this.zoom,P=this.autoRound;P&&(E=Math.floor(E),T=Math.floor(T));var R=this.width,M=this.height;this.gameSize.resize(E,T),this.baseSize.resize(E,T),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(E*k,T*k),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var I=this.canvas.style,B=E*k,D=T*k;return P&&(B=Math.floor(B),D=Math.floor(D)),(B!==E||D!==T)&&(I.width=B+"px",I.height=D+"px"),this.refresh(R,M)},setZoom:function(E){return this.zoom=E,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(E,T){return E===void 0&&(E=0),T===void 0&&(T=E),this.displaySize.setSnap(E,T),this.refresh()},refresh:function(E,T){E===void 0&&(E=this.width),T===void 0&&(T=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var k=this.game.domContainer;if(k){this.baseSize.setCSS(k);var P=this.canvas.style,R=k.style;R.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",R.marginLeft=P.marginLeft,R.marginTop=P.marginTop}return this.emit(h.RESIZE,this.gameSize,this.baseSize,this.displaySize,E,T),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var E=p(this.width,this.height);E!==this.orientation&&(this.orientation=E,this.emit(h.ORIENTATION_CHANGE,E))}},updateScale:function(){var E=this.canvas.style,T=this.gameSize.width,k=this.gameSize.height,P,R,M=this.zoom,I=this.autoRound;if(this.scaleMode===a.SCALE_MODE.NONE)this.displaySize.setSize(T*M,k*M),P=this.displaySize.width,R=this.displaySize.height,I&&(P=Math.floor(P),R=Math.floor(R)),this._resetZoom&&(E.width=P+"px",E.height=R+"px",this._resetZoom=!1);else if(this.scaleMode===a.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),P=this.displaySize.width,R=this.displaySize.height,I&&(P=Math.floor(P),R=Math.floor(R)),this.canvas.width=P,this.canvas.height=R;else if(this.scaleMode===a.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),P=this.displaySize.width,R=this.displaySize.height,I&&(P=Math.floor(P),R=Math.floor(R)),E.width=P+"px",E.height=R+"px";var B=this.parentSize.width/this.gameSize.width,D=this.parentSize.height/this.gameSize.height;B<D?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/B):this.baseSize.setSize(this.displaySize.width/D,this.gameSize.height),P=this.baseSize.width,R=this.baseSize.height,I&&(P=Math.floor(P),R=Math.floor(R)),this.canvas.width=P,this.canvas.height=R}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),P=this.displaySize.width,R=this.displaySize.height,I&&(P=Math.floor(P),R=Math.floor(R)),E.width=P+"px",E.height=R+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var E=x(this.parentSize.width,this.gameSize.width,0,!0),T=x(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(E,T),1)},updateCenter:function(){var E=this.autoCenter;if(E!==a.CENTER.NO_CENTER){var T=this.canvas,k=T.style,P=T.getBoundingClientRect(),R=P.width,M=P.height,I=Math.floor((this.parentSize.width-R)/2),B=Math.floor((this.parentSize.height-M)/2);E===a.CENTER.CENTER_HORIZONTALLY?B=0:E===a.CENTER.CENTER_VERTICALLY&&(I=0),k.marginLeft=I+"px",k.marginTop=B+"px"}},updateBounds:function(){var E=this.canvasBounds,T=this.canvas.getBoundingClientRect();E.x=T.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),E.y=T.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),E.width=T.width,E.height=T.height},transformX:function(E){return(E-this.canvasBounds.left)*this.displayScale.x},transformY:function(E){return(E-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(E){E===void 0&&(E={navigationUI:"hide"});var T=this.fullscreen;if(!T.available){this.emit(h.FULLSCREEN_UNSUPPORTED);return}if(!T.active){var k=this.getFullscreenTarget();T.keyboard?k[T.request](Element.ALLOW_KEYBOARD_INPUT):k[T.request](E)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(h.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(E){this.removeFullscreenTarget(),this.emit(h.FULLSCREEN_FAILED,E)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var E=document.createElement("div");E.style.margin="0",E.style.padding="0",E.style.width="100%",E.style.height="100%",this.fullscreenTarget=E,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var T=this.canvas.parentNode;T.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var E=this.fullscreenTarget;if(E&&E.parentNode){var T=E.parentNode;T.insertBefore(this.canvas,E),T.removeChild(E)}}},stopFullscreen:function(){var E=this.fullscreen;if(!E.available)return this.emit(h.FULLSCREEN_UNSUPPORTED),!1;E.active&&document[E.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(h.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(E){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(E)},startListeners:function(){var E=this,T=this.domlisteners;if(T.orientationChange=function(){E.updateBounds(),E._checkOrientation=!0,E.dirty=!0,E.refresh()},T.windowResize=function(){E.updateBounds(),E.dirty=!0},window.addEventListener("orientationchange",T.orientationChange,!1),window.addEventListener("resize",T.windowResize,!1),this.fullscreen.available){T.fullScreenChange=function(P){return E.onFullScreenChange(P)},T.fullScreenError=function(P){return E.onFullScreenError(P)};var k=["webkit","moz",""];k.forEach(function(P){document.addEventListener(P+"fullscreenchange",T.fullScreenChange,!1),document.addEventListener(P+"fullscreenerror",T.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.addEventListener("MSFullscreenError",T.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(E,T){E instanceof w||(T=E,E=void 0),T===void 0&&(T=new m);var k=this.baseSize,P=this.parentSize,R=this.canvasBounds,M=this.displayScale,I=R.x>=0?0:-(R.x*M.x),B=R.y>=0?0:-(R.y*M.y),D;P.width>=R.width?D=k.width:D=k.width-(R.width-P.width)*M.x;var N;return P.height>=R.height?N=k.height:N=k.height-(R.height-P.height)*M.y,T.setTo(I,B,D,N),E&&(T.width/=E.zoomX,T.height/=E.zoomY,T.centerX=E.centerX+E.scrollX,T.centerY=E.centerY+E.scrollY),T},step:function(E,T){this.parent&&(this._lastCheck+=T,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var E=this.domlisteners;window.removeEventListener("orientationchange",E.orientationChange,!1),window.removeEventListener("resize",E.windowResize,!1);var T=["webkit","moz",""];T.forEach(function(k){document.removeEventListener(k+"fullscreenchange",E.fullScreenChange,!1),document.removeEventListener(k+"fullscreenerror",E.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",E.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===a.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===a.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});s.exports=C},64743:s=>{s.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:s=>{s.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:s=>{s.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:s=>{s.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(s,g,i)=>{var a={CENTER:i(64743),ORIENTATION:i(39218),SCALE_MODE:i(81050),ZOOM:i(80805)};s.exports=a},56139:s=>{s.exports="enterfullscreen"},2336:s=>{s.exports="fullscreenfailed"},47412:s=>{s.exports="fullscreenunsupported"},51452:s=>{s.exports="leavefullscreen"},20666:s=>{s.exports="orientationchange"},47945:s=>{s.exports="resize"},97480:(s,g,i)=>{s.exports={ENTER_FULLSCREEN:i(56139),FULLSCREEN_FAILED:i(2336),FULLSCREEN_UNSUPPORTED:i(47412),LEAVE_FULLSCREEN:i(51452),ORIENTATION_CHANGE:i(20666),RESIZE:i(47945)}},93364:(s,g,i)=>{var a=i(79291),v=i(13560),f={Center:i(64743),Events:i(97480),Orientation:i(39218),ScaleManager:i(76531),ScaleModes:i(81050),Zoom:i(80805)};f=a(!1,f,v.CENTER),f=a(!1,f,v.ORIENTATION),f=a(!1,f,v.SCALE_MODE),f=a(!1,f,v.ZOOM),s.exports=f},27397:(s,g,i)=>{var a=i(95540),v=i(35355),f=function(h){var u=h.game.config.defaultPhysicsSystem,o=a(h.settings,"physics",!1);if(!(!u&&!o)){var d=[];if(u&&d.push(v(u+"Physics")),o)for(var p in o)p=v(p.concat("Physics")),d.indexOf(p)===-1&&d.push(p);return d}};s.exports=f},52106:(s,g,i)=>{var a=i(95540),v=function(f){var h=f.plugins.getDefaultScenePlugins(),u=a(f.settings,"plugins",!1);return Array.isArray(u)?u:h||[]};s.exports=v},87033:s=>{var g={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};s.exports=g},97482:(s,g,i)=>{var a=i(83419),v=i(2368),f=new a({initialize:function(u){this.sys=new v(this,u),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});s.exports=f},60903:(s,g,i)=>{var a=i(83419),v=i(89993),f=i(44594),h=i(8443),u=i(35154),o=i(54899),d=i(29747),p=i(97482),l=i(2368),m=new a({initialize:function(x,b){if(this.game=x,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,b){Array.isArray(b)||(b=[b]);for(var w=0;w<b.length;w++)this._pending.push({key:"default",scene:b[w],autoStart:w===0,data:{}})}x.events.once(h.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new p),this.game.events.emit(h.SYSTEM_READY,this.systemScene,this);var y,x,b,w;for(y=0;y<this._pending.length;y++){x=this._pending[y],b=x.key,w=x.scene;var C;w instanceof p?C=this.createSceneFromInstance(b,w):typeof w=="object"?C=this.createSceneFromObject(b,w):typeof w=="function"&&(C=this.createSceneFromFunction(b,w)),b=C.sys.settings.key,this.keys[b]=C,this.scenes.push(C),this._data[b]&&(C.sys.settings.data=this._data[b].data,this._data[b].autoStart&&(x.autoStart=!0)),(x.autoStart||C.sys.settings.active)&&this._start.push(b)}for(this._pending.length=0,this._data={},this.isBooted=!0,y=0;y<this._start.length;y++)x=this._start[y],this.start(x);this._start.length=0}},processQueue:function(){var y=this._pending.length,x=this._queue.length;if(!(y===0&&x===0)){var b,w;if(y){for(b=0;b<y;b++)w=this._pending[b],this.add(w.key,w.scene,w.autoStart,w.data);for(b=0;b<this._start.length;b++)w=this._start[b],this.start(w);this._start.length=0,this._pending.length=0}for(b=0;b<this._queue.length;b++)w=this._queue[b],this[w.op](w.keyA,w.keyB);this._queue.length=0}},add:function(y,x,b,w){if(b===void 0&&(b=!1),w===void 0&&(w={}),this.isProcessing||!this.isBooted)return this._pending.push({key:y,scene:x,autoStart:b,data:w}),this.isBooted||(this._data[y]={data:w}),null;y=this.getKey(y,x);var C;return x instanceof p?C=this.createSceneFromInstance(y,x):typeof x=="object"?(x.key=y,C=this.createSceneFromObject(y,x)):typeof x=="function"&&(C=this.createSceneFromFunction(y,x)),C.sys.settings.data=w,y=C.sys.settings.key,this.keys[y]=C,this.scenes.push(C),(b||C.sys.settings.active)&&(this._pending.length?this._start.push(y):this.start(y)),C},remove:function(y){if(this.isProcessing)this._queue.push({op:"remove",keyA:y,keyB:null});else{var x=this.getScene(y);if(!x||x.sys.isTransitioning())return this;var b=this.scenes.indexOf(x),w=x.sys.settings.key;b>-1&&(delete this.keys[w],this.scenes.splice(b,1),this._start.indexOf(w)>-1&&(b=this._start.indexOf(w),this._start.splice(b,1)),x.sys.destroy())}return this},bootScene:function(y){var x=y.sys,b=x.settings;x.sceneUpdate=d,y.init&&(y.init.call(y,b.data),b.status=v.INIT,b.isTransition&&x.events.emit(f.TRANSITION_INIT,b.transitionFrom,b.transitionDuration));var w;x.load&&(w=x.load,w.reset()),w&&y.preload?(y.preload.call(y),b.status=v.LOADING,w.once(o.COMPLETE,this.loadComplete,this),w.start()):this.create(y)},loadComplete:function(y){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(y.scene)},payloadComplete:function(y){this.bootScene(y.scene)},update:function(y,x){this.processQueue(),this.isProcessing=!0;for(var b=this.scenes.length-1;b>=0;b--){var w=this.scenes[b].sys;w.settings.status>v.START&&w.settings.status<=v.RUNNING&&w.step(y,x),w.scenePlugin&&w.scenePlugin._target&&w.scenePlugin.step(y,x)}},render:function(y){for(var x=0;x<this.scenes.length;x++){var b=this.scenes[x].sys;b.settings.visible&&b.settings.status>=v.LOADING&&b.settings.status<v.SLEEPING&&b.render(y)}this.isProcessing=!1},create:function(y){var x=y.sys,b=x.settings;y.create&&(b.status=v.CREATING,y.create.call(y,b.data),b.status===v.DESTROYED)||(b.isTransition&&x.events.emit(f.TRANSITION_START,b.transitionFrom,b.transitionDuration),y.update&&(x.sceneUpdate=y.update),b.status=v.RUNNING,x.events.emit(f.CREATE,y))},createSceneFromFunction:function(y,x){var b=new x;if(b instanceof p){var w=b.sys.settings.key;if(w!==""&&(y=w),this.keys.hasOwnProperty(y))throw new Error("Cannot add a Scene with duplicate key: "+y);return this.createSceneFromInstance(y,b)}else return b.sys=new l(b),b.sys.settings.key=y,b.sys.init(this.game),b},createSceneFromInstance:function(y,x){var b=x.sys.settings.key;return b===""&&(x.sys.settings.key=y),x.sys.init(this.game),x},createSceneFromObject:function(y,x){var b=new p(x),w=b.sys.settings.key;w!==""?y=w:b.sys.settings.key=y,b.sys.init(this.game);for(var C=["init","preload","create","update","render"],E=0;E<C.length;E++){var T=u(x,C[E],null);T&&(b[C[E]]=T)}if(x.hasOwnProperty("extend")){for(var k in x.extend)if(x.extend.hasOwnProperty(k)){var P=x.extend[k];k==="data"&&b.hasOwnProperty("data")&&typeof P=="object"?b.data.merge(P):k!=="sys"&&(b[k]=P)}}return b},getKey:function(y,x){if(y||(y="default"),typeof x=="function")return y;if(x instanceof p?y=x.sys.settings.key:typeof x=="object"&&x.hasOwnProperty("key")&&(y=x.key),this.keys.hasOwnProperty(y))throw new Error("Cannot add a Scene with duplicate key: "+y);return y},getScenes:function(y,x){y===void 0&&(y=!0),x===void 0&&(x=!1);for(var b=[],w=this.scenes,C=0;C<w.length;C++){var E=w[C];E&&(!y||y&&E.sys.isActive())&&b.push(E)}return x?b.reverse():b},getScene:function(y){if(typeof y=="string"){if(this.keys[y])return this.keys[y]}else for(var x=0;x<this.scenes.length;x++)if(y===this.scenes[x])return y;return null},isActive:function(y){var x=this.getScene(y);return x?x.sys.isActive():null},isPaused:function(y){var x=this.getScene(y);return x?x.sys.isPaused():null},isVisible:function(y){var x=this.getScene(y);return x?x.sys.isVisible():null},isSleeping:function(y){var x=this.getScene(y);return x?x.sys.isSleeping():null},pause:function(y,x){var b=this.getScene(y);return b&&b.sys.pause(x),this},resume:function(y,x){var b=this.getScene(y);return b&&b.sys.resume(x),this},sleep:function(y,x){var b=this.getScene(y);return b&&!b.sys.isTransitioning()&&b.sys.sleep(x),this},wake:function(y,x){var b=this.getScene(y);return b&&b.sys.wake(x),this},run:function(y,x){var b=this.getScene(y);if(!b){for(var w=0;w<this._pending.length;w++)if(this._pending[w].key===y){this.queueOp("start",y,x);break}return this}b.sys.isSleeping()?b.sys.wake(x):b.sys.isPaused()?b.sys.resume(x):this.start(y,x)},start:function(y,x){if(!this.isBooted)return this._data[y]={autoStart:!0,data:x},this;var b=this.getScene(y);if(!b)return console.warn("Scene not found for key: "+y),this;var w=b.sys,C=w.settings.status;if(C>=v.START&&C<=v.CREATING)return this;if(C>=v.RUNNING&&C<=v.SLEEPING)w.shutdown(),w.sceneUpdate=d,w.start(x);else{w.sceneUpdate=d,w.start(x);var E;if(w.load&&(E=w.load),E&&w.settings.hasOwnProperty("pack")&&(E.reset(),E.addPack({payload:w.settings.pack})))return w.settings.status=v.LOADING,E.once(o.COMPLETE,this.payloadComplete,this),E.start(),this}return this.bootScene(b),this},stop:function(y,x){var b=this.getScene(y);if(b&&!b.sys.isTransitioning()&&b.sys.settings.status!==v.SHUTDOWN){var w=b.sys.load;w&&(w.off(o.COMPLETE,this.loadComplete,this),w.off(o.COMPLETE,this.payloadComplete,this)),b.sys.shutdown(x)}return this},switch:function(y,x){var b=this.getScene(y),w=this.getScene(x);return b&&w&&b!==w&&(this.sleep(y),this.isSleeping(x)?this.wake(x):this.start(x)),this},getAt:function(y){return this.scenes[y]},getIndex:function(y){var x=this.getScene(y);return this.scenes.indexOf(x)},bringToTop:function(y){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:y,keyB:null});else{var x=this.getIndex(y);if(x!==-1&&x<this.scenes.length){var b=this.getScene(y);this.scenes.splice(x,1),this.scenes.push(b)}}return this},sendToBack:function(y){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:y,keyB:null});else{var x=this.getIndex(y);if(x!==-1&&x>0){var b=this.getScene(y);this.scenes.splice(x,1),this.scenes.unshift(b)}}return this},moveDown:function(y){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:y,keyB:null});else{var x=this.getIndex(y);if(x>0){var b=x-1,w=this.getScene(y),C=this.getAt(b);this.scenes[x]=C,this.scenes[b]=w}}return this},moveUp:function(y){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:y,keyB:null});else{var x=this.getIndex(y);if(x<this.scenes.length-1){var b=x+1,w=this.getScene(y),C=this.getAt(b);this.scenes[x]=C,this.scenes[b]=w}}return this},moveAbove:function(y,x){if(y===x)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:y,keyB:x});else{var b=this.getIndex(y),w=this.getIndex(x);if(b!==-1&&w!==-1&&w<b){var C=this.getAt(w);this.scenes.splice(w,1),this.scenes.splice(b+(w>b),0,C)}}return this},moveBelow:function(y,x){if(y===x)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:y,keyB:x});else{var b=this.getIndex(y),w=this.getIndex(x);if(b!==-1&&w!==-1&&w>b){var C=this.getAt(w);this.scenes.splice(w,1),b===0?this.scenes.unshift(C):this.scenes.splice(b-(w<b),0,C)}}return this},queueOp:function(y,x,b){return this._queue.push({op:y,keyA:x,keyB:b}),this},swapPosition:function(y,x){if(y===x)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:y,keyB:x});else{var b=this.getIndex(y),w=this.getIndex(x);if(b!==w&&b!==-1&&w!==-1){var C=this.getAt(b);this.scenes[b]=this.scenes[w],this.scenes[w]=C}}return this},dump:function(){for(var y=[],x=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],b=0;b<this.scenes.length;b++){var w=this.scenes[b].sys,C=w.settings.visible&&(w.settings.status===v.RUNNING||w.settings.status===v.PAUSED)?"[*] ":"[-] ";C+=w.settings.key+" ("+x[w.settings.status]+")",y.push(C)}console.log(y.join(`
`))},destroy:function(){for(var y=0;y<this.scenes.length;y++){var x=this.scenes[y].sys;x.destroy()}this.systemScene.sys.destroy(),this.update=d,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});s.exports=m},52209:(s,g,i)=>{var a=i(45319),v=i(83419),f=i(44594),h=i(95540),u=i(37277),o=new v({initialize:function(p){this.scene=p,this.systems=p.sys,this.settings=p.sys.settings,this.key=p.sys.settings.key,this.manager=p.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,p.sys.events.once(f.BOOT,this.boot,this),p.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},start:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",d,p),this},restart:function(d){var p=this.key;return this.manager.queueOp("stop",p),this.manager.queueOp("start",p,d),this},transition:function(d){d===void 0&&(d={});var p=h(d,"target",!1),l=this.manager.getScene(p);if(!p||!this.checkValidTransition(l))return!1;var m=h(d,"duration",1e3);this._elapsed=0,this._target=l,this._duration=m,this._willSleep=h(d,"sleep",!1),this._willRemove=h(d,"remove",!1);var y=h(d,"onUpdate",null);y&&(this._onUpdate=y,this._onUpdateScope=h(d,"onUpdateScope",this.scene));var x=h(d,"allowInput",!1);this.settings.transitionAllowInput=x;var b=l.sys.settings;b.isTransition=!0,b.transitionFrom=this.scene,b.transitionDuration=m,b.transitionAllowInput=x,h(d,"moveAbove",!1)?this.manager.moveAbove(this.key,p):h(d,"moveBelow",!1)&&this.manager.moveBelow(this.key,p),l.sys.isSleeping()?l.sys.wake(h(d,"data")):this.manager.start(p,h(d,"data"));var w=h(d,"onStart",null),C=h(d,"onStartScope",this.scene);return w&&w.call(C,this.scene,l,m),this.systems.events.emit(f.TRANSITION_OUT,l,m),!0},checkValidTransition:function(d){return!(!d||d.sys.isActive()||d.sys.isTransitioning()||d===this.scene||this.systems.isTransitioning())},step:function(d,p){this._elapsed+=p,this.transitionProgress=a(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var d=this._target.sys,p=this._target.sys.settings;d.events.emit(f.TRANSITION_COMPLETE,this.scene),p.isTransition=!1,p.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(d,p,l,m){return this.manager.add(d,p,l,m)},launch:function(d,p){return d&&d!==this.key&&this.manager.queueOp("start",d,p),this},run:function(d,p){return d&&d!==this.key&&this.manager.queueOp("run",d,p),this},pause:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("pause",d,p),this},resume:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("resume",d,p),this},sleep:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("sleep",d,p),this},wake:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("wake",d,p),this},switch:function(d){return d!==this.key&&this.manager.queueOp("switch",this.key,d),this},stop:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("stop",d,p),this},setActive:function(d,p,l){p===void 0&&(p=this.key);var m=this.manager.getScene(p);return m&&m.sys.setActive(d,l),this},setVisible:function(d,p){p===void 0&&(p=this.key);var l=this.manager.getScene(p);return l&&l.sys.setVisible(d),this},isSleeping:function(d){return d===void 0&&(d=this.key),this.manager.isSleeping(d)},isActive:function(d){return d===void 0&&(d=this.key),this.manager.isActive(d)},isPaused:function(d){return d===void 0&&(d=this.key),this.manager.isPaused(d)},isVisible:function(d){return d===void 0&&(d=this.key),this.manager.isVisible(d)},swapPosition:function(d,p){return p===void 0&&(p=this.key),d!==p&&this.manager.swapPosition(d,p),this},moveAbove:function(d,p){return p===void 0&&(p=this.key),d!==p&&this.manager.moveAbove(d,p),this},moveBelow:function(d,p){return p===void 0&&(p=this.key),d!==p&&this.manager.moveBelow(d,p),this},remove:function(d){return d===void 0&&(d=this.key),this.manager.remove(d),this},moveUp:function(d){return d===void 0&&(d=this.key),this.manager.moveUp(d),this},moveDown:function(d){return d===void 0&&(d=this.key),this.manager.moveDown(d),this},bringToTop:function(d){return d===void 0&&(d=this.key),this.manager.bringToTop(d),this},sendToBack:function(d){return d===void 0&&(d=this.key),this.manager.sendToBack(d),this},get:function(d){return this.manager.getScene(d)},getStatus:function(d){var p=this.manager.getScene(d);if(p)return p.sys.getStatus()},getIndex:function(d){return d===void 0&&(d=this.key),this.manager.getIndex(d)},shutdown:function(){var d=this.systems.events;d.off(f.SHUTDOWN,this.shutdown,this),d.off(f.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});u.register("ScenePlugin",o,"scenePlugin"),s.exports=o},55681:(s,g,i)=>{var a=i(89993),v=i(35154),f=i(46975),h=i(87033),u={create:function(o){return typeof o=="string"?o={key:o}:o===void 0&&(o={}),{status:a.PENDING,key:v(o,"key",""),active:v(o,"active",!1),visible:v(o,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:v(o,"pack",!1),cameras:v(o,"cameras",null),map:v(o,"map",f(h,v(o,"mapAdd",{}))),physics:v(o,"physics",{}),loader:v(o,"loader",{}),plugins:v(o,"plugins",!1),input:v(o,"input",{})}}};s.exports=u},2368:(s,g,i)=>{var a=i(83419),v=i(89993),f=i(42363),h=i(44594),u=i(27397),o=i(52106),d=i(29747),p=i(55681),l=new a({initialize:function(y,x){this.scene=y,this.game,this.renderer,this.config=x,this.settings=p.create(x),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=d},init:function(m){this.settings.status=v.INIT,this.sceneUpdate=d,this.game=m,this.renderer=m.renderer,this.canvas=m.canvas,this.context=m.context;var y=m.plugins;this.plugins=y,y.addToScene(this,f.Global,[f.CoreScene,o(this),u(this)]),this.events.emit(h.BOOT,this),this.settings.isBooted=!0},step:function(m,y){var x=this.events;x.emit(h.PRE_UPDATE,m,y),x.emit(h.UPDATE,m,y),this.sceneUpdate.call(this.scene,m,y),x.emit(h.POST_UPDATE,m,y)},render:function(m){var y=this.displayList;y.depthSort(),this.events.emit(h.PRE_RENDER,m),this.cameras.render(m,y),this.events.emit(h.RENDER,m)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(m){var y=this.settings,x=this.getStatus();return x!==v.CREATING&&x!==v.RUNNING?console.warn("Cannot pause non-running Scene",y.key):this.settings.active&&(y.status=v.PAUSED,y.active=!1,this.events.emit(h.PAUSE,this,m)),this},resume:function(m){var y=this.events,x=this.settings;return this.settings.active||(x.status=v.RUNNING,x.active=!0,y.emit(h.RESUME,this,m)),this},sleep:function(m){var y=this.settings,x=this.getStatus();return x!==v.CREATING&&x!==v.RUNNING?console.warn("Cannot sleep non-running Scene",y.key):(y.status=v.SLEEPING,y.active=!1,y.visible=!1,this.events.emit(h.SLEEP,this,m)),this},wake:function(m){var y=this.events,x=this.settings;return x.status=v.RUNNING,x.active=!0,x.visible=!0,y.emit(h.WAKE,this,m),x.isTransition&&y.emit(h.TRANSITION_WAKE,x.transitionFrom,x.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var m=this.settings.status;return m>v.PENDING&&m<=v.RUNNING},isSleeping:function(){return this.settings.status===v.SLEEPING},isActive:function(){return this.settings.status===v.RUNNING},isPaused:function(){return this.settings.status===v.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(m){return this.settings.visible=m,this},setActive:function(m,y){return m?this.resume(y):this.pause(y)},start:function(m){var y=this.events,x=this.settings;m&&(x.data=m),x.status=v.START,x.active=!0,x.visible=!0,y.emit(h.START,this),y.emit(h.READY,this,m)},shutdown:function(m){var y=this.events,x=this.settings;y.off(h.TRANSITION_INIT),y.off(h.TRANSITION_START),y.off(h.TRANSITION_COMPLETE),y.off(h.TRANSITION_OUT),x.status=v.SHUTDOWN,x.active=!1,x.visible=!1,y.emit(h.SHUTDOWN,this,m)},destroy:function(){var m=this.events,y=this.settings;y.status=v.DESTROYED,y.active=!1,y.visible=!1,m.emit(h.DESTROY,this),m.removeAllListeners();for(var x=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],b=0;b<x.length;b++)this[x[b]]=null}});s.exports=l},89993:s=>{var g={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};s.exports=g},69830:s=>{s.exports="addedtoscene"},7919:s=>{s.exports="boot"},46763:s=>{s.exports="create"},11763:s=>{s.exports="destroy"},71555:s=>{s.exports="pause"},36735:s=>{s.exports="postupdate"},3809:s=>{s.exports="prerender"},90716:s=>{s.exports="preupdate"},58262:s=>{s.exports="ready"},91633:s=>{s.exports="removedfromscene"},10319:s=>{s.exports="render"},87132:s=>{s.exports="resume"},81961:s=>{s.exports="shutdown"},90194:s=>{s.exports="sleep"},6265:s=>{s.exports="start"},33178:s=>{s.exports="transitioncomplete"},43063:s=>{s.exports="transitioninit"},11259:s=>{s.exports="transitionout"},61611:s=>{s.exports="transitionstart"},45209:s=>{s.exports="transitionwake"},22966:s=>{s.exports="update"},21747:s=>{s.exports="wake"},44594:(s,g,i)=>{s.exports={ADDED_TO_SCENE:i(69830),BOOT:i(7919),CREATE:i(46763),DESTROY:i(11763),PAUSE:i(71555),POST_UPDATE:i(36735),PRE_RENDER:i(3809),PRE_UPDATE:i(90716),READY:i(58262),REMOVED_FROM_SCENE:i(91633),RENDER:i(10319),RESUME:i(87132),SHUTDOWN:i(81961),SLEEP:i(90194),START:i(6265),TRANSITION_COMPLETE:i(33178),TRANSITION_INIT:i(43063),TRANSITION_OUT:i(11259),TRANSITION_START:i(61611),TRANSITION_WAKE:i(45209),UPDATE:i(22966),WAKE:i(21747)}},62194:(s,g,i)=>{var a=i(89993),v=i(79291),f={Events:i(44594),GetPhysicsPlugins:i(27397),GetScenePlugins:i(52106),SceneManager:i(60903),ScenePlugin:i(52209),Settings:i(55681),Systems:i(2368)};f=v(!1,f,a),s.exports=f},30341:(s,g,i)=>{var a=i(83419),v=i(50792),f=i(14463),h=i(79291),u=i(29747),o=new a({Extends:v,initialize:function(p,l,m){v.call(this),this.manager=p,this.key=l,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=h(this.config,m),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(console.error("addMarker "+d.name+" already exists in Sound"),!1):(d=h(!0,{name:"",start:0,duration:this.totalDuration-(d.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},d),this.markers[d.name]=d,!0)},updateMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(this.markers[d.name]=h(!0,this.markers[d.name],d),!0):(console.warn("Audio Marker: "+d.name+" missing in Sound: "+this.key),!1)},removeMarker:function(d){var p=this.markers[d];return p?(this.markers[d]=null,p):null},play:function(d,p){if(d===void 0&&(d=""),typeof d=="object"&&(p=d,d=""),typeof d!="string")return!1;if(!d)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[d])return console.warn("Marker: "+d+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[d],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=h(this.currentConfig,p),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:u,calculateRate:function(){var d=1.0005777895065548,p=this.currentConfig.detune+this.manager.detune,l=Math.pow(d,p);this.totalRate=this.currentConfig.rate*this.manager.rate*l},destroy:function(){this.pendingRemove||(this.stop(),this.emit(f.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});s.exports=o},85034:(s,g,i)=>{var a=i(83419),v=i(41786),f=i(50792),h=i(14463),u=i(8443),o=i(46710),d=i(58731),p=i(29747),l=i(26099),m=new a({Extends:f,initialize:function(x){f.call(this),this.game=x,this.jsonCache=x.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new l,x.events.on(u.BLUR,this.onGameBlur,this),x.events.on(u.FOCUS,this.onGameFocus,this),x.events.on(u.PRE_STEP,this.update,this),x.events.once(u.DESTROY,this.destroy,this)},add:p,addAudioSprite:function(y,x){x===void 0&&(x={});var b=this.add(y,x);b.spritemap=this.jsonCache.get(y).spritemap;for(var w in b.spritemap)if(b.spritemap.hasOwnProperty(w)){var C=v(x),E=b.spritemap[w];C.loop=E.hasOwnProperty("loop")?E.loop:!1,b.addMarker({name:w,start:E.start,duration:E.end-E.start,config:C})}return b},get:function(y){return d(this.sounds,"key",y)},getAll:function(y){return y?o(this.sounds,"key",y):o(this.sounds)},getAllPlaying:function(){return o(this.sounds,"isPlaying",!0)},play:function(y,x){var b=this.add(y);return b.once(h.COMPLETE,b.destroy,b),x?x.name?(b.addMarker(x),b.play(x.name)):b.play(x):b.play()},playAudioSprite:function(y,x,b){var w=this.addAudioSprite(y);return w.once(h.COMPLETE,w.destroy,w),w.play(x,b)},remove:function(y){var x=this.sounds.indexOf(y);return x!==-1?(y.destroy(),this.sounds.splice(x,1),!0):!1},removeAll:function(){this.sounds.forEach(function(y){y.destroy()}),this.sounds.length=0},removeByKey:function(y){for(var x=0,b=this.sounds.length-1;b>=0;b--){var w=this.sounds[b];w.key===y&&(w.destroy(),this.sounds.splice(b,1),x++)}return x},pauseAll:function(){this.forEachActiveSound(function(y){y.pause()}),this.emit(h.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(y){y.resume()}),this.emit(h.RESUME_ALL,this)},setListenerPosition:p,stopAll:function(){this.forEachActiveSound(function(y){y.stop()}),this.emit(h.STOP_ALL,this)},stopByKey:function(y){var x=0;return this.getAll(y).forEach(function(b){b.stop()&&x++}),x},unlock:p,onBlur:p,onFocus:p,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(y,x){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(h.UNLOCKED,this));for(var b=this.sounds.length-1;b>=0;b--)this.sounds[b].pendingRemove&&this.sounds.splice(b,1);this.sounds.forEach(function(w){w.update(y,x)})},destroy:function(){this.game.events.off(u.BLUR,this.onGameBlur,this),this.game.events.off(u.FOCUS,this.onGameFocus,this),this.game.events.off(u.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(y,x){var b=this;this.sounds.forEach(function(w,C){w&&!w.pendingRemove&&y.call(x||b,w,C,b.sounds)})},setRate:function(y){return this.rate=y,this},rate:{get:function(){return this._rate},set:function(y){this._rate=y,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(h.GLOBAL_RATE,this,y)}},setDetune:function(y){return this.detune=y,this},detune:{get:function(){return this._detune},set:function(y){this._detune=y,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(h.GLOBAL_DETUNE,this,y)}}});s.exports=m},14747:(s,g,i)=>{var a=i(33684),v=i(25960),f=i(57490),h={create:function(u){var o=u.config.audio,d=u.device.audio;return o.noAudio||!d.webAudio&&!d.audioData?new v(u):d.webAudio&&!o.disableWebAudio?new f(u):new a(u)}};s.exports=h},19723:s=>{s.exports="complete"},98882:s=>{s.exports="decodedall"},57506:s=>{s.exports="decoded"},73146:s=>{s.exports="destroy"},11305:s=>{s.exports="detune"},40577:s=>{s.exports="detune"},30333:s=>{s.exports="mute"},20394:s=>{s.exports="rate"},21802:s=>{s.exports="volume"},1299:s=>{s.exports="looped"},99190:s=>{s.exports="loop"},97125:s=>{s.exports="mute"},89259:s=>{s.exports="pan"},79986:s=>{s.exports="pauseall"},17586:s=>{s.exports="pause"},19618:s=>{s.exports="play"},42306:s=>{s.exports="rate"},10387:s=>{s.exports="resumeall"},48959:s=>{s.exports="resume"},9960:s=>{s.exports="seek"},19180:s=>{s.exports="stopall"},98328:s=>{s.exports="stop"},50401:s=>{s.exports="unlocked"},52498:s=>{s.exports="volume"},14463:(s,g,i)=>{s.exports={COMPLETE:i(19723),DECODED:i(57506),DECODED_ALL:i(98882),DESTROY:i(73146),DETUNE:i(11305),GLOBAL_DETUNE:i(40577),GLOBAL_MUTE:i(30333),GLOBAL_RATE:i(20394),GLOBAL_VOLUME:i(21802),LOOP:i(99190),LOOPED:i(1299),MUTE:i(97125),PAN:i(89259),PAUSE_ALL:i(79986),PAUSE:i(17586),PLAY:i(19618),RATE:i(42306),RESUME_ALL:i(10387),RESUME:i(48959),SEEK:i(9960),STOP_ALL:i(19180),STOP:i(98328),UNLOCKED:i(50401),VOLUME:i(52498)}},64895:(s,g,i)=>{var a=i(30341),v=i(83419),f=i(14463),h=i(45319),u=new v({Extends:a,initialize:function(d,p,l){if(l===void 0&&(l={}),this.tags=d.game.cache.audio.get(p),!this.tags)throw new Error('No cached audio asset with key "'+p);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,a.call(this,d,p,l)},play:function(o,d){return this.manager.isLocked(this,"play",[o,d])||!a.prototype.play.call(this,o,d)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!a.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!a.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(f.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var o=this.currentConfig.seek,d=this.currentConfig.delay,p=(this.currentMarker?this.currentMarker.start:0)+o;return this.previousTime=p,this.audio.currentTime=p,this.applyConfig(),d===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+d*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var o=0;o<this.tags.length;o++){var d=this.tags[o];if(d.dataset.used==="false")return d.dataset.used="true",this.audio=d,!0}if(!this.manager.override)return!1;var p=[];this.manager.forEachActiveSound(function(m){m.key===this.key&&m.audio&&p.push(m)},this),p.sort(function(m,y){return m.loop===y.loop?y.seek/y.duration-m.seek/m.duration:m.loop?1:-1});var l=p[0];return this.audio=l.audio,l.reset(),l.audio=null,l.startTime=0,l.previousTime=0,!0},playCatchPromise:function(){var o=this.audio.play();o&&o.catch(function(d){console.warn(d)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){a.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(o){if(this.isPlaying){if(this.startTime>0){this.startTime<o-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,o-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var d=this.currentMarker?this.currentMarker.start:0,p=d+this.duration,l=this.audio.currentTime;if(this.currentConfig.loop)l>=p-this.manager.loopEndOffset?(this.audio.currentTime=d+Math.max(0,l-p),l=this.audio.currentTime):l<d&&(this.audio.currentTime+=d,l=this.audio.currentTime),l<this.previousTime&&this.emit(f.LOOPED,this);else if(l>=p){this.reset(),this.stopAndReleaseAudioTag(),this.emit(f.COMPLETE,this);return}this.previousTime=l}},destroy:function(){a.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=h(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){a.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(o){this.currentConfig.mute=o,!this.manager.isLocked(this,"mute",o)&&(this.updateMute(),this.emit(f.MUTE,this,o))}},setMute:function(o){return this.mute=o,this},volume:{get:function(){return this.currentConfig.volume},set:function(o){this.currentConfig.volume=o,!this.manager.isLocked(this,"volume",o)&&(this.updateVolume(),this.emit(f.VOLUME,this,o))}},setVolume:function(o){return this.volume=o,this},rate:{get:function(){return this.currentConfig.rate},set:function(o){this.currentConfig.rate=o,!this.manager.isLocked(this,f.RATE,o)&&(this.calculateRate(),this.emit(f.RATE,this,o))}},setRate:function(o){return this.rate=o,this},detune:{get:function(){return this.currentConfig.detune},set:function(o){this.currentConfig.detune=o,!this.manager.isLocked(this,f.DETUNE,o)&&(this.calculateRate(),this.emit(f.DETUNE,this,o))}},setDetune:function(o){return this.detune=o,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(o){this.manager.isLocked(this,"seek",o)||this.startTime>0||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.isPlaying?(this.previousTime=o,this.audio.currentTime=o):this.isPaused&&(this.currentConfig.seek=o),this.emit(f.SEEK,this,o))}},setSeek:function(o){return this.seek=o,this},loop:{get:function(){return this.currentConfig.loop},set:function(o){this.currentConfig.loop=o,!this.manager.isLocked(this,"loop",o)&&(this.audio&&(this.audio.loop=o),this.emit(f.LOOP,this,o))}},setLoop:function(o){return this.loop=o,this},pan:{get:function(){return this.currentConfig.pan},set:function(o){this.currentConfig.pan=o,this.emit(f.PAN,this,o)}},setPan:function(o){return this.pan=o,this}});s.exports=u},33684:(s,g,i)=>{var a=i(85034),v=i(83419),f=i(14463),h=i(64895),u=new v({Extends:a,initialize:function(d){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,a.call(this,d)},add:function(o,d){var p=new h(this,o,d);return this.sounds.push(p),p},unlock:function(){this.locked=!1;var o=this;if(this.game.cache.audio.entries.each(function(m,y){for(var x=0;x<y.length;x++)if(y[x].dataset.locked==="true")return o.locked=!0,!1;return!0}),!!this.locked){var d=!1,p=function(){d=!0},l=function(){if(d){d=!1;return}document.body.removeEventListener("touchmove",p),document.body.removeEventListener("touchend",l);var m=[];if(o.game.cache.audio.entries.each(function(x,b){for(var w=0;w<b.length;w++){var C=b[w];C.dataset.locked==="true"&&m.push(C)}return!0}),m.length!==0){var y=m[m.length-1];y.oncanplaythrough=function(){y.oncanplaythrough=null,m.forEach(function(x){x.dataset.locked="false"}),o.unlocked=!0},m.forEach(function(x){x.load()})}};this.once(f.UNLOCKED,function(){for(this.forEachActiveSound(function(y){y.currentMarker===null&&y.duration===0&&(y.duration=y.tags[0].duration),y.totalDuration=y.tags[0].duration});this.lockedActionsQueue.length;){var m=this.lockedActionsQueue.shift();m.sound[m.prop].apply?m.sound[m.prop].apply(m.sound,m.value||[]):m.sound[m.prop]=m.value}},this),document.body.addEventListener("touchmove",p,!1),document.body.addEventListener("touchend",l,!1)}},onBlur:function(){this.forEachActiveSound(function(o){o.isPlaying&&(this.onBlurPausedSounds.push(o),o.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(o){o.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){a.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(o,d,p){return o.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:o,prop:d,value:p}),!0):!1},setMute:function(o){return this.mute=o,this},mute:{get:function(){return this._mute},set:function(o){this._mute=o,this.forEachActiveSound(function(d){d.updateMute()}),this.emit(f.GLOBAL_MUTE,this,o)}},setVolume:function(o){return this.volume=o,this},volume:{get:function(){return this._volume},set:function(o){this._volume=o,this.forEachActiveSound(function(d){d.updateVolume()}),this.emit(f.GLOBAL_VOLUME,this,o)}}});s.exports=u},23717:(s,g,i)=>{s.exports={SoundManagerCreator:i(14747),Events:i(14463),BaseSound:i(30341),BaseSoundManager:i(85034),WebAudioSound:i(71741),WebAudioSoundManager:i(57490),HTML5AudioSound:i(64895),HTML5AudioSoundManager:i(33684),NoAudioSound:i(4603),NoAudioSoundManager:i(25960)}},4603:(s,g,i)=>{var a=i(30341),v=i(83419),f=i(50792),h=i(79291),u=i(29747),o=function(){return!1},d=function(){return null},p=function(){return this},l=new v({Extends:f,initialize:function(y,x,b){b===void 0&&(b={}),f.call(this),this.manager=y,this.key=x,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=h({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},b),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:o,updateMarker:o,removeMarker:d,play:o,pause:o,resume:o,stop:o,setMute:p,setVolume:p,setRate:p,setDetune:p,setSeek:p,setLoop:p,setPan:p,applyConfig:d,resetConfig:d,update:u,calculateRate:d,destroy:function(){a.prototype.destroy.call(this)}});s.exports=l},25960:(s,g,i)=>{var a=i(85034),v=i(83419),f=i(50792),h=i(4603),u=i(29747),o=new v({Extends:f,initialize:function(p){f.call(this),this.game=p,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(d,p){var l=new h(this,d,p);return this.sounds.push(l),l},addAudioSprite:function(d,p){var l=this.add(d,p);return l.spritemap={},l},get:function(d){return a.prototype.get.call(this,d)},getAll:function(d){return a.prototype.getAll.call(this,d)},play:function(d,p){return!1},playAudioSprite:function(d,p,l){return!1},remove:function(d){return a.prototype.remove.call(this,d)},removeAll:function(){return a.prototype.removeAll.call(this)},removeByKey:function(d){return a.prototype.removeByKey.call(this,d)},stopByKey:function(d){return a.prototype.stopByKey.call(this,d)},onBlur:u,onFocus:u,onGameBlur:u,onGameFocus:u,pauseAll:u,resumeAll:u,stopAll:u,update:u,setRate:u,setDetune:u,setMute:u,setVolume:u,unlock:u,forEachActiveSound:function(d,p){a.prototype.forEachActiveSound.call(this,d,p)},destroy:function(){a.prototype.destroy.call(this)}});s.exports=o},71741:(s,g,i)=>{var a=i(30341),v=i(83419),f=i(14463),h=i(95540),u=new v({Extends:a,initialize:function(d,p,l){if(l===void 0&&(l={}),this.audioBuffer=d.game.cache.audio.get(p),!this.audioBuffer)throw new Error('Audio key "'+p+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=d.context.createGain(),this.volumeNode=d.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),d.context.createPanner&&(this.spatialNode=d.context.createPanner(),this.volumeNode.connect(this.spatialNode)),d.context.createStereoPanner?(this.pannerNode=d.context.createStereoPanner(),d.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(d.destination)):d.context.createPanner?this.spatialNode.connect(d.destination):this.volumeNode.connect(d.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,a.call(this,d,p,l)},play:function(o,d){return a.prototype.play.call(this,o,d)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(f.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(f.RESUME,this),!0)},stop:function(){return a.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(f.STOP,this),!0):!1},createAndStartBufferSource:function(){var o=this.currentConfig.seek,d=this.currentConfig.delay,p=this.manager.context.currentTime+d,l=(this.currentMarker?this.currentMarker.start:0)+o,m=this.duration-o;this.playTime=p-o,this.startTime=p,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,p),Math.max(0,l),Math.max(0,m)),this.resetConfig()},createAndStartLoopBufferSource:function(){var o=this.getLoopTime(),d=this.currentMarker?this.currentMarker.start:0,p=this.duration;this.loopTime=o,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,o),Math.max(0,d),Math.max(0,p))},createBufferSource:function(){var o=this,d=this.manager.context.createBufferSource();return d.buffer=this.audioBuffer,d.connect(this.muteNode),d.onended=function(p){p.target===o.source&&(o.currentConfig.loop?o.hasLooped=!0:o.hasEnded=!0)},d},stopAndRemoveBufferSource:function(){if(this.source){var o=this.source;this.source=null,o.stop(),o.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var o=this.currentConfig.source;if(o&&this.manager.context.createPanner){var d=this.spatialNode;d.panningModel=h(o,"panningModel","equalpower"),d.distanceModel=h(o,"distanceModel","inverse"),d.orientationX.value=h(o,"orientationX",0),d.orientationY.value=h(o,"orientationY",0),d.orientationZ.value=h(o,"orientationZ",-1),d.refDistance=h(o,"refDistance",1),d.maxDistance=h(o,"maxDistance",1e4),d.rolloffFactor=h(o,"rolloffFactor",1),d.coneInnerAngle=h(o,"coneInnerAngle",360),d.coneOuterAngle=h(o,"coneOuterAngle",0),d.coneOuterGain=h(o,"coneOuterGain",0),this.spatialSource=h(o,"follow",null),this.spatialSource||(d.positionX.value=h(o,"x",0),d.positionY.value=h(o,"y",0),d.positionZ.value=h(o,"z",0))}a.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(o){this.spatialNode&&(this.spatialNode.positionX.value=o)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(o){this.spatialNode&&(this.spatialNode.positionY.value=o)}},update:function(){if(this.isPlaying&&this.spatialSource){var o=h(this.spatialSource,"x",null),d=h(this.spatialSource,"y",null);o&&o!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=o),d&&d!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=d)}this.hasEnded?(a.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(f.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(f.LOOPED,this))},destroy:function(){this.pendingRemove||(a.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){a.prototype.calculateRate.call(this);var o=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,o),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,o)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var o=0,d=0;d<this.rateUpdates.length;d++){var p=0;d<this.rateUpdates.length-1?p=this.rateUpdates[d+1].time:p=this.manager.context.currentTime-this.playTime,o+=(p-this.rateUpdates[d].time)*this.rateUpdates[d].rate}return o},getLoopTime:function(){for(var o=0,d=0;d<this.rateUpdates.length-1;d++)o+=(this.rateUpdates[d+1].time-this.rateUpdates[d].time)*this.rateUpdates[d].rate;var p=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+p.time+(this.duration-o)/p.rate},rate:{get:function(){return this.currentConfig.rate},set:function(o){this.currentConfig.rate=o,this.calculateRate(),this.emit(f.RATE,this,o)}},setRate:function(o){return this.rate=o,this},detune:{get:function(){return this.currentConfig.detune},set:function(o){this.currentConfig.detune=o,this.calculateRate(),this.emit(f.DETUNE,this,o)}},setDetune:function(o){return this.detune=o,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(o){this.currentConfig.mute=o,this.muteNode.gain.setValueAtTime(o?0:1,0),this.emit(f.MUTE,this,o)}},setMute:function(o){return this.mute=o,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(o){this.currentConfig.volume=o,this.volumeNode.gain.setValueAtTime(o,0),this.emit(f.VOLUME,this,o)}},setVolume:function(o){return this.volume=o,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(o){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.currentConfig.seek=o,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(f.SEEK,this,o))}},setSeek:function(o){return this.seek=o,this},loop:{get:function(){return this.currentConfig.loop},set:function(o){this.currentConfig.loop=o,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),o&&this.createAndStartLoopBufferSource()),this.emit(f.LOOP,this,o)}},setLoop:function(o){return this.loop=o,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(o){this.currentConfig.pan=o,this.pannerNode&&this.pannerNode.pan.setValueAtTime(o,this.manager.context.currentTime),this.emit(f.PAN,this,o)}},setPan:function(o){return this.pan=o,this}});s.exports=u},57490:(s,g,i)=>{var a=i(53134),v=i(85034),f=i(83419),h=i(14463),u=i(8443),o=i(71741),d=i(95540),p=new f({Extends:v,initialize:function(m){this.context=this.createAudioContext(m),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),v.call(this,m),this.locked&&m.isBooted?this.unlock():m.events.once(u.BOOT,this.unlock,this)},createAudioContext:function(l){var m=l.config.audio;if(m.context)return m.context.resume(),m.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(l){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=l,this.masterMuteNode=l.createGain(),this.masterVolumeNode=l.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(l.destination),this.destination=this.masterMuteNode,this},add:function(l,m){var y=new o(this,l,m);return this.sounds.push(y),y},decodeAudio:function(l,m){var y;Array.isArray(l)?y=l:y=[{key:l,data:m}];for(var x=this.game.cache.audio,b=y.length,w=0;w<y.length;w++){var C=y[w],E=C.key,T=C.data;typeof T=="string"&&(T=a(T));var k=function(R,M){x.add(R,M),this.emit(h.DECODED,R),b--,b===0&&this.emit(h.DECODED_ALL)}.bind(this,E),P=function(R,M){console.error("Error decoding audio: "+R+" - ",M?M.message:""),b--,b===0&&this.emit(h.DECODED_ALL)}.bind(this,E);this.context.decodeAudioData(T,k,P)}},setListenerPosition:function(l,m){return l===void 0&&(l=this.game.scale.width/2),m===void 0&&(m=this.game.scale.height/2),this.listenerPosition.set(l,m),this},unlock:function(){var l=this,m=document.body,y=function x(){if(l.context&&m){var b=m.removeEventListener.bind(m);l.context.resume().then(function(){b("touchstart",x),b("touchend",x),b("click",x),b("keydown",x),l.unlocked=!0},function(){b("touchstart",x),b("touchend",x),b("click",x),b("keydown",x)})}};m&&(m.addEventListener("touchstart",y,!1),m.addEventListener("touchend",y,!1),m.addEventListener("click",y,!1),m.addEventListener("keydown",y,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var l=this.context;l&&!this.locked&&(l.state==="suspended"||l.state==="interrupted")&&l.resume()},update:function(l,m){var y=this.context.listener;if(y&&y.positionX!==void 0){var x=d(this.listenerPosition,"x",null),b=d(this.listenerPosition,"y",null);x&&x!==this._spatialx&&(this._spatialx=y.positionX.value=x),b&&b!==this._spatialy&&(this._spatialy=y.positionY.value=b)}v.prototype.update.call(this,l,m),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var l=this;this.context.close().then(function(){l.context=null})}v.prototype.destroy.call(this)},setMute:function(l){return this.mute=l,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(l){this.masterMuteNode.gain.setValueAtTime(l?0:1,0),this.emit(h.GLOBAL_MUTE,this,l)}},setVolume:function(l){return this.volume=l,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(l){this.masterVolumeNode.gain.setValueAtTime(l,0),this.emit(h.GLOBAL_VOLUME,this,l)}}});s.exports=p},73162:(s,g,i)=>{var a=i(37105),v=i(83419),f=i(29747),h=i(19186),u=new v({initialize:function(d){this.parent=d,this.list=[],this.position=0,this.addCallback=f,this.removeCallback=f,this._sortKey=""},add:function(o,d){return d?a.Add(this.list,o):a.Add(this.list,o,0,this.addCallback,this)},addAt:function(o,d,p){return p?a.AddAt(this.list,o,d):a.AddAt(this.list,o,d,0,this.addCallback,this)},getAt:function(o){return this.list[o]},getIndex:function(o){return this.list.indexOf(o)},sort:function(o,d){return o?(d===void 0&&(d=function(p,l){return p[o]-l[o]}),h(this.list,d),this):this},getByName:function(o){return a.GetFirst(this.list,"name",o)},getRandom:function(o,d){return a.GetRandom(this.list,o,d)},getFirst:function(o,d,p,l){return a.GetFirst(this.list,o,d,p,l)},getAll:function(o,d,p,l){return a.GetAll(this.list,o,d,p,l)},count:function(o,d){return a.CountAllMatching(this.list,o,d)},swap:function(o,d){a.Swap(this.list,o,d)},moveTo:function(o,d){return a.MoveTo(this.list,o,d)},moveAbove:function(o,d){return a.MoveAbove(this.list,o,d)},moveBelow:function(o,d){return a.MoveBelow(this.list,o,d)},remove:function(o,d){return d?a.Remove(this.list,o):a.Remove(this.list,o,this.removeCallback,this)},removeAt:function(o,d){return d?a.RemoveAt(this.list,o):a.RemoveAt(this.list,o,this.removeCallback,this)},removeBetween:function(o,d,p){return p?a.RemoveBetween(this.list,o,d):a.RemoveBetween(this.list,o,d,this.removeCallback,this)},removeAll:function(o){for(var d=this.list.length;d--;)this.remove(this.list[d],o);return this},bringToTop:function(o){return a.BringToTop(this.list,o)},sendToBack:function(o){return a.SendToBack(this.list,o)},moveUp:function(o){return a.MoveUp(this.list,o),o},moveDown:function(o){return a.MoveDown(this.list,o),o},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(o,d){return a.Replace(this.list,o,d)},exists:function(o){return this.list.indexOf(o)>-1},setAll:function(o,d,p,l){return a.SetAll(this.list,o,d,p,l),this},each:function(o,d){for(var p=[null],l=2;l<arguments.length;l++)p.push(arguments[l]);for(l=0;l<this.list.length;l++)p[0]=this.list[l],o.apply(d,p)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});s.exports=u},90330:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h){this.entries={},this.size=0,this.setAll(h)},setAll:function(f){if(Array.isArray(f))for(var h=0;h<f.length;h++)this.set(f[h][0],f[h][1]);return this},set:function(f,h){return this.has(f)||this.size++,this.entries[f]=h,this},get:function(f){if(this.has(f))return this.entries[f]},getArray:function(){var f=[],h=this.entries;for(var u in h)f.push(h[u]);return f},has:function(f){return this.entries.hasOwnProperty(f)},delete:function(f){return this.has(f)&&(delete this.entries[f],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(f){delete this.entries[f]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var f=[],h=this.entries;for(var u in h)f.push(h[u]);return f},dump:function(){var f=this.entries;console.group("Map");for(var h in f)console.log(h,f[h]);console.groupEnd()},each:function(f){var h=this.entries;for(var u in h)if(f(u,h[u])===!1)break;return this},contains:function(f){var h=this.entries;for(var u in h)if(h[u]===f)return!0;return!1},merge:function(f,h){h===void 0&&(h=!1);var u=this.entries,o=f.entries;for(var d in o)u.hasOwnProperty(d)&&h?u[d]=o[d]:this.set(d,o[d]);return this}});s.exports=v},25774:(s,g,i)=>{var a=i(83419),v=i(50792),f=i(82348),h=new a({Extends:v,initialize:function(){v.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(u){return this._active.indexOf(u)>-1},isPending:function(u){return this._toProcess>0&&this._pending.indexOf(u)>-1},isDestroying:function(u){return this._destroy.indexOf(u)>-1},add:function(u){return this.checkQueue&&this.isActive(u)&&!this.isDestroying(u)||this.isPending(u)||(this._pending.push(u),this._toProcess++),u},remove:function(u){if(this.isPending(u)){var o=this._pending,d=o.indexOf(u);d!==-1&&o.splice(d,1)}else this.isActive(u)&&(this._destroy.push(u),this._toProcess++);return u},removeAll:function(){for(var u=this._active,o=this._destroy,d=u.length;d--;)o.push(u[d]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var u=this._destroy,o=this._active,d,p;for(d=0;d<u.length;d++){p=u[d];var l=o.indexOf(p);l!==-1&&(o.splice(l,1),this.emit(f.PROCESS_QUEUE_REMOVE,p))}for(u.length=0,u=this._pending,d=0;d<u.length;d++)p=u[d],(!this.checkQueue||this.checkQueue&&o.indexOf(p)===-1)&&(o.push(p),this.emit(f.PROCESS_QUEUE_ADD,p));return u.length=0,this._toProcess=0,o},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});s.exports=h},59542:(s,g,i)=>{var a=i(43886);function v(T){if(!(this instanceof v))return new v(T);this._maxEntries=Math.max(4,T||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}v.prototype={all:function(){return this._all(this.data,[])},search:function(T){var k=this.data,P=[],R=this.toBBox;if(!w(T,k))return P;for(var M=[],I,B,D,N;k;){for(I=0,B=k.children.length;I<B;I++)D=k.children[I],N=k.leaf?R(D):D,w(T,N)&&(k.leaf?P.push(D):b(T,N)?this._all(D,P):M.push(D));k=M.pop()}return P},collides:function(T){var k=this.data,P=this.toBBox;if(!w(T,k))return!1;for(var R=[],M,I,B,D;k;){for(M=0,I=k.children.length;M<I;M++)if(B=k.children[M],D=k.leaf?P(B):B,w(T,D)){if(k.leaf||b(T,D))return!0;R.push(B)}k=R.pop()}return!1},load:function(T){if(!(T&&T.length))return this;if(T.length<this._minEntries){for(var k=0,P=T.length;k<P;k++)this.insert(T[k]);return this}var R=this._build(T.slice(),0,T.length-1,0);if(!this.data.children.length)this.data=R;else if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var M=this.data;this.data=R,R=M}this._insert(R,this.data.height-R.height-1,!0)}return this},insert:function(T){return T&&this._insert(T,this.data.height-1),this},clear:function(){return this.data=C([]),this},remove:function(T,k){if(!T)return this;for(var P=this.data,R=this.toBBox(T),M=[],I=[],B,D,N,_;P||M.length;){if(P||(P=M.pop(),D=M[M.length-1],B=I.pop(),_=!0),P.leaf&&(N=f(T,P.children,k),N!==-1))return P.children.splice(N,1),M.push(P),this._condense(M),this;!_&&!P.leaf&&b(P,R)?(M.push(P),I.push(B),B=0,D=P,P=P.children[0]):D?(B++,P=D.children[B],_=!1):P=null}return this},toBBox:function(T){return T},compareMinX:d,compareMinY:p,toJSON:function(){return this.data},fromJSON:function(T){return this.data=T,this},_all:function(T,k){for(var P=[];T;)T.leaf?k.push.apply(k,T.children):P.push.apply(P,T.children),T=P.pop();return k},_build:function(T,k,P,R){var M=P-k+1,I=this._maxEntries,B;if(M<=I)return B=C(T.slice(k,P+1)),h(B,this.toBBox),B;R||(R=Math.ceil(Math.log(M)/Math.log(I)),I=Math.ceil(M/Math.pow(I,R-1))),B=C([]),B.leaf=!1,B.height=R;var D=Math.ceil(M/I),N=D*Math.ceil(Math.sqrt(I)),_,G,$,V;for(E(T,k,P,N,this.compareMinX),_=k;_<=P;_+=N)for($=Math.min(_+N-1,P),E(T,_,$,D,this.compareMinY),G=_;G<=$;G+=D)V=Math.min(G+D-1,$),B.children.push(this._build(T,G,V,R-1));return h(B,this.toBBox),B},_chooseSubtree:function(T,k,P,R){for(var M,I,B,D,N,_,G,$;R.push(k),!(k.leaf||R.length-1===P);){for(G=$=1/0,M=0,I=k.children.length;M<I;M++)B=k.children[M],N=l(B),_=y(T,B)-N,_<$?($=_,G=N<G?N:G,D=B):_===$&&N<G&&(G=N,D=B);k=D||k.children[0]}return k},_insert:function(T,k,P){var R=this.toBBox,M=P?T:R(T),I=[],B=this._chooseSubtree(M,this.data,k,I);for(B.children.push(T),o(B,M);k>=0&&I[k].children.length>this._maxEntries;)this._split(I,k),k--;this._adjustParentBBoxes(M,I,k)},_split:function(T,k){var P=T[k],R=P.children.length,M=this._minEntries;this._chooseSplitAxis(P,M,R);var I=this._chooseSplitIndex(P,M,R),B=C(P.children.splice(I,P.children.length-I));B.height=P.height,B.leaf=P.leaf,h(P,this.toBBox),h(B,this.toBBox),k?T[k-1].children.push(B):this._splitRoot(P,B)},_splitRoot:function(T,k){this.data=C([T,k]),this.data.height=T.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(T,k,P){var R,M,I,B,D,N,_,G;for(N=_=1/0,R=k;R<=P-k;R++)M=u(T,0,R,this.toBBox),I=u(T,R,P,this.toBBox),B=x(M,I),D=l(M)+l(I),B<N?(N=B,G=R,_=D<_?D:_):B===N&&D<_&&(_=D,G=R);return G},_chooseSplitAxis:function(T,k,P){var R=T.leaf?this.compareMinX:d,M=T.leaf?this.compareMinY:p,I=this._allDistMargin(T,k,P,R),B=this._allDistMargin(T,k,P,M);I<B&&T.children.sort(R)},_allDistMargin:function(T,k,P,R){T.children.sort(R);var M=this.toBBox,I=u(T,0,k,M),B=u(T,P-k,P,M),D=m(I)+m(B),N,_;for(N=k;N<P-k;N++)_=T.children[N],o(I,T.leaf?M(_):_),D+=m(I);for(N=P-k-1;N>=k;N--)_=T.children[N],o(B,T.leaf?M(_):_),D+=m(B);return D},_adjustParentBBoxes:function(T,k,P){for(var R=P;R>=0;R--)o(k[R],T)},_condense:function(T){for(var k=T.length-1,P;k>=0;k--)T[k].children.length===0?k>0?(P=T[k-1].children,P.splice(P.indexOf(T[k]),1)):this.clear():h(T[k],this.toBBox)},compareMinX:function(T,k){return T.left-k.left},compareMinY:function(T,k){return T.top-k.top},toBBox:function(T){return{minX:T.left,minY:T.top,maxX:T.right,maxY:T.bottom}}};function f(T,k,P){if(!P)return k.indexOf(T);for(var R=0;R<k.length;R++)if(P(T,k[R]))return R;return-1}function h(T,k){u(T,0,T.children.length,k,T)}function u(T,k,P,R,M){M||(M=C(null)),M.minX=1/0,M.minY=1/0,M.maxX=-1/0,M.maxY=-1/0;for(var I=k,B;I<P;I++)B=T.children[I],o(M,T.leaf?R(B):B);return M}function o(T,k){return T.minX=Math.min(T.minX,k.minX),T.minY=Math.min(T.minY,k.minY),T.maxX=Math.max(T.maxX,k.maxX),T.maxY=Math.max(T.maxY,k.maxY),T}function d(T,k){return T.minX-k.minX}function p(T,k){return T.minY-k.minY}function l(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function m(T){return T.maxX-T.minX+(T.maxY-T.minY)}function y(T,k){return(Math.max(k.maxX,T.maxX)-Math.min(k.minX,T.minX))*(Math.max(k.maxY,T.maxY)-Math.min(k.minY,T.minY))}function x(T,k){var P=Math.max(T.minX,k.minX),R=Math.max(T.minY,k.minY),M=Math.min(T.maxX,k.maxX),I=Math.min(T.maxY,k.maxY);return Math.max(0,M-P)*Math.max(0,I-R)}function b(T,k){return T.minX<=k.minX&&T.minY<=k.minY&&k.maxX<=T.maxX&&k.maxY<=T.maxY}function w(T,k){return k.minX<=T.maxX&&k.minY<=T.maxY&&k.maxX>=T.minX&&k.maxY>=T.minY}function C(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function E(T,k,P,R,M){for(var I=[k,P],B;I.length;)P=I.pop(),k=I.pop(),!(P-k<=R)&&(B=k+Math.ceil((P-k)/R/2)*R,a(T,B,k,P,M),I.push(k,B,B,P))}s.exports=v},35072:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h){if(this.entries=[],Array.isArray(h))for(var u=0;u<h.length;u++)this.set(h[u])},set:function(f){return this.entries.indexOf(f)===-1&&this.entries.push(f),this},get:function(f,h){for(var u=0;u<this.entries.length;u++){var o=this.entries[u];if(o[f]===h)return o}},getArray:function(){return this.entries.slice(0)},delete:function(f){var h=this.entries.indexOf(f);return h>-1&&this.entries.splice(h,1),this},dump:function(){console.group("Set");for(var f=0;f<this.entries.length;f++){var h=this.entries[f];console.log(h)}console.groupEnd()},each:function(f,h){var u,o=this.entries.slice(),d=o.length;if(h)for(u=0;u<d&&f.call(h,o[u],u)!==!1;u++);else for(u=0;u<d&&f(o[u],u)!==!1;u++);return this},iterate:function(f,h){var u,o=this.entries.length;if(h)for(u=0;u<o&&f.call(h,this.entries[u],u)!==!1;u++);else for(u=0;u<o&&f(this.entries[u],u)!==!1;u++);return this},iterateLocal:function(f){var h,u=[];for(h=1;h<arguments.length;h++)u.push(arguments[h]);var o=this.entries.length;for(h=0;h<o;h++){var d=this.entries[h];d[f].apply(d,u)}return this},clear:function(){return this.entries.length=0,this},contains:function(f){return this.entries.indexOf(f)>-1},union:function(f){var h=new v;return f.entries.forEach(function(u){h.set(u)}),this.entries.forEach(function(u){h.set(u)}),h},intersect:function(f){var h=new v;return this.entries.forEach(function(u){f.contains(u)&&h.set(u)}),h},difference:function(f){var h=new v;return this.entries.forEach(function(u){f.contains(u)||h.set(u)}),h},size:{get:function(){return this.entries.length},set:function(f){return f<this.entries.length?this.entries.length=f:this.entries.length}}});s.exports=v},86555:(s,g,i)=>{var a=i(45319),v=i(83419),f=i(56583),h=i(26099),u=new v({initialize:function(d,p,l,m){d===void 0&&(d=0),p===void 0&&(p=d),l===void 0&&(l=0),m===void 0&&(m=null),this._width=d,this._height=p,this._parent=m,this.aspectMode=l,this.aspectRatio=p===0?1:d/p,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new h},setAspectMode:function(o){return o===void 0&&(o=0),this.aspectMode=o,this.setSize(this._width,this._height)},setSnap:function(o,d){return o===void 0&&(o=0),d===void 0&&(d=o),this.snapTo.set(o,d),this.setSize(this._width,this._height)},setParent:function(o){return this._parent=o,this.setSize(this._width,this._height)},setMin:function(o,d){return o===void 0&&(o=0),d===void 0&&(d=o),this.minWidth=a(o,0,this.maxWidth),this.minHeight=a(d,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(o,d){return o===void 0&&(o=Number.MAX_VALUE),d===void 0&&(d=o),this.maxWidth=a(o,this.minWidth,Number.MAX_VALUE),this.maxHeight=a(d,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(o,d){switch(o===void 0&&(o=0),d===void 0&&(d=o),this.aspectMode){case u.NONE:this._width=this.getNewWidth(f(o,this.snapTo.x)),this._height=this.getNewHeight(f(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case u.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(f(o,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case u.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(f(d,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case u.FIT:this.constrain(o,d,!0);break;case u.ENVELOP:this.constrain(o,d,!1);break}return this},setAspectRatio:function(o){return this.aspectRatio=o,this.setSize(this._width,this._height)},resize:function(o,d){return this._width=this.getNewWidth(f(o,this.snapTo.x)),this._height=this.getNewHeight(f(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(o,d){return d===void 0&&(d=!0),o=a(o,this.minWidth,this.maxWidth),d&&this._parent&&o>this._parent.width&&(o=Math.max(this.minWidth,this._parent.width)),o},getNewHeight:function(o,d){return d===void 0&&(d=!0),o=a(o,this.minHeight,this.maxHeight),d&&this._parent&&o>this._parent.height&&(o=Math.max(this.minHeight,this._parent.height)),o},constrain:function(o,d,p){o===void 0&&(o=0),d===void 0&&(d=o),p===void 0&&(p=!0),o=this.getNewWidth(o),d=this.getNewHeight(d);var l=this.snapTo,m=d===0?1:o/d;return p&&this.aspectRatio>m||!p&&this.aspectRatio<m?(o=f(o,l.x),d=o/this.aspectRatio,l.y>0&&(d=f(d,l.y),o=d*this.aspectRatio)):(p&&this.aspectRatio<m||!p&&this.aspectRatio>m)&&(d=f(d,l.y),o=d*this.aspectRatio,l.x>0&&(o=f(o,l.x),d=o*(1/this.aspectRatio))),this._width=o,this._height=d,this},fitTo:function(o,d){return this.constrain(o,d,!0)},envelop:function(o,d){return this.constrain(o,d,!1)},setWidth:function(o){return this.setSize(o,this._height)},setHeight:function(o){return this.setSize(this._width,o)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(o){o&&o.style&&(o.style.width=this._width+"px",o.style.height=this._height+"px")},copy:function(o){return o.setAspectMode(this.aspectMode),o.aspectRatio=this.aspectRatio,o.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(o){this.setSize(o,this._height)}},height:{get:function(){return this._height},set:function(o){this.setSize(this._width,o)}}});u.NONE=0,u.WIDTH_CONTROLS_HEIGHT=1,u.HEIGHT_CONTROLS_WIDTH=2,u.FIT=3,u.ENVELOP=4,s.exports=u},15238:s=>{s.exports="add"},56187:s=>{s.exports="remove"},82348:(s,g,i)=>{s.exports={PROCESS_QUEUE_ADD:i(15238),PROCESS_QUEUE_REMOVE:i(56187)}},41392:(s,g,i)=>{s.exports={Events:i(82348),List:i(73162),Map:i(90330),ProcessQueue:i(25774),RTree:i(59542),Set:i(35072),Size:i(86555)}},57382:(s,g,i)=>{var a=i(83419),v=i(45319),f=i(40987),h=i(8054),u=i(50030),o=i(79237),d=new a({Extends:o,initialize:function(l,m,y,x,b){o.call(this,l,m,y,x,b),this.add("__BASE",0,0,0,x,b),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=x,this.height=b,this.imageData=this.context.getImageData(0,0,x,b),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===h.WEBGL&&this.refresh(),this},draw:function(p,l,m,y){return y===void 0&&(y=!0),this.context.drawImage(m,p,l),y&&this.update(),this},drawFrame:function(p,l,m,y,x){m===void 0&&(m=0),y===void 0&&(y=0),x===void 0&&(x=!0);var b=this.manager.getFrame(p,l);if(b){var w=b.canvasData,C=b.cutWidth,E=b.cutHeight,T=b.source.resolution;this.context.drawImage(b.source.image,w.x,w.y,C,E,m,y,C/T,E/T),x&&this.update()}return this},setPixel:function(p,l,m,y,x,b){b===void 0&&(b=255),p=Math.abs(Math.floor(p)),l=Math.abs(Math.floor(l));var w=this.getIndex(p,l);if(w>-1){var C=this.context.getImageData(p,l,1,1);C.data[0]=m,C.data[1]=y,C.data[2]=x,C.data[3]=b,this.context.putImageData(C,p,l)}return this},putData:function(p,l,m,y,x,b,w){return y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=p.width),w===void 0&&(w=p.height),this.context.putImageData(p,l,m,y,x,b,w),this},getData:function(p,l,m,y){p=v(Math.floor(p),0,this.width-1),l=v(Math.floor(l),0,this.height-1),m=v(m,1,this.width-p),y=v(y,1,this.height-l);var x=this.context.getImageData(p,l,m,y);return x},getPixel:function(p,l,m){m||(m=new f);var y=this.getIndex(p,l);if(y>-1){var x=this.data,b=x[y+0],w=x[y+1],C=x[y+2],E=x[y+3];m.setTo(b,w,C,E)}return m},getPixels:function(p,l,m,y){p===void 0&&(p=0),l===void 0&&(l=0),m===void 0&&(m=this.width),y===void 0&&(y=m),p=Math.abs(Math.round(p)),l=Math.abs(Math.round(l));for(var x=v(p,0,this.width),b=v(p+m,0,this.width),w=v(l,0,this.height),C=v(l+y,0,this.height),E=new f,T=[],k=w;k<C;k++){for(var P=[],R=x;R<b;R++)E=this.getPixel(R,k,E),P.push({x:R,y:k,color:E.color,alpha:E.alphaGL});T.push(P)}return T},getIndex:function(p,l){return p=Math.abs(Math.round(p)),l=Math.abs(Math.round(l)),p<this.width&&l<this.height?(p+l*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(p,l,m,y,x){return p===void 0&&(p=0),l===void 0&&(l=0),m===void 0&&(m=this.width),y===void 0&&(y=this.height),x===void 0&&(x=!0),this.context.clearRect(p,l,m,y),x&&this.update(),this},setSize:function(p,l){return l===void 0&&(l=p),(p!==this.width||l!==this.height)&&(this.canvas.width=p,this.canvas.height=l,this._source.width=p,this._source.height=l,this._source.isPowerOf2=u(p,l),this.frames.__BASE.setSize(p,l,0,0),this.width=p,this.height=l,this.refresh()),this},destroy:function(){o.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});s.exports=d},81320:(s,g,i)=>{var a=i(10312),v=i(71911),f=i(27919),h=i(83419),u=i(8054),o=i(4327),d=i(95540),p=i(36060),l=i(32302),m=i(79237),y=i(70554),x=new h({Extends:m,initialize:function(w,C,E,T){E===void 0&&(E=256),T===void 0&&(T=256),this.type="DynamicTexture";var k=w.game.renderer,P=k&&k.type===u.CANVAS,R=P?f.create2D(this,E,T):[this];m.call(this,w,C,R,E,T),this.add("__BASE",0,0,0,E,T),this.renderer=k,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=P?R:null,this.context=P?R.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new v(0,0,E,T).setScene(w.game.scene.systemScene,!1),this.renderTarget=P?null:new l(k,E,T,1,0,!1,!0,!0,!1),this.pipeline=P?null:k.pipelines.get(p.SINGLE_PIPELINE),this.setSize(E,T)},setSize:function(b,w){w===void 0&&(w=b);var C=this.get(),E=C.source;if(b!==this.width||w!==this.height){this.canvas&&(this.canvas.width=b,this.canvas.height=w);var T=this.renderTarget;T&&(T.willResize(b,w)&&T.resize(b,w),T.texture!==E.glTexture&&this.renderer.deleteTexture(E.glTexture),this.setFromRenderTarget()),this.camera.setSize(b,w),E.width=b,E.height=w,C.setSize(b,w),this.width=b,this.height=w}else{var k=this.getSourceImage();C.cutX+b>k.width&&(b=k.width-C.cutX),C.cutY+w>k.height&&(w=k.height-C.cutY),C.setSize(b,w,C.cutX,C.cutY)}return this},setFromRenderTarget:function(){var b=this.get(),w=b.source,C=this.renderTarget;return w.isRenderTexture=!0,w.isGLTexture=!0,w.glTexture=C.texture,this},setIsSpriteTexture:function(b){return this.isSpriteTexture=b,this},fill:function(b,w,C,E,T,k){var P=this.camera,R=this.renderer;w===void 0&&(w=1),C===void 0&&(C=0),E===void 0&&(E=0),T===void 0&&(T=this.width),k===void 0&&(k=this.height);var M=b>>16&255,I=b>>8&255,B=b&255,D=this.renderTarget;if(P.preRender(),D){D.bind(!0);var N=this.pipeline.manager.set(this.pipeline),_=R.width/D.width,G=R.height/D.height,$=D.height-(E+k);N.drawFillRect(C*_,$*G,T*_,k*G,y.getTintFromFloats(B/255,I/255,M/255,1),w),D.unbind(!0)}else{var V=this.context;R.setContext(V),V.globalCompositeOperation="source-over",V.fillStyle="rgba("+M+","+I+","+B+","+w+")",V.fillRect(C,E,T,k),R.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var b=this.context,w=this.renderTarget;w?w.clear():b&&(b.save(),b.setTransform(1,0,0,1,0,0),b.clearRect(0,0,this.width,this.height),b.restore()),this.dirty=!1}return this},stamp:function(b,w,C,E,T){C===void 0&&(C=0),E===void 0&&(E=0);var k=d(T,"alpha",1),P=d(T,"tint",16777215),R=d(T,"angle",0),M=d(T,"rotation",0),I=d(T,"scale",1),B=d(T,"scaleX",I),D=d(T,"scaleY",I),N=d(T,"originX",.5),_=d(T,"originY",.5),G=d(T,"blendMode",0),$=d(T,"erase",!1),V=d(T,"skipBatch",!1),Y=this.manager.resetStamp(k,P);return Y.setAngle(0),R!==0?Y.setAngle(R):M!==0&&Y.setRotation(M),Y.setScale(B,D),Y.setTexture(b,w),Y.setOrigin(N,_),Y.setBlendMode(G),$&&(this._eraseMode=!0),V?this.batchGameObject(Y,C,E):this.draw(Y,C,E),$&&(this._eraseMode=!1),this},erase:function(b,w,C){return this._eraseMode=!0,this.draw(b,w,C),this._eraseMode=!1,this},draw:function(b,w,C,E,T){return this.beginDraw(),this.batchDraw(b,w,C,E,T),this.endDraw(),this},drawFrame:function(b,w,C,E,T,k){return this.beginDraw(),this.batchDrawFrame(b,w,C,E,T,k),this.endDraw(),this},repeat:function(b,w,C,E,T,k,P,R,M){if(C===void 0&&(C=0),E===void 0&&(E=0),T===void 0&&(T=this.width),k===void 0&&(k=this.height),P===void 0&&(P=1),R===void 0&&(R=16777215),M===void 0&&(M=!1),b instanceof o?w=b:w=this.manager.getFrame(b,w),!w)return this;var I=this.manager.resetStamp(P,R);I.setFrame(w),I.setOrigin(0);var B=w.width,D=w.height;T=Math.floor(T),k=Math.floor(k);var N=Math.ceil(T/B),_=Math.ceil(k/D),G=N*B-T,$=_*D-k;G>0&&(G=B-G),$>0&&($=D-$),C<0&&(N+=Math.ceil(Math.abs(C)/B)),E<0&&(_+=Math.ceil(Math.abs(E)/D));var V=C,Y=E,U=!1,F=this.manager.stampCrop.setTo(0,0,B,D);M||this.beginDraw();for(var O=0;O<_;O++){if(Y+D<0){Y+=D;continue}for(var j=0;j<N;j++){if(U=!1,V+B<0){V+=B;continue}else V<0&&(U=!0,F.width=B+V,F.x=B-F.width);Y<0&&(U=!0,F.height=D+Y,F.y=D-F.height),G>0&&j===N-1&&(U=!0,F.width=G),$>0&&O===_-1&&(U=!0,F.height=$),U&&I.setCrop(F),this.batchGameObject(I,V,Y),I.isCropped=!1,F.setTo(0,0,B,D),V+=B}V=C,Y+=D}return M||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var b=this.camera,w=this.renderer,C=this.renderTarget;b.preRender(),C?w.beginCapture(C.width,C.height):w.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(b,w,C,E,T){return Array.isArray(b)||(b=[b]),this.batchList(b,w,C,E,T),this},batchDrawFrame:function(b,w,C,E,T,k){C===void 0&&(C=0),E===void 0&&(E=0),T===void 0&&(T=1),k===void 0&&(k=16777215);var P=this.manager.getFrame(b,w);return P&&(this.renderTarget?this.pipeline.batchTextureFrame(P,C,E,k,T,this.camera.matrix,null):this.batchTextureFrame(P,C,E,T,k)),this},endDraw:function(b){if(b===void 0&&(b=this._eraseMode),this.isDrawing){var w=this.renderer,C=this.renderTarget;if(C){var E=w.endCapture(),T=w.pipelines.setUtility();T.blitFrame(E,C,1,!1,!1,b,this.isSpriteTexture),w.resetScissor(),w.resetViewport()}else w.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(b,w,C,E,T){var k=b.length;if(k!==0)for(var P=0;P<k;P++){var R=b[P];!R||R===this||(R.renderWebGL||R.renderCanvas?this.batchGameObject(R,w,C):R.isParent||R.list?this.batchGroup(R.getChildren(),w,C):typeof R=="string"?this.batchTextureFrameKey(R,null,w,C,E,T):R instanceof o?this.batchTextureFrame(R,w,C,E,T):Array.isArray(R)&&this.batchList(R,w,C,E,T))}},batchGroup:function(b,w,C){w===void 0&&(w=0),C===void 0&&(C=0);for(var E=0;E<b.length;E++){var T=b[E];T.willRender(this.camera)&&this.batchGameObject(T,T.x+w,T.y+C)}},batchGameObject:function(b,w,C){w===void 0&&(w=b.x),C===void 0&&(C=b.y);var E=b.x,T=b.y,k=this.camera,P=this.renderer,R=this._eraseMode,M=b.mask;if(b.setPosition(w,C),this.canvas){if(R){var I=b.blendMode;b.blendMode=a.ERASE}M&&M.preRenderCanvas(P,b,k),b.renderCanvas(P,b,k,null),M&&M.postRenderCanvas(P,b,k),R&&(b.blendMode=I)}else P&&(M&&M.preRenderWebGL(P,b,k),R||P.setBlendMode(b.blendMode),b.renderWebGL(P,b,k),M&&M.postRenderWebGL(P,k,this.renderTarget));b.setPosition(E,T)},batchTextureFrameKey:function(b,w,C,E,T,k){var P=this.manager.getFrame(b,w);P&&this.batchTextureFrame(P,C,E,T,k)},batchTextureFrame:function(b,w,C,E,T){w===void 0&&(w=0),C===void 0&&(C=0),E===void 0&&(E=1),T===void 0&&(T=16777215);var k=this.camera.matrix,P=this.renderTarget;if(P)this.pipeline.batchTextureFrame(b,w,C,T,E,k,null);else{var R=this.context,M=b.canvasData,I=b.source.image;R.save(),R.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",R.globalAlpha=E,k.setToContext(R),M.width>0&&M.height>0&&R.drawImage(I,M.x,M.y,M.width,M.height,w,C,M.width,M.height),R.restore()}},snapshotArea:function(b,w,C,E,T,k,P){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,T,!1,b,w,C,E,k,P):this.renderer.snapshotCanvas(this.canvas,T,!1,b,w,C,E,k,P),this},snapshot:function(b,w,C){return this.snapshotArea(0,0,this.width,this.height,b,w,C)},snapshotPixel:function(b,w,C){return this.snapshotArea(b,w,1,1,C,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(b,w,C,E){var T=this.manager.resetStamp();T.setTexture(this),T.setOrigin(0),T.renderWebGL(b,T,C,E)},renderCanvas:function(){},destroy:function(){var b=this.manager.stamp;b&&b.texture===this&&this.manager.resetStamp(),m.prototype.destroy.call(this),f.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});s.exports=x},4327:(s,g,i)=>{var a=i(83419),v=i(45319),f=i(79291),h=new a({initialize:function(o,d,p,l,m,y,x){this.texture=o,this.name=d,this.source=o.source[p],this.sourceIndex=p,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(y,x,l,m)},setSize:function(u,o,d,p){d===void 0&&(d=0),p===void 0&&(p=0),this.cutX=d,this.cutY=p,this.cutWidth=u,this.cutHeight=o,this.width=u,this.height=o,this.halfWidth=Math.floor(u*.5),this.halfHeight=Math.floor(o*.5),this.centerX=Math.floor(u/2),this.centerY=Math.floor(o/2);var l=this.data,m=l.cut;m.x=d,m.y=p,m.w=u,m.h=o,m.r=d+u,m.b=p+o,l.sourceSize.w=u,l.sourceSize.h=o,l.spriteSourceSize.w=u,l.spriteSourceSize.h=o,l.radius=.5*Math.sqrt(u*u+o*o);var y=l.drawImage;return y.x=d,y.y=p,y.width=u,y.height=o,this.updateUVs()},setTrim:function(u,o,d,p,l,m){var y=this.data,x=y.spriteSourceSize;return y.trim=!0,y.sourceSize.w=u,y.sourceSize.h=o,x.x=d,x.y=p,x.w=l,x.h=m,x.r=d+l,x.b=p+m,this.x=d,this.y=p,this.width=l,this.height=m,this.halfWidth=l*.5,this.halfHeight=m*.5,this.centerX=Math.floor(l/2),this.centerY=Math.floor(m/2),this.updateUVs()},setScale9:function(u,o,d,p){var l=this.data;return l.scale9=!0,l.is3Slice=o===0&&p===this.height,l.scale9Borders.x=u,l.scale9Borders.y=o,l.scale9Borders.w=d,l.scale9Borders.h=p,this},setCropUVs:function(u,o,d,p,l,m,y){var x=this.cutX,b=this.cutY,w=this.cutWidth,C=this.cutHeight,E=this.realWidth,T=this.realHeight;o=v(o,0,E),d=v(d,0,T),p=v(p,0,E-o),l=v(l,0,T-d);var k=x+o,P=b+d,R=p,M=l,I=this.data;if(I.trim){var B=I.spriteSourceSize;p=v(p,0,w-o),l=v(l,0,C-d);var D=o+p,N=d+l,_=!(B.r<o||B.b<d||B.x>D||B.y>N);if(_){var G=Math.max(B.x,o),$=Math.max(B.y,d),V=Math.min(B.r,D)-G,Y=Math.min(B.b,N)-$;R=V,M=Y,m?k=x+(w-(G-B.x)-V):k=x+(G-B.x),y?P=b+(C-($-B.y)-Y):P=b+($-B.y),o=G,d=$,p=V,l=Y}else k=0,P=0,R=0,M=0}else m&&(k=x+(w-o-p)),y&&(P=b+(C-d-l));var U=this.source.width,F=this.source.height;return u.u0=Math.max(0,k/U),u.v0=Math.max(0,P/F),u.u1=Math.min(1,(k+R)/U),u.v1=Math.min(1,(P+M)/F),u.x=o,u.y=d,u.cx=k,u.cy=P,u.cw=R,u.ch=M,u.width=p,u.height=l,u.flipX=m,u.flipY=y,u},updateCropUVs:function(u,o,d){return this.setCropUVs(u,u.x,u.y,u.width,u.height,o,d)},setUVs:function(u,o,d,p,l,m){var y=this.data.drawImage;return y.width=u,y.height=o,this.u0=d,this.v0=p,this.u1=l,this.v1=m,this},updateUVs:function(){var u=this.cutX,o=this.cutY,d=this.cutWidth,p=this.cutHeight,l=this.data.drawImage;l.width=d,l.height=p;var m=this.source.width,y=this.source.height;return this.u0=u/m,this.v0=o/y,this.u1=(u+d)/m,this.v1=(o+p)/y,this},updateUVsInverted:function(){var u=this.source.width,o=this.source.height;return this.u0=(this.cutX+this.cutHeight)/u,this.v0=this.cutY/o,this.u1=this.cutX/u,this.v1=(this.cutY+this.cutWidth)/o,this},clone:function(){var u=new h(this.texture,this.name,this.sourceIndex);return u.cutX=this.cutX,u.cutY=this.cutY,u.cutWidth=this.cutWidth,u.cutHeight=this.cutHeight,u.x=this.x,u.y=this.y,u.width=this.width,u.height=this.height,u.halfWidth=this.halfWidth,u.halfHeight=this.halfHeight,u.centerX=this.centerX,u.centerY=this.centerY,u.rotated=this.rotated,u.data=f(!0,u.data,this.data),u.updateUVs(),u},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});s.exports=h},79237:(s,g,i)=>{var a=i(83419),v=i(4327),f=i(11876),h='Texture "%s" has no frame "%s"',u=new a({initialize:function(d,p,l,m,y){Array.isArray(l)||(l=[l]),this.manager=d,this.key=p,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var x=0;x<l.length;x++)this.source.push(new f(this,l[x],m,y))},add:function(o,d,p,l,m,y){if(this.has(o))return null;var x=new v(this,o,d,p,l,m,y);return this.frames[o]=x,this.firstFrame==="__BASE"&&(this.firstFrame=o),this.frameTotal++,x},remove:function(o){if(this.has(o)){var d=this.get(o);return d.destroy(),delete this.frames[o],!0}return!1},has:function(o){return this.frames.hasOwnProperty(o)},get:function(o){o||(o=this.firstFrame);var d=this.frames[o];return d||(console.warn(h,this.key,o),d=this.frames[this.firstFrame]),d},getTextureSourceIndex:function(o){for(var d=0;d<this.source.length;d++)if(this.source[d]===o)return d;return-1},getFramesFromTextureSource:function(o,d){d===void 0&&(d=!1);var p=[];for(var l in this.frames)if(!(l==="__BASE"&&!d)){var m=this.frames[l];m.sourceIndex===o&&p.push(m)}return p},getFrameBounds:function(o){o===void 0&&(o=0);for(var d=this.getFramesFromTextureSource(o),p=1/0,l=1/0,m=0,y=0,x=0;x<d.length;x++){var b=d[x];b.cutX<p&&(p=b.cutX),b.cutY<l&&(l=b.cutY),b.cutX+b.cutWidth>m&&(m=b.cutX+b.cutWidth),b.cutY+b.cutHeight>y&&(y=b.cutY+b.cutHeight)}return{x:p,y:l,width:m-p,height:y-l}},getFrameNames:function(o){o===void 0&&(o=!1);var d=Object.keys(this.frames);if(!o){var p=d.indexOf("__BASE");p!==-1&&d.splice(p,1)}return d},getSourceImage:function(o){(o==null||this.frameTotal===1)&&(o="__BASE");var d=this.frames[o];return d?d.source.image:(console.warn(h,this.key,o),this.frames.__BASE.source.image)},getDataSourceImage:function(o){(o==null||this.frameTotal===1)&&(o="__BASE");var d=this.frames[o],p;return d?p=d.sourceIndex:(console.warn(h,this.key,o),p=this.frames.__BASE.sourceIndex),this.dataSource[p].image},setDataSource:function(o){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++){var p=this.source[d];this.dataSource.push(new f(this,o[d],p.width,p.height))}},setFilter:function(o){var d;for(d=0;d<this.source.length;d++)this.source[d].setFilter(o);for(d=0;d<this.dataSource.length;d++)this.dataSource[d].setFilter(o)},destroy:function(){var o,d=this.source,p=this.dataSource;for(o=0;o<d.length;o++)d[o]&&d[o].destroy();for(o=0;o<p.length;o++)p[o]&&p[o].destroy();for(var l in this.frames){var m=this.frames[l];m&&m.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});s.exports=u},17130:(s,g,i)=>{var a=i(27919),v=i(57382),f=i(83419),h=i(40987),u=i(8054),o=i(81320),d=i(50792),p=i(69442),l=i(4327),m=i(8443),y=i(99584),x=i(35154),b=i(88571),w=i(41212),C=i(61309),E=i(87841),T=i(79237),k=new f({Extends:d,initialize:function(R){d.call(this),this.game=R,this.name="TextureManager",this.list={},this._tempCanvas=a.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new E,this.silentWarnings=!1,R.events.once(m.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(p.LOAD,this.updatePending,this),this.on(p.ERROR,this.updatePending,this);var P=this.game.config;this.addBase64("__DEFAULT",P.defaultImage),this.addBase64("__MISSING",P.missingImage),this.addBase64("__WHITE",P.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(m.DESTROY,this.destroy,this),this.game.events.once(m.SYSTEM_READY,function(R){this.stamp=new b(R).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(p.LOAD),this.off(p.ERROR),this.emit(p.READY))},checkKey:function(P){return this.exists(P)?(this.silentWarnings||console.error("Texture key already in use: "+P),!1):!0},remove:function(P){if(typeof P=="string")if(this.exists(P))P=this.get(P);else return this.silentWarnings||console.warn("No texture found matching key: "+P),this;var R=P.key;return this.list.hasOwnProperty(R)&&(P.destroy(),this.emit(p.REMOVE,R),this.emit(p.REMOVE_KEY+R)),this},removeKey:function(P){return this.list.hasOwnProperty(P)&&delete this.list[P],this},addBase64:function(P,R){if(this.checkKey(P)){var M=this,I=new Image;I.onerror=function(){M.emit(p.ERROR,P)},I.onload=function(){var B=M.create(P,I);C.Image(B,0),M.emit(p.ADD,P,B),M.emit(p.ADD_KEY+P,B),M.emit(p.LOAD,P,B)},I.src=R}return this},getBase64:function(P,R,M,I){M===void 0&&(M="image/png"),I===void 0&&(I=.92);var B="",D=this.getFrame(P,R);if(D&&(D.source.isRenderTexture||D.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(D){var N=D.canvasData,_=a.create2D(this,N.width,N.height),G=_.getContext("2d",{willReadFrequently:!0});N.width>0&&N.height>0&&G.drawImage(D.source.image,N.x,N.y,N.width,N.height,0,0,N.width,N.height),B=_.toDataURL(M,I),a.remove(_)}return B},addImage:function(P,R,M){var I=null;return this.checkKey(P)&&(I=this.create(P,R),C.Image(I,0),M&&I.setDataSource(M),this.emit(p.ADD,P,I),this.emit(p.ADD_KEY+P,I)),I},addGLTexture:function(P,R){var M=null;if(this.checkKey(P)){var I=R.width,B=R.height;M=this.create(P,R,I,B),M.add("__BASE",0,0,0,I,B),this.emit(p.ADD,P,M),this.emit(p.ADD_KEY+P,M)}return M},addCompressedTexture:function(P,R,M){var I=null;if(this.checkKey(P)){if(I=this.create(P,R),I.add("__BASE",0,0,0,R.width,R.height),M){var B=function(N,_,G){Array.isArray(G.textures)||Array.isArray(G.frames)?C.JSONArray(N,_,G):C.JSONHash(N,_,G)};if(Array.isArray(M))for(var D=0;D<M.length;D++)B(I,D,M[D]);else B(I,0,M)}this.emit(p.ADD,P,I),this.emit(p.ADD_KEY+P,I)}return I},addRenderTexture:function(P,R){var M=null;return this.checkKey(P)&&(M=this.create(P,R),M.add("__BASE",0,0,0,R.width,R.height),this.emit(p.ADD,P,M),this.emit(p.ADD_KEY+P,M)),M},generate:function(P,R){if(this.checkKey(P)){var M=a.create(this,1,1);return R.canvas=M,y(R),this.addCanvas(P,M)}else return null},createCanvas:function(P,R,M){if(R===void 0&&(R=256),M===void 0&&(M=256),this.checkKey(P)){var I=a.create(this,R,M,u.CANVAS,!0);return this.addCanvas(P,I)}return null},addCanvas:function(P,R,M){M===void 0&&(M=!1);var I=null;return M?I=new v(this,P,R,R.width,R.height):this.checkKey(P)&&(I=new v(this,P,R,R.width,R.height),this.list[P]=I,this.emit(p.ADD,P,I),this.emit(p.ADD_KEY+P,I)),I},addDynamicTexture:function(P,R,M){var I=null;return typeof P=="string"&&!this.exists(P)?I=new o(this,P,R,M):(I=P,P=I.key),this.checkKey(P)?(this.list[P]=I,this.emit(p.ADD,P,I),this.emit(p.ADD_KEY+P,I)):I=null,I},addAtlas:function(P,R,M,I){return Array.isArray(M.textures)||Array.isArray(M.frames)?this.addAtlasJSONArray(P,R,M,I):this.addAtlasJSONHash(P,R,M,I)},addAtlasJSONArray:function(P,R,M,I){var B=null;if(R instanceof T?(P=R.key,B=R):this.checkKey(P)&&(B=this.create(P,R)),B){if(Array.isArray(M))for(var D=M.length===1,N=0;N<B.source.length;N++){var _=D?M[0]:M[N];C.JSONArray(B,N,_)}else C.JSONArray(B,0,M);I&&B.setDataSource(I),this.emit(p.ADD,P,B),this.emit(p.ADD_KEY+P,B)}return B},addAtlasJSONHash:function(P,R,M,I){var B=null;if(R instanceof T?(P=R.key,B=R):this.checkKey(P)&&(B=this.create(P,R)),B){if(Array.isArray(M))for(var D=0;D<M.length;D++)C.JSONHash(B,D,M[D]);else C.JSONHash(B,0,M);I&&B.setDataSource(I),this.emit(p.ADD,P,B),this.emit(p.ADD_KEY+P,B)}return B},addAtlasXML:function(P,R,M,I){var B=null;return R instanceof T?(P=R.key,B=R):this.checkKey(P)&&(B=this.create(P,R)),B&&(C.AtlasXML(B,0,M),I&&B.setDataSource(I),this.emit(p.ADD,P,B),this.emit(p.ADD_KEY+P,B)),B},addUnityAtlas:function(P,R,M,I){var B=null;return R instanceof T?(P=R.key,B=R):this.checkKey(P)&&(B=this.create(P,R)),B&&(C.UnityYAML(B,0,M),I&&B.setDataSource(I),this.emit(p.ADD,P,B),this.emit(p.ADD_KEY+P,B)),B},addSpriteSheet:function(P,R,M,I){var B=null;if(R instanceof T?(P=R.key,B=R):this.checkKey(P)&&(B=this.create(P,R)),B){var D=B.source[0].width,N=B.source[0].height;C.SpriteSheet(B,0,0,0,D,N,M),I&&B.setDataSource(I),this.emit(p.ADD,P,B),this.emit(p.ADD_KEY+P,B)}return B},addSpriteSheetFromAtlas:function(P,R){if(!this.checkKey(P))return null;var M=x(R,"atlas",null),I=x(R,"frame",null);if(!(!M||!I)){var B=this.get(M),D=B.get(I);if(D){var N=D.source.image;N||(N=D.source.glTexture);var _=this.create(P,N);return D.trimmed?C.SpriteSheetFromAtlas(_,D,R):C.SpriteSheet(_,0,D.cutX,D.cutY,D.cutWidth,D.cutHeight,R),this.emit(p.ADD,P,_),this.emit(p.ADD_KEY+P,_),_}}},addUint8Array:function(P,R,M,I){if(!this.checkKey(P)||R.length/4!==M*I)return null;var B=this.create(P,R,M,I);return B.add("__BASE",0,0,0,M,I),this.emit(p.ADD,P,B),this.emit(p.ADD_KEY+P,B),B},create:function(P,R,M,I){var B=null;return this.checkKey(P)&&(B=new T(this,P,R,M,I),this.list[P]=B),B},exists:function(P){return this.list.hasOwnProperty(P)},get:function(P){return P===void 0&&(P="__DEFAULT"),this.list[P]?this.list[P]:P instanceof T?P:P instanceof l?P.texture:this.list.__MISSING},cloneFrame:function(P,R){if(this.list[P])return this.list[P].get(R).clone()},getFrame:function(P,R){if(this.list[P])return this.list[P].get(R)},parseFrame:function(P){if(P){if(typeof P=="string")return this.getFrame(P);if(Array.isArray(P)&&P.length===2)return this.getFrame(P[0],P[1]);if(w(P))return this.getFrame(P.key,P.frame);if(P instanceof T)return P.get();if(P instanceof l)return P}else return},getTextureKeys:function(){var P=[];for(var R in this.list)R!=="__DEFAULT"&&R!=="__MISSING"&&R!=="__WHITE"&&R!=="__NORMAL"&&P.push(R);return P},getPixel:function(P,R,M,I){var B=this.getFrame(M,I);if(B){P-=B.x,R-=B.y;var D=B.data.cut;if(P+=D.x,R+=D.y,P>=D.x&&P<D.r&&R>=D.y&&R<D.b){var N=this._tempContext;N.clearRect(0,0,1,1),N.drawImage(B.source.image,P,R,1,1,0,0,1,1);var _=N.getImageData(0,0,1,1);return new h(_.data[0],_.data[1],_.data[2],_.data[3])}}return null},getPixelAlpha:function(P,R,M,I){var B=this.getFrame(M,I);if(B){P-=B.x,R-=B.y;var D=B.data.cut;if(P+=D.x,R+=D.y,P>=D.x&&P<D.r&&R>=D.y&&R<D.b){var N=this._tempContext;N.clearRect(0,0,1,1),N.drawImage(B.source.image,P,R,1,1,0,0,1,1);var _=N.getImageData(0,0,1,1);return _.data[3]}}return null},setTexture:function(P,R,M){return this.list[R]&&(P.texture=this.list[R],P.frame=P.texture.get(M)),P},renameTexture:function(P,R){var M=this.get(P);return M&&P!==R?(M.key=R,this.list[R]=M,delete this.list[P],!0):!1},each:function(P,R){for(var M=[null],I=1;I<arguments.length;I++)M.push(arguments[I]);for(var B in this.list)M[0]=this.list[B],P.apply(R,M)},resetStamp:function(P,R){P===void 0&&(P=1),R===void 0&&(R=16777215);var M=this.stamp;return M.setCrop(),M.setPosition(0),M.setAngle(0),M.setScale(1),M.setAlpha(P),M.setTint(R),M.setTexture("__WHITE"),M},destroy:function(){for(var P in this.list)this.list[P].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,a.remove(this._tempCanvas)}});s.exports=k},11876:(s,g,i)=>{var a=i(27919),v=i(83419),f=i(50030),h=i(29795),u=i(82751),o=new v({initialize:function(p,l,m,y,x){x===void 0&&(x=!1);var b=p.manager.game;this.renderer=b.renderer,this.texture=p,this.source=l,this.image=l.compressed?null:l,this.compressionAlgorithm=l.compressed?l.format:null,this.resolution=1,this.width=m||l.naturalWidth||l.videoWidth||l.width||0,this.height=y||l.naturalHeight||l.videoHeight||l.height||0,this.scaleMode=h.DEFAULT,this.isCanvas=l instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&l instanceof HTMLVideoElement,this.isRenderTexture=l.type==="RenderTexture"||l.type==="DynamicTexture",this.isGLTexture=l instanceof u,this.isPowerOf2=f(this.width,this.height),this.glTexture=null,this.flipY=x,this.init(b)},init:function(d){var p=this.renderer;if(p){var l=this.source;if(p.gl){var m=this.image,y=this.flipY,x=this.width,b=this.height,w=this.scaleMode;this.isCanvas?this.glTexture=p.createCanvasTexture(m,!1,y):this.isVideo?this.glTexture=p.createVideoTexture(m,!1,y):this.isRenderTexture?this.glTexture=p.createTextureFromSource(null,x,b,w):this.isGLTexture?this.glTexture=l:this.compressionAlgorithm?this.glTexture=p.createTextureFromSource(l,void 0,void 0,w):l instanceof Uint8Array?this.glTexture=p.createUint8ArrayTexture(l,x,b,w):this.glTexture=p.createTextureFromSource(m,x,b,w)}else this.isRenderTexture&&(this.image=l.canvas)}d.config.antialias||this.setFilter(1)},setFilter:function(d){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,d),this.scaleMode=d},setFlipY:function(d){return d===void 0&&(d=!0),d===this.flipY?this:(this.flipY=d,this.update(),this)},update:function(){var d=this.renderer,p=this.image,l=this.flipY,m=d.gl;m&&this.isCanvas?d.updateCanvasTexture(p,this.glTexture,l):m&&this.isVideo&&d.updateVideoTexture(p,this.glTexture,l)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&a.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});s.exports=o},19673:s=>{var g={LINEAR:0,NEAREST:1};s.exports=g},44538:s=>{s.exports="addtexture"},63486:s=>{s.exports="addtexture-"},94851:s=>{s.exports="onerror"},29099:s=>{s.exports="onload"},8678:s=>{s.exports="ready"},86415:s=>{s.exports="removetexture"},30879:s=>{s.exports="removetexture-"},69442:(s,g,i)=>{s.exports={ADD:i(44538),ADD_KEY:i(63486),ERROR:i(94851),LOAD:i(29099),READY:i(8678),REMOVE:i(86415),REMOVE_KEY:i(30879)}},27458:(s,g,i)=>{var a=i(79291),v=i(19673),f={CanvasTexture:i(57382),DynamicTexture:i(81320),Events:i(69442),FilterMode:v,Frame:i(4327),Parsers:i(61309),Texture:i(79237),TextureManager:i(17130),TextureSource:i(11876)};f=a(!1,f,v),s.exports=f},89905:s=>{var g=function(i,a,v){if(!v.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var f=i.source[a];i.add("__BASE",a,0,0,f.width,f.height);for(var h=v.getElementsByTagName("SubTexture"),u,o=0;o<h.length;o++){var d=h[o].attributes,p=d.name.value,l=parseInt(d.x.value,10),m=parseInt(d.y.value,10),y=parseInt(d.width.value,10),x=parseInt(d.height.value,10);if(u=i.add(p,a,l,m,y,x),d.frameX){var b=Math.abs(parseInt(d.frameX.value,10)),w=Math.abs(parseInt(d.frameY.value,10)),C=parseInt(d.frameWidth.value,10),E=parseInt(d.frameHeight.value,10);u.setTrim(y,x,b,w,C,E)}}return i};s.exports=g},72893:s=>{var g=function(i,a){var v=i.source[a];return i.add("__BASE",a,0,0,v.width,v.height),i};s.exports=g},4832:s=>{var g=function(i,a){var v=i.source[a];return i.add("__BASE",a,0,0,v.width,v.height),i};s.exports=g},78566:(s,g,i)=>{var a=i(41786),v=function(f,h,u){if(!u.frames&&!u.textures){console.warn("Invalid Texture Atlas JSON Array");return}var o=f.source[h];f.add("__BASE",h,0,0,o.width,o.height);for(var d=Array.isArray(u.textures)?u.textures[h].frames:u.frames,p,l=0;l<d.length;l++){var m=d[l];if(p=f.add(m.filename,h,m.frame.x,m.frame.y,m.frame.w,m.frame.h),!p){console.warn("Invalid atlas json, frame already exists: "+m.filename);continue}m.trimmed&&p.setTrim(m.sourceSize.w,m.sourceSize.h,m.spriteSourceSize.x,m.spriteSourceSize.y,m.spriteSourceSize.w,m.spriteSourceSize.h),m.rotated&&(p.rotated=!0,p.updateUVsInverted());var y=m.anchor||m.pivot;y&&(p.customPivot=!0,p.pivotX=y.x,p.pivotY=y.y),m.scale9Borders&&p.setScale9(m.scale9Borders.x,m.scale9Borders.y,m.scale9Borders.w,m.scale9Borders.h),p.customData=a(m)}for(var x in u)x!=="frames"&&(Array.isArray(u[x])?f.customData[x]=u[x].slice(0):f.customData[x]=u[x]);return f};s.exports=v},39711:(s,g,i)=>{var a=i(41786),v=function(f,h,u){if(!u.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var o=f.source[h];f.add("__BASE",h,0,0,o.width,o.height);var d=u.frames,p;for(var l in d)if(d.hasOwnProperty(l)){var m=d[l];if(p=f.add(l,h,m.frame.x,m.frame.y,m.frame.w,m.frame.h),!p){console.warn("Invalid atlas json, frame already exists: "+l);continue}m.trimmed&&p.setTrim(m.sourceSize.w,m.sourceSize.h,m.spriteSourceSize.x,m.spriteSourceSize.y,m.spriteSourceSize.w,m.spriteSourceSize.h),m.rotated&&(p.rotated=!0,p.updateUVsInverted());var y=m.anchor||m.pivot;y&&(p.customPivot=!0,p.pivotX=y.x,p.pivotY=y.y),m.scale9Borders&&p.setScale9(m.scale9Borders.x,m.scale9Borders.y,m.scale9Borders.w,m.scale9Borders.h),p.customData=a(m)}for(var x in u)x!=="frames"&&(Array.isArray(u[x])?f.customData[x]=u[x].slice(0):f.customData[x]=u[x]);return f};s.exports=v},31403:s=>{var g=function(i){var a=[171,75,84,88,32,49,49,187,13,10,26,10],v,f=new Uint8Array(i,0,12);for(v=0;v<f.length;v++)if(f[v]!==a[v]){console.warn("KTXParser - Invalid file format");return}var h=Uint32Array.BYTES_PER_ELEMENT,u=new DataView(i,12,13*h),o=u.getUint32(0,!0)===67305985,d=u.getUint32(1*h,o);if(d!==0){console.warn("KTXParser - Only compressed formats supported");return}var p=u.getUint32(4*h,o),l=u.getUint32(6*h,o),m=u.getUint32(7*h,o),y=Math.max(1,u.getUint32(11*h,o)),x=u.getUint32(12*h,o),b=new Array(y),w=12+13*4+x,C=l,E=m;for(v=0;v<y;v++){var T=new Int32Array(i,w,1)[0];w+=4,b[v]={data:new Uint8Array(i,w,T),width:C,height:E},C=Math.max(1,C>>1),E=Math.max(1,E>>1),w+=T}return{mipmaps:b,width:l,height:m,internalFormat:p,compressed:!0,generateMipmap:!1}};s.exports=g},82038:s=>{function g(R,M,I,B,D,N,_){return _===void 0&&(_=16),Math.floor((R+I)/D)*Math.floor((M+B)/N)*_}function i(R,M){return R=Math.max(R,16),M=Math.max(M,8),R*M/4}function a(R,M){return R=Math.max(R,8),M=Math.max(M,8),R*M/2}function v(R,M){return Math.ceil(R/4)*Math.ceil(M/4)*16}function f(R,M){return g(R,M,3,3,4,4,8)}function h(R,M){return g(R,M,3,3,4,4)}function u(R,M){return g(R,M,4,3,5,4)}function o(R,M){return g(R,M,4,4,5,5)}function d(R,M){return g(R,M,5,4,6,5)}function p(R,M){return g(R,M,5,5,6,6)}function l(R,M){return g(R,M,7,4,8,5)}function m(R,M){return g(R,M,7,5,8,6)}function y(R,M){return g(R,M,7,7,8,8)}function x(R,M){return g(R,M,9,4,10,5)}function b(R,M){return g(R,M,9,5,10,6)}function w(R,M){return g(R,M,9,7,10,8)}function C(R,M){return g(R,M,9,9,10,10)}function E(R,M){return g(R,M,11,9,12,10)}function T(R,M){return g(R,M,11,11,12,12)}var k={0:{sizeFunc:i,glFormat:[35841]},1:{sizeFunc:i,glFormat:[35843]},2:{sizeFunc:a,glFormat:[35840]},3:{sizeFunc:a,glFormat:[35842]},6:{sizeFunc:f,glFormat:[36196]},7:{sizeFunc:f,glFormat:[33776,35916]},8:{sizeFunc:h,glFormat:[33777,35917]},9:{sizeFunc:h,glFormat:[33778,35918]},11:{sizeFunc:h,glFormat:[33779,35919]},14:{sizeFunc:v,glFormat:[36494,36495]},15:{sizeFunc:v,glFormat:[36492,36493]},22:{sizeFunc:f,glFormat:[37492,37493]},23:{sizeFunc:h,glFormat:[37496,37497]},24:{sizeFunc:f,glFormat:[37494,37495]},25:{sizeFunc:f,glFormat:[37488]},26:{sizeFunc:h,glFormat:[37490]},27:{sizeFunc:h,glFormat:[37808,37840]},28:{sizeFunc:u,glFormat:[37809,37841]},29:{sizeFunc:o,glFormat:[37810,37842]},30:{sizeFunc:d,glFormat:[37811,37843]},31:{sizeFunc:p,glFormat:[37812,37844]},32:{sizeFunc:l,glFormat:[37813,37845]},33:{sizeFunc:m,glFormat:[37814,37846]},34:{sizeFunc:y,glFormat:[37815,37847]},35:{sizeFunc:x,glFormat:[37816,37848]},36:{sizeFunc:b,glFormat:[37817,37849]},37:{sizeFunc:w,glFormat:[37818,37850]},38:{sizeFunc:C,glFormat:[37819,37851]},39:{sizeFunc:E,glFormat:[37820,37852]},40:{sizeFunc:T,glFormat:[37821,37853]}},P=function(R){for(var M=new Uint32Array(R,0,13),I=M[0],B=I===55727696,D=B?M[2]:M[3],N=M[4],_=k[D].glFormat[N],G=k[D].sizeFunc,$=M[11],V=M[7],Y=M[6],U=52+M[12],F=new Uint8Array(R,U),O=new Array($),j=0,z=V,W=Y,q=0;q<$;q++){var ot=G(z,W);O[q]={data:new Uint8Array(F.buffer,F.byteOffset+j,ot),width:z,height:W},z=Math.max(1,z>>1),W=Math.max(1,W>>1),j+=ot}return{mipmaps:O,width:V,height:Y,internalFormat:_,compressed:!0,generateMipmap:!1}};s.exports=P},75549:(s,g,i)=>{var a=i(95540),v=function(f,h,u,o,d,p,l){var m=a(l,"frameWidth",null),y=a(l,"frameHeight",m);if(m===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var x=f.source[h];f.add("__BASE",h,0,0,x.width,x.height);var b=a(l,"startFrame",0),w=a(l,"endFrame",-1),C=a(l,"margin",0),E=a(l,"spacing",0),T=Math.floor((d-C+E)/(m+E)),k=Math.floor((p-C+E)/(y+E)),P=T*k;P===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",f.key),(b>P||b<-P)&&(b=0),b<0&&(b=P+b),(w===-1||w>P||w<b)&&(w=P);for(var R=C,M=C,I=0,B=0,D=0,N=0;N<P;N++){I=0,B=0;var _=R+m,G=M+y;_>d&&(I=_-d),G>p&&(B=G-p),N>=b&&N<=w&&(f.add(D,h,u+R,o+M,m-I,y-B),D++),R+=m+E,R+m>d&&(R=C,M+=y+E)}return f};s.exports=v},47534:(s,g,i)=>{var a=i(95540),v=function(f,h,u){var o=a(u,"frameWidth",null),d=a(u,"frameHeight",o);if(!o)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var p=f.source[0];f.add("__BASE",0,0,0,p.width,p.height),a(u,"startFrame",0),a(u,"endFrame",-1);for(var l=a(u,"margin",0),m=a(u,"spacing",0),y=h.cutX,x=h.cutY,b=h.cutWidth,w=h.cutHeight,C=h.realWidth,E=h.realHeight,T=Math.floor((C-l+m)/(o+m)),k=Math.floor((E-l+m)/(d+m)),P=h.x,R=o-P,M=o-(C-b-P),I=h.y,B=d-I,D=d-(E-w-I),N,_=l,G=l,$=0,V=0,Y=0;Y<k;Y++){for(var U=Y===0,F=Y===k-1,O=0;O<T;O++){var j=O===0,z=O===T-1;if(N=f.add($,V,y+_,x+G,o,d),j||U||z||F){var W=j?P:0,q=U?I:0,ot=0,Q=0;j&&(ot+=o-R),z&&(ot+=o-M),U&&(Q+=d-B),F&&(Q+=d-D);var rt=o-ot,Mt=d-Q;N.cutWidth=rt,N.cutHeight=Mt,N.setTrim(o,d,W,q,rt,Mt)}_+=m,j?_+=R:z?_+=M:_+=o,$++}_=l,G+=m,U?G+=B:F?G+=D:G+=d}return f};s.exports=v},86147:s=>{var g=0,i=function(v,f,h,u){var o=g-u.y-u.height;v.add(h,f,u.x,o,u.width,u.height)},a=function(v,f,h){var u=v.source[f];v.add("__BASE",f,0,0,u.width,u.height),g=u.height;for(var o=h.split(`
`),d=/^[ ]*(- )*(\w+)+[: ]+(.*)/,p="",l="",m={x:0,y:0,width:0,height:0},y=0;y<o.length;y++){var x=o[y].match(d);if(x){var b=x[1]==="- ",w=x[2],C=x[3];if(b&&(l!==p&&(i(v,f,l,m),p=l),m={x:0,y:0,width:0,height:0}),w==="name"){l=C;continue}switch(w){case"x":case"y":case"width":case"height":m[w]=parseInt(C,10);break}}}return l!==p&&i(v,f,l,m),v};s.exports=a},55222:(s,g,i)=>{var a=i(50030),v=function(p){for(var l=p.mipmaps,m=1;m<l.length;m++){var y=l[m].width,x=l[m].height;if(!a(y,x))return console.warn("Mip level "+m+" is not a power-of-two size: "+y+"x"+x),!1}var b=d[p.internalFormat];return b?b(p):(console.warn("No format checker found for internal format "+p.internalFormat+". Assuming valid."),!0)};function f(p){for(var l=p.mipmaps,m=0;m<l.length;m++){var y=l[m].width,x=l[m].height;if((y<<m)%4!==0||(x<<m)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+m+" is "+y+"x"+x),!1}return!0}function h(){return!0}function u(p){var l=p.mipmaps,m=l[0];return a(m.width,m.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+m.width+"x"+m.height),!1)}function o(p){var l=p.mipmaps,m=l[0];return m.width%4!==0||m.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+m.width+"x"+m.height+" pixels"),!1):!0}var d={37488:h,37489:h,37490:h,37491:h,37492:h,37493:h,37494:h,37495:h,37496:h,37497:h,36196:h,37808:h,37809:h,37810:h,37811:h,37812:h,37813:h,37814:h,37815:h,37816:h,37817:h,37818:h,37819:h,37820:h,37821:h,37840:h,37841:h,37842:h,37843:h,37844:h,37845:h,37846:h,37847:h,37848:h,37849:h,37850:h,37851:h,37852:h,37853:h,36492:f,36493:f,36494:f,36495:f,36283:f,36284:f,36285:f,36286:f,35840:u,35841:u,35842:u,35843:u,33776:f,33777:f,33778:f,33779:f,35916:o,35917:o,35918:o,35919:o};s.exports=v},61309:(s,g,i)=>{s.exports={AtlasXML:i(89905),Canvas:i(72893),Image:i(4832),JSONArray:i(78566),JSONHash:i(39711),KTXParser:i(31403),PVRParser:i(82038),SpriteSheet:i(75549),SpriteSheetFromAtlas:i(47534),UnityYAML:i(86147)}},80341:s=>{s.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h,u,o,d,p,l,m){(o===void 0||o<=0)&&(o=32),(d===void 0||d<=0)&&(d=32),p===void 0&&(p=0),l===void 0&&(l=0),this.name=h,this.firstgid=u|0,this.imageWidth=o|0,this.imageHeight=d|0,this.imageMargin=p|0,this.imageSpacing=l|0,this.properties=m||{},this.images=[],this.total=0},containsImageIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},addImage:function(f,h){return this.images.push({gid:f,image:h}),this.total++,this}});s.exports=v},27462:(s,g,i)=>{var a=i(83419),v=new a({initialize:function(h){if(this.gids=[],h!==void 0)for(var u=0;u<h.length;++u)for(var o=h[u],d=0;d<o.total;++d)this.gids[o.firstgid+d]=o;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(f){this.gids=f?this._gids:void 0}},getTypeIncludingTile:function(f){if(f.type!==void 0&&f.type!=="")return f.type;if(!(!this.gids||f.gid===void 0)){var h=this.gids[f.gid];if(h){var u=h.getTileData(f.gid);if(u)return u.type}}},setTextureAndFrame:function(f,h,u,o){if(h===null&&this.gids&&o.gid!==void 0){var d=this.gids[o.gid];d&&(h===null&&d.image!==void 0&&(h=d.image.key),u===null&&(u=o.gid-d.firstgid),f.scene.textures.getFrame(h,u)||(h=null,u=null))}f.setTexture(h,u)},setPropertiesFromTiledObject:function(f,h){if(this.gids!==void 0&&h.gid!==void 0){var u=this.gids[h.gid];u!==void 0&&this.setFromJSON(f,u.getTileProperties(h.gid))}this.setFromJSON(f,h.properties)},setFromJSON:function(f,h){if(h){if(Array.isArray(h)){for(var u=0;u<h.length;u++){var o=h[u];f[o.name]!==void 0?f[o.name]=o.value:f.setData(o.name,o.value)}return}for(var d in h)f[d]!==void 0?f[d]=h[d]:f.setData(d,h[d])}}});s.exports=v},31989:(s,g,i)=>{var a=i(80341),v=i(87010),f=i(46177),h=i(49075),u=function(o,d,p,l,m,y,x,b){p===void 0&&(p=32),l===void 0&&(l=32),m===void 0&&(m=10),y===void 0&&(y=10),b===void 0&&(b=!1);var w=null;if(Array.isArray(x)){var C=d!==void 0?d:"map";w=f(C,a.ARRAY_2D,x,p,l,b)}else if(d!==void 0){var E=o.cache.tilemap.get(d);E?w=f(d,E.format,E.data,p,l,b):console.warn("No map data found for key "+d)}return w===null&&(w=new v({tileWidth:p,tileHeight:l,width:m,height:y})),new h(o,w)};s.exports=u},23029:(s,g,i)=>{var a=i(83419),v=i(31401),f=i(91907),h=i(62644),u=i(93232),o=new a({Mixins:[v.AlphaSingle,v.Flip,v.Visible],initialize:function(p,l,m,y,x,b,w,C){this.layer=p,this.index=l,this.x=m,this.y=y,this.width=x,this.height=b,this.right,this.bottom,this.baseWidth=w!==void 0?w:x,this.baseHeight=C!==void 0?C:b,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(d,p){return!(d<this.pixelX||p<this.pixelY||d>this.right||p>this.bottom)},copy:function(d){return this.index=d.index,this.alpha=d.alpha,this.properties=h(d.properties),this.visible=d.visible,this.setFlip(d.flipX,d.flipY),this.tint=d.tint,this.rotation=d.rotation,this.collideUp=d.collideUp,this.collideDown=d.collideDown,this.collideLeft=d.collideLeft,this.collideRight=d.collideRight,this.collisionCallback=d.collisionCallback,this.collisionCallbackContext=d.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(d){var p=this.tilemapLayer;if(p){var l=p.tileToWorldXY(this.x,this.y,void 0,d);return l.x}return this.x*this.baseWidth},getRight:function(d){var p=this.tilemapLayer;return p?this.getLeft(d)+this.width*p.scaleX:this.getLeft(d)+this.width},getTop:function(d){var p=this.tilemapLayer;if(p){var l=p.tileToWorldXY(this.x,this.y,void 0,d);return l.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(d){var p=this.tilemapLayer;return p?this.getTop(d)+this.height*p.scaleY:this.getTop(d)+this.height},getBounds:function(d,p){return p===void 0&&(p=new u),p.x=this.getLeft(d),p.y=this.getTop(d),p.width=this.getRight(d)-p.x,p.height=this.getBottom(d)-p.y,p},getCenterX:function(d){return(this.getLeft(d)+this.getRight(d))/2},getCenterY:function(d){return(this.getTop(d)+this.getBottom(d))/2},intersects:function(d,p,l,m){return!(l<=this.pixelX||m<=this.pixelY||d>=this.right||p>=this.bottom)},isInteresting:function(d,p){return d&&p?this.canCollide||this.hasInterestingFace:d?this.collides:p?this.hasInterestingFace:!1},resetCollision:function(d){if(d===void 0&&(d=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,d){var p=this.tilemapLayer;p&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(d,p,l,m,y){if(p===void 0&&(p=d),l===void 0&&(l=d),m===void 0&&(m=d),y===void 0&&(y=!0),this.collideLeft=d,this.collideRight=p,this.collideUp=l,this.collideDown=m,this.faceLeft=d,this.faceRight=p,this.faceTop=l,this.faceBottom=m,y){var x=this.tilemapLayer;x&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(d,p){return d===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=d,this.collisionCallbackContext=p),this},setSize:function(d,p,l,m){return d!==void 0&&(this.width=d),p!==void 0&&(this.height=p),l!==void 0&&(this.baseWidth=l),m!==void 0&&(this.baseHeight=m),this.updatePixelXY(),this},updatePixelXY:function(){var d=this.layer.orientation;if(d===f.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(d===f.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(d===f.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(d===f.HEXAGONAL){var p=this.layer.staggerAxis,l=this.layer.staggerIndex,m=this.layer.hexSideLength,y,x;p==="y"?(x=(this.baseHeight-m)/2+m,l==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*x):p==="x"&&(y=(this.baseWidth-m)/2+m,this.pixelX=this.x*y,l==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var d=this.layer.tilemapLayer;if(d){var p=d.gidMap[this.index];if(p)return p}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var d=this.tilemapLayer;return d?d.tilemap:null}}});s.exports=o},49075:(s,g,i)=>{var a=i(84101),v=i(83419),f=i(39506),h=i(80341),u=i(95540),o=i(14977),d=i(27462),p=i(91907),l=i(36305),m=i(19133),y=i(68287),x=i(23029),b=i(81086),w=i(20442),C=i(33629),E=new v({initialize:function(k,P){this.scene=k,this.tileWidth=P.tileWidth,this.tileHeight=P.tileHeight,this.width=P.width,this.height=P.height,this.orientation=P.orientation,this.renderOrder=P.renderOrder,this.format=P.format,this.version=P.version,this.properties=P.properties,this.widthInPixels=P.widthInPixels,this.heightInPixels=P.heightInPixels,this.imageCollections=P.imageCollections,this.images=P.images,this.layers=P.layers,this.tiles=P.tiles,this.tilesets=P.tilesets,this.objects=P.objects,this.currentLayerIndex=0,this.hexSideLength=P.hexSideLength;var R=this.orientation;this._convert={WorldToTileXY:b.GetWorldToTileXYFunction(R),WorldToTileX:b.GetWorldToTileXFunction(R),WorldToTileY:b.GetWorldToTileYFunction(R),TileToWorldXY:b.GetTileToWorldXYFunction(R),TileToWorldX:b.GetTileToWorldXFunction(R),TileToWorldY:b.GetTileToWorldYFunction(R),GetTileCorners:b.GetTileCornersFunction(R)}},setRenderOrder:function(T){var k=["right-down","left-down","right-up","left-up"];return typeof T=="number"&&(T=k[T]),k.indexOf(T)>-1&&(this.renderOrder=T),this},addTilesetImage:function(T,k,P,R,M,I,B,D){if(T===void 0)return null;k==null&&(k=T);var N=this.scene.sys.textures;if(!N.exists(k))return console.warn('Texture key "%s" not found',k),null;var _=N.get(k),G=this.getTilesetIndex(T);if(G===null&&this.format===h.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',T,this.tilesets),null;var $=this.tilesets[G];return $?($.setTileSize(P,R),$.setSpacing(M,I),$.setImage(_),$):(P===void 0&&(P=this.tileWidth),R===void 0&&(R=this.tileHeight),M===void 0&&(M=0),I===void 0&&(I=0),B===void 0&&(B=0),D===void 0&&(D={x:0,y:0}),$=new C(T,B,P,R,M,I,void 0,void 0,D),$.setImage(_),this.tilesets.push($),this.tiles=a(this),$)},copy:function(T,k,P,R,M,I,B,D){return D=this.getLayer(D),D!==null?(b.Copy(T,k,P,R,M,I,B,D),this):null},createBlankLayer:function(T,k,P,R,M,I,B,D){P===void 0&&(P=0),R===void 0&&(R=0),M===void 0&&(M=this.width),I===void 0&&(I=this.height),B===void 0&&(B=this.tileWidth),D===void 0&&(D=this.tileHeight);var N=this.getLayerIndex(T);if(N!==null)return console.warn("Invalid Tilemap Layer ID: "+T),null;for(var _=new o({name:T,tileWidth:B,tileHeight:D,width:M,height:I,orientation:this.orientation}),G,$=0;$<I;$++){G=[];for(var V=0;V<M;V++)G.push(new x(_,-1,V,$,B,D,this.tileWidth,this.tileHeight));_.data.push(G)}this.layers.push(_),this.currentLayerIndex=this.layers.length-1;var Y=new w(this.scene,this,this.currentLayerIndex,k,P,R);return Y.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Y),Y},createLayer:function(T,k,P,R){var M=this.getLayerIndex(T);if(M===null)return console.warn("Invalid Tilemap Layer ID: "+T),typeof T=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var I=this.layers[M];if(I.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+T),null;this.currentLayerIndex=M,P===void 0&&(P=I.x),R===void 0&&(R=I.y);var B=new w(this.scene,this,M,k,P,R);return B.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(B),B},createFromObjects:function(T,k,P){P===void 0&&(P=!0);var R=[],M=this.getObjectLayer(T);if(!M)return console.warn("createFromObjects: Invalid objectLayerName given: "+T),R;var I=new d(P?this.tilesets:void 0);Array.isArray(k)||(k=[k]);for(var B=M.objects,D=0;D<k.length;D++){var N=k[D],_=u(N,"id",null),G=u(N,"gid",null),$=u(N,"name",null),V=u(N,"type",null);I.enabled=!u(N,"ignoreTileset",null);for(var Y,U=[],F=0;F<B.length;F++)Y=B[F],(_===null&&G===null&&$===null&&V===null||_!==null&&Y.id===_||G!==null&&Y.gid===G||$!==null&&Y.name===$||V!==null&&I.getTypeIncludingTile(Y)===V)&&U.push(Y);for(var O=u(N,"classType",y),j=u(N,"scene",this.scene),z=u(N,"container",null),W=u(N,"key",null),q=u(N,"frame",null),ot=0;ot<U.length;ot++){Y=U[ot];var Q=new O(j);if(Q.setName(Y.name),Q.setPosition(Y.x,Y.y),I.setTextureAndFrame(Q,W,q,Y),Y.width&&(Q.displayWidth=Y.width),Y.height&&(Q.displayHeight=Y.height),this.orientation===p.ISOMETRIC){var rt=this.tileWidth/this.tileHeight,Mt={x:Q.x-Q.y,y:(Q.x+Q.y)/rt};Q.x=Mt.x,Q.y=Mt.y}var K={x:Q.originX*Y.width,y:(Q.originY-(Y.gid?1:0))*Y.height};if(Y.rotation){var It=f(Y.rotation);l(K,It),Q.rotation=It}Q.x+=K.x,Q.y+=K.y,(Y.flippedHorizontal!==void 0||Y.flippedVertical!==void 0)&&Q.setFlip(Y.flippedHorizontal,Y.flippedVertical),Y.visible||(Q.visible=!1),I.setPropertiesFromTiledObject(Q,Y),z?z.add(Q):j.add.existing(Q),R.push(Q)}}return R},createFromTiles:function(T,k,P,R,M,I){return I=this.getLayer(I),I===null?null:b.CreateFromTiles(T,k,P,R,M,I)},fill:function(T,k,P,R,M,I,B){return I===void 0&&(I=!0),B=this.getLayer(B),B===null?null:(b.Fill(T,k,P,R,M,I,B),this)},filterObjects:function(T,k,P){if(typeof T=="string"){var R=T;if(T=this.getObjectLayer(T),!T)return console.warn("No object layer found with the name: "+R),null}return T.objects.filter(k,P)},filterTiles:function(T,k,P,R,M,I,B,D){return D=this.getLayer(D),D===null?null:b.FilterTiles(T,k,P,R,M,I,B,D)},findByIndex:function(T,k,P,R){return R=this.getLayer(R),R===null?null:b.FindByIndex(T,k,P,R)},findObject:function(T,k,P){if(typeof T=="string"){var R=T;if(T=this.getObjectLayer(T),!T)return console.warn("No object layer found with the name: "+R),null}return T.objects.find(k,P)||null},findTile:function(T,k,P,R,M,I,B,D){return D=this.getLayer(D),D===null?null:b.FindTile(T,k,P,R,M,I,B,D)},forEachTile:function(T,k,P,R,M,I,B,D){return D=this.getLayer(D),D===null?null:(b.ForEachTile(T,k,P,R,M,I,B,D),this)},getImageIndex:function(T){return this.getIndex(this.images,T)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(T){return T.name})},getIndex:function(T,k){for(var P=0;P<T.length;P++)if(T[P].name===k)return P;return null},getLayer:function(T){var k=this.getLayerIndex(T);return k!==null?this.layers[k]:null},getObjectLayer:function(T){var k=this.getIndex(this.objects,T);return k!==null?this.objects[k]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(T){return T.name})},getLayerIndex:function(T){return T===void 0?this.currentLayerIndex:typeof T=="string"?this.getLayerIndexByName(T):typeof T=="number"&&T<this.layers.length?T:T instanceof w&&T.tilemap===this?T.layerIndex:null},getLayerIndexByName:function(T){return this.getIndex(this.layers,T)},getTileAt:function(T,k,P,R){return R=this.getLayer(R),R===null?null:b.GetTileAt(T,k,P,R)},getTileAtWorldXY:function(T,k,P,R,M){return M=this.getLayer(M),M===null?null:b.GetTileAtWorldXY(T,k,P,R,M)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(T){return T.name})},getTilesWithin:function(T,k,P,R,M,I){return I=this.getLayer(I),I===null?null:b.GetTilesWithin(T,k,P,R,M,I)},getTilesWithinShape:function(T,k,P,R){return R=this.getLayer(R),R===null?null:b.GetTilesWithinShape(T,k,P,R)},getTilesWithinWorldXY:function(T,k,P,R,M,I,B){return B=this.getLayer(B),B===null?null:b.GetTilesWithinWorldXY(T,k,P,R,M,I,B)},getTileset:function(T){var k=this.getIndex(this.tilesets,T);return k!==null?this.tilesets[k]:null},getTilesetIndex:function(T){return this.getIndex(this.tilesets,T)},hasTileAt:function(T,k,P){return P=this.getLayer(P),P===null?null:b.HasTileAt(T,k,P)},hasTileAtWorldXY:function(T,k,P,R){return R=this.getLayer(R),R===null?null:b.HasTileAtWorldXY(T,k,P,R)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(T){this.setLayer(T)}},putTileAt:function(T,k,P,R,M){return R===void 0&&(R=!0),M=this.getLayer(M),M===null?null:b.PutTileAt(T,k,P,R,M)},putTileAtWorldXY:function(T,k,P,R,M,I){return R===void 0&&(R=!0),I=this.getLayer(I),I===null?null:b.PutTileAtWorldXY(T,k,P,R,M,I)},putTilesAt:function(T,k,P,R,M){return R===void 0&&(R=!0),M=this.getLayer(M),M===null?null:(b.PutTilesAt(T,k,P,R,M),this)},randomize:function(T,k,P,R,M,I){return I=this.getLayer(I),I===null?null:(b.Randomize(T,k,P,R,M,I),this)},calculateFacesAt:function(T,k,P){return P=this.getLayer(P),P===null?null:(b.CalculateFacesAt(T,k,P),this)},calculateFacesWithin:function(T,k,P,R,M){return M=this.getLayer(M),M===null?null:(b.CalculateFacesWithin(T,k,P,R,M),this)},removeLayer:function(T){var k=this.getLayerIndex(T);if(k!==null){m(this.layers,k);for(var P=k;P<this.layers.length;P++)this.layers[P].tilemapLayer&&this.layers[P].tilemapLayer.layerIndex--;return this.currentLayerIndex===k&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(T){var k=this.getLayerIndex(T);return k!==null?(T=this.layers[k],T.tilemapLayer.destroy(),m(this.layers,k),this.currentLayerIndex===k&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var T=this.layers,k=0;k<T.length;k++)T[k].tilemapLayer&&T[k].tilemapLayer.destroy(!1);return T.length=0,this.currentLayerIndex=0,this},removeTile:function(T,k,P){k===void 0&&(k=-1),P===void 0&&(P=!0);var R=[];Array.isArray(T)||(T=[T]);for(var M=0;M<T.length;M++){var I=T[M];R.push(this.removeTileAt(I.x,I.y,!0,P,I.tilemapLayer)),k>-1&&this.putTileAt(k,I.x,I.y,P,I.tilemapLayer)}return R},removeTileAt:function(T,k,P,R,M){return P===void 0&&(P=!0),R===void 0&&(R=!0),M=this.getLayer(M),M===null?null:b.RemoveTileAt(T,k,P,R,M)},removeTileAtWorldXY:function(T,k,P,R,M,I){return P===void 0&&(P=!0),R===void 0&&(R=!0),I=this.getLayer(I),I===null?null:b.RemoveTileAtWorldXY(T,k,P,R,M,I)},renderDebug:function(T,k,P){return P=this.getLayer(P),P===null?null:(this.orientation===p.ORTHOGONAL&&b.RenderDebug(T,k,P),this)},renderDebugFull:function(T,k){for(var P=this.layers,R=0;R<P.length;R++)b.RenderDebug(T,k,P[R]);return this},replaceByIndex:function(T,k,P,R,M,I,B){return B=this.getLayer(B),B===null?null:(b.ReplaceByIndex(T,k,P,R,M,I,B),this)},setCollision:function(T,k,P,R,M){return k===void 0&&(k=!0),P===void 0&&(P=!0),M===void 0&&(M=!0),R=this.getLayer(R),R===null?null:(b.SetCollision(T,k,P,R,M),this)},setCollisionBetween:function(T,k,P,R,M){return P===void 0&&(P=!0),R===void 0&&(R=!0),M=this.getLayer(M),M===null?null:(b.SetCollisionBetween(T,k,P,R,M),this)},setCollisionByProperty:function(T,k,P,R){return k===void 0&&(k=!0),P===void 0&&(P=!0),R=this.getLayer(R),R===null?null:(b.SetCollisionByProperty(T,k,P,R),this)},setCollisionByExclusion:function(T,k,P,R){return k===void 0&&(k=!0),P===void 0&&(P=!0),R=this.getLayer(R),R===null?null:(b.SetCollisionByExclusion(T,k,P,R),this)},setCollisionFromCollisionGroup:function(T,k,P){return T===void 0&&(T=!0),k===void 0&&(k=!0),P=this.getLayer(P),P===null?null:(b.SetCollisionFromCollisionGroup(T,k,P),this)},setTileIndexCallback:function(T,k,P,R){return R=this.getLayer(R),R===null?null:(b.SetTileIndexCallback(T,k,P,R),this)},setTileLocationCallback:function(T,k,P,R,M,I,B){return B=this.getLayer(B),B===null?null:(b.SetTileLocationCallback(T,k,P,R,M,I,B),this)},setLayer:function(T){var k=this.getLayerIndex(T);return k!==null&&(this.currentLayerIndex=k),this},setBaseTileSize:function(T,k){this.tileWidth=T,this.tileHeight=k,this.widthInPixels=this.width*T,this.heightInPixels=this.height*k;for(var P=0;P<this.layers.length;P++){this.layers[P].baseTileWidth=T,this.layers[P].baseTileHeight=k;for(var R=this.layers[P].data,M=this.layers[P].width,I=this.layers[P].height,B=0;B<I;B++)for(var D=0;D<M;D++){var N=R[B][D];N!==null&&N.setSize(void 0,void 0,T,k)}}return this},setLayerTileSize:function(T,k,P){if(P=this.getLayer(P),P===null)return this;P.tileWidth=T,P.tileHeight=k;for(var R=P.data,M=P.width,I=P.height,B=0;B<I;B++)for(var D=0;D<M;D++){var N=R[B][D];N!==null&&N.setSize(T,k)}return this},shuffle:function(T,k,P,R,M){return M=this.getLayer(M),M===null?null:(b.Shuffle(T,k,P,R,M),this)},swapByIndex:function(T,k,P,R,M,I,B){return B=this.getLayer(B),B===null?null:(b.SwapByIndex(T,k,P,R,M,I,B),this)},tileToWorldX:function(T,k,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldX(T,k,P)},tileToWorldY:function(T,k,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldY(T,k,P)},tileToWorldXY:function(T,k,P,R,M){return M=this.getLayer(M),M===null?null:this._convert.TileToWorldXY(T,k,P,R,M)},getTileCorners:function(T,k,P,R){return R=this.getLayer(R),R===null?null:this._convert.GetTileCorners(T,k,P,R)},weightedRandomize:function(T,k,P,R,M,I){return I=this.getLayer(I),I===null?null:(b.WeightedRandomize(k,P,R,M,T,I),this)},worldToTileX:function(T,k,P,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileX(T,k,P,R)},worldToTileY:function(T,k,P,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileY(T,k,P,R)},worldToTileXY:function(T,k,P,R,M,I){return I=this.getLayer(I),I===null?null:this._convert.WorldToTileXY(T,k,P,R,M,I)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});s.exports=E},45939:(s,g,i)=>{var a=i(44603),v=i(31989);a.register("tilemap",function(f){var h=f!==void 0?f:{};return v(this.scene,h.key,h.tileWidth,h.tileHeight,h.width,h.height,h.data,h.insertNull)})},46029:(s,g,i)=>{var a=i(39429),v=i(31989);a.register("tilemap",function(f,h,u,o,d,p,l){return f===null&&(f=void 0),h===null&&(h=void 0),u===null&&(u=void 0),o===null&&(o=void 0),d===null&&(d=void 0),v(this.scene,f,h,u,o,d,p,l)})},20442:(s,g,i)=>{var a=i(83419),v=i(78389),f=i(31401),h=i(95643),u=i(81086),o=i(19218),d=i(26099),p=new a({Extends:h,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.Transform,f.Visible,f.ScrollFactor,v,o],initialize:function(m,y,x,b,w,C){h.call(this,m,"TilemapLayer"),this.isTilemap=!0,this.tilemap=y,this.layerIndex=x,this.layer=y.layers[x],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=u.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new d,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(b),this.setAlpha(this.layer.alpha),this.setPosition(w,C),this.setOrigin(0,0),this.setSize(y.tileWidth*this.layer.width,y.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(l){var m=[],y=[],x=this.tilemap;Array.isArray(l)||(l=[l]);for(var b=0;b<l.length;b++){var w=l[b];if(typeof w=="string"&&(w=x.getTileset(w)),w){y.push(w);for(var C=w.firstgid,E=0;E<w.total;E++)m[C+E]=w}}this.gidMap=m,this.tileset=y},setRenderOrder:function(l){var m=["right-down","left-down","right-up","left-up"];return typeof l=="string"&&(l=m.indexOf(l)),l>=0&&l<4&&(this._renderOrder=l),this},calculateFacesAt:function(l,m){return u.CalculateFacesAt(l,m,this.layer),this},calculateFacesWithin:function(l,m,y,x){return u.CalculateFacesWithin(l,m,y,x,this.layer),this},createFromTiles:function(l,m,y,x,b){return u.CreateFromTiles(l,m,y,x,b,this.layer)},cull:function(l){return this.cullCallback(this.layer,l,this.culledTiles,this._renderOrder)},copy:function(l,m,y,x,b,w,C){return u.Copy(l,m,y,x,b,w,C,this.layer),this},fill:function(l,m,y,x,b,w){return u.Fill(l,m,y,x,b,w,this.layer),this},filterTiles:function(l,m,y,x,b,w,C){return u.FilterTiles(l,m,y,x,b,w,C,this.layer)},findByIndex:function(l,m,y){return u.FindByIndex(l,m,y,this.layer)},findTile:function(l,m,y,x,b,w,C){return u.FindTile(l,m,y,x,b,w,C,this.layer)},forEachTile:function(l,m,y,x,b,w,C){return u.ForEachTile(l,m,y,x,b,w,C,this.layer),this},setTint:function(l,m,y,x,b,w){l===void 0&&(l=16777215);var C=function(E){E.tint=l,E.tintFill=!1};return this.forEachTile(C,this,m,y,x,b,w)},setTintFill:function(l,m,y,x,b,w){l===void 0&&(l=16777215);var C=function(E){E.tint=l,E.tintFill=!0};return this.forEachTile(C,this,m,y,x,b,w)},getTileAt:function(l,m,y){return u.GetTileAt(l,m,y,this.layer)},getTileAtWorldXY:function(l,m,y,x){return u.GetTileAtWorldXY(l,m,y,x,this.layer)},getIsoTileAtWorldXY:function(l,m,y,x,b){y===void 0&&(y=!0);var w=this.tempVec;return u.IsometricWorldToTileXY(l,m,!0,w,b,this.layer,y),this.getTileAt(w.x,w.y,x)},getTilesWithin:function(l,m,y,x,b){return u.GetTilesWithin(l,m,y,x,b,this.layer)},getTilesWithinShape:function(l,m,y){return u.GetTilesWithinShape(l,m,y,this.layer)},getTilesWithinWorldXY:function(l,m,y,x,b,w){return u.GetTilesWithinWorldXY(l,m,y,x,b,w,this.layer)},hasTileAt:function(l,m){return u.HasTileAt(l,m,this.layer)},hasTileAtWorldXY:function(l,m,y){return u.HasTileAtWorldXY(l,m,y,this.layer)},putTileAt:function(l,m,y,x){return u.PutTileAt(l,m,y,x,this.layer)},putTileAtWorldXY:function(l,m,y,x,b){return u.PutTileAtWorldXY(l,m,y,x,b,this.layer)},putTilesAt:function(l,m,y,x){return u.PutTilesAt(l,m,y,x,this.layer),this},randomize:function(l,m,y,x,b){return u.Randomize(l,m,y,x,b,this.layer),this},removeTileAt:function(l,m,y,x){return u.RemoveTileAt(l,m,y,x,this.layer)},removeTileAtWorldXY:function(l,m,y,x,b){return u.RemoveTileAtWorldXY(l,m,y,x,b,this.layer)},renderDebug:function(l,m){return u.RenderDebug(l,m,this.layer),this},replaceByIndex:function(l,m,y,x,b,w){return u.ReplaceByIndex(l,m,y,x,b,w,this.layer),this},setSkipCull:function(l){return l===void 0&&(l=!0),this.skipCull=l,this},setCullPadding:function(l,m){return l===void 0&&(l=1),m===void 0&&(m=1),this.cullPaddingX=l,this.cullPaddingY=m,this},setCollision:function(l,m,y,x){return u.SetCollision(l,m,y,this.layer,x),this},setCollisionBetween:function(l,m,y,x){return u.SetCollisionBetween(l,m,y,x,this.layer),this},setCollisionByProperty:function(l,m,y){return u.SetCollisionByProperty(l,m,y,this.layer),this},setCollisionByExclusion:function(l,m,y){return u.SetCollisionByExclusion(l,m,y,this.layer),this},setCollisionFromCollisionGroup:function(l,m){return u.SetCollisionFromCollisionGroup(l,m,this.layer),this},setTileIndexCallback:function(l,m,y){return u.SetTileIndexCallback(l,m,y,this.layer),this},setTileLocationCallback:function(l,m,y,x,b,w){return u.SetTileLocationCallback(l,m,y,x,b,w,this.layer),this},shuffle:function(l,m,y,x){return u.Shuffle(l,m,y,x,this.layer),this},swapByIndex:function(l,m,y,x,b,w){return u.SwapByIndex(l,m,y,x,b,w,this.layer),this},tileToWorldX:function(l,m){return this.tilemap.tileToWorldX(l,m,this)},tileToWorldY:function(l,m){return this.tilemap.tileToWorldY(l,m,this)},tileToWorldXY:function(l,m,y,x){return this.tilemap.tileToWorldXY(l,m,y,x,this)},getTileCorners:function(l,m,y){return this.tilemap.getTileCorners(l,m,y,this)},weightedRandomize:function(l,m,y,x,b){return u.WeightedRandomize(m,y,x,b,l,this.layer),this},worldToTileX:function(l,m,y){return this.tilemap.worldToTileX(l,m,y,this)},worldToTileY:function(l,m,y){return this.tilemap.worldToTileY(l,m,y,this)},worldToTileXY:function(l,m,y,x,b){return this.tilemap.worldToTileXY(l,m,y,x,b,this)},destroy:function(l){l===void 0&&(l=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),l&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],h.prototype.destroy.call(this))}});s.exports=p},16153:(s,g,i)=>{var a=i(61340),v=new a,f=new a,h=new a,u=function(o,d,p,l){var m=d.cull(p),y=m.length,x=p.alpha*d.alpha;if(!(y===0||x<=0)){var b=v,w=f,C=h;w.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),b.copyFrom(p.matrix);var E=o.currentContext,T=d.gidMap;E.save(),l?(b.multiplyWithOffset(l,-p.scrollX*d.scrollFactorX,-p.scrollY*d.scrollFactorY),w.e=d.x,w.f=d.y,b.multiply(w,C),C.copyToContext(E)):(w.e-=p.scrollX*d.scrollFactorX,w.f-=p.scrollY*d.scrollFactorY,w.copyToContext(E)),(!o.antialias||d.scaleX>1||d.scaleY>1)&&(E.imageSmoothingEnabled=!1);for(var k=0;k<y;k++){var P=m[k],R=T[P.index];if(R){var M=R.image.getSourceImage(),I=R.getTileTextureCoordinates(P.index),B=R.tileWidth,D=R.tileHeight;if(!(I===null||B===0||D===0)){var N=B*.5,_=D*.5;I.x+=R.tileOffset.x,I.y+=R.tileOffset.y,E.save(),E.translate(P.pixelX+N,P.pixelY+_),P.rotation!==0&&E.rotate(P.rotation),(P.flipX||P.flipY)&&E.scale(P.flipX?-1:1,P.flipY?-1:1),E.globalAlpha=x*P.alpha,E.drawImage(M,I.x,I.y,B,D,-N,-_,B,D),E.restore()}}}E.restore()}};s.exports=u},19218:(s,g,i)=>{var a=i(29747),v=a,f=a;v=i(99558),f=i(16153),s.exports={renderWebGL:v,renderCanvas:f}},99558:(s,g,i)=>{var a=i(70554),v=function(f,h,u){var o=h.cull(u),d=o.length,p=u.alpha*h.alpha;if(!(d===0||p<=0)){var l=h.gidMap,m=f.pipelines.set(h.pipeline,h),y=a.getTintAppendFloatAlpha,x=h.scrollFactorX,b=h.scrollFactorY,w=h.x,C=h.y,E=h.scaleX,T=h.scaleY;f.pipelines.preBatch(h);for(var k=0;k<d;k++){var P=o[k],R=l[P.index];if(R){var M=R.getTileTextureCoordinates(P.index),I=R.tileWidth,B=R.tileHeight;if(!(!M||I===0||B===0)){var D=I*.5,N=B*.5,_=R.glTexture,G=m.setTexture2D(_,h),$=I,V=B,Y=M.x,U=M.y,F=R.tileOffset.x,O=R.tileOffset.y,j=y(P.tint,p*P.alpha);m.batchTexture(h,_,_.width,_.height,w+P.pixelX*E+(D*E-F),C+P.pixelY*T+(N*T-O),I,B,E,T,P.rotation,P.flipX,P.flipY,x,b,D,N,Y,U,$,V,j,j,j,j,P.tintFill,0,0,u,null,!0,G,!0)}}}f.pipelines.postBatch(h)}};s.exports=v},33629:(s,g,i)=>{var a=i(83419),v=i(26099),f=new a({initialize:function(u,o,d,p,l,m,y,x,b){(d===void 0||d<=0)&&(d=32),(p===void 0||p<=0)&&(p=32),l===void 0&&(l=0),m===void 0&&(m=0),y===void 0&&(y={}),x===void 0&&(x={}),this.name=u,this.firstgid=o,this.tileWidth=d,this.tileHeight=p,this.tileMargin=l,this.tileSpacing=m,this.tileProperties=y,this.tileData=x,this.tileOffset=new v,b!==void 0&&this.tileOffset.set(b.x,b.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(h){return this.containsTileIndex(h)?this.tileProperties[h-this.firstgid]:null},getTileData:function(h){return this.containsTileIndex(h)?this.tileData[h-this.firstgid]:null},getTileCollisionGroup:function(h){var u=this.getTileData(h);return u&&u.objectgroup?u.objectgroup:null},containsTileIndex:function(h){return h>=this.firstgid&&h<this.firstgid+this.total},getTileTextureCoordinates:function(h){return this.containsTileIndex(h)?this.texCoordinates[h-this.firstgid]:null},setImage:function(h){this.image=h;var u=h.get(),o=h.getFrameBounds();return this.glTexture=u.source.glTexture,u.width>o.width||u.height>o.height?this.updateTileData(u.width,u.height):this.updateTileData(o.width,o.height,o.x,o.y),this},setTileSize:function(h,u){return h!==void 0&&(this.tileWidth=h),u!==void 0&&(this.tileHeight=u),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(h,u){return h!==void 0&&(this.tileMargin=h),u!==void 0&&(this.tileSpacing=u),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(h,u,o,d){o===void 0&&(o=0),d===void 0&&(d=0);var p=(u-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),l=(h-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(p%1!==0||l%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),p=Math.floor(p),l=Math.floor(l),this.rows=p,this.columns=l,this.total=p*l,this.texCoordinates.length=0;for(var m=this.tileMargin+o,y=this.tileMargin+d,x=0;x<this.rows;x++){for(var b=0;b<this.columns;b++)this.texCoordinates.push({x:m,y}),m+=this.tileWidth+this.tileSpacing;m=this.tileMargin+o,y+=this.tileHeight+this.tileSpacing}return this}});s.exports=f},72023:(s,g,i)=>{var a=i(7423),v=function(f,h,u){var o=a(f,h,!0,u),d=a(f,h-1,!0,u),p=a(f,h+1,!0,u),l=a(f-1,h,!0,u),m=a(f+1,h,!0,u),y=o&&o.collides;return y&&(o.faceTop=!0,o.faceBottom=!0,o.faceLeft=!0,o.faceRight=!0),d&&d.collides&&(y&&(o.faceTop=!1),d.faceBottom=!y),p&&p.collides&&(y&&(o.faceBottom=!1),p.faceTop=!y),l&&l.collides&&(y&&(o.faceLeft=!1),l.faceRight=!y),m&&m.collides&&(y&&(o.faceRight=!1),m.faceLeft=!y),o&&!o.collides&&o.resetFaces(),o};s.exports=v},42573:(s,g,i)=>{var a=i(7423),v=i(7386),f=function(h,u,o,d,p){for(var l=null,m=null,y=null,x=null,b=v(h,u,o,d,null,p),w=0;w<b.length;w++){var C=b[w];C&&(C.collides?(l=a(C.x,C.y-1,!0,p),m=a(C.x,C.y+1,!0,p),y=a(C.x-1,C.y,!0,p),x=a(C.x+1,C.y,!0,p),C.faceTop=!(l&&l.collides),C.faceBottom=!(m&&m.collides),C.faceLeft=!(y&&y.collides),C.faceRight=!(x&&x.collides)):C.resetFaces())}};s.exports=f},33528:(s,g,i)=>{var a=i(26099),v=new a,f=function(h,u,o,d){var p=o.tilemapLayer,l=p.cullPaddingX,m=p.cullPaddingY,y=p.tilemap.tileToWorldXY(h,u,v,d,p);return y.x>d.worldView.x+p.scaleX*o.tileWidth*(-l-.5)&&y.x<d.worldView.right+p.scaleX*o.tileWidth*(l-.5)&&y.y>d.worldView.y+p.scaleY*o.tileHeight*(-m-1)&&y.y<d.worldView.bottom+p.scaleY*o.tileHeight*(m-.5)};s.exports=f},1785:(s,g,i)=>{var a=i(42573),v=i(7386),f=i(62991),h=i(23029),u=function(o,d,p,l,m,y,x,b){x===void 0&&(x=!0);var w=v(o,d,p,l,null,b),C=[];w.forEach(function(I){var B=new h(I.layer,I.index,I.x,I.y,I.width,I.height,I.baseWidth,I.baseHeight);B.copy(I),C.push(B)});for(var E=m-o,T=y-d,k=0;k<C.length;k++){var P=C[k],R=P.x+E,M=P.y+T;f(R,M,b)&&b.data[M][R]&&(P.x=R,P.y=M,P.updatePixelXY(),b.data[M][R]=P)}x&&a(m-1,y-1,p+2,l+2,b),w.length=0,C.length=0};s.exports=u},78419:(s,g,i)=>{var a=i(62644),v=i(7386),f=i(27987),h=function(u,o,d,p,l,m){d||(d={}),Array.isArray(u)||(u=[u]);var y=m.tilemapLayer;p||(p=y.scene),l||(l=p.cameras.main);var x=m.width,b=m.height,w=v(0,0,x,b,null,m),C=[],E,T=function(M,I,B){for(var D=0;D<B.length;D++){var N=B[D];M.hasOwnProperty(N)||(M[N]=I[N])}};for(E=0;E<w.length;E++){var k=w[E],P=a(d);if(u.indexOf(k.index)!==-1){var R=y.tileToWorldXY(k.x,k.y,void 0,l,m);P.x=R.x,P.y=R.y,T(P,k,["rotation","flipX","flipY","alpha","visible","tint"]),P.hasOwnProperty("origin")||(P.x+=k.width*.5,P.y+=k.height*.5),P.hasOwnProperty("useSpriteSheet")&&(P.key=k.tileset.image,P.frame=k.index-1),C.push(p.make.sprite(P))}}if(Array.isArray(o))for(E=0;E<u.length;E++)f(u[E],o[E],0,0,x,b,m);else if(o!==null)for(E=0;E<u.length;E++)f(u[E],o,0,0,x,b,m);return C};s.exports=h},19545:(s,g,i)=>{var a=i(87841),v=i(63448),f=i(56583),h=new a,u=function(o,d){var p=o.tilemapLayer.tilemap,l=o.tilemapLayer,m=Math.floor(p.tileWidth*l.scaleX),y=Math.floor(p.tileHeight*l.scaleY),x=f(d.worldView.x-l.x,m,0,!0)-l.cullPaddingX,b=v(d.worldView.right-l.x,m,0,!0)+l.cullPaddingX,w=f(d.worldView.y-l.y,y,0,!0)-l.cullPaddingY,C=v(d.worldView.bottom-l.y,y,0,!0)+l.cullPaddingY;return h.setTo(x,w,b-x,C-w)};s.exports=u},30003:(s,g,i)=>{var a=i(19545),v=i(32483),f=function(h,u,o,d){o===void 0&&(o=[]),d===void 0&&(d=0),o.length=0;var p=h.tilemapLayer,l=a(h,u);return(p.skipCull||p.scrollFactorX!==1||p.scrollFactorY!==1)&&(l.left=0,l.right=h.width,l.top=0,l.bottom=h.height),v(h,l,d,o),o};s.exports=f},35137:(s,g,i)=>{var a=i(7386),v=i(42573),f=i(20576),h=function(u,o,d,p,l,m,y){for(var x=y.collideIndexes.indexOf(u)!==-1,b=a(o,d,p,l,null,y),w=0;w<b.length;w++)b[w].index=u,f(b[w],x);m&&v(o-1,d-1,p+2,l+2,y)};s.exports=h},40253:(s,g,i)=>{var a=i(7386),v=function(f,h,u,o,d,p,l,m){var y=a(u,o,d,p,l,m);return y.filter(f,h)};s.exports=v},52692:s=>{var g=function(i,a,v,f){a===void 0&&(a=0),v===void 0&&(v=!1);var h=0,u,o,d;if(v){for(o=f.height-1;o>=0;o--)for(u=f.width-1;u>=0;u--)if(d=f.data[o][u],d&&d.index===i){if(h===a)return d;h+=1}}else for(o=0;o<f.height;o++)for(u=0;u<f.width;u++)if(d=f.data[o][u],d&&d.index===i){if(h===a)return d;h+=1}return null};s.exports=g},66151:(s,g,i)=>{var a=i(7386),v=function(f,h,u,o,d,p,l,m){var y=a(u,o,d,p,l,m);return y.find(f,h)||null};s.exports=v},97560:(s,g,i)=>{var a=i(7386),v=function(f,h,u,o,d,p,l,m){var y=a(u,o,d,p,l,m);y.forEach(f,h)};s.exports=v},43305:(s,g,i)=>{var a=i(91907),v=i(30003),f=i(9474),h=i(14018),u=i(29747),o=i(54503),d=function(p){return p===a.ORTHOGONAL?v:p===a.HEXAGONAL?f:p===a.STAGGERED?o:p===a.ISOMETRIC?h:u};s.exports=d},7423:(s,g,i)=>{var a=i(62991),v=function(f,h,u,o){if(u===void 0&&(u=!1),a(f,h,o)){var d=o.data[h][f]||null;return d?d.index===-1?u?d:null:d:null}else return null};s.exports=v},60540:(s,g,i)=>{var a=i(7423),v=i(26099),f=new v,h=function(u,o,d,p,l){return l.tilemapLayer.worldToTileXY(u,o,!0,f,p),a(f.x,f.y,d,l)};s.exports=h},55826:(s,g,i)=>{var a=i(26099),v=function(f,h,u,o){var d=o.baseTileWidth,p=o.baseTileHeight,l=o.tilemapLayer,m=0,y=0;l&&(u||(u=l.scene.cameras.main),m=l.x+u.scrollX*(1-l.scrollFactorX),y=l.y+u.scrollY*(1-l.scrollFactorY),d*=l.scaleX,p*=l.scaleY);var x=m+f*d,b=y+h*p;return[new a(x,b),new a(x+d,b),new a(x+d,b+p),new a(x,b+p)]};s.exports=v},11758:(s,g,i)=>{var a=i(91907),v=i(27229),f=i(29747),h=i(55826),u=function(o){return o===a.ORTHOGONAL?h:o===a.ISOMETRIC?f:o===a.HEXAGONAL?v:(o===a.STAGGERED,f)};s.exports=u},39167:(s,g,i)=>{var a=i(91907),v=i(29747),f=i(97281),h=function(u){return u===a.ORTHOGONAL?f:v};s.exports=h},62e3:(s,g,i)=>{var a=i(91907),v=i(19951),f=i(14127),h=i(29747),u=i(97202),o=i(70326),d=function(p){return p===a.ORTHOGONAL?o:p===a.ISOMETRIC?f:p===a.HEXAGONAL?v:p===a.STAGGERED?u:h};s.exports=d},5984:(s,g,i)=>{var a=i(91907),v=i(29747),f=i(28054),h=i(29650),u=function(o){return o===a.ORTHOGONAL?h:o===a.STAGGERED?f:v};s.exports=u},7386:(s,g,i)=>{var a=i(95540),v=function(f,h,u,o,d,p){f===void 0&&(f=0),h===void 0&&(h=0),u===void 0&&(u=p.width),o===void 0&&(o=p.height),d||(d={});var l=a(d,"isNotEmpty",!1),m=a(d,"isColliding",!1),y=a(d,"hasInterestingFace",!1);f<0&&(u+=f,f=0),h<0&&(o+=h,h=0),f+u>p.width&&(u=Math.max(p.width-f,0)),h+o>p.height&&(o=Math.max(p.height-h,0));for(var x=[],b=h;b<h+o;b++)for(var w=f;w<f+u;w++){var C=p.data[b][w];if(C!==null){if(l&&C.index===-1||m&&!C.collides||y&&!C.hasInterestingFace)continue;x.push(C)}}return x};s.exports=v},91141:(s,g,i)=>{var a=i(55738),v=i(7386),f=i(91865),h=i(29747),u=i(26099),o=function(y,x){return f.RectangleToTriangle(x,y)},d=new u,p=new u,l=new u,m=function(y,x,b,w){if(y===void 0)return[];var C=h;y instanceof a.Circle?C=f.CircleToRectangle:y instanceof a.Rectangle?C=f.RectangleToRectangle:y instanceof a.Triangle?C=o:y instanceof a.Line&&(C=f.LineToRectangle),w.tilemapLayer.worldToTileXY(y.left,y.top,!0,p,b);var E=p.x,T=p.y;w.tilemapLayer.worldToTileXY(y.right,y.bottom,!1,l,b);var k=Math.ceil(l.x),P=Math.ceil(l.y),R=Math.max(k-E,1),M=Math.max(P-T,1),I=v(E,T,R,M,x,w),B=w.tileWidth,D=w.tileHeight;w.tilemapLayer&&(B*=w.tilemapLayer.scaleX,D*=w.tilemapLayer.scaleY);for(var N=[],_=new a.Rectangle(0,0,B,D),G=0;G<I.length;G++){var $=I[G];w.tilemapLayer.tileToWorldXY($.x,$.y,d,b),_.x=d.x,_.y=d.y,C(y,_)&&N.push($)}return N};s.exports=m},96523:(s,g,i)=>{var a=i(7386),v=i(26099),f=new v,h=new v,u=function(o,d,p,l,m,y,x){var b=x.tilemapLayer.tilemap._convert.WorldToTileXY;b(o,d,!0,f,y,x);var w=f.x,C=f.y;b(o+p,d+l,!1,h,y,x);var E=Math.ceil(h.x),T=Math.ceil(h.y);return a(w,C,E-w,T-C,m,x)};s.exports=u},96113:(s,g,i)=>{var a=i(91907),v=i(20242),f=i(10095),h=function(u){return u===a.ORTHOGONAL?f:v};s.exports=h},16926:(s,g,i)=>{var a=i(91907),v=i(86625),f=i(96897),h=i(29747),u=i(15108),o=i(85896),d=function(p){return p===a.ORTHOGONAL?o:p===a.ISOMETRIC?f:p===a.HEXAGONAL?v:p===a.STAGGERED?u:h};s.exports=d},55762:(s,g,i)=>{var a=i(91907),v=i(20242),f=i(51900),h=i(63288),u=function(o){return o===a.ORTHOGONAL?h:o===a.STAGGERED?f:v};s.exports=u},45091:(s,g,i)=>{var a=i(62991),v=function(f,h,u){if(a(f,h,u)){var o=u.data[h][f];return o!==null&&o.index>-1}else return!1};s.exports=v},24152:(s,g,i)=>{var a=i(45091),v=i(26099),f=new v,h=function(u,o,d,p){p.tilemapLayer.worldToTileXY(u,o,!0,f,d);var l=f.x,m=f.y;return a(l,m,p)};s.exports=h},90454:(s,g,i)=>{var a=i(63448),v=i(56583),f=function(h,u){var o=h.tilemapLayer.tilemap,d=h.tilemapLayer,p=Math.floor(o.tileWidth*d.scaleX),l=Math.floor(o.tileHeight*d.scaleY),m=h.hexSideLength,y,x,b,w;if(h.staggerAxis==="y"){var C=(l-m)/2+m;y=v(u.worldView.x-d.x,p,0,!0)-d.cullPaddingX,x=a(u.worldView.right-d.x,p,0,!0)+d.cullPaddingX,b=v(u.worldView.y-d.y,C,0,!0)-d.cullPaddingY,w=a(u.worldView.bottom-d.y,C,0,!0)+d.cullPaddingY}else{var E=(p-m)/2+m;y=v(u.worldView.x-d.x,E,0,!0)-d.cullPaddingX,x=a(u.worldView.right-d.x,E,0,!0)+d.cullPaddingX,b=v(u.worldView.y-d.y,l,0,!0)-d.cullPaddingY,w=a(u.worldView.bottom-d.y,l,0,!0)+d.cullPaddingY}return{left:y,right:x,top:b,bottom:w}};s.exports=f},9474:(s,g,i)=>{var a=i(90454),v=i(32483),f=function(h,u,o,d){o===void 0&&(o=[]),d===void 0&&(d=0),o.length=0;var p=h.tilemapLayer,l=a(h,u);return p.skipCull&&p.scrollFactorX===1&&p.scrollFactorY===1&&(l.left=0,l.right=h.width,l.top=0,l.bottom=h.height),v(h,l,d,o),o};s.exports=f},27229:(s,g,i)=>{var a=i(19951),v=i(26099),f=new v,h=function(u,o,d,p){var l=p.baseTileWidth,m=p.baseTileHeight,y=p.tilemapLayer;y&&(l*=y.scaleX,m*=y.scaleY);var x=a(u,o,f,d,p),b=[],w=.5773502691896257,C,E;p.staggerAxis==="y"?(C=w*l,E=m/2):(C=l/2,E=w*m);for(var T=0;T<6;T++){var k=2*Math.PI*(.5-T)/6;b.push(new v(x.x+C*Math.cos(k),x.y+E*Math.sin(k)))}return b};s.exports=h},19951:(s,g,i)=>{var a=i(26099),v=function(f,h,u,o,d){u||(u=new a);var p=d.baseTileWidth,l=d.baseTileHeight,m=d.tilemapLayer,y=0,x=0;m&&(o||(o=m.scene.cameras.main),y=m.x+o.scrollX*(1-m.scrollFactorX),x=m.y+o.scrollY*(1-m.scrollFactorY),p*=m.scaleX,l*=m.scaleY);var b=p/2,w=l/2,C,E;return d.staggerAxis==="y"?(C=y+p*f+p,E=x+1.5*h*w+w,h%2===0&&(this.staggerIndex==="odd"?C-=b:C+=b)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(C=y+1.5*f*b+b,E=x+l*f+l,f%2===0&&(this.staggerIndex==="odd"?E-=w:E+=w)),u.set(C,E)};s.exports=v},86625:(s,g,i)=>{var a=i(26099),v=function(f,h,u,o,d,p){o||(o=new a);var l=p.baseTileWidth,m=p.baseTileHeight,y=p.tilemapLayer;y&&(d||(d=y.scene.cameras.main),f=f-(y.x+d.scrollX*(1-y.scrollFactorX)),h=h-(y.y+d.scrollY*(1-y.scrollFactorY)),l*=y.scaleX,m*=y.scaleY);var x=.5773502691896257,b=-.3333333333333333,w=0,C=.6666666666666666,E=l/2,T=m/2,k,P,R,M,I;p.staggerAxis==="y"?(k=(f-E)/(x*l),P=(h-T)/T,R=x*k+b*P,M=w*k+C*P):(k=(f-E)/E,P=(h-T)/(x*m),R=b*k+x*P,M=C*k+w*P),I=-R-M;var B=Math.round(R),D=Math.round(M),N=Math.round(I),_=Math.abs(B-R),G=Math.abs(D-M),$=Math.abs(N-I);_>G&&_>$?B=-D-N:G>$&&(D=-B-N);var V,Y=D;return p.staggerIndex==="odd"?V=Y%2===0?D/2+B:D/2+B-.5:V=Y%2===0?D/2+B:D/2+B+.5,o.set(V,Y)};s.exports=v},62991:s=>{var g=function(i,a,v){return i>=0&&i<v.width&&a>=0&&a<v.height};s.exports=g},14018:(s,g,i)=>{var a=i(33528),v=function(f,h,u,o){u===void 0&&(u=[]),o===void 0&&(o=0),u.length=0;var d=f.tilemapLayer,p=f.data,l=f.width,m=f.height,y=d.skipCull,x=0,b=l,w=0,C=m,E,T,k;if(o===0)for(T=w;T<C;T++)for(E=x;E<b;E++)k=p[T][E],!(!k||k.index===-1||!k.visible||k.alpha===0)&&(!y&&!a(E,T,f,h)||u.push(k));else if(o===1)for(T=w;T<C;T++)for(E=b;E>=x;E--)k=p[T][E],!(!k||k.index===-1||!k.visible||k.alpha===0)&&(!y&&!a(E,T,f,h)||u.push(k));else if(o===2)for(T=C;T>=w;T--)for(E=x;E<b;E++)k=p[T][E],!(!k||k.index===-1||!k.visible||k.alpha===0)&&(!y&&!a(E,T,f,h)||u.push(k));else if(o===3)for(T=C;T>=w;T--)for(E=b;E>=x;E--)k=p[T][E],!(!k||k.index===-1||!k.visible||k.alpha===0)&&(!y&&!a(E,T,f,h)||u.push(k));return d.tilesDrawn=u.length,d.tilesTotal=l*m,u};s.exports=v},14127:(s,g,i)=>{var a=i(26099),v=function(f,h,u,o,d){u||(u=new a);var p=d.baseTileWidth,l=d.baseTileHeight,m=d.tilemapLayer,y=0,x=0;m&&(o||(o=m.scene.cameras.main),y=m.x+o.scrollX*(1-m.scrollFactorX),p*=m.scaleX,x=m.y+o.scrollY*(1-m.scrollFactorY),l*=m.scaleY);var b=y+(f-h)*(p/2),w=x+(f+h)*(l/2);return u.set(b,w)};s.exports=v},96897:(s,g,i)=>{var a=i(26099),v=function(f,h,u,o,d,p,l){o||(o=new a);var m=p.baseTileWidth,y=p.baseTileHeight,x=p.tilemapLayer;x&&(d||(d=x.scene.cameras.main),h=h-(x.y+d.scrollY*(1-x.scrollFactorY)),y*=x.scaleY,f=f-(x.x+d.scrollX*(1-x.scrollFactorX)),m*=x.scaleX);var b=m/2,w=y/2;f=f-b,l||(h=h-y);var C=.5*(f/b+h/w),E=.5*(-f/b+h/w);return u&&(C=Math.floor(C),E=Math.floor(E)),o.set(C,E)};s.exports=v},71558:(s,g,i)=>{var a=i(23029),v=i(62991),f=i(72023),h=i(20576),u=function(o,d,p,l,m){if(l===void 0&&(l=!0),!v(d,p,m))return null;var y,x=m.data[p][d],b=x&&x.collides;o instanceof a?(m.data[p][d]===null&&(m.data[p][d]=new a(m,o.index,d,p,m.tileWidth,m.tileHeight)),m.data[p][d].copy(o)):(y=o,m.data[p][d]===null?m.data[p][d]=new a(m,y,d,p,m.tileWidth,m.tileHeight):m.data[p][d].index=y);var w=m.data[p][d],C=m.collideIndexes.indexOf(w.index)!==-1;if(y=o instanceof a?o.index:o,y===-1)w.width=m.tileWidth,w.height=m.tileHeight;else{var E=m.tilemapLayer.tilemap,T=E.tiles,k=T[y][2],P=E.tilesets[k];w.width=P.tileWidth,w.height=P.tileHeight}return h(w,C),l&&b!==w.collides&&f(d,p,m),w};s.exports=u},26303:(s,g,i)=>{var a=i(71558),v=i(26099),f=new v,h=function(u,o,d,p,l,m){return m.tilemapLayer.worldToTileXY(o,d,!0,f,l,m),a(u,f.x,f.y,p,m)};s.exports=h},14051:(s,g,i)=>{var a=i(42573),v=i(71558),f=function(h,u,o,d,p){if(d===void 0&&(d=!0),!Array.isArray(h))return null;Array.isArray(h[0])||(h=[h]);for(var l=h.length,m=h[0].length,y=0;y<l;y++)for(var x=0;x<m;x++){var b=h[y][x];v(b,u+x,o+y,!1,p)}d&&a(u-1,o-1,m+2,l+2,p)};s.exports=f},77389:(s,g,i)=>{var a=i(7386),v=i(26546),f=function(h,u,o,d,p,l){var m,y=a(h,u,o,d,{},l);if(!p)for(p=[],m=0;m<y.length;m++)p.indexOf(y[m].index)===-1&&p.push(y[m].index);for(m=0;m<y.length;m++)y[m].index=v(p)};s.exports=f},63557:(s,g,i)=>{var a=i(23029),v=i(62991),f=i(72023),h=function(u,o,d,p,l){if(d===void 0&&(d=!0),p===void 0&&(p=!0),!v(u,o,l))return null;var m=l.data[o][u];if(m)l.data[o][u]=d?null:new a(l,-1,u,o,l.tileWidth,l.tileHeight);else return null;return p&&m&&m.collides&&f(u,o,l),m};s.exports=h},94178:(s,g,i)=>{var a=i(63557),v=i(26099),f=new v,h=function(u,o,d,p,l,m){return m.tilemapLayer.worldToTileXY(u,o,!0,f,l,m),a(f.x,f.y,d,p,m)};s.exports=h},15533:(s,g,i)=>{var a=i(7386),v=i(3956),f=new v(105,210,231,150),h=new v(243,134,48,200),u=new v(40,39,37,150),o=function(d,p,l){p===void 0&&(p={});var m=p.tileColor!==void 0?p.tileColor:f,y=p.collidingTileColor!==void 0?p.collidingTileColor:h,x=p.faceColor!==void 0?p.faceColor:u,b=a(0,0,l.width,l.height,null,l);d.translateCanvas(l.tilemapLayer.x,l.tilemapLayer.y),d.scaleCanvas(l.tilemapLayer.scaleX,l.tilemapLayer.scaleY);for(var w=0;w<b.length;w++){var C=b[w],E=C.width,T=C.height,k=C.pixelX,P=C.pixelY,R=C.collides?y:m;R!==null&&(d.fillStyle(R.color,R.alpha/255),d.fillRect(k,P,E,T)),k+=1,P+=1,E-=2,T-=2,x!==null&&(d.lineStyle(1,x.color,x.alpha/255),C.faceTop&&d.lineBetween(k,P,k+E,P),C.faceRight&&d.lineBetween(k+E,P,k+E,P+T),C.faceBottom&&d.lineBetween(k,P+T,k+E,P+T),C.faceLeft&&d.lineBetween(k,P,k,P+T))}};s.exports=o},27987:(s,g,i)=>{var a=i(7386),v=function(f,h,u,o,d,p,l){for(var m=a(u,o,d,p,null,l),y=0;y<m.length;y++)m[y]&&m[y].index===f&&(m[y].index=h)};s.exports=v},32483:s=>{var g=function(i,a,v,f){var h=i.data,u=i.width,o=i.height,d=i.tilemapLayer,p=Math.max(0,a.left),l=Math.min(u,a.right),m=Math.max(0,a.top),y=Math.min(o,a.bottom),x,b,w;if(v===0)for(b=m;b<y;b++)for(x=p;h[b]&&x<l;x++)w=h[b][x],!(!w||w.index===-1||!w.visible||w.alpha===0)&&f.push(w);else if(v===1)for(b=m;b<y;b++)for(x=l;h[b]&&x>=p;x--)w=h[b][x],!(!w||w.index===-1||!w.visible||w.alpha===0)&&f.push(w);else if(v===2)for(b=y;b>=m;b--)for(x=p;h[b]&&x<l;x++)w=h[b][x],!(!w||w.index===-1||!w.visible||w.alpha===0)&&f.push(w);else if(v===3)for(b=y;b>=m;b--)for(x=l;h[b]&&x>=p;x--)w=h[b][x],!(!w||w.index===-1||!w.visible||w.alpha===0)&&f.push(w);return d.tilesDrawn=f.length,d.tilesTotal=u*o,f};s.exports=g},57068:(s,g,i)=>{var a=i(20576),v=i(42573),f=i(9589),h=function(u,o,d,p,l){o===void 0&&(o=!0),d===void 0&&(d=!0),l===void 0&&(l=!0),Array.isArray(u)||(u=[u]);for(var m=0;m<u.length;m++)f(u[m],o,p);if(l)for(var y=0;y<p.height;y++)for(var x=0;x<p.width;x++){var b=p.data[y][x];b&&u.indexOf(b.index)!==-1&&a(b,o)}d&&v(0,0,p.width,p.height,p)};s.exports=h},37266:(s,g,i)=>{var a=i(20576),v=i(42573),f=i(9589),h=function(u,o,d,p,l,m){if(d===void 0&&(d=!0),p===void 0&&(p=!0),m===void 0&&(m=!0),!(u>o)){for(var y=u;y<=o;y++)f(y,d,l);if(m)for(var x=0;x<l.height;x++)for(var b=0;b<l.width;b++){var w=l.data[x][b];w&&w.index>=u&&w.index<=o&&a(w,d)}p&&v(0,0,l.width,l.height,l)}};s.exports=h},75661:(s,g,i)=>{var a=i(20576),v=i(42573),f=i(9589),h=function(u,o,d,p){o===void 0&&(o=!0),d===void 0&&(d=!0),Array.isArray(u)||(u=[u]);for(var l=0;l<p.height;l++)for(var m=0;m<p.width;m++){var y=p.data[l][m];y&&u.indexOf(y.index)===-1&&(a(y,o),f(y.index,o,p))}d&&v(0,0,p.width,p.height,p)};s.exports=h},64740:(s,g,i)=>{var a=i(20576),v=i(42573),f=i(97022),h=function(u,o,d,p){o===void 0&&(o=!0),d===void 0&&(d=!0);for(var l=0;l<p.height;l++)for(var m=0;m<p.width;m++){var y=p.data[l][m];if(y){for(var x in u)if(f(y.properties,x)){var b=u[x];Array.isArray(b)||(b=[b]);for(var w=0;w<b.length;w++)y.properties[x]===b[w]&&a(y,o)}}}d&&v(0,0,p.width,p.height,p)};s.exports=h},63307:(s,g,i)=>{var a=i(20576),v=i(42573),f=function(h,u,o){h===void 0&&(h=!0),u===void 0&&(u=!0);for(var d=0;d<o.height;d++)for(var p=0;p<o.width;p++){var l=o.data[d][p];if(l){var m=l.getCollisionGroup();m&&m.objects&&m.objects.length>0&&a(l,h)}}u&&v(0,0,o.width,o.height,o)};s.exports=f},9589:s=>{var g=function(i,a,v){var f=v.collideIndexes.indexOf(i);a&&f===-1?v.collideIndexes.push(i):!a&&f!==-1&&v.collideIndexes.splice(f,1)};s.exports=g},20576:s=>{var g=function(i,a){a?i.setCollision(!0,!0,!0,!0,!1):i.resetCollision(!1)};s.exports=g},79583:s=>{var g=function(i,a,v,f){if(typeof i=="number")f.callbacks[i]=a!==null?{callback:a,callbackContext:v}:void 0;else for(var h=0,u=i.length;h<u;h++)f.callbacks[i[h]]=a!==null?{callback:a,callbackContext:v}:void 0};s.exports=g},93254:(s,g,i)=>{var a=i(7386),v=function(f,h,u,o,d,p,l){for(var m=a(f,h,u,o,null,l),y=0;y<m.length;y++)m[y].setCollisionCallback(d,p)};s.exports=v},32903:(s,g,i)=>{var a=i(7386),v=i(33680),f=function(h,u,o,d,p){var l=a(h,u,o,d,null,p),m=l.map(function(x){return x.index});v(m);for(var y=0;y<l.length;y++)l[y].index=m[y]};s.exports=f},61325:(s,g,i)=>{var a=i(63448),v=i(56583),f=function(h,u){var o=h.tilemapLayer.tilemap,d=h.tilemapLayer,p=Math.floor(o.tileWidth*d.scaleX),l=Math.floor(o.tileHeight*d.scaleY),m=v(u.worldView.x-d.x,p,0,!0)-d.cullPaddingX,y=a(u.worldView.right-d.x,p,0,!0)+d.cullPaddingX,x=v(u.worldView.y-d.y,l/2,0,!0)-d.cullPaddingY,b=a(u.worldView.bottom-d.y,l/2,0,!0)+d.cullPaddingY;return{left:m,right:y,top:x,bottom:b}};s.exports=f},54503:(s,g,i)=>{var a=i(61325),v=i(32483),f=function(h,u,o,d){o===void 0&&(o=[]),d===void 0&&(d=0),o.length=0;var p=h.tilemapLayer,l=a(h,u);return p.skipCull&&p.scrollFactorX===1&&p.scrollFactorY===1&&(l.left=0,l.right=h.width,l.top=0,l.bottom=h.height),v(h,l,d,o),o};s.exports=f},97202:(s,g,i)=>{var a=i(26099),v=function(f,h,u,o,d){u||(u=new a);var p=d.baseTileWidth,l=d.baseTileHeight,m=d.tilemapLayer,y=0,x=0;m&&(o||(o=m.scene.cameras.main),y=m.x+o.scrollX*(1-m.scrollFactorX),p*=m.scaleX,x=m.y+o.scrollY*(1-m.scrollFactorY),l*=m.scaleY);var b=y+f*p+h%2*(p/2),w=x+h*(l/2);return u.set(b,w)};s.exports=v},28054:s=>{var g=function(i,a,v){var f=v.baseTileHeight,h=v.tilemapLayer,u=0;return h&&(a===void 0&&(a=h.scene.cameras.main),u=h.y+a.scrollY*(1-h.scrollFactorY),f*=h.scaleY),u+i*(f/2)+f};s.exports=g},15108:(s,g,i)=>{var a=i(26099),v=function(f,h,u,o,d,p){o||(o=new a);var l=p.baseTileWidth,m=p.baseTileHeight,y=p.tilemapLayer;y&&(d||(d=y.scene.cameras.main),h=h-(y.y+d.scrollY*(1-y.scrollFactorY)),m*=y.scaleY,f=f-(y.x+d.scrollX*(1-y.scrollFactorX)),l*=y.scaleX);var x=u?Math.floor(h/(m/2)):h/(m/2),b=u?Math.floor((f+x%2*.5*l)/l):(f+x%2*.5*l)/l;return o.set(b,x)};s.exports=v},51900:s=>{var g=function(i,a,v,f){var h=f.baseTileHeight,u=f.tilemapLayer;return u&&(v||(v=u.scene.cameras.main),i=i-(u.y+v.scrollY*(1-u.scrollFactorY)),h*=u.scaleY),a?Math.floor(i/(h/2)):i/(h/2)};s.exports=g},86560:(s,g,i)=>{var a=i(7386),v=function(f,h,u,o,d,p,l){for(var m=a(u,o,d,p,null,l),y=0;y<m.length;y++)m[y]&&(m[y].index===f?m[y].index=h:m[y].index===h&&(m[y].index=f))};s.exports=v},97281:s=>{var g=function(i,a,v){var f=v.baseTileWidth,h=v.tilemapLayer,u=0;return h&&(a||(a=h.scene.cameras.main),u=h.x+a.scrollX*(1-h.scrollFactorX),f*=h.scaleX),u+i*f};s.exports=g},70326:(s,g,i)=>{var a=i(97281),v=i(29650),f=i(26099),h=function(u,o,d,p,l){return d||(d=new f(0,0)),d.x=a(u,p,l),d.y=v(o,p,l),d};s.exports=h},29650:s=>{var g=function(i,a,v){var f=v.baseTileHeight,h=v.tilemapLayer,u=0;return h&&(a||(a=h.scene.cameras.main),u=h.y+a.scrollY*(1-h.scrollFactorY),f*=h.scaleY),u+i*f};s.exports=g},77366:(s,g,i)=>{var a=i(7386),v=i(75508),f=function(h,u,o,d,p,l){if(p){var m,y=a(h,u,o,d,null,l),x=0;for(m=0;m<p.length;m++)x+=p[m].weight;if(!(x<=0))for(m=0;m<y.length;m++){for(var b=v.RND.frac()*x,w=0,C=-1,E=0;E<p.length;E++)if(w+=p[E].weight,b<=w){var T=p[E].index;C=Array.isArray(T)?T[Math.floor(v.RND.frac()*T.length)]:T;break}y[m].index=C}}};s.exports=f},10095:(s,g,i)=>{var a=i(85896),v=i(26099),f=new v,h=function(u,o,d,p){return a(u,0,o,f,d,p),f.x};s.exports=h},85896:(s,g,i)=>{var a=i(26099),v=function(f,h,u,o,d,p){u===void 0&&(u=!0),o||(o=new a);var l=p.baseTileWidth,m=p.baseTileHeight,y=p.tilemapLayer;y&&(d||(d=y.scene.cameras.main),f=f-(y.x+d.scrollX*(1-y.scrollFactorX)),h=h-(y.y+d.scrollY*(1-y.scrollFactorY)),l*=y.scaleX,m*=y.scaleY);var x=f/l,b=h/m;return u&&(x=Math.floor(x),b=Math.floor(b)),o.set(x,b)};s.exports=v},63288:(s,g,i)=>{var a=i(85896),v=i(26099),f=new v,h=function(u,o,d,p){return a(0,u,o,f,d,p),f.y};s.exports=h},81086:(s,g,i)=>{s.exports={CalculateFacesAt:i(72023),CalculateFacesWithin:i(42573),CheckIsoBounds:i(33528),Copy:i(1785),CreateFromTiles:i(78419),CullBounds:i(19545),CullTiles:i(30003),Fill:i(35137),FilterTiles:i(40253),FindByIndex:i(52692),FindTile:i(66151),ForEachTile:i(97560),GetCullTilesFunction:i(43305),GetTileAt:i(7423),GetTileAtWorldXY:i(60540),GetTileCorners:i(55826),GetTileCornersFunction:i(11758),GetTilesWithin:i(7386),GetTilesWithinShape:i(91141),GetTilesWithinWorldXY:i(96523),GetTileToWorldXFunction:i(39167),GetTileToWorldXYFunction:i(62e3),GetTileToWorldYFunction:i(5984),GetWorldToTileXFunction:i(96113),GetWorldToTileXYFunction:i(16926),GetWorldToTileYFunction:i(55762),HasTileAt:i(45091),HasTileAtWorldXY:i(24152),HexagonalCullBounds:i(90454),HexagonalCullTiles:i(9474),HexagonalGetTileCorners:i(27229),HexagonalTileToWorldXY:i(19951),HexagonalWorldToTileXY:i(86625),IsInLayerBounds:i(62991),IsometricCullTiles:i(14018),IsometricTileToWorldXY:i(14127),IsometricWorldToTileXY:i(96897),PutTileAt:i(71558),PutTileAtWorldXY:i(26303),PutTilesAt:i(14051),Randomize:i(77389),RemoveTileAt:i(63557),RemoveTileAtWorldXY:i(94178),RenderDebug:i(15533),ReplaceByIndex:i(27987),RunCull:i(32483),SetCollision:i(57068),SetCollisionBetween:i(37266),SetCollisionByExclusion:i(75661),SetCollisionByProperty:i(64740),SetCollisionFromCollisionGroup:i(63307),SetLayerCollisionIndex:i(9589),SetTileCollision:i(20576),SetTileIndexCallback:i(79583),SetTileLocationCallback:i(93254),Shuffle:i(32903),StaggeredCullBounds:i(61325),StaggeredCullTiles:i(54503),StaggeredTileToWorldXY:i(97202),StaggeredTileToWorldY:i(28054),StaggeredWorldToTileXY:i(15108),StaggeredWorldToTileY:i(51900),SwapByIndex:i(86560),TileToWorldX:i(97281),TileToWorldXY:i(70326),TileToWorldY:i(29650),WeightedRandomize:i(77366),WorldToTileX:i(10095),WorldToTileXY:i(85896),WorldToTileY:i(63288)}},91907:s=>{s.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(s,g,i)=>{var a={ORIENTATION:i(91907)};s.exports=a},62501:(s,g,i)=>{var a=i(79291),v=i(21829),f={Components:i(81086),Parsers:i(57442),Formats:i(80341),ImageCollection:i(16536),ParseToTilemap:i(31989),Tile:i(23029),Tilemap:i(49075),TilemapCreator:i(45939),TilemapFactory:i(46029),Tileset:i(33629),TilemapLayer:i(20442),Orientation:i(91907),LayerData:i(14977),MapData:i(87010),ObjectLayer:i(48700)};f=a(!1,f,v.ORIENTATION),s.exports=f},14977:(s,g,i)=>{var a=i(83419),v=i(91907),f=i(95540),h=new a({initialize:function(o){o===void 0&&(o={}),this.name=f(o,"name","layer"),this.id=f(o,"id",0),this.x=f(o,"x",0),this.y=f(o,"y",0),this.width=f(o,"width",0),this.height=f(o,"height",0),this.tileWidth=f(o,"tileWidth",0),this.tileHeight=f(o,"tileHeight",0),this.baseTileWidth=f(o,"baseTileWidth",this.tileWidth),this.baseTileHeight=f(o,"baseTileHeight",this.tileHeight),this.orientation=f(o,"orientation",v.ORTHOGONAL),this.widthInPixels=f(o,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=f(o,"heightInPixels",this.height*this.baseTileHeight),this.alpha=f(o,"alpha",1),this.visible=f(o,"visible",!0),this.properties=f(o,"properties",[]),this.indexes=f(o,"indexes",[]),this.collideIndexes=f(o,"collideIndexes",[]),this.callbacks=f(o,"callbacks",[]),this.bodies=f(o,"bodies",[]),this.data=f(o,"data",[]),this.tilemapLayer=f(o,"tilemapLayer",null),this.hexSideLength=f(o,"hexSideLength",0),this.staggerAxis=f(o,"staggerAxis","y"),this.staggerIndex=f(o,"staggerIndex","odd")}});s.exports=h},87010:(s,g,i)=>{var a=i(83419),v=i(91907),f=i(95540),h=new a({initialize:function(o){o===void 0&&(o={}),this.name=f(o,"name","map"),this.width=f(o,"width",0),this.height=f(o,"height",0),this.infinite=f(o,"infinite",!1),this.tileWidth=f(o,"tileWidth",0),this.tileHeight=f(o,"tileHeight",0),this.widthInPixels=f(o,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=f(o,"heightInPixels",this.height*this.tileHeight),this.format=f(o,"format",null),this.orientation=f(o,"orientation",v.ORTHOGONAL),this.renderOrder=f(o,"renderOrder","right-down"),this.version=f(o,"version","1"),this.properties=f(o,"properties",{}),this.layers=f(o,"layers",[]),this.images=f(o,"images",[]),this.objects=f(o,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=f(o,"collision",{}),this.tilesets=f(o,"tilesets",[]),this.imageCollections=f(o,"imageCollections",[]),this.tiles=f(o,"tiles",[]),this.hexSideLength=f(o,"hexSideLength",0),this.staggerAxis=f(o,"staggerAxis","y"),this.staggerIndex=f(o,"staggerIndex","odd")}});s.exports=h},48700:(s,g,i)=>{var a=i(83419),v=i(95540),f=new a({initialize:function(u){u===void 0&&(u={}),this.name=v(u,"name","object layer"),this.id=v(u,"id",0),this.opacity=v(u,"opacity",1),this.properties=v(u,"properties",{}),this.propertyTypes=v(u,"propertytypes",{}),this.type=v(u,"type","objectgroup"),this.visible=v(u,"visible",!0),this.objects=v(u,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});s.exports=f},6641:(s,g,i)=>{var a=i(91907),v=function(f){return f=f.toLowerCase(),f==="isometric"?a.ISOMETRIC:f==="staggered"?a.STAGGERED:f==="hexagonal"?a.HEXAGONAL:a.ORTHOGONAL};s.exports=v},46177:(s,g,i)=>{var a=i(80341),v=i(2342),f=i(82593),h=i(46594),u=i(87021),o=function(d,p,l,m,y,x){var b;switch(p){case a.ARRAY_2D:b=v(d,l,m,y,x);break;case a.CSV:b=f(d,l,m,y,x);break;case a.TILED_JSON:b=h(d,l,x);break;case a.WELTMEISTER:b=u(d,l,x);break;default:console.warn("Unrecognized tilemap data format: "+p),b=null}return b};s.exports=o},2342:(s,g,i)=>{var a=i(80341),v=i(14977),f=i(87010),h=i(23029),u=function(o,d,p,l,m){for(var y=new v({tileWidth:p,tileHeight:l}),x=new f({name:o,tileWidth:p,tileHeight:l,format:a.ARRAY_2D,layers:[y]}),b=[],w=d.length,C=0,E=0;E<d.length;E++){b[E]=[];for(var T=d[E],k=0;k<T.length;k++){var P=parseInt(T[k],10);isNaN(P)||P===-1?b[E][k]=m?null:new h(y,-1,k,E,p,l):b[E][k]=new h(y,P,k,E,p,l)}C===0&&(C=T.length)}return x.width=y.width=C,x.height=y.height=w,x.widthInPixels=y.widthInPixels=C*p,x.heightInPixels=y.heightInPixels=w*l,y.data=b,x};s.exports=u},82593:(s,g,i)=>{var a=i(80341),v=i(2342),f=function(h,u,o,d,p){var l=u.trim().split(`
`).map(function(y){return y.split(",")}),m=v(h,l,o,d,p);return m.format=a.CSV,m};s.exports=f},6656:(s,g,i)=>{var a=i(14977),v=i(23029),f=function(h,u){for(var o=[],d=0;d<h.layer.length;d++){for(var p=h.layer[d],l=new a({name:p.name,width:p.width,height:p.height,tileWidth:p.tilesize,tileHeight:p.tilesize,visible:p.visible===1}),m=[],y=[],x=0;x<p.data.length;x++){for(var b=0;b<p.data[x].length;b++){var w=p.data[x][b]-1,C;w>-1?C=new v(l,w,b,x,p.tilesize,p.tilesize):C=u?null:new v(l,-1,b,x,p.tilesize,p.tilesize),m.push(C)}y.push(m),m=[]}l.data=y,o.push(l)}return o};s.exports=f},96483:(s,g,i)=>{var a=i(33629),v=function(f){for(var h=[],u=[],o=0;o<f.layer.length;o++){var d=f.layer[o],p=d.tilesetName;p!==""&&u.indexOf(p)===-1&&(u.push(p),h.push(new a(p,0,d.tilesize,d.tilesize,0,0)))}return h};s.exports=v},87021:(s,g,i)=>{var a=i(80341),v=i(87010),f=i(6656),h=i(96483),u=function(o,d,p){if(d.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+o),null;for(var l=0,m=0,y=0;y<d.layer.length;y++)d.layer[y].width>l&&(l=d.layer[y].width),d.layer[y].height>m&&(m=d.layer[y].height);var x=new v({width:l,height:m,name:o,tileWidth:d.layer[0].tilesize,tileHeight:d.layer[0].tilesize,format:a.WELTMEISTER});return x.layers=f(d,p),x.tilesets=h(d),x};s.exports=u},52833:(s,g,i)=>{s.exports={ParseTileLayers:i(6656),ParseTilesets:i(96483),ParseWeltmeister:i(87021)}},57442:(s,g,i)=>{s.exports={FromOrientationString:i(6641),Parse:i(46177),Parse2DArray:i(2342),ParseCSV:i(82593),Impact:i(52833),Tiled:i(96761)}},51233:(s,g,i)=>{var a=i(79291),v=function(f){for(var h,u,o,d,p,l=0;l<f.layers.length;l++){h=f.layers[l],d=null;for(var m=0;m<h.data.length;m++){p=h.data[m];for(var y=0;y<p.length;y++)u=p[y],!(u===null||u.index<0)&&(o=f.tiles[u.index][2],d=f.tilesets[o],u.width=d.tileWidth,u.height=d.tileHeight,d.tileProperties&&d.tileProperties[u.index-d.firstgid]&&(u.properties=a(u.properties,d.tileProperties[u.index-d.firstgid])))}}};s.exports=v},41868:s=>{var g=function(i){for(var a=window.atob(i),v=a.length,f=new Array(v/4),h=0;h<v;h+=4)f[h/4]=(a.charCodeAt(h)|a.charCodeAt(h+1)<<8|a.charCodeAt(h+2)<<16|a.charCodeAt(h+3)<<24)>>>0;return f};s.exports=g},84101:(s,g,i)=>{var a=i(33629),v=function(f){var h,u,o=[];for(h=0;h<f.imageCollections.length;h++)for(var d=f.imageCollections[h],p=d.images,l=0;l<p.length;l++){var m=p[l];u=new a(m.image,m.gid,d.imageWidth,d.imageHeight,0,0),u.updateTileData(d.imageWidth,d.imageHeight),f.tilesets.push(u)}for(h=0;h<f.tilesets.length;h++){u=f.tilesets[h];for(var y=u.tileMargin,x=u.tileMargin,b=0,w=0,C=0,E=u.firstgid;E<u.firstgid+u.total&&(o[E]=[y,x,h],y+=u.tileWidth+u.tileSpacing,b++,!(b===u.total||(w++,w===u.columns&&(y=u.tileMargin,x+=u.tileHeight+u.tileSpacing,w=0,C++,C===u.rows))));E++);}return o};s.exports=v},79677:(s,g,i)=>{var a=i(95540),v=function(f,h,u){if(!h)return{i:0,layers:f.layers,name:"",opacity:1,visible:!0,x:0,y:0};var o=h.x+a(h,"startx",0)*f.tilewidth+a(h,"offsetx",0),d=h.y+a(h,"starty",0)*f.tileheight+a(h,"offsety",0);return{i:0,layers:h.layers,name:u.name+h.name+"/",opacity:u.opacity*h.opacity,visible:u.visible&&h.visible,x:u.x+o,y:u.y+d}};s.exports=v},29920:s=>{var g=2147483648,i=1073741824,a=536870912,v=function(f){var h=!!(f&g),u=!!(f&i),o=!!(f&a);f=f&~(g|i|a);var d=0,p=!1;return h&&u&&o?(d=Math.PI/2,p=!0):h&&u&&!o?(d=Math.PI,p=!1):h&&!u&&o?(d=Math.PI/2,p=!1):h&&!u&&!o?(d=0,p=!0):!h&&u&&o?(d=3*Math.PI/2,p=!1):!h&&u&&!o?(d=Math.PI,p=!0):!h&&!u&&o?(d=3*Math.PI/2,p=!0):!h&&!u&&!o&&(d=0,p=!1),{gid:f,flippedHorizontal:h,flippedVertical:u,flippedAntiDiagonal:o,rotation:d,flipped:p}};s.exports=v},12635:(s,g,i)=>{var a=i(95540),v=i(79677),f=function(h){for(var u=[],o=[],d=v(h);d.i<d.layers.length||o.length>0;){if(d.i>=d.layers.length){if(o.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=o.pop();continue}var p=d.layers[d.i];if(d.i++,p.type!=="imagelayer"){if(p.type==="group"){var l=v(h,p,d);o.push(d),d=l}continue}var m=a(p,"offsetx",0)+a(p,"startx",0),y=a(p,"offsety",0)+a(p,"starty",0);u.push({name:d.name+p.name,image:p.image,x:d.x+m+p.x,y:d.y+y+p.y,alpha:d.opacity*p.opacity,visible:d.visible&&p.visible,properties:a(p,"properties",{})})}return u};s.exports=f},46594:(s,g,i)=>{var a=i(51233),v=i(84101),f=i(91907),h=i(62644),u=i(80341),o=i(6641),d=i(87010),p=i(12635),l=i(22611),m=i(28200),y=i(24619),x=function(b,w,C){var E=h(w),T=new d({width:E.width,height:E.height,name:b,tileWidth:E.tilewidth,tileHeight:E.tileheight,orientation:o(E.orientation),format:u.TILED_JSON,version:E.version,properties:E.properties,renderOrder:E.renderorder,infinite:E.infinite});T.orientation===f.HEXAGONAL&&(T.hexSideLength=E.hexsidelength,T.staggerAxis=E.staggeraxis,T.staggerIndex=E.staggerindex),T.layers=m(E,C),T.images=p(E);var k=y(E);return T.tilesets=k.tilesets,T.imageCollections=k.imageCollections,T.objects=l(E),T.tiles=v(T),a(T),T};s.exports=x},52205:(s,g,i)=>{var a=i(18254),v=i(29920),f=function(o){return{x:o.x,y:o.y}},h=["id","name","type","rotation","properties","visible","x","y","width","height"],u=function(o,d,p){d===void 0&&(d=0),p===void 0&&(p=0);var l=a(o,h);if(l.x+=d,l.y+=p,o.gid){var m=v(o.gid);l.gid=m.gid,l.flippedHorizontal=m.flippedHorizontal,l.flippedVertical=m.flippedVertical,l.flippedAntiDiagonal=m.flippedAntiDiagonal}else o.polyline?l.polyline=o.polyline.map(f):o.polygon?l.polygon=o.polygon.map(f):o.ellipse?l.ellipse=o.ellipse:o.text?l.text=o.text:o.point?l.point=!0:l.rectangle=!0;return l};s.exports=u},22611:(s,g,i)=>{var a=i(95540),v=i(52205),f=i(48700),h=i(79677),u=function(o){for(var d=[],p=[],l=h(o);l.i<l.layers.length||p.length>0;){if(l.i>=l.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}l=p.pop();continue}var m=l.layers[l.i];if(l.i++,m.opacity*=l.opacity,m.visible=l.visible&&m.visible,m.type!=="objectgroup"){if(m.type==="group"){var y=h(o,m,l);p.push(l),l=y}continue}m.name=l.name+m.name;for(var x=l.x+a(m,"startx",0)+a(m,"offsetx",0),b=l.y+a(m,"starty",0)+a(m,"offsety",0),w=[],C=0;C<m.objects.length;C++){var E=v(m.objects[C],x,b);w.push(E)}var T=new f(m);T.objects=w,d.push(T)}return d};s.exports=u},28200:(s,g,i)=>{var a=i(41868),v=i(91907),f=i(79677),h=i(6641),u=i(95540),o=i(14977),d=i(29920),p=i(23029),l=function(m,y){for(var x=u(m,"infinite",!1),b=[],w=[],C=f(m);C.i<C.layers.length||w.length>0;){if(C.i>=C.layers.length){if(w.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}C=w.pop();continue}var E=C.layers[C.i];if(C.i++,E.type!=="tilelayer"){if(E.type==="group"){var T=f(m,E,C);w.push(C),C=T}continue}if(E.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+E.name+"'");continue}else if(E.encoding&&E.encoding==="base64"){if(E.chunks)for(var k=0;k<E.chunks.length;k++)E.chunks[k].data=a(E.chunks[k].data);E.data&&(E.data=a(E.data)),delete E.encoding}var P,R,M,I,B=[],D=0;if(x){var N=u(E,"startx",0)+E.x,_=u(E,"starty",0)+E.y;P=new o({name:C.name+E.name,id:E.id,x:C.x+u(E,"offsetx",0)+N*m.tilewidth,y:C.y+u(E,"offsety",0)+_*m.tileheight,width:E.width,height:E.height,tileWidth:m.tilewidth,tileHeight:m.tileheight,alpha:C.opacity*E.opacity,visible:C.visible&&E.visible,properties:u(E,"properties",[]),orientation:h(m.orientation)}),P.orientation===v.HEXAGONAL&&(P.hexSideLength=m.hexsidelength,P.staggerAxis=m.staggeraxis,P.staggerIndex=m.staggerindex);for(var G=0;G<E.height;G++){B[G]=[null];for(var $=0;$<E.width;$++)B[G][$]=null}for(G=0,Q=E.chunks.length;G<Q;G++)for(var V=E.chunks[G],Y=V.x-N,U=V.y-_,F=0,O=0,j=V.data.length;O<j;O++){var z=D+Y,W=F+U;R=d(V.data[O]),R.gid>0?(M=new p(P,R.gid,z,W,m.tilewidth,m.tileheight),M.rotation=R.rotation,M.flipX=R.flipped,B[W][z]=M):(I=y?null:new p(P,-1,z,W,m.tilewidth,m.tileheight),B[W][z]=I),D++,D===V.width&&(F++,D=0)}}else{P=new o({name:C.name+E.name,id:E.id,x:C.x+u(E,"offsetx",0)+E.x,y:C.y+u(E,"offsety",0)+E.y,width:E.width,height:E.height,tileWidth:m.tilewidth,tileHeight:m.tileheight,alpha:C.opacity*E.opacity,visible:C.visible&&E.visible,properties:u(E,"properties",[]),orientation:h(m.orientation)}),P.orientation===v.HEXAGONAL&&(P.hexSideLength=m.hexsidelength,P.staggerAxis=m.staggeraxis,P.staggerIndex=m.staggerindex);for(var q=[],ot=0,Q=E.data.length;ot<Q;ot++)R=d(E.data[ot]),R.gid>0?(M=new p(P,R.gid,D,B.length,m.tilewidth,m.tileheight),M.rotation=R.rotation,M.flipX=R.flipped,q.push(M)):(I=y?null:new p(P,-1,D,B.length,m.tilewidth,m.tileheight),q.push(I)),D++,D===E.width&&(B.push(q),D=0,q=[])}P.data=B,b.push(P)}return b};s.exports=l},24619:(s,g,i)=>{var a=i(33629),v=i(16536),f=i(52205),h=i(57880),u=function(o){for(var d=[],p=[],l=null,m,y=0;y<o.tilesets.length;y++){var x=o.tilesets[y];if(x.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(x.image){var b=new a(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,void 0,void 0,x.tileoffset);if(o.version>1){var w=void 0,C=void 0;if(Array.isArray(x.tiles)){w=w||{},C=C||{};for(var E=0;E<x.tiles.length;E++){var T=x.tiles[E];if(T.properties){var k={};T.properties.forEach(function(G){k[G.name]=G.value}),C[T.id]=k}if(T.objectgroup&&((w[T.id]||(w[T.id]={})).objectgroup=T.objectgroup,T.objectgroup.objects)){var P=T.objectgroup.objects.map(function(G){return f(G)});w[T.id].objectgroup.objects=P}T.animation&&((w[T.id]||(w[T.id]={})).animation=T.animation),T.type&&((w[T.id]||(w[T.id]={})).type=T.type)}}Array.isArray(x.wangsets)&&(w=w||{},C=C||{},h(x.wangsets,w)),w&&(b.tileData=w,b.tileProperties=C)}else if(x.tileproperties&&(b.tileProperties=x.tileproperties),x.tiles){b.tileData=x.tiles;for(m in b.tileData){var R=b.tileData[m].objectgroup;if(R&&R.objects){var M=R.objects.map(function(G){return f(G)});b.tileData[m].objectgroup.objects=M}}}b.updateTileData(x.imagewidth,x.imageheight),d.push(b)}else{var I=new v(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,x.properties),B=0;for(E=0;E<x.tiles.length;E++){T=x.tiles[E];var D=T.image,N=parseInt(T.id,10),_=x.firstgid+N;I.addImage(_,D),B=Math.max(N,B)}I.maxId=B,p.push(I)}l&&(l.lastgid=x.firstgid-1),l=x}return{tilesets:d,imageCollections:p}};s.exports=u},57880:s=>{var g=function(i,a){for(var v=0;v<i.length;v++){var f=i[v],h=v;if(f.name&&f.name!==""&&(h=f.name),Array.isArray(f.wangtiles)&&f.wangtiles.length>0){var u={},o={},d,p,l;if(Array.isArray(f.edgecolors))for(d=0;d<f.edgecolors.length;d++)l=1+d,p=f.edgecolors[d],p.name!==""&&(u[l]=p.name);if(Array.isArray(f.cornercolors))for(d=0;d<f.cornercolors.length;d++)l=1+d,p=f.cornercolors[d],p.name!==""&&(o[l]=p.name);if(Array.isArray(f.colors))for(d=0;d<f.colors.length;d++)p=f.colors[d],l=1+d,p.name!==""&&(u[l]=o[l]=p.name);for(var m=[u,o,u,o,u,o,u,o],y=0;y<f.wangtiles.length;y++){var x=f.wangtiles[y],b=a[x.tileid]||(a[x.tileid]={});b=b.wangid||(b.wangid={});for(var w=[],C=0;C<Math.min(m.length,x.wangid.length);C++){if(p=x.wangid[C],p===0){w.push(void 0);continue}var E=m[C][p];if(E!==void 0){w.push(E);continue}w.push(p)}b[h]=w}}}};s.exports=g},96761:(s,g,i)=>{s.exports={AssignTileProperties:i(51233),Base64Decode:i(41868),BuildTilesetIndex:i(84101),CreateGroupLayer:i(79677),ParseGID:i(29920),ParseImageLayers:i(12635),ParseJSONTiled:i(46594),ParseObject:i(52205),ParseObjectLayers:i(22611),ParseTileLayers:i(28200),ParseTilesets:i(24619)}},33385:(s,g,i)=>{var a=i(83419),v=i(37277),f=i(44594),h=i(94880),u=i(72905),o=new a({initialize:function(p){this.scene=p,this.systems=p.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],p.sys.events.once(f.BOOT,this.boot,this),p.sys.events.on(f.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var d=this.systems.events;d.on(f.PRE_UPDATE,this.preUpdate,this),d.on(f.UPDATE,this.update,this),d.once(f.SHUTDOWN,this.shutdown,this)},addEvent:function(d){var p;return d instanceof h?(p=d,this.removeEvent(p),p.elapsed=p.startAt,p.hasDispatched=!1,p.repeatCount=p.repeat===-1||p.loop?999999999999:p.repeat):p=new h(d),this._pendingInsertion.push(p),p},delayedCall:function(d,p,l,m){return this.addEvent({delay:d,callback:p,args:l,callbackScope:m})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++){var l=d[p];u(this._pendingRemoval,l),u(this._pendingInsertion,l),u(this._active,l)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var d=this._pendingRemoval.length,p=this._pendingInsertion.length;if(!(d===0&&p===0)){var l,m;for(l=0;l<d;l++){m=this._pendingRemoval[l];var y=this._active.indexOf(m);y>-1&&this._active.splice(y,1),m.destroy()}for(l=0;l<p;l++)m=this._pendingInsertion[l],this._active.push(m);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(d,p){if(this.now=d,!this.paused){p*=this.timeScale;for(var l=0;l<this._active.length;l++){var m=this._active[l];if(!m.paused&&(m.elapsed+=p*m.timeScale,m.elapsed>=m.delay)){var y=m.elapsed-m.delay;if(m.elapsed=m.delay,!m.hasDispatched&&m.callback&&(m.hasDispatched=!0,m.callback.apply(m.callbackScope,m.args)),m.repeatCount>0){if(m.repeatCount--,y>=m.delay)for(;y>=m.delay&&m.repeatCount>0;)m.callback&&m.callback.apply(m.callbackScope,m.args),y-=m.delay,m.repeatCount--;m.elapsed=y,m.hasDispatched=!1}else m.hasDispatched&&this._pendingRemoval.push(m)}}}},shutdown:function(){var d;for(d=0;d<this._pendingInsertion.length;d++)this._pendingInsertion[d].destroy();for(d=0;d<this._active.length;d++)this._active[d].destroy();for(d=0;d<this._pendingRemoval.length;d++)this._pendingRemoval[d].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var p=this.systems.events;p.off(f.PRE_UPDATE,this.preUpdate,this),p.off(f.UPDATE,this.update,this),p.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});v.register("Clock",o,"time"),s.exports=o},96120:(s,g,i)=>{var a=i(83419),v=i(50792),f=i(39429),h=i(95540),u=i(44594),o=i(89809),d=new a({Extends:v,initialize:function(l,m){v.call(this),this.scene=l,this.systems=l.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var y=this.systems.events;y.on(u.PRE_UPDATE,this.preUpdate,this),y.on(u.UPDATE,this.update,this),y.once(u.SHUTDOWN,this.destroy,this),m&&this.add(m)},preUpdate:function(p,l){this.paused||(this.elapsed+=l)},update:function(){if(!(this.paused||this.complete)){var p,l=this.events,m=!1,y=this.systems,x;for(p=0;p<l.length;p++){var b=l[p];if(!b.complete&&b.time<=this.elapsed){if(b.complete=!0,this.totalComplete++,x=b.target?b.target:this,b.if&&!b.if.call(x,b))continue;if(b.once&&(m=!0),b.set&&b.target)for(var w in b.set)b.target[w]=b.set[w];this.iteration&&b.repeat++,b.loop&&b.repeat&&b.loop.call(x),b.tween&&y.tweens.add(b.tween),b.sound&&(typeof b.sound=="string"?y.sound.play(b.sound):y.sound.play(b.sound.key,b.sound.config)),b.event&&this.emit(b.event,x),b.run&&b.run.call(x),b.stop&&this.stop()}}if(m)for(p=0;p<l.length;p++)l[p].complete&&l[p].once&&(l.splice(p,1),p--);this.totalComplete>=l.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(o.COMPLETE,this)}},play:function(p){return p===void 0&&(p=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,p&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(p){return(p===void 0||p===!0)&&(p=-1),p===!1&&(p=0),this.loop=p,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(p){p===void 0&&(p=!1),this.elapsed=0,p||(this.iteration=0);for(var l=0;l<this.events.length;l++)this.events[l].complete=!1,p||(this.events[l].repeat=0);return this.play(!1)},add:function(p){Array.isArray(p)||(p=[p]);var l=this.events,m=0;l.length>0&&(m=l[l.length-1].time);for(var y=0;y<p.length;y++){var x=p[y],b=h(x,"at",0),w=h(x,"in",null);w!==null&&(b=this.elapsed+w);var C=h(x,"from",null);C!==null&&(b=m+C),l.push({complete:!1,time:b,repeat:0,if:h(x,"if",null),run:h(x,"run",null),loop:h(x,"loop",null),event:h(x,"event",null),target:h(x,"target",null),set:h(x,"set",null),tween:h(x,"tween",null),sound:h(x,"sound",null),once:h(x,"once",!1),stop:h(x,"stop",!1)}),m=b}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var p=Math.min(this.totalComplete,this.events.length);return p/this.events.length},destroy:function(){var p=this.systems.events;p.off(u.PRE_UPDATE,this.preUpdate,this),p.off(u.UPDATE,this.update,this),p.off(u.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});f.register("timeline",function(p){return new d(this.scene,p)}),s.exports=d},94880:(s,g,i)=>{var a=i(83419),v=i(95540),f=new a({initialize:function(u){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(u)},reset:function(h){if(this.delay=v(h,"delay",0),this.repeat=v(h,"repeat",0),this.loop=v(h,"loop",!1),this.callback=v(h,"callback",void 0),this.callbackScope=v(h,"callbackScope",this),this.args=v(h,"args",[]),this.timeScale=v(h,"timeScale",1),this.startAt=v(h,"startAt",0),this.paused=v(h,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var h=this.delay+this.delay*this.repeat,u=this.elapsed+this.delay*(this.repeat-this.repeatCount);return u/h}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(h){h===void 0&&(h=!1),this.elapsed=this.delay,this.hasDispatched=!h,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});s.exports=f},35945:s=>{s.exports="complete"},89809:(s,g,i)=>{s.exports={COMPLETE:i(35945)}},90291:(s,g,i)=>{s.exports={Clock:i(33385),Events:i(89809),Timeline:i(96120),TimerEvent:i(94880)}},40382:(s,g,i)=>{var a=i(72905),v=i(83419),f=i(43491),h=i(88032),u=i(37277),o=i(44594),d=i(93109),p=i(86081),l=i(8357),m=i(43960),y=i(26012),x=new v({initialize:function(w){this.scene=w,this.events=w.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(o.UPDATE,this.update,this),this.events.once(o.SHUTDOWN,this.shutdown,this)},create:function(b){Array.isArray(b)||(b=[b]);for(var w=[],C=0;C<b.length;C++){var E=b[C];E instanceof p||E instanceof m?w.push(E):Array.isArray(E.tweens)?w.push(y(this,E)):w.push(l(this,E))}return w.length===1?w[0]:w},add:function(b){var w=b,C=this.tweens;return w instanceof p||w instanceof m||(Array.isArray(w.tweens)?w=y(this,w):w=l(this,w)),C.push(w.reset()),w},addMultiple:function(b){for(var w,C=[],E=this.tweens,T=0;T<b.length;T++)w=b[T],w instanceof p||w instanceof m||(Array.isArray(w.tweens)?w=y(this,w):w=l(this,w)),E.push(w.reset()),C.push(w);return C},chain:function(b){var w=y(this,b);return this.tweens.push(w.init()),w},getChainedTweens:function(b){return b.getChainedTweens()},has:function(b){return this.tweens.indexOf(b)>-1},existing:function(b){return this.has(b)||this.tweens.push(b.reset()),this},addCounter:function(b){var w=h(this,b);return this.tweens.push(w.reset()),w},stagger:function(b,w){return d(b,w)},setLagSmooth:function(b,w){return b===void 0&&(b=1/1e-8),w===void 0&&(w=0),this.maxLag=b,this.lagSkip=Math.min(w,this.maxLag),this},setFps:function(b){return b===void 0&&(b=240),this.gap=1e3/b,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(b){var w=Date.now()-this.prevTime;w>this.maxLag&&(this.startTime+=w-this.lagSkip),this.prevTime+=w;var C=this.prevTime-this.startTime,E=C-this.nextTime,T=C-this.time*1e3;return E>0||b?(C/=1e3,this.time=C,this.nextTime+=E+(E>=this.gap?4:this.gap-E)):T=0,T},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(b){b===void 0&&(b=!1);var w=this.getDelta(b);if(!(w<=0)){this.processing=!0;var C,E,T=[],k=this.tweens;for(C=0;C<k.length;C++)E=k[C],E.update(w)&&T.push(E);var P=T.length;if(P&&k.length>0){for(C=0;C<P;C++){E=T[C];var R=k.indexOf(E);R>-1&&(E.isPendingRemove()||E.isDestroyed())&&(k.splice(R,1),E.destroy())}T.length=0}this.processing=!1}},remove:function(b){return this.processing?b.setPendingRemoveState():(a(this.tweens,b),b.setRemovedState()),this},reset:function(b){return this.existing(b),b.seek(),b.setActiveState(),this},makeActive:function(b){return this.existing(b),b.setActiveState(),this},each:function(b,w){var C,E=[null];for(C=1;C<arguments.length;C++)E.push(arguments[C]);return this.tweens.forEach(function(T){E[0]=T,b.apply(w,E)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(b){var w=[],C=this.tweens;Array.isArray(b)?b=f(b):b=[b];for(var E=b.length,T=0;T<C.length;T++)for(var k=C[T],P=0;P<E;P++)!k.isDestroyed()&&k.hasTarget(b[P])&&w.push(k);return w},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(b){return this.timeScale=b,this},isTweening:function(b){for(var w=this.tweens,C,E=0;E<w.length;E++)if(C=w[E],C.isPlaying()&&C.hasTarget(b))return!0;return!1},killAll:function(){for(var b=this.processing?this.getTweens():this.tweens,w=0;w<b.length;w++)b[w].destroy();return this.processing||(b.length=0),this},killTweensOf:function(b){for(var w=this.getTweensOf(b),C=0;C<w.length;C++)w[C].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(o.UPDATE,this.update,this),this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.events=null}});u.register("TweenManager",x,"tweens"),s.exports=x},57355:s=>{var g=function(i,a,v){return i&&i.hasOwnProperty(a)?i[a]:v};s.exports=g},6113:(s,g,i)=>{var a=i(62640),v=i(35355),f=function(h,u){var o=a.Power0;if(typeof h=="string")if(a.hasOwnProperty(h))o=a[h];else{var d="";if(h.indexOf(".")){d=h.substring(h.indexOf(".")+1);var p=d.toLowerCase();p==="in"?d="easeIn":p==="out"?d="easeOut":p==="inout"&&(d="easeInOut")}h=v(h.substring(0,h.indexOf(".")+1)+d),a.hasOwnProperty(h)&&(o=a[h])}else typeof h=="function"&&(o=h);if(!u)return o;var l=u.slice(0);return l.unshift(0),function(m){return l[0]=m,o.apply(this,l)}};s.exports=f},91389:(s,g,i)=>{var a=i(89318),v=i(77259),f=i(28392),h={bezier:a,catmull:v,catmullrom:v,linear:f},u=function(o){if(o===null)return null;var d=h.linear;return typeof o=="string"?h.hasOwnProperty(o)&&(d=h[o]):typeof o=="function"&&(d=o),d};s.exports=u},55292:s=>{var g=function(i,a,v){var f;if(i.hasOwnProperty(a)){var h=typeof i[a];h==="function"?f=function(u,o,d,p,l,m){return i[a](u,o,d,p,l,m)}:f=function(){return i[a]}}else typeof v=="function"?f=v:f=function(){return v};return f};s.exports=g},82985:(s,g,i)=>{var a=i(81076),v=function(f){var h,u=[];if(f.hasOwnProperty("props"))for(h in f.props)h.substring(0,1)!=="_"&&u.push({key:h,value:f.props[h]});else for(h in f)a.indexOf(h)===-1&&h.substring(0,1)!=="_"&&u.push({key:h,value:f[h]});return u};s.exports=v},62329:(s,g,i)=>{var a=i(35154),v=function(f){var h=a(f,"targets",null);return h===null||(typeof h=="function"&&(h=h.call()),Array.isArray(h)||(h=[h])),h};s.exports=v},17777:(s,g,i)=>{var a=i(30976),v=i(99472);function f(p){return!!p.getActive&&typeof p.getActive=="function"}function h(p){return!!p.getStart&&typeof p.getStart=="function"}function u(p){return!!p.getEnd&&typeof p.getEnd=="function"}function o(p){return h(p)||u(p)||f(p)}var d=function(p,l){var m,y=function(V,Y,U){return U},x=function(V,Y,U){return U},b=null,w=typeof l;if(w==="number")y=function(){return l};else if(Array.isArray(l))x=function(){return l[0]},y=function(){return l[l.length-1]};else if(w==="string"){var C=l.toLowerCase(),E=C.substring(0,6)==="random",T=C.substring(0,3)==="int";if(E||T){var k=C.indexOf("("),P=C.indexOf(")"),R=C.indexOf(",");if(k&&P&&R){var M=parseFloat(C.substring(k+1,R)),I=parseFloat(C.substring(R+1,P));E?y=function(){return v(M,I)}:y=function(){return a(M,I)}}else throw new Error("invalid random() format")}else{C=C[0];var B=parseFloat(l.substr(2));switch(C){case"+":y=function(V,Y,U){return U+B};break;case"-":y=function(V,Y,U){return U-B};break;case"*":y=function(V,Y,U){return U*B};break;case"/":y=function(V,Y,U){return U/B};break;default:y=function(){return parseFloat(l)}}}}else if(w==="function")y=l;else if(w==="object")if(o(l))f(l)&&(b=l.getActive),u(l)&&(y=l.getEnd),h(l)&&(x=l.getStart);else if(l.hasOwnProperty("value"))m=d(p,l.value);else{var D=l.hasOwnProperty("to"),N=l.hasOwnProperty("from"),_=l.hasOwnProperty("start");if(D&&(N||_)){if(m=d(p,l.to),_){var G=d(p,l.start);m.getActive=G.getEnd}if(N){var $=d(p,l.from);m.getStart=$.getEnd}}}return m||(m={getActive:b,getEnd:y,getStart:x}),m};s.exports=d},88032:(s,g,i)=>{var a=i(70402),v=i(69902),f=i(23568),h=i(57355),u=i(6113),o=i(55292),d=i(35154),p=i(17777),l=i(269),m=i(86081),y=function(x,b,w){if(b instanceof m)return b.parent=x,b;w===void 0?w=v:w=l(v,w);var C=d(b,"from",0),E=d(b,"to",1),T=[{value:C}],k=d(b,"delay",w.delay),P=d(b,"easeParams",w.easeParams),R=d(b,"ease",w.ease),M=p("value",E),I=new m(x,T),B=I.add(0,"value",M.getEnd,M.getStart,M.getActive,u(d(b,"ease",R),d(b,"easeParams",P)),o(b,"delay",k),d(b,"duration",w.duration),h(b,"yoyo",w.yoyo),d(b,"hold",w.hold),d(b,"repeat",w.repeat),d(b,"repeatDelay",w.repeatDelay),!1,!1);B.start=C,B.current=C,I.completeDelay=f(b,"completeDelay",0),I.loop=Math.round(f(b,"loop",0)),I.loopDelay=Math.round(f(b,"loopDelay",0)),I.paused=h(b,"paused",!1),I.persist=h(b,"persist",!1),I.callbackScope=d(b,"callbackScope",I);for(var D=a.TYPES,N=0;N<D.length;N++){var _=D[N],G=d(b,_,!1);if(G){var $=d(b,_+"Params",[]);I.setCallback(_,G,$)}}return I};s.exports=y},93109:(s,g,i)=>{var a=i(6113),v=i(35154),f=i(36383),h=function(u,o){o===void 0&&(o={});var d,p=v(o,"start",0),l=v(o,"ease",null),m=v(o,"grid",null),y=v(o,"from",0),x=y==="first",b=y==="center",w=y==="last",C=typeof y=="number",E=Array.isArray(u),T=parseFloat(E?u[0]:u),k=E?parseFloat(u[1]):0,P=Math.max(T,k);if(E&&(p+=T),m){var R=m[0],M=m[1],I=0,B=0,D=0,N=0,_=[];w?(I=R-1,B=M-1):C?(I=y%R,B=Math.floor(y/R)):b&&(I=(R-1)/2,B=(M-1)/2);for(var G=f.MIN_SAFE_INTEGER,$=0;$<M;$++){_[$]=[];for(var V=0;V<R;V++){D=I-V,N=B-$;var Y=Math.sqrt(D*D+N*N);Y>G&&(G=Y),_[$][V]=Y}}}var U=l?a(l):null;return m?d=function(F,O,j,z){var W=0,q=z%R,ot=Math.floor(z/R);q>=0&&q<R&&ot>=0&&ot<M&&(W=_[ot][q]);var Q;if(E){var rt=k-T;U?Q=W/G*rt*U(W/G):Q=W/G*rt}else U?Q=W*T*U(W/G):Q=W*T;return Q+p}:d=function(F,O,j,z,W){W--;var q;x?q=z:b?q=Math.abs(W/2-z):w?q=W-z:C&&(q=Math.abs(y-z));var ot;if(E){var Q;b?Q=(k-T)/W*(q*2):Q=(k-T)/W*q,U?ot=Q*U(q/W):ot=Q}else U?ot=W*P*U(q/W):ot=q*T;return ot+p},d};s.exports=h},8357:(s,g,i)=>{var a=i(70402),v=i(69902),f=i(23568),h=i(57355),u=i(6113),o=i(91389),d=i(55292),p=i(82985),l=i(62329),m=i(35154),y=i(17777),x=i(269),b=i(86081),w=function(C,E,T){if(E instanceof b)return E.parent=C,E;T===void 0?T=v:T=x(v,T);var k=l(E);!k&&T.targets&&(k=T.targets);for(var P=p(E),R=m(E,"delay",T.delay),M=m(E,"duration",T.duration),I=m(E,"easeParams",T.easeParams),B=m(E,"ease",T.ease),D=m(E,"hold",T.hold),N=m(E,"repeat",T.repeat),_=m(E,"repeatDelay",T.repeatDelay),G=h(E,"yoyo",T.yoyo),$=h(E,"flipX",T.flipX),V=h(E,"flipY",T.flipY),Y=m(E,"interpolation",T.interpolation),U=function(K,It,Ft,ft){if(Ft==="texture"){var yt=ft,At=void 0;Array.isArray(ft)?(yt=ft[0],At=ft[1]):ft.hasOwnProperty("value")?(yt=ft.value,Array.isArray(ft.value)?(yt=ft.value[0],At=ft.value[1]):typeof ft.value=="string"&&(yt=ft.value)):typeof ft=="string"&&(yt=ft),K.addFrame(It,yt,At,d(ft,"delay",R),m(ft,"duration",M),m(ft,"hold",D),m(ft,"repeat",N),m(ft,"repeatDelay",_),h(ft,"flipX",$),h(ft,"flipY",V))}else{var Bt=y(Ft,ft),le=o(m(ft,"interpolation",Y));K.add(It,Ft,Bt.getEnd,Bt.getStart,Bt.getActive,u(m(ft,"ease",B),m(ft,"easeParams",I)),d(ft,"delay",R),m(ft,"duration",M),h(ft,"yoyo",G),m(ft,"hold",D),m(ft,"repeat",N),m(ft,"repeatDelay",_),h(ft,"flipX",$),h(ft,"flipY",V),le,le?ft:null)}},F=new b(C,k),O=0;O<P.length;O++)for(var j=P[O].key,z=P[O].value,W=0;W<k.length;W++)j==="scale"&&!k[W].hasOwnProperty("scale")?(U(F,W,"scaleX",z),U(F,W,"scaleY",z)):U(F,W,j,z);F.completeDelay=f(E,"completeDelay",0),F.loop=Math.round(f(E,"loop",0)),F.loopDelay=Math.round(f(E,"loopDelay",0)),F.paused=h(E,"paused",!1),F.persist=h(E,"persist",!1),F.callbackScope=m(E,"callbackScope",F);for(var q=a.TYPES,ot=0;ot<q.length;ot++){var Q=q[ot],rt=m(E,Q,!1);if(rt){var Mt=m(E,Q+"Params",[]);F.setCallback(Q,rt,Mt)}}return F};s.exports=w},26012:(s,g,i)=>{var a=i(70402),v=i(23568),f=i(57355),h=i(62329),u=i(35154),o=i(8357),d=i(43960),p=function(l,m){if(m instanceof d)return m.parent=l,m;var y=new d(l);y.startDelay=u(m,"delay",0),y.completeDelay=v(m,"completeDelay",0),y.loop=Math.round(v(m,"loop",u(m,"repeat",0))),y.loopDelay=Math.round(v(m,"loopDelay",u(m,"repeatDelay",0))),y.paused=f(m,"paused",!1),y.persist=f(m,"persist",!1),y.callbackScope=u(m,"callbackScope",y);var x,b=a.TYPES;for(x=0;x<b.length;x++){var w=b[x],C=u(m,w,!1);if(C){var E=u(m,w+"Params",[]);y.setCallback(w,C,E)}}var T=u(m,"tweens",null);if(Array.isArray(T)){var k=[],P=h(m),R=void 0;for(P&&(R={targets:P}),x=0;x<T.length;x++)k.push(o(y,T[x],R));y.add(k)}return y};s.exports=p},30231:(s,g,i)=>{s.exports={GetBoolean:i(57355),GetEaseFunction:i(6113),GetInterpolationFunction:i(91389),GetNewValue:i(55292),GetProps:i(82985),GetTargets:i(62329),GetValueOp:i(17777),NumberTweenBuilder:i(88032),StaggerBuilder:i(93109),TweenBuilder:i(8357)}},73685:s=>{s.exports="active"},98540:s=>{s.exports="complete"},67233:s=>{s.exports="loop"},2859:s=>{s.exports="pause"},98336:s=>{s.exports="repeat"},25764:s=>{s.exports="resume"},32193:s=>{s.exports="start"},84371:s=>{s.exports="stop"},70766:s=>{s.exports="update"},55659:s=>{s.exports="yoyo"},842:(s,g,i)=>{s.exports={TWEEN_ACTIVE:i(73685),TWEEN_COMPLETE:i(98540),TWEEN_LOOP:i(67233),TWEEN_PAUSE:i(2859),TWEEN_RESUME:i(25764),TWEEN_REPEAT:i(98336),TWEEN_START:i(32193),TWEEN_STOP:i(84371),TWEEN_UPDATE:i(70766),TWEEN_YOYO:i(55659)}},43066:(s,g,i)=>{var a={States:i(86353),Builders:i(30231),Events:i(842),TweenManager:i(40382),Tween:i(86081),TweenData:i(48177),TweenFrameData:i(42220),BaseTween:i(70402),TweenChain:i(43960)};s.exports=a},70402:(s,g,i)=>{var a=i(83419),v=i(50792),f=i(842),h=i(86353),u=new a({Extends:v,initialize:function(d){v.call(this),this.parent=d,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=h.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(o){return this.timeScale=o,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(f.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(f.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(f.TWEEN_COMPLETE,"onComplete")},complete:function(o){return o===void 0&&(o=0),o?(this.setCompleteDelayState(),this.countdown=o):this.onCompleteHandler(),this},completeAfterLoop:function(o){return o===void 0&&(o=0),this.loopCounter>o&&(this.loopCounter=o),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(f.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(o){this.countdown-=o,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(o){return this.countdown-=o,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(f.TWEEN_START,"onStart"),o=0),o},updateCompleteDelay:function(o){this.countdown-=o,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(o,d,p){return p===void 0&&(p=[]),this.callbacks.hasOwnProperty(o)&&(this.callbacks[o]={func:d,params:p}),this},setPendingState:function(){this.state=h.PENDING},setActiveState:function(){this.state=h.ACTIVE},setLoopDelayState:function(){this.state=h.LOOP_DELAY},setCompleteDelayState:function(){this.state=h.COMPLETE_DELAY},setStartDelayState:function(){this.state=h.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=h.PENDING_REMOVE},setRemovedState:function(){this.state=h.REMOVED},setFinishedState:function(){this.state=h.FINISHED},setDestroyedState:function(){this.state=h.DESTROYED},isPending:function(){return this.state===h.PENDING},isActive:function(){return this.state===h.ACTIVE},isLoopDelayed:function(){return this.state===h.LOOP_DELAY},isCompleteDelayed:function(){return this.state===h.COMPLETE_DELAY},isStartDelayed:function(){return this.state===h.START_DELAY},isPendingRemove:function(){return this.state===h.PENDING_REMOVE},isRemoved:function(){return this.state===h.REMOVED},isFinished:function(){return this.state===h.FINISHED},isDestroyed:function(){return this.state===h.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(o){o.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});u.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],s.exports=u},95042:(s,g,i)=>{var a=i(83419),v=i(842),f=i(86353),h=new a({initialize:function(o,d,p,l,m,y,x,b,w,C){this.tween=o,this.targetIndex=d,this.duration=l,this.totalDuration=0,this.delay=0,this.getDelay=p,this.yoyo=m,this.hold=y,this.repeat=x,this.repeatDelay=b,this.repeatCounter=0,this.flipX=w,this.flipY=C,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(u){u===void 0&&(u=this.current),this.tween.targets[this.targetIndex][this.key]=u},setCreatedState:function(){this.state=f.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=f.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=f.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=f.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=f.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=f.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=f.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=f.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===f.CREATED},isDelayed:function(){return this.state===f.DELAY},isPendingRender:function(){return this.state===f.PENDING_RENDER},isPlayingForward:function(){return this.state===f.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===f.PLAYING_BACKWARD},isHolding:function(){return this.state===f.HOLD_DELAY},isRepeating:function(){return this.state===f.REPEAT_DELAY},isComplete:function(){return this.state===f.COMPLETE},setStateFromEnd:function(u){this.yoyo?this.onRepeat(u,!0,!0):this.repeatCounter>0?this.onRepeat(u,!0,!1):this.setCompleteState()},setStateFromStart:function(u){this.repeatCounter>0?this.onRepeat(u,!1):this.setCompleteState()},reset:function(){var u=this.tween,o=u.totalTargets,d=this.targetIndex,p=u.targets[d],l=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(p,l,0,d,o,u),this.repeatCounter=this.repeat===-1?f.MAX:this.repeat,this.setPendingRenderState();var m=this.duration+this.hold;this.yoyo&&(m+=this.duration);var y=m+this.repeatDelay;this.totalDuration=this.delay+m,this.repeat===-1?(this.totalDuration+=y*f.MAX,u.isInfinite=!0):this.repeat>0&&(this.totalDuration+=y*this.repeat),this.totalDuration>u.duration&&(u.duration=this.totalDuration),this.delay<u.startDelay&&(u.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(u,o,d){var p=this.tween,l=p.totalTargets,m=this.targetIndex,y=p.targets[m],x=this.key,b=x!=="texture";if(this.elapsed=u,this.progress=u/this.duration,this.flipX&&y.toggleFlipX(),this.flipY&&y.toggleFlipY(),b&&(o||d)&&(this.start=this.getStartValue(y,x,this.start,m,l,p)),d){this.setPlayingBackwardState(),this.dispatchEvent(v.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,b&&(this.end=this.getEndValue(y,x,this.start,m,l,p)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-u,b&&(this.current=this.start,y[x]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(v.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});s.exports=h},69902:s=>{var g={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};s.exports=g},81076:s=>{s.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(s,g,i)=>{var a=i(70402),v=i(83419),f=i(842),h=i(44603),u=i(39429),o=i(36383),d=i(86353),p=i(48177),l=i(42220),m=new v({Extends:a,initialize:function(x,b){a.call(this,x),this.targets=b,this.totalTargets=b.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(y,x,b,w,C,E,T,k,P,R,M,I,B,D,N,_){var G=new p(this,y,x,b,w,C,E,T,k,P,R,M,I,B,D,N,_);return this.totalData=this.data.push(G),G},addFrame:function(y,x,b,w,C,E,T,k,P,R){var M=new l(this,y,x,b,w,C,E,T,k,P,R);return this.totalData=this.data.push(M),M},getValue:function(y){y===void 0&&(y=0);var x=null;return this.data&&(x=this.data[y].current),x},hasTarget:function(y){return this.targets&&this.targets.indexOf(y)!==-1},updateTo:function(y,x,b){if(b===void 0&&(b=!1),y!=="texture")for(var w=0;w<this.totalData;w++){var C=this.data[w];C.key===y&&(C.isPlayingForward()||C.isPlayingBackward())&&(C.end=x,b&&(C.start=C.current))}return this},restart:function(){switch(this.state){case d.REMOVED:case d.FINISHED:this.seek(),this.parent.makeActive(this);break;case d.PENDING:case d.PENDING_REMOVE:this.parent.reset(this);break;case d.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,a.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(y,x,b){if(y===void 0&&(y=0),x===void 0&&(x=16.6),b===void 0&&(b=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;b||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive");var w=this.paused;if(this.paused=!1,y>0){for(var C=Math.floor(y/x),E=y-C*x,T=0;T<C;T++)this.update(x);E>0&&this.update(E)}return this.paused=w,this.isSeeking=!1,this},initTweenData:function(y){y===void 0&&(y=!1),this.duration=0,this.startDelay=o.MAX_SAFE_INTEGER;for(var x=this.data,b=0;b<this.totalData;b++)x[b].reset(y);this.duration=Math.max(this.duration,.01);var w=this.duration,C=this.completeDelay,E=this.loopCounter,T=this.loopDelay;E>0?this.totalDuration=w+C+(w+T)*E:this.totalDuration=w+C},reset:function(y){return y===void 0&&(y=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=d.MAX),y||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")),this},update:function(y){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(y*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(y),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(y),!1;this.hasStarted||(this.startDelay-=y,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(f.TWEEN_START,"onStart"),y=0));var x=!1;if(this.isActive())for(var b=this.data,w=0;w<this.totalData;w++)b[w].update(y)&&(x=!0);this.elapsed+=y,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=y,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),x||this.nextState();var C=this.isPendingRemove();return C&&this.persist&&(this.setFinishedState(),C=!1),C},forward:function(y){return this.update(y),this},rewind:function(y){return this.update(-y),this},dispatchEvent:function(y,x){if(!this.isSeeking){this.emit(y,this,this.targets);var b=this.callbacks[x];b&&b.func.apply(this.callbackScope,[this,this.targets].concat(b.params))}},destroy:function(){a.prototype.destroy.call(this),this.targets=null}});u.register("tween",function(y){return this.scene.sys.tweens.add(y)}),h.register("tween",function(y){return this.scene.sys.tweens.create(y)}),s.exports=m},43960:(s,g,i)=>{var a=i(72905),v=i(70402),f=i(83419),h=i(842),u=i(44603),o=i(39429),d=i(86353),p=new f({Extends:v,initialize:function(m){v.call(this,m),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?d.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive"),this},add:function(l){var m=this.parent.create(l);Array.isArray(m)||(m=[m]);for(var y=this.data,x=0;x<m.length;x++){var b=m[x];b.parent=this,y.push(b.reset())}return this.totalData=y.length,this},remove:function(l){return a(this.data,l),l.setRemovedState(),l===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(l){for(var m=this.data,y=0;y<this.totalData;y++)if(m[y].hasTarget(l))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(l){return l.seek(),l.setActiveState(),this},makeActive:function(l){return l.reset(),l.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var l=this.data,m=this.totalData,y=0;y<m;y++)l[y].reset(!1);this.currentIndex=0,this.currentTween=l[0]},update:function(l){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;l*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(l):this.isCompleteDelayed()?this.updateCompleteDelay(l):this.isStartDelayed()&&(l=this.updateStartCountdown(l));var m=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(l)&&this.nextTween()&&this.nextState(),m=this.isPendingRemove(),m&&this.persist&&(this.setFinishedState(),m=!1)),m},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(l){this.currentIndex=l,this.currentTween=this.data[l],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(h.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(l,m){this.emit(l,this);var y=this.callbacks[m];y&&y.func.apply(this.callbackScope,[this].concat(y.params))},destroy:function(){v.prototype.destroy.call(this),this.currentTween=null}});o.register("tweenchain",function(l){return this.scene.sys.tweens.chain(l)}),u.register("tweenchain",function(l){return this.scene.sys.tweens.create(l)}),s.exports=p},48177:(s,g,i)=>{var a=i(95042),v=i(45319),f=i(83419),h=i(842),u=new f({Extends:a,initialize:function(d,p,l,m,y,x,b,w,C,E,T,k,P,R,M,I,B){a.call(this,d,p,w,C,E,T,k,P,R,M),this.key=l,this.getActiveValue=x,this.getEndValue=m,this.getStartValue=y,this.ease=b,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=I,this.interpolationData=B},reset:function(o){a.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex],p=this.key;o&&(d[p]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(d[p]=this.getActiveValue(d,p,0))},update:function(o){var d=this.tween,p=d.totalTargets,l=this.targetIndex,m=d.targets[l],y=this.key;if(!m)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=o,this.elapsed<=0&&(this.elapsed=0,o=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(h.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(m,y,m[y],l,p,d),this.end=this.getEndValue(m,y,this.start,l,p,d),this.current=this.start,m[y]=this.start,this.setPlayingForwardState(),!0;var x=this.isPlayingForward(),b=this.isPlayingBackward();if(x||b){var w=this.elapsed,C=this.duration,E=0,T=!1;w+=o,w>=C?(E=w-C,w=C,T=!0):w<0&&(w=0);var k=v(w/C,0,1);if(this.elapsed=w,this.progress=k,this.previous=this.current,T)x?(this.current=this.end,m[y]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(E)):(this.current=this.start,m[y]=this.start,this.setStateFromStart(E));else{x||(k=1-k);var P=this.ease(k);this.interpolation?this.current=this.interpolation(this.interpolationData,P):this.current=this.start+(this.end-this.start)*P,m[y]=this.current}this.dispatchEvent(h.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(o,d){var p=this.tween;if(!p.isSeeking){var l=p.targets[this.targetIndex],m=this.key,y=this.current,x=this.previous;p.emit(o,p,m,l,y,x);var b=p.callbacks[d];b&&b.func.apply(p.callbackScope,[p,l,m,y,x].concat(b.params))}},destroy:function(){a.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});s.exports=u},42220:(s,g,i)=>{var a=i(95042),v=i(45319),f=i(83419),h=i(842),u=new f({Extends:a,initialize:function(d,p,l,m,y,x,b,w,C,E,T){a.call(this,d,p,y,x,!1,b,w,C,E,T),this.key="texture",this.startTexture=null,this.endTexture=l,this.startFrame=null,this.endFrame=m,this.yoyo=w!==0},reset:function(o){a.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=d.texture.key,this.startFrame=d.frame.name),o&&d.setTexture(this.startTexture,this.startFrame)},update:function(o){var d=this.tween,p=this.targetIndex,l=d.targets[p];if(!l)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=o,this.elapsed<=0&&(this.elapsed=0,o=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(h.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&l.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var m=this.isPlayingForward(),y=this.isPlayingBackward();if(m||y){var x=this.elapsed,b=this.duration,w=0,C=!1;x+=o,x>=b?(w=x-b,x=b,C=!0):x<0&&(x=0);var E=v(x/b,0,1);this.elapsed=x,this.progress=E,C&&(m?(l.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(w)):(l.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(w))),this.dispatchEvent(h.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(o,d){var p=this.tween;if(!p.isSeeking){var l=p.targets[this.targetIndex],m=this.key;p.emit(o,p,m,l);var y=p.callbacks[d];y&&y.func.apply(p.callbackScope,[p,l,m].concat(y.params))}},destroy:function(){a.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});s.exports=u},86353:s=>{var g={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};s.exports=g},83419:s=>{function g(u){return!!u.get&&typeof u.get=="function"||!!u.set&&typeof u.set=="function"}function i(u,o,d){var p=d?u[o]:Object.getOwnPropertyDescriptor(u,o);return!d&&p.value&&typeof p.value=="object"&&(p=p.value),p&&g(p)?(typeof p.enumerable=="undefined"&&(p.enumerable=!0),typeof p.configurable=="undefined"&&(p.configurable=!0),p):!1}function a(u,o){var d=Object.getOwnPropertyDescriptor(u,o);return d?(d.value&&typeof d.value=="object"&&(d=d.value),d.configurable===!1):!1}function v(u,o,d,p){for(var l in o)if(o.hasOwnProperty(l)){var m=i(o,l,d);if(m!==!1){var y=p||u;if(a(y.prototype,l)){if(h.ignoreFinals)continue;throw new Error("cannot override final property '"+l+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(u.prototype,l,m)}else u.prototype[l]=o[l]}}function f(u,o){if(o){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++)v(u,o[d].prototype||o[d])}}function h(u){u||(u={});var o,d;if(u.initialize){if(typeof u.initialize!="function")throw new Error("initialize must be a function");o=u.initialize,delete u.initialize}else if(u.Extends){var p=u.Extends;o=function(){p.apply(this,arguments)}}else o=function(){};u.Extends?(o.prototype=Object.create(u.Extends.prototype),o.prototype.constructor=o,d=u.Extends,delete u.Extends):o.prototype.constructor=o;var l=null;return u.Mixins&&(l=u.Mixins,delete u.Mixins),f(o,l),v(o,u,!0,d),o}h.extend=v,h.mixin=f,h.ignoreFinals=!1,s.exports=h},29747:s=>{var g=function(){};s.exports=g},20242:s=>{var g=function(){return null};s.exports=g},71146:s=>{var g=function(i,a,v,f,h){if(h===void 0&&(h=i),v>0){var u=v-i.length;if(u<=0)return null}if(!Array.isArray(a))return i.indexOf(a)===-1?(i.push(a),f&&f.call(h,a),a):null;for(var o=a.length-1;o>=0;)i.indexOf(a[o])!==-1&&a.splice(o,1),o--;if(o=a.length,o===0)return null;v>0&&o>u&&(a.splice(u),o=u);for(var d=0;d<o;d++){var p=a[d];i.push(p),f&&f.call(h,p)}return a};s.exports=g},51067:s=>{var g=function(i,a,v,f,h,u){if(v===void 0&&(v=0),u===void 0&&(u=i),f>0){var o=f-i.length;if(o<=0)return null}if(!Array.isArray(a))return i.indexOf(a)===-1?(i.splice(v,0,a),h&&h.call(u,a),a):null;for(var d=a.length-1;d>=0;)i.indexOf(a[d])!==-1&&a.pop(),d--;if(d=a.length,d===0)return null;f>0&&d>o&&(a.splice(o),d=o);for(var p=d-1;p>=0;p--){var l=a[p];i.splice(v,0,l),h&&h.call(u,l)}return a};s.exports=g},66905:s=>{var g=function(i,a){var v=i.indexOf(a);return v!==-1&&v<i.length&&(i.splice(v,1),i.push(a)),a};s.exports=g},21612:(s,g,i)=>{var a=i(82011),v=function(f,h,u,o,d){o===void 0&&(o=0),d===void 0&&(d=f.length);var p=0;if(a(f,o,d))for(var l=o;l<d;l++){var m=f[l];m[h]===u&&p++}return p};s.exports=v},95428:s=>{var g=function(i,a,v){var f,h=[null];for(f=3;f<arguments.length;f++)h.push(arguments[f]);for(f=0;f<i.length;f++)h[0]=i[f],a.apply(v,h);return i};s.exports=g},36914:(s,g,i)=>{var a=i(82011),v=function(f,h,u,o,d){if(o===void 0&&(o=0),d===void 0&&(d=f.length),a(f,o,d)){var p,l=[null];for(p=5;p<arguments.length;p++)l.push(arguments[p]);for(p=o;p<d;p++)l[0]=f[p],h.apply(u,l)}return f};s.exports=v},81957:s=>{var g=function(i,a,v){if(a.length){if(a.length===1)return a[0]}else return NaN;var f=1,h,u;if(v){if(i<a[0][v])return a[0];for(;a[f][v]<i;)f++}else for(;a[f]<i;)f++;return f>a.length&&(f=a.length),v?(h=a[f-1][v],u=a[f][v],u-i<=i-h?a[f]:a[f-1]):(h=a[f-1],u=a[f],u-i<=i-h?u:h)};s.exports=g},43491:s=>{var g=function(i,a){a===void 0&&(a=[]);for(var v=0;v<i.length;v++)Array.isArray(i[v])?g(i[v],a):a.push(i[v]);return a};s.exports=g},46710:(s,g,i)=>{var a=i(82011),v=function(f,h,u,o,d){o===void 0&&(o=0),d===void 0&&(d=f.length);var p=[];if(a(f,o,d))for(var l=o;l<d;l++){var m=f[l];(!h||h&&u===void 0&&m.hasOwnProperty(h)||h&&u!==void 0&&m[h]===u)&&p.push(m)}return p};s.exports=v},58731:(s,g,i)=>{var a=i(82011),v=function(f,h,u,o,d){if(o===void 0&&(o=0),d===void 0&&(d=f.length),a(f,o,d))for(var p=o;p<d;p++){var l=f[p];if(!h||h&&u===void 0&&l.hasOwnProperty(h)||h&&u!==void 0&&l[h]===u)return l}return null};s.exports=v},26546:s=>{var g=function(i,a,v){a===void 0&&(a=0),v===void 0&&(v=i.length);var f=a+Math.floor(Math.random()*v);return i[f]===void 0?null:i[f]};s.exports=g},85835:s=>{var g=function(i,a,v){if(a===v)return i;var f=i.indexOf(a),h=i.indexOf(v);if(f<0||h<0)throw new Error("Supplied items must be elements of the same array");return f>h||(i.splice(f,1),h===i.length-1?i.push(a):i.splice(h,0,a)),i};s.exports=g},83371:s=>{var g=function(i,a,v){if(a===v)return i;var f=i.indexOf(a),h=i.indexOf(v);if(f<0||h<0)throw new Error("Supplied items must be elements of the same array");return f<h||(i.splice(f,1),h===0?i.unshift(a):i.splice(h,0,a)),i};s.exports=g},70864:s=>{var g=function(i,a){var v=i.indexOf(a);if(v>0){var f=i[v-1],h=i.indexOf(f);i[v]=f,i[h]=a}return i};s.exports=g},69693:s=>{var g=function(i,a,v){var f=i.indexOf(a);if(f===-1||v<0||v>=i.length)throw new Error("Supplied index out of bounds");return f!==v&&(i.splice(f,1),i.splice(v,0,a)),a};s.exports=g},40853:s=>{var g=function(i,a){var v=i.indexOf(a);if(v!==-1&&v<i.length-1){var f=i[v+1],h=i.indexOf(f);i[v]=f,i[h]=a}return i};s.exports=g},20283:s=>{var g=function(i,a,v,f){var h=[],u,o=!1;if((v||f)&&(o=!0,v||(v=""),f||(f="")),a<i)for(u=i;u>=a;u--)o?h.push(v+u.toString()+f):h.push(u);else for(u=i;u<=a;u++)o?h.push(v+u.toString()+f):h.push(u);return h};s.exports=g},593:(s,g,i)=>{var a=i(2284),v=function(f,h,u){f===void 0&&(f=0),h===void 0&&(h=null),u===void 0&&(u=1),h===null&&(h=f,f=0);for(var o=[],d=Math.max(a((h-f)/(u||1)),0),p=0;p<d;p++)o.push(f),f+=u;return o};s.exports=v},43886:s=>{function g(v,f,h){var u=v[f];v[f]=v[h],v[h]=u}function i(v,f){return v<f?-1:v>f?1:0}var a=function(v,f,h,u,o){for(h===void 0&&(h=0),u===void 0&&(u=v.length-1),o===void 0&&(o=i);u>h;){if(u-h>600){var d=u-h+1,p=f-h+1,l=Math.log(d),m=.5*Math.exp(2*l/3),y=.5*Math.sqrt(l*m*(d-m)/d)*(p-d/2<0?-1:1),x=Math.max(h,Math.floor(f-p*m/d+y)),b=Math.min(u,Math.floor(f+(d-p)*m/d+y));a(v,f,x,b,o)}var w=v[f],C=h,E=u;for(g(v,h,f),o(v[u],w)>0&&g(v,h,u);C<E;){for(g(v,C,E),C++,E--;o(v[C],w)<0;)C++;for(;o(v[E],w)>0;)E--}o(v[h],w)===0?g(v,h,E):(E++,g(v,E,u)),E<=f&&(h=E+1),f<=E&&(u=E-1)}};s.exports=a},88492:(s,g,i)=>{var a=i(35154),v=i(33680),f=function(u,o,d){for(var p=[],l=0;l<u.length;l++)for(var m=0;m<o.length;m++)for(var y=0;y<d;y++)p.push({a:u[l],b:o[m]});return p},h=function(u,o,d){var p=a(d,"max",0),l=a(d,"qty",1),m=a(d,"random",!1),y=a(d,"randomB",!1),x=a(d,"repeat",0),b=a(d,"yoyo",!1),w=[];if(y&&v(o),x===-1)if(p===0)x=0;else{var C=u.length*o.length*l;b&&(C*=2),x=Math.ceil(p/C)}for(var E=0;E<=x;E++){var T=f(u,o,l);m&&v(T),w=w.concat(T),b&&(T.reverse(),w=w.concat(T))}return p&&w.splice(p),w};s.exports=h},72905:(s,g,i)=>{var a=i(19133),v=function(f,h,u,o){o===void 0&&(o=f);var d;if(!Array.isArray(h))return d=f.indexOf(h),d!==-1?(a(f,d),u&&u.call(o,h),h):null;for(var p=h.length-1,l=[];p>=0;){var m=h[p];d=f.indexOf(m),d!==-1&&(a(f,d),l.push(m),u&&u.call(o,m)),p--}return l};s.exports=v},60248:(s,g,i)=>{var a=i(19133),v=function(f,h,u,o){if(o===void 0&&(o=f),h<0||h>f.length-1)throw new Error("Index out of bounds");var d=a(f,h);return u&&u.call(o,d),d};s.exports=v},81409:(s,g,i)=>{var a=i(82011),v=function(f,h,u,o,d){if(h===void 0&&(h=0),u===void 0&&(u=f.length),d===void 0&&(d=f),a(f,h,u)){var p=u-h,l=f.splice(h,p);if(o)for(var m=0;m<l.length;m++){var y=l[m];o.call(d,y)}return l}else return[]};s.exports=v},31856:(s,g,i)=>{var a=i(19133),v=function(f,h,u){h===void 0&&(h=0),u===void 0&&(u=f.length);var o=h+Math.floor(Math.random()*u);return a(f,o)};s.exports=v},42169:s=>{var g=function(i,a,v){var f=i.indexOf(a),h=i.indexOf(v);return f!==-1&&h===-1?(i[f]=v,!0):!1};s.exports=g},86003:s=>{var g=function(i,a){a===void 0&&(a=1);for(var v=null,f=0;f<a;f++)v=i.shift(),i.push(v);return v};s.exports=g},49498:s=>{var g=function(i,a){a===void 0&&(a=1);for(var v=null,f=0;f<a;f++)v=i.pop(),i.unshift(v);return v};s.exports=g},82011:s=>{var g=function(i,a,v,f){var h=i.length;if(a<0||a>h||a>=v||v>h){if(f)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};s.exports=g},89545:s=>{var g=function(i,a){var v=i.indexOf(a);return v!==-1&&v>0&&(i.splice(v,1),i.unshift(a)),a};s.exports=g},17810:(s,g,i)=>{var a=i(82011),v=function(f,h,u,o,d){if(o===void 0&&(o=0),d===void 0&&(d=f.length),a(f,o,d))for(var p=o;p<d;p++){var l=f[p];l.hasOwnProperty(h)&&(l[h]=u)}return f};s.exports=v},33680:s=>{var g=function(i){for(var a=i.length-1;a>0;a--){var v=Math.floor(Math.random()*(a+1)),f=i[a];i[a]=i[v],i[v]=f}return i};s.exports=g},90126:s=>{var g=function(i){var a=/\D/g;return i.sort(function(v,f){return parseInt(v.replace(a,""),10)-parseInt(f.replace(a,""),10)}),i};s.exports=g},19133:s=>{var g=function(i,a){if(!(a>=i.length)){for(var v=i.length-1,f=i[a],h=a;h<v;h++)i[h]=i[h+1];return i.length=v,f}};s.exports=g},19186:(s,g,i)=>{var a=i(82264);function v(o,d){return String(o).localeCompare(d)}function f(o,d){var p=o.length;if(p<=1)return o;for(var l=new Array(p),m=1;m<p;m*=2){h(o,d,m,l);var y=o;o=l,l=y}return o}function h(o,d,p,l){var m=o.length,y=0,x=p*2,b,w,C,E,T;for(b=0;b<m;b+=x)for(w=b+p,C=w+p,w>m&&(w=m),C>m&&(C=m),E=b,T=w;;)if(E<w&&T<C)d(o[E],o[T])<=0?l[y++]=o[E++]:l[y++]=o[T++];else if(E<w)l[y++]=o[E++];else if(T<C)l[y++]=o[T++];else break}var u=function(o,d){if(d===void 0&&(d=v),!o||o.length<2)return o;if(a.features.stableSort)return o.sort(d);var p=f(o,d);return p!==o&&h(p,null,o.length,o),o};s.exports=u},25630:s=>{var g=function(i,a,v){if(a===v)return i;var f=i.indexOf(a),h=i.indexOf(v);if(f<0||h<0)throw new Error("Supplied items must be elements of the same array");return i[f]=v,i[h]=a,i};s.exports=g},37105:(s,g,i)=>{s.exports={Matrix:i(54915),Add:i(71146),AddAt:i(51067),BringToTop:i(66905),CountAllMatching:i(21612),Each:i(95428),EachInRange:i(36914),FindClosestInSorted:i(81957),Flatten:i(43491),GetAll:i(46710),GetFirst:i(58731),GetRandom:i(26546),MoveDown:i(70864),MoveTo:i(69693),MoveUp:i(40853),MoveAbove:i(85835),MoveBelow:i(83371),NumberArray:i(20283),NumberArrayStep:i(593),QuickSelect:i(43886),Range:i(88492),Remove:i(72905),RemoveAt:i(60248),RemoveBetween:i(81409),RemoveRandomElement:i(31856),Replace:i(42169),RotateLeft:i(86003),RotateRight:i(49498),SafeRange:i(82011),SendToBack:i(89545),SetAll:i(17810),Shuffle:i(33680),SortByDigits:i(90126),SpliceOne:i(19133),StableSort:i(19186),Swap:i(25630)}},86922:s=>{var g=function(i){if(!Array.isArray(i)||!Array.isArray(i[0]))return!1;for(var a=i[0].length,v=1;v<i.length;v++)if(i[v].length!==a)return!1;return!0};s.exports=g},63362:(s,g,i)=>{var a=i(41836),v=i(86922),f=function(h){var u="";if(!v(h))return u;for(var o=0;o<h.length;o++){for(var d=0;d<h[o].length;d++){var p=h[o][d].toString();p!=="undefined"?u+=a(p,2):u+="?",d<h[o].length-1&&(u+=" |")}if(o<h.length-1){u+=`
`;for(var l=0;l<h[o].length;l++)u+="---",l<h[o].length-1&&(u+="+");u+=`
`}}return u};s.exports=f},92598:s=>{var g=function(i){return i.reverse()};s.exports=g},21224:s=>{var g=function(i){for(var a=0;a<i.length;a++)i[a].reverse();return i};s.exports=g},98717:(s,g,i)=>{var a=i(37829),v=function(f){return a(f,180)};s.exports=v},44657:(s,g,i)=>{var a=i(37829),v=function(f,h){h===void 0&&(h=1);for(var u=0;u<h;u++)f=a(f,90);return f};s.exports=v},37829:(s,g,i)=>{var a=i(86922),v=i(2429),f=function(h,u){if(u===void 0&&(u=90),!a(h))return null;if(typeof u!="string"&&(u=(u%360+360)%360),u===90||u===-270||u==="rotateLeft")h=v(h),h.reverse();else if(u===-90||u===270||u==="rotateRight")h.reverse(),h=v(h);else if(Math.abs(u)===180||u==="rotate180"){for(var o=0;o<h.length;o++)h[o].reverse();h.reverse()}return h};s.exports=f},92632:(s,g,i)=>{var a=i(37829),v=function(f,h){h===void 0&&(h=1);for(var u=0;u<h;u++)f=a(f,-90);return f};s.exports=v},69512:(s,g,i)=>{var a=i(86003),v=i(49498),f=function(h,u,o){if(u===void 0&&(u=0),o===void 0&&(o=0),o!==0&&(o<0?a(h,Math.abs(o)):v(h,o)),u!==0)for(var d=0;d<h.length;d++){var p=h[d];u<0?a(p,Math.abs(u)):v(p,u)}return h};s.exports=f},2429:s=>{var g=function(i){for(var a=i.length,v=i[0].length,f=new Array(v),h=0;h<v;h++){f[h]=new Array(a);for(var u=a-1;u>-1;u--)f[h][u]=i[u][h]}return f};s.exports=g},54915:(s,g,i)=>{s.exports={CheckMatrix:i(86922),MatrixToString:i(63362),ReverseColumns:i(92598),ReverseRows:i(21224),Rotate180:i(98717),RotateLeft:i(44657),RotateMatrix:i(37829),RotateRight:i(92632),Translate:i(69512),TransposeMatrix:i(2429)}},71334:s=>{var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(a,v){for(var f=new Uint8Array(a),h=f.length,u=v?"data:"+v+";base64,":"",o=0;o<h;o+=3)u+=g[f[o]>>2],u+=g[(f[o]&3)<<4|f[o+1]>>4],u+=g[(f[o+1]&15)<<2|f[o+2]>>6],u+=g[f[o+2]&63];return h%3===2?u=u.substring(0,u.length-1)+"=":h%3===1&&(u=u.substring(0,u.length-2)+"=="),u};s.exports=i},53134:s=>{for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),a=0;a<g.length;a++)i[g.charCodeAt(a)]=a;var v=function(f){f=f.substr(f.indexOf(",")+1);var h=f.length,u=h*.75,o=0,d,p,l,m;f[h-1]==="="&&(u--,f[h-2]==="="&&u--);for(var y=new ArrayBuffer(u),x=new Uint8Array(y),b=0;b<h;b+=4)d=i[f.charCodeAt(b)],p=i[f.charCodeAt(b+1)],l=i[f.charCodeAt(b+2)],m=i[f.charCodeAt(b+3)],x[o++]=d<<2|p>>4,x[o++]=(p&15)<<4|l>>2,x[o++]=(l&3)<<6|m&63;return y};s.exports=v},65839:(s,g,i)=>{s.exports={ArrayBufferToBase64:i(71334),Base64ToArrayBuffer:i(53134)}},91799:(s,g,i)=>{s.exports={Array:i(37105),Base64:i(65839),Objects:i(1183),String:i(31749),NOOP:i(29747),NULL:i(20242)}},41786:s=>{var g=function(i){var a={};for(var v in i)Array.isArray(i[v])?a[v]=i[v].slice(0):a[v]=i[v];return a};s.exports=g},62644:s=>{var g=function(i){var a,v,f;if(typeof i!="object"||i===null)return i;a=Array.isArray(i)?[]:{};for(f in i)v=i[f],a[f]=g(v);return a};s.exports=g},79291:(s,g,i)=>{var a=i(41212),v=function(){var f,h,u,o,d,p,l=arguments[0]||{},m=1,y=arguments.length,x=!1;for(typeof l=="boolean"&&(x=l,l=arguments[1]||{},m=2),y===m&&(l=this,--m);m<y;m++)if((f=arguments[m])!=null)for(h in f)u=l[h],o=f[h],l!==o&&(x&&o&&(a(o)||(d=Array.isArray(o)))?(d?(d=!1,p=u&&Array.isArray(u)?u:[]):p=u&&a(u)?u:{},l[h]=v(x,p,o)):o!==void 0&&(l[h]=o));return l};s.exports=v},23568:(s,g,i)=>{var a=i(75508),v=i(35154),f=function(h,u,o){var d=v(h,u,null);if(d===null)return o;if(Array.isArray(d))return a.RND.pick(d);if(typeof d=="object"){if(d.hasOwnProperty("randInt"))return a.RND.integerInRange(d.randInt[0],d.randInt[1]);if(d.hasOwnProperty("randFloat"))return a.RND.realInRange(d.randFloat[0],d.randFloat[1])}else if(typeof d=="function")return d(u);return d};s.exports=f},95540:s=>{var g=function(i,a,v){var f=typeof i;return!i||f==="number"||f==="string"?v:i.hasOwnProperty(a)&&i[a]!==void 0?i[a]:v};s.exports=g},82840:(s,g,i)=>{var a=i(35154),v=i(45319),f=function(h,u,o,d,p){p===void 0&&(p=o);var l=a(h,u,p);return v(l,o,d)};s.exports=f},35154:s=>{var g=function(i,a,v,f){if(!i&&!f||typeof i=="number")return v;if(i&&i.hasOwnProperty(a))return i[a];if(f&&f.hasOwnProperty(a))return f[a];if(a.indexOf(".")!==-1){for(var h=a.split("."),u=i,o=f,d=v,p=v,l=!0,m=!0,y=0;y<h.length;y++)u&&u.hasOwnProperty(h[y])?(d=u[h[y]],u=u[h[y]]):l=!1,o&&o.hasOwnProperty(h[y])?(p=o[h[y]],o=o[h[y]]):m=!1;return l?d:m?p:v}else return v};s.exports=g},69036:s=>{var g=function(i,a){for(var v=0;v<a.length;v++)if(!i.hasOwnProperty(a[v]))return!1;return!0};s.exports=g},1985:s=>{var g=function(i,a){for(var v=0;v<a.length;v++)if(i.hasOwnProperty(a[v]))return!0;return!1};s.exports=g},97022:s=>{var g=function(i,a){return i.hasOwnProperty(a)};s.exports=g},41212:s=>{var g=function(i){if(!i||typeof i!="object"||i.nodeType||i===i.window)return!1;try{if(i.constructor&&!{}.hasOwnProperty.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}return!0};s.exports=g},46975:(s,g,i)=>{var a=i(41786),v=function(f,h){var u=a(f);for(var o in h)u.hasOwnProperty(o)||(u[o]=h[o]);return u};s.exports=v},269:(s,g,i)=>{var a=i(41786),v=function(f,h){var u=a(f);for(var o in h)u.hasOwnProperty(o)&&(u[o]=h[o]);return u};s.exports=v},18254:(s,g,i)=>{var a=i(97022),v=function(f,h){for(var u={},o=0;o<h.length;o++){var d=h[o];a(f,d)&&(u[d]=f[d])}return u};s.exports=v},61622:s=>{var g=function(i,a,v){if(!i||typeof i=="number")return!1;if(i.hasOwnProperty(a))return i[a]=v,!0;if(a.indexOf(".")!==-1){for(var f=a.split("."),h=i,u=i,o=0;o<f.length;o++)if(h.hasOwnProperty(f[o]))u=h,h=h[f[o]];else return!1;return u[f[f.length-1]]=v,!0}return!1};s.exports=g},1183:(s,g,i)=>{s.exports={Clone:i(41786),DeepCopy:i(62644),Extend:i(79291),GetAdvancedValue:i(23568),GetFastValue:i(95540),GetMinMaxValue:i(82840),GetValue:i(35154),HasAll:i(69036),HasAny:i(1985),HasValue:i(97022),IsPlainObject:i(41212),Merge:i(46975),MergeRight:i(269),Pick:i(18254),SetValue:i(61622)}},27902:s=>{var g=function(i,a){return i.replace(/%([0-9]+)/g,function(v,f){return a[Number(f)-1]})};s.exports=g},41836:s=>{var g=function(i,a,v,f){a===void 0&&(a=0),v===void 0&&(v=" "),f===void 0&&(f=3),i=i.toString();var h=0;if(a+1>=i.length)switch(f){case 1:i=new Array(a+1-i.length).join(v)+i;break;case 3:var u=Math.ceil((h=a-i.length)/2),o=h-u;i=new Array(o+1).join(v)+i+new Array(u+1).join(v);break;default:i=i+new Array(a+1-i.length).join(v);break}return i};s.exports=g},33628:s=>{var g=function(i,a){return a===0?i.slice(1):i.slice(0,a-1)+i.slice(a)};s.exports=g},27671:s=>{var g=function(i){return i.split("").reverse().join("")};s.exports=g},45650:s=>{var g=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var a=Math.random()*16|0,v=i==="x"?a:a&3|8;return v.toString(16)})};s.exports=g},35355:s=>{var g=function(i){return i&&i[0].toUpperCase()+i.slice(1)};s.exports=g},31749:(s,g,i)=>{s.exports={Format:i(27902),Pad:i(41836),RemoveAt:i(33628),Reverse:i(27671),UppercaseFirst:i(35355),UUID:i(45650)}}},n={};function c(s){var g=n[s];if(g!==void 0)return g.exports;var i=n[s]={exports:{}};return r[s](i,i.exports,c),i.exports}c.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(s){if(typeof window=="object")return window}}();var S=c(85454);return S})())})(Mj);var iIt=Mj.exports;const Yv=Rs(iIt),rIt={"uncommon-1":{url:"https://media.blooket.com/image/upload/v1658567787/Media/market/particles/square_green.svg",width:25,height:25},"uncommon-2":{url:"https://media.blooket.com/image/upload/v1658567787/Media/market/particles/square_light_green.svg",width:25,height:25},"uncommon-3":{url:"https://media.blooket.com/image/upload/v1658567785/Media/market/particles/circle_dark_green.svg",width:25,height:25},"uncommon-4":{url:"https://media.blooket.com/image/upload/v1658567785/Media/market/particles/serpentine_dark_green.svg",width:30,height:30},"uncommon-5":{url:"https://media.blooket.com/image/upload/v1658567785/Media/market/particles/triangle_light_green.svg",width:30,height:30},"uncommon-6":{url:"https://media.blooket.com/image/upload/v1658567785/Media/market/particles/serpentine_light_green.svg",width:30,height:30},"uncommon-7":{url:"https://media.blooket.com/image/upload/v1658567785/Media/market/particles/triangle_green.svg",width:30,height:30},"rare-1":{url:"https://media.blooket.com/image/upload/v1658567765/Media/market/particles/square_light_blue.svg",width:25,height:25},"rare-2":{url:"https://media.blooket.com/image/upload/v1658567765/Media/market/particles/square_dark_blue.svg",width:25,height:25},"rare-3":{url:"https://media.blooket.com/image/upload/v1658567763/Media/market/particles/triangle_blue.svg",width:30,height:30},"rare-4":{url:"https://media.blooket.com/image/upload/v1658567763/Media/market/particles/serpentine_blue.svg",width:30,height:30},"rare-5":{url:"https://media.blooket.com/image/upload/v1658567763/Media/market/particles/triangle_light_blue.svg",width:30,height:30},"rare-6":{url:"https://media.blooket.com/image/upload/v1658567763/Media/market/particles/serpentine_light_blue.svg",width:30,height:30},"rare-7":{url:"https://media.blooket.com/image/upload/v1658567763/Media/market/particles/circle_dark_blue.svg",width:25,height:25},"epic-1":{url:"https://media.blooket.com/image/upload/v1658790239/Media/market/particles/red.svg",width:25,height:25},"epic-2":{url:"https://media.blooket.com/image/upload/v1658790237/Media/market/particles/light_red.svg",width:25,height:25},"epic-3":{url:"https://media.blooket.com/image/upload/v1658790239/Media/market/particles/serpentine_red.svg",width:30,height:30},"epic-4":{url:"https://media.blooket.com/image/upload/v1658790239/Media/market/particles/serpentine_dark_red.svg",width:30,height:30},"epic-5":{url:"https://media.blooket.com/image/upload/v1658790237/Media/market/particles/triangle_red.svg",width:30,height:30},"epic-6":{url:"https://media.blooket.com/image/upload/v1658790237/Media/market/particles/triangle_light_red.svg",width:30,height:30},"epic-7":{url:"https://media.blooket.com/image/upload/v1658790237/Media/market/particles/circle_dark_red.svg",width:25,height:25},"legendary-1":{url:"https://media.blooket.com/image/upload/v1658567740/Media/market/particles/square_orange.svg",width:25,height:25},"legendary-2":{url:"https://media.blooket.com/image/upload/v1658567740/Media/market/particles/square_light_orange.svg",width:25,height:25},"legendary-3":{url:"https://media.blooket.com/image/upload/v1658567738/Media/market/particles/circle_orange.svg",width:25,height:25},"legendary-4":{url:"https://media.blooket.com/image/upload/v1658567738/Media/market/particles/serpentine_orange.svg",width:30,height:30},"legendary-5":{url:"https://media.blooket.com/image/upload/v1658567738/Media/market/particles/serpentine_light_orange.svg",width:30,height:30},"legendary-6":{url:"https://media.blooket.com/image/upload/v1658567738/Media/market/particles/circle_dark_orange.svg",width:25,height:25},"legendary-7":{url:"https://media.blooket.com/image/upload/v1658567738/Media/market/particles/triangle_dark_orange.svg",width:30,height:30},"chroma-1":{url:"https://media.blooket.com/image/upload/v1658790246/Media/market/particles/square_turquoise.svg",width:25,height:25},"chroma-2":{url:"https://media.blooket.com/image/upload/v1658790246/Media/market/particles/square_light_turquoise.svg",width:25,height:25},"chroma-3":{url:"https://media.blooket.com/image/upload/v1658790244/Media/market/particles/serpentine_dark_turquoise.svg",width:30,height:30},"chroma-4":{url:"https://media.blooket.com/image/upload/v1658790244/Media/market/particles/serpentine_turquoise.svg",width:30,height:30},"chroma-5":{url:"https://media.blooket.com/image/upload/v1658790244/Media/market/particles/triangle_turquoise.svg",width:30,height:30},"chroma-6":{url:"https://media.blooket.com/image/upload/v1658790244/Media/market/particles/triangle_light_turquoise.svg",width:30,height:30},"chroma-7":{url:"https://media.blooket.com/image/upload/v1658790244/Media/market/particles/circle_dark_turquoise.svg",width:25,height:25}};class nIt extends Yv.GameObjects.Image{constructor(r){super(r,0,0,"uncommon-1");Ei(this,"lifespan");this.setDepth(3),this.lifespan=0}spawn(r,n,c,S,s,g,i,a,v){this.setTexture(v),this.setActive(!0),this.setVisible(!0),this.setPosition(r,n),this.setScale(c);const f=this.body;if(!f)throw new Error("cannot spawn particle without body");this.scene.physics.velocityFromAngle(S,s,f.velocity),f.setGravityY(g),f.setAngularVelocity(i),this.lifespan=a}update(r,n){this.lifespan-=n,this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1))}}const sIt=(e,t)=>{if(e==="center"){const r=cr(-115,-65);return{x:t.width/2,y:t.height/2,scale:cr(.7,1),angle:r,velocity:cr(600,750),gravity:700,angVelocity:(r>-90?1:-1)*cr(125,175),lifespan:2500}}if(e==="right")return{x:t.width,y:cr(0,t.height),scale:cr(.7,1),angle:-180,velocity:cr(600,750),gravity:0,angVelocity:cr(-175,-125),lifespan:2500};if(e==="left")return{x:0,y:cr(0,t.height),scale:cr(.7,1),angle:0,velocity:cr(600,750),gravity:0,angVelocity:cr(125,175),lifespan:2500};if(e==="right-bottom")return{x:t.width,y:t.height,scale:cr(.7,1),angle:cr(-160,-110),velocity:cr(600,750),gravity:500,angVelocity:cr(-175,-125),lifespan:2500};if(e==="left-bottom")return{x:0,y:t.height,scale:cr(.7,1),angle:cr(-70,-20),velocity:cr(600,750),gravity:500,angVelocity:cr(125,175),lifespan:2500};if(e==="top")return{x:cr(0,t.width),y:-50,scale:cr(.7,1),angle:90,velocity:cr(0,50),gravity:700,angVelocity:cr(-150,150),lifespan:2500};if(e==="right-shower")return{x:t.width,y:cr(0,t.height),scale:cr(.7,1),angle:cr(-180,-130),velocity:cr(600,750),gravity:500,angVelocity:cr(-175,-125),lifespan:2500};if(e==="left-shower")return{x:0,y:cr(0,t.height),scale:cr(.7,1),angle:cr(-50,0),velocity:cr(600,750),gravity:500,angVelocity:cr(125,175),lifespan:2500};if(e==="right-diamond"){const r=cr(0,t.height);return{x:t.width,y:r,scale:cr(.7,1),angle:r>t.height/2?-150:-210,velocity:cr(600,750),gravity:0,angVelocity:cr(-175,-125),lifespan:2500}}if(e==="left-diamond"){const r=cr(0,t.height);return{x:0,y:r,scale:cr(.7,1),angle:r>t.height/2?-30:30,velocity:cr(600,750),gravity:0,angVelocity:cr(125,175),lifespan:2500}}return e==="center-spread"?{x:t.width/2,y:t.height/2,scale:cr(.7,1),angle:cr(0,360),velocity:cr(600,750),gravity:0,angVelocity:cr(-175,175),lifespan:2500}:{}},aIt={Uncommon:2,Rare:2,Epic:2,Legendary:3,Chroma:3},oIt=(e,t)=>{switch(e){case"Uncommon":return"center";case"Rare":return t%2===0?"left-bottom":"right-bottom";case"Epic":return t%2===0?"left-shower":"right-shower";case"Legendary":return"top";case"Chroma":return t%2===0?"left-diamond":"right-diamond";default:return"center"}},Bj="current-scene-ready",Oj="start-particles";class lIt extends Yv.Scene{constructor(r,n){super();Ei(this,"rarity");Ei(this,"numParticlesToSpawn");Ei(this,"particles");Ei(this,"interationsUntilNextParticleSpawn",0);Ei(this,"numExplosions",0);Ei(this,"eventBus");this.eventBus=n,this.rarity=r,this.numParticlesToSpawn=aIt[this.rarity]||0}preload(){this.load.setCORS("anonymous");const r=this.rarity.toLowerCase();Object.entries(rIt).filter(([n])=>n.includes(r)).forEach(([n,c])=>{this.load.svg(n,c.url,{width:c.width,height:c.height})})}create(){this.particles=this.physics.add.group({classType:nIt,runChildUpdate:!0}),this.interationsUntilNextParticleSpawn=0,this.numExplosions=0,this.eventBus.on(Oj,()=>{this.rarity==="Uncommon"?this.numExplosions=75:this.rarity==="Rare"?this.numExplosions=100:this.numExplosions=-1}),this.eventBus.emit(Bj)}update(r,n){var S;if(this.numExplosions===0||(this.interationsUntilNextParticleSpawn-=n,this.interationsUntilNextParticleSpawn>0))return;const c=this.cameras.main.worldView;for(let s=0;s<this.numParticlesToSpawn;s++){const g=(S=this.particles)==null?void 0:S.get();if(g){const i=oIt(this.rarity,s),a=sIt(i,c),v=`${this.rarity.toLowerCase()}-${Za(1,8)}`;g.spawn(...Object.values(a),v)}}this.interationsUntilNextParticleSpawn=20,this.numExplosions>0&&(this.numExplosions=Math.max(this.numExplosions-1,0))}}const uIt=(e,t)=>({type:Yv.WEBGL,width:"100%",height:"100%",scale:{mode:Yv.Scale.NONE,autoCenter:Yv.Scale.CENTER_BOTH},transparent:!0,physics:{default:"arcade"},scene:new lIt(e,t)}),Nj="purchase-phaser-container",hIt=(e,t)=>{const r=uIt(e,t);return new Phaser.Game(Or(ji({},r),{parent:Nj}))},cIt=e=>{const t=zi.useRef(),r=zi.useRef(),[n,c]=zi.useState(!1);return zi.useEffect(()=>{var S;return e.rarity&&!t.current&&(r.current=new Phaser.Events.EventEmitter,(S=r.current)==null||S.on(Bj,()=>{c(!0)}),t.current=hIt(e.rarity,r.current)),()=>{var s;t.current&&(t.current.destroy(!0),t.current=void 0,(s=r.current)==null||s.destroy(),r.current=void 0,c(!1))}},[t,e.rarity,c]),zi.useEffect(()=>{var S;e.rarity&&e.showering&&n&&((S=r.current)==null||S.emit(Oj))},[e.rarity,e.showering,n]),e.rarity?A.jsx("div",{id:Nj}):null},cw={Pirate:{url:Re.fullPacks.Pirate,noTopUrl:Re.packBottoms.Pirate,background:"radial-gradient(circle, rgba(104,219,255,1) 0%, rgba(12,153,198,1) 100%)"},Outback:{url:Re.fullPacks.Outback,noTopUrl:Re.packBottoms.Outback,background:"radial-gradient(circle, rgba(240,137,65,1) 0%, rgba(150,66,29,1) 100%)"},"Ice Monster":{url:Re.fullPacks.IceMonsters,noTopUrl:Re.packBottoms.IceMonsters,background:"radial-gradient(circle, rgba(29,76,94,1) 0%, rgba(0,52,73,1) 100%)"},Dino:{url:Re.fullPacks.Dino,noTopUrl:Re.packBottoms.Dino,background:"radial-gradient(circle, rgba(160,189,65,1) 0%, rgba(21,59,49,1) 100%)"},Aquatic:{url:Re.fullPacks.Aquatic,noTopUrl:Re.packBottoms.Aquatic,background:"radial-gradient(circle, rgba(0,204,255,1) 0%, rgba(0,51,204,1) 100%)"},Safari:{url:Re.fullPacks.Safari,noTopUrl:Re.packBottoms.Safari,background:"radial-gradient(circle, rgba(255,219,77,1) 0%, rgba(255,102,0,1) 100%)"},Bot:{url:Re.fullPacks.Bot,noTopUrl:Re.packBottoms.Bot,background:"radial-gradient(circle, rgba(51,204,51,1) 0%, rgba(45,134,89,1) 100%)"},Space:{url:Re.fullPacks.Space,noTopUrl:Re.packBottoms.Space,background:"radial-gradient(circle, rgba(28,37,156,1) 0%, rgba(7,0,40,1) 100%)"},Medieval:{url:Re.fullPacks.Medieval,noTopUrl:Re.packBottoms.Medieval,background:"radial-gradient(circle, rgba(200,200,200,1) 0%, rgba(110,110,110,1) 100%)"},Wonderland:{url:Re.fullPacks.Wonderland,noTopUrl:Re.packBottoms.Wonderland,background:"radial-gradient(circle, rgba(0,170,255,1) 0%, rgba(97,32,87,1) 100%)"},Breakfast:{url:Re.fullPacks.Breakfast,noTopUrl:Re.packBottoms.Breakfast,background:"radial-gradient(circle, rgba(255,166,95,1) 0%, rgba(193,85,35,1) 100%)"}},fIt=e=>{const t=Pj(gs[e].realSet||gs[e].set);let r=0;return t.forEach(n=>{n[0]===e&&(r=n[1])}),r};class Fj extends ti.Component{constructor(t){super(t),this.state={tokens:0,currentPack:"",unlockedBlook:"",newUnlock:!1,openPack:!1,opening:!1,canOpen:!1,doneOpening:!1,instantOpen:!1,user:null,currentItem:null,loadingItem:!1,banners:[],titles:[],blookParts:{},weeklyShopItems:[],limitedBlooks:[],currentSeason:_h.NONE,purchasedBlookRarity:void 0},this.here=!0,this.handleBigClick=this.handleBigClick.bind(this),this.viewPack=this.viewPack.bind(this),this.buyPack=this.buyPack.bind(this),this.startOpening=this.startOpening.bind(this),this.buyItem=this.buyItem.bind(this)}componentDidMount(){return oi(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ue.logError("MarketPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}this.setState({user:t}),oi(this,null,function*(){const r=yield Vr.weeklyShop({}),n=yield Vr.limitedBlooks({});vi.get("/api/users/market").then(c=>{this.here&&this.setState({tokens:c.data.tokens,banners:c.data.banners||[],titles:c.data.titles||[],blookParts:c.data.blookParts||{},limitedBlooks:n.limitedBlooks,weeklyShopItems:r.items,currentSeason:OL()})}).catch(c=>{Ue.logError(c)})})})}componentWillUnmount(){this.here=!1,clearTimeout(this.openTimeout),clearTimeout(this.particleTimeout),clearTimeout(this.canOpenTimeout)}handleBigClick(){!this.state.opening&&this.state.canOpen?this.startOpening():this.state.doneOpening&&this.setState({opening:!1,doneOpening:!1,openPack:!1,currentPack:"",unlockedBlook:"",purchasedBlookRarity:void 0})}viewPack(t){this.setState({currentPack:t})}buyPack(t,r){return oi(this,null,function*(){if(!t)return this.setState({currentPack:""});if(!(this.state.tokens<Zf[r]||this.state.loadingPack)){this.setState({loadingPack:!0,tokens:this.state.tokens-Zf[r]});try{const n=yield Vr.purchaseBlookBox({boxName:r});this.setState({loadingPack:!1,currentPack:r,openPack:!0,unlockedBlook:n.unlockedBlook,tokens:n.tokens,newUnlock:n.isNewToUser,canOpen:!1},()=>{this.canOpenTimeout=setTimeout(()=>{this.setState({canOpen:!0})},200)})}catch(n){Ue.logError(n),this.setState({loadingPack:!1,currentPack:""})}}})}startOpening(){if(this.state.opening)return;const t=au(this.state.unlockedBlook);this.setState({opening:!0,purchasedBlookRarity:t},()=>oi(this,null,function*(){this.openTimeout=setTimeout(()=>{this.setState({doneOpening:!0})},["Uncommon","Rare"].includes(t)?750:t==="Chroma"?2e3:1250)}))}buyItem(){this.state.loadingItem||this.state.tokens<this.state.currentItem.data.price||(this.setState({loadingItem:!0,tokens:this.state.tokens-this.state.currentItem.data.price}),this.state.currentItem.type==="blook/limited"?oi(this,null,function*(){const t=yield Vr.purchaseLimitedBlook({name:this.state.currentItem.id});this.setState({limitedBlooks:t.limitedBlooks,loadingItem:!1,currentItem:null})}):vi.put(`/api/users/buy/${this.state.currentItem.type}`,{id:this.state.currentItem.id}).then(t=>{this.setState({loadingItem:!1,currentItem:null,banners:this.state.currentItem.type==="banner"?t.data:this.state.banners,titles:this.state.currentItem.type==="title"?t.data:this.state.titles,blookParts:this.state.currentItem.type==="part"?t.data:this.state.blookParts,limitedBlooks:this.state.currentItem.type==="blook/limited"?t.data:this.state.limitedBlooks})}).catch(t=>{Ue.logError(t),this.setState({loadingItem:!1,currentItem:null})}))}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Market | Blooket",desc:"Use the market to buy packs with tokens that are collected from games. There are tons of new Blooks to unlock, and this is the best place to get them."}),A.jsx(qs,{user:this.state.user,page:"Market",topContent:A.jsxs("div",{className:Oi.tokenBalance,children:[A.jsx("img",{src:Re.basic.token,alt:"Token",className:Oi.tokenBalanceIcon,draggable:!1}),Ji(this.state.tokens)]})}),A.jsxs("div",{className:He.profileBody,children:[A.jsx("div",{className:Oi.header,children:"Market"}),A.jsxs("div",{className:Oi.mTokenBalance,children:[A.jsx("img",{src:Re.basic.token,alt:"Token",className:Oi.tokenBalanceIcon,draggable:!1}),Ji(this.state.tokens)]}),A.jsx("div",{className:Oi.flex,children:A.jsx("div",{className:Oi.mInstantButton,role:"button",tabIndex:0,onClick:()=>this.setState({instantOpen:!this.state.instantOpen}),children:`Instant Open: ${this.state.instantOpen?"On":"Off"}`})}),A.jsxs("div",{className:Oi.storeContainer,children:[this.state.currentSeason===_h.WINTER?A.jsxs(A.Fragment,{children:[A.jsx("img",{src:Re.market.CashierWinter,alt:"Mark the Cashier",className:Oi.blizzardCashierBlook,draggable:!1}),A.jsx("img",{src:Re.market.StoreWinter,alt:"Store",className:Oi.storeImg,draggable:!1})]}):this.state.currentSeason===_h.FALL?A.jsxs(A.Fragment,{children:[A.jsx("img",{src:Re.market.CashierFall,alt:"Mark the Cashier",className:Oi.fallCashierBlook,draggable:!1}),A.jsx("img",{src:Re.market.StoreFall,alt:"Store",className:Oi.fallStoreImg,draggable:!1})]}):this.state.currentSeason===_h.SPOOKY?A.jsxs(A.Fragment,{children:[A.jsx("img",{src:Re.market.CashierSpooky,alt:"Mark the Cashier",className:Oi.spookyCashierBlook,draggable:!1}),A.jsx("img",{src:Re.market.StoreSpooky,alt:"Store",className:Oi.storeImg,draggable:!1})]}):this.state.currentSeason===_h.SHAMROCK?A.jsxs(A.Fragment,{children:[A.jsx("img",{src:Re.market.CashierShamrock,alt:"Mark the Cashier",className:Oi.cashierBlook,draggable:!1}),A.jsx("img",{src:Re.market.StoreShamrock,alt:"Store",className:Oi.storeImg,draggable:!1})]}):this.state.currentSeason===_h.EASTER?A.jsxs(A.Fragment,{children:[A.jsx("img",{src:Re.market.CashierEaster,alt:"Mark the Cashier",className:Oi.cashierBlook,draggable:!1}),A.jsx("img",{src:Re.market.StoreEaster,alt:"Store",className:Oi.storeImg,draggable:!1})]}):A.jsxs(A.Fragment,{children:[A.jsx("img",{src:Re.market.Cashier,alt:"Mark the Cashier",className:Oi.cashierBlook,draggable:!1}),A.jsx("img",{src:Re.market.Store,alt:"Store",className:Oi.storeImg,draggable:!1})]}),A.jsx("div",{className:Oi.instantButton,role:"button",tabIndex:0,onClick:()=>this.setState({instantOpen:!this.state.instantOpen}),children:`Instant Open: ${this.state.instantOpen?"On":"Off"}`})]}),A.jsxs("div",{className:Oi.leftColumn,children:[A.jsxs("div",{className:Oi.packsWrapper,children:[this.state.limitedBlooks.map(t=>A.jsxs("div",{className:Oi.packContainer,style:{background:"radial-gradient(circle, #fb9db6 0%, #dfc8fe 100%)"},role:"button",tabIndex:0,onClick:t.owned?()=>{}:()=>this.setState({currentItem:{id:t.name,type:"blook/limited",data:{name:t.name,price:t.price}}}),children:[A.jsxs("div",{className:Oi.packImgContainer,children:[A.jsx(xn,{name:t.name,className:Oi.packShadow,style:{transform:"translate(-50%, -60%) rotate(10deg)"}}),A.jsx(xn,{name:t.name,className:Oi.packImg,style:{transform:"translate(-50%, -60%) rotate(10deg)"}})]}),t.owned?A.jsx("div",{className:Oi.packBottom,children:"Owned"}):A.jsxs("div",{className:Oi.packBottom,children:[A.jsx("img",{src:Re.basic.token,alt:"Token",className:Oi.packPriceImg,draggable:!1}),Ji(t.price)]})]},t.name)),Object.entries(cw).map(([t,r])=>A.jsxs("div",{className:Oi.packContainer,style:{background:r.background},role:"button",tabIndex:0,onClick:this.state.instantOpen?()=>this.buyPack(!0,t):()=>this.viewPack(t),children:[A.jsxs("div",{className:Oi.packImgContainer,children:[A.jsx("img",{src:V0(r.url),alt:t,className:Oi.packShadow,draggable:!1}),A.jsx("img",{src:V0(r.url),alt:t,className:Oi.packImg,draggable:!1})]}),A.jsxs("div",{className:Oi.packBottom,children:[A.jsx("img",{src:Re.basic.token,alt:"Token",className:Oi.packPriceImg,draggable:!1}),Zf[t]]})]},t))]}),A.jsx("div",{className:Oi.subheader,children:"Weekly Shop"}),A.jsx("div",{className:Oi.weeklyWrapper,children:this.state.weeklyShopItems.map((t,r)=>A.jsxs("div",{className:Oi.weeklyContainer,role:"button",tabIndex:0,onClick:t.type==="title"&&this.state.titles.includes(t.id)||t.type==="banner"&&this.state.banners.includes(t.id)||t.type==="part"&&this.state.blookParts[t.data.type]&&this.state.blookParts[t.data.type].includes(t.data.num)?()=>{}:()=>this.setState({currentItem:t}),children:[A.jsx("div",{className:Oi.weeklyName,children:t.type==="title"?"Title":t.data.name}),t.type==="banner"?A.jsx("img",{src:t.data.url,alt:t.data.name,className:Oi.weeklyBanner,draggable:!1}):t.type==="part"?A.jsx("img",{src:dr[t.data.type][t.data.num].url,alt:t.data.name,className:Oi.weeklyPart,draggable:!1}):A.jsx("div",{className:Oi.weeklyTitle,children:t.data.name}),t.type==="title"&&this.state.titles.includes(t.id)||t.type==="banner"&&this.state.banners.includes(t.id)||t.type==="part"&&this.state.blookParts[t.data.type]&&this.state.blookParts[t.data.type].includes(t.data.num)?A.jsx("div",{className:Oi.weeklyBottom,children:"Owned"}):A.jsxs("div",{className:Oi.weeklyBottom,children:[A.jsx("img",{src:Re.basic.token,alt:"Token",className:Oi.packPriceImg,draggable:!1}),Ji(t.data.price)]}),A.jsx("div",{className:Oi.weeklyRarity,style:{backgroundColor:t.data.rarity==="Common"?"#3a3a3a":Fv[t.data.rarity]},children:t.data.rarity})]},r))})]})]}),this.state.currentPack?A.jsx(gr,{content:A.jsxs("div",{children:[A.jsx(Ec,{place:"left",effect:"solid",multiline:!0,html:!0,clickable:!0,className:Oi.tooltip}),`Purchase the ${this.state.currentPack} Pack`,A.jsx("i",{className:Ct(Oi.rateIcon,"far fa-question-circle"),"data-tip":aPt.renderToStaticMarkup(A.jsxs("div",{children:[A.jsx("div",{children:"Pack Rates:"}),Pj(this.state.currentPack).map(t=>A.jsx("div",{children:`${t[0]}: ${t[1]}%`},t[0]))]}))}),`for ${Ji(Zf[this.state.currentPack])} tokens?`]}),loading:this.state.loadingPack,buttonOne:this.state.tokens>=Zf[this.state.currentPack]?{text:"Yes",click:()=>this.buyPack(!0,this.state.currentPack),color:"blue"}:{text:"Not Enough Tokens",click:()=>this.buyPack(!1),color:"blue"},buttonTwo:this.state.tokens>=Zf[this.state.currentPack]?{text:"No",click:()=>this.buyPack(!1),color:"blue"}:null}):this.state.currentItem?A.jsx(gr,{text:`Purchase the ${this.state.currentItem.data.name} ${this.state.currentItem.type==="blook/limited"?"Blook":this.state.currentItem.type} for ${Ji(this.state.currentItem.data.price)} tokens?`,loading:this.state.loadingItem,buttonOne:this.state.tokens>=this.state.currentItem.data.price?{text:"Yes",click:this.buyItem,color:"blue"}:{text:"Not Enough Tokens",click:()=>this.setState({currentItem:null}),color:"blue"},buttonTwo:this.state.tokens>=this.state.currentItem.data.price?{text:"No",click:()=>this.setState({currentItem:null}),color:"blue"}:null}):null,this.state.openPack?A.jsxs("div",{className:Oi.openBackground,style:{background:cw[gs[this.state.unlockedBlook].realSet||gs[this.state.unlockedBlook].set].background},children:[A.jsx("img",{src:ZRt[gs[this.state.unlockedBlook].realSet||gs[this.state.unlockedBlook].set],alt:"Icon",className:Oi.cornerIcon,draggable:!1}),A.jsx("div",{className:Oi.phaserContainer,children:A.jsx(cIt,{rarity:this.state.purchasedBlookRarity,showering:this.state.opening})}),A.jsxs("div",{className:Ct(Oi.openContainer,{[Oi.openingContainer]:this.state.opening,[Oi.openingContainerEpic]:this.state.opening&&au(this.state.unlockedBlook)==="Epic",[Oi.openingContainerLegendary]:this.state.opening&&au(this.state.unlockedBlook)==="Legendary",[Oi.openingContainerChroma]:this.state.opening&&au(this.state.unlockedBlook)==="Chroma"}),children:[A.jsx("img",{src:V0(Rj[gs[this.state.unlockedBlook].realSet||gs[this.state.unlockedBlook].set]),alt:"Background",className:Oi.blookBackground,draggable:!1}),A.jsx(xn,{name:this.state.unlockedBlook,className:Oi.unlockedBlookImage}),A.jsxs("div",{className:Oi.unlockedText,children:[A.jsx(_x,{className:Oi.unlockedBlook,mode:"single",forceSingleModeWidth:!1,min:1,max:40,children:om(this.state.unlockedBlook)}),A.jsx("div",{className:Oi.rarityText,style:{color:Fv[au(this.state.unlockedBlook)]},children:au(this.state.unlockedBlook)})]}),A.jsx("div",{className:Oi.bottomText,children:`${fIt(this.state.unlockedBlook)}%${this.state.newUnlock?" - NEW!":""}`}),A.jsx("div",{className:Oi.bottomShadow})]}),A.jsxs("div",{className:this.state.opening?Oi.openingPackContainer:Oi.openPackContainer,role:"button",tabIndex:0,onClick:this.startOpening,children:[A.jsx("div",{className:Ct(Oi.openPackTop,{[Oi.isOpeningPackTop]:this.state.opening}),style:{backgroundImage:`url(${Re.basic.PackTop})`}}),A.jsx("img",{className:Ct(Oi.openPack,{[Oi.isOpeningPack]:this.state.opening}),src:V0(cw[gs[this.state.unlockedBlook].realSet||gs[this.state.unlockedBlook].set].noTopUrl),alt:"Pack"})]}),A.jsx("div",{className:Ct(Oi.openBigButton,{[Oi.canOpen]:!this.state.opening&&this.state.canOpen||this.state.opening&&this.state.doneOpening}),role:"button",tabIndex:0,onClick:this.handleBigClick})]}):null]})}}Fj.propTypes={user:Wt.object};const dIt=()=>({}),pIt=e=>ws({},e),vIt=Sn(Ts(Is(dIt,pIt)(Fj))),mIt="_header_r64q1_1",gIt="_mainContainer_r64q1_9",yIt="_infoContainer_r64q1_18",xIt="_headerRow_r64q1_30",bIt="_headerIcon_r64q1_38",SIt="_infoHeader_r64q1_44",wIt="_text_r64q1_50",TIt="_link_r64q1_57",CIt="_socialIcon_r64q1_71",EIt="_subscriptionText_r64q1_75",kIt="_blooketText_r64q1_83",DIt="_planText_r64q1_89",AIt="_planTextOrange_r64q1_95",PIt="_upgradeButton_r64q1_99",RIt="_upgradeButtonInside_r64q1_104",IIt="_tempContactSupportText_r64q1_135",er={header:mIt,mainContainer:gIt,infoContainer:yIt,headerRow:xIt,headerIcon:bIt,infoHeader:SIt,text:wIt,link:TIt,socialIcon:CIt,subscriptionText:EIt,blooketText:kIt,planText:DIt,planTextOrange:AIt,upgradeButton:PIt,upgradeButtonInside:RIt,tempContactSupportText:IIt},MIt=e=>{const t=zi.useContext(vm),[r,n]=zi.useState(null),[c,S]=zi.useState(""),[s,g]=zi.useState(""),[i,a]=zi.useState(null),[v,f]=zi.useState(""),[h,u]=zi.useState(""),[o,d]=zi.useState(""),[p,l]=zi.useState(!1),[m,y]=zi.useState(!1),x=zi.useCallback(()=>{oi(bn,null,function*(){var E;const w=yield Vr.settingsPageData({}),C=w.planEndsAt?ui(w.planEndsAt.toDate()).format("dddd, MMMM Do, YYYY"):"indefinite";S(w.username),g(w.email),a(w.dashboardLayout),f(ui((E=w.userCreatedAt)==null?void 0:E.toDate()).format("dddd, MMMM Do, YYYY")),u(w.planName),d(C),l(w.planRenewsAutomatically)})},[S,g,a,f,u,d,l]),b=zi.useCallback(()=>{oi(bn,null,function*(){yield t==null?void 0:t.getLoggedIn(),yield t==null?void 0:t.getData(),x()})},[e,x]);return zi.useEffect(()=>{x()},[x]),zi.useEffect(()=>{oi(bn,null,function*(){const w=yield t==null?void 0:t.getData();n(w)})},[e,n,i]),A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Settings | Blooket",desc:"View your settings and basic information about your account. You can also request a password reset or contact the help team here."}),A.jsx(qs,{user:r,page:"Settings"}),A.jsxs("div",{className:He.profileBody,children:[A.jsx("div",{className:er.header,children:"Settings"}),c?A.jsxs("div",{className:er.mainContainer,children:[A.jsx(Lj,{username:c,email:s,dashboardLayout:i,joinedAtLabel:v}),A.jsx(_j,{planName:h,planEnd:o,planRenew:p,setLoading:w=>y(w)}),A.jsx(jj,{dashboardLayout:i,setLoading:w=>y(w),onChange:()=>b()}),A.jsx(FIt,{}),A.jsx(LIt,{}),A.jsx(_It,{})]}):null]}),m&&A.jsx(gr,{text:"Processing...",loading:m})]})},BIt=()=>({planEnd:"",planName:"",planRenew:!1,setLoading:()=>{}}),OIt=e=>ws({},e),NIt=Ts(Is(BIt,OIt)(MIt)),Lj=e=>{const{username:t,email:r,dashboardLayout:n,joinedAtLabel:c}=e,S=n===To.TEACHER?"Teacher":"Student";return A.jsxs("div",{className:er.infoContainer,children:[A.jsxs("div",{className:er.headerRow,children:[A.jsx("i",{className:Ct("fas fa-user",er.headerIcon)}),A.jsx("div",{className:er.infoHeader,children:"Profile"})]}),A.jsxs("div",{className:er.text,children:[A.jsx("b",{children:"Username:"})," ",t]}),A.jsxs("div",{className:er.text,children:[A.jsx("b",{children:"Email:"})," ",r]}),A.jsxs("div",{className:er.text,children:[A.jsx("b",{children:"Dashboard Layout:"})," ",S]}),A.jsxs("div",{className:er.text,children:[A.jsx("b",{children:"Joined:"})," ",c]})]})};Lj.propTypes={username:Wt.string,email:Wt.string,dashboardLayout:Wt.number,joinedAtLabel:Wt.string};const _j=e=>{const{planName:t,planEnd:r,planRenew:n,setLoading:c}=e,S=A$(),s=zi.useCallback(()=>{c(!0),oi(bn,null,function*(){try{const i=yield Vr.createBillingSession({});window.open(i.sessionUrl,"_self")}catch(i){Ue.logError(i,null),c(!1)}})},[]),g=()=>{S.push("/upgrade")};return A.jsxs("div",{className:er.infoContainer,children:[A.jsxs("div",{className:er.headerRow,children:[A.jsx("i",{className:Ct("fas fa-clipboard-list",er.headerIcon)}),A.jsx("div",{className:er.infoHeader,children:"Plan"})]}),A.jsxs("div",{className:er.subscriptionText,children:[A.jsx("div",{className:er.blooketText,children:"Blooket"}),A.jsx("div",{className:Ct(er.planText,{[er.planTextOrange]:t!=="Starter"}),children:t})]}),t!=="Starter"?A.jsxs("div",{children:[A.jsxs("div",{className:er.text,children:[A.jsx("b",{children:"End Date:"})," ",r]}),n?A.jsx("div",{className:er.link,role:"button",tabIndex:0,onClick:s,children:"Edit Subscription"}):null]}):A.jsx(Ti,{color:"#ff7b24",onClick:g,outsideClass:er.upgradeButton,insideClass:er.upgradeButtonInside,children:"Upgrade Now!"})]})};_j.propTypes={planName:Wt.string,planEnd:Wt.string,planRenew:Wt.bool,setLoading:Wt.func};const jj=e=>{const{dashboardLayout:t,setLoading:r,onChange:n}=e,c=zi.useCallback(()=>{oi(bn,null,function*(){r(!0);const S=t===To.TEACHER?To.STUDENT:To.TEACHER;yield Vr.setDashboardLayout({layout:S}),r(!1),n()})},[t]);return A.jsxs("div",{className:er.infoContainer,children:[A.jsxs("div",{className:er.headerRow,children:[A.jsx("i",{className:Ct("fas fa-pencil-alt",er.headerIcon)}),A.jsx("div",{className:er.infoHeader,children:"Edit Info"})]}),A.jsx("div",{children:A.jsx(ss,{className:er.link,to:"/change/name",children:"Change Name"})}),A.jsx("div",{children:A.jsx("div",{className:er.link,role:"button",tabIndex:0,onClick:c,children:t===To.TEACHER?"Switch to Student Layout":"Switch to Teacher Layout"})}),A.jsx("div",{children:A.jsx("a",{className:er.link,href:`${nr.id}/forgot`,children:"Request Password Reset"})}),A.jsx("div",{children:A.jsx("a",{className:er.link,href:`${nr.id}/delete`,children:"Permanently Delete Account"})}),A.jsx("div",{className:er.tempContactSupportText,children:"Please contact support if you need to change your email address.  Include both the current email on the account and the email you would like to use going forward."})]})};jj.propTypes={dashboardLayout:Wt.number,setLoading:Wt.func,onChange:Wt.func};const FIt=()=>A.jsxs("div",{className:er.infoContainer,children:[A.jsxs("div",{className:er.headerRow,children:[A.jsx("i",{className:Ct("fas fa-comments",er.headerIcon)}),A.jsx("div",{className:er.infoHeader,children:"Social"})]}),A.jsx("div",{children:A.jsxs("a",{className:er.link,href:"https://twitter.com/playblooket",target:"_blank",rel:"noopener noreferrer",children:[A.jsx("i",{className:Ct("fab fa-twitter-square",er.socialIcon)}),"Twitter (@PlayBlooket)"]})}),A.jsx("div",{children:A.jsxs("a",{className:er.link,href:"https://www.instagram.com/playblooket",target:"_blank",rel:"noopener noreferrer",children:[A.jsx("i",{className:Ct("fab fa-instagram-square",er.socialIcon)}),"Instagram (@PlayBlooket)"]})}),A.jsx("div",{children:A.jsxs("a",{className:er.link,href:"https://www.facebook.com/PlayBlooket",target:"_blank",rel:"noopener noreferrer",children:[A.jsx("i",{className:Ct("fab fa-facebook-square",er.socialIcon)}),"Facebook (@PlayBlooket)"]})})]}),LIt=()=>A.jsxs("div",{className:er.infoContainer,children:[A.jsxs("div",{className:er.headerRow,children:[A.jsx("i",{className:Ct("fas fa-question-circle",er.headerIcon)}),A.jsx("div",{className:er.infoHeader,children:"Support"})]}),A.jsxs("div",{className:er.text,children:["Contact us at: ",A.jsx("a",{className:er.link,href:"mailto:contact-us@blooket.com",children:"contact-us@blooket.com"})]}),A.jsx("div",{children:A.jsx("a",{className:er.link,href:"https://help.blooket.com",target:"_blank",rel:"noopener noreferrer",children:"View Our Help Center"})}),A.jsx("div",{children:A.jsx("a",{className:er.link,href:"https://www.blooket.com/faq",target:"_blank",rel:"noopener noreferrer",children:"Frequently Asked Questions"})})]}),_It=()=>A.jsxs("div",{className:er.infoContainer,children:[A.jsxs("div",{className:er.headerRow,children:[A.jsx("i",{className:Ct("fas fa-lock",er.headerIcon)}),A.jsx("div",{className:er.infoHeader,children:"Privacy"})]}),A.jsx("div",{children:A.jsx("a",{className:er.link,href:`${nr.www}/privacy`,children:"Privacy Policy"})}),A.jsx("div",{children:A.jsx("a",{className:er.link,href:`${nr.www}/terms`,children:"Terms of Service"})})]}),jIt="_header_14stg_1",UIt="_headerLinkButton_14stg_12",zIt="_headerLinkIcon_14stg_30",GIt="_wideContainer_14stg_34",HIt="_wideContainerStart_14stg_42",$It="_dropHolder_14stg_46",VIt="_dropContainer_14stg_56",WIt="_activeDropContainer_14stg_69",YIt="_dropHeader_14stg_73",XIt="_dropText_14stg_83",QIt="_uploadButtonContainer_14stg_93",KIt="_uploadButton_14stg_93",JIt="_uploadButtonInside_14stg_106",ZIt="_uploadIcon_14stg_115",qIt="_uploadText_14stg_122",t7t="_imgContainer_14stg_129",e7t="_coverImage_14stg_142",i7t="_removeImageContainer_14stg_149",r7t="_removeImageButton_14stg_158",n7t="_removeImageIcon_14stg_171",s7t="_removeImageText_14stg_180",a7t="_upperRightContainer_14stg_188",o7t="_titleHeader_14stg_199",l7t="_titleSub_14stg_207",u7t="_descHeader_14stg_212",h7t="_input_14stg_220",c7t="_descInput_14stg_240",f7t="_inputFilled_14stg_258",d7t="_inputError_14stg_262",p7t="_categoryContainer_14stg_266",v7t="_categoryHeader_14stg_276",m7t="_categoryDesc_14stg_283",g7t="_privacyRow_14stg_290",y7t="_privacyCheckbox_14stg_298",x7t="_privacyCheckboxChecked_14stg_311",b7t="_privacyCheckboxSquare_14stg_315",S7t="_privacyText_14stg_331",w7t="_privacyTextDesc_14stg_337",T7t="_methodContainer_14stg_341",C7t="_methodButton_14stg_352",E7t="_methodButtonInside_14stg_357",k7t="_methodSelected_14stg_367",D7t="_methodIcon_14stg_371",A7t="_methodHeader_14stg_378",P7t="_quizletImage_14stg_386",R7t="_quizletImageSelected_14stg_392",I7t="_bottomRow_14stg_396",M7t="_buttonWrapper_14stg_405",B7t="_createButton_14stg_412",O7t="_buttonFilled_14stg_424",N7t="_buttonError_14stg_429",F7t="_errorContainer_14stg_434",L7t="_errorIcon_14stg_448",_7t="_spacer_14stg_453",j7t="_hiddenInput_14stg_457",Pi={header:jIt,headerLinkButton:UIt,headerLinkIcon:zIt,wideContainer:GIt,wideContainerStart:HIt,dropHolder:$It,dropContainer:VIt,activeDropContainer:WIt,dropHeader:YIt,dropText:XIt,uploadButtonContainer:QIt,uploadButton:KIt,uploadButtonInside:JIt,uploadIcon:ZIt,uploadText:qIt,imgContainer:t7t,coverImage:e7t,removeImageContainer:i7t,removeImageButton:r7t,removeImageIcon:n7t,removeImageText:s7t,upperRightContainer:a7t,titleHeader:o7t,titleSub:l7t,descHeader:u7t,input:h7t,descInput:c7t,inputFilled:f7t,inputError:d7t,categoryContainer:p7t,categoryHeader:v7t,categoryDesc:m7t,privacyRow:g7t,privacyCheckbox:y7t,privacyCheckboxChecked:x7t,privacyCheckboxSquare:b7t,privacyText:S7t,privacyTextDesc:w7t,methodContainer:T7t,methodButton:C7t,methodButtonInside:E7t,methodSelected:k7t,methodIcon:D7t,methodHeader:A7t,quizletImage:P7t,quizletImageSelected:R7t,bottomRow:I7t,buttonWrapper:M7t,createButton:B7t,buttonFilled:O7t,buttonError:N7t,errorContainer:F7t,errorIcon:L7t,spacer:_7t,hiddenInput:j7t},U7t="_mainContainer_2dg4p_1",z7t="_closeIcon_2dg4p_32",G7t="_logoHeader_2dg4p_49",H7t="_stepHeader_2dg4p_55",$7t="_stepDesc_2dg4p_64",V7t="_buttonContainer_2dg4p_72",W7t="_button_2dg4p_72",Y7t="_userIcon_2dg4p_101",X7t="_searchIcon_2dg4p_107",Q7t="_buttonText_2dg4p_113",K7t="_nextButton_2dg4p_119",J7t="_exportStep_2dg4p_142",Z7t="_imageStep_2dg4p_149",q7t="_imageStep3_2dg4p_154",tMt="_exportInstructions_2dg4p_161",eMt="_exportSub_2dg4p_169",iMt="_input_2dg4p_174",rMt="_stepRow_2dg4p_196",nMt="_checkBox_2dg4p_203",sMt="_checkIcon_2dg4p_218",aMt="_checkYes_2dg4p_223",oMt="_checkNo_2dg4p_229",lMt="_checkText_2dg4p_235",uMt="_errorContainer_2dg4p_242",hMt="_errorIcon_2dg4p_254",cMt="_errorText_2dg4p_263",Ir={mainContainer:U7t,closeIcon:z7t,logoHeader:G7t,stepHeader:H7t,stepDesc:$7t,buttonContainer:V7t,button:W7t,userIcon:Y7t,searchIcon:X7t,buttonText:Q7t,nextButton:K7t,exportStep:J7t,imageStep:Z7t,imageStep3:q7t,exportInstructions:tMt,exportSub:eMt,input:iMt,stepRow:rMt,checkBox:nMt,checkIcon:sMt,checkYes:aMt,checkNo:oMt,checkText:lMt,errorContainer:uMt,errorIcon:hMt,errorText:cMt},fMt=Re.basic.QuizletFullLogo,dMt=Re.basic.QuizletImportStep1,pMt=Re.basic.QuizletImportStep2,vMt=Re.basic.QuizletImportStep3;class r4 extends ti.Component{constructor(t){super(t),this.state={stage:1,input:"",loading:!1,isFlipped:!1},this.here=!0,this.onCreate=this.onCreate.bind(this)}componentWillUnmount(){this.here=!1}onCreate(t){t.preventDefault(),this.setState({loading:!0}),vi.put("/api/games/quizlet-import",{text:this.state.input,isFlipped:this.state.isFlipped,gameId:this.props.gameId}).then(()=>{this.props.done(null,!0)}).catch(r=>{this.props.done(null,!1),this.here&&this.setState({error:`Error: ${r.response.data.msg}`,loading:!1})})}render(){return A.jsxs("div",{className:Ir.mainContainer,children:[A.jsx("i",{className:Ct(Ir.closeIcon,"fas fa-times"),role:"button",tabIndex:0,onClick:()=>this.props.close()}),A.jsx("img",{src:fMt,alt:"Quizlet",className:Ir.logoHeader}),A.jsx("div",{className:Ir.stepHeader,children:this.state.stage===1?"Step 1: Find a Set":this.state.stage===2?"Step 2: How to Export":"Step 3: Paste and Create"}),this.state.stage===1?A.jsxs("div",{children:[A.jsxs("div",{className:Ir.stepDesc,children:["Any of Quizlet's sets can quickly be converted into a Blooket set! Then, you can go back and edit it to make it your own. Once you find a set, hit the next button below."," For the best results, use Quizlet sets that list the answer first and the question second."]}),A.jsxs("div",{className:Ir.buttonContainer,children:[A.jsxs("a",{className:Ir.button,href:"https://quizlet.com/latest",target:"_blank",rel:"noopener noreferrer",children:[A.jsx("i",{className:Ct(Ir.userIcon,"fas fa-user-astronaut"),style:{lineHeight:1}}),A.jsx("div",{className:Ir.buttonText,children:"Your Quizlet"})]}),A.jsxs("a",{className:Ir.button,href:"https://quizlet.com/subject",target:"_blank",rel:"noopener noreferrer",children:[A.jsx("i",{className:Ct(Ir.searchIcon,"fas fa-search"),style:{lineHeight:1}}),A.jsx("div",{className:Ir.buttonText,children:"Search Quizlet"})]})]})]}):this.state.stage===2?A.jsxs("div",{children:[A.jsx("div",{className:Ir.stepDesc,children:"Follow the steps below to export a set from Quizlet. Then, hit the next button after copying the set."}),A.jsxs("div",{className:Ir.exportStep,children:[A.jsx("img",{src:dMt,alt:"Export Step One",className:Ir.imageStep}),A.jsx("div",{className:Ir.exportInstructions,children:"Click the '3 dots' button on the set you want to export"})]}),A.jsxs("div",{className:Ir.exportStep,children:[A.jsx("img",{src:pMt,alt:"Export Step Two",className:Ir.imageStep}),A.jsx("div",{className:Ir.exportInstructions,children:"Under the dropdown menu, click 'Export'"}),A.jsx("div",{className:Ct(Ir.exportInstructions,Ir.exportSub),children:"(You must own the set to export it, so if the option doesn't appear create a copy of it for yourself.)"})]}),A.jsxs("div",{className:Ir.exportStep,children:[A.jsx("img",{src:vMt,alt:"Export Step Three",className:Ir.imageStep3}),A.jsx("div",{className:Ir.exportInstructions,children:"Leave 'Tab' and 'New line' selected, then click 'Copy Text'"})]})]}):A.jsxs("div",{children:[A.jsx("div",{className:Ir.stepDesc,children:"Now, paste the text into the text box below and hit the 'Add Questions' button under it."}),A.jsxs("div",{className:Ir.stepRow,children:[A.jsx("div",{className:Ct(Ir.checkBox,this.state.isFlipped?Ir.checkYes:Ir.checkNo),role:"button",tabIndex:0,onClick:()=>this.setState({isFlipped:!this.state.isFlipped}),children:A.jsx("i",{className:Ct(Ir.checkIcon,"fas fa-check")})}),A.jsx("div",{className:Ir.checkText,children:"Flip questions and answers"})]}),A.jsx("textarea",{className:Ir.input,onChange:t=>this.setState({input:t.target.value}),"data-gramm_editor":"false"})]}),this.state.error?A.jsxs("div",{className:Ir.errorContainer,children:[A.jsx("i",{className:Ct(Ir.errorIcon,"fas fa-times-circle")}),A.jsx("div",{className:Ir.errorText,children:this.state.error})]}):null,this.state.loading?A.jsx(no,{}):this.state.stage===3?A.jsx("div",{className:Ir.nextButton,role:"button",tabIndex:0,onClick:t=>this.onCreate(t),children:"Add Questions"}):A.jsx("div",{className:Ir.nextButton,role:"button",tabIndex:0,onClick:()=>this.setState({stage:this.state.stage+1}),children:"Next Step"})]})}}r4.propTypes={gameId:Jd.string,done:Wt.func.isRequired,close:Wt.func.isRequired};var n4={exports:{}},kd=typeof Reflect=="object"?Reflect:null,_A=kd&&typeof kd.apply=="function"?kd.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},p1;kd&&typeof kd.ownKeys=="function"?p1=kd.ownKeys:Object.getOwnPropertySymbols?p1=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:p1=function(t){return Object.getOwnPropertyNames(t)};function mMt(e){console&&console.warn&&console.warn(e)}var Uj=Number.isNaN||function(t){return t!==t};function pn(){pn.init.call(this)}n4.exports=pn;n4.exports.once=bMt;pn.EventEmitter=pn;pn.prototype._events=void 0;pn.prototype._eventsCount=0;pn.prototype._maxListeners=void 0;var jA=10;function Xx(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(pn,"defaultMaxListeners",{enumerable:!0,get:function(){return jA},set:function(e){if(typeof e!="number"||e<0||Uj(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");jA=e}});pn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};pn.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Uj(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function zj(e){return e._maxListeners===void 0?pn.defaultMaxListeners:e._maxListeners}pn.prototype.getMaxListeners=function(){return zj(this)};pn.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var c=t==="error",S=this._events;if(S!==void 0)c=c&&S.error===void 0;else if(!c)return!1;if(c){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var g=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw g.context=s,g}var i=S[t];if(i===void 0)return!1;if(typeof i=="function")_A(i,this,r);else for(var a=i.length,v=Wj(i,a),n=0;n<a;++n)_A(v[n],this,r);return!0};function Gj(e,t,r,n){var c,S,s;if(Xx(r),S=e._events,S===void 0?(S=e._events=Object.create(null),e._eventsCount=0):(S.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),S=e._events),s=S[t]),s===void 0)s=S[t]=r,++e._eventsCount;else if(typeof s=="function"?s=S[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),c=zj(e),c>0&&s.length>c&&!s.warned){s.warned=!0;var g=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");g.name="MaxListenersExceededWarning",g.emitter=e,g.type=t,g.count=s.length,mMt(g)}return e}pn.prototype.addListener=function(t,r){return Gj(this,t,r,!1)};pn.prototype.on=pn.prototype.addListener;pn.prototype.prependListener=function(t,r){return Gj(this,t,r,!0)};function gMt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Hj(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},c=gMt.bind(n);return c.listener=r,n.wrapFn=c,c}pn.prototype.once=function(t,r){return Xx(r),this.on(t,Hj(this,t,r)),this};pn.prototype.prependOnceListener=function(t,r){return Xx(r),this.prependListener(t,Hj(this,t,r)),this};pn.prototype.removeListener=function(t,r){var n,c,S,s,g;if(Xx(r),c=this._events,c===void 0)return this;if(n=c[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete c[t],c.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(S=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){g=n[s].listener,S=s;break}if(S<0)return this;S===0?n.shift():yMt(n,S),n.length===1&&(c[t]=n[0]),c.removeListener!==void 0&&this.emit("removeListener",t,g||r)}return this};pn.prototype.off=pn.prototype.removeListener;pn.prototype.removeAllListeners=function(t){var r,n,c;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var S=Object.keys(n),s;for(c=0;c<S.length;++c)s=S[c],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(c=r.length-1;c>=0;c--)this.removeListener(t,r[c]);return this};function $j(e,t,r){var n=e._events;if(n===void 0)return[];var c=n[t];return c===void 0?[]:typeof c=="function"?r?[c.listener||c]:[c]:r?xMt(c):Wj(c,c.length)}pn.prototype.listeners=function(t){return $j(this,t,!0)};pn.prototype.rawListeners=function(t){return $j(this,t,!1)};pn.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Vj.call(e,t)};pn.prototype.listenerCount=Vj;function Vj(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}pn.prototype.eventNames=function(){return this._eventsCount>0?p1(this._events):[]};function Wj(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function yMt(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function xMt(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function bMt(e,t){return new Promise(function(r,n){function c(s){e.removeListener(t,S),n(s)}function S(){typeof e.removeListener=="function"&&e.removeListener("error",c),r([].slice.call(arguments))}Yj(e,t,S,{once:!0}),t!=="error"&&SMt(e,c,{once:!0})})}function SMt(e,t,r){typeof e.on=="function"&&Yj(e,"error",t,r)}function Yj(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function c(S){n.once&&e.removeEventListener(t,c),r(S)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var s4=n4.exports,PC={exports:{}};typeof Object.create=="function"?PC.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:PC.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var If=PC.exports,fw,UA;function Xj(){return UA||(UA=1,fw=s4.EventEmitter),fw}const Qx=VP(w5t);var dw={},pw={},vw,zA;function Qj(){return zA||(zA=1,vw=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var c=42;t[r]=c;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var S=Object.getOwnPropertySymbols(t);if(S.length!==1||S[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==c||s.enumerable!==!0)return!1}return!0}),vw}var mw,GA;function a4(){if(GA)return mw;GA=1;var e=Qj();return mw=function(){return e()&&!!Symbol.toStringTag},mw}var gw,HA;function wMt(){return HA||(HA=1,gw=Error),gw}var yw,$A;function TMt(){return $A||($A=1,yw=EvalError),yw}var xw,VA;function CMt(){return VA||(VA=1,xw=RangeError),xw}var bw,WA;function EMt(){return WA||(WA=1,bw=ReferenceError),bw}var Sw,YA;function Kj(){return YA||(YA=1,Sw=SyntaxError),Sw}var ww,XA;function Kx(){return XA||(XA=1,ww=TypeError),ww}var Tw,QA;function kMt(){return QA||(QA=1,Tw=URIError),Tw}var Cw,KA;function DMt(){if(KA)return Cw;KA=1;var e=typeof Symbol!="undefined"&&Symbol,t=Qj();return Cw=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Cw}var Ew,JA;function AMt(){if(JA)return Ew;JA=1;var e={__proto__:null,foo:{}},t=Object;return Ew=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof t)},Ew}var kw,ZA;function PMt(){if(ZA)return kw;ZA=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",c=function(i,a){for(var v=[],f=0;f<i.length;f+=1)v[f]=i[f];for(var h=0;h<a.length;h+=1)v[h+i.length]=a[h];return v},S=function(i,a){for(var v=[],f=a,h=0;f<i.length;f+=1,h+=1)v[h]=i[f];return v},s=function(g,i){for(var a="",v=0;v<g.length;v+=1)a+=g[v],v+1<g.length&&(a+=i);return a};return kw=function(i){var a=this;if(typeof a!="function"||t.apply(a)!==n)throw new TypeError(e+a);for(var v=S(arguments,1),f,h=function(){if(this instanceof f){var l=a.apply(this,c(v,arguments));return Object(l)===l?l:this}return a.apply(i,c(v,arguments))},u=r(0,a.length-v.length),o=[],d=0;d<u;d++)o[d]="$"+d;if(f=Function("binder","return function ("+s(o,",")+"){ return binder.apply(this,arguments); }")(h),a.prototype){var p=function(){};p.prototype=a.prototype,f.prototype=new p,p.prototype=null}return f},kw}var Dw,qA;function o4(){if(qA)return Dw;qA=1;var e=PMt();return Dw=Function.prototype.bind||e,Dw}var Aw,tP;function RMt(){if(tP)return Aw;tP=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=o4();return Aw=r.call(e,t),Aw}var Pw,eP;function u0(){if(eP)return Pw;eP=1;var e,t=wMt(),r=TMt(),n=CMt(),c=EMt(),S=Kj(),s=Kx(),g=kMt(),i=Function,a=function(N){try{return i('"use strict"; return ('+N+").constructor;")()}catch(_){}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch(N){v=null}var f=function(){throw new s},h=v?function(){try{return arguments.callee,f}catch(N){try{return v(arguments,"callee").get}catch(_){return f}}}():f,u=DMt()(),o=AMt()(),d=Object.getPrototypeOf||(o?function(N){return N.__proto__}:null),p={},l=typeof Uint8Array=="undefined"||!d?e:d(Uint8Array),m={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?e:ArrayBuffer,"%ArrayIteratorPrototype%":u&&d?d([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":typeof Atomics=="undefined"?e:Atomics,"%BigInt%":typeof BigInt=="undefined"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array=="undefined"?e:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?e:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":p,"%Int8Array%":typeof Int8Array=="undefined"?e:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?e:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u&&d?d(d([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map=="undefined"?e:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!u||!d?e:d(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?e:Promise,"%Proxy%":typeof Proxy=="undefined"?e:Proxy,"%RangeError%":n,"%ReferenceError%":c,"%Reflect%":typeof Reflect=="undefined"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?e:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!u||!d?e:d(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u&&d?d(""[Symbol.iterator]()):e,"%Symbol%":u?Symbol:e,"%SyntaxError%":S,"%ThrowTypeError%":h,"%TypedArray%":l,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array=="undefined"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?e:Uint32Array,"%URIError%":g,"%WeakMap%":typeof WeakMap=="undefined"?e:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?e:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?e:WeakSet};if(d)try{null.error}catch(N){var y=d(d(N));m["%Error.prototype%"]=y}var x=function N(_){var G;if(_==="%AsyncFunction%")G=a("async function () {}");else if(_==="%GeneratorFunction%")G=a("function* () {}");else if(_==="%AsyncGeneratorFunction%")G=a("async function* () {}");else if(_==="%AsyncGenerator%"){var $=N("%AsyncGeneratorFunction%");$&&(G=$.prototype)}else if(_==="%AsyncIteratorPrototype%"){var V=N("%AsyncGenerator%");V&&d&&(G=d(V.prototype))}return m[_]=G,G},b={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=o4(),C=RMt(),E=w.call(Function.call,Array.prototype.concat),T=w.call(Function.apply,Array.prototype.splice),k=w.call(Function.call,String.prototype.replace),P=w.call(Function.call,String.prototype.slice),R=w.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,B=function(_){var G=P(_,0,1),$=P(_,-1);if(G==="%"&&$!=="%")throw new S("invalid intrinsic syntax, expected closing `%`");if($==="%"&&G!=="%")throw new S("invalid intrinsic syntax, expected opening `%`");var V=[];return k(_,M,function(Y,U,F,O){V[V.length]=F?k(O,I,"$1"):U||Y}),V},D=function(_,G){var $=_,V;if(C(b,$)&&(V=b[$],$="%"+V[0]+"%"),C(m,$)){var Y=m[$];if(Y===p&&(Y=x($)),typeof Y=="undefined"&&!G)throw new s("intrinsic "+_+" exists, but is not available. Please file an issue!");return{alias:V,name:$,value:Y}}throw new S("intrinsic "+_+" does not exist!")};return Pw=function(_,G){if(typeof _!="string"||_.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof G!="boolean")throw new s('"allowMissing" argument must be a boolean');if(R(/^%?[^%]*%?$/,_)===null)throw new S("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var $=B(_),V=$.length>0?$[0]:"",Y=D("%"+V+"%",G),U=Y.name,F=Y.value,O=!1,j=Y.alias;j&&(V=j[0],T($,E([0,1],j)));for(var z=1,W=!0;z<$.length;z+=1){var q=$[z],ot=P(q,0,1),Q=P(q,-1);if((ot==='"'||ot==="'"||ot==="`"||Q==='"'||Q==="'"||Q==="`")&&ot!==Q)throw new S("property names with quotes must have matching quotes");if((q==="constructor"||!W)&&(O=!0),V+="."+q,U="%"+V+"%",C(m,U))F=m[U];else if(F!=null){if(!(q in F)){if(!G)throw new s("base intrinsic for "+_+" exists, but the property is not available.");return}if(v&&z+1>=$.length){var rt=v(F,q);W=!!rt,W&&"get"in rt&&!("originalValue"in rt.get)?F=rt.get:F=F[q]}else W=C(F,q),F=F[q];W&&!O&&(m[U]=F)}}return F},Pw}var Rw={exports:{}},Iw,iP;function l4(){if(iP)return Iw;iP=1;var e=u0(),t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch(r){t=!1}return Iw=t,Iw}var Mw,rP;function u4(){if(rP)return Mw;rP=1;var e=u0(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch(r){t=null}return Mw=t,Mw}var Bw,nP;function IMt(){if(nP)return Bw;nP=1;var e=l4(),t=Kj(),r=Kx(),n=u4();return Bw=function(S,s,g){if(!S||typeof S!="object"&&typeof S!="function")throw new r("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,v=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,h=!!n&&n(S,s);if(e)e(S,s,{configurable:v===null&&h?h.configurable:!v,enumerable:i===null&&h?h.enumerable:!i,value:g,writable:a===null&&h?h.writable:!a});else if(f||!i&&!a&&!v)S[s]=g;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Bw}var Ow,sP;function MMt(){if(sP)return Ow;sP=1;var e=l4(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch(n){return!0}},Ow=t,Ow}var Nw,aP;function BMt(){if(aP)return Nw;aP=1;var e=u0(),t=IMt(),r=MMt()(),n=u4(),c=Kx(),S=e("%Math.floor%");return Nw=function(g,i){if(typeof g!="function")throw new c("`fn` is not a function");if(typeof i!="number"||i<0||i>4294967295||S(i)!==i)throw new c("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],v=!0,f=!0;if("length"in g&&n){var h=n(g,"length");h&&!h.configurable&&(v=!1),h&&!h.writable&&(f=!1)}return(v||f||!a)&&(r?t(g,"length",i,!0,!0):t(g,"length",i)),g},Nw}var oP;function Jj(){return oP||(oP=1,function(e){var t=o4(),r=u0(),n=BMt(),c=Kx(),S=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),g=r("%Reflect.apply%",!0)||t.call(s,S),i=l4(),a=r("%Math.max%");e.exports=function(h){if(typeof h!="function")throw new c("a function is required");var u=g(t,s,arguments);return n(u,1+a(0,h.length-(arguments.length-1)),!0)};var v=function(){return g(t,S,arguments)};i?i(e.exports,"apply",{value:v}):e.exports.apply=v}(Rw)),Rw.exports}var Fw,lP;function Zj(){if(lP)return Fw;lP=1;var e=u0(),t=Jj(),r=t(e("String.prototype.indexOf"));return Fw=function(c,S){var s=e(c,!!S);return typeof s=="function"&&r(c,".prototype.")>-1?t(s):s},Fw}var Lw,uP;function OMt(){if(uP)return Lw;uP=1;var e=a4()(),t=Zj(),r=t("Object.prototype.toString"),n=function(g){return e&&g&&typeof g=="object"&&Symbol.toStringTag in g?!1:r(g)==="[object Arguments]"},c=function(g){return n(g)?!0:g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&r(g)!=="[object Array]"&&r(g.callee)==="[object Function]"},S=function(){return n(arguments)}();return n.isLegacyArguments=c,Lw=S?n:c,Lw}var _w,hP;function NMt(){if(hP)return _w;hP=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=a4()(),c=Object.getPrototypeOf,S=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch(g){}},s;return _w=function(i){if(typeof i!="function")return!1;if(r.test(t.call(i)))return!0;if(!n){var a=e.call(i);return a==="[object GeneratorFunction]"}if(!c)return!1;if(typeof s=="undefined"){var v=S();s=v?c(v):!1}return c(i)===s},_w}var jw,cP;function FMt(){if(cP)return jw;cP=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(m){m!==n&&(t=null)}else t=null;var c=/^\s*class\b/,S=function(y){try{var x=e.call(y);return c.test(x)}catch(b){return!1}},s=function(y){try{return S(y)?!1:(e.call(y),!0)}catch(x){return!1}},g=Object.prototype.toString,i="[object Object]",a="[object Function]",v="[object GeneratorFunction]",f="[object HTMLAllCollection]",h="[object HTML document.all class]",u="[object HTMLCollection]",o=typeof Symbol=="function"&&!!Symbol.toStringTag,d=!(0 in[,]),p=function(){return!1};if(typeof document=="object"){var l=document.all;g.call(l)===g.call(document.all)&&(p=function(y){if((d||!y)&&(typeof y=="undefined"||typeof y=="object"))try{var x=g.call(y);return(x===f||x===h||x===u||x===i)&&y("")==null}catch(b){}return!1})}return jw=t?function(y){if(p(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;try{t(y,null,r)}catch(x){if(x!==n)return!1}return!S(y)&&s(y)}:function(y){if(p(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;if(o)return s(y);if(S(y))return!1;var x=g.call(y);return x!==a&&x!==v&&!/^\[object HTML/.test(x)?!1:s(y)},jw}var Uw,fP;function LMt(){if(fP)return Uw;fP=1;var e=FMt(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(i,a,v){for(var f=0,h=i.length;f<h;f++)r.call(i,f)&&(v==null?a(i[f],f,i):a.call(v,i[f],f,i))},c=function(i,a,v){for(var f=0,h=i.length;f<h;f++)v==null?a(i.charAt(f),f,i):a.call(v,i.charAt(f),f,i)},S=function(i,a,v){for(var f in i)r.call(i,f)&&(v==null?a(i[f],f,i):a.call(v,i[f],f,i))},s=function(i,a,v){if(!e(a))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=v),t.call(i)==="[object Array]"?n(i,a,f):typeof i=="string"?c(i,a,f):S(i,a,f)};return Uw=s,Uw}var zw,dP;function _Mt(){return dP||(dP=1,zw=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),zw}var Gw,pP;function jMt(){if(pP)return Gw;pP=1;var e=_Mt(),t=globalThis;return Gw=function(){for(var n=[],c=0;c<e.length;c++)typeof t[e[c]]=="function"&&(n[n.length]=e[c]);return n},Gw}var Hw,vP;function qj(){if(vP)return Hw;vP=1;var e=LMt(),t=jMt(),r=Jj(),n=Zj(),c=u4(),S=n("Object.prototype.toString"),s=a4()(),g=globalThis,i=t(),a=n("String.prototype.slice"),v=Object.getPrototypeOf,f=n("Array.prototype.indexOf",!0)||function(p,l){for(var m=0;m<p.length;m+=1)if(p[m]===l)return m;return-1},h={__proto__:null};s&&c&&v?e(i,function(d){var p=new g[d];if(Symbol.toStringTag in p){var l=v(p),m=c(l,Symbol.toStringTag);if(!m){var y=v(l);m=c(y,Symbol.toStringTag)}h["$"+d]=r(m.get)}}):e(i,function(d){var p=new g[d],l=p.slice||p.set;l&&(h["$"+d]=r(l))});var u=function(p){var l=!1;return e(h,function(m,y){if(!l)try{"$"+m(p)===y&&(l=a(y,1))}catch(x){}}),l},o=function(p){var l=!1;return e(h,function(m,y){if(!l)try{m(p),l=a(y,1)}catch(x){}}),l};return Hw=function(p){if(!p||typeof p!="object")return!1;if(!s){var l=a(S(p),8,-1);return f(i,l)>-1?l:l!=="Object"?!1:o(p)}return c?u(p):null},Hw}var $w,mP;function UMt(){if(mP)return $w;mP=1;var e=qj();return $w=function(r){return!!e(r)},$w}var gP;function zMt(){return gP||(gP=1,function(e){var t=OMt(),r=NMt(),n=qj(),c=UMt();function S(At){return At.call.bind(At)}var s=typeof BigInt!="undefined",g=typeof Symbol!="undefined",i=S(Object.prototype.toString),a=S(Number.prototype.valueOf),v=S(String.prototype.valueOf),f=S(Boolean.prototype.valueOf);if(s)var h=S(BigInt.prototype.valueOf);if(g)var u=S(Symbol.prototype.valueOf);function o(At,Bt){if(typeof At!="object")return!1;try{return Bt(At),!0}catch(le){return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=c;function d(At){return typeof Promise!="undefined"&&At instanceof Promise||At!==null&&typeof At=="object"&&typeof At.then=="function"&&typeof At.catch=="function"}e.isPromise=d;function p(At){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(At):c(At)||U(At)}e.isArrayBufferView=p;function l(At){return n(At)==="Uint8Array"}e.isUint8Array=l;function m(At){return n(At)==="Uint8ClampedArray"}e.isUint8ClampedArray=m;function y(At){return n(At)==="Uint16Array"}e.isUint16Array=y;function x(At){return n(At)==="Uint32Array"}e.isUint32Array=x;function b(At){return n(At)==="Int8Array"}e.isInt8Array=b;function w(At){return n(At)==="Int16Array"}e.isInt16Array=w;function C(At){return n(At)==="Int32Array"}e.isInt32Array=C;function E(At){return n(At)==="Float32Array"}e.isFloat32Array=E;function T(At){return n(At)==="Float64Array"}e.isFloat64Array=T;function k(At){return n(At)==="BigInt64Array"}e.isBigInt64Array=k;function P(At){return n(At)==="BigUint64Array"}e.isBigUint64Array=P;function R(At){return i(At)==="[object Map]"}R.working=typeof Map!="undefined"&&R(new Map);function M(At){return typeof Map=="undefined"?!1:R.working?R(At):At instanceof Map}e.isMap=M;function I(At){return i(At)==="[object Set]"}I.working=typeof Set!="undefined"&&I(new Set);function B(At){return typeof Set=="undefined"?!1:I.working?I(At):At instanceof Set}e.isSet=B;function D(At){return i(At)==="[object WeakMap]"}D.working=typeof WeakMap!="undefined"&&D(new WeakMap);function N(At){return typeof WeakMap=="undefined"?!1:D.working?D(At):At instanceof WeakMap}e.isWeakMap=N;function _(At){return i(At)==="[object WeakSet]"}_.working=typeof WeakSet!="undefined"&&_(new WeakSet);function G(At){return _(At)}e.isWeakSet=G;function $(At){return i(At)==="[object ArrayBuffer]"}$.working=typeof ArrayBuffer!="undefined"&&$(new ArrayBuffer);function V(At){return typeof ArrayBuffer=="undefined"?!1:$.working?$(At):At instanceof ArrayBuffer}e.isArrayBuffer=V;function Y(At){return i(At)==="[object DataView]"}Y.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&Y(new DataView(new ArrayBuffer(1),0,1));function U(At){return typeof DataView=="undefined"?!1:Y.working?Y(At):At instanceof DataView}e.isDataView=U;var F=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function O(At){return i(At)==="[object SharedArrayBuffer]"}function j(At){return typeof F=="undefined"?!1:(typeof O.working=="undefined"&&(O.working=O(new F)),O.working?O(At):At instanceof F)}e.isSharedArrayBuffer=j;function z(At){return i(At)==="[object AsyncFunction]"}e.isAsyncFunction=z;function W(At){return i(At)==="[object Map Iterator]"}e.isMapIterator=W;function q(At){return i(At)==="[object Set Iterator]"}e.isSetIterator=q;function ot(At){return i(At)==="[object Generator]"}e.isGeneratorObject=ot;function Q(At){return i(At)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=Q;function rt(At){return o(At,a)}e.isNumberObject=rt;function Mt(At){return o(At,v)}e.isStringObject=Mt;function K(At){return o(At,f)}e.isBooleanObject=K;function It(At){return s&&o(At,h)}e.isBigIntObject=It;function Ft(At){return g&&o(At,u)}e.isSymbolObject=Ft;function ft(At){return rt(At)||Mt(At)||K(At)||It(At)||Ft(At)}e.isBoxedPrimitive=ft;function yt(At){return typeof Uint8Array!="undefined"&&(V(At)||j(At))}e.isAnyArrayBuffer=yt,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(At){Object.defineProperty(e,At,{enumerable:!1,value:function(){throw new Error(At+" is not supported in userland")}})})}(pw)),pw}var Vw,yP;function GMt(){return yP||(yP=1,Vw=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),Vw}var xP;function tU(){return xP||(xP=1,function(e){var t={},r=Object.getOwnPropertyDescriptors||function(F){for(var O=Object.keys(F),j={},z=0;z<O.length;z++)j[O[z]]=Object.getOwnPropertyDescriptor(F,O[z]);return j},n=/%[sdj%]/g;e.format=function(U){if(!w(U)){for(var F=[],O=0;O<arguments.length;O++)F.push(g(arguments[O]));return F.join(" ")}for(var O=1,j=arguments,z=j.length,W=String(U).replace(n,function(ot){if(ot==="%%")return"%";if(O>=z)return ot;switch(ot){case"%s":return String(j[O++]);case"%d":return Number(j[O++]);case"%j":try{return JSON.stringify(j[O++])}catch(Q){return"[Circular]"}default:return ot}}),q=j[O];O<z;q=j[++O])y(q)||!k(q)?W+=" "+q:W+=" "+g(q);return W},e.deprecate=function(U,F){if(typeof lr!="undefined"&&lr.noDeprecation===!0)return U;if(typeof lr=="undefined")return function(){return e.deprecate(U,F).apply(this,arguments)};var O=!1;function j(){if(!O){if(lr.throwDeprecation)throw new Error(F);lr.traceDeprecation?console.trace(F):console.error(F),O=!0}return U.apply(this,arguments)}return j};var c={},S=/^$/;if(t.NODE_DEBUG){var s=t.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),S=new RegExp("^"+s+"$","i")}e.debuglog=function(U){if(U=U.toUpperCase(),!c[U])if(S.test(U)){var F=lr.pid;c[U]=function(){var O=e.format.apply(e,arguments);console.error("%s %d: %s",U,F,O)}}else c[U]=function(){};return c[U]};function g(U,F){var O={seen:[],stylize:a};return arguments.length>=3&&(O.depth=arguments[2]),arguments.length>=4&&(O.colors=arguments[3]),m(F)?O.showHidden=F:F&&e._extend(O,F),E(O.showHidden)&&(O.showHidden=!1),E(O.depth)&&(O.depth=2),E(O.colors)&&(O.colors=!1),E(O.customInspect)&&(O.customInspect=!0),O.colors&&(O.stylize=i),f(O,U,O.depth)}e.inspect=g,g.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},g.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function i(U,F){var O=g.styles[F];return O?"\x1B["+g.colors[O][0]+"m"+U+"\x1B["+g.colors[O][1]+"m":U}function a(U,F){return U}function v(U){var F={};return U.forEach(function(O,j){F[O]=!0}),F}function f(U,F,O){if(U.customInspect&&F&&M(F.inspect)&&F.inspect!==e.inspect&&!(F.constructor&&F.constructor.prototype===F)){var j=F.inspect(O,U);return w(j)||(j=f(U,j,O)),j}var z=h(U,F);if(z)return z;var W=Object.keys(F),q=v(W);if(U.showHidden&&(W=Object.getOwnPropertyNames(F)),R(F)&&(W.indexOf("message")>=0||W.indexOf("description")>=0))return u(F);if(W.length===0){if(M(F)){var ot=F.name?": "+F.name:"";return U.stylize("[Function"+ot+"]","special")}if(T(F))return U.stylize(RegExp.prototype.toString.call(F),"regexp");if(P(F))return U.stylize(Date.prototype.toString.call(F),"date");if(R(F))return u(F)}var Q="",rt=!1,Mt=["{","}"];if(l(F)&&(rt=!0,Mt=["[","]"]),M(F)){var K=F.name?": "+F.name:"";Q=" [Function"+K+"]"}if(T(F)&&(Q=" "+RegExp.prototype.toString.call(F)),P(F)&&(Q=" "+Date.prototype.toUTCString.call(F)),R(F)&&(Q=" "+u(F)),W.length===0&&(!rt||F.length==0))return Mt[0]+Q+Mt[1];if(O<0)return T(F)?U.stylize(RegExp.prototype.toString.call(F),"regexp"):U.stylize("[Object]","special");U.seen.push(F);var It;return rt?It=o(U,F,O,q,W):It=W.map(function(Ft){return d(U,F,O,q,Ft,rt)}),U.seen.pop(),p(It,Q,Mt)}function h(U,F){if(E(F))return U.stylize("undefined","undefined");if(w(F)){var O="'"+JSON.stringify(F).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return U.stylize(O,"string")}if(b(F))return U.stylize(""+F,"number");if(m(F))return U.stylize(""+F,"boolean");if(y(F))return U.stylize("null","null")}function u(U){return"["+Error.prototype.toString.call(U)+"]"}function o(U,F,O,j,z){for(var W=[],q=0,ot=F.length;q<ot;++q)G(F,String(q))?W.push(d(U,F,O,j,String(q),!0)):W.push("");return z.forEach(function(Q){Q.match(/^\d+$/)||W.push(d(U,F,O,j,Q,!0))}),W}function d(U,F,O,j,z,W){var q,ot,Q;if(Q=Object.getOwnPropertyDescriptor(F,z)||{value:F[z]},Q.get?Q.set?ot=U.stylize("[Getter/Setter]","special"):ot=U.stylize("[Getter]","special"):Q.set&&(ot=U.stylize("[Setter]","special")),G(j,z)||(q="["+z+"]"),ot||(U.seen.indexOf(Q.value)<0?(y(O)?ot=f(U,Q.value,null):ot=f(U,Q.value,O-1),ot.indexOf(`
`)>-1&&(W?ot=ot.split(`
`).map(function(rt){return"  "+rt}).join(`
`).slice(2):ot=`
`+ot.split(`
`).map(function(rt){return"   "+rt}).join(`
`))):ot=U.stylize("[Circular]","special")),E(q)){if(W&&z.match(/^\d+$/))return ot;q=JSON.stringify(""+z),q.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(q=q.slice(1,-1),q=U.stylize(q,"name")):(q=q.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),q=U.stylize(q,"string"))}return q+": "+ot}function p(U,F,O){var j=U.reduce(function(z,W){return W.indexOf(`
`)>=0,z+W.replace(/\u001b\[\d\d?m/g,"").length+1},0);return j>60?O[0]+(F===""?"":F+`
 `)+" "+U.join(`,
  `)+" "+O[1]:O[0]+F+" "+U.join(", ")+" "+O[1]}e.types=zMt();function l(U){return Array.isArray(U)}e.isArray=l;function m(U){return typeof U=="boolean"}e.isBoolean=m;function y(U){return U===null}e.isNull=y;function x(U){return U==null}e.isNullOrUndefined=x;function b(U){return typeof U=="number"}e.isNumber=b;function w(U){return typeof U=="string"}e.isString=w;function C(U){return typeof U=="symbol"}e.isSymbol=C;function E(U){return U===void 0}e.isUndefined=E;function T(U){return k(U)&&B(U)==="[object RegExp]"}e.isRegExp=T,e.types.isRegExp=T;function k(U){return typeof U=="object"&&U!==null}e.isObject=k;function P(U){return k(U)&&B(U)==="[object Date]"}e.isDate=P,e.types.isDate=P;function R(U){return k(U)&&(B(U)==="[object Error]"||U instanceof Error)}e.isError=R,e.types.isNativeError=R;function M(U){return typeof U=="function"}e.isFunction=M;function I(U){return U===null||typeof U=="boolean"||typeof U=="number"||typeof U=="string"||typeof U=="symbol"||typeof U=="undefined"}e.isPrimitive=I,e.isBuffer=GMt();function B(U){return Object.prototype.toString.call(U)}function D(U){return U<10?"0"+U.toString(10):U.toString(10)}var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _(){var U=new Date,F=[D(U.getHours()),D(U.getMinutes()),D(U.getSeconds())].join(":");return[U.getDate(),N[U.getMonth()],F].join(" ")}e.log=function(){console.log("%s - %s",_(),e.format.apply(e,arguments))},e.inherits=If,e._extend=function(U,F){if(!F||!k(F))return U;for(var O=Object.keys(F),j=O.length;j--;)U[O[j]]=F[O[j]];return U};function G(U,F){return Object.prototype.hasOwnProperty.call(U,F)}var $=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;e.promisify=function(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');if($&&F[$]){var O=F[$];if(typeof O!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(O,$,{value:O,enumerable:!1,writable:!1,configurable:!0}),O}function O(){for(var j,z,W=new Promise(function(Q,rt){j=Q,z=rt}),q=[],ot=0;ot<arguments.length;ot++)q.push(arguments[ot]);q.push(function(Q,rt){Q?z(Q):j(rt)});try{F.apply(this,q)}catch(Q){z(Q)}return W}return Object.setPrototypeOf(O,Object.getPrototypeOf(F)),$&&Object.defineProperty(O,$,{value:O,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(O,r(F))},e.promisify.custom=$;function V(U,F){if(!U){var O=new Error("Promise was rejected with a falsy value");O.reason=U,U=O}return F(U)}function Y(U){if(typeof U!="function")throw new TypeError('The "original" argument must be of type Function');function F(){for(var O=[],j=0;j<arguments.length;j++)O.push(arguments[j]);var z=O.pop();if(typeof z!="function")throw new TypeError("The last argument must be of type Function");var W=this,q=function(){return z.apply(W,arguments)};U.apply(this,O).then(function(ot){lr.nextTick(q.bind(null,null,ot))},function(ot){lr.nextTick(V.bind(null,ot,q))})}return Object.setPrototypeOf(F,Object.getPrototypeOf(U)),Object.defineProperties(F,r(U)),F}e.callbackify=Y}(dw)),dw}var Ww,bP;function HMt(){if(bP)return Ww;bP=1;function e(o,d){var p=Object.keys(o);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);d&&(l=l.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),p.push.apply(p,l)}return p}function t(o){for(var d=1;d<arguments.length;d++){var p=arguments[d]!=null?arguments[d]:{};d%2?e(Object(p),!0).forEach(function(l){r(o,l,p[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(p)):e(Object(p)).forEach(function(l){Object.defineProperty(o,l,Object.getOwnPropertyDescriptor(p,l))})}return o}function r(o,d,p){return d=s(d),d in o?Object.defineProperty(o,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):o[d]=p,o}function n(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}function c(o,d){for(var p=0;p<d.length;p++){var l=d[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(o,s(l.key),l)}}function S(o,d,p){return d&&c(o.prototype,d),Object.defineProperty(o,"prototype",{writable:!1}),o}function s(o){var d=g(o,"string");return typeof d=="symbol"?d:String(d)}function g(o,d){if(typeof o!="object"||o===null)return o;var p=o[Symbol.toPrimitive];if(p!==void 0){var l=p.call(o,d);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}var i=Qx,a=i.Buffer,v=tU(),f=v.inspect,h=f&&f.custom||"inspect";function u(o,d,p){a.prototype.copy.call(o,d,p)}return Ww=function(){function o(){n(this,o),this.head=null,this.tail=null,this.length=0}return S(o,[{key:"push",value:function(p){var l={data:p,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}},{key:"unshift",value:function(p){var l={data:p,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var l=this.head,m=""+l.data;l=l.next;)m+=p+l.data;return m}},{key:"concat",value:function(p){if(this.length===0)return a.alloc(0);for(var l=a.allocUnsafe(p>>>0),m=this.head,y=0;m;)u(m.data,l,y),y+=m.data.length,m=m.next;return l}},{key:"consume",value:function(p,l){var m;return p<this.head.data.length?(m=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?m=this.shift():m=l?this._getString(p):this._getBuffer(p),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var l=this.head,m=1,y=l.data;for(p-=y.length;l=l.next;){var x=l.data,b=p>x.length?x.length:p;if(b===x.length?y+=x:y+=x.slice(0,p),p-=b,p===0){b===x.length?(++m,l.next?this.head=l.next:this.head=this.tail=null):(this.head=l,l.data=x.slice(b));break}++m}return this.length-=m,y}},{key:"_getBuffer",value:function(p){var l=a.allocUnsafe(p),m=this.head,y=1;for(m.data.copy(l),p-=m.data.length;m=m.next;){var x=m.data,b=p>x.length?x.length:p;if(x.copy(l,l.length-p,0,b),p-=b,p===0){b===x.length?(++y,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=x.slice(b));break}++y}return this.length-=y,l}},{key:h,value:function(p,l){return f(this,t(t({},l),{},{depth:0,customInspect:!1}))}}]),o}(),Ww}var Yw,SP;function eU(){if(SP)return Yw;SP=1;function e(s,g){var i=this,a=this._readableState&&this._readableState.destroyed,v=this._writableState&&this._writableState.destroyed;return a||v?(g?g(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,lr.nextTick(c,this,s)):lr.nextTick(c,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(f){!g&&f?i._writableState?i._writableState.errorEmitted?lr.nextTick(r,i):(i._writableState.errorEmitted=!0,lr.nextTick(t,i,f)):lr.nextTick(t,i,f):g?(lr.nextTick(r,i),g(f)):lr.nextTick(r,i)}),this)}function t(s,g){c(s,g),r(s)}function r(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(s,g){s.emit("error",g)}function S(s,g){var i=s._readableState,a=s._writableState;i&&i.autoDestroy||a&&a.autoDestroy?s.destroy(g):s.emit("error",g)}return Yw={destroy:e,undestroy:n,errorOrDestroy:S},Yw}var Xw={},wP;function gp(){if(wP)return Xw;wP=1;function e(g,i){g.prototype=Object.create(i.prototype),g.prototype.constructor=g,g.__proto__=i}var t={};function r(g,i,a){a||(a=Error);function v(h,u,o){return typeof i=="string"?i:i(h,u,o)}var f=function(h){e(u,h);function u(o,d,p){return h.call(this,v(o,d,p))||this}return u}(a);f.prototype.name=a.name,f.prototype.code=g,t[g]=f}function n(g,i){if(Array.isArray(g)){var a=g.length;return g=g.map(function(v){return String(v)}),a>2?"one of ".concat(i," ").concat(g.slice(0,a-1).join(", "),", or ")+g[a-1]:a===2?"one of ".concat(i," ").concat(g[0]," or ").concat(g[1]):"of ".concat(i," ").concat(g[0])}else return"of ".concat(i," ").concat(String(g))}function c(g,i,a){return g.substr(0,i.length)===i}function S(g,i,a){return a=g.length,g.substring(a-i.length,a)===i}function s(g,i,a){return typeof a!="number"&&(a=0),a+i.length>g.length?!1:g.indexOf(i,a)!==-1}return r("ERR_INVALID_OPT_VALUE",function(g,i){return'The value "'+i+'" is invalid for option "'+g+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(g,i,a){var v;typeof i=="string"&&c(i,"not ")?(v="must not be",i=i.replace(/^not /,"")):v="must be";var f;if(S(g," argument"))f="The ".concat(g," ").concat(v," ").concat(n(i,"type"));else{var h=s(g,".")?"property":"argument";f='The "'.concat(g,'" ').concat(h," ").concat(v," ").concat(n(i,"type"))}return f+=". Received type ".concat(typeof a),f},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(g){return"The "+g+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(g){return"Cannot call "+g+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(g){return"Unknown encoding: "+g},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Xw.codes=t,Xw}var Qw,TP;function iU(){if(TP)return Qw;TP=1;var e=gp().codes.ERR_INVALID_OPT_VALUE;function t(n,c,S){return n.highWaterMark!=null?n.highWaterMark:c?n[S]:null}function r(n,c,S,s){var g=t(c,s,S);if(g!=null){if(!(isFinite(g)&&Math.floor(g)===g)||g<0){var i=s?S:"highWaterMark";throw new e(i,g)}return Math.floor(g)}return n.objectMode?16:16*1024}return Qw={getHighWaterMark:r},Qw}var Kw,CP;function $Mt(){if(CP)return Kw;CP=1,Kw=e;function e(r,n){if(t("noDeprecation"))return r;var c=!1;function S(){if(!c){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),c=!0}return r.apply(this,arguments)}return S}function t(r){try{if(!globalThis.localStorage)return!1}catch(c){return!1}var n=globalThis.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Kw}var Jw,EP;function rU(){if(EP)return Jw;EP=1,Jw=E;function e(j){var z=this;this.next=null,this.entry=null,this.finish=function(){O(z,j)}}var t;E.WritableState=w;var r={deprecate:$Mt()},n=Xj(),c=Qx.Buffer,S=(typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function s(j){return c.from(j)}function g(j){return c.isBuffer(j)||j instanceof S}var i=eU(),a=iU(),v=a.getHighWaterMark,f=gp().codes,h=f.ERR_INVALID_ARG_TYPE,u=f.ERR_METHOD_NOT_IMPLEMENTED,o=f.ERR_MULTIPLE_CALLBACK,d=f.ERR_STREAM_CANNOT_PIPE,p=f.ERR_STREAM_DESTROYED,l=f.ERR_STREAM_NULL_VALUES,m=f.ERR_STREAM_WRITE_AFTER_END,y=f.ERR_UNKNOWN_ENCODING,x=i.errorOrDestroy;If(E,n);function b(){}function w(j,z,W){t=t||Yd(),j=j||{},typeof W!="boolean"&&(W=z instanceof t),this.objectMode=!!j.objectMode,W&&(this.objectMode=this.objectMode||!!j.writableObjectMode),this.highWaterMark=v(this,j,"writableHighWaterMark",W),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=j.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=j.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ot){D(z,ot)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}w.prototype.getBuffer=function(){for(var z=this.bufferedRequest,W=[];z;)W.push(z),z=z.next;return W},function(){try{Object.defineProperty(w.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(j){}}();var C;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(z){return C.call(this,z)?!0:this!==E?!1:z&&z._writableState instanceof w}})):C=function(z){return z instanceof this};function E(j){t=t||Yd();var z=this instanceof t;if(!z&&!C.call(E,this))return new E(j);this._writableState=new w(j,this,z),this.writable=!0,j&&(typeof j.write=="function"&&(this._write=j.write),typeof j.writev=="function"&&(this._writev=j.writev),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.final=="function"&&(this._final=j.final)),n.call(this)}E.prototype.pipe=function(){x(this,new d)};function T(j,z){var W=new m;x(j,W),lr.nextTick(z,W)}function k(j,z,W,q){var ot;return W===null?ot=new l:typeof W!="string"&&!z.objectMode&&(ot=new h("chunk",["string","Buffer"],W)),ot?(x(j,ot),lr.nextTick(q,ot),!1):!0}E.prototype.write=function(j,z,W){var q=this._writableState,ot=!1,Q=!q.objectMode&&g(j);return Q&&!c.isBuffer(j)&&(j=s(j)),typeof z=="function"&&(W=z,z=null),Q?z="buffer":z||(z=q.defaultEncoding),typeof W!="function"&&(W=b),q.ending?T(this,W):(Q||k(this,q,j,W))&&(q.pendingcb++,ot=R(this,q,Q,j,z,W)),ot},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var j=this._writableState;j.corked&&(j.corked--,!j.writing&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&G(this,j))},E.prototype.setDefaultEncoding=function(z){if(typeof z=="string"&&(z=z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((z+"").toLowerCase())>-1))throw new y(z);return this._writableState.defaultEncoding=z,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function P(j,z,W){return!j.objectMode&&j.decodeStrings!==!1&&typeof z=="string"&&(z=c.from(z,W)),z}Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R(j,z,W,q,ot,Q){if(!W){var rt=P(z,q,ot);q!==rt&&(W=!0,ot="buffer",q=rt)}var Mt=z.objectMode?1:q.length;z.length+=Mt;var K=z.length<z.highWaterMark;if(K||(z.needDrain=!0),z.writing||z.corked){var It=z.lastBufferedRequest;z.lastBufferedRequest={chunk:q,encoding:ot,isBuf:W,callback:Q,next:null},It?It.next=z.lastBufferedRequest:z.bufferedRequest=z.lastBufferedRequest,z.bufferedRequestCount+=1}else M(j,z,!1,Mt,q,ot,Q);return K}function M(j,z,W,q,ot,Q,rt){z.writelen=q,z.writecb=rt,z.writing=!0,z.sync=!0,z.destroyed?z.onwrite(new p("write")):W?j._writev(ot,z.onwrite):j._write(ot,Q,z.onwrite),z.sync=!1}function I(j,z,W,q,ot){--z.pendingcb,W?(lr.nextTick(ot,q),lr.nextTick(U,j,z),j._writableState.errorEmitted=!0,x(j,q)):(ot(q),j._writableState.errorEmitted=!0,x(j,q),U(j,z))}function B(j){j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0}function D(j,z){var W=j._writableState,q=W.sync,ot=W.writecb;if(typeof ot!="function")throw new o;if(B(W),z)I(j,W,q,z,ot);else{var Q=$(W)||j.destroyed;!Q&&!W.corked&&!W.bufferProcessing&&W.bufferedRequest&&G(j,W),q?lr.nextTick(N,j,W,Q,ot):N(j,W,Q,ot)}}function N(j,z,W,q){W||_(j,z),z.pendingcb--,q(),U(j,z)}function _(j,z){z.length===0&&z.needDrain&&(z.needDrain=!1,j.emit("drain"))}function G(j,z){z.bufferProcessing=!0;var W=z.bufferedRequest;if(j._writev&&W&&W.next){var q=z.bufferedRequestCount,ot=new Array(q),Q=z.corkedRequestsFree;Q.entry=W;for(var rt=0,Mt=!0;W;)ot[rt]=W,W.isBuf||(Mt=!1),W=W.next,rt+=1;ot.allBuffers=Mt,M(j,z,!0,z.length,ot,"",Q.finish),z.pendingcb++,z.lastBufferedRequest=null,Q.next?(z.corkedRequestsFree=Q.next,Q.next=null):z.corkedRequestsFree=new e(z),z.bufferedRequestCount=0}else{for(;W;){var K=W.chunk,It=W.encoding,Ft=W.callback,ft=z.objectMode?1:K.length;if(M(j,z,!1,ft,K,It,Ft),W=W.next,z.bufferedRequestCount--,z.writing)break}W===null&&(z.lastBufferedRequest=null)}z.bufferedRequest=W,z.bufferProcessing=!1}E.prototype._write=function(j,z,W){W(new u("_write()"))},E.prototype._writev=null,E.prototype.end=function(j,z,W){var q=this._writableState;return typeof j=="function"?(W=j,j=null,z=null):typeof z=="function"&&(W=z,z=null),j!=null&&this.write(j,z),q.corked&&(q.corked=1,this.uncork()),q.ending||F(this,q,W),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function $(j){return j.ending&&j.length===0&&j.bufferedRequest===null&&!j.finished&&!j.writing}function V(j,z){j._final(function(W){z.pendingcb--,W&&x(j,W),z.prefinished=!0,j.emit("prefinish"),U(j,z)})}function Y(j,z){!z.prefinished&&!z.finalCalled&&(typeof j._final=="function"&&!z.destroyed?(z.pendingcb++,z.finalCalled=!0,lr.nextTick(V,j,z)):(z.prefinished=!0,j.emit("prefinish")))}function U(j,z){var W=$(z);if(W&&(Y(j,z),z.pendingcb===0&&(z.finished=!0,j.emit("finish"),z.autoDestroy))){var q=j._readableState;(!q||q.autoDestroy&&q.endEmitted)&&j.destroy()}return W}function F(j,z,W){z.ending=!0,U(j,z),W&&(z.finished?lr.nextTick(W):j.once("finish",W)),z.ended=!0,j.writable=!1}function O(j,z,W){var q=j.entry;for(j.entry=null;q;){var ot=q.callback;z.pendingcb--,ot(W),q=q.next}z.corkedRequestsFree.next=j}return Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(z){this._writableState&&(this._writableState.destroyed=z)}}),E.prototype.destroy=i.destroy,E.prototype._undestroy=i.undestroy,E.prototype._destroy=function(j,z){z(j)},Jw}var Zw,kP;function Yd(){if(kP)return Zw;kP=1;var e=Object.keys||function(a){var v=[];for(var f in a)v.push(f);return v};Zw=s;var t=nU(),r=rU();If(s,t);for(var n=e(r.prototype),c=0;c<n.length;c++){var S=n[c];s.prototype[S]||(s.prototype[S]=r.prototype[S])}function s(a){if(!(this instanceof s))return new s(a);t.call(this,a),r.call(this,a),this.allowHalfOpen=!0,a&&(a.readable===!1&&(this.readable=!1),a.writable===!1&&(this.writable=!1),a.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",g)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function g(){this._writableState.ended||lr.nextTick(i,this)}function i(a){a.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=v,this._writableState.destroyed=v)}}),Zw}var qw={},Tg={exports:{}};var DP;function VMt(){return DP||(DP=1,function(e,t){var r=Qx,n=r.Buffer;function c(s,g){for(var i in s)g[i]=s[i]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(c(r,t),t.Buffer=S);function S(s,g,i){return n(s,g,i)}S.prototype=Object.create(n.prototype),c(n,S),S.from=function(s,g,i){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,g,i)},S.alloc=function(s,g,i){if(typeof s!="number")throw new TypeError("Argument must be a number");var a=n(s);return g!==void 0?typeof i=="string"?a.fill(g,i):a.fill(g):a.fill(0),a},S.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},S.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}}(Tg,Tg.exports)),Tg.exports}var AP;function PP(){if(AP)return qw;AP=1;var e=VMt().Buffer,t=e.isEncoding||function(l){switch(l=""+l,l&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(l){if(!l)return"utf8";for(var m;;)switch(l){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return l;default:if(m)return;l=(""+l).toLowerCase(),m=!0}}function n(l){var m=r(l);if(typeof m!="string"&&(e.isEncoding===t||!t(l)))throw new Error("Unknown encoding: "+l);return m||l}qw.StringDecoder=c;function c(l){this.encoding=n(l);var m;switch(this.encoding){case"utf16le":this.text=f,this.end=h,m=4;break;case"utf8":this.fillLast=i,m=4;break;case"base64":this.text=u,this.end=o,m=3;break;default:this.write=d,this.end=p;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(m)}c.prototype.write=function(l){if(l.length===0)return"";var m,y;if(this.lastNeed){if(m=this.fillLast(l),m===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<l.length?m?m+this.text(l,y):this.text(l,y):m||""},c.prototype.end=v,c.prototype.text=a,c.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length};function S(l){return l<=127?0:l>>5===6?2:l>>4===14?3:l>>3===30?4:l>>6===2?-1:-2}function s(l,m,y){var x=m.length-1;if(x<y)return 0;var b=S(m[x]);return b>=0?(b>0&&(l.lastNeed=b-1),b):--x<y||b===-2?0:(b=S(m[x]),b>=0?(b>0&&(l.lastNeed=b-2),b):--x<y||b===-2?0:(b=S(m[x]),b>=0?(b>0&&(b===2?b=0:l.lastNeed=b-3),b):0))}function g(l,m,y){if((m[0]&192)!==128)return l.lastNeed=0,"";if(l.lastNeed>1&&m.length>1){if((m[1]&192)!==128)return l.lastNeed=1,"";if(l.lastNeed>2&&m.length>2&&(m[2]&192)!==128)return l.lastNeed=2,""}}function i(l){var m=this.lastTotal-this.lastNeed,y=g(this,l);if(y!==void 0)return y;if(this.lastNeed<=l.length)return l.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,m,0,l.length),this.lastNeed-=l.length}function a(l,m){var y=s(this,l,m);if(!this.lastNeed)return l.toString("utf8",m);this.lastTotal=y;var x=l.length-(y-this.lastNeed);return l.copy(this.lastChar,0,x),l.toString("utf8",m,x)}function v(l){var m=l&&l.length?this.write(l):"";return this.lastNeed?m+"":m}function f(l,m){if((l.length-m)%2===0){var y=l.toString("utf16le",m);if(y){var x=y.charCodeAt(y.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",m,l.length-1)}function h(l){var m=l&&l.length?this.write(l):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,y)}return m}function u(l,m){var y=(l.length-m)%3;return y===0?l.toString("base64",m):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",m,l.length-y))}function o(l){var m=l&&l.length?this.write(l):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function d(l){return l.toString(this.encoding)}function p(l){return l&&l.length?this.write(l):""}return qw}var tT,RP;function h4(){if(RP)return tT;RP=1;var e=gp().codes.ERR_STREAM_PREMATURE_CLOSE;function t(S){var s=!1;return function(){if(!s){s=!0;for(var g=arguments.length,i=new Array(g),a=0;a<g;a++)i[a]=arguments[a];S.apply(this,i)}}}function r(){}function n(S){return S.setHeader&&typeof S.abort=="function"}function c(S,s,g){if(typeof s=="function")return c(S,null,s);s||(s={}),g=t(g||r);var i=s.readable||s.readable!==!1&&S.readable,a=s.writable||s.writable!==!1&&S.writable,v=function(){S.writable||h()},f=S._writableState&&S._writableState.finished,h=function(){a=!1,f=!0,i||g.call(S)},u=S._readableState&&S._readableState.endEmitted,o=function(){i=!1,u=!0,a||g.call(S)},d=function(y){g.call(S,y)},p=function(){var y;if(i&&!u)return(!S._readableState||!S._readableState.ended)&&(y=new e),g.call(S,y);if(a&&!f)return(!S._writableState||!S._writableState.ended)&&(y=new e),g.call(S,y)},l=function(){S.req.on("finish",h)};return n(S)?(S.on("complete",h),S.on("abort",p),S.req?l():S.on("request",l)):a&&!S._writableState&&(S.on("end",v),S.on("close",v)),S.on("end",o),S.on("finish",h),s.error!==!1&&S.on("error",d),S.on("close",p),function(){S.removeListener("complete",h),S.removeListener("abort",p),S.removeListener("request",l),S.req&&S.req.removeListener("finish",h),S.removeListener("end",v),S.removeListener("close",v),S.removeListener("finish",h),S.removeListener("end",o),S.removeListener("error",d),S.removeListener("close",p)}}return tT=c,tT}var eT,IP;function WMt(){if(IP)return eT;IP=1;var e;function t(y,x,b){return x=r(x),x in y?Object.defineProperty(y,x,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[x]=b,y}function r(y){var x=n(y,"string");return typeof x=="symbol"?x:String(x)}function n(y,x){if(typeof y!="object"||y===null)return y;var b=y[Symbol.toPrimitive];if(b!==void 0){var w=b.call(y,x);if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}var c=h4(),S=Symbol("lastResolve"),s=Symbol("lastReject"),g=Symbol("error"),i=Symbol("ended"),a=Symbol("lastPromise"),v=Symbol("handlePromise"),f=Symbol("stream");function h(y,x){return{value:y,done:x}}function u(y){var x=y[S];if(x!==null){var b=y[f].read();b!==null&&(y[a]=null,y[S]=null,y[s]=null,x(h(b,!1)))}}function o(y){lr.nextTick(u,y)}function d(y,x){return function(b,w){y.then(function(){if(x[i]){b(h(void 0,!0));return}x[v](b,w)},w)}}var p=Object.getPrototypeOf(function(){}),l=Object.setPrototypeOf((e={get stream(){return this[f]},next:function(){var x=this,b=this[g];if(b!==null)return Promise.reject(b);if(this[i])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(T,k){lr.nextTick(function(){x[g]?k(x[g]):T(h(void 0,!0))})});var w=this[a],C;if(w)C=new Promise(d(w,this));else{var E=this[f].read();if(E!==null)return Promise.resolve(h(E,!1));C=new Promise(this[v])}return this[a]=C,C}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var x=this;return new Promise(function(b,w){x[f].destroy(null,function(C){if(C){w(C);return}b(h(void 0,!0))})})}),e),p),m=function(x){var b,w=Object.create(l,(b={},t(b,f,{value:x,writable:!0}),t(b,S,{value:null,writable:!0}),t(b,s,{value:null,writable:!0}),t(b,g,{value:null,writable:!0}),t(b,i,{value:x._readableState.endEmitted,writable:!0}),t(b,v,{value:function(E,T){var k=w[f].read();k?(w[a]=null,w[S]=null,w[s]=null,E(h(k,!1))):(w[S]=E,w[s]=T)},writable:!0}),b));return w[a]=null,c(x,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var E=w[s];E!==null&&(w[a]=null,w[S]=null,w[s]=null,E(C)),w[g]=C;return}var T=w[S];T!==null&&(w[a]=null,w[S]=null,w[s]=null,T(h(void 0,!0))),w[i]=!0}),x.on("readable",o.bind(null,w)),w};return eT=m,eT}var iT,MP;function YMt(){return MP||(MP=1,iT=function(){throw new Error("Readable.from is not available in the browser")}),iT}var rT,BP;function nU(){if(BP)return rT;BP=1,rT=T;var e;T.ReadableState=E,s4.EventEmitter;var t=function(rt,Mt){return rt.listeners(Mt).length},r=Xj(),n=Qx.Buffer,c=(typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function S(Q){return n.from(Q)}function s(Q){return n.isBuffer(Q)||Q instanceof c}var g=tU(),i;g&&g.debuglog?i=g.debuglog("stream"):i=function(){};var a=HMt(),v=eU(),f=iU(),h=f.getHighWaterMark,u=gp().codes,o=u.ERR_INVALID_ARG_TYPE,d=u.ERR_STREAM_PUSH_AFTER_EOF,p=u.ERR_METHOD_NOT_IMPLEMENTED,l=u.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m,y,x;If(T,r);var b=v.errorOrDestroy,w=["error","close","destroy","pause","resume"];function C(Q,rt,Mt){if(typeof Q.prependListener=="function")return Q.prependListener(rt,Mt);!Q._events||!Q._events[rt]?Q.on(rt,Mt):Array.isArray(Q._events[rt])?Q._events[rt].unshift(Mt):Q._events[rt]=[Mt,Q._events[rt]]}function E(Q,rt,Mt){e=e||Yd(),Q=Q||{},typeof Mt!="boolean"&&(Mt=rt instanceof e),this.objectMode=!!Q.objectMode,Mt&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=h(this,Q,"readableHighWaterMark",Mt),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(m||(m=PP().StringDecoder),this.decoder=new m(Q.encoding),this.encoding=Q.encoding)}function T(Q){if(e=e||Yd(),!(this instanceof T))return new T(Q);var rt=this instanceof e;this._readableState=new E(Q,this,rt),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),r.call(this)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(rt){this._readableState&&(this._readableState.destroyed=rt)}}),T.prototype.destroy=v.destroy,T.prototype._undestroy=v.undestroy,T.prototype._destroy=function(Q,rt){rt(Q)},T.prototype.push=function(Q,rt){var Mt=this._readableState,K;return Mt.objectMode?K=!0:typeof Q=="string"&&(rt=rt||Mt.defaultEncoding,rt!==Mt.encoding&&(Q=n.from(Q,rt),rt=""),K=!0),k(this,Q,rt,!1,K)},T.prototype.unshift=function(Q){return k(this,Q,null,!0,!1)};function k(Q,rt,Mt,K,It){i("readableAddChunk",rt);var Ft=Q._readableState;if(rt===null)Ft.reading=!1,D(Q,Ft);else{var ft;if(It||(ft=R(Ft,rt)),ft)b(Q,ft);else if(Ft.objectMode||rt&&rt.length>0)if(typeof rt!="string"&&!Ft.objectMode&&Object.getPrototypeOf(rt)!==n.prototype&&(rt=S(rt)),K)Ft.endEmitted?b(Q,new l):P(Q,Ft,rt,!0);else if(Ft.ended)b(Q,new d);else{if(Ft.destroyed)return!1;Ft.reading=!1,Ft.decoder&&!Mt?(rt=Ft.decoder.write(rt),Ft.objectMode||rt.length!==0?P(Q,Ft,rt,!1):G(Q,Ft)):P(Q,Ft,rt,!1)}else K||(Ft.reading=!1,G(Q,Ft))}return!Ft.ended&&(Ft.length<Ft.highWaterMark||Ft.length===0)}function P(Q,rt,Mt,K){rt.flowing&&rt.length===0&&!rt.sync?(rt.awaitDrain=0,Q.emit("data",Mt)):(rt.length+=rt.objectMode?1:Mt.length,K?rt.buffer.unshift(Mt):rt.buffer.push(Mt),rt.needReadable&&N(Q)),G(Q,rt)}function R(Q,rt){var Mt;return!s(rt)&&typeof rt!="string"&&rt!==void 0&&!Q.objectMode&&(Mt=new o("chunk",["string","Buffer","Uint8Array"],rt)),Mt}T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(Q){m||(m=PP().StringDecoder);var rt=new m(Q);this._readableState.decoder=rt,this._readableState.encoding=this._readableState.decoder.encoding;for(var Mt=this._readableState.buffer.head,K="";Mt!==null;)K+=rt.write(Mt.data),Mt=Mt.next;return this._readableState.buffer.clear(),K!==""&&this._readableState.buffer.push(K),this._readableState.length=K.length,this};var M=1073741824;function I(Q){return Q>=M?Q=M:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function B(Q,rt){return Q<=0||rt.length===0&&rt.ended?0:rt.objectMode?1:Q!==Q?rt.flowing&&rt.length?rt.buffer.head.data.length:rt.length:(Q>rt.highWaterMark&&(rt.highWaterMark=I(Q)),Q<=rt.length?Q:rt.ended?rt.length:(rt.needReadable=!0,0))}T.prototype.read=function(Q){i("read",Q),Q=parseInt(Q,10);var rt=this._readableState,Mt=Q;if(Q!==0&&(rt.emittedReadable=!1),Q===0&&rt.needReadable&&((rt.highWaterMark!==0?rt.length>=rt.highWaterMark:rt.length>0)||rt.ended))return i("read: emitReadable",rt.length,rt.ended),rt.length===0&&rt.ended?W(this):N(this),null;if(Q=B(Q,rt),Q===0&&rt.ended)return rt.length===0&&W(this),null;var K=rt.needReadable;i("need readable",K),(rt.length===0||rt.length-Q<rt.highWaterMark)&&(K=!0,i("length less than watermark",K)),rt.ended||rt.reading?(K=!1,i("reading or ended",K)):K&&(i("do read"),rt.reading=!0,rt.sync=!0,rt.length===0&&(rt.needReadable=!0),this._read(rt.highWaterMark),rt.sync=!1,rt.reading||(Q=B(Mt,rt)));var It;return Q>0?It=z(Q,rt):It=null,It===null?(rt.needReadable=rt.length<=rt.highWaterMark,Q=0):(rt.length-=Q,rt.awaitDrain=0),rt.length===0&&(rt.ended||(rt.needReadable=!0),Mt!==Q&&rt.ended&&W(this)),It!==null&&this.emit("data",It),It};function D(Q,rt){if(i("onEofChunk"),!rt.ended){if(rt.decoder){var Mt=rt.decoder.end();Mt&&Mt.length&&(rt.buffer.push(Mt),rt.length+=rt.objectMode?1:Mt.length)}rt.ended=!0,rt.sync?N(Q):(rt.needReadable=!1,rt.emittedReadable||(rt.emittedReadable=!0,_(Q)))}}function N(Q){var rt=Q._readableState;i("emitReadable",rt.needReadable,rt.emittedReadable),rt.needReadable=!1,rt.emittedReadable||(i("emitReadable",rt.flowing),rt.emittedReadable=!0,lr.nextTick(_,Q))}function _(Q){var rt=Q._readableState;i("emitReadable_",rt.destroyed,rt.length,rt.ended),!rt.destroyed&&(rt.length||rt.ended)&&(Q.emit("readable"),rt.emittedReadable=!1),rt.needReadable=!rt.flowing&&!rt.ended&&rt.length<=rt.highWaterMark,j(Q)}function G(Q,rt){rt.readingMore||(rt.readingMore=!0,lr.nextTick($,Q,rt))}function $(Q,rt){for(;!rt.reading&&!rt.ended&&(rt.length<rt.highWaterMark||rt.flowing&&rt.length===0);){var Mt=rt.length;if(i("maybeReadMore read 0"),Q.read(0),Mt===rt.length)break}rt.readingMore=!1}T.prototype._read=function(Q){b(this,new p("_read()"))},T.prototype.pipe=function(Q,rt){var Mt=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=Q;break;case 1:K.pipes=[K.pipes,Q];break;default:K.pipes.push(Q);break}K.pipesCount+=1,i("pipe count=%d opts=%j",K.pipesCount,rt);var It=(!rt||rt.end!==!1)&&Q!==lr.stdout&&Q!==lr.stderr,Ft=It?yt:Fe;K.endEmitted?lr.nextTick(Ft):Mt.once("end",Ft),Q.on("unpipe",ft);function ft(Ze,ei){i("onunpipe"),Ze===Mt&&ei&&ei.hasUnpiped===!1&&(ei.hasUnpiped=!0,le())}function yt(){i("onend"),Q.end()}var At=V(Mt);Q.on("drain",At);var Bt=!1;function le(){i("cleanup"),Q.removeListener("close",Ee),Q.removeListener("finish",ve),Q.removeListener("drain",At),Q.removeListener("error",xe),Q.removeListener("unpipe",ft),Mt.removeListener("end",yt),Mt.removeListener("end",Fe),Mt.removeListener("data",_t),Bt=!0,K.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&At()}Mt.on("data",_t);function _t(Ze){i("ondata");var ei=Q.write(Ze);i("dest.write",ei),ei===!1&&((K.pipesCount===1&&K.pipes===Q||K.pipesCount>1&&ot(K.pipes,Q)!==-1)&&!Bt&&(i("false write response, pause",K.awaitDrain),K.awaitDrain++),Mt.pause())}function xe(Ze){i("onerror",Ze),Fe(),Q.removeListener("error",xe),t(Q,"error")===0&&b(Q,Ze)}C(Q,"error",xe);function Ee(){Q.removeListener("finish",ve),Fe()}Q.once("close",Ee);function ve(){i("onfinish"),Q.removeListener("close",Ee),Fe()}Q.once("finish",ve);function Fe(){i("unpipe"),Mt.unpipe(Q)}return Q.emit("pipe",Mt),K.flowing||(i("pipe resume"),Mt.resume()),Q};function V(Q){return function(){var Mt=Q._readableState;i("pipeOnDrain",Mt.awaitDrain),Mt.awaitDrain&&Mt.awaitDrain--,Mt.awaitDrain===0&&t(Q,"data")&&(Mt.flowing=!0,j(Q))}}T.prototype.unpipe=function(Q){var rt=this._readableState,Mt={hasUnpiped:!1};if(rt.pipesCount===0)return this;if(rt.pipesCount===1)return Q&&Q!==rt.pipes?this:(Q||(Q=rt.pipes),rt.pipes=null,rt.pipesCount=0,rt.flowing=!1,Q&&Q.emit("unpipe",this,Mt),this);if(!Q){var K=rt.pipes,It=rt.pipesCount;rt.pipes=null,rt.pipesCount=0,rt.flowing=!1;for(var Ft=0;Ft<It;Ft++)K[Ft].emit("unpipe",this,{hasUnpiped:!1});return this}var ft=ot(rt.pipes,Q);return ft===-1?this:(rt.pipes.splice(ft,1),rt.pipesCount-=1,rt.pipesCount===1&&(rt.pipes=rt.pipes[0]),Q.emit("unpipe",this,Mt),this)},T.prototype.on=function(Q,rt){var Mt=r.prototype.on.call(this,Q,rt),K=this._readableState;return Q==="data"?(K.readableListening=this.listenerCount("readable")>0,K.flowing!==!1&&this.resume()):Q==="readable"&&!K.endEmitted&&!K.readableListening&&(K.readableListening=K.needReadable=!0,K.flowing=!1,K.emittedReadable=!1,i("on readable",K.length,K.reading),K.length?N(this):K.reading||lr.nextTick(U,this)),Mt},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(Q,rt){var Mt=r.prototype.removeListener.call(this,Q,rt);return Q==="readable"&&lr.nextTick(Y,this),Mt},T.prototype.removeAllListeners=function(Q){var rt=r.prototype.removeAllListeners.apply(this,arguments);return(Q==="readable"||Q===void 0)&&lr.nextTick(Y,this),rt};function Y(Q){var rt=Q._readableState;rt.readableListening=Q.listenerCount("readable")>0,rt.resumeScheduled&&!rt.paused?rt.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function U(Q){i("readable nexttick read 0"),Q.read(0)}T.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(i("resume"),Q.flowing=!Q.readableListening,F(this,Q)),Q.paused=!1,this};function F(Q,rt){rt.resumeScheduled||(rt.resumeScheduled=!0,lr.nextTick(O,Q,rt))}function O(Q,rt){i("resume",rt.reading),rt.reading||Q.read(0),rt.resumeScheduled=!1,Q.emit("resume"),j(Q),rt.flowing&&!rt.reading&&Q.read(0)}T.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function j(Q){var rt=Q._readableState;for(i("flow",rt.flowing);rt.flowing&&Q.read()!==null;);}T.prototype.wrap=function(Q){var rt=this,Mt=this._readableState,K=!1;Q.on("end",function(){if(i("wrapped end"),Mt.decoder&&!Mt.ended){var ft=Mt.decoder.end();ft&&ft.length&&rt.push(ft)}rt.push(null)}),Q.on("data",function(ft){if(i("wrapped data"),Mt.decoder&&(ft=Mt.decoder.write(ft)),!(Mt.objectMode&&ft==null)&&!(!Mt.objectMode&&(!ft||!ft.length))){var yt=rt.push(ft);yt||(K=!0,Q.pause())}});for(var It in Q)this[It]===void 0&&typeof Q[It]=="function"&&(this[It]=function(yt){return function(){return Q[yt].apply(Q,arguments)}}(It));for(var Ft=0;Ft<w.length;Ft++)Q.on(w[Ft],this.emit.bind(this,w[Ft]));return this._read=function(ft){i("wrapped _read",ft),K&&(K=!1,Q.resume())},this},typeof Symbol=="function"&&(T.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=WMt()),y(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(rt){this._readableState&&(this._readableState.flowing=rt)}}),T._fromList=z,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function z(Q,rt){if(rt.length===0)return null;var Mt;return rt.objectMode?Mt=rt.buffer.shift():!Q||Q>=rt.length?(rt.decoder?Mt=rt.buffer.join(""):rt.buffer.length===1?Mt=rt.buffer.first():Mt=rt.buffer.concat(rt.length),rt.buffer.clear()):Mt=rt.buffer.consume(Q,rt.decoder),Mt}function W(Q){var rt=Q._readableState;i("endReadable",rt.endEmitted),rt.endEmitted||(rt.ended=!0,lr.nextTick(q,rt,Q))}function q(Q,rt){if(i("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,rt.readable=!1,rt.emit("end"),Q.autoDestroy)){var Mt=rt._writableState;(!Mt||Mt.autoDestroy&&Mt.finished)&&rt.destroy()}}typeof Symbol=="function"&&(T.from=function(Q,rt){return x===void 0&&(x=YMt()),x(T,Q,rt)});function ot(Q,rt){for(var Mt=0,K=Q.length;Mt<K;Mt++)if(Q[Mt]===rt)return Mt;return-1}return rT}var nT,OP;function sU(){if(OP)return nT;OP=1,nT=g;var e=gp().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=e.ERR_TRANSFORM_WITH_LENGTH_0,S=Yd();If(g,S);function s(v,f){var h=this._transformState;h.transforming=!1;var u=h.writecb;if(u===null)return this.emit("error",new r);h.writechunk=null,h.writecb=null,f!=null&&this.push(f),u(v);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function g(v){if(!(this instanceof g))return new g(v);S.call(this,v),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",i)}function i(){var v=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,h){a(v,f,h)}):a(this,null,null)}g.prototype.push=function(v,f){return this._transformState.needTransform=!1,S.prototype.push.call(this,v,f)},g.prototype._transform=function(v,f,h){h(new t("_transform()"))},g.prototype._write=function(v,f,h){var u=this._transformState;if(u.writecb=h,u.writechunk=v,u.writeencoding=f,!u.transforming){var o=this._readableState;(u.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},g.prototype._read=function(v){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},g.prototype._destroy=function(v,f){S.prototype._destroy.call(this,v,function(h){f(h)})};function a(v,f,h){if(f)return v.emit("error",f);if(h!=null&&v.push(h),v._writableState.length)throw new c;if(v._transformState.transforming)throw new n;return v.push(null)}return nT}var sT,NP;function XMt(){if(NP)return sT;NP=1,sT=t;var e=sU();If(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,c){c(null,r)},sT}var aT,FP;function QMt(){if(FP)return aT;FP=1;var e;function t(h){var u=!1;return function(){u||(u=!0,h.apply(void 0,arguments))}}var r=gp().codes,n=r.ERR_MISSING_ARGS,c=r.ERR_STREAM_DESTROYED;function S(h){if(h)throw h}function s(h){return h.setHeader&&typeof h.abort=="function"}function g(h,u,o,d){d=t(d);var p=!1;h.on("close",function(){p=!0}),e===void 0&&(e=h4()),e(h,{readable:u,writable:o},function(m){if(m)return d(m);p=!0,d()});var l=!1;return function(m){if(!p&&!l){if(l=!0,s(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();d(m||new c("pipe"))}}}function i(h){h()}function a(h,u){return h.pipe(u)}function v(h){return!h.length||typeof h[h.length-1]!="function"?S:h.pop()}function f(){for(var h=arguments.length,u=new Array(h),o=0;o<h;o++)u[o]=arguments[o];var d=v(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new n("streams");var p,l=u.map(function(m,y){var x=y<u.length-1,b=y>0;return g(m,x,b,function(w){p||(p=w),w&&l.forEach(i),!x&&(l.forEach(i),d(p))})});return u.reduce(a)}return aT=f,aT}var KMt=tl,c4=s4.EventEmitter,JMt=If;JMt(tl,c4);tl.Readable=nU();tl.Writable=rU();tl.Duplex=Yd();tl.Transform=sU();tl.PassThrough=XMt();tl.finished=h4();tl.pipeline=QMt();tl.Stream=tl;function tl(){c4.call(this)}tl.prototype.pipe=function(e,t){var r=this;function n(v){e.writable&&e.write(v)===!1&&r.pause&&r.pause()}r.on("data",n);function c(){r.readable&&r.resume&&r.resume()}e.on("drain",c),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",s),r.on("close",g));var S=!1;function s(){S||(S=!0,e.end())}function g(){S||(S=!0,typeof e.destroy=="function"&&e.destroy())}function i(v){if(a(),c4.listenerCount(this,"error")===0)throw v}r.on("error",i),e.on("error",i);function a(){r.removeListener("data",n),e.removeListener("drain",c),r.removeListener("end",s),r.removeListener("close",g),r.removeListener("error",i),e.removeListener("error",i),r.removeListener("end",a),r.removeListener("close",a),e.removeListener("close",a)}return r.on("end",a),r.on("close",a),e.on("close",a),e.emit("pipe",r),e};const aU=function(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)};class Kr extends Error{constructor(t,r,n,...c){Array.isArray(r)&&(r=r.join(" ").trim()),super(r),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,Kr),this.code=t;for(const S of c)for(const s in S){const g=S[s];this[s]=Zi.isBuffer(g)?g.toString(n.encoding):g==null?g:JSON.parse(JSON.stringify(g))}}}const oU=function(e){const t=[];for(let r=0,n=e.length;r<n;r++){const c=e[r];if(c==null||c===!1)t[r]={disabled:!0};else if(typeof c=="string")t[r]={name:c};else if(aU(c)){if(typeof c.name!="string")throw new Kr("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${r}`,"when column is an object literal"]);t[r]=c}else throw new Kr("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(c)} at position ${r}`])}return t};class LP{constructor(t=100){this.size=t,this.length=0,this.buf=Zi.allocUnsafe(t)}prepend(t){if(Zi.isBuffer(t)){const r=this.length+t.length;if(r>=this.size&&(this.resize(),r>=this.size))throw Error("INVALID_BUFFER_STATE");const n=this.buf;this.buf=Zi.allocUnsafe(this.size),t.copy(this.buf,0),n.copy(this.buf,t.length),this.length+=t.length}else{const r=this.length++;r===this.size&&this.resize();const n=this.clone();this.buf[0]=t,n.copy(this.buf,1,0,r)}}append(t){const r=this.length++;r===this.size&&this.resize(),this.buf[r]=t}clone(){return Zi.from(this.buf.slice(0,this.length))}resize(){const t=this.length;this.size=this.size*2;const r=Zi.allocUnsafe(this.size);this.buf.copy(r,0,0,t),this.buf=r}toString(t){return t?this.buf.slice(0,this.length).toString(t):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}}const ZMt=12,qMt=13,tBt=10,eBt=32,iBt=9,rBt=function(e){return{bomSkipped:!1,bufBytesStart:0,castField:e.cast_function,commenting:!1,error:void 0,enabled:e.from_line===1,escaping:!1,escapeIsQuote:Zi.isBuffer(e.escape)&&Zi.isBuffer(e.quote)&&Zi.compare(e.escape,e.quote)===0,expectedRecordLength:Array.isArray(e.columns)?e.columns.length:void 0,field:new LP(20),firstLineToHeaders:e.cast_first_line_to_header,needMoreDataSize:Math.max(e.comment!==null?e.comment.length:0,...e.delimiter.map(t=>t.length),e.quote!==null?e.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new LP(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:e.record_delimiter.length===0?0:Math.max(...e.record_delimiter.map(t=>t.length)),trimChars:[Zi.from(" ",e.encoding)[0],Zi.from("	",e.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[Zi.from(Zi.from([qMt],"utf8").toString(),e.encoding),Zi.from(Zi.from([tBt],"utf8").toString(),e.encoding),Zi.from(Zi.from([ZMt],"utf8").toString(),e.encoding),Zi.from(Zi.from([eBt],"utf8").toString(),e.encoding),Zi.from(Zi.from([iBt],"utf8").toString(),e.encoding)]}},nBt=function(e){return e.replace(/([A-Z])/g,function(t,r){return"_"+r.toLowerCase()})},_P=function(e){const t={};for(const n in e)t[nBt(n)]=e[n];if(t.encoding===void 0||t.encoding===!0)t.encoding="utf8";else if(t.encoding===null||t.encoding===!1)t.encoding=null;else if(typeof t.encoding!="string"&&t.encoding!==null)throw new Kr("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(t.encoding)}`],t);if(t.bom===void 0||t.bom===null||t.bom===!1)t.bom=!1;else if(t.bom!==!0)throw new Kr("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(t.bom)}`],t);if(t.cast_function=null,t.cast===void 0||t.cast===null||t.cast===!1||t.cast==="")t.cast=void 0;else if(typeof t.cast=="function")t.cast_function=t.cast,t.cast=!0;else if(t.cast!==!0)throw new Kr("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(t.cast)}`],t);if(t.cast_date===void 0||t.cast_date===null||t.cast_date===!1||t.cast_date==="")t.cast_date=!1;else if(t.cast_date===!0)t.cast_date=function(n){const c=Date.parse(n);return isNaN(c)?n:new Date(c)};else if(typeof t.cast_date!="function")throw new Kr("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(t.cast_date)}`],t);if(t.cast_first_line_to_header=null,t.columns===!0)t.cast_first_line_to_header=void 0;else if(typeof t.columns=="function")t.cast_first_line_to_header=t.columns,t.columns=!0;else if(Array.isArray(t.columns))t.columns=oU(t.columns);else if(t.columns===void 0||t.columns===null||t.columns===!1)t.columns=!1;else throw new Kr("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(t.columns)}`],t);if(t.group_columns_by_name===void 0||t.group_columns_by_name===null||t.group_columns_by_name===!1)t.group_columns_by_name=!1;else{if(t.group_columns_by_name!==!0)throw new Kr("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(t.group_columns_by_name)}`],t);if(t.columns===!1)throw new Kr("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],t)}if(t.comment===void 0||t.comment===null||t.comment===!1||t.comment==="")t.comment=null;else if(typeof t.comment=="string"&&(t.comment=Zi.from(t.comment,t.encoding)),!Zi.isBuffer(t.comment))throw new Kr("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(t.comment)}`],t);if(t.comment_no_infix===void 0||t.comment_no_infix===null||t.comment_no_infix===!1)t.comment_no_infix=!1;else if(t.comment_no_infix!==!0)throw new Kr("CSV_INVALID_OPTION_COMMENT",["Invalid option comment_no_infix:","value must be a boolean,",`got ${JSON.stringify(t.comment_no_infix)}`],t);const r=JSON.stringify(t.delimiter);if(Array.isArray(t.delimiter)||(t.delimiter=[t.delimiter]),t.delimiter.length===0)throw new Kr("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${r}`],t);if(t.delimiter=t.delimiter.map(function(n){if(n==null||n===!1)return Zi.from(",",t.encoding);if(typeof n=="string"&&(n=Zi.from(n,t.encoding)),!Zi.isBuffer(n)||n.length===0)throw new Kr("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${r}`],t);return n}),t.escape===void 0||t.escape===!0?t.escape=Zi.from('"',t.encoding):typeof t.escape=="string"?t.escape=Zi.from(t.escape,t.encoding):(t.escape===null||t.escape===!1)&&(t.escape=null),t.escape!==null&&!Zi.isBuffer(t.escape))throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(t.escape)}`);if(t.from===void 0||t.from===null)t.from=1;else if(typeof t.from=="string"&&/\d+/.test(t.from)&&(t.from=parseInt(t.from)),Number.isInteger(t.from)){if(t.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(e.from)}`)}else throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(t.from)}`);if(t.from_line===void 0||t.from_line===null)t.from_line=1;else if(typeof t.from_line=="string"&&/\d+/.test(t.from_line)&&(t.from_line=parseInt(t.from_line)),Number.isInteger(t.from_line)){if(t.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(e.from_line)}`)}else throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(e.from_line)}`);if(t.ignore_last_delimiters===void 0||t.ignore_last_delimiters===null)t.ignore_last_delimiters=!1;else if(typeof t.ignore_last_delimiters=="number")t.ignore_last_delimiters=Math.floor(t.ignore_last_delimiters),t.ignore_last_delimiters===0&&(t.ignore_last_delimiters=!1);else if(typeof t.ignore_last_delimiters!="boolean")throw new Kr("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(t.ignore_last_delimiters)}`],t);if(t.ignore_last_delimiters===!0&&t.columns===!1)throw new Kr("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],t);if(t.info===void 0||t.info===null||t.info===!1)t.info=!1;else if(t.info!==!0)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(t.info)}`);if(t.max_record_size===void 0||t.max_record_size===null||t.max_record_size===!1)t.max_record_size=0;else if(!(Number.isInteger(t.max_record_size)&&t.max_record_size>=0))if(typeof t.max_record_size=="string"&&/\d+/.test(t.max_record_size))t.max_record_size=parseInt(t.max_record_size);else throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(t.max_record_size)}`);if(t.objname===void 0||t.objname===null||t.objname===!1)t.objname=void 0;else if(Zi.isBuffer(t.objname)){if(t.objname.length===0)throw new Error("Invalid Option: objname must be a non empty buffer");t.encoding===null||(t.objname=t.objname.toString(t.encoding))}else if(typeof t.objname=="string"){if(t.objname.length===0)throw new Error("Invalid Option: objname must be a non empty string")}else if(typeof t.objname!="number")throw new Error(`Invalid Option: objname must be a string or a buffer, got ${t.objname}`);if(t.objname!==void 0){if(typeof t.objname=="number"){if(t.columns!==!1)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(t.columns===!1)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(t.on_record===void 0||t.on_record===null)t.on_record=void 0;else if(typeof t.on_record!="function")throw new Kr("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(t.on_record)}`],t);if(t.quote===null||t.quote===!1||t.quote==="")t.quote=null;else if(t.quote===void 0||t.quote===!0?t.quote=Zi.from('"',t.encoding):typeof t.quote=="string"&&(t.quote=Zi.from(t.quote,t.encoding)),!Zi.isBuffer(t.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(t.quote)}`);if(t.raw===void 0||t.raw===null||t.raw===!1)t.raw=!1;else if(t.raw!==!0)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(t.raw)}`);if(t.record_delimiter===void 0)t.record_delimiter=[];else if(typeof t.record_delimiter=="string"||Zi.isBuffer(t.record_delimiter)){if(t.record_delimiter.length===0)throw new Kr("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(t.record_delimiter)}`],t);t.record_delimiter=[t.record_delimiter]}else if(!Array.isArray(t.record_delimiter))throw new Kr("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(t.record_delimiter)}`],t);if(t.record_delimiter=t.record_delimiter.map(function(n,c){if(typeof n!="string"&&!Zi.isBuffer(n))throw new Kr("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${c},`,`got ${JSON.stringify(n)}`],t);if(n.length===0)throw new Kr("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${c},`,`got ${JSON.stringify(n)}`],t);return typeof n=="string"&&(n=Zi.from(n,t.encoding)),n}),typeof t.relax_column_count!="boolean")if(t.relax_column_count===void 0||t.relax_column_count===null)t.relax_column_count=!1;else throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(t.relax_column_count)}`);if(typeof t.relax_column_count_less!="boolean")if(t.relax_column_count_less===void 0||t.relax_column_count_less===null)t.relax_column_count_less=!1;else throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(t.relax_column_count_less)}`);if(typeof t.relax_column_count_more!="boolean")if(t.relax_column_count_more===void 0||t.relax_column_count_more===null)t.relax_column_count_more=!1;else throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(t.relax_column_count_more)}`);if(typeof t.relax_quotes!="boolean")if(t.relax_quotes===void 0||t.relax_quotes===null)t.relax_quotes=!1;else throw new Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(t.relax_quotes)}`);if(typeof t.skip_empty_lines!="boolean")if(t.skip_empty_lines===void 0||t.skip_empty_lines===null)t.skip_empty_lines=!1;else throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(t.skip_empty_lines)}`);if(typeof t.skip_records_with_empty_values!="boolean")if(t.skip_records_with_empty_values===void 0||t.skip_records_with_empty_values===null)t.skip_records_with_empty_values=!1;else throw new Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(t.skip_records_with_empty_values)}`);if(typeof t.skip_records_with_error!="boolean")if(t.skip_records_with_error===void 0||t.skip_records_with_error===null)t.skip_records_with_error=!1;else throw new Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(t.skip_records_with_error)}`);if(t.rtrim===void 0||t.rtrim===null||t.rtrim===!1)t.rtrim=!1;else if(t.rtrim!==!0)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(t.rtrim)}`);if(t.ltrim===void 0||t.ltrim===null||t.ltrim===!1)t.ltrim=!1;else if(t.ltrim!==!0)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(t.ltrim)}`);if(t.trim===void 0||t.trim===null||t.trim===!1)t.trim=!1;else if(t.trim!==!0)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(t.trim)}`);if(t.trim===!0&&e.ltrim!==!1?t.ltrim=!0:t.ltrim!==!0&&(t.ltrim=!1),t.trim===!0&&e.rtrim!==!1?t.rtrim=!0:t.rtrim!==!0&&(t.rtrim=!1),t.to===void 0||t.to===null)t.to=-1;else if(typeof t.to=="string"&&/\d+/.test(t.to)&&(t.to=parseInt(t.to)),Number.isInteger(t.to)){if(t.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(e.to)}`)}else throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(e.to)}`);if(t.to_line===void 0||t.to_line===null)t.to_line=-1;else if(typeof t.to_line=="string"&&/\d+/.test(t.to_line)&&(t.to_line=parseInt(t.to_line)),Number.isInteger(t.to_line)){if(t.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(e.to_line)}`)}else throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(e.to_line)}`);return t},jP=function(e){return e.every(t=>t==null||t.toString&&t.toString().trim()==="")},sBt=13,aBt=10,qf={utf8:Zi.from([239,187,191]),utf16le:Zi.from([255,254])},oBt=function(e={}){const t={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},r=_P(e);return{info:t,original_options:e,options:r,state:rBt(r),__needMoreData:function(n,c,S){if(S)return!1;const{encoding:s,escape:g,quote:i}=this.options,{quoting:a,needMoreDataSize:v,recordDelimiterMaxLength:f}=this.state,h=c-n-1,u=Math.max(v,f===0?Zi.from(`\r
`,s).length:f,a?(g===null?0:g.length)+i.length:0,a?i.length+f:0);return h<u},parse:function(n,c,S,s){const{bom:g,comment_no_infix:i,encoding:a,from_line:v,ltrim:f,max_record_size:h,raw:u,relax_quotes:o,rtrim:d,skip_empty_lines:p,to:l,to_line:m}=this.options;let{comment:y,escape:x,quote:b,record_delimiter:w}=this.options;const{bomSkipped:C,previousBuf:E,rawBuffer:T,escapeIsQuote:k}=this.state;let P;if(E===void 0)if(n===void 0){s();return}else P=n;else E!==void 0&&n===void 0?P=E:P=Zi.concat([E,n]);if(C===!1)if(g===!1)this.state.bomSkipped=!0;else if(P.length<3){if(c===!1){this.state.previousBuf=P;return}}else{for(const I in qf)if(qf[I].compare(P,0,qf[I].length)===0){const B=qf[I].length;this.state.bufBytesStart+=B,P=P.slice(B),this.options=_P(Or(ji({},this.original_options),{encoding:I})),{comment:y,escape:x,quote:b}=this.options;break}this.state.bomSkipped=!0}const R=P.length;let M;for(M=0;M<R&&!this.__needMoreData(M,R,c);M++){if(this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1),m!==-1&&this.info.lines>m){this.state.stop=!0,s();return}this.state.quoting===!1&&w.length===0&&this.__autoDiscoverRecordDelimiter(P,M)&&(w=this.options.record_delimiter);const I=P[M];if(u===!0&&T.append(I),(I===sBt||I===aBt)&&this.state.wasRowDelimiter===!1&&(this.state.wasRowDelimiter=!0),this.state.escaping===!0)this.state.escaping=!1;else{if(x!==null&&this.state.quoting===!0&&this.__isEscape(P,M,I)&&M+x.length<R)if(k){if(this.__isQuote(P,M+x.length)){this.state.escaping=!0,M+=x.length-1;continue}}else{this.state.escaping=!0,M+=x.length-1;continue}if(this.state.commenting===!1&&this.__isQuote(P,M))if(this.state.quoting===!0){const N=P[M+b.length],_=d&&this.__isCharTrimable(P,M+b.length),G=y!==null&&this.__compareBytes(y,P,M+b.length,N),$=this.__isDelimiter(P,M+b.length,N),V=w.length===0?this.__autoDiscoverRecordDelimiter(P,M+b.length):this.__isRecordDelimiter(N,P,M+b.length);if(x!==null&&this.__isEscape(P,M,I)&&this.__isQuote(P,M+x.length))M+=x.length-1;else if(!N||$||V||G||_){this.state.quoting=!1,this.state.wasQuoting=!0,M+=b.length-1;continue}else if(o===!1){const Y=this.__error(new Kr("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(N)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(Y!==void 0)return Y}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(b),M+=b.length-1}else if(this.state.field.length!==0){if(o===!1){const N=this.__infoField(),_=Object.keys(qf).map($=>qf[$].equals(this.state.field.toString())?$:!1).filter(Boolean)[0],G=this.__error(new Kr("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(N.column)} at line ${N.lines}, value is ${JSON.stringify(this.state.field.toString(a))}`,_?`(${_} bom)`:void 0],this.options,N,{field:this.state.field}));if(G!==void 0)return G}}else{this.state.quoting=!0,M+=b.length-1;continue}if(this.state.quoting===!1){const N=this.__isRecordDelimiter(I,P,M);if(N!==0){if(this.state.commenting&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0)this.info.comment_lines++;else{if(this.state.enabled===!1&&this.info.lines+(this.state.wasRowDelimiter===!0?1:0)>=v){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),M+=N-1;continue}if(p===!0&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0){this.info.empty_lines++,M+=N-1;continue}this.info.bytes=this.state.bufBytesStart+M;const $=this.__onField();if($!==void 0)return $;this.info.bytes=this.state.bufBytesStart+M+N;const V=this.__onRecord(S);if(V!==void 0)return V;if(l!==-1&&this.info.records>=l){this.state.stop=!0,s();return}}this.state.commenting=!1,M+=N-1;continue}if(this.state.commenting)continue;if(y!==null&&(i===!1||this.state.record.length===0&&this.state.field.length===0)&&this.__compareBytes(y,P,M,I)!==0){this.state.commenting=!0;continue}const _=this.__isDelimiter(P,M,I);if(_!==0){this.info.bytes=this.state.bufBytesStart+M;const G=this.__onField();if(G!==void 0)return G;M+=_-1;continue}}}if(this.state.commenting===!1&&h!==0&&this.state.record_length+this.state.field.length>h)return this.__error(new Kr("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${h}`,`at line ${this.info.lines}`],this.options,this.__infoField()));const B=f===!1||this.state.quoting===!0||this.state.field.length!==0||!this.__isCharTrimable(P,M),D=d===!1||this.state.wasQuoting===!1;if(B===!0&&D===!0)this.state.field.append(I);else{if(d===!0&&!this.__isCharTrimable(P,M))return this.__error(new Kr("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));B===!1&&(M+=this.__isCharTrimable(P,M)-1);continue}}if(c===!0)if(this.state.quoting===!0){const I=this.__error(new Kr("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(I!==void 0)return I}else if(this.state.wasQuoting===!0||this.state.record.length!==0||this.state.field.length!==0){this.info.bytes=this.state.bufBytesStart+M;const I=this.__onField();if(I!==void 0)return I;const B=this.__onRecord(S);if(B!==void 0)return B}else this.state.wasRowDelimiter===!0?this.info.empty_lines++:this.state.commenting===!0&&this.info.comment_lines++;else this.state.bufBytesStart+=M,this.state.previousBuf=P.slice(M);this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(n){const{columns:c,group_columns_by_name:S,encoding:s,info:g,from:i,relax_column_count:a,relax_column_count_less:v,relax_column_count_more:f,raw:h,skip_records_with_empty_values:u}=this.options,{enabled:o,record:d}=this.state;if(o===!1)return this.__resetRecord();const p=d.length;if(c===!0){if(u===!0&&jP(d)){this.__resetRecord();return}return this.__firstLineToColumns(d)}if(c===!1&&this.info.records===0&&(this.state.expectedRecordLength=p),p!==this.state.expectedRecordLength){const l=c===!1?new Kr("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${p} on line ${this.info.lines}`],this.options,this.__infoField(),{record:d}):new Kr("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${c.length},`,`got ${p} on line ${this.info.lines}`],this.options,this.__infoField(),{record:d});if(a===!0||v===!0&&p<this.state.expectedRecordLength||f===!0&&p>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=l;else{const m=this.__error(l);if(m)return m}}if(u===!0&&jP(d)){this.__resetRecord();return}if(this.state.recordHasError===!0){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,i===1||this.info.records>=i){const{objname:l}=this.options;if(c!==!1){const m={};for(let y=0,x=d.length;y<x;y++)c[y]===void 0||c[y].disabled||(S===!0&&m[c[y].name]!==void 0?Array.isArray(m[c[y].name])?m[c[y].name]=m[c[y].name].concat(d[y]):m[c[y].name]=[m[c[y].name],d[y]]:m[c[y].name]=d[y]);if(h===!0||g===!0){const y=Object.assign({record:m},h===!0?{raw:this.state.rawBuffer.toString(s)}:{},g===!0?{info:this.__infoRecord()}:{}),x=this.__push(l===void 0?y:[m[l],y],n);if(x)return x}else{const y=this.__push(l===void 0?m:[m[l],m],n);if(y)return y}}else if(h===!0||g===!0){const m=Object.assign({record:d},h===!0?{raw:this.state.rawBuffer.toString(s)}:{},g===!0?{info:this.__infoRecord()}:{}),y=this.__push(l===void 0?m:[d[l],m],n);if(y)return y}else{const m=this.__push(l===void 0?d:[d[l],d],n);if(m)return m}}this.__resetRecord()},__firstLineToColumns:function(n){const{firstLineToHeaders:c}=this.state;try{const S=c===void 0?n:c.call(null,n);if(!Array.isArray(S))return this.__error(new Kr("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(S)}`],this.options,this.__infoField(),{headers:S}));const s=oU(S);this.state.expectedRecordLength=s.length,this.options.columns=s,this.__resetRecord();return}catch(S){return S}},__resetRecord:function(){this.options.raw===!0&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){const{cast:n,encoding:c,rtrim:S,max_record_size:s}=this.options,{enabled:g,wasQuoting:i}=this.state;if(g===!1)return this.__resetField();let a=this.state.field.toString(c);if(S===!0&&i===!1&&(a=a.trimRight()),n===!0){const[v,f]=this.__cast(a);if(v!==void 0)return v;a=f}this.state.record.push(a),s!==0&&typeof a=="string"&&(this.state.record_length+=a.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(n,c){const{on_record:S}=this.options;if(S!==void 0){const s=this.__infoRecord();try{n=S.call(null,n,s)}catch(g){return g}if(n==null)return}c(n)},__cast:function(n){const{columns:c,relax_column_count:S}=this.options;if(Array.isArray(c)===!0&&S&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(this.state.castField!==null)try{const g=this.__infoField();return[void 0,this.state.castField.call(null,n,g)]}catch(g){return[g]}if(this.__isFloat(n))return[void 0,parseFloat(n)];if(this.options.cast_date!==!1){const g=this.__infoField();return[void 0,this.options.cast_date.call(null,n,g)]}return[void 0,n]},__isCharTrimable:function(n,c){return((s,g)=>{const{timchars:i}=this.state;t:for(let a=0;a<i.length;a++){const v=i[a];for(let f=0;f<v.length;f++)if(v[f]!==s[g+f])continue t;return v.length}return 0})(n,c)},__isFloat:function(n){return n-parseFloat(n)+1>=0},__compareBytes:function(n,c,S,s){if(n[0]!==s)return 0;const g=n.length;for(let i=1;i<g;i++)if(n[i]!==c[S+i])return 0;return g},__isDelimiter:function(n,c,S){const{delimiter:s,ignore_last_delimiters:g}=this.options;if(g===!0&&this.state.record.length===this.options.columns.length-1)return 0;if(g!==!1&&typeof g=="number"&&this.state.record.length===g-1)return 0;t:for(let i=0;i<s.length;i++){const a=s[i];if(a[0]===S){for(let v=1;v<a.length;v++)if(a[v]!==n[c+v])continue t;return a.length}}return 0},__isRecordDelimiter:function(n,c,S){const{record_delimiter:s}=this.options,g=s.length;t:for(let i=0;i<g;i++){const a=s[i],v=a.length;if(a[0]===n){for(let f=1;f<v;f++)if(a[f]!==c[S+f])continue t;return a.length}}return 0},__isEscape:function(n,c,S){const{escape:s}=this.options;if(s===null)return!1;const g=s.length;if(s[0]===S){for(let i=0;i<g;i++)if(s[i]!==n[c+i])return!1;return!0}return!1},__isQuote:function(n,c){const{quote:S}=this.options;if(S===null)return!1;const s=S.length;for(let g=0;g<s;g++)if(S[g]!==n[c+g])return!1;return!0},__autoDiscoverRecordDelimiter:function(n,c){const{encoding:S}=this.options,s=[Zi.from(`\r
`,S),Zi.from(`
`,S),Zi.from("\r",S)];t:for(let g=0;g<s.length;g++){const i=s[g].length;for(let a=0;a<i;a++)if(s[g][a]!==n[c+a])continue t;return this.options.record_delimiter.push(s[g]),this.state.recordDelimiterMaxLength=s[g].length,s[g].length}return 0},__error:function(n){const{encoding:c,raw:S,skip_records_with_error:s}=this.options,g=typeof n=="string"?new Error(n):n;if(s){this.state.recordHasError=!0,this.options.on_skip!==void 0&&this.options.on_skip(g,S?this.state.rawBuffer.toString(c):void 0);return}else return g},__infoDataSet:function(){return Or(ji({},this.info),{columns:this.options.columns})},__infoRecord:function(){const{columns:n,raw:c,encoding:S}=this.options;return Or(ji({},this.__infoDataSet()),{error:this.state.error,header:n===!0,index:this.state.record.length,raw:c?this.state.rawBuffer.toString(S):void 0})},__infoField:function(){const{columns:n}=this.options,c=Array.isArray(n);return Or(ji({},this.__infoRecord()),{column:c===!0?n.length>this.state.record.length?n[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting})}}};class lBt extends KMt.Transform{constructor(t={}){super(Or(ji({readableObjectMode:!0},t),{encoding:null})),this.api=oBt(t),this.api.options.on_skip=(r,n)=>{this.emit("skip",r,n)},this.state=this.api.state,this.options=this.api.options,this.info=this.api.info}_transform(t,r,n){if(this.state.stop===!0)return;const c=this.api.parse(t,!1,S=>{this.push(S)},()=>{this.push(null),this.end(),this.on("end",this.destroy)});c!==void 0&&(this.state.stop=!0),n(c)}_flush(t){if(this.state.stop===!0)return;const r=this.api.parse(void 0,!0,n=>{this.push(n)},()=>{this.push(null),this.on("end",this.destroy)});t(r)}}const UP=function(){let e,t,r;for(const c in arguments){const S=arguments[c],s=typeof S;if(e===void 0&&(typeof S=="string"||Zi.isBuffer(S)))e=S;else if(t===void 0&&aU(S))t=S;else if(r===void 0&&s==="function")r=S;else throw new Kr("CSV_INVALID_ARGUMENT",["Invalid argument:",`got ${JSON.stringify(S)} at index ${c}`],t||{})}const n=new lBt(t);if(r){const c=t===void 0||t.objname===void 0?[]:{};n.on("readable",function(){let S;for(;(S=this.read())!==null;)t===void 0||t.objname===void 0?c.push(S):c[S[0]]=S[1]}),n.on("error",function(S){r(S,void 0,n.api.__infoDataSet())}),n.on("end",function(){r(void 0,c,n.api.__infoDataSet())})}if(e!==void 0){const c=function(){n.write(e),n.end()};typeof setImmediate=="function"?setImmediate(c):setTimeout(c,0)}return n},uBt="_mainContainer_oaval_1",hBt="_closeIcon_oaval_19",cBt="_header_oaval_36",fBt="_dropContainer_oaval_43",dBt="_activeDropContainer_oaval_57",pBt="_desc_oaval_61",vBt="_link_oaval_67",mBt="_button_oaval_74",gBt="_errorContainer_oaval_94",yBt="_errorIcon_oaval_106",xBt="_errorText_oaval_113",Ka={mainContainer:uBt,closeIcon:hBt,header:cBt,dropContainer:fBt,activeDropContainer:dBt,desc:pBt,link:vBt,button:mBt,errorContainer:gBt,errorIcon:yBt,errorText:xBt},bBt=()=>{Q_.saveAs(Re.basic.spreadsheetTemplate,"Blooket Spreadsheet Import Template.xlsx")};class f4 extends ti.Component{constructor(t){super(t),this.state={loading:!1},this.dropzoneRef=ti.createRef(),this.onDrop=this.onDrop.bind(this)}onDrop(t){return oi(this,null,function*(){if(this.state.loading)return;this.setState({loading:!0,error:""});const r=t[0];if(r){const n=yield r.text(),c=yield new Promise(S=>{UP(n,{},(s,g)=>{s?UP(n,{delimiter:";"},(i,a)=>{S(a.slice(2).filter(v=>v.length>=8&&v[1]!=="").map(v=>v.slice(0,10)))}):S(g.slice(2).filter(i=>i.length>=8&&i[1]!=="").map(i=>i.slice(0,10)))})});this.props.done(null,!1,c)}else this.setState({loading:!1,error:"Error uploading the file."})})}render(){return A.jsxs("div",{className:Ka.mainContainer,children:[A.jsx("i",{className:Ct(Ka.closeIcon,"fas fa-times"),role:"button",tabIndex:0,onClick:()=>this.props.close()}),A.jsx("div",{className:Ka.header,children:"Import From Spreadsheet"}),A.jsxs(Df,{multiple:!1,accept:".csv",onDropAccepted:this.onDrop,onDropRejected:()=>this.setState({error:"CSV Denied (Check Size < 2.5 MB)"}),className:Ka.dropContainer,activeClassName:Ka.activeDropContainer,ref:this.dropzoneRef,maxSize:25e5,disableClick:!0,children:[A.jsxs("div",{className:Ka.desc,children:["1. ",A.jsx("a",{href:"https://docs.google.com/spreadsheets/d/1zg8YPkiF1sFu-p_PLbraRtOm1jlQ0uks-aCUtZCk-JI/copy",target:"_blank",rel:"noopener noreferrer",className:Ka.link,children:"Copy"})," or ",A.jsx("div",{role:"button",tabIndex:0,onClick:bBt,className:Ka.link,children:"Download"})," our template."]}),A.jsx("div",{className:Ka.desc,children:"2. Fill it out and export as CSV"}),A.jsx("div",{className:Ka.desc,children:"3. Upload Below"}),this.state.loading?A.jsx(no,{}):A.jsx("div",{className:Ka.button,role:"button",tabIndex:0,onClick:()=>this.dropzoneRef.current.open(),children:"Upload CSV"})]}),this.state.error?A.jsxs("div",{className:Ka.errorContainer,children:[A.jsx("i",{className:Ct(Ka.errorIcon,"fas fa-times-circle")}),A.jsx("div",{className:Ka.errorText,children:this.state.error})]}):null]})}}f4.propTypes={done:Wt.func.isRequired,close:Wt.func.isRequired};const SBt="_mainContainer_l1z4x_1",wBt="_closeIcon_l1z4x_30",TBt="_searchContainer_l1z4x_47",CBt="_searchIcon_l1z4x_61",EBt="_searchInput_l1z4x_76",kBt="_loaderContainer_l1z4x_94",DBt="_logoText_l1z4x_102",ABt="_logoLink_l1z4x_108",PBt="_unsplashLogo_l1z4x_113",RBt="_imagesHolder_l1z4x_119",IBt="_imageContainer_l1z4x_127",MBt="_imageButton_l1z4x_135",BBt="_image_l1z4x_119",OBt="_imageText_l1z4x_156",NBt="_imageLink_l1z4x_164",FBt="_showMoreContainer_l1z4x_168",LBt="_showMoreButton_l1z4x_173",_Bt="_spacer_l1z4x_193",Ns={mainContainer:SBt,closeIcon:wBt,searchContainer:TBt,searchIcon:CBt,searchInput:EBt,loaderContainer:kBt,logoText:DBt,logoLink:ABt,unsplashLogo:PBt,imagesHolder:RBt,imageContainer:IBt,imageButton:MBt,image:BBt,imageText:OBt,imageLink:NBt,showMoreContainer:FBt,showMoreButton:LBt,spacer:_Bt};class Jx extends ti.Component{constructor(t){super(t),this.state={loading:!1,searchText:"",images:[],page:1,pagesLeft:0},this.loading=!1,this.onSelect=this.onSelect.bind(this),this.search=this.search.bind(this),this.showMore=this.showMore.bind(this)}onSelect(t){this.loading=!0,vi.post("/api/media/track-unsplash-download",{imageId:t.id}).catch(r=>{Ue.logError(r)}),this.props.select(t.smallImageURL)}search(t){t.preventDefault(),!this.loading&&(this.loading=!0,this.setState({loading:!0}),vi.get("/api/media/image-search",{params:{query:this.state.searchText,page:1}}).then(r=>{this.loading=!1,this.setState({images:r.data.results,loading:!1,page:1,pagesLeft:r.data.totalPages-1})}).catch(r=>{Ue.logError(r),this.loading=!1,this.setState({loading:!1,page:1,pagesLeft:0,images:[]})}))}showMore(){if(this.loading)return;this.loading=!0;const t=this.state.page+1,r=this.state.pagesLeft-1;vi.get("/api/media/image-search",{params:{query:this.state.searchText,page:t}}).then(n=>{this.loading=!1,this.setState({images:[...this.state.images,...n.data.results],page:t,pagesLeft:r})}).catch(n=>{Ue.logError(n),this.loading=!1})}render(){return A.jsx("div",{className:He.modal,children:A.jsxs("div",{className:Ns.mainContainer,children:[A.jsx("i",{className:Ct(Ns.closeIcon,"fas fa-times"),role:"button",tabIndex:0,onClick:this.props.close}),A.jsxs("form",{onSubmit:this.search,className:Ns.searchContainer,children:[A.jsx("input",{className:Ns.searchInput,type:"search",value:this.state.searchText,onChange:t=>this.setState({searchText:t.target.value}),placeholder:"Search for Images...",autoFocus:ur?"":"autofocus"}),A.jsx("i",{className:Ct(Ns.searchIcon,"fas fa-search"),role:"button",tabIndex:0,onClick:this.search})]}),this.state.loading?A.jsx("div",{className:Ns.loaderContainer,children:A.jsx(no,{})}):this.state.images.length===0?A.jsx("div",{className:Ns.loaderContainer,children:A.jsxs("div",{className:Ns.logoText,children:["Images By:",A.jsx("br",{}),A.jsx("a",{className:Ns.logoLink,target:"_blank",rel:"noopener noreferrer",href:"https://www.unsplash.com/?utm_source=blooket&utm_medium=referral",children:A.jsx("img",{src:Re.basic.unsplashLogo,alt:"Images By Unsplash",className:Ns.unsplashLogo,draggable:!1})})]})}):A.jsx("div",{className:Ns.imagesHolder,children:this.state.images.map(t=>A.jsxs("div",{className:Ns.imageContainer,children:[A.jsx("div",{className:Ns.imageButton,role:"button",tabIndex:0,onClick:()=>this.onSelect(t),children:A.jsx("img",{src:t.smallImageURL,alt:t.altDescription,className:Ns.image,draggable:!1})}),A.jsxs("div",{className:Ns.imageText,children:["By: ",A.jsx("a",{className:Ns.imageLink,target:"_blank",rel:"noopener noreferrer",href:t.attributionLink,children:t.unsplashUserName})]})]},t.id))}),this.state.pagesLeft>0&&!this.state.loading?A.jsx("div",{className:Ns.showMoreContainer,children:A.jsx("div",{className:Ns.showMoreButton,role:"button",tabIndex:0,onClick:this.showMore,children:"Show More"})}):null,A.jsx("div",{className:Ns.spacer})]})})}}Jx.propTypes={select:Wt.func.isRequired,close:Wt.func.isRequired};var jBt={};const UBt=Re.basic.QuizletLogo;class lU extends ti.Component{constructor(t){super(t),this.state={game:{title:"",author:"",desc:"",id:"",coverImage:{},private:!1},user:null,importing:!1,coverImageFile:{},coverImageURL:"",titleError:"",descError:"",imageError:"",uploadingURL:!1,tempURL:"",urlError:"",method:3,loading:!1,showUnsplash:!1,unsplashURL:""},this.onCreate=this.onCreate.bind(this),this.onTitleUpdate=this.onTitleUpdate.bind(this),this.onDescUpdate=this.onDescUpdate.bind(this),this.onURLUpdate=this.onURLUpdate.bind(this),this.onImageDrop=this.onImageDrop.bind(this),this.onURLSubmit=this.onURLSubmit.bind(this)}componentDidMount(){return oi(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ue.logError("CreatePage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}this.setState({user:t})})}onCreate(t,r,n){if(t&&t.preventDefault(),this.state.loading)return;this.setState({loading:!0});const c=rN(this.state.game.title),S=nN(this.state.game.desc);if(this.setState({titleError:c,descError:S}),!c&&!S){if(this.state.method===1&&r!==void 0){this.props.history.push(`/edit?id=${this.state.game.id}`);return}if(this.state.method===1&&this.setState({importing:!0,loading:!1}),this.state.method===2&&!n){this.setState({importing:!0,loading:!1});return}this.setState({game:Or(ji({},this.state.game),{author:this.state.user.name})},()=>{if(this.state.coverImageFile&&this.state.coverImageFile.size){const s=new c5;s.append("file",this.state.coverImageFile),s.append("tags",""),s.append("upload_preset","normal"),s.append("api_key",jBt.CLOUDINARY_API_KEY),s.append("timestamp",parseInt(Date.now()/1e3,10)),qm.post("https://api.cloudinary.com/v1_1/blooket/image/upload",s,{headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!1}).then(g=>{const i={};i.url=g.data.secure_url,i.id=g.data.public_id,vi.post("/api/games",{title:this.state.game.title.trim(),author:this.state.game.author,desc:this.state.game.desc.trim(),coverImage:i,private:this.state.game.private}).then(a=>{this.setState({game:Or(ji({},this.state.game),{id:a.data._id,coverImage:i})},()=>{n?vi.put("/api/games/spreadsheet-import",{gameId:this.state.game.id,spreadsheetData:n}).then(()=>{this.props.history.push(`/edit?id=${this.state.game.id}`)}).catch(()=>{this.props.history.push(`/edit?id=${this.state.game.id}`)}):this.state.method!==1&&this.props.history.push(`/edit?id=${this.state.game.id}`)})}).catch(a=>{if(Ue.logError(a),a.response){const v={};a.response&&a.response.data&&a.response.data.msg&&a.response.data.msg.includes("description")?v.descError=a.response.data.msg:v.titleError=a.response.data.msg,this.setState(Or(ji({},v),{loading:!1}))}})}).catch(g=>{Ue.logError(g)})}else{const s={};this.state.coverImageURL?s.url=this.state.coverImageURL:this.state.unsplashURL&&(s.url=this.state.unsplashURL,s.id="u"),vi.post("/api/games",{title:this.state.game.title.trim(),author:this.state.game.author,desc:this.state.game.desc.trim(),coverImage:s,private:this.state.game.private}).then(g=>{this.setState({game:Or(ji({},this.state.game),{id:g.data._id,coverImage:s})},()=>{n?vi.put("/api/games/spreadsheet-import",{gameId:this.state.game.id,spreadsheetData:n}).then(()=>{this.props.history.push(`/edit?id=${this.state.game.id}`)}).catch(()=>{this.props.history.push(`/edit?id=${this.state.game.id}`)}):this.state.method!==1&&this.props.history.push(`/edit?id=${this.state.game.id}`)})}).catch(g=>{if(Ue.logError(g),g.response){const i={};g.response&&g.response.data&&g.response.data.msg&&g.response.data.msg.includes("description")?i.descError=g.response.data.msg:i.titleError=g.response.data.msg,this.setState(Or(ji({},i),{loading:!1}))}})}})}else this.setState({loading:!1})}onTitleUpdate(t){this.setState({game:Or(ji({},this.state.game),{title:t.target.value.slice(0,OE)}),titleError:""})}onDescUpdate(t){this.setState({game:Or(ji({},this.state.game),{desc:t.target.value.slice(0,NE)}),descError:""})}onURLUpdate(t){this.setState({tempURL:t.target.value,urlError:""})}onURLSubmit(t){return oi(this,null,function*(){if(t.preventDefault(),this.loading)return;this.loading=!0,this.setState({loading:!0});let r="";this.state.tempURL||(r="Where's the URL?"),(yield new Promise(c=>{vi.get("/api/games/is-image",{params:{url:this.state.tempURL}}).then(S=>{c(S.data)}).catch(()=>c(!1))}))||(r="We can't find a supported image for that URL."),r?this.setState({imageError:"",urlError:r,loading:!1}):this.setState({imageError:"",coverImageURL:this.state.tempURL,coverImageFile:{},urlError:"",tempURL:"",uploadingURL:!1,loading:!1}),this.loading=!1})}onImageDrop(t){const r=t[0];r?this.setState({imageError:"",coverImageFile:r,coverImageURL:URL.createObjectURL(r)}):this.setState({imageError:"Error Uploading the File.",coverImageFile:{},coverImageURL:""})}render(){const t=ti.createRef();return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Set Creator | Blooket",desc:"Sets are groups of questions that are used in games. Use this page to create a set with a title, description, cover image, and privacy setting."}),A.jsx(qs,{user:this.state.user,page:"Set Creator"}),A.jsxs("div",{className:He.profileBody,children:[A.jsxs("div",{className:Pi.header,children:["Question Set Creator",A.jsx("a",{className:Pi.headerLinkButton,href:this.state.user&&this.state.user.dashboardLayout==="Student"?"https://help.blooket.com/hc/en-us/articles/16289513807383-Creating-a-Question-Set":"https://help.blooket.com/hc/en-us/articles/15980599804823-Creating-a-Question-Set",target:"_blank",rel:"noopener noreferrer",children:A.jsx("i",{className:Ct("far fa-question-circle",Pi.headerLinkIcon)})})]}),A.jsxs("form",{onSubmit:this.onCreate,className:Pi.inputContainer,children:[A.jsxs("div",{className:Pi.wideContainer,children:[A.jsx("div",{className:Pi.dropHolder,children:!this.state.coverImageURL&&!this.state.unsplashURL?A.jsxs(Df,{multiple:!1,accept:"image/jpeg, image/png, image/gif",onDropAccepted:this.onImageDrop,onDropRejected:()=>this.setState({imageError:"Image Denied (Check Size < 2.5 MB)"}),className:Pi.dropContainer,activeClassName:Pi.activeDropContainer,ref:t,maxSize:25e5,disableClick:!0,children:[A.jsx("div",{className:Pi.dropHeader,children:"Cover Image"}),A.jsx("div",{className:Pi.dropText,children:"Drag and Drop or"}),A.jsxs("div",{className:Pi.uploadButtonContainer,children:[A.jsx(Ti,{outsideClass:Pi.uploadButton,color:"#fff",onClick:()=>this.setState({showUnsplash:!0}),children:A.jsxs("div",{className:Pi.uploadButtonInside,children:[A.jsx("i",{className:Ct(Pi.uploadIcon,"fas fa-image")}),A.jsxs("div",{className:Pi.uploadText,children:["Image",A.jsx("br",{}),"Gallery"]})]})}),A.jsx(Ti,{outsideClass:Pi.uploadButton,color:"#fff",onClick:()=>t.current.open(),children:A.jsxs("div",{className:Pi.uploadButtonInside,children:[A.jsx("i",{className:Ct(Pi.uploadIcon,"fas fa-file-upload")}),A.jsxs("div",{className:Pi.uploadText,children:["Upload",A.jsx("br",{}),"a File"]})]})}),A.jsx(Ti,{outsideClass:Pi.uploadButton,color:"#fff",onClick:()=>this.setState({uploadingURL:!0,urlError:""}),children:A.jsxs("div",{className:Pi.uploadButtonInside,children:[A.jsx("i",{className:Ct(Pi.uploadIcon,"fas fa-link")}),A.jsxs("div",{className:Pi.uploadText,children:["Upload",A.jsx("br",{}),"by URL"]})]})})]})]}):A.jsxs("div",{className:Pi.imgContainer,children:[A.jsx("img",{src:this.state.coverImageURL||this.state.unsplashURL,alt:"Upload",className:Pi.coverImage}),A.jsx("div",{className:Pi.removeImageContainer}),A.jsxs("div",{className:Pi.removeImageButton,role:"button",tabIndex:0,onClick:()=>this.setState({coverImageURL:"",coverImageFile:{},unsplashURL:""}),children:[A.jsx("i",{className:Ct(Pi.removeImageIcon,"fas fa-times")}),A.jsx("div",{className:Pi.removeImageText,children:"Remove"})]})]})}),A.jsxs("div",{className:Pi.upperRightContainer,children:[A.jsxs("div",{className:Pi.titleHeader,children:["Title ",A.jsx("span",{className:Pi.titleSub,children:"(required)"})]}),A.jsx("input",{className:Ct(Pi.input,{[Pi.inputFilled]:this.state.game.title,[Pi.inputError]:this.state.titleError}),onChange:this.onTitleUpdate,value:this.state.game.title,type:"text",placeholder:"Add a descriptive title",autoFocus:ur?"":"autofocus"}),A.jsx("div",{className:Pi.descHeader,children:"Description"}),A.jsx("textarea",{className:Ct(Pi.descInput,{[Pi.inputFilled]:this.state.game.desc,[Pi.inputError]:this.state.descError}),onChange:this.onDescUpdate,value:this.state.game.desc,placeholder:"Tell users about your question set","data-gramm_editor":"false"})]})]}),A.jsxs("div",{className:Ct(Pi.wideContainer,Pi.wideContainerStart),children:[A.jsxs("div",{className:Pi.categoryContainer,children:[A.jsx("div",{className:Pi.categoryHeader,children:"Privacy Setting"}),A.jsx("div",{className:Pi.categoryDesc,children:"This decides who can find and play your question set"}),A.jsxs("div",{className:Pi.privacyRow,children:[A.jsx("div",{className:Ct(Pi.privacyCheckbox,{[Pi.privacyCheckboxChecked]:!this.state.game.private}),role:"button",tabIndex:0,onClick:()=>{this.setState({game:Or(ji({},this.state.game),{private:!this.state.game.private})})},children:A.jsx("div",{className:Pi.privacyCheckboxSquare})}),A.jsx("div",{className:Pi.privacyText,children:this.state.game.private?"Private":"Public"}),A.jsx("div",{className:Pi.privacyTextDesc,children:this.state.game.private?"Only Playable by You":"Playable by Everyone"})]})]}),A.jsxs("div",{className:Pi.categoryContainer,children:[A.jsx("div",{className:Pi.categoryHeader,children:"Creation Method"}),A.jsx("div",{className:Pi.categoryDesc,children:"This decides how you will start adding questions to your set"}),A.jsxs("div",{className:Pi.methodContainer,children:[A.jsx(Ti,{outsideClass:Pi.methodButton,color:this.state.method===3?"#0bc2cf":"#fff",onClick:()=>this.setState({method:3}),children:A.jsxs("div",{className:Ct(Pi.methodButtonInside,{[Pi.methodSelected]:this.state.method===3}),children:[A.jsx("i",{className:Ct(Pi.methodIcon,"fas fa-edit")}),A.jsx("div",{className:Pi.methodHeader,children:"Manual"})]})}),A.jsx(Ti,{outsideClass:Pi.methodButton,color:this.state.method===1?"#4053b3":"#fff",onClick:()=>this.setState({method:1}),children:A.jsxs("div",{className:Ct(Pi.methodButtonInside,{[Pi.methodSelected]:this.state.method===1}),children:[A.jsx("img",{src:UBt,alt:"Quizlet",className:Ct(Pi.quizletImage,{[Pi.quizletImageSelected]:this.state.method===1}),draggable:!1}),A.jsx("div",{className:Pi.methodHeader,children:"Quizlet Import"})]})}),A.jsx(Ti,{outsideClass:Pi.methodButton,color:this.state.method===2?"#007337":"#fff",onClick:()=>this.setState({method:2}),children:A.jsxs("div",{className:Ct(Pi.methodButtonInside,{[Pi.methodSelected]:this.state.method===2}),children:[A.jsx("i",{className:Ct(Pi.methodIcon,"fas fa-table")}),A.jsx("div",{className:Pi.methodHeader,children:"CSV Import"})]})})]})]})]}),A.jsxs("div",{className:Pi.bottomRow,children:[this.state.titleError||this.state.descError||this.state.imageError?A.jsxs("div",{className:Pi.errorContainer,children:[A.jsx("i",{className:Ct(Pi.errorIcon,"fas fa-times-circle")}),this.state.titleError||this.state.descError||this.state.imageError]}):null,A.jsx("div",{className:Pi.buttonWrapper,children:this.state.loading?A.jsx(no,{}):A.jsx(Ti,{color:"#0bc2cf",onClick:this.onCreate,children:A.jsx("div",{className:Pi.createButton,children:"Create"})})})]}),A.jsx("div",{className:Pi.spacer}),A.jsx("input",{type:"submit",className:Pi.hiddenInput})]}),this.state.uploadingURL?A.jsx(gr,{text:"Enter Image URL Address:",loading:this.state.loading,stringValue:this.state.tempURL,stringChange:this.onURLUpdate,stringPlaceholder:"Image URL",onSubmit:this.onURLSubmit,error:this.state.urlError,buttonOne:{text:"Upload",click:this.onURLSubmit,color:"blue"},buttonTwo:{text:"Back",click:()=>this.setState({uploadingURL:!1,tempURL:""}),color:"blue"}}):null]}),this.state.importing?this.state.method===1?A.jsx("div",{className:He.modal,children:A.jsx(r4,{done:this.onCreate,gameId:this.state.game.id,close:()=>this.setState({importing:!1})})}):A.jsx("div",{className:He.modal,children:A.jsx(f4,{done:this.onCreate,close:()=>this.setState({importing:!1})})}):null,this.state.showUnsplash?A.jsx(Jx,{select:r=>this.setState({showUnsplash:!1,unsplashURL:r}),close:()=>this.setState({showUnsplash:!1})}):null]})}}lU.propTypes={history:Wt.object.isRequired,user:Wt.object};const zBt=()=>({}),GBt=e=>ws({},e),HBt=Sn(Ts(Is(zBt,GBt)(lU))),$Bt="_mainRow_1byfb_1",VBt="_leftColumn_1byfb_10",WBt="_headerContainer_1byfb_16",YBt="_coverFillerContainer_1byfb_27",XBt="_coverImageContainer_1byfb_27",QBt="_coverImage_1byfb_27",KBt="_coverFillerImage_1byfb_50",JBt="_headerTitle_1byfb_58",ZBt="_headerDesc_1byfb_64",qBt="_headerPrivateContainer_1byfb_71",tOt="_headerPrivateIcon_1byfb_79",eOt="_headerPrivateText_1byfb_84",iOt="_saveButton_1byfb_89",rOt="_saveButtonInside_1byfb_94",nOt="_saveIcon_1byfb_107",sOt="_smallButtonsContainer_1byfb_112",aOt="_smallButton_1byfb_112",oOt="_smallIcon_1byfb_142",lOt="_addQuestionWrapper_1byfb_147",uOt="_addButton_1byfb_155",hOt="_addButtonInside_1byfb_159",cOt="_addIcon_1byfb_174",fOt="_addImage_1byfb_181",dOt="_questionSection_1byfb_186",pOt="_questionSectionTop_1byfb_192",vOt="_numQuestions_1byfb_201",mOt="_addQuestionButtonInside_1byfb_213",gOt="_addQuestionIcon_1byfb_225",yOt="_questionContainer_1byfb_230",xOt="_questionRow_1byfb_241",bOt="_questionInfoRow_1byfb_250",SOt="_questionInfo_1byfb_250",wOt="_questionInfoIcon_1byfb_272",TOt="_questionImageContainer_1byfb_276",COt="_questionImageButton_1byfb_294",EOt="_questionImage_1byfb_276",kOt="_questionLeftRow_1byfb_305",DOt="_questionArrowsHolder_1byfb_315",AOt="_arrowIcon_1byfb_324",POt="_questionButtonColumn_1byfb_345",ROt="_editButton_1byfb_354",IOt="_editIcon_1byfb_367",MOt="_questionButtonRow_1byfb_372",BOt="_questionButtonIcon_1byfb_380",OOt="_questionTextContainer_1byfb_391",NOt="_questionNum_1byfb_401",FOt="_questionTextRow_1byfb_407",LOt="_questionText_1byfb_391",_Ot="_questionFunc_1byfb_423",jOt="_qMathField_1byfb_431",UOt="_answerContainer_1byfb_439",zOt="_answerContainerStart_1byfb_450",GOt="_typingAnswer_1byfb_454",HOt="_typingAnswerIcon_1byfb_464",$Ot="_answer_1byfb_439",VOt="_answerIcon_1byfb_485",WOt="_answerMediaContainer_1byfb_492",YOt="_answerMediaCapped_1byfb_500",XOt="_answerText_1byfb_504",QOt="_answerImg_1byfb_512",KOt="_mathField_1byfb_520",JOt="_faded_1byfb_528",ZOt="_bottomSpacer_1byfb_532",wi={mainRow:$Bt,leftColumn:VBt,headerContainer:WBt,coverFillerContainer:YBt,coverImageContainer:XBt,coverImage:QBt,coverFillerImage:KBt,headerTitle:JBt,headerDesc:ZBt,headerPrivateContainer:qBt,headerPrivateIcon:tOt,headerPrivateText:eOt,saveButton:iOt,saveButtonInside:rOt,saveIcon:nOt,smallButtonsContainer:sOt,smallButton:aOt,smallIcon:oOt,addQuestionWrapper:lOt,addButton:uOt,addButtonInside:hOt,addIcon:cOt,addImage:fOt,questionSection:dOt,questionSectionTop:pOt,numQuestions:vOt,addQuestionButtonInside:mOt,addQuestionIcon:gOt,questionContainer:yOt,questionRow:xOt,questionInfoRow:bOt,questionInfo:SOt,questionInfoIcon:wOt,questionImageContainer:TOt,questionImageButton:COt,questionImage:EOt,questionLeftRow:kOt,questionArrowsHolder:DOt,arrowIcon:AOt,questionButtonColumn:POt,editButton:ROt,editIcon:IOt,questionButtonRow:MOt,questionButtonIcon:BOt,questionTextContainer:OOt,questionNum:NOt,questionTextRow:FOt,questionText:LOt,questionFunc:_Ot,qMathField:jOt,answerContainer:UOt,answerContainerStart:zOt,typingAnswer:GOt,typingAnswerIcon:HOt,answer:$Ot,answerIcon:VOt,answerMediaContainer:WOt,answerMediaCapped:YOt,answerText:XOt,answerImg:QOt,mathField:KOt,faded:JOt,bottomSpacer:ZOt},qOt="_wrapper_1tul9_1",tNt="_modal_1tul9_12",eNt="_mainContainer_1tul9_23",iNt="_header_1tul9_37",rNt="_headerContainer_1tul9_62",nNt="_headerContainerButton_1tul9_62",sNt="_headerRow_1tul9_56",aNt="_headerIcon_1tul9_85",oNt="_headerText_1tul9_89",lNt="_questionTypeArrow_1tul9_96",uNt="_timeInput_1tul9_100",hNt="_randomButton_1tul9_118",cNt="_randomCheck_1tul9_133",fNt="_isRandom_1tul9_140",dNt="_cancelButton_1tul9_144",pNt="_cancelIcon_1tul9_164",vNt="_cancelText_1tul9_170",mNt="_saveButton_1tul9_174",gNt="_saveIcon_1tul9_193",yNt="_saveText_1tul9_198",xNt="_loadingIcon_1tul9_203",bNt="_spin_1tul9_1",SNt="_questionRegularBody_1tul9_213",wNt="_questionContainer_1tul9_221",TNt="_questionLeftContainer_1tul9_233",CNt="_questionButton_1tul9_243",ENt="_questionIcon_1tul9_266",kNt="_questionImgWrapper_1tul9_270",DNt="_questionImgContainer_1tul9_280",ANt="_questionEqWrapper_1tul9_288",PNt="_removeQButton_1tul9_298",RNt="_removeQIcon_1tul9_317",INt="_questionTextContainer_1tul9_322",MNt="_questionText_1tul9_322",BNt="_placeholder_1tul9_362",ONt="_errorContainer_1tul9_375",NNt="_imageContainer_1tul9_388",FNt="_img_1tul9_400",LNt="_typingAnswersWrapper_1tul9_407",_Nt="_typingAnswersHolder_1tul9_420",jNt="_typingAnswersInside_1tul9_431",UNt="_typingAnswerHeader_1tul9_442",zNt="_typingAnswerSubheader_1tul9_450",GNt="_typingAnswerRow_1tul9_458",HNt="_answerTypeDropdown_1tul9_468",$Nt="_answerTypeArrow_1tul9_490",VNt="_answerTypeDropdownMenu_1tul9_494",WNt="_answerTypeDropdownOption_1tul9_521",YNt="_typingAnswerContainer_1tul9_540",XNt="_typingAnswerInput_1tul9_554",QNt="_removeTypingAnswerButton_1tul9_574",KNt="_removeTrashIcon_1tul9_597",JNt="_addAnswerButton_1tul9_603",ZNt="_answersHolder_1tul9_620",qNt="_answerWrapper_1tul9_634",tFt="_answerContainer_1tul9_641",eFt="_answerLeftContainer_1tul9_654",iFt="_correctButton_1tul9_664",rFt="_correctCheck_1tul9_683",nFt="_correctAnswer_1tul9_693",sFt="_answerButtonRow_1tul9_700",aFt="_answerIconButton_1tul9_709",oFt="_answerIcon_1tul9_709",lFt="_answerTextContainer_1tul9_733",uFt="_answerText_1tul9_733",hFt="_answerImgContainer_1tul9_776",cFt="_answerImg_1tul9_776",fFt="_removeButton_1tul9_791",dFt="_mathField_1tul9_811",pFt="_mathAnswerField_1tul9_820",vFt="_keyboardIcon_1tul9_828",mFt="_errorBorder_1tul9_854",gFt="_tooltip_1tul9_858",yFt="_answerTwo_1tul9_958",mi={wrapper:qOt,modal:tNt,mainContainer:eNt,header:iNt,headerContainer:rNt,headerContainerButton:nNt,headerRow:sNt,headerIcon:aNt,headerText:oNt,questionTypeArrow:lNt,timeInput:uNt,randomButton:hNt,randomCheck:cNt,isRandom:fNt,cancelButton:dNt,cancelIcon:pNt,cancelText:vNt,saveButton:mNt,saveIcon:gNt,saveText:yNt,loadingIcon:xNt,spin:bNt,questionRegularBody:SNt,questionContainer:wNt,questionLeftContainer:TNt,questionButton:CNt,questionIcon:ENt,questionImgWrapper:kNt,questionImgContainer:DNt,questionEqWrapper:ANt,removeQButton:PNt,removeQIcon:RNt,questionTextContainer:INt,questionText:MNt,placeholder:BNt,errorContainer:ONt,imageContainer:NNt,img:FNt,typingAnswersWrapper:LNt,typingAnswersHolder:_Nt,typingAnswersInside:jNt,typingAnswerHeader:UNt,typingAnswerSubheader:zNt,typingAnswerRow:GNt,answerTypeDropdown:HNt,answerTypeArrow:$Nt,answerTypeDropdownMenu:VNt,answerTypeDropdownOption:WNt,typingAnswerContainer:YNt,typingAnswerInput:XNt,removeTypingAnswerButton:QNt,removeTrashIcon:KNt,addAnswerButton:JNt,answersHolder:ZNt,answerWrapper:qNt,answerContainer:tFt,answerLeftContainer:eFt,correctButton:iFt,correctCheck:rFt,correctAnswer:nFt,answerButtonRow:sFt,answerIconButton:aFt,answerIcon:oFt,answerTextContainer:lFt,answerText:uFt,answerImgContainer:hFt,answerImg:cFt,removeButton:fFt,mathField:dFt,mathAnswerField:pFt,keyboardIcon:vFt,errorBorder:mFt,tooltip:gFt,answerTwo:yFt},xFt="_modal_158j6_1",bFt="_mainContainer_158j6_14",SFt="_header_158j6_29",wFt="_text_158j6_47",TFt="_uploadButtonContainer_158j6_54",CFt="_uploadButton_158j6_54",EFt="_uploadIcon_158j6_83",kFt="_uploadText_158j6_90",DFt="_dropContainer_158j6_95",AFt="_activeDropContainer_158j6_114",PFt="_dropzoneIcon_158j6_118",RFt="_urlInput_158j6_131",IFt="_inputFilled_158j6_157",MFt="_buttonRow_158j6_161",BFt="_button_158j6_161",OFt="_errorContainer_158j6_190",NFt="_errorIcon_158j6_202",FFt="_errorText_158j6_209",Tn={modal:xFt,mainContainer:bFt,header:SFt,text:wFt,uploadButtonContainer:TFt,uploadButton:CFt,uploadIcon:EFt,uploadText:kFt,dropContainer:DFt,activeDropContainer:AFt,dropzoneIcon:PFt,urlInput:RFt,inputFilled:IFt,buttonRow:MFt,button:BFt,errorContainer:OFt,errorIcon:NFt,errorText:FFt};class uU extends ti.Component{constructor(t){super(t),this.state={error:"",showUnsplash:!1,urlInput:"",showURL:!1},this.loading=!1,this.dropzoneRef=ti.createRef(),this.onImageDrop=this.onImageDrop.bind(this),this.onURLSubmit=this.onURLSubmit.bind(this)}onImageDrop(t){const r=t[0];r?this.props.onDone(URL.createObjectURL(r),r):this.setState({error:"Error Uploading the File."})}onURLSubmit(t){return oi(this,null,function*(){if(t.preventDefault(),this.loading)return;this.loading=!0;let r="";this.state.urlInput?(yield new Promise(c=>{vi.get("/api/games/is-image",{params:{url:this.state.urlInput}}).then(S=>{c(S.data)}).catch(S=>{Ue.logError(S),c(!1)})}))||(r="We can't find a supported image for that URL."):r="Where's the URL?",r?this.setState({error:r}):this.props.onDone(this.state.urlInput),this.loading=!1})}render(){return this.state.showUnsplash?A.jsx(Jx,{select:t=>this.props.onDone(t,null),close:()=>this.setState({showUnsplash:!1})}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:Tn.modal,role:"button",tabIndex:0,onClick:this.props.onClose}),A.jsxs("div",{className:Tn.mainContainer,children:[this.state.showURL?A.jsxs("form",{onSubmit:this.onURLSubmit,children:[A.jsx("div",{className:Tn.header,children:"Upload by URL"}),A.jsx("div",{className:Tn.text,children:"Enter image address:"}),A.jsx("input",{className:Ct(Tn.urlInput,{[Tn.inputFilled]:this.state.urlInput}),placeholder:"Image url...",onChange:t=>this.setState({urlInput:t.target.value,error:""}),value:this.state.urlInput,type:"text",autoFocus:ur?"":"autofocus"}),A.jsxs("div",{className:Tn.buttonRow,children:[A.jsx("div",{className:Tn.button,role:"button",tabIndex:0,onClick:()=>this.setState({showURL:!1}),children:"Back"}),A.jsx("div",{className:Tn.button,role:"button",tabIndex:0,onClick:this.onURLSubmit,children:"Submit"})]})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:Tn.header,children:"Image Uploader"}),A.jsxs("div",{className:Tn.uploadButtonContainer,children:[A.jsxs("div",{className:Tn.uploadButton,role:"button",tabIndex:0,onClick:()=>this.setState({showUnsplash:!0}),children:[A.jsx("i",{className:Ct(Tn.uploadIcon,"fas fa-image")}),A.jsxs("div",{className:Tn.uploadText,children:["Image",A.jsx("br",{}),"Gallery"]})]}),A.jsxs("div",{className:Tn.uploadButton,role:"button",tabIndex:0,onClick:()=>this.dropzoneRef.current.open(),children:[A.jsx("i",{className:Ct(Tn.uploadIcon,"fas fa-file-upload")}),A.jsxs("div",{className:Tn.uploadText,children:["Upload",A.jsx("br",{}),"a File"]})]}),A.jsxs("div",{className:Tn.uploadButton,role:"button",tabIndex:0,onClick:()=>this.setState({showURL:!0,urlInput:""}),children:[A.jsx("i",{className:Ct(Tn.uploadIcon,"fas fa-link")}),A.jsxs("div",{className:Tn.uploadText,children:["Upload",A.jsx("br",{}),"by URL"]})]})]}),A.jsxs(Df,{multiple:!1,accept:"image/jpeg, image/png, image/gif, image/svg+xml",onDropAccepted:this.onImageDrop,onDropRejected:()=>{this.setState({error:"Image Denied (Check Size < 2.5 MB)"})},className:Tn.dropContainer,activeClassName:Tn.activeDropContainer,ref:this.dropzoneRef,maxSize:25e5,children:[A.jsx("i",{className:Ct("fas fa-file-image",Tn.dropzoneIcon)}),"Or Drag and Drop a File Here (< 2.5 MB)"]})]}),this.state.error?A.jsxs("div",{className:Tn.errorContainer,children:[A.jsx("i",{className:Ct(Tn.errorIcon,"fas fa-times-circle")}),A.jsx("div",{className:Tn.errorText,children:this.state.error})]}):null]})]})}}uU.propTypes={onClose:Wt.func.isRequired,onDone:Wt.func.isRequired};const oT=[[{text:"+",latex:"+"},{text:"-",latex:"-"},{text:"\\cdot",latex:"\\cdot"},{text:"\\times",latex:"\\times"},{text:"\\div",latex:"\\div"},{text:"=",latex:"="},{text:"\\pm",latex:"\\pm"},{text:"\\ne",latex:"\\ne"},{text:"\\pi",latex:"\\pi"},{text:"",latex:""}],[{text:"a^2",latex:"^2"},{text:"a^b",latex:"^{ }",offset:1},{text:"\\frac{a}{b}",latex:"\\frac{ }{ }",offset:2},{text:"a_b",latex:"_{ }",offset:1},{text:"|a|",latex:"| |",offset:1},{text:"\\sqrt{a}",latex:"\\sqrt{ }",offset:1},{text:"\\sqrt[b]{a}",latex:"\\sqrt[ ]{ }",offset:2},{text:"\\overline{a}",latex:"\\overline{ }",offset:1},{text:"\\overleftarrow{ab}",latex:"\\overleftarrow{ }",offset:1},{text:"\\overrightarrow{ab}",latex:"\\overrightarrow{ }",offset:1},{text:"\\lim _{a \\to b}",latex:"\\lim _{ \\to }",offset:2,fontSize:12},{text:"\\sum _{b}^{a}",latex:"\\sum _{ }^{ }",offset:2,fontSize:12},{text:"\\prod _{b}^{a}",latex:"\\prod _{ }^{ }",offset:2,fontSize:12},{text:"\\lceil a\\rceil",latex:"\\lceil { }\\rceil",offset:1},{text:"\\lfloor a\\rfloor",latex:"\\lfloor { }\\rfloor",offset:1},{text:"\\ln a",latex:"\\ln { }"},{text:"\\log _ba",latex:"\\log _{ }{ }",offset:1,fontSize:14},{text:"\\int _b^a",latex:"\\int _{ }^{ }",offset:2,fontSize:14}],[{text:"<",latex:"<"},{text:">",latex:">"},{text:" ",latex:" "},{text:"\\degree",latex:"\\degree"},{text:"\\circ",latex:"\\circ"},{text:"\\le",latex:"\\le"},{text:"\\ge",latex:"\\ge"},{text:"",latex:""},{text:"\\parallel",latex:"\\parallel"},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"~",latex:"~"},{text:"\\approx",latex:"\\approx"},{text:"\\cong",latex:"\\cong"},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""}],[{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""}],[{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:" ",latex:" "},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""}],[{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"\\pi",latex:"\\pi"},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""}]],LFt="_modal_1vbfo_1",_Ft="_mainContainer_1vbfo_14",jFt="_header_1vbfo_33",UFt="_topRow_1vbfo_51",zFt="_mathInputWrapper_1vbfo_60",GFt="_mathInput_1vbfo_60",HFt="_insertButton_1vbfo_84",$Ft="_bottomWrapper_1vbfo_104",VFt="_button_1vbfo_112",WFt="_mathField_1vbfo_130",YFt="_buttonRow_1vbfo_137",XFt="_bottomButtons_1vbfo_145",QFt="_importantButtons_1vbfo_145",KFt="_topButtons_1vbfo_145",JFt="_smallSpacer_1vbfo_162",ZFt="_spacer_1vbfo_166",is={modal:LFt,mainContainer:_Ft,header:jFt,topRow:UFt,mathInputWrapper:zFt,mathInput:GFt,insertButton:HFt,bottomWrapper:$Ft,button:VFt,mathField:WFt,buttonRow:YFt,bottomButtons:XFt,importantButtons:QFt,topButtons:KFt,smallSpacer:JFt,spacer:ZFt};Ln.addStyles();class hU extends ti.Component{constructor(t){super(t),this.state={latex:t.equation||""},this.mathField=null,this.onKeyPress=this.onKeyPress.bind(this),this.addLatex=this.addLatex.bind(this),this.submitLatex=this.submitLatex.bind(this)}componentDidMount(){document.addEventListener("keypress",this.onKeyPress)}componentWillUnmount(){document.removeEventListener("keypress",this.onKeyPress)}onKeyPress(t){(t||window.event).keyCode===13&&this.submitLatex()}addLatex(t){this.mathField.write(t.latex),this.mathField.focus();for(let r=0;r<t.offset;r++)this.mathField.keystroke("Left")}submitLatex(t){t&&t.preventDefault(),this.props.onDone(this.state.latex)}render(){return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:is.modal,role:"button",tabIndex:0,onClick:this.props.onClose}),A.jsxs("div",{className:is.mainContainer,children:[A.jsx("div",{className:is.header,children:"Equation Editor"}),A.jsxs("form",{onSubmit:this.submitLatex,className:is.topRow,children:[A.jsx("div",{className:is.mathInputWrapper,children:A.jsx(Ln.EditableMathField,{latex:this.state.latex,onChange:t=>{this.setState({latex:t.latex()})},mathquillDidMount:t=>{this.mathField=t,this.mathField.focus()},className:is.mathInput})}),A.jsx("div",{className:is.insertButton,role:"button",tabIndex:0,onClick:this.submitLatex,children:"Insert"})]}),A.jsxs("div",{className:is.bottomWrapper,children:[A.jsx("div",{className:is.buttonRow,children:A.jsx("div",{className:is.importantButtons,children:oT[0].map((t,r)=>A.jsx("div",{className:is.button,role:"button",tabIndex:0,onClick:()=>this.addLatex(t),children:A.jsx(Ln.StaticMathField,{className:is.mathField,style:{fontSize:t.fontSize},children:t.text})},r))})}),A.jsx("div",{className:is.smallSpacer}),A.jsx("div",{className:is.buttonRow,children:oT.slice(1,4).map((t,r)=>A.jsx("div",{className:is.topButtons,children:t.map((n,c)=>A.jsx("div",{className:is.button,role:"button",tabIndex:0,onClick:()=>this.addLatex(n),children:A.jsx(Ln.StaticMathField,{className:is.mathField,style:{fontSize:n.fontSize},children:n.text})},c))},r))}),A.jsx("div",{className:is.spacer}),A.jsx("div",{className:is.buttonRow,children:oT.slice(4).map((t,r)=>A.jsx("div",{className:is.bottomButtons,children:t.map((n,c)=>A.jsx("div",{className:is.button,role:"button",tabIndex:0,onClick:()=>this.addLatex(n),children:A.jsx(Ln.StaticMathField,{className:is.mathField,style:{fontSize:n.fontSize},children:n.text})},c))},r))})]})]})]})}}hU.propTypes={equation:Wt.string,onDone:Wt.func.isRequired,onClose:Wt.func.isRequired};var cU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Dm,function(){function r(Xt){return new Int8Array(Xt)}function n(Xt){return new Int16Array(Xt)}function c(Xt){return new Int32Array(Xt)}function S(Xt){return new Float32Array(Xt)}function s(Xt){return new Float64Array(Xt)}function g(Xt){if(Xt.length==1)return S(Xt[0]);var ge=Xt[0];Xt=Xt.slice(1);for(var be=[],Se=0;Se<ge;Se++)be.push(g(Xt));return be}function i(Xt){if(Xt.length==1)return c(Xt[0]);var ge=Xt[0];Xt=Xt.slice(1);for(var be=[],Se=0;Se<ge;Se++)be.push(i(Xt));return be}function a(Xt){if(Xt.length==1)return n(Xt[0]);var ge=Xt[0];Xt=Xt.slice(1);for(var be=[],Se=0;Se<ge;Se++)be.push(a(Xt));return be}function v(Xt){if(Xt.length==1)return new Array(Xt[0]);var ge=Xt[0];Xt=Xt.slice(1);for(var be=[],Se=0;Se<ge;Se++)be.push(v(Xt));return be}var f={};f.fill=function(Xt,ge,be,Se){if(arguments.length==2)for(var Le=0;Le<Xt.length;Le++)Xt[Le]=arguments[1];else for(var Le=ge;Le<be;Le++)Xt[Le]=Se};var h={};h.arraycopy=function(Xt,ge,be,Se,Le){for(var me=ge+Le;ge<me;)be[Se++]=Xt[ge++]};var u={};u.SQRT2=1.4142135623730951,u.FAST_LOG10=function(Xt){return Math.log10(Xt)},u.FAST_LOG10_X=function(Xt,ge){return Math.log10(Xt)*ge};function o(Xt){this.ordinal=Xt}o.short_block_allowed=new o(0),o.short_block_coupled=new o(1),o.short_block_dispensed=new o(2),o.short_block_forced=new o(3);var d={};d.MAX_VALUE=34028235e31;function p(Xt){this.ordinal=Xt}p.vbr_off=new p(0),p.vbr_mt=new p(1),p.vbr_rh=new p(2),p.vbr_abr=new p(3),p.vbr_mtrh=new p(4),p.vbr_default=p.vbr_mtrh;var l=function(Xt){},m={System:h,VbrMode:p,Float:d,ShortBlock:o,Util:u,Arrays:f,new_array_n:v,new_byte:r,new_double:s,new_float:S,new_float_n:g,new_int:c,new_int_n:i,new_short:n,new_short_n:a,assert:l},y=m.System,x=m.Util,b=m.Arrays,w=m.new_float;function C(){var Xt=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*x.SQRT2*.5/2384e-9,.017876148*x.SQRT2*.5/2384e-9,.003134727*x.SQRT2*.5/2384e-9,.002457142*x.SQRT2*.5/2384e-9,971317e-9*x.SQRT2*.5/2384e-9,218868e-9*x.SQRT2*.5/2384e-9,101566e-9*x.SQRT2*.5/2384e-9,13828e-9*x.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],ge=12,be=36,Se=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],Le=Se[F.SHORT_TYPE],me=Se[F.SHORT_TYPE],_e=Se[F.SHORT_TYPE],hi=Se[F.SHORT_TYPE],ai=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function se(Vt,Qt,J){for(var ae=10,ne=Qt+238-14-286,Zt=-15;Zt<0;Zt++){var lt,Dt,Ut;lt=Xt[ae+-10],Dt=Vt[ne+-224]*lt,Ut=Vt[Qt+224]*lt,lt=Xt[ae+-9],Dt+=Vt[ne+-160]*lt,Ut+=Vt[Qt+160]*lt,lt=Xt[ae+-8],Dt+=Vt[ne+-96]*lt,Ut+=Vt[Qt+96]*lt,lt=Xt[ae+-7],Dt+=Vt[ne+-32]*lt,Ut+=Vt[Qt+32]*lt,lt=Xt[ae+-6],Dt+=Vt[ne+32]*lt,Ut+=Vt[Qt+-32]*lt,lt=Xt[ae+-5],Dt+=Vt[ne+96]*lt,Ut+=Vt[Qt+-96]*lt,lt=Xt[ae+-4],Dt+=Vt[ne+160]*lt,Ut+=Vt[Qt+-160]*lt,lt=Xt[ae+-3],Dt+=Vt[ne+224]*lt,Ut+=Vt[Qt+-224]*lt,lt=Xt[ae+-2],Dt+=Vt[Qt+-256]*lt,Ut-=Vt[ne+256]*lt,lt=Xt[ae+-1],Dt+=Vt[Qt+-192]*lt,Ut-=Vt[ne+192]*lt,lt=Xt[ae+0],Dt+=Vt[Qt+-128]*lt,Ut-=Vt[ne+128]*lt,lt=Xt[ae+1],Dt+=Vt[Qt+-64]*lt,Ut-=Vt[ne+64]*lt,lt=Xt[ae+2],Dt+=Vt[Qt+0]*lt,Ut-=Vt[ne+0]*lt,lt=Xt[ae+3],Dt+=Vt[Qt+64]*lt,Ut-=Vt[ne+-64]*lt,lt=Xt[ae+4],Dt+=Vt[Qt+128]*lt,Ut-=Vt[ne+-128]*lt,lt=Xt[ae+5],Dt+=Vt[Qt+192]*lt,Ut-=Vt[ne+-192]*lt,Dt*=Xt[ae+6],lt=Ut-Dt,J[30+Zt*2]=Ut+Dt,J[31+Zt*2]=Xt[ae+7]*lt,ae+=18,Qt--,ne++}{var Dt,Ut,zt,Ht;Ut=Vt[Qt+-16]*Xt[ae+-10],Dt=Vt[Qt+-32]*Xt[ae+-2],Ut+=(Vt[Qt+-48]-Vt[Qt+16])*Xt[ae+-9],Dt+=Vt[Qt+-96]*Xt[ae+-1],Ut+=(Vt[Qt+-80]+Vt[Qt+48])*Xt[ae+-8],Dt+=Vt[Qt+-160]*Xt[ae+0],Ut+=(Vt[Qt+-112]-Vt[Qt+80])*Xt[ae+-7],Dt+=Vt[Qt+-224]*Xt[ae+1],Ut+=(Vt[Qt+-144]+Vt[Qt+112])*Xt[ae+-6],Dt-=Vt[Qt+32]*Xt[ae+2],Ut+=(Vt[Qt+-176]-Vt[Qt+144])*Xt[ae+-5],Dt-=Vt[Qt+96]*Xt[ae+3],Ut+=(Vt[Qt+-208]+Vt[Qt+176])*Xt[ae+-4],Dt-=Vt[Qt+160]*Xt[ae+4],Ut+=(Vt[Qt+-240]-Vt[Qt+208])*Xt[ae+-3],Dt-=Vt[Qt+224],zt=Dt-Ut,Ht=Dt+Ut,Ut=J[14],Dt=J[15]-Ut,J[31]=Ht+Ut,J[30]=zt+Dt,J[15]=zt-Dt,J[14]=Ht-Ut}{var nt;nt=J[28]-J[0],J[0]+=J[28],J[28]=nt*Xt[ae+-2*18+7],nt=J[29]-J[1],J[1]+=J[29],J[29]=nt*Xt[ae+-2*18+7],nt=J[26]-J[2],J[2]+=J[26],J[26]=nt*Xt[ae+-4*18+7],nt=J[27]-J[3],J[3]+=J[27],J[27]=nt*Xt[ae+-4*18+7],nt=J[24]-J[4],J[4]+=J[24],J[24]=nt*Xt[ae+-6*18+7],nt=J[25]-J[5],J[5]+=J[25],J[25]=nt*Xt[ae+-6*18+7],nt=J[22]-J[6],J[6]+=J[22],J[22]=nt*x.SQRT2,nt=J[23]-J[7],J[7]+=J[23],J[23]=nt*x.SQRT2-J[7],J[7]-=J[6],J[22]-=J[7],J[23]-=J[22],nt=J[6],J[6]=J[31]-nt,J[31]=J[31]+nt,nt=J[7],J[7]=J[30]-nt,J[30]=J[30]+nt,nt=J[22],J[22]=J[15]-nt,J[15]=J[15]+nt,nt=J[23],J[23]=J[14]-nt,J[14]=J[14]+nt,nt=J[20]-J[8],J[8]+=J[20],J[20]=nt*Xt[ae+-10*18+7],nt=J[21]-J[9],J[9]+=J[21],J[21]=nt*Xt[ae+-10*18+7],nt=J[18]-J[10],J[10]+=J[18],J[18]=nt*Xt[ae+-12*18+7],nt=J[19]-J[11],J[11]+=J[19],J[19]=nt*Xt[ae+-12*18+7],nt=J[16]-J[12],J[12]+=J[16],J[16]=nt*Xt[ae+-14*18+7],nt=J[17]-J[13],J[13]+=J[17],J[17]=nt*Xt[ae+-14*18+7],nt=-J[20]+J[24],J[20]+=J[24],J[24]=nt*Xt[ae+-12*18+7],nt=-J[21]+J[25],J[21]+=J[25],J[25]=nt*Xt[ae+-12*18+7],nt=J[4]-J[8],J[4]+=J[8],J[8]=nt*Xt[ae+-12*18+7],nt=J[5]-J[9],J[5]+=J[9],J[9]=nt*Xt[ae+-12*18+7],nt=J[0]-J[12],J[0]+=J[12],J[12]=nt*Xt[ae+-4*18+7],nt=J[1]-J[13],J[1]+=J[13],J[13]=nt*Xt[ae+-4*18+7],nt=J[16]-J[28],J[16]+=J[28],J[28]=nt*Xt[ae+-4*18+7],nt=-J[17]+J[29],J[17]+=J[29],J[29]=nt*Xt[ae+-4*18+7],nt=x.SQRT2*(J[2]-J[10]),J[2]+=J[10],J[10]=nt,nt=x.SQRT2*(J[3]-J[11]),J[3]+=J[11],J[11]=nt,nt=x.SQRT2*(-J[18]+J[26]),J[18]+=J[26],J[26]=nt-J[18],nt=x.SQRT2*(-J[19]+J[27]),J[19]+=J[27],J[27]=nt-J[19],nt=J[2],J[19]-=J[3],J[3]-=nt,J[2]=J[31]-nt,J[31]+=nt,nt=J[3],J[11]-=J[19],J[18]-=nt,J[3]=J[30]-nt,J[30]+=nt,nt=J[18],J[27]-=J[11],J[19]-=nt,J[18]=J[15]-nt,J[15]+=nt,nt=J[19],J[10]-=nt,J[19]=J[14]-nt,J[14]+=nt,nt=J[10],J[11]-=nt,J[10]=J[23]-nt,J[23]+=nt,nt=J[11],J[26]-=nt,J[11]=J[22]-nt,J[22]+=nt,nt=J[26],J[27]-=nt,J[26]=J[7]-nt,J[7]+=nt,nt=J[27],J[27]=J[6]-nt,J[6]+=nt,nt=x.SQRT2*(J[0]-J[4]),J[0]+=J[4],J[4]=nt,nt=x.SQRT2*(J[1]-J[5]),J[1]+=J[5],J[5]=nt,nt=x.SQRT2*(J[16]-J[20]),J[16]+=J[20],J[20]=nt,nt=x.SQRT2*(J[17]-J[21]),J[17]+=J[21],J[21]=nt,nt=-x.SQRT2*(J[8]-J[12]),J[8]+=J[12],J[12]=nt-J[8],nt=-x.SQRT2*(J[9]-J[13]),J[9]+=J[13],J[13]=nt-J[9],nt=-x.SQRT2*(J[25]-J[29]),J[25]+=J[29],J[29]=nt-J[25],nt=-x.SQRT2*(J[24]+J[28]),J[24]-=J[28],J[28]=nt-J[24],nt=J[24]-J[16],J[24]=nt,nt=J[20]-nt,J[20]=nt,nt=J[28]-nt,J[28]=nt,nt=J[25]-J[17],J[25]=nt,nt=J[21]-nt,J[21]=nt,nt=J[29]-nt,J[29]=nt,nt=J[17]-J[1],J[17]=nt,nt=J[9]-nt,J[9]=nt,nt=J[25]-nt,J[25]=nt,nt=J[5]-nt,J[5]=nt,nt=J[21]-nt,J[21]=nt,nt=J[13]-nt,J[13]=nt,nt=J[29]-nt,J[29]=nt,nt=J[1]-J[0],J[1]=nt,nt=J[16]-nt,J[16]=nt,nt=J[17]-nt,J[17]=nt,nt=J[8]-nt,J[8]=nt,nt=J[9]-nt,J[9]=nt,nt=J[24]-nt,J[24]=nt,nt=J[25]-nt,J[25]=nt,nt=J[4]-nt,J[4]=nt,nt=J[5]-nt,J[5]=nt,nt=J[20]-nt,J[20]=nt,nt=J[21]-nt,J[21]=nt,nt=J[12]-nt,J[12]=nt,nt=J[13]-nt,J[13]=nt,nt=J[28]-nt,J[28]=nt,nt=J[29]-nt,J[29]=nt,nt=J[0],J[0]+=J[31],J[31]-=nt,nt=J[1],J[1]+=J[30],J[30]-=nt,nt=J[16],J[16]+=J[15],J[15]-=nt,nt=J[17],J[17]+=J[14],J[14]-=nt,nt=J[8],J[8]+=J[23],J[23]-=nt,nt=J[9],J[9]+=J[22],J[22]-=nt,nt=J[24],J[24]+=J[7],J[7]-=nt,nt=J[25],J[25]+=J[6],J[6]-=nt,nt=J[4],J[4]+=J[27],J[27]-=nt,nt=J[5],J[5]+=J[26],J[26]-=nt,nt=J[20],J[20]+=J[11],J[11]-=nt,nt=J[21],J[21]+=J[10],J[10]-=nt,nt=J[12],J[12]+=J[19],J[19]-=nt,nt=J[13],J[13]+=J[18],J[18]-=nt,nt=J[28],J[28]+=J[3],J[3]-=nt,nt=J[29],J[29]+=J[2],J[2]-=nt}}function Ge(Vt,Qt){for(var J=0;J<3;J++){var ae,ne,Zt,lt,Dt,Ut;lt=Vt[Qt+2*3]*Se[F.SHORT_TYPE][0]-Vt[Qt+5*3],ae=Vt[Qt+0*3]*Se[F.SHORT_TYPE][2]-Vt[Qt+3*3],ne=lt+ae,Zt=lt-ae,lt=Vt[Qt+5*3]*Se[F.SHORT_TYPE][0]+Vt[Qt+2*3],ae=Vt[Qt+3*3]*Se[F.SHORT_TYPE][2]+Vt[Qt+0*3],Dt=lt+ae,Ut=-lt+ae,ae=(Vt[Qt+1*3]*Se[F.SHORT_TYPE][1]-Vt[Qt+4*3])*2069978111953089e-26,lt=(Vt[Qt+4*3]*Se[F.SHORT_TYPE][1]+Vt[Qt+1*3])*2069978111953089e-26,Vt[Qt+3*0]=ne*190752519173728e-25+ae,Vt[Qt+3*5]=-Dt*190752519173728e-25+lt,Zt=Zt*.8660254037844387*1907525191737281e-26,Dt=Dt*.5*1907525191737281e-26+lt,Vt[Qt+3*1]=Zt-Dt,Vt[Qt+3*2]=Zt+Dt,ne=ne*.5*1907525191737281e-26-ae,Ut=Ut*.8660254037844387*1907525191737281e-26,Vt[Qt+3*3]=ne+Ut,Vt[Qt+3*4]=ne-Ut,Qt++}}function Gt(Vt,Qt,J){var ae,ne;{var Zt,lt,Dt,Ut,zt,Ht,nt,Rt;Zt=J[17]-J[9],Dt=J[15]-J[11],Ut=J[14]-J[12],zt=J[0]+J[8],Ht=J[1]+J[7],nt=J[2]+J[6],Rt=J[3]+J[5],Vt[Qt+17]=zt+nt-Rt-(Ht-J[4]),ne=(zt+nt-Rt)*me[19]+(Ht-J[4]),ae=(Zt-Dt-Ut)*me[18],Vt[Qt+5]=ae+ne,Vt[Qt+6]=ae-ne,lt=(J[16]-J[10])*me[18],Ht=Ht*me[19]+J[4],ae=Zt*me[12]+lt+Dt*me[13]+Ut*me[14],ne=-zt*me[16]+Ht-nt*me[17]+Rt*me[15],Vt[Qt+1]=ae+ne,Vt[Qt+2]=ae-ne,ae=Zt*me[13]-lt-Dt*me[14]+Ut*me[12],ne=-zt*me[17]+Ht-nt*me[15]+Rt*me[16],Vt[Qt+9]=ae+ne,Vt[Qt+10]=ae-ne,ae=Zt*me[14]-lt+Dt*me[12]-Ut*me[13],ne=zt*me[15]-Ht+nt*me[16]-Rt*me[17],Vt[Qt+13]=ae+ne,Vt[Qt+14]=ae-ne}{var bt,ct,Tt,kt,ht,pt,vt,Yt;bt=J[8]-J[0],Tt=J[6]-J[2],kt=J[5]-J[3],ht=J[17]+J[9],pt=J[16]+J[10],vt=J[15]+J[11],Yt=J[14]+J[12],Vt[Qt+0]=ht+vt+Yt+(pt+J[13]),ae=(ht+vt+Yt)*me[19]-(pt+J[13]),ne=(bt-Tt+kt)*me[18],Vt[Qt+11]=ae+ne,Vt[Qt+12]=ae-ne,ct=(J[7]-J[1])*me[18],pt=J[13]-pt*me[19],ae=ht*me[15]-pt+vt*me[16]+Yt*me[17],ne=bt*me[14]+ct+Tt*me[12]+kt*me[13],Vt[Qt+3]=ae+ne,Vt[Qt+4]=ae-ne,ae=-ht*me[17]+pt-vt*me[15]-Yt*me[16],ne=bt*me[13]+ct-Tt*me[14]-kt*me[12],Vt[Qt+7]=ae+ne,Vt[Qt+8]=ae-ne,ae=-ht*me[16]+pt-vt*me[17]-Yt*me[15],ne=bt*me[12]-ct+Tt*me[13]-kt*me[14],Vt[Qt+15]=ae+ne,Vt[Qt+16]=ae-ne}}this.mdct_sub48=function(Vt,Qt,J){for(var ae=Qt,ne=286,Zt=0;Zt<Vt.channels_out;Zt++){for(var lt=0;lt<Vt.mode_gr;lt++){for(var Dt,Ut=Vt.l3_side.tt[lt][Zt],zt=Ut.xr,Ht=0,nt=Vt.sb_sample[Zt][1-lt],Rt=0,bt=0;bt<18/2;bt++)for(se(ae,ne,nt[Rt]),se(ae,ne+32,nt[Rt+1]),Rt+=2,ne+=64,Dt=1;Dt<32;Dt+=2)nt[Rt-1][Dt]*=-1;for(Dt=0;Dt<32;Dt++,Ht+=18){var ct=Ut.block_type,Tt=Vt.sb_sample[Zt][lt],kt=Vt.sb_sample[Zt][1-lt];if(Ut.mixed_block_flag!=0&&Dt<2&&(ct=0),Vt.amp_filter[Dt]<1e-12)b.fill(zt,Ht+0,Ht+18,0);else{if(Vt.amp_filter[Dt]<1)for(var bt=0;bt<18;bt++)kt[bt][ai[Dt]]*=Vt.amp_filter[Dt];if(ct==F.SHORT_TYPE){for(var bt=-ge/4;bt<0;bt++){var ht=Se[F.SHORT_TYPE][bt+3];zt[Ht+bt*3+9]=Tt[9+bt][ai[Dt]]*ht-Tt[8-bt][ai[Dt]],zt[Ht+bt*3+18]=Tt[14-bt][ai[Dt]]*ht+Tt[15+bt][ai[Dt]],zt[Ht+bt*3+10]=Tt[15+bt][ai[Dt]]*ht-Tt[14-bt][ai[Dt]],zt[Ht+bt*3+19]=kt[2-bt][ai[Dt]]*ht+kt[3+bt][ai[Dt]],zt[Ht+bt*3+11]=kt[3+bt][ai[Dt]]*ht-kt[2-bt][ai[Dt]],zt[Ht+bt*3+20]=kt[8-bt][ai[Dt]]*ht+kt[9+bt][ai[Dt]]}Ge(zt,Ht)}else{for(var pt=w(18),bt=-be/4;bt<0;bt++){var vt,Yt;vt=Se[ct][bt+27]*kt[bt+9][ai[Dt]]+Se[ct][bt+36]*kt[8-bt][ai[Dt]],Yt=Se[ct][bt+9]*Tt[bt+9][ai[Dt]]-Se[ct][bt+18]*Tt[8-bt][ai[Dt]],pt[bt+9]=vt-Yt*Le[3+bt+9],pt[bt+18]=vt*Le[3+bt+9]+Yt}Gt(zt,Ht,pt)}}if(ct!=F.SHORT_TYPE&&Dt!=0)for(var bt=7;bt>=0;--bt){var Ae,ee;Ae=zt[Ht+bt]*_e[20+bt]+zt[Ht+-1-bt]*hi[28+bt],ee=zt[Ht+bt]*hi[28+bt]-zt[Ht+-1-bt]*_e[20+bt],zt[Ht+-1-bt]=Ae,zt[Ht+bt]=ee}}}if(ae=J,ne=286,Vt.mode_gr==1)for(var pe=0;pe<18;pe++)y.arraycopy(Vt.sb_sample[Zt][1][pe],0,Vt.sb_sample[Zt][0][pe],0,32)}}}var E=C,T=m.System,k=m.new_float,P=m.new_float_n;function R(){this.l=k(F.SBMAX_l),this.s=P([F.SBMAX_s,3]);var Xt=this;this.assign=function(ge){T.arraycopy(ge.l,0,Xt.l,0,F.SBMAX_l);for(var be=0;be<F.SBMAX_s;be++)for(var Se=0;Se<3;Se++)Xt.s[be][Se]=ge.s[be][Se]}}var M=R;function I(){this.thm=new M,this.en=new M}var B=I,D=m.System,N=m.VbrMode,_=m.new_array_n,G=m.new_float,$=m.new_float_n,V=m.new_int,Y=m.assert;U.ENCDELAY=576,U.POSTDELAY=1152,U.MDCTDELAY=48,U.FFTOFFSET=224+U.MDCTDELAY,U.DECDELAY=528,U.SBLIMIT=32,U.CBANDS=64,U.SBPSY_l=21,U.SBPSY_s=12,U.SBMAX_l=22,U.SBMAX_s=13,U.PSFB21=6,U.PSFB12=6,U.BLKSIZE=1024,U.HBLKSIZE=U.BLKSIZE/2+1,U.BLKSIZE_s=256,U.HBLKSIZE_s=U.BLKSIZE_s/2+1,U.NORM_TYPE=0,U.START_TYPE=1,U.SHORT_TYPE=2,U.STOP_TYPE=3,U.MPG_MD_LR_LR=0,U.MPG_MD_LR_I=1,U.MPG_MD_MS_LR=2,U.MPG_MD_MS_I=3,U.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function U(){var Xt=E,ge=B,be=U.FFTOFFSET,Se=U.MPG_MD_MS_LR,Le=null;this.psy=null;var me=null,_e=null,hi=null;this.setModules=function(Vt,Qt,J,ae){Le=Vt,this.psy=Qt,me=Qt,_e=ae,hi=J};var ai=new Xt;function se(Vt){var Qt,J;if(Vt.ATH.useAdjust==0){Vt.ATH.adjust=1;return}if(J=Vt.loudness_sq[0][0],Qt=Vt.loudness_sq[1][0],Vt.channels_out==2?(J+=Vt.loudness_sq[0][1],Qt+=Vt.loudness_sq[1][1]):(J+=J,Qt+=Qt),Vt.mode_gr==2&&(J=Math.max(J,Qt)),J*=.5,J*=Vt.ATH.aaSensitivityP,J>.03125)Vt.ATH.adjust>=1?Vt.ATH.adjust=1:Vt.ATH.adjust<Vt.ATH.adjustLimit&&(Vt.ATH.adjust=Vt.ATH.adjustLimit),Vt.ATH.adjustLimit=1;else{var ae=31.98*J+625e-6;Vt.ATH.adjust>=ae?(Vt.ATH.adjust*=ae*.075+.925,Vt.ATH.adjust<ae&&(Vt.ATH.adjust=ae)):Vt.ATH.adjustLimit>=ae?Vt.ATH.adjust=ae:Vt.ATH.adjust<Vt.ATH.adjustLimit&&(Vt.ATH.adjust=Vt.ATH.adjustLimit),Vt.ATH.adjustLimit=ae}}function Ge(Vt){var Qt,J;for(Y(0<=Vt.bitrate_index&&Vt.bitrate_index<16),Y(0<=Vt.mode_ext&&Vt.mode_ext<4),Vt.bitrate_stereoMode_Hist[Vt.bitrate_index][4]++,Vt.bitrate_stereoMode_Hist[15][4]++,Vt.channels_out==2&&(Vt.bitrate_stereoMode_Hist[Vt.bitrate_index][Vt.mode_ext]++,Vt.bitrate_stereoMode_Hist[15][Vt.mode_ext]++),Qt=0;Qt<Vt.mode_gr;++Qt)for(J=0;J<Vt.channels_out;++J){var ae=Vt.l3_side.tt[Qt][J].block_type|0;Vt.l3_side.tt[Qt][J].mixed_block_flag!=0&&(ae=4),Vt.bitrate_blockType_Hist[Vt.bitrate_index][ae]++,Vt.bitrate_blockType_Hist[Vt.bitrate_index][5]++,Vt.bitrate_blockType_Hist[15][ae]++,Vt.bitrate_blockType_Hist[15][5]++}}function Gt(Vt,Qt){var J=Vt.internal_flags,ae,ne;if(J.lame_encode_frame_init==0){var Zt,lt,Dt=G(2014),Ut=G(2014);for(J.lame_encode_frame_init=1,Zt=0,lt=0;Zt<286+576*(1+J.mode_gr);++Zt)Zt<576*J.mode_gr?(Dt[Zt]=0,J.channels_out==2&&(Ut[Zt]=0)):(Dt[Zt]=Qt[0][lt],J.channels_out==2&&(Ut[Zt]=Qt[1][lt]),++lt);for(ne=0;ne<J.mode_gr;ne++)for(ae=0;ae<J.channels_out;ae++)J.l3_side.tt[ne][ae].block_type=U.SHORT_TYPE;ai.mdct_sub48(J,Dt,Ut),Y(J.mf_size>=U.BLKSIZE+Vt.framesize-U.FFTOFFSET),Y(J.mf_size>=512+Vt.framesize-32)}}this.lame_encode_mp3_frame=function(Vt,Qt,J,ae,ne,Zt){var lt,Dt=_([2,2]);Dt[0][0]=new ge,Dt[0][1]=new ge,Dt[1][0]=new ge,Dt[1][1]=new ge;var Ut=_([2,2]);Ut[0][0]=new ge,Ut[0][1]=new ge,Ut[1][0]=new ge,Ut[1][1]=new ge;var zt,Ht=[null,null],nt=Vt.internal_flags,Rt=$([2,4]),bt=[.5,.5],ct=[[0,0],[0,0]],Tt=[[0,0],[0,0]],kt,ht,pt;if(Ht[0]=Qt,Ht[1]=J,nt.lame_encode_frame_init==0&&Gt(Vt,Ht),nt.padding=0,(nt.slot_lag-=nt.frac_SpF)<0&&(nt.slot_lag+=Vt.out_samplerate,nt.padding=1),nt.psymodel!=0){var vt,Yt=[null,null],Ae=0,ee=V(2);for(pt=0;pt<nt.mode_gr;pt++){for(ht=0;ht<nt.channels_out;ht++)Yt[ht]=Ht[ht],Ae=576+pt*576-U.FFTOFFSET;if(Vt.VBR==N.vbr_mtrh||Vt.VBR==N.vbr_mt?vt=me.L3psycho_anal_vbr(Vt,Yt,Ae,pt,Dt,Ut,ct[pt],Tt[pt],Rt[pt],ee):vt=me.L3psycho_anal_ns(Vt,Yt,Ae,pt,Dt,Ut,ct[pt],Tt[pt],Rt[pt],ee),vt!=0)return-4;for(Vt.mode==Nt.JOINT_STEREO&&(bt[pt]=Rt[pt][2]+Rt[pt][3],bt[pt]>0&&(bt[pt]=Rt[pt][3]/bt[pt])),ht=0;ht<nt.channels_out;ht++){var pe=nt.l3_side.tt[pt][ht];pe.block_type=ee[ht],pe.mixed_block_flag=0}}}else for(pt=0;pt<nt.mode_gr;pt++)for(ht=0;ht<nt.channels_out;ht++)nt.l3_side.tt[pt][ht].block_type=U.NORM_TYPE,nt.l3_side.tt[pt][ht].mixed_block_flag=0,Tt[pt][ht]=ct[pt][ht]=700;if(se(nt),ai.mdct_sub48(nt,Ht[0],Ht[1]),nt.mode_ext=U.MPG_MD_LR_LR,Vt.force_ms)nt.mode_ext=U.MPG_MD_MS_LR;else if(Vt.mode==Nt.JOINT_STEREO){var at=0,gt=0;for(pt=0;pt<nt.mode_gr;pt++)for(ht=0;ht<nt.channels_out;ht++)at+=Tt[pt][ht],gt+=ct[pt][ht];if(at<=1*gt){var Me=nt.l3_side.tt[0],wt=nt.l3_side.tt[nt.mode_gr-1];Me[0].block_type==Me[1].block_type&&wt[0].block_type==wt[1].block_type&&(nt.mode_ext=U.MPG_MD_MS_LR)}}if(nt.mode_ext==Se?(zt=Ut,kt=Tt):(zt=Dt,kt=ct),Vt.analysis&&nt.pinfo!=null)for(pt=0;pt<nt.mode_gr;pt++)for(ht=0;ht<nt.channels_out;ht++)nt.pinfo.ms_ratio[pt]=nt.ms_ratio[pt],nt.pinfo.ms_ener_ratio[pt]=bt[pt],nt.pinfo.blocktype[pt][ht]=nt.l3_side.tt[pt][ht].block_type,nt.pinfo.pe[pt][ht]=kt[pt][ht],D.arraycopy(nt.l3_side.tt[pt][ht].xr,0,nt.pinfo.xr[pt][ht],0,576),nt.mode_ext==Se&&(nt.pinfo.ers[pt][ht]=nt.pinfo.ers[pt][ht+2],D.arraycopy(nt.pinfo.energy[pt][ht+2],0,nt.pinfo.energy[pt][ht],0,nt.pinfo.energy[pt][ht].length));if(Vt.VBR==N.vbr_off||Vt.VBR==N.vbr_abr){var $t,te;for($t=0;$t<18;$t++)nt.nsPsy.pefirbuf[$t]=nt.nsPsy.pefirbuf[$t+1];for(te=0,pt=0;pt<nt.mode_gr;pt++)for(ht=0;ht<nt.channels_out;ht++)te+=kt[pt][ht];for(nt.nsPsy.pefirbuf[18]=te,te=nt.nsPsy.pefirbuf[9],$t=0;$t<9;$t++)te+=(nt.nsPsy.pefirbuf[$t]+nt.nsPsy.pefirbuf[18-$t])*U.fircoef[$t];for(te=670*5*nt.mode_gr*nt.channels_out/te,pt=0;pt<nt.mode_gr;pt++)for(ht=0;ht<nt.channels_out;ht++)kt[pt][ht]*=te}if(nt.iteration_loop.iteration_loop(Vt,kt,bt,zt),Le.format_bitstream(Vt),lt=Le.copy_buffer(nt,ae,ne,Zt,1),Vt.bWriteVbrTag&&_e.addVbrFrame(Vt),Vt.analysis&&nt.pinfo!=null){for(ht=0;ht<nt.channels_out;ht++){var re;for(re=0;re<be;re++)nt.pinfo.pcmdata[ht][re]=nt.pinfo.pcmdata[ht][re+Vt.framesize];for(re=be;re<1600;re++)nt.pinfo.pcmdata[ht][re]=Ht[ht][re-be]}hi.set_frame_pinfo(Vt,zt)}return Ge(nt),lt}}var F=U,O=m.Util,j=m.new_float;function z(){var Xt=j(F.BLKSIZE),ge=j(F.BLKSIZE_s/2),be=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function Se(me,_e,hi){var ai=0,se,Ge,Gt;hi<<=1;var Vt=_e+hi;se=4;do{var Qt,J,ae,ne,Zt,lt,Dt;Dt=se>>1,ne=se,Zt=se<<1,lt=Zt+ne,se=Zt<<1,Ge=_e,Gt=Ge+Dt;do{var Ut,zt,Ht,nt;zt=me[Ge+0]-me[Ge+ne],Ut=me[Ge+0]+me[Ge+ne],nt=me[Ge+Zt]-me[Ge+lt],Ht=me[Ge+Zt]+me[Ge+lt],me[Ge+Zt]=Ut-Ht,me[Ge+0]=Ut+Ht,me[Ge+lt]=zt-nt,me[Ge+ne]=zt+nt,zt=me[Gt+0]-me[Gt+ne],Ut=me[Gt+0]+me[Gt+ne],nt=O.SQRT2*me[Gt+lt],Ht=O.SQRT2*me[Gt+Zt],me[Gt+Zt]=Ut-Ht,me[Gt+0]=Ut+Ht,me[Gt+lt]=zt-nt,me[Gt+ne]=zt+nt,Gt+=se,Ge+=se}while(Ge<Vt);for(J=be[ai+0],Qt=be[ai+1],ae=1;ae<Dt;ae++){var Rt,bt;Rt=1-2*Qt*Qt,bt=2*Qt*J,Ge=_e+ae,Gt=_e+ne-ae;do{var ct,Tt,kt,Ut,zt,ht,Ht,pt,nt,vt;Tt=bt*me[Ge+ne]-Rt*me[Gt+ne],ct=Rt*me[Ge+ne]+bt*me[Gt+ne],zt=me[Ge+0]-ct,Ut=me[Ge+0]+ct,ht=me[Gt+0]-Tt,kt=me[Gt+0]+Tt,Tt=bt*me[Ge+lt]-Rt*me[Gt+lt],ct=Rt*me[Ge+lt]+bt*me[Gt+lt],nt=me[Ge+Zt]-ct,Ht=me[Ge+Zt]+ct,vt=me[Gt+Zt]-Tt,pt=me[Gt+Zt]+Tt,Tt=Qt*Ht-J*vt,ct=J*Ht+Qt*vt,me[Ge+Zt]=Ut-ct,me[Ge+0]=Ut+ct,me[Gt+lt]=ht-Tt,me[Gt+ne]=ht+Tt,Tt=J*pt-Qt*nt,ct=Qt*pt+J*nt,me[Gt+Zt]=kt-ct,me[Gt+0]=kt+ct,me[Ge+lt]=zt-Tt,me[Ge+ne]=zt+Tt,Gt+=se,Ge+=se}while(Ge<Vt);Rt=J,J=Rt*be[ai+0]-Qt*be[ai+1],Qt=Rt*be[ai+1]+Qt*be[ai+0]}ai+=2}while(se<hi)}var Le=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(me,_e,hi,ai,se){for(var Ge=0;Ge<3;Ge++){var Gt=F.BLKSIZE_s/2,Vt=65535&576/3*(Ge+1),Qt=F.BLKSIZE_s/8-1;do{var J,ae,ne,Zt,lt,Dt=Le[Qt<<2]&255;J=ge[Dt]*ai[hi][se+Dt+Vt],lt=ge[127-Dt]*ai[hi][se+Dt+Vt+128],ae=J-lt,J=J+lt,ne=ge[Dt+64]*ai[hi][se+Dt+Vt+64],lt=ge[63-Dt]*ai[hi][se+Dt+Vt+192],Zt=ne-lt,ne=ne+lt,Gt-=4,_e[Ge][Gt+0]=J+ne,_e[Ge][Gt+2]=J-ne,_e[Ge][Gt+1]=ae+Zt,_e[Ge][Gt+3]=ae-Zt,J=ge[Dt+1]*ai[hi][se+Dt+Vt+1],lt=ge[126-Dt]*ai[hi][se+Dt+Vt+129],ae=J-lt,J=J+lt,ne=ge[Dt+65]*ai[hi][se+Dt+Vt+65],lt=ge[62-Dt]*ai[hi][se+Dt+Vt+193],Zt=ne-lt,ne=ne+lt,_e[Ge][Gt+F.BLKSIZE_s/2+0]=J+ne,_e[Ge][Gt+F.BLKSIZE_s/2+2]=J-ne,_e[Ge][Gt+F.BLKSIZE_s/2+1]=ae+Zt,_e[Ge][Gt+F.BLKSIZE_s/2+3]=ae-Zt}while(--Qt>=0);Se(_e[Ge],Gt,F.BLKSIZE_s/2)}},this.fft_long=function(me,_e,hi,ai,se){var Ge=F.BLKSIZE/8-1,Gt=F.BLKSIZE/2;do{var Vt,Qt,J,ae,ne,Zt=Le[Ge]&255;Vt=Xt[Zt]*ai[hi][se+Zt],ne=Xt[Zt+512]*ai[hi][se+Zt+512],Qt=Vt-ne,Vt=Vt+ne,J=Xt[Zt+256]*ai[hi][se+Zt+256],ne=Xt[Zt+768]*ai[hi][se+Zt+768],ae=J-ne,J=J+ne,Gt-=4,_e[Gt+0]=Vt+J,_e[Gt+2]=Vt-J,_e[Gt+1]=Qt+ae,_e[Gt+3]=Qt-ae,Vt=Xt[Zt+1]*ai[hi][se+Zt+1],ne=Xt[Zt+513]*ai[hi][se+Zt+513],Qt=Vt-ne,Vt=Vt+ne,J=Xt[Zt+257]*ai[hi][se+Zt+257],ne=Xt[Zt+769]*ai[hi][se+Zt+769],ae=J-ne,J=J+ne,_e[Gt+F.BLKSIZE/2+0]=Vt+J,_e[Gt+F.BLKSIZE/2+2]=Vt-J,_e[Gt+F.BLKSIZE/2+1]=Qt+ae,_e[Gt+F.BLKSIZE/2+3]=Qt-ae}while(--Ge>=0);Se(_e,Gt,F.BLKSIZE/2)},this.init_fft=function(me){for(var _e=0;_e<F.BLKSIZE;_e++)Xt[_e]=.42-.5*Math.cos(2*Math.PI*(_e+.5)/F.BLKSIZE)+.08*Math.cos(4*Math.PI*(_e+.5)/F.BLKSIZE);for(var _e=0;_e<F.BLKSIZE_s/2;_e++)ge[_e]=.5*(1-Math.cos(2*Math.PI*(_e+.5)/F.BLKSIZE_s))}}var W=z,q=m.VbrMode,ot=m.Float,Q=m.ShortBlock,rt=m.Util,Mt=m.Arrays,K=m.new_float,It=m.new_float_n,Ft=m.new_int,ft=m.assert;function yt(){var Xt=new W,ge=2.302585092994046,be=2,Se=16,Le=2,me=16,_e=.34,hi=1/(14752*14752)/(F.BLKSIZE/2),ai=.01,se=.8,Ge=.6,Gt=.3,Vt=3.5,Qt=21,J=.2302585093;function ae(Lt){return Lt}function ne(Lt,jt){for(var qt=0,oe=0;oe<F.BLKSIZE/2;++oe)qt+=Lt[oe]*jt.ATH.eql_w[oe];return qt*=hi,qt}function Zt(Lt,jt,qt,oe,Te,Kt,we,De,ye,Ve,Pe){var We=Lt.internal_flags;if(ye<2)Xt.fft_long(We,oe[Te],ye,Ve,Pe),Xt.fft_short(We,Kt[we],ye,Ve,Pe);else if(ye==2){for(var bi=F.BLKSIZE-1;bi>=0;--bi){var Xi=oe[Te+0][bi],ii=oe[Te+1][bi];oe[Te+0][bi]=(Xi+ii)*rt.SQRT2*.5,oe[Te+1][bi]=(Xi-ii)*rt.SQRT2*.5}for(var Vi=2;Vi>=0;--Vi)for(var bi=F.BLKSIZE_s-1;bi>=0;--bi){var Xi=Kt[we+0][Vi][bi],ii=Kt[we+1][Vi][bi];Kt[we+0][Vi][bi]=(Xi+ii)*rt.SQRT2*.5,Kt[we+1][Vi][bi]=(Xi-ii)*rt.SQRT2*.5}}jt[0]=oe[Te+0][0],jt[0]*=jt[0];for(var bi=F.BLKSIZE/2-1;bi>=0;--bi){var je=oe[Te+0][F.BLKSIZE/2-bi],Ii=oe[Te+0][F.BLKSIZE/2+bi];jt[F.BLKSIZE/2-bi]=(je*je+Ii*Ii)*.5}for(var Vi=2;Vi>=0;--Vi){qt[Vi][0]=Kt[we+0][Vi][0],qt[Vi][0]*=qt[Vi][0];for(var bi=F.BLKSIZE_s/2-1;bi>=0;--bi){var je=Kt[we+0][Vi][F.BLKSIZE_s/2-bi],Ii=Kt[we+0][Vi][F.BLKSIZE_s/2+bi];qt[Vi][F.BLKSIZE_s/2-bi]=(je*je+Ii*Ii)*.5}}{for(var mr=0,bi=11;bi<F.HBLKSIZE;bi++)mr+=jt[bi];We.tot_ener[ye]=mr}if(Lt.analysis){for(var bi=0;bi<F.HBLKSIZE;bi++)We.pinfo.energy[De][ye][bi]=We.pinfo.energy_save[ye][bi],We.pinfo.energy_save[ye][bi]=jt[bi];We.pinfo.pe[De][ye]=We.pe[ye]}Lt.athaa_loudapprox==2&&ye<2&&(We.loudness_sq[De][ye]=We.loudness_sq_save[ye],We.loudness_sq_save[ye]=ne(jt,We))}var lt=8,Dt=23,Ut=15,zt,Ht,nt,Rt=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function bt(){zt=Math.pow(10,(lt+1)/16),Ht=Math.pow(10,(Dt+1)/16),nt=Math.pow(10,Ut/10)}var ct=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],Tt=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],kt=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function ht(Lt,jt,qt,oe,Te,Kt){var we;if(jt>Lt)if(jt<Lt*Ht)we=jt/Lt;else return Lt+jt;else{if(Lt>=jt*Ht)return Lt+jt;we=Lt/jt}if(Lt+=jt,oe+3<=6){if(we>=zt)return Lt;var De=0|rt.FAST_LOG10_X(we,16);return Lt*Tt[De]}var De=0|rt.FAST_LOG10_X(we,16);if(jt=Te.ATH.cb_l[qt]*Te.ATH.adjust,Lt<nt*jt){if(Lt>jt){var ye,Ve;return ye=1,De<=13&&(ye=kt[De]),Ve=rt.FAST_LOG10_X(Lt/jt,10/15),Lt*((ct[De]-ye)*Ve+ye)}return De>13?Lt:Lt*kt[De]}return Lt*ct[De]}var pt=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function vt(Lt,jt,qt){var oe;if(Lt<0&&(Lt=0),jt<0&&(jt=0),Lt<=0)return jt;if(jt<=0)return Lt;if(jt>Lt?oe=jt/Lt:oe=Lt/jt,-2<=qt&&qt<=2){if(oe>=zt)return Lt+jt;var Te=0|rt.FAST_LOG10_X(oe,16);return(Lt+jt)*pt[Te]}return oe<Ht?Lt+jt:(Lt<jt&&(Lt=jt),Lt)}function Yt(Lt,jt){var qt=Lt.internal_flags;if(qt.channels_out>1){for(var oe=0;oe<F.SBMAX_l;oe++){var Te=qt.thm[0].l[oe],Kt=qt.thm[1].l[oe];qt.thm[0].l[oe]+=Kt*jt,qt.thm[1].l[oe]+=Te*jt}for(var oe=0;oe<F.SBMAX_s;oe++)for(var we=0;we<3;we++){var Te=qt.thm[0].s[oe][we],Kt=qt.thm[1].s[oe][we];qt.thm[0].s[oe][we]+=Kt*jt,qt.thm[1].s[oe][we]+=Te*jt}}}function Ae(Lt){for(var jt=0;jt<F.SBMAX_l;jt++)if(!(Lt.thm[0].l[jt]>1.58*Lt.thm[1].l[jt]||Lt.thm[1].l[jt]>1.58*Lt.thm[0].l[jt])){var qt=Lt.mld_l[jt]*Lt.en[3].l[jt],oe=Math.max(Lt.thm[2].l[jt],Math.min(Lt.thm[3].l[jt],qt));qt=Lt.mld_l[jt]*Lt.en[2].l[jt];var Te=Math.max(Lt.thm[3].l[jt],Math.min(Lt.thm[2].l[jt],qt));Lt.thm[2].l[jt]=oe,Lt.thm[3].l[jt]=Te}for(var jt=0;jt<F.SBMAX_s;jt++)for(var Kt=0;Kt<3;Kt++)if(!(Lt.thm[0].s[jt][Kt]>1.58*Lt.thm[1].s[jt][Kt]||Lt.thm[1].s[jt][Kt]>1.58*Lt.thm[0].s[jt][Kt])){var qt=Lt.mld_s[jt]*Lt.en[3].s[jt][Kt],oe=Math.max(Lt.thm[2].s[jt][Kt],Math.min(Lt.thm[3].s[jt][Kt],qt));qt=Lt.mld_s[jt]*Lt.en[2].s[jt][Kt];var Te=Math.max(Lt.thm[3].s[jt][Kt],Math.min(Lt.thm[2].s[jt][Kt],qt));Lt.thm[2].s[jt][Kt]=oe,Lt.thm[3].s[jt][Kt]=Te}}function ee(Lt,jt,qt){var oe=jt,Te=Math.pow(10,qt);jt*=2,oe*=2;for(var Kt=0;Kt<F.SBMAX_l;Kt++){var we,De,ye,Ve;if(Ve=Lt.ATH.cb_l[Lt.bm_l[Kt]]*Te,we=Math.min(Math.max(Lt.thm[0].l[Kt],Ve),Math.max(Lt.thm[1].l[Kt],Ve)),De=Math.max(Lt.thm[2].l[Kt],Ve),ye=Math.max(Lt.thm[3].l[Kt],Ve),we*jt<De+ye){var Pe=we*oe/(De+ye);De*=Pe,ye*=Pe}Lt.thm[2].l[Kt]=Math.min(De,Lt.thm[2].l[Kt]),Lt.thm[3].l[Kt]=Math.min(ye,Lt.thm[3].l[Kt])}Te*=F.BLKSIZE_s/F.BLKSIZE;for(var Kt=0;Kt<F.SBMAX_s;Kt++)for(var We=0;We<3;We++){var we,De,ye,Ve;if(Ve=Lt.ATH.cb_s[Lt.bm_s[Kt]]*Te,we=Math.min(Math.max(Lt.thm[0].s[Kt][We],Ve),Math.max(Lt.thm[1].s[Kt][We],Ve)),De=Math.max(Lt.thm[2].s[Kt][We],Ve),ye=Math.max(Lt.thm[3].s[Kt][We],Ve),we*jt<De+ye){var Pe=we*jt/(De+ye);De*=Pe,ye*=Pe}Lt.thm[2].s[Kt][We]=Math.min(Lt.thm[2].s[Kt][We],De),Lt.thm[3].s[Kt][We]=Math.min(Lt.thm[3].s[Kt][We],ye)}}function pe(Lt,jt,qt,oe,Te){var Kt,we,De=0,ye=0;for(Kt=we=0;Kt<F.SBMAX_s;++we,++Kt){for(var Ve=Lt.bo_s[Kt],Pe=Lt.npart_s,We=Ve<Pe?Ve:Pe;we<We;)ft(jt[we]>=0),ft(qt[we]>=0),De+=jt[we],ye+=qt[we],we++;if(Lt.en[oe].s[Kt][Te]=De,Lt.thm[oe].s[Kt][Te]=ye,we>=Pe){++Kt;break}ft(jt[we]>=0),ft(qt[we]>=0);{var bi=Lt.PSY.bo_s_weight[Kt],Xi=1-bi;De=bi*jt[we],ye=bi*qt[we],Lt.en[oe].s[Kt][Te]+=De,Lt.thm[oe].s[Kt][Te]+=ye,De=Xi*jt[we],ye=Xi*qt[we]}}for(;Kt<F.SBMAX_s;++Kt)Lt.en[oe].s[Kt][Te]=0,Lt.thm[oe].s[Kt][Te]=0}function at(Lt,jt,qt,oe){var Te,Kt,we=0,De=0;for(Te=Kt=0;Te<F.SBMAX_l;++Kt,++Te){for(var ye=Lt.bo_l[Te],Ve=Lt.npart_l,Pe=ye<Ve?ye:Ve;Kt<Pe;)ft(jt[Kt]>=0),ft(qt[Kt]>=0),we+=jt[Kt],De+=qt[Kt],Kt++;if(Lt.en[oe].l[Te]=we,Lt.thm[oe].l[Te]=De,Kt>=Ve){++Te;break}ft(jt[Kt]>=0),ft(qt[Kt]>=0);{var We=Lt.PSY.bo_l_weight[Te],bi=1-We;we=We*jt[Kt],De=We*qt[Kt],Lt.en[oe].l[Te]+=we,Lt.thm[oe].l[Te]+=De,we=bi*jt[Kt],De=bi*qt[Kt]}}for(;Te<F.SBMAX_l;++Te)Lt.en[oe].l[Te]=0,Lt.thm[oe].l[Te]=0}function gt(Lt,jt,qt,oe,Te,Kt){var we=Lt.internal_flags,De,ye;for(ye=De=0;ye<we.npart_s;++ye){for(var Ve=0,Pe=we.numlines_s[ye],We=0;We<Pe;++We,++De){var bi=jt[Kt][De];Ve+=bi}qt[ye]=Ve}for(ft(ye==we.npart_s),De=ye=0;ye<we.npart_s;ye++){var Xi=we.s3ind_s[ye][0],ii=we.s3_ss[De++]*qt[Xi];for(++Xi;Xi<=we.s3ind_s[ye][1];)ii+=we.s3_ss[De]*qt[Xi],++De,++Xi;{var Vi=Le*we.nb_s1[Te][ye];oe[ye]=Math.min(ii,Vi)}if(we.blocktype_old[Te&1]==F.SHORT_TYPE){var Vi=me*we.nb_s2[Te][ye],je=oe[ye];oe[ye]=Math.min(Vi,je)}we.nb_s2[Te][ye]=we.nb_s1[Te][ye],we.nb_s1[Te][ye]=ii,ft(oe[ye]>=0)}for(;ye<=F.CBANDS;++ye)qt[ye]=0,oe[ye]=0}function Me(Lt,jt,qt,oe){var Te=Lt.internal_flags;Lt.short_blocks==Q.short_block_coupled&&!(jt[0]!=0&&jt[1]!=0)&&(jt[0]=jt[1]=0);for(var Kt=0;Kt<Te.channels_out;Kt++)oe[Kt]=F.NORM_TYPE,Lt.short_blocks==Q.short_block_dispensed&&(jt[Kt]=1),Lt.short_blocks==Q.short_block_forced&&(jt[Kt]=0),jt[Kt]!=0?(ft(Te.blocktype_old[Kt]!=F.START_TYPE),Te.blocktype_old[Kt]==F.SHORT_TYPE&&(oe[Kt]=F.STOP_TYPE)):(oe[Kt]=F.SHORT_TYPE,Te.blocktype_old[Kt]==F.NORM_TYPE&&(Te.blocktype_old[Kt]=F.START_TYPE),Te.blocktype_old[Kt]==F.STOP_TYPE&&(Te.blocktype_old[Kt]=F.SHORT_TYPE)),qt[Kt]=Te.blocktype_old[Kt],Te.blocktype_old[Kt]=oe[Kt]}function wt(Lt,jt,qt){return qt>=1?Lt:qt<=0?jt:jt>0?Math.pow(Lt/jt,qt)*jt:0}var $t=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function te(Lt,jt){for(var qt=309.07,oe=0;oe<F.SBMAX_s-1;oe++)for(var Te=0;Te<3;Te++){var Kt=Lt.thm.s[oe][Te];if(Kt>0){var we=Kt*jt,De=Lt.en.s[oe][Te];De>we&&(De>we*1e10?qt+=$t[oe]*(10*ge):qt+=$t[oe]*rt.FAST_LOG10(De/we))}}return qt}var re=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function de(Lt,jt){for(var qt=281.0575,oe=0;oe<F.SBMAX_l-1;oe++){var Te=Lt.thm.l[oe];if(Te>0){var Kt=Te*jt,we=Lt.en.l[oe];we>Kt&&(we>Kt*1e10?qt+=re[oe]*(10*ge):qt+=re[oe]*rt.FAST_LOG10(we/Kt))}}return qt}function Je(Lt,jt,qt,oe,Te){var Kt,we;for(Kt=we=0;Kt<Lt.npart_l;++Kt){var De=0,ye=0,Ve;for(Ve=0;Ve<Lt.numlines_l[Kt];++Ve,++we){var Pe=jt[we];De+=Pe,ye<Pe&&(ye=Pe)}qt[Kt]=De,oe[Kt]=ye,Te[Kt]=De*Lt.rnumlines_l[Kt],ft(Lt.rnumlines_l[Kt]>=0),ft(qt[Kt]>=0),ft(oe[Kt]>=0),ft(Te[Kt]>=0)}}function ze(Lt,jt,qt,oe){var Te=Rt.length-1,Kt=0,we=qt[Kt]+qt[Kt+1];if(we>0){var De=jt[Kt];De<jt[Kt+1]&&(De=jt[Kt+1]),ft(Lt.numlines_l[Kt]+Lt.numlines_l[Kt+1]-1>0),we=20*(De*2-we)/(we*(Lt.numlines_l[Kt]+Lt.numlines_l[Kt+1]-1));var ye=0|we;ye>Te&&(ye=Te),oe[Kt]=ye}else oe[Kt]=0;for(Kt=1;Kt<Lt.npart_l-1;Kt++)if(we=qt[Kt-1]+qt[Kt]+qt[Kt+1],we>0){var De=jt[Kt-1];De<jt[Kt]&&(De=jt[Kt]),De<jt[Kt+1]&&(De=jt[Kt+1]),ft(Lt.numlines_l[Kt-1]+Lt.numlines_l[Kt]+Lt.numlines_l[Kt+1]-1>0),we=20*(De*3-we)/(we*(Lt.numlines_l[Kt-1]+Lt.numlines_l[Kt]+Lt.numlines_l[Kt+1]-1));var ye=0|we;ye>Te&&(ye=Te),oe[Kt]=ye}else oe[Kt]=0;if(ft(Kt==Lt.npart_l-1),we=qt[Kt-1]+qt[Kt],we>0){var De=jt[Kt-1];De<jt[Kt]&&(De=jt[Kt]),ft(Lt.numlines_l[Kt-1]+Lt.numlines_l[Kt]-1>0),we=20*(De*2-we)/(we*(Lt.numlines_l[Kt-1]+Lt.numlines_l[Kt]-1));var ye=0|we;ye>Te&&(ye=Te),oe[Kt]=ye}else oe[Kt]=0;ft(Kt==Lt.npart_l-1)}var Ie=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(Lt,jt,qt,oe,Te,Kt,we,De,ye,Ve){var Pe=Lt.internal_flags,We=It([2,F.BLKSIZE]),bi=It([2,3,F.BLKSIZE_s]),Xi=K(F.CBANDS+1),ii=K(F.CBANDS+1),Vi=K(F.CBANDS+2),je=Ft(2),Ii=Ft(2),mr,ri,Bi,ni,Qi,wn,Si,or,wr=It([2,576]),Gn,fo=Ft(F.CBANDS+2),ds=Ft(F.CBANDS+2);for(Mt.fill(ds,0),mr=Pe.channels_out,Lt.mode==Nt.JOINT_STEREO&&(mr=4),Lt.VBR==q.vbr_off?Gn=Pe.ResvMax==0?0:Pe.ResvSize/Pe.ResvMax*.5:Lt.VBR==q.vbr_rh||Lt.VBR==q.vbr_mtrh||Lt.VBR==q.vbr_mt?Gn=.6:Gn=1,ri=0;ri<Pe.channels_out;ri++){var Hn=jt[ri],Wa=qt+576-350-Qt+192;for(ni=0;ni<576;ni++){var po,vo;for(po=Hn[Wa+ni+10],vo=0,Qi=0;Qi<(Qt-1)/2-1;Qi+=2)po+=Ie[Qi]*(Hn[Wa+ni+Qi]+Hn[Wa+ni+Qt-Qi]),vo+=Ie[Qi+1]*(Hn[Wa+ni+Qi+1]+Hn[Wa+ni+Qt-Qi-1]);wr[ri][ni]=po+vo}Te[oe][ri].en.assign(Pe.en[ri]),Te[oe][ri].thm.assign(Pe.thm[ri]),mr>2&&(Kt[oe][ri].en.assign(Pe.en[ri+2]),Kt[oe][ri].thm.assign(Pe.thm[ri+2]))}for(ri=0;ri<mr;ri++){var ul,hl,va=K(12),Zl=[0,0,0,0],Lf=K(12),sb=1,v4,m4=K(F.CBANDS),g4=K(F.CBANDS),$n=[0,0,0,0],y4=K(F.HBLKSIZE),x4=It([3,F.HBLKSIZE_s]);for(ft(Pe.npart_s<=F.CBANDS),ft(Pe.npart_l<=F.CBANDS),ni=0;ni<3;ni++)va[ni]=Pe.nsPsy.last_en_subshort[ri][ni+6],ft(Pe.nsPsy.last_en_subshort[ri][ni+4]>0),Lf[ni]=va[ni]/Pe.nsPsy.last_en_subshort[ri][ni+4],Zl[0]+=va[ni];if(ri==2)for(ni=0;ni<576;ni++){var ab,ob;ab=wr[0][ni],ob=wr[1][ni],wr[0][ni]=ab+ob,wr[1][ni]=ab-ob}{var b4=wr[ri&1],Ep=0;for(ni=0;ni<9;ni++){for(var RU=Ep+64,Vs=1;Ep<RU;Ep++)Vs<Math.abs(b4[Ep])&&(Vs=Math.abs(b4[Ep]));Pe.nsPsy.last_en_subshort[ri][ni]=va[ni+3]=Vs,Zl[1+ni/3]+=Vs,Vs>va[ni+3-2]?(ft(va[ni+3-2]>0),Vs=Vs/va[ni+3-2]):va[ni+3-2]>Vs*10?Vs=va[ni+3-2]/(Vs*10):Vs=0,Lf[ni+3]=Vs}}if(Lt.analysis){var lb=Lf[0];for(ni=1;ni<12;ni++)lb<Lf[ni]&&(lb=Lf[ni]);Pe.pinfo.ers[oe][ri]=Pe.pinfo.ers_save[ri],Pe.pinfo.ers_save[ri]=lb}for(v4=ri==3?Pe.nsPsy.attackthre_s:Pe.nsPsy.attackthre,ni=0;ni<12;ni++)$n[ni/3]==0&&Lf[ni]>v4&&($n[ni/3]=ni%3+1);for(ni=1;ni<4;ni++){var ub;Zl[ni-1]>Zl[ni]?(ft(Zl[ni]>0),ub=Zl[ni-1]/Zl[ni]):(ft(Zl[ni-1]>0),ub=Zl[ni]/Zl[ni-1]),ub<1.7&&($n[ni]=0,ni==1&&($n[0]=0))}for($n[0]!=0&&Pe.nsPsy.lastAttacks[ri]!=0&&($n[0]=0),(Pe.nsPsy.lastAttacks[ri]==3||$n[0]+$n[1]+$n[2]+$n[3]!=0)&&(sb=0,$n[1]!=0&&$n[0]!=0&&($n[1]=0),$n[2]!=0&&$n[1]!=0&&($n[2]=0),$n[3]!=0&&$n[2]!=0&&($n[3]=0)),ri<2?Ii[ri]=sb:sb==0&&(Ii[0]=Ii[1]=0),ye[ri]=Pe.tot_ener[ri],hl=bi,ul=We,Zt(Lt,y4,x4,ul,ri&1,hl,ri&1,oe,ri,jt,qt),Je(Pe,y4,Xi,m4,g4),ze(Pe,m4,g4,fo),or=0;or<3;or++){var hb,Ya;for(gt(Lt,x4,ii,Vi,ri,or),pe(Pe,ii,Vi,ri,or),Si=0;Si<F.SBMAX_s;Si++){if(Ya=Pe.thm[ri].s[Si][or],Ya*=se,$n[or]>=2||$n[or+1]==1){var kp=or!=0?or-1:2,Vs=wt(Pe.thm[ri].s[Si][kp],Ya,Ge*Gn);Ya=Math.min(Ya,Vs)}if($n[or]==1){var kp=or!=0?or-1:2,Vs=wt(Pe.thm[ri].s[Si][kp],Ya,Gt*Gn);Ya=Math.min(Ya,Vs)}else if(or!=0&&$n[or-1]==3||or==0&&Pe.nsPsy.lastAttacks[ri]==3){var kp=or!=2?or+1:0,Vs=wt(Pe.thm[ri].s[Si][kp],Ya,Gt*Gn);Ya=Math.min(Ya,Vs)}hb=va[or*3+3]+va[or*3+4]+va[or*3+5],va[or*3+5]*6<hb&&(Ya*=.5,va[or*3+4]*6<hb&&(Ya*=.5)),Pe.thm[ri].s[Si][or]=Ya}}for(Pe.nsPsy.lastAttacks[ri]=$n[2],wn=0,Bi=0;Bi<Pe.npart_l;Bi++){for(var Fc=Pe.s3ind[Bi][0],cb=Xi[Fc]*Rt[fo[Fc]],Lc=Pe.s3_ll[wn++]*cb;++Fc<=Pe.s3ind[Bi][1];)cb=Xi[Fc]*Rt[fo[Fc]],Lc=ht(Lc,Pe.s3_ll[wn++]*cb,Fc,Fc-Bi,Pe);Lc*=.158489319246111,Pe.blocktype_old[ri&1]==F.SHORT_TYPE?Vi[Bi]=Lc:Vi[Bi]=wt(Math.min(Lc,Math.min(be*Pe.nb_1[ri][Bi],Se*Pe.nb_2[ri][Bi])),Lc,Gn),Pe.nb_2[ri][Bi]=Pe.nb_1[ri][Bi],Pe.nb_1[ri][Bi]=Lc}for(;Bi<=F.CBANDS;++Bi)Xi[Bi]=0,Vi[Bi]=0;at(Pe,Xi,Vi,ri)}if((Lt.mode==Nt.STEREO||Lt.mode==Nt.JOINT_STEREO)&&Lt.interChRatio>0&&Yt(Lt,Lt.interChRatio),Lt.mode==Nt.JOINT_STEREO){var fb;Ae(Pe),fb=Lt.msfix,Math.abs(fb)>0&&ee(Pe,fb,Lt.ATHlower*Pe.ATH.adjust)}for(Me(Lt,Ii,Ve,je),ri=0;ri<mr;ri++){var Dp,Ap=0,T0,C0;ri>1?(Dp=De,Ap=-2,T0=F.NORM_TYPE,(Ve[0]==F.SHORT_TYPE||Ve[1]==F.SHORT_TYPE)&&(T0=F.SHORT_TYPE),C0=Kt[oe][ri-2]):(Dp=we,Ap=0,T0=Ve[ri],C0=Te[oe][ri]),T0==F.SHORT_TYPE?Dp[Ap+ri]=te(C0,Pe.masking_lower):Dp[Ap+ri]=de(C0,Pe.masking_lower),Lt.analysis&&(Pe.pinfo.pe[oe][ri]=Dp[Ap+ri])}return 0};function ci(Lt,jt,qt,oe,Te,Kt,we,De){var ye=Lt.internal_flags;if(oe<2)Xt.fft_long(ye,we[De],oe,jt,qt);else if(oe==2)for(var Ve=F.BLKSIZE-1;Ve>=0;--Ve){var Pe=we[De+0][Ve],We=we[De+1][Ve];we[De+0][Ve]=(Pe+We)*rt.SQRT2*.5,we[De+1][Ve]=(Pe-We)*rt.SQRT2*.5}Kt[0]=we[De+0][0],Kt[0]*=Kt[0];for(var Ve=F.BLKSIZE/2-1;Ve>=0;--Ve){var bi=we[De+0][F.BLKSIZE/2-Ve],Xi=we[De+0][F.BLKSIZE/2+Ve];Kt[F.BLKSIZE/2-Ve]=(bi*bi+Xi*Xi)*.5}{for(var ii=0,Ve=11;Ve<F.HBLKSIZE;Ve++)ii+=Kt[Ve];ye.tot_ener[oe]=ii}if(Lt.analysis){for(var Ve=0;Ve<F.HBLKSIZE;Ve++)ye.pinfo.energy[Te][oe][Ve]=ye.pinfo.energy_save[oe][Ve],ye.pinfo.energy_save[oe][Ve]=Kt[Ve];ye.pinfo.pe[Te][oe]=ye.pe[oe]}}function rr(Lt,jt,qt,oe,Te,Kt,we,De){var ye=Lt.internal_flags;if(Te==0&&oe<2&&Xt.fft_short(ye,we[De],oe,jt,qt),oe==2)for(var Ve=F.BLKSIZE_s-1;Ve>=0;--Ve){var Pe=we[De+0][Te][Ve],We=we[De+1][Te][Ve];we[De+0][Te][Ve]=(Pe+We)*rt.SQRT2*.5,we[De+1][Te][Ve]=(Pe-We)*rt.SQRT2*.5}Kt[Te][0]=we[De+0][Te][0],Kt[Te][0]*=Kt[Te][0];for(var Ve=F.BLKSIZE_s/2-1;Ve>=0;--Ve){var bi=we[De+0][Te][F.BLKSIZE_s/2-Ve],Xi=we[De+0][Te][F.BLKSIZE_s/2+Ve];Kt[Te][F.BLKSIZE_s/2-Ve]=(bi*bi+Xi*Xi)*.5}}function ki(Lt,jt,qt,oe){var Te=Lt.internal_flags;Lt.athaa_loudapprox==2&&qt<2&&(Te.loudness_sq[jt][qt]=Te.loudness_sq_save[qt],Te.loudness_sq_save[qt]=ne(oe,Te))}var Ni=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function Yi(Lt,jt,qt,oe,Te,Kt,we,De,ye,Ve){for(var Pe=It([2,576]),We=Lt.internal_flags,bi=We.channels_out,Xi=Lt.mode==Nt.JOINT_STEREO?4:bi,ii=0;ii<bi;ii++){firbuf=jt[ii];for(var Vi=qt+576-350-Qt+192,je=0;je<576;je++){var Ii,mr;Ii=firbuf[Vi+je+10],mr=0;for(var ri=0;ri<(Qt-1)/2-1;ri+=2)Ii+=Ni[ri]*(firbuf[Vi+je+ri]+firbuf[Vi+je+Qt-ri]),mr+=Ni[ri+1]*(firbuf[Vi+je+ri+1]+firbuf[Vi+je+Qt-ri-1]);Pe[ii][je]=Ii+mr}Te[oe][ii].en.assign(We.en[ii]),Te[oe][ii].thm.assign(We.thm[ii]),Xi>2&&(Kt[oe][ii].en.assign(We.en[ii+2]),Kt[oe][ii].thm.assign(We.thm[ii+2]))}for(var ii=0;ii<Xi;ii++){var Bi=K(12),ni=K(12),Qi=[0,0,0,0],wn=Pe[ii&1],Si=0,or=ii==3?We.nsPsy.attackthre_s:We.nsPsy.attackthre,wr=1;if(ii==2)for(var je=0,ri=576;ri>0;++je,--ri){var Gn=Pe[0][je],fo=Pe[1][je];Pe[0][je]=Gn+fo,Pe[1][je]=Gn-fo}for(var je=0;je<3;je++)ni[je]=We.nsPsy.last_en_subshort[ii][je+6],ft(We.nsPsy.last_en_subshort[ii][je+4]>0),Bi[je]=ni[je]/We.nsPsy.last_en_subshort[ii][je+4],Qi[0]+=ni[je];for(var je=0;je<9;je++){for(var ds=Si+64,Hn=1;Si<ds;Si++)Hn<Math.abs(wn[Si])&&(Hn=Math.abs(wn[Si]));We.nsPsy.last_en_subshort[ii][je]=ni[je+3]=Hn,Qi[1+je/3]+=Hn,Hn>ni[je+3-2]?(ft(ni[je+3-2]>0),Hn=Hn/ni[je+3-2]):ni[je+3-2]>Hn*10?Hn=ni[je+3-2]/(Hn*10):Hn=0,Bi[je+3]=Hn}for(var je=0;je<3;++je){var Wa=ni[je*3+3]+ni[je*3+4]+ni[je*3+5],po=1;ni[je*3+5]*6<Wa&&(po*=.5,ni[je*3+4]*6<Wa&&(po*=.5)),De[ii][je]=po}if(Lt.analysis){for(var vo=Bi[0],je=1;je<12;je++)vo<Bi[je]&&(vo=Bi[je]);We.pinfo.ers[oe][ii]=We.pinfo.ers_save[ii],We.pinfo.ers_save[ii]=vo}for(var je=0;je<12;je++)ye[ii][je/3]==0&&Bi[je]>or&&(ye[ii][je/3]=je%3+1);for(var je=1;je<4;je++){var ul=Qi[je-1],hl=Qi[je],va=Math.max(ul,hl);va<4e4&&ul<1.7*hl&&hl<1.7*ul&&(je==1&&ye[ii][0]<=ye[ii][je]&&(ye[ii][0]=0),ye[ii][je]=0)}ye[ii][0]<=We.nsPsy.lastAttacks[ii]&&(ye[ii][0]=0),(We.nsPsy.lastAttacks[ii]==3||ye[ii][0]+ye[ii][1]+ye[ii][2]+ye[ii][3]!=0)&&(wr=0,ye[ii][1]!=0&&ye[ii][0]!=0&&(ye[ii][1]=0),ye[ii][2]!=0&&ye[ii][1]!=0&&(ye[ii][2]=0),ye[ii][3]!=0&&ye[ii][2]!=0&&(ye[ii][3]=0)),ii<2?Ve[ii]=wr:wr==0&&(Ve[0]=Ve[1]=0),we[ii]=We.tot_ener[ii]}}function Mi(Lt,jt,qt){if(qt==0)for(var oe=0;oe<Lt.npart_s;oe++)Lt.nb_s2[jt][oe]=Lt.nb_s1[jt][oe],Lt.nb_s1[jt][oe]=0}function Ar(Lt,jt){for(var qt=0;qt<Lt.npart_l;qt++)Lt.nb_2[jt][qt]=Lt.nb_1[jt][qt],Lt.nb_1[jt][qt]=0}function mn(Lt,jt,qt,oe){var Te=Rt.length-1,Kt=0,we=qt[Kt]+qt[Kt+1];if(we>0){var De=jt[Kt];De<jt[Kt+1]&&(De=jt[Kt+1]),ft(Lt.numlines_s[Kt]+Lt.numlines_s[Kt+1]-1>0),we=20*(De*2-we)/(we*(Lt.numlines_s[Kt]+Lt.numlines_s[Kt+1]-1));var ye=0|we;ye>Te&&(ye=Te),oe[Kt]=ye}else oe[Kt]=0;for(Kt=1;Kt<Lt.npart_s-1;Kt++)if(we=qt[Kt-1]+qt[Kt]+qt[Kt+1],ft(Kt+1<Lt.npart_s),we>0){var De=jt[Kt-1];De<jt[Kt]&&(De=jt[Kt]),De<jt[Kt+1]&&(De=jt[Kt+1]),ft(Lt.numlines_s[Kt-1]+Lt.numlines_s[Kt]+Lt.numlines_s[Kt+1]-1>0),we=20*(De*3-we)/(we*(Lt.numlines_s[Kt-1]+Lt.numlines_s[Kt]+Lt.numlines_s[Kt+1]-1));var ye=0|we;ye>Te&&(ye=Te),oe[Kt]=ye}else oe[Kt]=0;if(ft(Kt==Lt.npart_s-1),we=qt[Kt-1]+qt[Kt],we>0){var De=jt[Kt-1];De<jt[Kt]&&(De=jt[Kt]),ft(Lt.numlines_s[Kt-1]+Lt.numlines_s[Kt]-1>0),we=20*(De*2-we)/(we*(Lt.numlines_s[Kt-1]+Lt.numlines_s[Kt]-1));var ye=0|we;ye>Te&&(ye=Te),oe[Kt]=ye}else oe[Kt]=0;ft(Kt==Lt.npart_s-1)}function Qr(Lt,jt,qt,oe,Te,Kt){var we=Lt.internal_flags,De=new float[F.CBANDS],ye=K(F.CBANDS),Ve,Pe,We,bi=new int[F.CBANDS];for(We=Pe=0;We<we.npart_s;++We){var Xi=0,ii=0,Vi=we.numlines_s[We];for(Ve=0;Ve<Vi;++Ve,++Pe){var je=jt[Kt][Pe];Xi+=je,ii<je&&(ii=je)}qt[We]=Xi,De[We]=ii,ye[We]=Xi/Vi,ft(ye[We]>=0)}for(ft(We==we.npart_s);We<F.CBANDS;++We)De[We]=0,ye[We]=0;for(mn(we,De,ye,bi),Pe=We=0;We<we.npart_s;We++){var Ii=we.s3ind_s[We][0],mr=we.s3ind_s[We][1],ri,Bi,ni,Qi,wn;for(ri=bi[Ii],Bi=1,Qi=we.s3_ss[Pe]*qt[Ii]*Rt[bi[Ii]],++Pe,++Ii;Ii<=mr;)ri+=bi[Ii],Bi+=1,ni=we.s3_ss[Pe]*qt[Ii]*Rt[bi[Ii]],Qi=vt(Qi,ni,Ii-We),++Pe,++Ii;ri=(1+2*ri)/(2*Bi),wn=Rt[ri]*.5,Qi*=wn,oe[We]=Qi,we.nb_s2[Te][We]=we.nb_s1[Te][We],we.nb_s1[Te][We]=Qi,ni=De[We],ni*=we.minval_s[We],ni*=wn,oe[We]>ni&&(oe[We]=ni),we.masking_lower>1&&(oe[We]*=we.masking_lower),oe[We]>qt[We]&&(oe[We]=qt[We]),we.masking_lower<1&&(oe[We]*=we.masking_lower),ft(oe[We]>=0)}for(;We<F.CBANDS;++We)qt[We]=0,oe[We]=0}function an(Lt,jt,qt,oe,Te){var Kt=K(F.CBANDS),we=K(F.CBANDS),De=Ft(F.CBANDS+2),ye;Je(Lt,jt,qt,Kt,we),ze(Lt,Kt,we,De);var Ve=0;for(ye=0;ye<Lt.npart_l;ye++){var Pe,We,bi,Xi,ii=Lt.s3ind[ye][0],Vi=Lt.s3ind[ye][1],je=0,Ii=0;for(je=De[ii],Ii+=1,We=Lt.s3_ll[Ve]*qt[ii]*Rt[De[ii]],++Ve,++ii;ii<=Vi;)je+=De[ii],Ii+=1,Pe=Lt.s3_ll[Ve]*qt[ii]*Rt[De[ii]],Xi=vt(We,Pe,ii-ye),We=Xi,++Ve,++ii;if(je=(1+2*je)/(2*Ii),bi=Rt[je]*.5,We*=bi,Lt.blocktype_old[Te&1]==F.SHORT_TYPE){var mr=be*Lt.nb_1[Te][ye];mr>0?oe[ye]=Math.min(We,mr):oe[ye]=Math.min(We,qt[ye]*Gt)}else{var ri=Se*Lt.nb_2[Te][ye],Bi=be*Lt.nb_1[Te][ye],mr;ri<=0&&(ri=We),Bi<=0&&(Bi=We),Lt.blocktype_old[Te&1]==F.NORM_TYPE?mr=Math.min(Bi,ri):mr=Bi,oe[ye]=Math.min(We,mr)}Lt.nb_2[Te][ye]=Lt.nb_1[Te][ye],Lt.nb_1[Te][ye]=We,Pe=Kt[ye],Pe*=Lt.minval_l[ye],Pe*=bi,oe[ye]>Pe&&(oe[ye]=Pe),Lt.masking_lower>1&&(oe[ye]*=Lt.masking_lower),oe[ye]>qt[ye]&&(oe[ye]=qt[ye]),Lt.masking_lower<1&&(oe[ye]*=Lt.masking_lower),ft(oe[ye]>=0)}for(;ye<F.CBANDS;++ye)qt[ye]=0,oe[ye]=0}function Bn(Lt,jt){var qt=Lt.internal_flags;Lt.short_blocks==Q.short_block_coupled&&!(jt[0]!=0&&jt[1]!=0)&&(jt[0]=jt[1]=0);for(var oe=0;oe<qt.channels_out;oe++)Lt.short_blocks==Q.short_block_dispensed&&(jt[oe]=1),Lt.short_blocks==Q.short_block_forced&&(jt[oe]=0)}function Bs(Lt,jt,qt){for(var oe=Lt.internal_flags,Te=0;Te<oe.channels_out;Te++){var Kt=F.NORM_TYPE;jt[Te]!=0?(ft(oe.blocktype_old[Te]!=F.START_TYPE),oe.blocktype_old[Te]==F.SHORT_TYPE&&(Kt=F.STOP_TYPE)):(Kt=F.SHORT_TYPE,oe.blocktype_old[Te]==F.NORM_TYPE&&(oe.blocktype_old[Te]=F.START_TYPE),oe.blocktype_old[Te]==F.STOP_TYPE&&(oe.blocktype_old[Te]=F.SHORT_TYPE)),qt[Te]=oe.blocktype_old[Te],oe.blocktype_old[Te]=Kt}}function Lr(Lt,jt,qt,oe,Te,Kt,we){for(var De=Kt*2,ye=Kt>0?Math.pow(10,Te):1,Ve,Pe,We=0;We<we;++We){var bi=Lt[2][We],Xi=Lt[3][We],ii=jt[0][We],Vi=jt[1][We],je=jt[2][We],Ii=jt[3][We];if(ii<=1.58*Vi&&Vi<=1.58*ii){var mr=qt[We]*Xi,ri=qt[We]*bi;Pe=Math.max(je,Math.min(Ii,mr)),Ve=Math.max(Ii,Math.min(je,ri))}else Pe=je,Ve=Ii;if(Kt>0){var Bi,ni,Qi=oe[We]*ye;if(Bi=Math.min(Math.max(ii,Qi),Math.max(Vi,Qi)),je=Math.max(Pe,Qi),Ii=Math.max(Ve,Qi),ni=je+Ii,ni>0&&Bi*De<ni){var wn=Bi*De/ni;je*=wn,Ii*=wn}Pe=Math.min(je,Pe),Ve=Math.min(Ii,Ve)}Pe>bi&&(Pe=bi),Ve>Xi&&(Ve=Xi),jt[2][We]=Pe,jt[3][We]=Ve}}this.L3psycho_anal_vbr=function(Lt,jt,qt,oe,Te,Kt,we,De,ye,Ve){var Pe=Lt.internal_flags,We,bi,Xi=K(F.HBLKSIZE),ii=It([3,F.HBLKSIZE_s]),Vi=It([2,F.BLKSIZE]),je=It([2,3,F.BLKSIZE_s]),Ii=It([4,F.CBANDS]),mr=It([4,F.CBANDS]),ri=It([4,3]),Bi=.6,ni=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Qi=Ft(2),wn=Lt.mode==Nt.JOINT_STEREO?4:Pe.channels_out;Yi(Lt,jt,qt,oe,Te,Kt,ye,ri,ni,Qi),Bn(Lt,Qi);{for(var Si=0;Si<wn;Si++){var or=Si&1;We=Vi,ci(Lt,jt,qt,Si,oe,Xi,We,or),ki(Lt,oe,Si,Xi),Qi[or]!=0?an(Pe,Xi,Ii[Si],mr[Si],Si):Ar(Pe,Si)}Qi[0]+Qi[1]==2&&Lt.mode==Nt.JOINT_STEREO&&Lr(Ii,mr,Pe.mld_cb_l,Pe.ATH.cb_l,Lt.ATHlower*Pe.ATH.adjust,Lt.msfix,Pe.npart_l);for(var Si=0;Si<wn;Si++){var or=Si&1;Qi[or]!=0&&at(Pe,Ii[Si],mr[Si],Si)}}{for(var wr=0;wr<3;wr++){for(var Si=0;Si<wn;++Si){var or=Si&1;Qi[or]!=0?Mi(Pe,Si,wr):(bi=je,rr(Lt,jt,qt,Si,wr,ii,bi,or),Qr(Lt,ii,Ii[Si],mr[Si],Si,wr))}Qi[0]+Qi[1]==0&&Lt.mode==Nt.JOINT_STEREO&&Lr(Ii,mr,Pe.mld_cb_s,Pe.ATH.cb_s,Lt.ATHlower*Pe.ATH.adjust,Lt.msfix,Pe.npart_s);for(var Si=0;Si<wn;++Si){var or=Si&1;Qi[or]==0&&pe(Pe,Ii[Si],mr[Si],Si,wr)}}for(var Si=0;Si<wn;Si++){var or=Si&1;if(Qi[or]==0)for(var Gn=0;Gn<F.SBMAX_s;Gn++){for(var fo=K(3),wr=0;wr<3;wr++){var ds=Pe.thm[Si].s[Gn][wr];if(ds*=se,ni[Si][wr]>=2||ni[Si][wr+1]==1){var Hn=wr!=0?wr-1:2,Wa=wt(Pe.thm[Si].s[Gn][Hn],ds,Ge*Bi);ds=Math.min(ds,Wa)}else if(ni[Si][wr]==1){var Hn=wr!=0?wr-1:2,Wa=wt(Pe.thm[Si].s[Gn][Hn],ds,Gt*Bi);ds=Math.min(ds,Wa)}else if(wr!=0&&ni[Si][wr-1]==3||wr==0&&Pe.nsPsy.lastAttacks[Si]==3){var Hn=wr!=2?wr+1:0,Wa=wt(Pe.thm[Si].s[Gn][Hn],ds,Gt*Bi);ds=Math.min(ds,Wa)}ds*=ri[Si][wr],fo[wr]=ds}for(var wr=0;wr<3;wr++)Pe.thm[Si].s[Gn][wr]=fo[wr]}}}for(var Si=0;Si<wn;Si++)Pe.nsPsy.lastAttacks[Si]=ni[Si][2];Bs(Lt,Qi,Ve);for(var Si=0;Si<wn;Si++){var po,vo,ul,hl;Si>1?(po=De,vo=-2,ul=F.NORM_TYPE,(Ve[0]==F.SHORT_TYPE||Ve[1]==F.SHORT_TYPE)&&(ul=F.SHORT_TYPE),hl=Kt[oe][Si-2]):(po=we,vo=0,ul=Ve[Si],hl=Te[oe][Si]),ul==F.SHORT_TYPE?po[vo+Si]=te(hl,Pe.masking_lower):po[vo+Si]=de(hl,Pe.masking_lower),Lt.analysis&&(Pe.pinfo.pe[oe][Si]=po[vo+Si])}return 0};function fs(Lt,jt){var qt=Lt,oe;return qt>=0?oe=-qt*27:oe=qt*jt,oe<=-72?0:Math.exp(oe*J)}function Os(Lt){var jt=0,qt=0;{var oe=0,Te,Kt;for(oe=0;fs(oe,Lt)>1e-20;oe-=1);for(Te=oe,Kt=0;Math.abs(Kt-Te)>1e-12;)oe=(Kt+Te)/2,fs(oe,Lt)>0?Kt=oe:Te=oe;jt=Te}{var oe=0,Te,Kt;for(oe=0;fs(oe,Lt)>1e-20;oe+=1);for(Te=0,Kt=oe;Math.abs(Kt-Te)>1e-12;)oe=(Kt+Te)/2,fs(oe,Lt)>0?Te=oe:Kt=oe;qt=Kt}{var we=0,De=1e3,ye;for(ye=0;ye<=De;++ye){var oe=jt+ye*(qt-jt)/De,Ve=fs(oe,Lt);we+=Ve}{var Pe=(De+1)/(we*(qt-jt));return Pe}}}function Va(Lt){var jt,qt,oe,Te;return jt=Lt,jt>=0?jt*=3:jt*=1.5,jt>=.5&&jt<=2.5?(Te=jt-.5,qt=8*(Te*Te-2*Te)):qt=0,jt+=.474,oe=15.811389+7.5*jt-17.5*Math.sqrt(1+jt*jt),oe<=-60?0:(jt=Math.exp((qt+oe)*J),jt/=.6609193,jt)}function pa(Lt){return Lt<0&&(Lt=0),Lt=Lt*.001,13*Math.atan(.76*Lt)+3.5*Math.atan(Lt*Lt/(7.5*7.5))}function Ou(Lt,jt,qt,oe,Te,Kt,we,De,ye,Ve,Pe,We){var bi=K(F.CBANDS+1),Xi=De/(We>15?2*576:2*192),ii=Ft(F.HBLKSIZE),Vi;De/=ye;var je=0,Ii=0;for(Vi=0;Vi<F.CBANDS;Vi++){var mr,ri;for(mr=pa(De*je),bi[Vi]=De*je,ri=je;pa(De*ri)-mr<_e&&ri<=ye/2;ri++);for(Lt[Vi]=ri-je,Ii=Vi+1;je<ri;)ii[je++]=Vi;if(je>ye/2){je=ye/2,++Vi;break}}bi[Vi]=De*je;for(var Bi=0;Bi<We;Bi++){var ni,Qi,wn,Si,or;wn=Ve[Bi],Si=Ve[Bi+1],ni=0|Math.floor(.5+Pe*(wn-.5)),ni<0&&(ni=0),Qi=0|Math.floor(.5+Pe*(Si-.5)),Qi>ye/2&&(Qi=ye/2),qt[Bi]=(ii[ni]+ii[Qi])/2,jt[Bi]=ii[Qi];var wr=Xi*Si;we[Bi]=(wr-bi[jt[Bi]])/(bi[jt[Bi]+1]-bi[jt[Bi]]),we[Bi]<0?we[Bi]=0:we[Bi]>1&&(we[Bi]=1),or=pa(De*Ve[Bi]*Pe),or=Math.min(or,15.5)/15.5,Kt[Bi]=Math.pow(10,1.25*(1-Math.cos(Math.PI*or))-2.5)}je=0;for(var Gn=0;Gn<Ii;Gn++){var fo=Lt[Gn],mr,ds;mr=pa(De*je),ds=pa(De*(je+fo-1)),oe[Gn]=.5*(mr+ds),mr=pa(De*(je-.5)),ds=pa(De*(je+fo-.5)),Te[Gn]=ds-mr,je+=fo}return Ii}function w0(Lt,jt,qt,oe,Te,Kt){var we=It([F.CBANDS,F.CBANDS]),De,ye=0;if(Kt)for(var Ve=0;Ve<jt;Ve++)for(De=0;De<jt;De++){var Pe=Va(qt[Ve]-qt[De])*oe[De];we[Ve][De]=Pe*Te[Ve]}else for(De=0;De<jt;De++)for(var We=15+Math.min(21/qt[De],12),bi=Os(We),Ve=0;Ve<jt;Ve++){var Pe=bi*fs(qt[Ve]-qt[De],We)*oe[De];we[Ve][De]=Pe*Te[Ve]}for(var Ve=0;Ve<jt;Ve++){for(De=0;De<jt&&!(we[Ve][De]>0);De++);for(Lt[Ve][0]=De,De=jt-1;De>0&&!(we[Ve][De]>0);De--);Lt[Ve][1]=De,ye+=Lt[Ve][1]-Lt[Ve][0]+1}for(var Xi=K(ye),ii=0,Ve=0;Ve<jt;Ve++)for(De=Lt[Ve][0];De<=Lt[Ve][1];De++)Xi[ii++]=we[Ve][De];return Xi}function p4(Lt){var jt=pa(Lt);return jt=Math.min(jt,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*jt))-2.5)}this.psymodel_init=function(Lt){var jt=Lt.internal_flags,qt,oe=!0,Te=13,Kt=24,we=0,De=0,ye=-8.25,Ve=-4.5,Pe=K(F.CBANDS),We=K(F.CBANDS),bi=K(F.CBANDS),Xi=Lt.out_samplerate;switch(Lt.experimentalZ){default:case 0:oe=!0;break;case 1:oe=!(Lt.VBR==q.vbr_mtrh||Lt.VBR==q.vbr_mt);break;case 2:oe=!1;break;case 3:Te=8,we=-1.75,De=-.0125,ye=-8.25,Ve=-2.25;break}for(jt.ms_ener_ratio_old=.25,jt.blocktype_old[0]=jt.blocktype_old[1]=F.NORM_TYPE,qt=0;qt<4;++qt){for(var je=0;je<F.CBANDS;++je)jt.nb_1[qt][je]=1e20,jt.nb_2[qt][je]=1e20,jt.nb_s1[qt][je]=jt.nb_s2[qt][je]=1;for(var ii=0;ii<F.SBMAX_l;ii++)jt.en[qt].l[ii]=1e20,jt.thm[qt].l[ii]=1e20;for(var je=0;je<3;++je){for(var ii=0;ii<F.SBMAX_s;ii++)jt.en[qt].s[ii][je]=1e20,jt.thm[qt].s[ii][je]=1e20;jt.nsPsy.lastAttacks[qt]=0}for(var je=0;je<9;je++)jt.nsPsy.last_en_subshort[qt][je]=10}for(jt.loudness_sq_save[0]=jt.loudness_sq_save[1]=0,jt.npart_l=Ou(jt.numlines_l,jt.bo_l,jt.bm_l,Pe,We,jt.mld_l,jt.PSY.bo_l_weight,Xi,F.BLKSIZE,jt.scalefac_band.l,F.BLKSIZE/(2*576),F.SBMAX_l),ft(jt.npart_l<F.CBANDS),qt=0;qt<jt.npart_l;qt++){var Vi=we;Pe[qt]>=Te&&(Vi=De*(Pe[qt]-Te)/(Kt-Te)+we*(Kt-Pe[qt])/(Kt-Te)),bi[qt]=Math.pow(10,Vi/10),jt.numlines_l[qt]>0?jt.rnumlines_l[qt]=1/jt.numlines_l[qt]:jt.rnumlines_l[qt]=0}jt.s3_ll=w0(jt.s3ind,jt.npart_l,Pe,We,bi,oe);var je=0;for(qt=0;qt<jt.npart_l;qt++){var Ii;Ii=ot.MAX_VALUE;for(var mr=0;mr<jt.numlines_l[qt];mr++,je++){var ri=Xi*je/(1e3*F.BLKSIZE),Bi;Bi=this.ATHformula(ri*1e3,Lt)-20,Bi=Math.pow(10,.1*Bi),Bi*=jt.numlines_l[qt],Ii>Bi&&(Ii=Bi)}jt.ATH.cb_l[qt]=Ii,Ii=-20+Pe[qt]*20/10,Ii>6&&(Ii=100),Ii<-15&&(Ii=-15),Ii-=8,jt.minval_l[qt]=Math.pow(10,Ii/10)*jt.numlines_l[qt]}for(jt.npart_s=Ou(jt.numlines_s,jt.bo_s,jt.bm_s,Pe,We,jt.mld_s,jt.PSY.bo_s_weight,Xi,F.BLKSIZE_s,jt.scalefac_band.s,F.BLKSIZE_s/(2*192),F.SBMAX_s),ft(jt.npart_s<F.CBANDS),je=0,qt=0;qt<jt.npart_s;qt++){var Ii,Vi=ye;Pe[qt]>=Te&&(Vi=Ve*(Pe[qt]-Te)/(Kt-Te)+ye*(Kt-Pe[qt])/(Kt-Te)),bi[qt]=Math.pow(10,Vi/10),Ii=ot.MAX_VALUE;for(var mr=0;mr<jt.numlines_s[qt];mr++,je++){var ri=Xi*je/(1e3*F.BLKSIZE_s),Bi;Bi=this.ATHformula(ri*1e3,Lt)-20,Bi=Math.pow(10,.1*Bi),Bi*=jt.numlines_s[qt],Ii>Bi&&(Ii=Bi)}jt.ATH.cb_s[qt]=Ii,Ii=-7+Pe[qt]*7/12,Pe[qt]>12&&(Ii*=1+Math.log(1+Ii)*3.1),Pe[qt]<12&&(Ii*=1+Math.log(1-Ii)*2.3),Ii<-15&&(Ii=-15),Ii-=8,jt.minval_s[qt]=Math.pow(10,Ii/10)*jt.numlines_s[qt]}jt.s3_ss=w0(jt.s3ind_s,jt.npart_s,Pe,We,bi,oe),bt(),Xt.init_fft(jt),jt.decay=Math.exp(-1*ge/(ai*Xi/192));{var ni;ni=Vt,Lt.exp_nspsytune&2&&(ni=1),Math.abs(Lt.msfix)>0&&(ni=Lt.msfix),Lt.msfix=ni;for(var Qi=0;Qi<jt.npart_l;Qi++)jt.s3ind[Qi][1]>jt.npart_l-1&&(jt.s3ind[Qi][1]=jt.npart_l-1)}var wn=576*jt.mode_gr/Xi;if(jt.ATH.decay=Math.pow(10,-12/10*wn),jt.ATH.adjust=.01,jt.ATH.adjustLimit=1,ft(jt.bo_l[F.SBMAX_l-1]<=jt.npart_l),ft(jt.bo_s[F.SBMAX_s-1]<=jt.npart_s),Lt.ATHtype!=-1){var ri,Si=Lt.out_samplerate/F.BLKSIZE,or=0;for(ri=0,qt=0;qt<F.BLKSIZE/2;++qt)ri+=Si,jt.ATH.eql_w[qt]=1/Math.pow(10,this.ATHformula(ri,Lt)/10),or+=jt.ATH.eql_w[qt];for(or=1/or,qt=F.BLKSIZE/2;--qt>=0;)jt.ATH.eql_w[qt]*=or}{for(var Qi=je=0;Qi<jt.npart_s;++Qi)for(qt=0;qt<jt.numlines_s[Qi];++qt)++je;for(var Qi=je=0;Qi<jt.npart_l;++Qi)for(qt=0;qt<jt.numlines_l[Qi];++qt)++je}for(je=0,qt=0;qt<jt.npart_l;qt++){var ri=Xi*(je+jt.numlines_l[qt]/2)/(1*F.BLKSIZE);jt.mld_cb_l[qt]=p4(ri),je+=jt.numlines_l[qt]}for(;qt<F.CBANDS;++qt)jt.mld_cb_l[qt]=1;for(je=0,qt=0;qt<jt.npart_s;qt++){var ri=Xi*(je+jt.numlines_s[qt]/2)/(1*F.BLKSIZE_s);jt.mld_cb_s[qt]=p4(ri),je+=jt.numlines_s[qt]}for(;qt<F.CBANDS;++qt)jt.mld_cb_s[qt]=1;return 0};function Ff(Lt,jt){Lt<-.3&&(Lt=3410),Lt/=1e3,Lt=Math.max(.1,Lt);var qt=3.64*Math.pow(Lt,-.8)-6.8*Math.exp(-.6*Math.pow(Lt-3.4,2))+6*Math.exp(-.15*Math.pow(Lt-8.7,2))+(.6+.04*jt)*.001*Math.pow(Lt,4);return qt}this.ATHformula=function(Lt,jt){var qt;switch(jt.ATHtype){case 0:qt=Ff(Lt,9);break;case 1:qt=Ff(Lt,-1);break;case 2:qt=Ff(Lt,0);break;case 3:qt=Ff(Lt,1)+6;break;case 4:qt=Ff(Lt,jt.ATHcurve);break;default:qt=Ff(Lt,0);break}return qt}}var At=yt;function Bt(Xt){var ge=Xt;this.ordinal=function(){return ge}}Bt.STEREO=new Bt(0),Bt.JOINT_STEREO=new Bt(1),Bt.DUAL_CHANNEL=new Bt(2),Bt.MONO=new Bt(3),Bt.NOT_SET=new Bt(4);var le=Bt;function _t(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=le.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var xe=_t,Ee={};Ee.SFBMAX=F.SBMAX_s*3;var ve=Ee,Fe=m.new_float,Ze=m.new_int;function ei(){this.xr=Fe(576),this.l3_enc=Ze(576),this.scalefac=Ze(ve.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=Ze(3),this.subblock_gain=Ze(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=Ze(ve.SFBMAX),this.window=Ze(ve.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=Ze(4),this.max_nonzero_coeff=0;var Xt=this;function ge(Se){return new Int32Array(Se)}function be(Se){return new Float32Array(Se)}this.assign=function(Se){Xt.xr=be(Se.xr),Xt.l3_enc=ge(Se.l3_enc),Xt.scalefac=ge(Se.scalefac),Xt.xrpow_max=Se.xrpow_max,Xt.part2_3_length=Se.part2_3_length,Xt.big_values=Se.big_values,Xt.count1=Se.count1,Xt.global_gain=Se.global_gain,Xt.scalefac_compress=Se.scalefac_compress,Xt.block_type=Se.block_type,Xt.mixed_block_flag=Se.mixed_block_flag,Xt.table_select=ge(Se.table_select),Xt.subblock_gain=ge(Se.subblock_gain),Xt.region0_count=Se.region0_count,Xt.region1_count=Se.region1_count,Xt.preflag=Se.preflag,Xt.scalefac_scale=Se.scalefac_scale,Xt.count1table_select=Se.count1table_select,Xt.part2_length=Se.part2_length,Xt.sfb_lmax=Se.sfb_lmax,Xt.sfb_smin=Se.sfb_smin,Xt.psy_lmax=Se.psy_lmax,Xt.sfbmax=Se.sfbmax,Xt.psymax=Se.psymax,Xt.sfbdivide=Se.sfbdivide,Xt.width=ge(Se.width),Xt.window=ge(Se.window),Xt.count1bits=Se.count1bits,Xt.sfb_partition_table=Se.sfb_partition_table.slice(0),Xt.slen=ge(Se.slen),Xt.max_nonzero_coeff=Se.max_nonzero_coeff}}var Ci=ei,xt=m.new_int;function et(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[xt(4),xt(4)];for(var Xt=0;Xt<2;Xt++)for(var ge=0;ge<2;ge++)this.tt[Xt][ge]=new Ci}var tt=et,Ot=m.System,ie=m.new_int;function Ce(Xt,ge,be,Se){this.l=ie(1+F.SBMAX_l),this.s=ie(1+F.SBMAX_s),this.psfb21=ie(1+F.PSFB21),this.psfb12=ie(1+F.PSFB12);var Le=this.l,me=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],Ot.arraycopy(this.arrL,0,Le,0,Math.min(this.arrL.length,this.l.length)),Ot.arraycopy(this.arrS,0,me,0,Math.min(this.arrS.length,this.s.length)),Ot.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),Ot.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var Ne=Ce,Ui=m.new_float,br=m.new_float_n,ar=m.new_int;function vr(){this.last_en_subshort=br([4,9]),this.lastAttacks=ar(4),this.pefirbuf=Ui(19),this.longfact=Ui(F.SBMAX_l),this.shortfact=Ui(F.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var Tr=vr;function Bo(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var za=Bo,ca=m.new_byte,Yl=m.new_double,Us=m.new_float,fa=m.new_float_n,hs=m.new_int,ol=m.new_int_n;$r.MFSIZE=3*1152+F.ENCDELAY-F.MDCTDELAY,$r.MAX_HEADER_BUF=256,$r.MAX_BITS_PER_CHANNEL=4095,$r.MAX_BITS_PER_GRANULE=7680,$r.BPC=320;function $r(){var Xt=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=fa([2,$r.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new tt,this.ms_ratio=Us(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=hs(2),this.CurrentStep=hs(2),this.masking_lower=0,this.bv_scf=hs(576),this.pseudohalf=hs(ve.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*$r.BPC+1),this.itime=Yl(2),this.sideinfo_len=0,this.sb_sample=fa([2,2,18,F.SBLIMIT]),this.amp_filter=Us(32);function ge(){this.write_timing=0,this.ptr=0,this.buf=ca(Xt)}this.header=new Array($r.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new Ne,this.minval_l=Us(F.CBANDS),this.minval_s=Us(F.CBANDS),this.nb_1=fa([4,F.CBANDS]),this.nb_2=fa([4,F.CBANDS]),this.nb_s1=fa([4,F.CBANDS]),this.nb_s2=fa([4,F.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=Us(4),this.loudness_sq=fa([2,2]),this.loudness_sq_save=Us(2),this.mld_l=Us(F.SBMAX_l),this.mld_s=Us(F.SBMAX_s),this.bm_l=hs(F.SBMAX_l),this.bo_l=hs(F.SBMAX_l),this.bm_s=hs(F.SBMAX_s),this.bo_s=hs(F.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=ol([F.CBANDS,2]),this.s3ind_s=ol([F.CBANDS,2]),this.numlines_s=hs(F.CBANDS),this.numlines_l=hs(F.CBANDS),this.rnumlines_l=Us(F.CBANDS),this.mld_cb_l=Us(F.CBANDS),this.mld_cb_s=Us(F.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=Us(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=hs(2),this.nsPsy=new Tr,this.VBR_seek_table=new za,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=ol([16,5]),this.bitrate_blockType_Hist=ol([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var be=0;be<this.en.length;be++)this.en[be]=new M;for(var be=0;be<this.thm.length;be++)this.thm[be]=new M;for(var be=0;be<this.header.length;be++)this.header[be]=new ge}var Dr=$r,Ga=m.new_float;function zn(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=Ga(F.SBMAX_l),this.s=Ga(F.SBMAX_s),this.psfb21=Ga(F.PSFB21),this.psfb12=Ga(F.PSFB12),this.cb_l=Ga(F.CBANDS),this.cb_s=Ga(F.CBANDS),this.eql_w=Ga(F.BLKSIZE/2)}var zs=zn,cs=m.System,Ac=m.Arrays;Xr.STEPS_per_dB=100,Xr.MAX_dB=120,Xr.GAIN_NOT_ENOUGH_SAMPLES=-24601,Xr.GAIN_ANALYSIS_ERROR=0,Xr.GAIN_ANALYSIS_OK=1,Xr.INIT_GAIN_ANALYSIS_ERROR=0,Xr.INIT_GAIN_ANALYSIS_OK=1,Xr.YULE_ORDER=10,Xr.MAX_ORDER=Xr.YULE_ORDER,Xr.MAX_SAMP_FREQ=48e3,Xr.RMS_WINDOW_TIME_NUMERATOR=1,Xr.RMS_WINDOW_TIME_DENOMINATOR=20,Xr.MAX_SAMPLES_PER_WINDOW=Xr.MAX_SAMP_FREQ*Xr.RMS_WINDOW_TIME_NUMERATOR/Xr.RMS_WINDOW_TIME_DENOMINATOR+1;function Xr(){var Xt=64.82,ge=.95,be=Xr.RMS_WINDOW_TIME_NUMERATOR,Se=Xr.RMS_WINDOW_TIME_DENOMINATOR,Le=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],me=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function _e(Gt,Vt,Qt,J,ae,ne){for(;ae--!=0;)Qt[J]=1e-10+Gt[Vt+0]*ne[0]-Qt[J-1]*ne[1]+Gt[Vt-1]*ne[2]-Qt[J-2]*ne[3]+Gt[Vt-2]*ne[4]-Qt[J-3]*ne[5]+Gt[Vt-3]*ne[6]-Qt[J-4]*ne[7]+Gt[Vt-4]*ne[8]-Qt[J-5]*ne[9]+Gt[Vt-5]*ne[10]-Qt[J-6]*ne[11]+Gt[Vt-6]*ne[12]-Qt[J-7]*ne[13]+Gt[Vt-7]*ne[14]-Qt[J-8]*ne[15]+Gt[Vt-8]*ne[16]-Qt[J-9]*ne[17]+Gt[Vt-9]*ne[18]-Qt[J-10]*ne[19]+Gt[Vt-10]*ne[20],++J,++Vt}function hi(Gt,Vt,Qt,J,ae,ne){for(;ae--!=0;)Qt[J]=Gt[Vt+0]*ne[0]-Qt[J-1]*ne[1]+Gt[Vt-1]*ne[2]-Qt[J-2]*ne[3]+Gt[Vt-2]*ne[4],++J,++Vt}function ai(Gt,Vt){for(var Qt=0;Qt<MAX_ORDER;Qt++)Gt.linprebuf[Qt]=Gt.lstepbuf[Qt]=Gt.loutbuf[Qt]=Gt.rinprebuf[Qt]=Gt.rstepbuf[Qt]=Gt.routbuf[Qt]=0;switch(0|Vt){case 48e3:Gt.reqindex=0;break;case 44100:Gt.reqindex=1;break;case 32e3:Gt.reqindex=2;break;case 24e3:Gt.reqindex=3;break;case 22050:Gt.reqindex=4;break;case 16e3:Gt.reqindex=5;break;case 12e3:Gt.reqindex=6;break;case 11025:Gt.reqindex=7;break;case 8e3:Gt.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return Gt.sampleWindow=0|(Vt*be+Se-1)/Se,Gt.lsum=0,Gt.rsum=0,Gt.totsamp=0,Ac.ill(Gt.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(Gt,Vt){return ai(Gt,Vt)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(Gt.linpre=MAX_ORDER,Gt.rinpre=MAX_ORDER,Gt.lstep=MAX_ORDER,Gt.rstep=MAX_ORDER,Gt.lout=MAX_ORDER,Gt.rout=MAX_ORDER,Ac.fill(Gt.B,0),INIT_GAIN_ANALYSIS_OK)};function se(Gt){return Gt*Gt}this.AnalyzeSamples=function(Gt,Vt,Qt,J,ae,ne,Zt){var lt,Dt,Ut,zt,Ht,nt,Rt;if(ne==0)return GAIN_ANALYSIS_OK;switch(Rt=0,Ht=ne,Zt){case 1:J=Vt,ae=Qt;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(ne<MAX_ORDER?(cs.arraycopy(Vt,Qt,Gt.linprebuf,MAX_ORDER,ne),cs.arraycopy(J,ae,Gt.rinprebuf,MAX_ORDER,ne)):(cs.arraycopy(Vt,Qt,Gt.linprebuf,MAX_ORDER,MAX_ORDER),cs.arraycopy(J,ae,Gt.rinprebuf,MAX_ORDER,MAX_ORDER));Ht>0;){nt=Ht>Gt.sampleWindow-Gt.totsamp?Gt.sampleWindow-Gt.totsamp:Ht,Rt<MAX_ORDER?(lt=Gt.linpre+Rt,Dt=Gt.linprebuf,Ut=Gt.rinpre+Rt,zt=Gt.rinprebuf,nt>MAX_ORDER-Rt&&(nt=MAX_ORDER-Rt)):(lt=Qt+Rt,Dt=Vt,Ut=ae+Rt,zt=J),_e(Dt,lt,Gt.lstepbuf,Gt.lstep+Gt.totsamp,nt,Le[Gt.reqindex]),_e(zt,Ut,Gt.rstepbuf,Gt.rstep+Gt.totsamp,nt,Le[Gt.reqindex]),hi(Gt.lstepbuf,Gt.lstep+Gt.totsamp,Gt.loutbuf,Gt.lout+Gt.totsamp,nt,me[Gt.reqindex]),hi(Gt.rstepbuf,Gt.rstep+Gt.totsamp,Gt.routbuf,Gt.rout+Gt.totsamp,nt,me[Gt.reqindex]),lt=Gt.lout+Gt.totsamp,Dt=Gt.loutbuf,Ut=Gt.rout+Gt.totsamp,zt=Gt.routbuf;for(var bt=nt%8;bt--!=0;)Gt.lsum+=se(Dt[lt++]),Gt.rsum+=se(zt[Ut++]);for(bt=nt/8;bt--!=0;)Gt.lsum+=se(Dt[lt+0])+se(Dt[lt+1])+se(Dt[lt+2])+se(Dt[lt+3])+se(Dt[lt+4])+se(Dt[lt+5])+se(Dt[lt+6])+se(Dt[lt+7]),lt+=8,Gt.rsum+=se(zt[Ut+0])+se(zt[Ut+1])+se(zt[Ut+2])+se(zt[Ut+3])+se(zt[Ut+4])+se(zt[Ut+5])+se(zt[Ut+6])+se(zt[Ut+7]),Ut+=8;if(Ht-=nt,Rt+=nt,Gt.totsamp+=nt,Gt.totsamp==Gt.sampleWindow){var ct=Xr.STEPS_per_dB*10*Math.log10((Gt.lsum+Gt.rsum)/Gt.totsamp*.5+1e-37),Tt=ct<=0?0:0|ct;Tt>=Gt.A.length&&(Tt=Gt.A.length-1),Gt.A[Tt]++,Gt.lsum=Gt.rsum=0,cs.arraycopy(Gt.loutbuf,Gt.totsamp,Gt.loutbuf,0,MAX_ORDER),cs.arraycopy(Gt.routbuf,Gt.totsamp,Gt.routbuf,0,MAX_ORDER),cs.arraycopy(Gt.lstepbuf,Gt.totsamp,Gt.lstepbuf,0,MAX_ORDER),cs.arraycopy(Gt.rstepbuf,Gt.totsamp,Gt.rstepbuf,0,MAX_ORDER),Gt.totsamp=0}if(Gt.totsamp>Gt.sampleWindow)return GAIN_ANALYSIS_ERROR}return ne<MAX_ORDER?(cs.arraycopy(Gt.linprebuf,ne,Gt.linprebuf,0,MAX_ORDER-ne),cs.arraycopy(Gt.rinprebuf,ne,Gt.rinprebuf,0,MAX_ORDER-ne),cs.arraycopy(Vt,Qt,Gt.linprebuf,MAX_ORDER-ne,ne),cs.arraycopy(J,ae,Gt.rinprebuf,MAX_ORDER-ne,ne)):(cs.arraycopy(Vt,Qt+ne-MAX_ORDER,Gt.linprebuf,0,MAX_ORDER),cs.arraycopy(J,ae+ne-MAX_ORDER,Gt.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function Ge(Gt,Vt){var Qt,J=0;for(Qt=0;Qt<Vt;Qt++)J+=Gt[Qt];if(J==0)return GAIN_NOT_ENOUGH_SAMPLES;var ae=0|Math.ceil(J*(1-ge));for(Qt=Vt;Qt-- >0&&!((ae-=Gt[Qt])<=0););return Xt-Qt/Xr.STEPS_per_dB}this.GetTitleGain=function(Gt){for(var Vt=Ge(Gt.A,Gt.A.length),Qt=0;Qt<Gt.A.length;Qt++)Gt.B[Qt]+=Gt.A[Qt],Gt.A[Qt]=0;for(var Qt=0;Qt<MAX_ORDER;Qt++)Gt.linprebuf[Qt]=Gt.lstepbuf[Qt]=Gt.loutbuf[Qt]=Gt.rinprebuf[Qt]=Gt.rstepbuf[Qt]=Gt.routbuf[Qt]=0;return Gt.totsamp=0,Gt.lsum=Gt.rsum=0,Vt}}var In=Xr,Gs=m.new_float,Aa=m.new_int;function wh(){this.linprebuf=Gs(In.MAX_ORDER*2),this.linpre=0,this.lstepbuf=Gs(In.MAX_SAMPLES_PER_WINDOW+In.MAX_ORDER),this.lstep=0,this.loutbuf=Gs(In.MAX_SAMPLES_PER_WINDOW+In.MAX_ORDER),this.lout=0,this.rinprebuf=Gs(In.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=Gs(In.MAX_SAMPLES_PER_WINDOW+In.MAX_ORDER),this.rstep=0,this.routbuf=Gs(In.MAX_SAMPLES_PER_WINDOW+In.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=Aa(0|In.STEPS_per_dB*In.MAX_dB),this.B=Aa(0|In.STEPS_per_dB*In.MAX_dB)}var Mu=wh;function Mf(Xt){this.bits=Xt}var Th=Mf,Pc=m.new_float,dt=m.new_int,Et=m.assert;function X(Xt){var ge=Xt;this.quantize=ge,this.iteration_loop=function(be,Se,Le,me){var _e=be.internal_flags,hi=Pc(ve.SFBMAX),ai=Pc(576),se=dt(2),Ge=0,Gt,Vt=_e.l3_side,Qt=new Th(Ge);this.quantize.rv.ResvFrameBegin(be,Qt),Ge=Qt.bits;for(var J=0;J<_e.mode_gr;J++){Gt=this.quantize.qupvt.on_pe(be,Se,se,Ge,J,J),_e.mode_ext==F.MPG_MD_MS_LR&&(this.quantize.ms_convert(_e.l3_side,J),this.quantize.qupvt.reduce_side(se,Le[J],Ge,Gt));for(var ae=0;ae<_e.channels_out;ae++){var ne,Zt,lt=Vt.tt[J][ae];lt.block_type!=F.SHORT_TYPE?(ne=0,Zt=_e.PSY.mask_adjust-ne):(ne=0,Zt=_e.PSY.mask_adjust_short-ne),_e.masking_lower=Math.pow(10,Zt*.1),this.quantize.init_outer_loop(_e,lt),this.quantize.init_xrpow(_e,lt,ai)&&(this.quantize.qupvt.calc_xmin(be,me[J][ae],lt,hi),this.quantize.outer_loop(be,lt,hi,ai,ae,se[ae])),this.quantize.iteration_finish_one(_e,J,ae),Et(lt.part2_3_length<=Dr.MAX_BITS_PER_CHANNEL),Et(lt.part2_3_length<=se[ae])}}this.quantize.rv.ResvFrameEnd(_e,Ge)}}var Z=X;function ut(Xt,ge,be,Se){this.xlen=Xt,this.linmax=ge,this.table=be,this.hlen=Se}var Pt={};Pt.t1HB=[1,1,1,0],Pt.t2HB=[1,2,1,3,1,1,3,2,0],Pt.t3HB=[3,2,1,1,1,1,3,2,0],Pt.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],Pt.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],Pt.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],Pt.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],Pt.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],Pt.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],Pt.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],Pt.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],Pt.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],Pt.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],Pt.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],Pt.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],Pt.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],Pt.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],Pt.t1l=[1,4,3,5],Pt.t2l=[1,4,7,4,5,7,6,7,8],Pt.t3l=[2,3,7,4,4,7,6,7,8],Pt.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],Pt.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],Pt.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],Pt.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],Pt.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],Pt.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],Pt.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],Pt.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],Pt.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],Pt.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],Pt.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],Pt.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],Pt.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],Pt.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],Pt.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],Pt.ht=[new ut(0,0,null,null),new ut(2,0,Pt.t1HB,Pt.t1l),new ut(3,0,Pt.t2HB,Pt.t2l),new ut(3,0,Pt.t3HB,Pt.t3l),new ut(0,0,null,null),new ut(4,0,Pt.t5HB,Pt.t5l),new ut(4,0,Pt.t6HB,Pt.t6l),new ut(6,0,Pt.t7HB,Pt.t7l),new ut(6,0,Pt.t8HB,Pt.t8l),new ut(6,0,Pt.t9HB,Pt.t9l),new ut(8,0,Pt.t10HB,Pt.t10l),new ut(8,0,Pt.t11HB,Pt.t11l),new ut(8,0,Pt.t12HB,Pt.t12l),new ut(16,0,Pt.t13HB,Pt.t13l),new ut(0,0,null,Pt.t16_5l),new ut(16,0,Pt.t15HB,Pt.t15l),new ut(1,1,Pt.t16HB,Pt.t16l),new ut(2,3,Pt.t16HB,Pt.t16l),new ut(3,7,Pt.t16HB,Pt.t16l),new ut(4,15,Pt.t16HB,Pt.t16l),new ut(6,63,Pt.t16HB,Pt.t16l),new ut(8,255,Pt.t16HB,Pt.t16l),new ut(10,1023,Pt.t16HB,Pt.t16l),new ut(13,8191,Pt.t16HB,Pt.t16l),new ut(4,15,Pt.t24HB,Pt.t24l),new ut(5,31,Pt.t24HB,Pt.t24l),new ut(6,63,Pt.t24HB,Pt.t24l),new ut(7,127,Pt.t24HB,Pt.t24l),new ut(8,255,Pt.t24HB,Pt.t24l),new ut(9,511,Pt.t24HB,Pt.t24l),new ut(11,2047,Pt.t24HB,Pt.t24l),new ut(13,8191,Pt.t24HB,Pt.t24l),new ut(0,0,Pt.t32HB,Pt.t32l),new ut(0,0,Pt.t33HB,Pt.t33l)],Pt.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],Pt.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],Pt.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],Pt.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],Pt.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],Pt.scfsi_band=[0,6,11,16,21];var Jt=Pt,ce=m.VbrMode,fe=m.Float,$e=m.Util,pi=m.new_float,_i=m.new_int,Wi=m.assert;hr.Q_MAX=257,hr.Q_MAX2=116,hr.LARGE_BITS=1e5,hr.IXMAX_VAL=8206;function hr(){var Xt=null,ge=null,be=null;this.setModules=function(lt,Dt,Ut){Xt=lt,ge=Dt,be=Ut};function Se(lt){return Gt[lt+hr.Q_MAX2]}this.IPOW20=function(lt){return Vt[lt]};var Le=2220446049250313e-31,me=hr.IXMAX_VAL,_e=me+2,hi=hr.Q_MAX,ai=hr.Q_MAX2,se=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var Ge=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=Ge,this.sfBandIndex=[new Ne([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Ne([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Ne([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Ne([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Ne([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Ne([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Ne([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Ne([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Ne([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var Gt=pi(hi+ai+1),Vt=pi(hi),Qt=pi(_e),J=pi(_e);this.adj43=J;function ae(lt,Dt){var Ut=be.ATHformula(Dt,lt);return Ut-=se,Ut=Math.pow(10,Ut/10+lt.ATHlower),Ut}function ne(lt){for(var Dt=lt.internal_flags.ATH.l,Ut=lt.internal_flags.ATH.psfb21,zt=lt.internal_flags.ATH.s,Ht=lt.internal_flags.ATH.psfb12,nt=lt.internal_flags,Rt=lt.out_samplerate,bt=0;bt<F.SBMAX_l;bt++){var ct=nt.scalefac_band.l[bt],Tt=nt.scalefac_band.l[bt+1];Dt[bt]=fe.MAX_VALUE;for(var kt=ct;kt<Tt;kt++){var ht=kt*Rt/1152,pt=ae(lt,ht);Dt[bt]=Math.min(Dt[bt],pt)}}for(var bt=0;bt<F.PSFB21;bt++){var ct=nt.scalefac_band.psfb21[bt],Tt=nt.scalefac_band.psfb21[bt+1];Ut[bt]=fe.MAX_VALUE;for(var kt=ct;kt<Tt;kt++){var ht=kt*Rt/1152,pt=ae(lt,ht);Ut[bt]=Math.min(Ut[bt],pt)}}for(var bt=0;bt<F.SBMAX_s;bt++){var ct=nt.scalefac_band.s[bt],Tt=nt.scalefac_band.s[bt+1];zt[bt]=fe.MAX_VALUE;for(var kt=ct;kt<Tt;kt++){var ht=kt*Rt/384,pt=ae(lt,ht);zt[bt]=Math.min(zt[bt],pt)}zt[bt]*=nt.scalefac_band.s[bt+1]-nt.scalefac_band.s[bt]}for(var bt=0;bt<F.PSFB12;bt++){var ct=nt.scalefac_band.psfb12[bt],Tt=nt.scalefac_band.psfb12[bt+1];Ht[bt]=fe.MAX_VALUE;for(var kt=ct;kt<Tt;kt++){var ht=kt*Rt/384,pt=ae(lt,ht);Ht[bt]=Math.min(Ht[bt],pt)}Ht[bt]*=nt.scalefac_band.s[13]-nt.scalefac_band.s[12]}if(lt.noATH){for(var bt=0;bt<F.SBMAX_l;bt++)Dt[bt]=1e-20;for(var bt=0;bt<F.PSFB21;bt++)Ut[bt]=1e-20;for(var bt=0;bt<F.SBMAX_s;bt++)zt[bt]=1e-20;for(var bt=0;bt<F.PSFB12;bt++)Ht[bt]=1e-20}nt.ATH.floor=10*Math.log10(ae(lt,-1))}this.iteration_init=function(lt){var Dt=lt.internal_flags,Ut=Dt.l3_side,zt;if(Dt.iteration_init_init==0){for(Dt.iteration_init_init=1,Ut.main_data_begin=0,ne(lt),Qt[0]=0,zt=1;zt<_e;zt++)Qt[zt]=Math.pow(zt,4/3);for(zt=0;zt<_e-1;zt++)J[zt]=zt+1-Math.pow(.5*(Qt[zt]+Qt[zt+1]),.75);for(J[zt]=.5,zt=0;zt<hi;zt++)Vt[zt]=Math.pow(2,(zt-210)*-.1875);for(zt=0;zt<=hi+ai;zt++)Gt[zt]=Math.pow(2,(zt-210-ai)*.25);Xt.huffman_init(Dt);{var Ht,nt,Rt,bt;for(zt=lt.exp_nspsytune>>2&63,zt>=32&&(zt-=64),Ht=Math.pow(10,zt/4/10),zt=lt.exp_nspsytune>>8&63,zt>=32&&(zt-=64),nt=Math.pow(10,zt/4/10),zt=lt.exp_nspsytune>>14&63,zt>=32&&(zt-=64),Rt=Math.pow(10,zt/4/10),zt=lt.exp_nspsytune>>20&63,zt>=32&&(zt-=64),bt=Rt*Math.pow(10,zt/4/10),zt=0;zt<F.SBMAX_l;zt++){var ct;zt<=6?ct=Ht:zt<=13?ct=nt:zt<=20?ct=Rt:ct=bt,Dt.nsPsy.longfact[zt]=ct}for(zt=0;zt<F.SBMAX_s;zt++){var ct;zt<=5?ct=Ht:zt<=10?ct=nt:zt<=11?ct=Rt:ct=bt,Dt.nsPsy.shortfact[zt]=ct}}}},this.on_pe=function(lt,Dt,Ut,zt,Ht,nt){var Rt=lt.internal_flags,bt=0,ct,Tt=_i(2),kt,ht=new Th(bt),pt=ge.ResvMaxBits(lt,zt,ht,nt);bt=ht.bits;var vt=bt+pt;for(vt>Dr.MAX_BITS_PER_GRANULE&&(vt=Dr.MAX_BITS_PER_GRANULE),ct=0,kt=0;kt<Rt.channels_out;++kt)Ut[kt]=Math.min(Dr.MAX_BITS_PER_CHANNEL,bt/Rt.channels_out),Tt[kt]=0|Ut[kt]*Dt[Ht][kt]/700-Ut[kt],Tt[kt]>zt*3/4&&(Tt[kt]=zt*3/4),Tt[kt]<0&&(Tt[kt]=0),Tt[kt]+Ut[kt]>Dr.MAX_BITS_PER_CHANNEL&&(Tt[kt]=Math.max(0,Dr.MAX_BITS_PER_CHANNEL-Ut[kt])),ct+=Tt[kt];if(ct>pt)for(kt=0;kt<Rt.channels_out;++kt)Tt[kt]=pt*Tt[kt]/ct;for(kt=0;kt<Rt.channels_out;++kt)Ut[kt]+=Tt[kt],pt-=Tt[kt];for(ct=0,kt=0;kt<Rt.channels_out;++kt)ct+=Ut[kt];if(ct>Dr.MAX_BITS_PER_GRANULE){var Yt=0;for(kt=0;kt<Rt.channels_out;++kt)Ut[kt]*=Dr.MAX_BITS_PER_GRANULE,Ut[kt]/=ct,Yt+=Ut[kt]}return vt},this.reduce_side=function(lt,Dt,Ut,zt){Wi(lt[0]+lt[1]<=Dr.MAX_BITS_PER_GRANULE);var Ht=.33*(.5-Dt)/.5;Ht<0&&(Ht=0),Ht>.5&&(Ht=.5);var nt=0|Ht*.5*(lt[0]+lt[1]);nt>Dr.MAX_BITS_PER_CHANNEL-lt[0]&&(nt=Dr.MAX_BITS_PER_CHANNEL-lt[0]),nt<0&&(nt=0),lt[1]>=125&&(lt[1]-nt>125?(lt[0]<Ut&&(lt[0]+=nt),lt[1]-=nt):(lt[0]+=lt[1]-125,lt[1]=125)),nt=lt[0]+lt[1],nt>zt&&(lt[0]=zt*lt[0]/nt,lt[1]=zt*lt[1]/nt),Wi(lt[0]<=Dr.MAX_BITS_PER_CHANNEL),Wi(lt[1]<=Dr.MAX_BITS_PER_CHANNEL),Wi(lt[0]+lt[1]<=Dr.MAX_BITS_PER_GRANULE)},this.athAdjust=function(lt,Dt,Ut){var zt=90.30873362,Ht=94.82444863,nt=$e.FAST_LOG10_X(Dt,10),Rt=lt*lt,bt=0;return nt-=Ut,Rt>1e-20&&(bt=1+$e.FAST_LOG10_X(Rt,10/zt)),bt<0&&(bt=0),nt*=bt,nt+=Ut+zt-Ht,Math.pow(10,.1*nt)},this.calc_xmin=function(lt,Dt,Ut,zt){var Ht=0,nt=lt.internal_flags,Rt,bt=0,ct=0,Tt=nt.ATH,kt=Ut.xr,ht=lt.VBR==ce.vbr_mtrh?1:0,pt=nt.masking_lower;for((lt.VBR==ce.vbr_mtrh||lt.VBR==ce.vbr_mt)&&(pt=1),Rt=0;Rt<Ut.psy_lmax;Rt++){var vt,Yt,Ae,ee,pe,at;lt.VBR==ce.vbr_rh||lt.VBR==ce.vbr_mtrh?Yt=athAdjust(Tt.adjust,Tt.l[Rt],Tt.floor):Yt=Tt.adjust*Tt.l[Rt],pe=Ut.width[Rt],Ae=Yt/pe,ee=Le,at=pe>>1,vt=0;do{var gt,Me;gt=kt[bt]*kt[bt],vt+=gt,ee+=gt<Ae?gt:Ae,bt++,Me=kt[bt]*kt[bt],vt+=Me,ee+=Me<Ae?Me:Ae,bt++}while(--at>0);if(vt>Yt&&ct++,Rt==F.SBPSY_l){var wt=Yt*nt.nsPsy.longfact[Rt];ee<wt&&(ee=wt)}if(ht!=0&&(Yt=ee),!lt.ATHonly){var $t=Dt.en.l[Rt];if($t>0){var wt;wt=vt*Dt.thm.l[Rt]*pt/$t,ht!=0&&(wt*=nt.nsPsy.longfact[Rt]),Yt<wt&&(Yt=wt)}}ht!=0?zt[Ht++]=Yt:zt[Ht++]=Yt*nt.nsPsy.longfact[Rt]}var te=575;if(Ut.block_type!=F.SHORT_TYPE)for(var re=576;re--!=0&&ue.EQ(kt[re],0);)te=re;Ut.max_nonzero_coeff=te;for(var de=Ut.sfb_smin;Rt<Ut.psymax;de++,Rt+=3){var pe,Je,ze;for(lt.VBR==ce.vbr_rh||lt.VBR==ce.vbr_mtrh?ze=athAdjust(Tt.adjust,Tt.s[de],Tt.floor):ze=Tt.adjust*Tt.s[de],pe=Ut.width[Rt],Je=0;Je<3;Je++){var vt=0,Yt,Ae,ee,at=pe>>1;Ae=ze/pe,ee=Le;do{var gt,Me;gt=kt[bt]*kt[bt],vt+=gt,ee+=gt<Ae?gt:Ae,bt++,Me=kt[bt]*kt[bt],vt+=Me,ee+=Me<Ae?Me:Ae,bt++}while(--at>0);if(vt>ze&&ct++,de==F.SBPSY_s){var wt=ze*nt.nsPsy.shortfact[de];ee<wt&&(ee=wt)}if(ht!=0?Yt=ee:Yt=ze,!lt.ATHonly&&!lt.ATHshort){var $t=Dt.en.s[de][Je];if($t>0){var wt;wt=vt*Dt.thm.s[de][Je]*pt/$t,ht!=0&&(wt*=nt.nsPsy.shortfact[de]),Yt<wt&&(Yt=wt)}}ht!=0?zt[Ht++]=Yt:zt[Ht++]=Yt*nt.nsPsy.shortfact[de]}lt.useTemporal&&(zt[Ht-3]>zt[Ht-3+1]&&(zt[Ht-3+1]+=(zt[Ht-3]-zt[Ht-3+1])*nt.decay),zt[Ht-3+1]>zt[Ht-3+2]&&(zt[Ht-3+2]+=(zt[Ht-3+1]-zt[Ht-3+2])*nt.decay))}return ct};function Zt(lt){this.s=lt}this.calc_noise_core=function(lt,Dt,Ut,zt){var Ht=0,nt=Dt.s,Rt=lt.l3_enc;if(nt>lt.count1)for(;Ut--!=0;){var bt;bt=lt.xr[nt],nt++,Ht+=bt*bt,bt=lt.xr[nt],nt++,Ht+=bt*bt}else if(nt>lt.big_values){var ct=pi(2);for(ct[0]=0,ct[1]=zt;Ut--!=0;){var bt;bt=Math.abs(lt.xr[nt])-ct[Rt[nt]],nt++,Ht+=bt*bt,bt=Math.abs(lt.xr[nt])-ct[Rt[nt]],nt++,Ht+=bt*bt}}else for(;Ut--!=0;){var bt;bt=Math.abs(lt.xr[nt])-Qt[Rt[nt]]*zt,nt++,Ht+=bt*bt,bt=Math.abs(lt.xr[nt])-Qt[Rt[nt]]*zt,nt++,Ht+=bt*bt}return Dt.s=nt,Ht},this.calc_noise=function(lt,Dt,Ut,zt,Ht){var nt=0,Rt=0,bt,ct,Tt=0,kt=0,ht=0,pt=-20,vt=0,Yt=lt.scalefac,Ae=0;for(zt.over_SSD=0,bt=0;bt<lt.psymax;bt++){var ee=lt.global_gain-(Yt[Ae++]+(lt.preflag!=0?Ge[bt]:0)<<lt.scalefac_scale+1)-lt.subblock_gain[lt.window[bt]]*8,pe=0;if(Ht!=null&&Ht.step[bt]==ee)pe=Ht.noise[bt],vt+=lt.width[bt],Ut[nt++]=pe/Dt[Rt++],pe=Ht.noise_log[bt];else{var at=Se(ee);if(ct=lt.width[bt]>>1,vt+lt.width[bt]>lt.max_nonzero_coeff){var gt;gt=lt.max_nonzero_coeff-vt+1,gt>0?ct=gt>>1:ct=0}var Me=new Zt(vt);pe=this.calc_noise_core(lt,Me,ct,at),vt=Me.s,Ht!=null&&(Ht.step[bt]=ee,Ht.noise[bt]=pe),pe=Ut[nt++]=pe/Dt[Rt++],pe=$e.FAST_LOG10(Math.max(pe,1e-20)),Ht!=null&&(Ht.noise_log[bt]=pe)}if(Ht!=null&&(Ht.global_gain=lt.global_gain),ht+=pe,pe>0){var wt;wt=Math.max(0|pe*10+.5,1),zt.over_SSD+=wt*wt,Tt++,kt+=pe}pt=Math.max(pt,pe)}return zt.over_count=Tt,zt.tot_noise=ht,zt.over_noise=kt,zt.max_noise=pt,Tt},this.set_pinfo=function(lt,Dt,Ut,zt,Ht){var nt=lt.internal_flags,Rt,bt,ct,Tt,kt,ht=Dt.scalefac_scale==0?.5:1,pt=Dt.scalefac,vt=pi(L3Side.SFBMAX),Yt=pi(L3Side.SFBMAX),Ae=new CalcNoiseResult;calc_xmin(lt,Ut,Dt,vt),calc_noise(Dt,vt,Yt,Ae,null);var ee=0;for(bt=Dt.sfb_lmax,Dt.block_type!=F.SHORT_TYPE&&Dt.mixed_block_flag==0&&(bt=22),Rt=0;Rt<bt;Rt++){var pe=nt.scalefac_band.l[Rt],at=nt.scalefac_band.l[Rt+1],gt=at-pe;for(Tt=0;ee<at;ee++)Tt+=Dt.xr[ee]*Dt.xr[ee];Tt/=gt,kt=1e15,nt.pinfo.en[zt][Ht][Rt]=kt*Tt,nt.pinfo.xfsf[zt][Ht][Rt]=kt*vt[Rt]*Yt[Rt]/gt,Ut.en.l[Rt]>0&&!lt.ATHonly?Tt=Tt/Ut.en.l[Rt]:Tt=0,nt.pinfo.thr[zt][Ht][Rt]=kt*Math.max(Tt*Ut.thm.l[Rt],nt.ATH.l[Rt]),nt.pinfo.LAMEsfb[zt][Ht][Rt]=0,Dt.preflag!=0&&Rt>=11&&(nt.pinfo.LAMEsfb[zt][Ht][Rt]=-ht*Ge[Rt]),Rt<F.SBPSY_l&&(Wi(pt[Rt]>=0),nt.pinfo.LAMEsfb[zt][Ht][Rt]-=ht*pt[Rt])}if(Dt.block_type==F.SHORT_TYPE)for(bt=Rt,Rt=Dt.sfb_smin;Rt<F.SBMAX_s;Rt++)for(var pe=nt.scalefac_band.s[Rt],at=nt.scalefac_band.s[Rt+1],gt=at-pe,Me=0;Me<3;Me++){for(Tt=0,ct=pe;ct<at;ct++)Tt+=Dt.xr[ee]*Dt.xr[ee],ee++;Tt=Math.max(Tt/gt,1e-20),kt=1e15,nt.pinfo.en_s[zt][Ht][3*Rt+Me]=kt*Tt,nt.pinfo.xfsf_s[zt][Ht][3*Rt+Me]=kt*vt[bt]*Yt[bt]/gt,Ut.en.s[Rt][Me]>0?Tt=Tt/Ut.en.s[Rt][Me]:Tt=0,(lt.ATHonly||lt.ATHshort)&&(Tt=0),nt.pinfo.thr_s[zt][Ht][3*Rt+Me]=kt*Math.max(Tt*Ut.thm.s[Rt][Me],nt.ATH.s[Rt]),nt.pinfo.LAMEsfb_s[zt][Ht][3*Rt+Me]=-2*Dt.subblock_gain[Me],Rt<F.SBPSY_s&&(nt.pinfo.LAMEsfb_s[zt][Ht][3*Rt+Me]-=ht*pt[bt]),bt++}nt.pinfo.LAMEqss[zt][Ht]=Dt.global_gain,nt.pinfo.LAMEmainbits[zt][Ht]=Dt.part2_3_length+Dt.part2_length,nt.pinfo.LAMEsfbits[zt][Ht]=Dt.part2_length,nt.pinfo.over[zt][Ht]=Ae.over_count,nt.pinfo.max_noise[zt][Ht]=Ae.max_noise*10,nt.pinfo.over_noise[zt][Ht]=Ae.over_noise*10,nt.pinfo.tot_noise[zt][Ht]=Ae.tot_noise*10,nt.pinfo.over_SSD[zt][Ht]=Ae.over_SSD}}var Di=hr,Mr=m.System,Fr=m.Arrays,sn=m.new_int,Ms=m.assert;function Rc(){var Xt=null;this.qupvt=null,this.setModules=function(ct){this.qupvt=ct,Xt=ct};function ge(ct){this.bits=0|ct}var be=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function Se(ct,Tt,kt,ht,pt,vt){var Yt=.5946/Tt;for(ct=ct>>1;ct--!=0;)pt[vt++]=Yt>kt[ht++]?0:1,pt[vt++]=Yt>kt[ht++]?0:1}function Le(ct,Tt,kt,ht,pt,vt){ct=ct>>1;var Yt=ct%2;for(ct=ct>>1;ct--!=0;){var Ae,ee,pe,at,gt,Me,wt,$t;Ae=kt[ht++]*Tt,ee=kt[ht++]*Tt,gt=0|Ae,pe=kt[ht++]*Tt,Me=0|ee,at=kt[ht++]*Tt,wt=0|pe,Ae+=Xt.adj43[gt],$t=0|at,ee+=Xt.adj43[Me],pt[vt++]=0|Ae,pe+=Xt.adj43[wt],pt[vt++]=0|ee,at+=Xt.adj43[$t],pt[vt++]=0|pe,pt[vt++]=0|at}if(Yt!=0){var Ae,ee,gt,Me;Ae=kt[ht++]*Tt,ee=kt[ht++]*Tt,gt=0|Ae,Me=0|ee,Ae+=Xt.adj43[gt],ee+=Xt.adj43[Me],pt[vt++]=0|Ae,pt[vt++]=0|ee}}function me(ct,Tt,kt,ht,pt){var vt,Yt,Ae=0,ee,pe=0,at=0,gt=0,Me=Tt,wt=0,$t=Me,te=0,re=ct,de=0;for(ee=pt!=null&&ht.global_gain==pt.global_gain,ht.block_type==F.SHORT_TYPE?Yt=38:Yt=21,vt=0;vt<=Yt;vt++){var Je=-1;if((ee||ht.block_type==F.NORM_TYPE)&&(Je=ht.global_gain-(ht.scalefac[vt]+(ht.preflag!=0?Xt.pretab[vt]:0)<<ht.scalefac_scale+1)-ht.subblock_gain[ht.window[vt]]*8),Ms(ht.width[vt]>=0),ee&&pt.step[vt]==Je)pe!=0&&(Le(pe,kt,re,de,$t,te),pe=0),at!=0&&(Se(at,kt,re,de,$t,te),at=0);else{var ze=ht.width[vt];if(Ae+ht.width[vt]>ht.max_nonzero_coeff){var Ie;Ie=ht.max_nonzero_coeff-Ae+1,Fr.fill(Tt,ht.max_nonzero_coeff,576,0),ze=Ie,ze<0&&(ze=0),vt=Yt+1}if(pe==0&&at==0&&($t=Me,te=wt,re=ct,de=gt),pt!=null&&pt.sfb_count1>0&&vt>=pt.sfb_count1&&pt.step[vt]>0&&Je>=pt.step[vt]?(pe!=0&&(Le(pe,kt,re,de,$t,te),pe=0,$t=Me,te=wt,re=ct,de=gt),at+=ze):(at!=0&&(Se(at,kt,re,de,$t,te),at=0,$t=Me,te=wt,re=ct,de=gt),pe+=ze),ze<=0){at!=0&&(Se(at,kt,re,de,$t,te),at=0),pe!=0&&(Le(pe,kt,re,de,$t,te),pe=0);break}}vt<=Yt&&(wt+=ht.width[vt],gt+=ht.width[vt],Ae+=ht.width[vt])}pe!=0&&(Le(pe,kt,re,de,$t,te),pe=0),at!=0&&(Se(at,kt,re,de,$t,te),at=0)}function _e(ct,Tt,kt){var ht=0,pt=0;do{var vt=ct[Tt++],Yt=ct[Tt++];ht<vt&&(ht=vt),pt<Yt&&(pt=Yt)}while(Tt<kt);return ht<pt&&(ht=pt),ht}function hi(ct,Tt,kt,ht,pt,vt){var Yt=Jt.ht[ht].xlen*65536+Jt.ht[pt].xlen,Ae=0,ee;do{var pe=ct[Tt++],at=ct[Tt++];pe!=0&&(pe>14&&(pe=15,Ae+=Yt),pe*=16),at!=0&&(at>14&&(at=15,Ae+=Yt),pe+=at),Ae+=Jt.largetbl[pe]}while(Tt<kt);return ee=Ae&65535,Ae>>=16,Ae>ee&&(Ae=ee,ht=pt),vt.bits+=Ae,ht}function ai(ct,Tt,kt,ht){var pt=0,vt=Jt.ht[1].hlen;do{var Yt=ct[Tt+0]*2+ct[Tt+1];Tt+=2,pt+=vt[Yt]}while(Tt<kt);return ht.bits+=pt,1}function se(ct,Tt,kt,ht,pt){var vt=0,Yt,Ae=Jt.ht[ht].xlen,ee;ht==2?ee=Jt.table23:ee=Jt.table56;do{var pe=ct[Tt+0]*Ae+ct[Tt+1];Tt+=2,vt+=ee[pe]}while(Tt<kt);return Yt=vt&65535,vt>>=16,vt>Yt&&(vt=Yt,ht++),pt.bits+=vt,ht}function Ge(ct,Tt,kt,ht,pt){var vt=0,Yt=0,Ae=0,ee=Jt.ht[ht].xlen,pe=Jt.ht[ht].hlen,at=Jt.ht[ht+1].hlen,gt=Jt.ht[ht+2].hlen;do{var Me=ct[Tt+0]*ee+ct[Tt+1];Tt+=2,vt+=pe[Me],Yt+=at[Me],Ae+=gt[Me]}while(Tt<kt);var wt=ht;return vt>Yt&&(vt=Yt,wt++),vt>Ae&&(vt=Ae,wt=ht+2),pt.bits+=vt,wt}var Gt=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function Vt(ct,Tt,kt,ht){var pt=_e(ct,Tt,kt);switch(pt){case 0:return pt;case 1:return ai(ct,Tt,kt,ht);case 2:case 3:return se(ct,Tt,kt,Gt[pt-1],ht);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return Ge(ct,Tt,kt,Gt[pt-1],ht);default:if(pt>Di.IXMAX_VAL)return ht.bits=Di.LARGE_BITS,-1;pt-=15;var vt;for(vt=24;vt<32&&!(Jt.ht[vt].linmax>=pt);vt++);var Yt;for(Yt=vt-8;Yt<24&&!(Jt.ht[Yt].linmax>=pt);Yt++);return hi(ct,Tt,kt,Yt,vt,ht)}}this.noquant_count_bits=function(ct,Tt,kt){var ht=Tt.l3_enc,pt=Math.min(576,Tt.max_nonzero_coeff+2>>1<<1);for(kt!=null&&(kt.sfb_count1=0);pt>1&&!(ht[pt-1]|ht[pt-2]);pt-=2);Tt.count1=pt;for(var vt=0,Yt=0;pt>3;pt-=4){var Ae;if(((ht[pt-1]|ht[pt-2]|ht[pt-3]|ht[pt-4])&2147483647)>1)break;Ae=((ht[pt-4]*2+ht[pt-3])*2+ht[pt-2])*2+ht[pt-1],vt+=Jt.t32l[Ae],Yt+=Jt.t33l[Ae]}var ee=vt;if(Tt.count1table_select=0,vt>Yt&&(ee=Yt,Tt.count1table_select=1),Tt.count1bits=ee,Tt.big_values=pt,pt==0)return ee;if(Tt.block_type==F.SHORT_TYPE)vt=3*ct.scalefac_band.s[3],vt>Tt.big_values&&(vt=Tt.big_values),Yt=Tt.big_values;else if(Tt.block_type==F.NORM_TYPE){if(vt=Tt.region0_count=ct.bv_scf[pt-2],Yt=Tt.region1_count=ct.bv_scf[pt-1],Yt=ct.scalefac_band.l[vt+Yt+2],vt=ct.scalefac_band.l[vt+1],Yt<pt){var pe=new ge(ee);Tt.table_select[2]=Vt(ht,Yt,pt,pe),ee=pe.bits}}else Tt.region0_count=7,Tt.region1_count=F.SBMAX_l-1-7-1,vt=ct.scalefac_band.l[8],Yt=pt,vt>Yt&&(vt=Yt);if(vt=Math.min(vt,pt),Yt=Math.min(Yt,pt),0<vt){var pe=new ge(ee);Tt.table_select[0]=Vt(ht,0,vt,pe),ee=pe.bits}if(vt<Yt){var pe=new ge(ee);Tt.table_select[1]=Vt(ht,vt,Yt,pe),ee=pe.bits}if(ct.use_best_huffman==2&&(Tt.part2_3_length=ee,best_huffman_divide(ct,Tt),ee=Tt.part2_3_length),kt!=null&&Tt.block_type==F.NORM_TYPE){for(var at=0;ct.scalefac_band.l[at]<Tt.big_values;)at++;kt.sfb_count1=at}return ee},this.count_bits=function(ct,Tt,kt,ht){var pt=kt.l3_enc,vt=Di.IXMAX_VAL/Xt.IPOW20(kt.global_gain);if(kt.xrpow_max>vt)return Di.LARGE_BITS;if(me(Tt,pt,Xt.IPOW20(kt.global_gain),kt,ht),ct.substep_shaping&2)for(var Yt=0,Ae=kt.global_gain+kt.scalefac_scale,ee=.634521682242439/Xt.IPOW20(Ae),pe=0;pe<kt.sfbmax;pe++){var at=kt.width[pe];if(ct.pseudohalf[pe]==0)Yt+=at;else{var gt;for(gt=Yt,Yt+=at;gt<Yt;++gt)pt[gt]=Tt[gt]>=ee?pt[gt]:0}}return this.noquant_count_bits(ct,kt,ht)};function Qt(ct,Tt,kt,ht,pt,vt,Yt){for(var Ae=Tt.big_values,ee=0;ee<=22;ee++)ht[ee]=Di.LARGE_BITS;for(var ee=0;ee<16;ee++){var pe=ct.scalefac_band.l[ee+1];if(pe>=Ae)break;var at=0,gt=new ge(at),Me=Vt(kt,0,pe,gt);at=gt.bits;for(var wt=0;wt<8;wt++){var $t=ct.scalefac_band.l[ee+wt+2];if($t>=Ae)break;var te=at;gt=new ge(te);var re=Vt(kt,pe,$t,gt);te=gt.bits,ht[ee+wt]>te&&(ht[ee+wt]=te,pt[ee+wt]=ee,vt[ee+wt]=Me,Yt[ee+wt]=re)}}}function J(ct,Tt,kt,ht,pt,vt,Yt,Ae){for(var ee=Tt.big_values,pe=2;pe<F.SBMAX_l+1;pe++){var at=ct.scalefac_band.l[pe];if(at>=ee)break;var gt=pt[pe-2]+Tt.count1bits;if(kt.part2_3_length<=gt)break;var Me=new ge(gt),wt=Vt(ht,at,ee,Me);gt=Me.bits,!(kt.part2_3_length<=gt)&&(kt.assign(Tt),kt.part2_3_length=gt,kt.region0_count=vt[pe-2],kt.region1_count=pe-2-vt[pe-2],kt.table_select[0]=Yt[pe-2],kt.table_select[1]=Ae[pe-2],kt.table_select[2]=wt)}}this.best_huffman_divide=function(ct,Tt){var kt=new Ci,ht=Tt.l3_enc,pt=sn(23),vt=sn(23),Yt=sn(23),Ae=sn(23);if(!(Tt.block_type==F.SHORT_TYPE&&ct.mode_gr==1)){kt.assign(Tt),Tt.block_type==F.NORM_TYPE&&(Qt(ct,Tt,ht,pt,vt,Yt,Ae),J(ct,kt,Tt,ht,pt,vt,Yt,Ae));var ee=kt.big_values;if(!(ee==0||(ht[ee-2]|ht[ee-1])>1)&&(ee=Tt.count1+2,!(ee>576))){kt.assign(Tt),kt.count1=ee;for(var pe=0,at=0;ee>kt.big_values;ee-=4){var gt=((ht[ee-4]*2+ht[ee-3])*2+ht[ee-2])*2+ht[ee-1];pe+=Jt.t32l[gt],at+=Jt.t33l[gt]}if(kt.big_values=ee,kt.count1table_select=0,pe>at&&(pe=at,kt.count1table_select=1),kt.count1bits=pe,kt.block_type==F.NORM_TYPE)J(ct,kt,Tt,ht,pt,vt,Yt,Ae);else{if(kt.part2_3_length=pe,pe=ct.scalefac_band.l[8],pe>ee&&(pe=ee),pe>0){var Me=new ge(kt.part2_3_length);kt.table_select[0]=Vt(ht,0,pe,Me),kt.part2_3_length=Me.bits}if(ee>pe){var Me=new ge(kt.part2_3_length);kt.table_select[1]=Vt(ht,pe,ee,Me),kt.part2_3_length=Me.bits}Tt.part2_3_length>kt.part2_3_length&&Tt.assign(kt)}}}};var ae=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],ne=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],Zt=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],lt=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];Rc.slen1_tab=Zt,Rc.slen2_tab=lt;function Dt(ct,Tt){for(var kt,ht=Tt.tt[1][ct],pt=Tt.tt[0][ct],vt=0;vt<Jt.scfsi_band.length-1;vt++){for(kt=Jt.scfsi_band[vt];kt<Jt.scfsi_band[vt+1]&&!(pt.scalefac[kt]!=ht.scalefac[kt]&&ht.scalefac[kt]>=0);kt++);if(kt==Jt.scfsi_band[vt+1]){for(kt=Jt.scfsi_band[vt];kt<Jt.scfsi_band[vt+1];kt++)ht.scalefac[kt]=-1;Tt.scfsi[ct][vt]=1}}var Yt=0,Ae=0;for(kt=0;kt<11;kt++)ht.scalefac[kt]!=-1&&(Ae++,Yt<ht.scalefac[kt]&&(Yt=ht.scalefac[kt]));for(var ee=0,pe=0;kt<F.SBPSY_l;kt++)ht.scalefac[kt]!=-1&&(pe++,ee<ht.scalefac[kt]&&(ee=ht.scalefac[kt]));for(var vt=0;vt<16;vt++)if(Yt<ae[vt]&&ee<ne[vt]){var at=Zt[vt]*Ae+lt[vt]*pe;ht.part2_length>at&&(ht.part2_length=at,ht.scalefac_compress=vt)}}this.best_scalefac_store=function(ct,Tt,kt,ht){var pt=ht.tt[Tt][kt],vt,Yt,Ae,ee,pe=0;for(Ae=0,vt=0;vt<pt.sfbmax;vt++){var at=pt.width[vt];for(Ae+=at,ee=-at;ee<0&&pt.l3_enc[ee+Ae]==0;ee++);ee==0&&(pt.scalefac[vt]=pe=-2)}if(pt.scalefac_scale==0&&pt.preflag==0){var gt=0;for(vt=0;vt<pt.sfbmax;vt++)pt.scalefac[vt]>0&&(gt|=pt.scalefac[vt]);if(!(gt&1)&&gt!=0){for(vt=0;vt<pt.sfbmax;vt++)pt.scalefac[vt]>0&&(pt.scalefac[vt]>>=1);pt.scalefac_scale=pe=1}}if(pt.preflag==0&&pt.block_type!=F.SHORT_TYPE&&ct.mode_gr==2){for(vt=11;vt<F.SBPSY_l&&!(pt.scalefac[vt]<Xt.pretab[vt]&&pt.scalefac[vt]!=-2);vt++);if(vt==F.SBPSY_l){for(vt=11;vt<F.SBPSY_l;vt++)pt.scalefac[vt]>0&&(pt.scalefac[vt]-=Xt.pretab[vt]);pt.preflag=pe=1}}for(Yt=0;Yt<4;Yt++)ht.scfsi[kt][Yt]=0;for(ct.mode_gr==2&&Tt==1&&ht.tt[0][kt].block_type!=F.SHORT_TYPE&&ht.tt[1][kt].block_type!=F.SHORT_TYPE&&(Dt(kt,ht),pe=0),vt=0;vt<pt.sfbmax;vt++)pt.scalefac[vt]==-2&&(pt.scalefac[vt]=0);pe!=0&&(ct.mode_gr==2?this.scale_bitcount(pt):this.scale_bitcount_lsf(ct,pt))};function Ut(ct,Tt){for(var kt=0;kt<Tt;++kt)if(ct[kt]<0)return!1;return!0}var zt=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],Ht=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],nt=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(ct){var Tt,kt,ht=0,pt=0,vt,Yt=ct.scalefac;if(Ms(Ut(Yt,ct.sfbmax)),ct.block_type==F.SHORT_TYPE)vt=zt,ct.mixed_block_flag!=0&&(vt=Ht);else if(vt=nt,ct.preflag==0){for(kt=11;kt<F.SBPSY_l&&!(Yt[kt]<Xt.pretab[kt]);kt++);if(kt==F.SBPSY_l)for(ct.preflag=1,kt=11;kt<F.SBPSY_l;kt++)Yt[kt]-=Xt.pretab[kt]}for(kt=0;kt<ct.sfbdivide;kt++)ht<Yt[kt]&&(ht=Yt[kt]);for(;kt<ct.sfbmax;kt++)pt<Yt[kt]&&(pt=Yt[kt]);for(ct.part2_length=Di.LARGE_BITS,Tt=0;Tt<16;Tt++)ht<ae[Tt]&&pt<ne[Tt]&&ct.part2_length>vt[Tt]&&(ct.part2_length=vt[Tt],ct.scalefac_compress=Tt);return ct.part2_length==Di.LARGE_BITS};var Rt=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(ct,Tt){var kt,ht,pt,vt,Yt,Ae,ee,pe,at=sn(4),gt=Tt.scalefac;for(Tt.preflag!=0?kt=2:kt=0,ee=0;ee<4;ee++)at[ee]=0;if(Tt.block_type==F.SHORT_TYPE){ht=1;var Me=Xt.nr_of_sfb_block[kt][ht];for(pe=0,pt=0;pt<4;pt++)for(vt=Me[pt]/3,ee=0;ee<vt;ee++,pe++)for(Yt=0;Yt<3;Yt++)gt[pe*3+Yt]>at[pt]&&(at[pt]=gt[pe*3+Yt])}else{ht=0;var Me=Xt.nr_of_sfb_block[kt][ht];for(pe=0,pt=0;pt<4;pt++)for(vt=Me[pt],ee=0;ee<vt;ee++,pe++)gt[pe]>at[pt]&&(at[pt]=gt[pe])}for(Ae=!1,pt=0;pt<4;pt++)at[pt]>Rt[kt][pt]&&(Ae=!0);if(!Ae){var wt,$t,te,re;for(Tt.sfb_partition_table=Xt.nr_of_sfb_block[kt][ht],pt=0;pt<4;pt++)Tt.slen[pt]=bt[at[pt]];switch(wt=Tt.slen[0],$t=Tt.slen[1],te=Tt.slen[2],re=Tt.slen[3],kt){case 0:Tt.scalefac_compress=(wt*5+$t<<4)+(te<<2)+re;break;case 1:Tt.scalefac_compress=400+(wt*5+$t<<2)+te;break;case 2:Tt.scalefac_compress=500+wt*3+$t;break;default:Mr.err.printf(`intensity stereo not implemented yet
`);break}}if(!Ae)for(Ms(Tt.sfb_partition_table!=null),Tt.part2_length=0,pt=0;pt<4;pt++)Tt.part2_length+=Tt.slen[pt]*Tt.sfb_partition_table[pt];return Ae};var bt=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(ct){for(var Tt=2;Tt<=576;Tt+=2){for(var kt=0,ht;ct.scalefac_band.l[++kt]<Tt;);for(ht=be[kt][0];ct.scalefac_band.l[ht+1]>Tt;)ht--;for(ht<0&&(ht=be[kt][0]),ct.bv_scf[Tt-2]=ht,ht=be[kt][1];ct.scalefac_band.l[ht+ct.bv_scf[Tt-2]+2]>Tt;)ht--;ht<0&&(ht=be[kt][1]),ct.bv_scf[Tt-1]=ht}}}var ll=Rc,Hs=m.System,yp=m.Arrays,h0=m.new_byte,da=m.new_float_n,Ch=m.new_int,Mn=m.assert;Bf.EQ=function(Xt,ge){return Math.abs(Xt)>Math.abs(ge)?Math.abs(Xt-ge)<=Math.abs(Xt)*1e-6:Math.abs(Xt-ge)<=Math.abs(ge)*1e-6},Bf.NEQ=function(Xt,ge){return!Bf.EQ(Xt,ge)};function Bf(){var Xt=this,ge=32773,be=null,Se=null,Le=null,me=null;this.setModules=function(Rt,bt,ct,Tt){be=Rt,Se=bt,Le=ct,me=Tt};var _e=null,hi=0,ai=0,se=0;this.getframebits=function(Rt){var bt=Rt.internal_flags,ct;bt.bitrate_index!=0?ct=Jt.bitrate_table[Rt.version][bt.bitrate_index]:ct=Rt.brate;var Tt=0|(Rt.version+1)*72e3*ct/Rt.out_samplerate+bt.padding;return 8*Tt};function Ge(Rt){Hs.arraycopy(Rt.header[Rt.w_ptr].buf,0,_e,ai,Rt.sideinfo_len),ai+=Rt.sideinfo_len,hi+=Rt.sideinfo_len*8,Rt.w_ptr=Rt.w_ptr+1&Dr.MAX_HEADER_BUF-1}function Gt(Rt,bt,ct){for(;ct>0;){var Tt;se==0&&(se=8,ai++,Mn(Rt.header[Rt.w_ptr].write_timing>=hi),Rt.header[Rt.w_ptr].write_timing==hi&&Ge(Rt),_e[ai]=0),Tt=Math.min(ct,se),ct-=Tt,se-=Tt,_e[ai]|=bt>>ct<<se,hi+=Tt}}function Vt(Rt,bt,ct){for(;ct>0;){var Tt;se==0&&(se=8,ai++,_e[ai]=0),Tt=Math.min(ct,se),ct-=Tt,se-=Tt,_e[ai]|=bt>>ct<<se,hi+=Tt}}function Qt(Rt,bt){var ct=Rt.internal_flags,Tt;if(bt>=8&&(Gt(ct,76,8),bt-=8),bt>=8&&(Gt(ct,65,8),bt-=8),bt>=8&&(Gt(ct,77,8),bt-=8),bt>=8&&(Gt(ct,69,8),bt-=8),bt>=32){var kt=Le.getLameShortVersion();if(bt>=32)for(Tt=0;Tt<kt.length&&bt>=8;++Tt)bt-=8,Gt(ct,kt.charAt(Tt),8)}for(;bt>=1;bt-=1)Gt(ct,ct.ancillary_flag,1),ct.ancillary_flag^=Rt.disable_reservoir?0:1}function J(Rt,bt,ct){for(var Tt=Rt.header[Rt.h_ptr].ptr;ct>0;){var kt=Math.min(ct,8-(Tt&7));ct-=kt,Rt.header[Rt.h_ptr].buf[Tt>>3]|=bt>>ct<<8-(Tt&7)-kt,Tt+=kt}Rt.header[Rt.h_ptr].ptr=Tt}function ae(Rt,bt){Rt<<=8;for(var ct=0;ct<8;ct++)Rt<<=1,bt<<=1,(bt^Rt)&65536&&(bt^=ge);return bt}this.CRC_writeheader=function(Rt,bt){var ct=65535;ct=ae(bt[2]&255,ct),ct=ae(bt[3]&255,ct);for(var Tt=6;Tt<Rt.sideinfo_len;Tt++)ct=ae(bt[Tt]&255,ct);bt[4]=byte(ct>>8),bt[5]=byte(ct&255)};function ne(Rt,bt){var ct=Rt.internal_flags,Tt,kt,ht;if(Tt=ct.l3_side,ct.header[ct.h_ptr].ptr=0,yp.fill(ct.header[ct.h_ptr].buf,0,ct.sideinfo_len,0),Rt.out_samplerate<16e3?J(ct,4094,12):J(ct,4095,12),J(ct,Rt.version,1),J(ct,1,2),J(ct,Rt.error_protection?0:1,1),J(ct,ct.bitrate_index,4),J(ct,ct.samplerate_index,2),J(ct,ct.padding,1),J(ct,Rt.extension,1),J(ct,Rt.mode.ordinal(),2),J(ct,ct.mode_ext,2),J(ct,Rt.copyright,1),J(ct,Rt.original,1),J(ct,Rt.emphasis,2),Rt.error_protection&&J(ct,0,16),Rt.version==1){for(Mn(Tt.main_data_begin>=0),J(ct,Tt.main_data_begin,9),ct.channels_out==2?J(ct,Tt.private_bits,3):J(ct,Tt.private_bits,5),ht=0;ht<ct.channels_out;ht++){var pt;for(pt=0;pt<4;pt++)J(ct,Tt.scfsi[ht][pt],1)}for(kt=0;kt<2;kt++)for(ht=0;ht<ct.channels_out;ht++){var vt=Tt.tt[kt][ht];J(ct,vt.part2_3_length+vt.part2_length,12),J(ct,vt.big_values/2,9),J(ct,vt.global_gain,8),J(ct,vt.scalefac_compress,4),vt.block_type!=F.NORM_TYPE?(J(ct,1,1),J(ct,vt.block_type,2),J(ct,vt.mixed_block_flag,1),vt.table_select[0]==14&&(vt.table_select[0]=16),J(ct,vt.table_select[0],5),vt.table_select[1]==14&&(vt.table_select[1]=16),J(ct,vt.table_select[1],5),J(ct,vt.subblock_gain[0],3),J(ct,vt.subblock_gain[1],3),J(ct,vt.subblock_gain[2],3)):(J(ct,0,1),vt.table_select[0]==14&&(vt.table_select[0]=16),J(ct,vt.table_select[0],5),vt.table_select[1]==14&&(vt.table_select[1]=16),J(ct,vt.table_select[1],5),vt.table_select[2]==14&&(vt.table_select[2]=16),J(ct,vt.table_select[2],5),Mn(0<=vt.region0_count&&vt.region0_count<16),Mn(0<=vt.region1_count&&vt.region1_count<8),J(ct,vt.region0_count,4),J(ct,vt.region1_count,3)),J(ct,vt.preflag,1),J(ct,vt.scalefac_scale,1),J(ct,vt.count1table_select,1)}}else for(Mn(Tt.main_data_begin>=0),J(ct,Tt.main_data_begin,8),J(ct,Tt.private_bits,ct.channels_out),kt=0,ht=0;ht<ct.channels_out;ht++){var vt=Tt.tt[kt][ht];J(ct,vt.part2_3_length+vt.part2_length,12),J(ct,vt.big_values/2,9),J(ct,vt.global_gain,8),J(ct,vt.scalefac_compress,9),vt.block_type!=F.NORM_TYPE?(J(ct,1,1),J(ct,vt.block_type,2),J(ct,vt.mixed_block_flag,1),vt.table_select[0]==14&&(vt.table_select[0]=16),J(ct,vt.table_select[0],5),vt.table_select[1]==14&&(vt.table_select[1]=16),J(ct,vt.table_select[1],5),J(ct,vt.subblock_gain[0],3),J(ct,vt.subblock_gain[1],3),J(ct,vt.subblock_gain[2],3)):(J(ct,0,1),vt.table_select[0]==14&&(vt.table_select[0]=16),J(ct,vt.table_select[0],5),vt.table_select[1]==14&&(vt.table_select[1]=16),J(ct,vt.table_select[1],5),vt.table_select[2]==14&&(vt.table_select[2]=16),J(ct,vt.table_select[2],5),Mn(0<=vt.region0_count&&vt.region0_count<16),Mn(0<=vt.region1_count&&vt.region1_count<8),J(ct,vt.region0_count,4),J(ct,vt.region1_count,3)),J(ct,vt.scalefac_scale,1),J(ct,vt.count1table_select,1)}Rt.error_protection&&CRC_writeheader(ct,ct.header[ct.h_ptr].buf);{var Yt=ct.h_ptr;Mn(ct.header[Yt].ptr==ct.sideinfo_len*8),ct.h_ptr=Yt+1&Dr.MAX_HEADER_BUF-1,ct.header[ct.h_ptr].write_timing=ct.header[Yt].write_timing+bt,ct.h_ptr==ct.w_ptr&&Hs.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function Zt(Rt,bt){var ct=Jt.ht[bt.count1table_select+32],Tt,kt=0,ht=bt.big_values,pt=bt.big_values;for(Mn(bt.count1table_select<2),Tt=(bt.count1-bt.big_values)/4;Tt>0;--Tt){var vt=0,Yt=0,Ae;Ae=bt.l3_enc[ht+0],Ae!=0&&(Yt+=8,bt.xr[pt+0]<0&&vt++),Ae=bt.l3_enc[ht+1],Ae!=0&&(Yt+=4,vt*=2,bt.xr[pt+1]<0&&vt++),Ae=bt.l3_enc[ht+2],Ae!=0&&(Yt+=2,vt*=2,bt.xr[pt+2]<0&&vt++),Ae=bt.l3_enc[ht+3],Ae!=0&&(Yt++,vt*=2,bt.xr[pt+3]<0&&vt++),ht+=4,pt+=4,Gt(Rt,vt+ct.table[Yt],ct.hlen[Yt]),kt+=ct.hlen[Yt]}return kt}function lt(Rt,bt,ct,Tt,kt){var ht=Jt.ht[bt],pt=0;if(bt==0)return pt;for(var vt=ct;vt<Tt;vt+=2){var Yt=0,Ae=0,ee=ht.xlen,pe=ht.xlen,at=0,gt=kt.l3_enc[vt],Me=kt.l3_enc[vt+1];if(gt!=0&&(kt.xr[vt]<0&&at++,Yt--),bt>15){if(gt>14){var wt=gt-15;Mn(wt<=ht.linmax),at|=wt<<1,Ae=ee,gt=15}if(Me>14){var $t=Me-15;Mn($t<=ht.linmax),at<<=ee,at|=$t,Ae+=ee,Me=15}pe=16}Me!=0&&(at<<=1,kt.xr[vt+1]<0&&at++,Yt--),gt=gt*pe+Me,Ae-=Yt,Yt+=ht.hlen[gt],Gt(Rt,ht.table[gt],Yt),Gt(Rt,at,Ae),pt+=Yt+Ae}return pt}function Dt(Rt,bt){var ct=3*Rt.scalefac_band.s[3];ct>bt.big_values&&(ct=bt.big_values);var Tt=lt(Rt,bt.table_select[0],0,ct,bt);return Tt+=lt(Rt,bt.table_select[1],ct,bt.big_values,bt),Tt}function Ut(Rt,bt){var ct,Tt,kt,ht;ct=bt.big_values;var pt=bt.region0_count+1;return Mn(pt<Rt.scalefac_band.l.length),kt=Rt.scalefac_band.l[pt],pt+=bt.region1_count+1,Mn(pt<Rt.scalefac_band.l.length),ht=Rt.scalefac_band.l[pt],kt>ct&&(kt=ct),ht>ct&&(ht=ct),Tt=lt(Rt,bt.table_select[0],0,kt,bt),Tt+=lt(Rt,bt.table_select[1],kt,ht,bt),Tt+=lt(Rt,bt.table_select[2],ht,ct,bt),Tt}function zt(Rt){var bt,ct,Tt,kt,ht=0,pt=Rt.internal_flags,vt=pt.l3_side;if(Rt.version==1)for(bt=0;bt<2;bt++)for(ct=0;ct<pt.channels_out;ct++){var Yt=vt.tt[bt][ct],Ae=ll.slen1_tab[Yt.scalefac_compress],ee=ll.slen2_tab[Yt.scalefac_compress];for(kt=0,Tt=0;Tt<Yt.sfbdivide;Tt++)Yt.scalefac[Tt]!=-1&&(Gt(pt,Yt.scalefac[Tt],Ae),kt+=Ae);for(;Tt<Yt.sfbmax;Tt++)Yt.scalefac[Tt]!=-1&&(Gt(pt,Yt.scalefac[Tt],ee),kt+=ee);Mn(kt==Yt.part2_length),Yt.block_type==F.SHORT_TYPE?kt+=Dt(pt,Yt):kt+=Ut(pt,Yt),kt+=Zt(pt,Yt),Mn(kt==Yt.part2_3_length+Yt.part2_length),ht+=kt}else for(bt=0,ct=0;ct<pt.channels_out;ct++){var Yt=vt.tt[bt][ct],pe,at,gt=0;if(Mn(Yt.sfb_partition_table!=null),kt=0,Tt=0,at=0,Yt.block_type==F.SHORT_TYPE){for(;at<4;at++){var Me=Yt.sfb_partition_table[at]/3,wt=Yt.slen[at];for(pe=0;pe<Me;pe++,Tt++)Gt(pt,Math.max(Yt.scalefac[Tt*3+0],0),wt),Gt(pt,Math.max(Yt.scalefac[Tt*3+1],0),wt),Gt(pt,Math.max(Yt.scalefac[Tt*3+2],0),wt),gt+=3*wt}kt+=Dt(pt,Yt)}else{for(;at<4;at++){var Me=Yt.sfb_partition_table[at],wt=Yt.slen[at];for(pe=0;pe<Me;pe++,Tt++)Gt(pt,Math.max(Yt.scalefac[Tt],0),wt),gt+=wt}kt+=Ut(pt,Yt)}kt+=Zt(pt,Yt),Mn(kt==Yt.part2_3_length),Mn(gt==Yt.part2_length),ht+=gt+kt}return ht}function Ht(){this.total=0}function nt(Rt,bt){var ct=Rt.internal_flags,Tt,kt,ht,pt,vt;return vt=ct.w_ptr,pt=ct.h_ptr-1,pt==-1&&(pt=Dr.MAX_HEADER_BUF-1),Tt=ct.header[pt].write_timing-hi,bt.total=Tt,Tt>=0&&(kt=1+pt-vt,pt<vt&&(kt=1+pt-vt+Dr.MAX_HEADER_BUF),Tt-=kt*8*ct.sideinfo_len),ht=Xt.getframebits(Rt),Tt+=ht,bt.total+=ht,bt.total%8!=0?bt.total=1+bt.total/8:bt.total=bt.total/8,bt.total+=ai+1,Tt<0&&Hs.err.println(`strange error flushing buffer ... 
`),Tt}this.flush_bitstream=function(Rt){var bt=Rt.internal_flags,ct,Tt,kt=bt.h_ptr-1;if(kt==-1&&(kt=Dr.MAX_HEADER_BUF-1),ct=bt.l3_side,!((Tt=nt(Rt,new Ht))<0)){if(Qt(Rt,Tt),Mn(bt.header[kt].write_timing+this.getframebits(Rt)==hi),bt.ResvSize=0,ct.main_data_begin=0,bt.findReplayGain){var ht=be.GetTitleGain(bt.rgdata);Mn(NEQ(ht,H.GAIN_NOT_ENOUGH_SAMPLES)),bt.RadioGain=Math.floor(ht*10+.5)|0}bt.findPeakSample&&(bt.noclipGainChange=Math.ceil(Math.log10(bt.PeakSample/32767)*20*10)|0,bt.noclipGainChange>0&&(EQ(Rt.scale,1)||EQ(Rt.scale,0))?bt.noclipScale=Math.floor(32767/bt.PeakSample*100)/100:bt.noclipScale=-1)}},this.add_dummy_byte=function(Rt,bt,ct){for(var Tt=Rt.internal_flags,kt;ct-- >0;)for(Vt(Tt,bt,8),kt=0;kt<Dr.MAX_HEADER_BUF;++kt)Tt.header[kt].write_timing+=8},this.format_bitstream=function(Rt){var bt=Rt.internal_flags,ct;ct=bt.l3_side;var Tt=this.getframebits(Rt);Qt(Rt,ct.resvDrain_pre),ne(Rt,Tt);var kt=8*bt.sideinfo_len;if(kt+=zt(Rt),Qt(Rt,ct.resvDrain_post),kt+=ct.resvDrain_post,ct.main_data_begin+=(Tt-kt)/8,nt(Rt,new Ht)!=bt.ResvSize&&Hs.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),ct.main_data_begin*8!=bt.ResvSize&&(Hs.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*ct.main_data_begin,bt.ResvSize,ct.resvDrain_post,ct.resvDrain_pre,8*bt.sideinfo_len,kt-ct.resvDrain_post-8*bt.sideinfo_len,kt,kt%8,Tt),Hs.err.println("This is a fatal error.  It has several possible causes:"),Hs.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),Hs.err.println(" 9%%  Your system is overclocked"),Hs.err.println(" 1%%  bug in LAME encoding library"),bt.ResvSize=ct.main_data_begin*8),hi>1e9){var ht;for(ht=0;ht<Dr.MAX_HEADER_BUF;++ht)bt.header[ht].write_timing-=hi;hi=0}return 0},this.copy_buffer=function(Rt,bt,ct,Tt,kt){var ht=ai+1;if(ht<=0)return 0;if(Tt!=0&&ht>Tt)return-1;if(Hs.arraycopy(_e,0,bt,ct,ht),ai=-1,se=0,kt!=0){var pt=Ch(1);if(pt[0]=Rt.nMusicCRC,me.updateMusicCRC(pt,bt,ct,ht),Rt.nMusicCRC=pt[0],ht>0&&(Rt.VBR_seek_table.nBytesWritten+=ht),Rt.decode_on_the_fly){for(var vt=da([2,1152]),Yt=ht,Ae=-1,ee;Ae!=0;)if(Ae=Se.hip_decode1_unclipped(Rt.hip,bt,ct,Yt,vt[0],vt[1]),Yt=0,Ae==-1&&(Ae=0),Ae>0){if(Rt.findPeakSample){for(ee=0;ee<Ae;ee++)vt[0][ee]>Rt.PeakSample?Rt.PeakSample=vt[0][ee]:-vt[0][ee]>Rt.PeakSample&&(Rt.PeakSample=-vt[0][ee]);if(Rt.channels_out>1)for(ee=0;ee<Ae;ee++)vt[1][ee]>Rt.PeakSample?Rt.PeakSample=vt[1][ee]:-vt[1][ee]>Rt.PeakSample&&(Rt.PeakSample=-vt[1][ee])}if(Rt.findReplayGain&&be.AnalyzeSamples(Rt.rgdata,vt[0],0,vt[1],0,Ae,Rt.channels_out)==H.GAIN_ANALYSIS_ERROR)return-6}}}return ht},this.init_bit_stream_w=function(Rt){_e=h0(tn.LAME_MAXMP3BUFFER),Rt.h_ptr=Rt.w_ptr=0,Rt.header[Rt.h_ptr].write_timing=0,ai=-1,se=0,hi=0}}var Xl=Bf,xp=m.System,qr=m.VbrMode,Eh=m.ShortBlock,Ql=m.new_float,Ha=m.new_int_n,c0=m.new_short_n,$a=m.assert;function es(){var Xt=this,ge=128*1024;es.V9=410,es.V8=420,es.V7=430,es.V6=440,es.V5=450,es.V4=460,es.V3=470,es.V2=480,es.V1=490,es.V0=500,es.R3MIX=1e3,es.STANDARD=1001,es.EXTREME=1002,es.INSANE=1003,es.STANDARD_FAST=1004,es.EXTREME_FAST=1005,es.MEDIUM=1006,es.MEDIUM_FAST=1007;var be=16384+ge;es.LAME_MAXMP3BUFFER=be;var Se,Le,me,_e,hi,ai=new At,se,Ge,Gt;this.enc=new F,this.setModules=function(at,gt,Me,wt,$t,te,re,de,Je){Se=at,Le=gt,me=Me,_e=wt,hi=$t,se=te,Ge=de,Gt=Je,this.enc.setModules(Le,ai,_e,se)};function Vt(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=Ql(F.SBMAX_l),this.bo_s_weight=Ql(F.SBMAX_s)}function Qt(){this.lowerlimit=0}function J(at,gt){this.lowpass=gt}var ae=4294479419;function ne(at){var gt;return at.class_id=ae,gt=at.internal_flags=new Dr,at.mode=Nt.NOT_SET,at.original=1,at.in_samplerate=44100,at.num_channels=2,at.num_samples=-1,at.bWriteVbrTag=!0,at.quality=-1,at.short_blocks=null,gt.subblock_gain=-1,at.lowpassfreq=0,at.highpassfreq=0,at.lowpasswidth=-1,at.highpasswidth=-1,at.VBR=qr.vbr_off,at.VBR_q=4,at.ATHcurve=-1,at.VBR_mean_bitrate_kbps=128,at.VBR_min_bitrate_kbps=0,at.VBR_max_bitrate_kbps=0,at.VBR_hard_min=0,gt.VBR_min_bitrate=1,gt.VBR_max_bitrate=13,at.quant_comp=-1,at.quant_comp_short=-1,at.msfix=-1,gt.resample_ratio=1,gt.OldValue[0]=180,gt.OldValue[1]=180,gt.CurrentStep[0]=4,gt.CurrentStep[1]=4,gt.masking_lower=1,gt.nsPsy.attackthre=-1,gt.nsPsy.attackthre_s=-1,at.scale=-1,at.athaa_type=-1,at.ATHtype=-1,at.athaa_loudapprox=-1,at.athaa_sensitivity=0,at.useTemporal=null,at.interChRatio=-1,gt.mf_samples_to_encode=F.ENCDELAY+F.POSTDELAY,at.encoder_padding=0,gt.mf_size=F.ENCDELAY-F.MDCTDELAY,at.findReplayGain=!1,at.decode_on_the_fly=!1,gt.decode_on_the_fly=!1,gt.findReplayGain=!1,gt.findPeakSample=!1,gt.RadioGain=0,gt.AudiophileGain=0,gt.noclipGainChange=0,gt.noclipScale=-1,at.preset=0,at.write_id3tag_automatic=!0,0}this.lame_init=function(){var at=new xe;return ne(at),at.lame_allocated_gfp=1,at};function Zt(at){return at>1?0:at<=0?1:Math.cos(Math.PI/2*at)}this.nearestBitrateFullIndex=function(at){var gt=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],Me=0,wt=0,$t=0,te=0;te=gt[16],$t=16,wt=gt[16],Me=16;for(var re=0;re<16;re++)if(Math.max(at,gt[re+1])!=at){te=gt[re+1],$t=re+1,wt=gt[re],Me=re;break}return te-at>at-wt?Me:$t};function lt(at,gt){var Me=44100;return gt>=48e3?Me=48e3:gt>=44100?Me=44100:gt>=32e3?Me=32e3:gt>=24e3?Me=24e3:gt>=22050?Me=22050:gt>=16e3?Me=16e3:gt>=12e3?Me=12e3:gt>=11025?Me=11025:gt>=8e3&&(Me=8e3),at==-1?Me:(at<=15960&&(Me=44100),at<=15250&&(Me=32e3),at<=11220&&(Me=24e3),at<=9970&&(Me=22050),at<=7230&&(Me=16e3),at<=5420&&(Me=12e3),at<=4510&&(Me=11025),at<=3970&&(Me=8e3),gt<Me?gt>44100?48e3:gt>32e3?44100:gt>24e3?32e3:gt>22050?24e3:gt>16e3?22050:gt>12e3?16e3:gt>11025?12e3:gt>8e3?11025:8e3:Me)}function Dt(at,gt){switch(at){case 44100:return gt.version=1,0;case 48e3:return gt.version=1,1;case 32e3:return gt.version=1,2;case 22050:return gt.version=0,0;case 24e3:return gt.version=0,1;case 16e3:return gt.version=0,2;case 11025:return gt.version=0,0;case 12e3:return gt.version=0,1;case 8e3:return gt.version=0,2;default:return gt.version=0,-1}}function Ut(at,gt,Me){Me<16e3&&(gt=2);for(var wt=Jt.bitrate_table[gt][1],$t=2;$t<=14;$t++)Jt.bitrate_table[gt][$t]>0&&Math.abs(Jt.bitrate_table[gt][$t]-at)<Math.abs(wt-at)&&(wt=Jt.bitrate_table[gt][$t]);return wt}function zt(at,gt,Me){Me<16e3&&(gt=2);for(var wt=0;wt<=14;wt++)if(Jt.bitrate_table[gt][wt]>0&&Jt.bitrate_table[gt][wt]==at)return wt;return-1}function Ht(at,gt){var Me=[new J(8,2e3),new J(16,3700),new J(24,3900),new J(32,5500),new J(40,7e3),new J(48,7500),new J(56,1e4),new J(64,11e3),new J(80,13500),new J(96,15100),new J(112,15600),new J(128,17e3),new J(160,17500),new J(192,18600),new J(224,19400),new J(256,19700),new J(320,20500)],wt=Xt.nearestBitrateFullIndex(gt);at.lowerlimit=Me[wt].lowpass}function nt(at){var gt=at.internal_flags,Me=32,wt=-1;if(gt.lowpass1>0){for(var $t=999,te=0;te<=31;te++){var re=te/31;re>=gt.lowpass2&&(Me=Math.min(Me,te)),gt.lowpass1<re&&re<gt.lowpass2&&($t=Math.min($t,te))}$t==999?gt.lowpass1=(Me-.75)/31:gt.lowpass1=($t-.75)/31,gt.lowpass2=Me/31}if(gt.highpass2>0&&gt.highpass2<.9*(.75/31)&&(gt.highpass1=0,gt.highpass2=0,xp.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),gt.highpass2>0){for(var de=-1,te=0;te<=31;te++){var re=te/31;re<=gt.highpass1&&(wt=Math.max(wt,te)),gt.highpass1<re&&re<gt.highpass2&&(de=Math.max(de,te))}gt.highpass1=wt/31,de==-1?gt.highpass2=(wt+.75)/31:gt.highpass2=(de+.75)/31}for(var te=0;te<32;te++){var Je,ze,re=te/31;gt.highpass2>gt.highpass1?Je=Zt((gt.highpass2-re)/(gt.highpass2-gt.highpass1+1e-20)):Je=1,gt.lowpass2>gt.lowpass1?ze=Zt((re-gt.lowpass1)/(gt.lowpass2-gt.lowpass1+1e-20)):ze=1,gt.amp_filter[te]=Je*ze}}function Rt(at){var gt=at.internal_flags;switch(at.quality){default:case 9:gt.psymodel=0,gt.noise_shaping=0,gt.noise_shaping_amp=0,gt.noise_shaping_stop=0,gt.use_best_huffman=0,gt.full_outer_loop=0;break;case 8:at.quality=7;case 7:gt.psymodel=1,gt.noise_shaping=0,gt.noise_shaping_amp=0,gt.noise_shaping_stop=0,gt.use_best_huffman=0,gt.full_outer_loop=0;break;case 6:gt.psymodel=1,gt.noise_shaping==0&&(gt.noise_shaping=1),gt.noise_shaping_amp=0,gt.noise_shaping_stop=0,gt.subblock_gain==-1&&(gt.subblock_gain=1),gt.use_best_huffman=0,gt.full_outer_loop=0;break;case 5:gt.psymodel=1,gt.noise_shaping==0&&(gt.noise_shaping=1),gt.noise_shaping_amp=0,gt.noise_shaping_stop=0,gt.subblock_gain==-1&&(gt.subblock_gain=1),gt.use_best_huffman=0,gt.full_outer_loop=0;break;case 4:gt.psymodel=1,gt.noise_shaping==0&&(gt.noise_shaping=1),gt.noise_shaping_amp=0,gt.noise_shaping_stop=0,gt.subblock_gain==-1&&(gt.subblock_gain=1),gt.use_best_huffman=1,gt.full_outer_loop=0;break;case 3:gt.psymodel=1,gt.noise_shaping==0&&(gt.noise_shaping=1),gt.noise_shaping_amp=1,gt.noise_shaping_stop=1,gt.subblock_gain==-1&&(gt.subblock_gain=1),gt.use_best_huffman=1,gt.full_outer_loop=0;break;case 2:gt.psymodel=1,gt.noise_shaping==0&&(gt.noise_shaping=1),gt.substep_shaping==0&&(gt.substep_shaping=2),gt.noise_shaping_amp=1,gt.noise_shaping_stop=1,gt.subblock_gain==-1&&(gt.subblock_gain=1),gt.use_best_huffman=1,gt.full_outer_loop=0;break;case 1:gt.psymodel=1,gt.noise_shaping==0&&(gt.noise_shaping=1),gt.substep_shaping==0&&(gt.substep_shaping=2),gt.noise_shaping_amp=2,gt.noise_shaping_stop=1,gt.subblock_gain==-1&&(gt.subblock_gain=1),gt.use_best_huffman=1,gt.full_outer_loop=0;break;case 0:gt.psymodel=1,gt.noise_shaping==0&&(gt.noise_shaping=1),gt.substep_shaping==0&&(gt.substep_shaping=2),gt.noise_shaping_amp=2,gt.noise_shaping_stop=1,gt.subblock_gain==-1&&(gt.subblock_gain=1),gt.use_best_huffman=1,gt.full_outer_loop=0;break}}function bt(at){var gt=at.internal_flags;at.frameNum=0,at.write_id3tag_automatic&&Ge.id3tag_write_v2(at),gt.bitrate_stereoMode_Hist=Ha([16,5]),gt.bitrate_blockType_Hist=Ha([16,6]),gt.PeakSample=0,at.bWriteVbrTag&&se.InitVbrTag(at)}this.lame_init_params=function(at){var gt=at.internal_flags;if(gt.Class_ID=0,gt.ATH==null&&(gt.ATH=new zs),gt.PSY==null&&(gt.PSY=new Vt),gt.rgdata==null&&(gt.rgdata=new Mu),gt.channels_in=at.num_channels,gt.channels_in==1&&(at.mode=Nt.MONO),gt.channels_out=at.mode==Nt.MONO?1:2,gt.mode_ext=F.MPG_MD_MS_LR,at.mode==Nt.MONO&&(at.force_ms=!1),at.VBR==qr.vbr_off&&at.VBR_mean_bitrate_kbps!=128&&at.brate==0&&(at.brate=at.VBR_mean_bitrate_kbps),at.VBR==qr.vbr_off||at.VBR==qr.vbr_mtrh||at.VBR==qr.vbr_mt||(at.free_format=!1),at.VBR==qr.vbr_off&&at.brate==0&&Xl.EQ(at.compression_ratio,0)&&(at.compression_ratio=11.025),at.VBR==qr.vbr_off&&at.compression_ratio>0&&(at.out_samplerate==0&&(at.out_samplerate=map2MP3Frequency(int(.97*at.in_samplerate))),at.brate=0|at.out_samplerate*16*gt.channels_out/(1e3*at.compression_ratio),gt.samplerate_index=Dt(at.out_samplerate,at),at.free_format||(at.brate=Ut(at.brate,at.version,at.out_samplerate))),at.out_samplerate!=0&&(at.out_samplerate<16e3?(at.VBR_mean_bitrate_kbps=Math.max(at.VBR_mean_bitrate_kbps,8),at.VBR_mean_bitrate_kbps=Math.min(at.VBR_mean_bitrate_kbps,64)):at.out_samplerate<32e3?(at.VBR_mean_bitrate_kbps=Math.max(at.VBR_mean_bitrate_kbps,8),at.VBR_mean_bitrate_kbps=Math.min(at.VBR_mean_bitrate_kbps,160)):(at.VBR_mean_bitrate_kbps=Math.max(at.VBR_mean_bitrate_kbps,32),at.VBR_mean_bitrate_kbps=Math.min(at.VBR_mean_bitrate_kbps,320))),at.lowpassfreq==0){var Me=16e3;switch(at.VBR){case qr.vbr_off:{var wt=new Qt;Ht(wt,at.brate),Me=wt.lowerlimit;break}case qr.vbr_abr:{var wt=new Qt;Ht(wt,at.VBR_mean_bitrate_kbps),Me=wt.lowerlimit;break}case qr.vbr_rh:{var $t=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=at.VBR_q&&at.VBR_q<=9){var te=$t[at.VBR_q],re=$t[at.VBR_q+1],de=at.VBR_q_frac;Me=linear_int(te,re,de)}else Me=19500;break}default:{var $t=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=at.VBR_q&&at.VBR_q<=9){var te=$t[at.VBR_q],re=$t[at.VBR_q+1],de=at.VBR_q_frac;Me=linear_int(te,re,de)}else Me=19500}}at.mode==Nt.MONO&&(at.VBR==qr.vbr_off||at.VBR==qr.vbr_abr)&&(Me*=1.5),at.lowpassfreq=Me|0}if(at.out_samplerate==0&&(2*at.lowpassfreq>at.in_samplerate&&(at.lowpassfreq=at.in_samplerate/2),at.out_samplerate=lt(at.lowpassfreq|0,at.in_samplerate)),at.lowpassfreq=Math.min(20500,at.lowpassfreq),at.lowpassfreq=Math.min(at.out_samplerate/2,at.lowpassfreq),at.VBR==qr.vbr_off&&(at.compression_ratio=at.out_samplerate*16*gt.channels_out/(1e3*at.brate)),at.VBR==qr.vbr_abr&&(at.compression_ratio=at.out_samplerate*16*gt.channels_out/(1e3*at.VBR_mean_bitrate_kbps)),at.bWriteVbrTag||(at.findReplayGain=!1,at.decode_on_the_fly=!1,gt.findPeakSample=!1),gt.findReplayGain=at.findReplayGain,gt.decode_on_the_fly=at.decode_on_the_fly,gt.decode_on_the_fly&&(gt.findPeakSample=!0),gt.findReplayGain&&Se.InitGainAnalysis(gt.rgdata,at.out_samplerate)==H.INIT_GAIN_ANALYSIS_ERROR)return at.internal_flags=null,-6;switch(gt.decode_on_the_fly&&!at.decode_only&&(gt.hip!=null&&Gt.hip_decode_exit(gt.hip),gt.hip=Gt.hip_decode_init()),gt.mode_gr=at.out_samplerate<=24e3?1:2,at.framesize=576*gt.mode_gr,at.encoder_delay=F.ENCDELAY,gt.resample_ratio=at.in_samplerate/at.out_samplerate,at.VBR){case qr.vbr_mt:case qr.vbr_rh:case qr.vbr_mtrh:{var Je=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];at.compression_ratio=Je[at.VBR_q]}break;case qr.vbr_abr:at.compression_ratio=at.out_samplerate*16*gt.channels_out/(1e3*at.VBR_mean_bitrate_kbps);break;default:at.compression_ratio=at.out_samplerate*16*gt.channels_out/(1e3*at.brate);break}if(at.mode==Nt.NOT_SET&&(at.mode=Nt.JOINT_STEREO),at.highpassfreq>0?(gt.highpass1=2*at.highpassfreq,at.highpasswidth>=0?gt.highpass2=2*(at.highpassfreq+at.highpasswidth):gt.highpass2=1*2*at.highpassfreq,gt.highpass1/=at.out_samplerate,gt.highpass2/=at.out_samplerate):(gt.highpass1=0,gt.highpass2=0),at.lowpassfreq>0?(gt.lowpass2=2*at.lowpassfreq,at.lowpasswidth>=0?(gt.lowpass1=2*(at.lowpassfreq-at.lowpasswidth),gt.lowpass1<0&&(gt.lowpass1=0)):gt.lowpass1=1*2*at.lowpassfreq,gt.lowpass1/=at.out_samplerate,gt.lowpass2/=at.out_samplerate):(gt.lowpass1=0,gt.lowpass2=0),nt(at),gt.samplerate_index=Dt(at.out_samplerate,at),gt.samplerate_index<0)return at.internal_flags=null,-1;if(at.VBR==qr.vbr_off){if(at.free_format)gt.bitrate_index=0;else if(at.brate=Ut(at.brate,at.version,at.out_samplerate),gt.bitrate_index=zt(at.brate,at.version,at.out_samplerate),gt.bitrate_index<=0)return at.internal_flags=null,-1}else gt.bitrate_index=1;at.analysis&&(at.bWriteVbrTag=!1),gt.pinfo!=null&&(at.bWriteVbrTag=!1),Le.init_bit_stream_w(gt);for(var ze=gt.samplerate_index+3*at.version+6*(at.out_samplerate<16e3?1:0),Ie=0;Ie<F.SBMAX_l+1;Ie++)gt.scalefac_band.l[Ie]=_e.sfBandIndex[ze].l[Ie];for(var Ie=0;Ie<F.PSFB21+1;Ie++){var ci=(gt.scalefac_band.l[22]-gt.scalefac_band.l[21])/F.PSFB21,rr=gt.scalefac_band.l[21]+Ie*ci;gt.scalefac_band.psfb21[Ie]=rr}gt.scalefac_band.psfb21[F.PSFB21]=576;for(var Ie=0;Ie<F.SBMAX_s+1;Ie++)gt.scalefac_band.s[Ie]=_e.sfBandIndex[ze].s[Ie];for(var Ie=0;Ie<F.PSFB12+1;Ie++){var ci=(gt.scalefac_band.s[13]-gt.scalefac_band.s[12])/F.PSFB12,rr=gt.scalefac_band.s[12]+Ie*ci;gt.scalefac_band.psfb12[Ie]=rr}gt.scalefac_band.psfb12[F.PSFB12]=192,at.version==1?gt.sideinfo_len=gt.channels_out==1?21:36:gt.sideinfo_len=gt.channels_out==1?13:21,at.error_protection&&(gt.sideinfo_len+=2),bt(at),gt.Class_ID=ae;{var ki;for(ki=0;ki<19;ki++)gt.nsPsy.pefirbuf[ki]=700*gt.mode_gr*gt.channels_out;at.ATHtype==-1&&(at.ATHtype=4)}switch($a(at.VBR_q<=9),$a(at.VBR_q>=0),at.VBR){case qr.vbr_mt:at.VBR=qr.vbr_mtrh;case qr.vbr_mtrh:{at.useTemporal==null&&(at.useTemporal=!1),me.apply_preset(at,500-at.VBR_q*10,0),at.quality<0&&(at.quality=LAME_DEFAULT_QUALITY),at.quality<5&&(at.quality=0),at.quality>5&&(at.quality=5),gt.PSY.mask_adjust=at.maskingadjust,gt.PSY.mask_adjust_short=at.maskingadjust_short,at.experimentalY?gt.sfb21_extra=!1:gt.sfb21_extra=at.out_samplerate>44e3,gt.iteration_loop=new VBRNewIterationLoop(hi);break}case qr.vbr_rh:{me.apply_preset(at,500-at.VBR_q*10,0),gt.PSY.mask_adjust=at.maskingadjust,gt.PSY.mask_adjust_short=at.maskingadjust_short,at.experimentalY?gt.sfb21_extra=!1:gt.sfb21_extra=at.out_samplerate>44e3,at.quality>6&&(at.quality=6),at.quality<0&&(at.quality=LAME_DEFAULT_QUALITY),gt.iteration_loop=new VBROldIterationLoop(hi);break}default:{var Ni;gt.sfb21_extra=!1,at.quality<0&&(at.quality=LAME_DEFAULT_QUALITY),Ni=at.VBR,Ni==qr.vbr_off&&(at.VBR_mean_bitrate_kbps=at.brate),me.apply_preset(at,at.VBR_mean_bitrate_kbps,0),at.VBR=Ni,gt.PSY.mask_adjust=at.maskingadjust,gt.PSY.mask_adjust_short=at.maskingadjust_short,Ni==qr.vbr_off?gt.iteration_loop=new Z(hi):gt.iteration_loop=new ABRIterationLoop(hi);break}}if($a(at.scale>=0),at.VBR!=qr.vbr_off){if(gt.VBR_min_bitrate=1,gt.VBR_max_bitrate=14,at.out_samplerate<16e3&&(gt.VBR_max_bitrate=8),at.VBR_min_bitrate_kbps!=0&&(at.VBR_min_bitrate_kbps=Ut(at.VBR_min_bitrate_kbps,at.version,at.out_samplerate),gt.VBR_min_bitrate=zt(at.VBR_min_bitrate_kbps,at.version,at.out_samplerate),gt.VBR_min_bitrate<0)||at.VBR_max_bitrate_kbps!=0&&(at.VBR_max_bitrate_kbps=Ut(at.VBR_max_bitrate_kbps,at.version,at.out_samplerate),gt.VBR_max_bitrate=zt(at.VBR_max_bitrate_kbps,at.version,at.out_samplerate),gt.VBR_max_bitrate<0))return-1;at.VBR_min_bitrate_kbps=Jt.bitrate_table[at.version][gt.VBR_min_bitrate],at.VBR_max_bitrate_kbps=Jt.bitrate_table[at.version][gt.VBR_max_bitrate],at.VBR_mean_bitrate_kbps=Math.min(Jt.bitrate_table[at.version][gt.VBR_max_bitrate],at.VBR_mean_bitrate_kbps),at.VBR_mean_bitrate_kbps=Math.max(Jt.bitrate_table[at.version][gt.VBR_min_bitrate],at.VBR_mean_bitrate_kbps)}return at.tune&&(gt.PSY.mask_adjust+=at.tune_value_a,gt.PSY.mask_adjust_short+=at.tune_value_a),Rt(at),$a(at.scale>=0),at.athaa_type<0?gt.ATH.useAdjust=3:gt.ATH.useAdjust=at.athaa_type,gt.ATH.aaSensitivityP=Math.pow(10,at.athaa_sensitivity/-10),at.short_blocks==null&&(at.short_blocks=Eh.short_block_allowed),at.short_blocks==Eh.short_block_allowed&&(at.mode==Nt.JOINT_STEREO||at.mode==Nt.STEREO)&&(at.short_blocks=Eh.short_block_coupled),at.quant_comp<0&&(at.quant_comp=1),at.quant_comp_short<0&&(at.quant_comp_short=0),at.msfix<0&&(at.msfix=0),at.exp_nspsytune=at.exp_nspsytune|1,at.internal_flags.nsPsy.attackthre<0&&(at.internal_flags.nsPsy.attackthre=At.NSATTACKTHRE),at.internal_flags.nsPsy.attackthre_s<0&&(at.internal_flags.nsPsy.attackthre_s=At.NSATTACKTHRE_S),$a(at.scale>=0),at.scale<0&&(at.scale=1),at.ATHtype<0&&(at.ATHtype=4),at.ATHcurve<0&&(at.ATHcurve=4),at.athaa_loudapprox<0&&(at.athaa_loudapprox=2),at.interChRatio<0&&(at.interChRatio=0),at.useTemporal==null&&(at.useTemporal=!0),gt.slot_lag=gt.frac_SpF=0,at.VBR==qr.vbr_off&&(gt.slot_lag=gt.frac_SpF=(at.version+1)*72e3*at.brate%at.out_samplerate|0),_e.iteration_init(at),ai.psymodel_init(at),$a(at.scale>=0),0};function ct(at,gt){(at.in_buffer_0==null||at.in_buffer_nsamples<gt)&&(at.in_buffer_0=Ql(gt),at.in_buffer_1=Ql(gt),at.in_buffer_nsamples=gt)}this.lame_encode_flush=function(at,gt,Me,wt){var $t=at.internal_flags,te=c0([2,1152]),re=0,de,Je,ze,Ie,ci=$t.mf_samples_to_encode-F.POSTDELAY,rr=Tt(at);if($t.mf_samples_to_encode<1)return 0;for(de=0,at.in_samplerate!=at.out_samplerate&&(ci+=16*at.out_samplerate/at.in_samplerate),ze=at.framesize-ci%at.framesize,ze<576&&(ze+=at.framesize),at.encoder_padding=ze,Ie=(ci+ze)/at.framesize;Ie>0&&re>=0;){var ki=rr-$t.mf_size,Ni=at.frameNum;ki*=at.in_samplerate,ki/=at.out_samplerate,ki>1152&&(ki=1152),ki<1&&(ki=1),Je=wt-de,wt==0&&(Je=0),re=this.lame_encode_buffer(at,te[0],te[1],ki,gt,Me,Je),Me+=re,de+=re,Ie-=Ni!=at.frameNum?1:0}if($t.mf_samples_to_encode=0,re<0||(Je=wt-de,wt==0&&(Je=0),Le.flush_bitstream(at),re=Le.copy_buffer($t,gt,Me,Je,1),re<0))return re;if(Me+=re,de+=re,Je=wt-de,wt==0&&(Je=0),at.write_id3tag_automatic){if(Ge.id3tag_write_v1(at),re=Le.copy_buffer($t,gt,Me,Je,0),re<0)return re;de+=re}return de},this.lame_encode_buffer=function(at,gt,Me,wt,$t,te,re){var de=at.internal_flags,Je=[null,null];if(de.Class_ID!=ae)return-3;if(wt==0)return 0;ct(de,wt),Je[0]=de.in_buffer_0,Je[1]=de.in_buffer_1;for(var ze=0;ze<wt;ze++)Je[0][ze]=gt[ze],de.channels_in>1&&(Je[1][ze]=Me[ze]);return kt(at,Je[0],Je[1],wt,$t,te,re)};function Tt(at){var gt=F.BLKSIZE+at.framesize-F.FFTOFFSET;return gt=Math.max(gt,512+at.framesize-32),gt}function kt(at,gt,Me,wt,$t,te,re){var de=at.internal_flags,Je=0,ze,Ie,ci,rr,ki,Ni=[null,null],Yi=[null,null];if(de.Class_ID!=ae)return-3;if(wt==0)return 0;if(ki=Le.copy_buffer(de,$t,te,re,0),ki<0)return ki;if(te+=ki,Je+=ki,Yi[0]=gt,Yi[1]=Me,Xl.NEQ(at.scale,0)&&Xl.NEQ(at.scale,1))for(Ie=0;Ie<wt;++Ie)Yi[0][Ie]*=at.scale,de.channels_out==2&&(Yi[1][Ie]*=at.scale);if(Xl.NEQ(at.scale_left,0)&&Xl.NEQ(at.scale_left,1))for(Ie=0;Ie<wt;++Ie)Yi[0][Ie]*=at.scale_left;if(Xl.NEQ(at.scale_right,0)&&Xl.NEQ(at.scale_right,1))for(Ie=0;Ie<wt;++Ie)Yi[1][Ie]*=at.scale_right;if(at.num_channels==2&&de.channels_out==1)for(Ie=0;Ie<wt;++Ie)Yi[0][Ie]=.5*(Yi[0][Ie]+Yi[1][Ie]),Yi[1][Ie]=0;rr=Tt(at),Ni[0]=de.mfbuf[0],Ni[1]=de.mfbuf[1];for(var Mi=0;wt>0;){var Ar=[null,null],mn=0,Qr=0;Ar[0]=Yi[0],Ar[1]=Yi[1];var an=new pt;if(pe(at,Ni,Ar,Mi,wt,an),mn=an.n_in,Qr=an.n_out,de.findReplayGain&&!de.decode_on_the_fly&&Se.AnalyzeSamples(de.rgdata,Ni[0],de.mf_size,Ni[1],de.mf_size,Qr,de.channels_out)==H.GAIN_ANALYSIS_ERROR)return-6;if(wt-=mn,Mi+=mn,de.channels_out==2,de.mf_size+=Qr,$a(de.mf_size<=Dr.MFSIZE),de.mf_samples_to_encode<1&&(de.mf_samples_to_encode=F.ENCDELAY+F.POSTDELAY),de.mf_samples_to_encode+=Qr,de.mf_size>=rr){var Bn=re-Je;if(re==0&&(Bn=0),ze=ht(at,Ni[0],Ni[1],$t,te,Bn),ze<0)return ze;for(te+=ze,Je+=ze,de.mf_size-=at.framesize,de.mf_samples_to_encode-=at.framesize,ci=0;ci<de.channels_out;ci++)for(Ie=0;Ie<de.mf_size;Ie++)Ni[ci][Ie]=Ni[ci][Ie+at.framesize]}}return Je}function ht(at,gt,Me,wt,$t,te){var re=Xt.enc.lame_encode_mp3_frame(at,gt,Me,wt,$t,te);return at.frameNum++,re}function pt(){this.n_in=0,this.n_out=0}function vt(){this.num_used=0}function Yt(at,gt){return gt!=0?Yt(gt,at%gt):at}function Ae(at,gt,Me){var wt=Math.PI*gt;at/=Me,at<0&&(at=0),at>1&&(at=1);var $t=at-.5,te=.42-.5*Math.cos(2*at*Math.PI)+.08*Math.cos(4*at*Math.PI);return Math.abs($t)<1e-9?wt/Math.PI:te*Math.sin(Me*wt*$t)/(Math.PI*Me*$t)}function ee(at,gt,Me,wt,$t,te,re,de,Je){var ze=at.internal_flags,Ie,ci=0,rr,ki=at.out_samplerate/Yt(at.out_samplerate,at.in_samplerate);ki>Dr.BPC&&(ki=Dr.BPC);var Ni=Math.abs(ze.resample_ratio-Math.floor(.5+ze.resample_ratio))<1e-4?1:0,Yi=1/ze.resample_ratio;Yi>1&&(Yi=1);var Mi=31;Mi%2==0&&--Mi,Mi+=Ni;var Ar=Mi+1;if(ze.fill_buffer_resample_init==0){for(ze.inbuf_old[0]=Ql(Ar),ze.inbuf_old[1]=Ql(Ar),Ie=0;Ie<=2*ki;++Ie)ze.blackfilt[Ie]=Ql(Ar);for(ze.itime[0]=0,ze.itime[1]=0,ci=0;ci<=2*ki;ci++){var mn=0,Qr=(ci-ki)/(2*ki);for(Ie=0;Ie<=Mi;Ie++)mn+=ze.blackfilt[ci][Ie]=Ae(Ie-Qr,Yi,Mi);for(Ie=0;Ie<=Mi;Ie++)ze.blackfilt[ci][Ie]/=mn}ze.fill_buffer_resample_init=1}var an=ze.inbuf_old[Je];for(rr=0;rr<wt;rr++){var Bn,Bs;if(Bn=rr*ze.resample_ratio,ci=0|Math.floor(Bn-ze.itime[Je]),Mi+ci-Mi/2>=re)break;var Qr=Bn-ze.itime[Je]-(ci+.5*(Mi%2));Bs=0|Math.floor(Qr*2*ki+ki+.5);var Lr=0;for(Ie=0;Ie<=Mi;++Ie){var fs=Ie+ci-Mi/2,Os;Os=fs<0?an[Ar+fs]:$t[te+fs],Lr+=Os*ze.blackfilt[Bs][Ie]}gt[Me+rr]=Lr}if(de.num_used=Math.min(re,Mi+ci-Mi/2),ze.itime[Je]+=de.num_used-rr*ze.resample_ratio,de.num_used>=Ar)for(Ie=0;Ie<Ar;Ie++)an[Ie]=$t[te+de.num_used+Ie-Ar];else{var Va=Ar-de.num_used;for(Ie=0;Ie<Va;++Ie)an[Ie]=an[Ie+de.num_used];for(ci=0;Ie<Ar;++Ie,++ci)an[Ie]=$t[te+ci];$a(ci==de.num_used)}return rr}function pe(at,gt,Me,wt,$t,te){var re=at.internal_flags;if(re.resample_ratio<.9999||re.resample_ratio>1.0001)for(var de=0;de<re.channels_out;de++){var Je=new vt;te.n_out=ee(at,gt[de],re.mf_size,at.framesize,Me[de],wt,$t,Je,de),te.n_in=Je.num_used}else{te.n_out=Math.min(at.framesize,$t),te.n_in=te.n_out;for(var ze=0;ze<te.n_out;++ze)gt[0][re.mf_size+ze]=Me[0][wt+ze],re.channels_out==2&&(gt[1][re.mf_size+ze]=Me[1][wt+ze])}}}var Zx=es,$s=m.VbrMode;function Bu(){function Xt(se,Ge,Gt,Vt,Qt,J,ae,ne,Zt,lt,Dt,Ut,zt,Ht,nt){this.vbr_q=se,this.quant_comp=Ge,this.quant_comp_s=Gt,this.expY=Vt,this.st_lrm=Qt,this.st_s=J,this.masking_adj=ae,this.masking_adj_short=ne,this.ath_lower=Zt,this.ath_curve=lt,this.ath_sensitivity=Dt,this.interch=Ut,this.safejoint=zt,this.sfb21mod=Ht,this.msfix=nt}function ge(se,Ge,Gt,Vt,Qt,J,ae,ne,Zt,lt,Dt,Ut,zt,Ht){this.quant_comp=Ge,this.quant_comp_s=Gt,this.safejoint=Vt,this.nsmsfix=Qt,this.st_lrm=J,this.st_s=ae,this.nsbass=ne,this.scale=Zt,this.masking_adj=lt,this.ath_lower=Dt,this.ath_curve=Ut,this.interch=zt,this.sfscale=Ht}var be;this.setModules=function(se){be=se};var Se=[new Xt(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new Xt(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new Xt(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new Xt(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new Xt(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new Xt(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new Xt(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new Xt(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new Xt(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new Xt(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new Xt(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],Le=[new Xt(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new Xt(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new Xt(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new Xt(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new Xt(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new Xt(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new Xt(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new Xt(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new Xt(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new Xt(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new Xt(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function me(se,Ge,Gt){var Vt=se.VBR==$s.vbr_rh?Se:Le,Qt=se.VBR_q_frac,J=Vt[Ge],ae=Vt[Ge+1],ne=J;J.st_lrm=J.st_lrm+Qt*(ae.st_lrm-J.st_lrm),J.st_s=J.st_s+Qt*(ae.st_s-J.st_s),J.masking_adj=J.masking_adj+Qt*(ae.masking_adj-J.masking_adj),J.masking_adj_short=J.masking_adj_short+Qt*(ae.masking_adj_short-J.masking_adj_short),J.ath_lower=J.ath_lower+Qt*(ae.ath_lower-J.ath_lower),J.ath_curve=J.ath_curve+Qt*(ae.ath_curve-J.ath_curve),J.ath_sensitivity=J.ath_sensitivity+Qt*(ae.ath_sensitivity-J.ath_sensitivity),J.interch=J.interch+Qt*(ae.interch-J.interch),J.msfix=J.msfix+Qt*(ae.msfix-J.msfix),ai(se,ne.vbr_q),Gt!=0?se.quant_comp=ne.quant_comp:Math.abs(se.quant_comp- -1)>0||(se.quant_comp=ne.quant_comp),Gt!=0?se.quant_comp_short=ne.quant_comp_s:Math.abs(se.quant_comp_short- -1)>0||(se.quant_comp_short=ne.quant_comp_s),ne.expY!=0&&(se.experimentalY=ne.expY!=0),Gt!=0?se.internal_flags.nsPsy.attackthre=ne.st_lrm:Math.abs(se.internal_flags.nsPsy.attackthre- -1)>0||(se.internal_flags.nsPsy.attackthre=ne.st_lrm),Gt!=0?se.internal_flags.nsPsy.attackthre_s=ne.st_s:Math.abs(se.internal_flags.nsPsy.attackthre_s- -1)>0||(se.internal_flags.nsPsy.attackthre_s=ne.st_s),Gt!=0?se.maskingadjust=ne.masking_adj:Math.abs(se.maskingadjust-0)>0||(se.maskingadjust=ne.masking_adj),Gt!=0?se.maskingadjust_short=ne.masking_adj_short:Math.abs(se.maskingadjust_short-0)>0||(se.maskingadjust_short=ne.masking_adj_short),Gt!=0?se.ATHlower=-ne.ath_lower/10:Math.abs(-se.ATHlower*10-0)>0||(se.ATHlower=-ne.ath_lower/10),Gt!=0?se.ATHcurve=ne.ath_curve:Math.abs(se.ATHcurve- -1)>0||(se.ATHcurve=ne.ath_curve),Gt!=0?se.athaa_sensitivity=ne.ath_sensitivity:Math.abs(se.athaa_sensitivity- -1)>0||(se.athaa_sensitivity=ne.ath_sensitivity),ne.interch>0&&(Gt!=0?se.interChRatio=ne.interch:Math.abs(se.interChRatio- -1)>0||(se.interChRatio=ne.interch)),ne.safejoint>0&&(se.exp_nspsytune=se.exp_nspsytune|ne.safejoint),ne.sfb21mod>0&&(se.exp_nspsytune=se.exp_nspsytune|ne.sfb21mod<<20),Gt!=0?se.msfix=ne.msfix:Math.abs(se.msfix- -1)>0||(se.msfix=ne.msfix),Gt==0&&(se.VBR_q=Ge,se.VBR_q_frac=Qt)}var _e=[new ge(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new ge(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new ge(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new ge(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new ge(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new ge(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new ge(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new ge(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new ge(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new ge(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new ge(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new ge(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new ge(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new ge(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new ge(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new ge(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new ge(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function hi(se,Ge,Gt){var Vt=Ge,Qt=be.nearestBitrateFullIndex(Ge);if(se.VBR=$s.vbr_abr,se.VBR_mean_bitrate_kbps=Vt,se.VBR_mean_bitrate_kbps=Math.min(se.VBR_mean_bitrate_kbps,320),se.VBR_mean_bitrate_kbps=Math.max(se.VBR_mean_bitrate_kbps,8),se.brate=se.VBR_mean_bitrate_kbps,se.VBR_mean_bitrate_kbps>320&&(se.disable_reservoir=!0),_e[Qt].safejoint>0&&(se.exp_nspsytune=se.exp_nspsytune|2),_e[Qt].sfscale>0&&(se.internal_flags.noise_shaping=2),Math.abs(_e[Qt].nsbass)>0){var J=int(_e[Qt].nsbass*4);J<0&&(J+=64),se.exp_nspsytune=se.exp_nspsytune|J<<2}return Gt!=0?se.quant_comp=_e[Qt].quant_comp:Math.abs(se.quant_comp- -1)>0||(se.quant_comp=_e[Qt].quant_comp),Gt!=0?se.quant_comp_short=_e[Qt].quant_comp_s:Math.abs(se.quant_comp_short- -1)>0||(se.quant_comp_short=_e[Qt].quant_comp_s),Gt!=0?se.msfix=_e[Qt].nsmsfix:Math.abs(se.msfix- -1)>0||(se.msfix=_e[Qt].nsmsfix),Gt!=0?se.internal_flags.nsPsy.attackthre=_e[Qt].st_lrm:Math.abs(se.internal_flags.nsPsy.attackthre- -1)>0||(se.internal_flags.nsPsy.attackthre=_e[Qt].st_lrm),Gt!=0?se.internal_flags.nsPsy.attackthre_s=_e[Qt].st_s:Math.abs(se.internal_flags.nsPsy.attackthre_s- -1)>0||(se.internal_flags.nsPsy.attackthre_s=_e[Qt].st_s),Gt!=0?se.scale=_e[Qt].scale:Math.abs(se.scale- -1)>0||(se.scale=_e[Qt].scale),Gt!=0?se.maskingadjust=_e[Qt].masking_adj:Math.abs(se.maskingadjust-0)>0||(se.maskingadjust=_e[Qt].masking_adj),_e[Qt].masking_adj>0?Gt!=0?se.maskingadjust_short=_e[Qt].masking_adj*.9:Math.abs(se.maskingadjust_short-0)>0||(se.maskingadjust_short=_e[Qt].masking_adj*.9):Gt!=0?se.maskingadjust_short=_e[Qt].masking_adj*1.1:Math.abs(se.maskingadjust_short-0)>0||(se.maskingadjust_short=_e[Qt].masking_adj*1.1),Gt!=0?se.ATHlower=-_e[Qt].ath_lower/10:Math.abs(-se.ATHlower*10-0)>0||(se.ATHlower=-_e[Qt].ath_lower/10),Gt!=0?se.ATHcurve=_e[Qt].ath_curve:Math.abs(se.ATHcurve- -1)>0||(se.ATHcurve=_e[Qt].ath_curve),Gt!=0?se.interChRatio=_e[Qt].interch:Math.abs(se.interChRatio- -1)>0||(se.interChRatio=_e[Qt].interch),Ge}this.apply_preset=function(se,Ge,Gt){switch(Ge){case tn.R3MIX:{Ge=tn.V3,se.VBR=$s.vbr_mtrh;break}case tn.MEDIUM:{Ge=tn.V4,se.VBR=$s.vbr_rh;break}case tn.MEDIUM_FAST:{Ge=tn.V4,se.VBR=$s.vbr_mtrh;break}case tn.STANDARD:{Ge=tn.V2,se.VBR=$s.vbr_rh;break}case tn.STANDARD_FAST:{Ge=tn.V2,se.VBR=$s.vbr_mtrh;break}case tn.EXTREME:{Ge=tn.V0,se.VBR=$s.vbr_rh;break}case tn.EXTREME_FAST:{Ge=tn.V0,se.VBR=$s.vbr_mtrh;break}case tn.INSANE:return Ge=320,se.preset=Ge,hi(se,Ge,Gt),se.VBR=$s.vbr_off,Ge}switch(se.preset=Ge,Ge){case tn.V9:return me(se,9,Gt),Ge;case tn.V8:return me(se,8,Gt),Ge;case tn.V7:return me(se,7,Gt),Ge;case tn.V6:return me(se,6,Gt),Ge;case tn.V5:return me(se,5,Gt),Ge;case tn.V4:return me(se,4,Gt),Ge;case tn.V3:return me(se,3,Gt),Ge;case tn.V2:return me(se,2,Gt),Ge;case tn.V1:return me(se,1,Gt),Ge;case tn.V0:return me(se,0,Gt),Ge}return 8<=Ge&&Ge<=320?hi(se,Ge,Gt):(se.preset=0,Ge)};function ai(se,Ge){var Gt=0;return 0>Ge&&(Gt=-1,Ge=0),9<Ge&&(Gt=-1,Ge=9),se.VBR_q=Ge,se.VBR_q_frac=0,Gt}}var bp=Bu;function qx(){this.setModules=function(Xt,ge){}}var Ic=qx;function f0(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var Mc=f0,Sp=m.new_float,d0=m.new_int;function tb(){this.global_gain=0,this.sfb_count1=0,this.step=d0(39),this.noise=Sp(39),this.noise_log=Sp(39)}var p0=tb,Kl=m.System,v0=m.VbrMode,Bc=m.Util,kh=m.Arrays,Oc=m.new_float,Nc=m.assert;function eb(){var Xt;this.rv=null;var ge;this.qupvt=null;var be,Se=new Ic,Le;this.setModules=function(Zt,lt,Dt,Ut){Xt=Zt,ge=lt,this.rv=lt,be=Dt,this.qupvt=Dt,Le=Ut,Se.setModules(be,Le)},this.ms_convert=function(Zt,lt){for(var Dt=0;Dt<576;++Dt){var Ut=Zt.tt[lt][0].xr[Dt],zt=Zt.tt[lt][1].xr[Dt];Zt.tt[lt][0].xr[Dt]=(Ut+zt)*(Bc.SQRT2*.5),Zt.tt[lt][1].xr[Dt]=(Ut-zt)*(Bc.SQRT2*.5)}};function me(Zt,lt,Dt,Ut){Ut=0;for(var zt=0;zt<=Dt;++zt){var Ht=Math.abs(Zt.xr[zt]);Ut+=Ht,lt[zt]=Math.sqrt(Ht*Math.sqrt(Ht)),lt[zt]>Zt.xrpow_max&&(Zt.xrpow_max=lt[zt])}return Ut}this.init_xrpow=function(Zt,lt,Dt){var Ut=0,zt=0|lt.max_nonzero_coeff;if(lt.xrpow_max=0,kh.fill(Dt,zt,576,0),Ut=me(lt,Dt,zt,Ut),Ut>1e-20){var Ht=0;Zt.substep_shaping&2&&(Ht=1);for(var nt=0;nt<lt.psymax;nt++)Zt.pseudohalf[nt]=Ht;return!0}return kh.fill(lt.l3_enc,0,576,0),!1};function _e(Zt,lt){var Dt=Zt.ATH,Ut=lt.xr;if(lt.block_type!=F.SHORT_TYPE)for(var zt=!1,Ht=F.PSFB21-1;Ht>=0&&!zt;Ht--){var nt=Zt.scalefac_band.psfb21[Ht],Rt=Zt.scalefac_band.psfb21[Ht+1],bt=be.athAdjust(Dt.adjust,Dt.psfb21[Ht],Dt.floor);Zt.nsPsy.longfact[21]>1e-12&&(bt*=Zt.nsPsy.longfact[21]);for(var ct=Rt-1;ct>=nt;ct--)if(Math.abs(Ut[ct])<bt)Ut[ct]=0;else{zt=!0;break}}else for(var Tt=0;Tt<3;Tt++)for(var zt=!1,Ht=F.PSFB12-1;Ht>=0&&!zt;Ht--){var nt=Zt.scalefac_band.s[12]*3+(Zt.scalefac_band.s[13]-Zt.scalefac_band.s[12])*Tt+(Zt.scalefac_band.psfb12[Ht]-Zt.scalefac_band.psfb12[0]),Rt=nt+(Zt.scalefac_band.psfb12[Ht+1]-Zt.scalefac_band.psfb12[Ht]),kt=be.athAdjust(Dt.adjust,Dt.psfb12[Ht],Dt.floor);Zt.nsPsy.shortfact[12]>1e-12&&(kt*=Zt.nsPsy.shortfact[12]);for(var ct=Rt-1;ct>=nt;ct--)if(Math.abs(Ut[ct])<kt)Ut[ct]=0;else{zt=!0;break}}}this.init_outer_loop=function(Zt,lt){lt.part2_3_length=0,lt.big_values=0,lt.count1=0,lt.global_gain=210,lt.scalefac_compress=0,lt.table_select[0]=0,lt.table_select[1]=0,lt.table_select[2]=0,lt.subblock_gain[0]=0,lt.subblock_gain[1]=0,lt.subblock_gain[2]=0,lt.subblock_gain[3]=0,lt.region0_count=0,lt.region1_count=0,lt.preflag=0,lt.scalefac_scale=0,lt.count1table_select=0,lt.part2_length=0,lt.sfb_lmax=F.SBPSY_l,lt.sfb_smin=F.SBPSY_s,lt.psy_lmax=Zt.sfb21_extra?F.SBMAX_l:F.SBPSY_l,lt.psymax=lt.psy_lmax,lt.sfbmax=lt.sfb_lmax,lt.sfbdivide=11;for(var Dt=0;Dt<F.SBMAX_l;Dt++)lt.width[Dt]=Zt.scalefac_band.l[Dt+1]-Zt.scalefac_band.l[Dt],lt.window[Dt]=3;if(lt.block_type==F.SHORT_TYPE){var Ut=Oc(576);lt.sfb_smin=0,lt.sfb_lmax=0,lt.mixed_block_flag!=0&&(lt.sfb_smin=3,lt.sfb_lmax=Zt.mode_gr*2+4),lt.psymax=lt.sfb_lmax+3*((Zt.sfb21_extra?F.SBMAX_s:F.SBPSY_s)-lt.sfb_smin),lt.sfbmax=lt.sfb_lmax+3*(F.SBPSY_s-lt.sfb_smin),lt.sfbdivide=lt.sfbmax-18,lt.psy_lmax=lt.sfb_lmax;var zt=Zt.scalefac_band.l[lt.sfb_lmax];Kl.arraycopy(lt.xr,0,Ut,0,576);for(var Dt=lt.sfb_smin;Dt<F.SBMAX_s;Dt++)for(var Ht=Zt.scalefac_band.s[Dt],nt=Zt.scalefac_band.s[Dt+1],Rt=0;Rt<3;Rt++)for(var bt=Ht;bt<nt;bt++)lt.xr[zt++]=Ut[3*bt+Rt];for(var ct=lt.sfb_lmax,Dt=lt.sfb_smin;Dt<F.SBMAX_s;Dt++)lt.width[ct]=lt.width[ct+1]=lt.width[ct+2]=Zt.scalefac_band.s[Dt+1]-Zt.scalefac_band.s[Dt],lt.window[ct]=0,lt.window[ct+1]=1,lt.window[ct+2]=2,ct+=3}lt.count1bits=0,lt.sfb_partition_table=be.nr_of_sfb_block[0][0],lt.slen[0]=0,lt.slen[1]=0,lt.slen[2]=0,lt.slen[3]=0,lt.max_nonzero_coeff=575,kh.fill(lt.scalefac,0),_e(Zt,lt)};function hi(Zt){this.ordinal=Zt}hi.BINSEARCH_NONE=new hi(0),hi.BINSEARCH_UP=new hi(1),hi.BINSEARCH_DOWN=new hi(2);function ai(Zt,lt,Dt,Ut,zt){var Ht,nt=Zt.CurrentStep[Ut],Rt=!1,bt=Zt.OldValue[Ut],ct=hi.BINSEARCH_NONE;for(lt.global_gain=bt,Dt-=lt.part2_length;;){var Tt;if(Ht=Le.count_bits(Zt,zt,lt,null),nt==1||Ht==Dt)break;Ht>Dt?(ct==hi.BINSEARCH_DOWN&&(Rt=!0),Rt&&(nt/=2),ct=hi.BINSEARCH_UP,Tt=nt):(ct==hi.BINSEARCH_UP&&(Rt=!0),Rt&&(nt/=2),ct=hi.BINSEARCH_DOWN,Tt=-nt),lt.global_gain+=Tt,lt.global_gain<0&&(lt.global_gain=0,Rt=!0),lt.global_gain>255&&(lt.global_gain=255,Rt=!0)}for(Nc(lt.global_gain>=0),Nc(lt.global_gain<256);Ht>Dt&&lt.global_gain<255;)lt.global_gain++,Ht=Le.count_bits(Zt,zt,lt,null);return Zt.CurrentStep[Ut]=bt-lt.global_gain>=4?4:2,Zt.OldValue[Ut]=lt.global_gain,lt.part2_3_length=Ht,Ht}this.trancate_smallspectrums=function(Zt,lt,Dt,Ut){var zt=Oc(ve.SFBMAX);if(!(!(Zt.substep_shaping&4)&&lt.block_type==F.SHORT_TYPE||Zt.substep_shaping&128)){be.calc_noise(lt,Dt,zt,new Mc,null);for(var nt=0;nt<576;nt++){var Ht=0;lt.l3_enc[nt]!=0&&(Ht=Math.abs(lt.xr[nt])),Ut[nt]=Ht}var nt=0,Rt=8;lt.block_type==F.SHORT_TYPE&&(Rt=6);do{var bt,ct,Tt,kt,ht=lt.width[Rt];if(nt+=ht,!(zt[Rt]>=1)&&(kh.sort(Ut,nt-ht,ht),!ue.EQ(Ut[nt-1],0))){bt=(1-zt[Rt])*Dt[Rt],ct=0,kt=0;do{var pt;for(Tt=1;kt+Tt<ht&&!ue.NEQ(Ut[kt+nt-ht],Ut[kt+nt+Tt-ht]);Tt++);if(pt=Ut[kt+nt-ht]*Ut[kt+nt-ht]*Tt,bt<pt){kt!=0&&(ct=Ut[kt+nt-ht-1]);break}bt-=pt,kt+=Tt}while(kt<ht);if(!ue.EQ(ct,0))do Math.abs(lt.xr[nt-ht])<=ct&&(lt.l3_enc[nt-ht]=0);while(--ht>0)}}while(++Rt<lt.psymax);lt.part2_3_length=Le.noquant_count_bits(Zt,lt,null)}};function se(Zt){for(var lt=0;lt<Zt.sfbmax;lt++)if(Zt.scalefac[lt]+Zt.subblock_gain[Zt.window[lt]]==0)return!1;return!0}function Ge(Zt){return Bc.FAST_LOG10(.368+.632*Zt*Zt*Zt)}function Gt(Zt,lt){for(var Dt=1e-37,Ut=0;Ut<lt.psymax;Ut++)Dt+=Ge(Zt[Ut]);return Math.max(1e-20,Dt)}function Vt(Zt,lt,Dt,Ut,zt){var Ht;switch(Zt){default:case 9:{lt.over_count>0?(Ht=Dt.over_SSD<=lt.over_SSD,Dt.over_SSD==lt.over_SSD&&(Ht=Dt.bits<lt.bits)):Ht=Dt.max_noise<0&&Dt.max_noise*10+Dt.bits<=lt.max_noise*10+lt.bits;break}case 0:Ht=Dt.over_count<lt.over_count||Dt.over_count==lt.over_count&&Dt.over_noise<lt.over_noise||Dt.over_count==lt.over_count&&ue.EQ(Dt.over_noise,lt.over_noise)&&Dt.tot_noise<lt.tot_noise;break;case 8:Dt.max_noise=Gt(zt,Ut);case 1:Ht=Dt.max_noise<lt.max_noise;break;case 2:Ht=Dt.tot_noise<lt.tot_noise;break;case 3:Ht=Dt.tot_noise<lt.tot_noise&&Dt.max_noise<lt.max_noise;break;case 4:Ht=Dt.max_noise<=0&&lt.max_noise>.2||Dt.max_noise<=0&&lt.max_noise<0&&lt.max_noise>Dt.max_noise-.2&&Dt.tot_noise<lt.tot_noise||Dt.max_noise<=0&&lt.max_noise>0&&lt.max_noise>Dt.max_noise-.2&&Dt.tot_noise<lt.tot_noise+lt.over_noise||Dt.max_noise>0&&lt.max_noise>-.05&&lt.max_noise>Dt.max_noise-.1&&Dt.tot_noise+Dt.over_noise<lt.tot_noise+lt.over_noise||Dt.max_noise>0&&lt.max_noise>-.1&&lt.max_noise>Dt.max_noise-.15&&Dt.tot_noise+Dt.over_noise+Dt.over_noise<lt.tot_noise+lt.over_noise+lt.over_noise;break;case 5:Ht=Dt.over_noise<lt.over_noise||ue.EQ(Dt.over_noise,lt.over_noise)&&Dt.tot_noise<lt.tot_noise;break;case 6:Ht=Dt.over_noise<lt.over_noise||ue.EQ(Dt.over_noise,lt.over_noise)&&(Dt.max_noise<lt.max_noise||ue.EQ(Dt.max_noise,lt.max_noise)&&Dt.tot_noise<=lt.tot_noise);break;case 7:Ht=Dt.over_count<lt.over_count||Dt.over_noise<lt.over_noise;break}return lt.over_count==0&&(Ht=Ht&&Dt.bits<lt.bits),Ht}function Qt(Zt,lt,Dt,Ut,zt){var Ht=Zt.internal_flags,nt;lt.scalefac_scale==0?nt=1.2968395546510096:nt=1.6817928305074292;for(var Rt=0,bt=0;bt<lt.sfbmax;bt++)Rt<Dt[bt]&&(Rt=Dt[bt]);var ct=Ht.noise_shaping_amp;switch(ct==3&&(zt?ct=2:ct=1),ct){case 2:break;case 1:Rt>1?Rt=Math.pow(Rt,.5):Rt*=.95;break;case 0:default:Rt>1?Rt=1:Rt*=.95;break}for(var Tt=0,bt=0;bt<lt.sfbmax;bt++){var kt=lt.width[bt],ht;if(Tt+=kt,!(Dt[bt]<Rt)){if(Ht.substep_shaping&2&&(Ht.pseudohalf[bt]=Ht.pseudohalf[bt]==0?1:0,Ht.pseudohalf[bt]==0&&Ht.noise_shaping_amp==2))return;for(lt.scalefac[bt]++,ht=-kt;ht<0;ht++)Ut[Tt+ht]*=nt,Ut[Tt+ht]>lt.xrpow_max&&(lt.xrpow_max=Ut[Tt+ht]);if(Ht.noise_shaping_amp==2)return}}}function J(Zt,lt){for(var Dt=1.2968395546510096,Ut=0,zt=0;zt<Zt.sfbmax;zt++){var Ht=Zt.width[zt],nt=Zt.scalefac[zt];if(Zt.preflag!=0&&(nt+=be.pretab[zt]),Ut+=Ht,nt&1){nt++;for(var Rt=-Ht;Rt<0;Rt++)lt[Ut+Rt]*=Dt,lt[Ut+Rt]>Zt.xrpow_max&&(Zt.xrpow_max=lt[Ut+Rt])}Zt.scalefac[zt]=nt>>1}Zt.preflag=0,Zt.scalefac_scale=1}function ae(Zt,lt,Dt){var Ut,zt=lt.scalefac;for(Ut=0;Ut<lt.sfb_lmax;Ut++)if(zt[Ut]>=16)return!0;for(var Ht=0;Ht<3;Ht++){var nt=0,Rt=0;for(Ut=lt.sfb_lmax+Ht;Ut<lt.sfbdivide;Ut+=3)nt<zt[Ut]&&(nt=zt[Ut]);for(;Ut<lt.sfbmax;Ut+=3)Rt<zt[Ut]&&(Rt=zt[Ut]);if(!(nt<16&&Rt<8)){if(lt.subblock_gain[Ht]>=7)return!0;lt.subblock_gain[Ht]++;var bt=Zt.scalefac_band.l[lt.sfb_lmax];for(Ut=lt.sfb_lmax+Ht;Ut<lt.sfbmax;Ut+=3){var ct,Tt=lt.width[Ut],kt=zt[Ut];if(kt=kt-(4>>lt.scalefac_scale),kt>=0){zt[Ut]=kt,bt+=Tt*3;continue}zt[Ut]=0;{var ht=210+(kt<<lt.scalefac_scale+1);ct=be.IPOW20(ht)}bt+=Tt*(Ht+1);for(var pt=-Tt;pt<0;pt++)Dt[bt+pt]*=ct,Dt[bt+pt]>lt.xrpow_max&&(lt.xrpow_max=Dt[bt+pt]);bt+=Tt*(3-Ht-1)}{var ct=be.IPOW20(202);bt+=lt.width[Ut]*(Ht+1);for(var pt=-lt.width[Ut];pt<0;pt++)Dt[bt+pt]*=ct,Dt[bt+pt]>lt.xrpow_max&&(lt.xrpow_max=Dt[bt+pt])}}}return!1}function ne(Zt,lt,Dt,Ut,zt){var Ht=Zt.internal_flags;Qt(Zt,lt,Dt,Ut,zt);var nt=se(lt);return nt?!1:(Ht.mode_gr==2?nt=Le.scale_bitcount(lt):nt=Le.scale_bitcount_lsf(Ht,lt),nt?(Ht.noise_shaping>1&&(kh.fill(Ht.pseudohalf,0),lt.scalefac_scale==0?(J(lt,Ut),nt=!1):lt.block_type==F.SHORT_TYPE&&Ht.subblock_gain>0&&(nt=ae(Ht,lt,Ut)||se(lt))),nt||(Ht.mode_gr==2?nt=Le.scale_bitcount(lt):nt=Le.scale_bitcount_lsf(Ht,lt)),!nt):!0)}this.outer_loop=function(Zt,lt,Dt,Ut,zt,Ht){var nt=Zt.internal_flags,Rt=new Ci,bt=Oc(576),ct=Oc(ve.SFBMAX),Tt=new Mc,kt,ht=new p0,pt=9999999,vt=!1,Yt=!1,Ae=0;if(ai(nt,lt,Ht,zt,Ut),nt.noise_shaping==0)return 100;be.calc_noise(lt,Dt,ct,Tt,ht),Tt.bits=lt.part2_3_length,Rt.assign(lt);var ee=0;for(Kl.arraycopy(Ut,0,bt,0,576);!vt;){do{var pe=new Mc,at,gt=255;if(nt.substep_shaping&2?at=20:at=3,nt.sfb21_extra&&(ct[Rt.sfbmax]>1||Rt.block_type==F.SHORT_TYPE&&(ct[Rt.sfbmax+1]>1||ct[Rt.sfbmax+2]>1))||!ne(Zt,Rt,ct,Ut,Yt))break;Rt.scalefac_scale!=0&&(gt=254);var Me=Ht-Rt.part2_length;if(Me<=0)break;for(;(Rt.part2_3_length=Le.count_bits(nt,Ut,Rt,ht))>Me&&Rt.global_gain<=gt;)Rt.global_gain++;if(Rt.global_gain>gt)break;if(Tt.over_count==0){for(;(Rt.part2_3_length=Le.count_bits(nt,Ut,Rt,ht))>pt&&Rt.global_gain<=gt;)Rt.global_gain++;if(Rt.global_gain>gt)break}if(be.calc_noise(Rt,Dt,ct,pe,ht),pe.bits=Rt.part2_3_length,lt.block_type!=F.SHORT_TYPE?kt=Zt.quant_comp:kt=Zt.quant_comp_short,kt=Vt(kt,Tt,pe,Rt,ct)?1:0,kt!=0)pt=lt.part2_3_length,Tt=pe,lt.assign(Rt),ee=0,Kl.arraycopy(Ut,0,bt,0,576);else if(nt.full_outer_loop==0&&(++ee>at&&Tt.over_count==0||nt.noise_shaping_amp==3&&Yt&&ee>30||nt.noise_shaping_amp==3&&Yt&&Rt.global_gain-Ae>15))break}while(Rt.global_gain+Rt.scalefac_scale<255);nt.noise_shaping_amp==3?Yt?vt=!0:(Rt.assign(lt),Kl.arraycopy(bt,0,Ut,0,576),ee=0,Ae=Rt.global_gain,Yt=!0):vt=!0}return Nc(lt.global_gain+lt.scalefac_scale<=255),Zt.VBR==v0.vbr_rh||Zt.VBR==v0.vbr_mtrh?Kl.arraycopy(bt,0,Ut,0,576):nt.substep_shaping&1&&trancate_smallspectrums(nt,lt,Dt,Ut),Tt.over_count},this.iteration_finish_one=function(Zt,lt,Dt){var Ut=Zt.l3_side,zt=Ut.tt[lt][Dt];Le.best_scalefac_store(Zt,lt,Dt,Ut),Zt.use_best_huffman==1&&Le.best_huffman_divide(Zt,zt),ge.ResvAdjust(Zt,zt)},this.VBR_encode_granule=function(Zt,lt,Dt,Ut,zt,Ht,nt){var Rt=Zt.internal_flags,bt=new Ci,ct=Oc(576),Tt=nt,kt=nt+1,ht=(nt+Ht)/2,pt,vt,Yt=0,Ae=Rt.sfb21_extra;Nc(Tt<=LameInternalFlags.MAX_BITS_PER_CHANNEL),kh.fill(bt.l3_enc,0);do ht>Tt-42?Rt.sfb21_extra=!1:Rt.sfb21_extra=Ae,vt=outer_loop(Zt,lt,Dt,Ut,zt,ht),vt<=0?(Yt=1,kt=lt.part2_3_length,bt.assign(lt),Kl.arraycopy(Ut,0,ct,0,576),nt=kt-32,pt=nt-Ht,ht=(nt+Ht)/2):(Ht=ht+32,pt=nt-Ht,ht=(nt+Ht)/2,Yt!=0&&(Yt=2,lt.assign(bt),Kl.arraycopy(ct,0,Ut,0,576)));while(pt>12);Rt.sfb21_extra=Ae,Yt==2&&Kl.arraycopy(bt.l3_enc,0,lt.l3_enc,0,576),Nc(lt.part2_3_length<=Tt)},this.get_framebits=function(Zt,lt){var Dt=Zt.internal_flags;Dt.bitrate_index=Dt.VBR_min_bitrate;var Ut=Xt.getframebits(Zt);Dt.bitrate_index=1,Ut=Xt.getframebits(Zt);for(var zt=1;zt<=Dt.VBR_max_bitrate;zt++){Dt.bitrate_index=zt;var Ht=new MeanBits(Ut);lt[zt]=ge.ResvFrameBegin(Zt,Ht),Ut=Ht.bits}},this.VBR_old_prepare=function(Zt,lt,Dt,Ut,zt,Ht,nt,Rt,bt){var ct=Zt.internal_flags,Tt,kt=0,ht=1,pt=0;ct.bitrate_index=ct.VBR_max_bitrate;var vt=ge.ResvFrameBegin(Zt,new MeanBits(0))/ct.mode_gr;get_framebits(Zt,Ht);for(var Yt=0;Yt<ct.mode_gr;Yt++){var Ae=be.on_pe(Zt,lt,Rt[Yt],vt,Yt,0);ct.mode_ext==F.MPG_MD_MS_LR&&(ms_convert(ct.l3_side,Yt),be.reduce_side(Rt[Yt],Dt[Yt],vt,Ae));for(var ee=0;ee<ct.channels_out;++ee){var pe=ct.l3_side.tt[Yt][ee];pe.block_type!=F.SHORT_TYPE?(kt=1.28/(1+Math.exp(3.5-lt[Yt][ee]/300))-.05,Tt=ct.PSY.mask_adjust-kt):(kt=2.56/(1+Math.exp(3.5-lt[Yt][ee]/300))-.14,Tt=ct.PSY.mask_adjust_short-kt),ct.masking_lower=Math.pow(10,Tt*.1),init_outer_loop(ct,pe),bt[Yt][ee]=be.calc_xmin(Zt,Ut[Yt][ee],pe,zt[Yt][ee]),bt[Yt][ee]!=0&&(ht=0),nt[Yt][ee]=126,pt+=Rt[Yt][ee]}}for(var Yt=0;Yt<ct.mode_gr;Yt++)for(var ee=0;ee<ct.channels_out;ee++)pt>Ht[ct.VBR_max_bitrate]&&(Rt[Yt][ee]*=Ht[ct.VBR_max_bitrate],Rt[Yt][ee]/=pt),nt[Yt][ee]>Rt[Yt][ee]&&(nt[Yt][ee]=Rt[Yt][ee]);return ht},this.bitpressure_strategy=function(Zt,lt,Dt,Ut){for(var zt=0;zt<Zt.mode_gr;zt++)for(var Ht=0;Ht<Zt.channels_out;Ht++){for(var nt=Zt.l3_side.tt[zt][Ht],Rt=lt[zt][Ht],bt=0,ct=0;ct<nt.psy_lmax;ct++)Rt[bt++]*=1+.029*ct*ct/F.SBMAX_l/F.SBMAX_l;if(nt.block_type==F.SHORT_TYPE)for(var ct=nt.sfb_smin;ct<F.SBMAX_s;ct++)Rt[bt++]*=1+.029*ct*ct/F.SBMAX_s/F.SBMAX_s,Rt[bt++]*=1+.029*ct*ct/F.SBMAX_s/F.SBMAX_s,Rt[bt++]*=1+.029*ct*ct/F.SBMAX_s/F.SBMAX_s;Ut[zt][Ht]=0|Math.max(Dt[zt][Ht],.9*Ut[zt][Ht])}},this.VBR_new_prepare=function(Zt,lt,Dt,Ut,zt,Ht){var nt=Zt.internal_flags,Rt=1,bt=0,ct=0,Tt;if(Zt.free_format){nt.bitrate_index=0;var kt=new MeanBits(bt);Tt=ge.ResvFrameBegin(Zt,kt),bt=kt.bits,zt[0]=Tt}else{nt.bitrate_index=nt.VBR_max_bitrate;var kt=new MeanBits(bt);ge.ResvFrameBegin(Zt,kt),bt=kt.bits,get_framebits(Zt,zt),Tt=zt[nt.VBR_max_bitrate]}for(var ht=0;ht<nt.mode_gr;ht++){be.on_pe(Zt,lt,Ht[ht],bt,ht,0),nt.mode_ext==F.MPG_MD_MS_LR&&ms_convert(nt.l3_side,ht);for(var pt=0;pt<nt.channels_out;++pt){var vt=nt.l3_side.tt[ht][pt];nt.masking_lower=Math.pow(10,nt.PSY.mask_adjust*.1),init_outer_loop(nt,vt),be.calc_xmin(Zt,Dt[ht][pt],vt,Ut[ht][pt])!=0&&(Rt=0),ct+=Ht[ht][pt]}}for(var ht=0;ht<nt.mode_gr;ht++)for(var pt=0;pt<nt.channels_out;pt++)ct>Tt&&(Ht[ht][pt]*=Tt,Ht[ht][pt]/=ct);return Rt},this.calc_target_bits=function(Zt,lt,Dt,Ut,zt,Ht){var nt=Zt.internal_flags,Rt=nt.l3_side,bt,ct,Tt,kt,ht=0;nt.bitrate_index=nt.VBR_max_bitrate;var pt=new MeanBits(ht);for(Ht[0]=ge.ResvFrameBegin(Zt,pt),ht=pt.bits,nt.bitrate_index=1,ht=Xt.getframebits(Zt)-nt.sideinfo_len*8,zt[0]=ht/(nt.mode_gr*nt.channels_out),ht=Zt.VBR_mean_bitrate_kbps*Zt.framesize*1e3,nt.substep_shaping&1&&(ht*=1.09),ht/=Zt.out_samplerate,ht-=nt.sideinfo_len*8,ht/=nt.mode_gr*nt.channels_out,bt=.93+.07*(11-Zt.compression_ratio)/(11-5.5),bt<.9&&(bt=.9),bt>1&&(bt=1),ct=0;ct<nt.mode_gr;ct++){var vt=0;for(Tt=0;Tt<nt.channels_out;Tt++){if(Ut[ct][Tt]=int(bt*ht),lt[ct][Tt]>700){var Yt=int((lt[ct][Tt]-700)/1.4),Ae=Rt.tt[ct][Tt];Ut[ct][Tt]=int(bt*ht),Ae.block_type==F.SHORT_TYPE&&Yt<ht/2&&(Yt=ht/2),Yt>ht*3/2?Yt=ht*3/2:Yt<0&&(Yt=0),Ut[ct][Tt]+=Yt}Ut[ct][Tt]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(Ut[ct][Tt]=LameInternalFlags.MAX_BITS_PER_CHANNEL),vt+=Ut[ct][Tt]}if(vt>LameInternalFlags.MAX_BITS_PER_GRANULE)for(Tt=0;Tt<nt.channels_out;++Tt)Ut[ct][Tt]*=LameInternalFlags.MAX_BITS_PER_GRANULE,Ut[ct][Tt]/=vt}if(nt.mode_ext==F.MPG_MD_MS_LR)for(ct=0;ct<nt.mode_gr;ct++)be.reduce_side(Ut[ct],Dt[ct],ht*nt.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(kt=0,ct=0;ct<nt.mode_gr;ct++)for(Tt=0;Tt<nt.channels_out;Tt++)Ut[ct][Tt]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(Ut[ct][Tt]=LameInternalFlags.MAX_BITS_PER_CHANNEL),kt+=Ut[ct][Tt];if(kt>Ht[0])for(ct=0;ct<nt.mode_gr;ct++)for(Tt=0;Tt<nt.channels_out;Tt++)Ut[ct][Tt]*=Ht[0],Ut[ct][Tt]/=kt}}var ib=eb,m0=m.assert;function g0(){var Xt;this.setModules=function(ge){Xt=ge},this.ResvFrameBegin=function(ge,be){var Se=ge.internal_flags,Le,me=Se.l3_side,_e=Xt.getframebits(ge);be.bits=(_e-Se.sideinfo_len*8)/Se.mode_gr;var hi=8*256*Se.mode_gr-8;ge.brate>320?Le=8*int(ge.brate*1e3/(ge.out_samplerate/1152)/8+.5):(Le=8*1440,ge.strict_ISO&&(Le=8*int(32e4/(ge.out_samplerate/1152)/8+.5))),Se.ResvMax=Le-_e,Se.ResvMax>hi&&(Se.ResvMax=hi),(Se.ResvMax<0||ge.disable_reservoir)&&(Se.ResvMax=0);var ai=be.bits*Se.mode_gr+Math.min(Se.ResvSize,Se.ResvMax);return ai>Le&&(ai=Le),m0(Se.ResvMax%8==0),m0(Se.ResvMax>=0),me.resvDrain_pre=0,Se.pinfo!=null&&(Se.pinfo.mean_bits=be.bits/2,Se.pinfo.resvsize=Se.ResvSize),ai},this.ResvMaxBits=function(ge,be,Se,Le){var me=ge.internal_flags,_e,hi=me.ResvSize,ai=me.ResvMax;Le!=0&&(hi+=be),me.substep_shaping&1&&(ai*=.9),Se.bits=be,hi*10>ai*9?(_e=hi-ai*9/10,Se.bits+=_e,me.substep_shaping|=128):(_e=0,me.substep_shaping&=127,!ge.disable_reservoir&&!(me.substep_shaping&1)&&(Se.bits-=.1*be));var se=hi<me.ResvMax*6/10?hi:me.ResvMax*6/10;return se-=_e,se<0&&(se=0),se},this.ResvAdjust=function(ge,be){ge.ResvSize-=be.part2_3_length+be.part2_length},this.ResvFrameEnd=function(ge,be){var Se,Le=ge.l3_side;ge.ResvSize+=be*ge.mode_gr;var me=0;Le.resvDrain_post=0,Le.resvDrain_pre=0,(Se=ge.ResvSize%8)!=0&&(me+=Se),Se=ge.ResvSize-me-ge.ResvMax,Se>0&&(me+=Se);{var _e=Math.min(Le.main_data_begin*8,me)/8;Le.resvDrain_pre+=8*_e,me-=8*_e,ge.ResvSize-=8*_e,Le.main_data_begin-=_e}Le.resvDrain_post+=me,ge.ResvSize-=me}}var wp=g0;function y0(){var Xt="http://www.mp3dev.org/",ge=3,be=98,Se=4,Le=0,me=93;this.getLameVersion=function(){return ge+"."+be+"."+Se},this.getLameShortVersion=function(){return ge+"."+be+"."+Se},this.getLameVeryShortVersion=function(){return"LAME"+ge+"."+be+"r"},this.getPsyVersion=function(){return Le+"."+me},this.getLameUrl=function(){return Xt},this.getLameOsBitness=function(){return"32bits"}}var Tp=y0,x0=m.System,Of=m.VbrMode,Nf=m.ShortBlock,rb=m.Arrays,Jl=m.new_byte,b0=m.assert;Dh.NUMTOCENTRIES=100,Dh.MAXFRAMESIZE=2880;function Dh(){var Xt,ge,be;this.setModules=function(ht,pt,vt){Xt=ht,ge=pt,be=vt};var Se=1,Le=2,me=4,_e=8,hi=Dh.NUMTOCENTRIES,ai=Dh.MAXFRAMESIZE,se=hi+4+4+4+4+4,Ge=se+9+1+1+8+1+1+3+1+1+2+4+2+2,Gt=128,Vt=64,Qt=32,J=null,ae="Xing",ne="Info",Zt=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function lt(ht,pt){if(ht.nVbrNumFrames++,ht.sum+=pt,ht.seen++,!(ht.seen<ht.want)&&(ht.pos<ht.size&&(ht.bag[ht.pos]=ht.sum,ht.pos++,ht.seen=0),ht.pos==ht.size)){for(var vt=1;vt<ht.size;vt+=2)ht.bag[vt/2]=ht.bag[vt];ht.want*=2,ht.pos/=2}}function Dt(ht,pt){if(!(ht.pos<=0))for(var vt=1;vt<hi;++vt){var Yt=vt/hi,Ae,ee,pe=0|Math.floor(Yt*ht.pos);pe>ht.pos-1&&(pe=ht.pos-1),Ae=ht.bag[pe],ee=ht.sum;var at=0|256*Ae/ee;at>255&&(at=255),pt[vt]=255&at}}this.addVbrFrame=function(ht){var pt=ht.internal_flags,vt=Tables.bitrate_table[ht.version][pt.bitrate_index];b0(pt.VBR_seek_table.bag!=null),lt(pt.VBR_seek_table,vt)};function Ut(ht,pt){var vt=ht[pt+0]&255;return vt<<=8,vt|=ht[pt+1]&255,vt<<=8,vt|=ht[pt+2]&255,vt<<=8,vt|=ht[pt+3]&255,vt}function zt(ht,pt,vt){ht[pt+0]=255&(vt>>24&255),ht[pt+1]=255&(vt>>16&255),ht[pt+2]=255&(vt>>8&255),ht[pt+3]=255&(vt&255)}function Ht(ht,pt,vt){ht[pt+0]=255&(vt>>8&255),ht[pt+1]=255&(vt&255)}function nt(ht,pt){return new String(ht,pt,ae.length(),J).equals(ae)||new String(ht,pt,ne.length(),J).equals(ne)}function Rt(ht,pt,vt){return 255&(ht<<pt|vt&~(-1<<pt))}function bt(ht,pt){var vt=ht.internal_flags;pt[0]=Rt(pt[0],8,255),pt[1]=Rt(pt[1],3,7),pt[1]=Rt(pt[1],1,ht.out_samplerate<16e3?0:1),pt[1]=Rt(pt[1],1,ht.version),pt[1]=Rt(pt[1],2,1),pt[1]=Rt(pt[1],1,ht.error_protection?0:1),pt[2]=Rt(pt[2],4,vt.bitrate_index),pt[2]=Rt(pt[2],2,vt.samplerate_index),pt[2]=Rt(pt[2],1,0),pt[2]=Rt(pt[2],1,ht.extension),pt[3]=Rt(pt[3],2,ht.mode.ordinal()),pt[3]=Rt(pt[3],2,vt.mode_ext),pt[3]=Rt(pt[3],1,ht.copyright),pt[3]=Rt(pt[3],1,ht.original),pt[3]=Rt(pt[3],2,ht.emphasis),pt[0]=255;var Yt=255&(pt[1]&241),Ae;ht.version==1?Ae=Gt:ht.out_samplerate<16e3?Ae=Qt:Ae=Vt,ht.VBR==Of.vbr_off&&(Ae=ht.brate);var ee;ht.free_format?ee=0:ee=255&16*Xt.BitrateIndex(Ae,ht.version,ht.out_samplerate),ht.version==1?(pt[1]=255&(Yt|10),Yt=255&(pt[2]&13),pt[2]=255&(ee|Yt)):(pt[1]=255&(Yt|2),Yt=255&(pt[2]&13),pt[2]=255&(ee|Yt))}this.getVbrTag=function(ht){var pt=new VBRTagData,vt=0;pt.flags=0;var Yt=ht[vt+1]>>3&1,Ae=ht[vt+2]>>2&3,ee=ht[vt+3]>>6&3,pe=ht[vt+2]>>4&15;if(pe=Tables.bitrate_table[Yt][pe],ht[vt+1]>>4==14?pt.samprate=Tables.samplerate_table[2][Ae]:pt.samprate=Tables.samplerate_table[Yt][Ae],Yt!=0?ee!=3?vt+=36:vt+=21:ee!=3?vt+=21:vt+=13,!nt(ht,vt))return null;vt+=4,pt.hId=Yt;var at=pt.flags=Ut(ht,vt);if(vt+=4,at&Se&&(pt.frames=Ut(ht,vt),vt+=4),at&Le&&(pt.bytes=Ut(ht,vt),vt+=4),at&me){if(pt.toc!=null)for(var gt=0;gt<hi;gt++)pt.toc[gt]=ht[vt+gt];vt+=hi}pt.vbrScale=-1,at&_e&&(pt.vbrScale=Ut(ht,vt),vt+=4),pt.headersize=(Yt+1)*72e3*pe/pt.samprate,vt+=21;var Me=ht[vt+0]<<4;Me+=ht[vt+1]>>4;var wt=(ht[vt+1]&15)<<8;return wt+=ht[vt+2]&255,(Me<0||Me>3e3)&&(Me=-1),(wt<0||wt>3e3)&&(wt=-1),pt.encDelay=Me,pt.encPadding=wt,pt},this.InitVbrTag=function(ht){var pt=ht.internal_flags,vt;ht.version==1?vt=Gt:ht.out_samplerate<16e3?vt=Qt:vt=Vt,ht.VBR==Of.vbr_off&&(vt=ht.brate);var Yt=(ht.version+1)*72e3*vt/ht.out_samplerate,Ae=pt.sideinfo_len+Ge;if(pt.VBR_seek_table.TotalFrameSize=Yt,Yt<Ae||Yt>ai){ht.bWriteVbrTag=!1;return}pt.VBR_seek_table.nVbrNumFrames=0,pt.VBR_seek_table.nBytesWritten=0,pt.VBR_seek_table.sum=0,pt.VBR_seek_table.seen=0,pt.VBR_seek_table.want=1,pt.VBR_seek_table.pos=0,pt.VBR_seek_table.bag==null&&(pt.VBR_seek_table.bag=new int[400],pt.VBR_seek_table.size=400);var ee=Jl(ai);bt(ht,ee);for(var pe=pt.VBR_seek_table.TotalFrameSize,at=0;at<pe;++at)ge.add_dummy_byte(ht,ee[at]&255,1)};function ct(ht,pt){var vt=pt^ht;return pt=pt>>8^Zt[vt&255],pt}this.updateMusicCRC=function(ht,pt,vt,Yt){for(var Ae=0;Ae<Yt;++Ae)ht[0]=ct(pt[vt+Ae],ht[0])};function Tt(ht,pt,vt,Yt,Ae){var ee=ht.internal_flags,pe=0,at=ht.encoder_delay,gt=ht.encoder_padding,Me=100-10*ht.VBR_q-ht.quality,wt=be.getLameVeryShortVersion(),$t,te=0,re,de=[1,5,3,2,4,0,3],Je=0|(ht.lowpassfreq/100+.5>255?255:ht.lowpassfreq/100+.5),ze=0,Ie=0,ci=0,rr=ht.internal_flags.noise_shaping,ki=0,Ni=0,Yi=0,Mi=0,Ar=0,mn=(ht.exp_nspsytune&1)!=0,Qr=(ht.exp_nspsytune&2)!=0,an=!1,Bn=!1,Bs=ht.internal_flags.nogap_total,Lr=ht.internal_flags.nogap_current,fs=ht.ATHtype,Os=0,Va;switch(ht.VBR){case vbr_abr:Va=ht.VBR_mean_bitrate_kbps;break;case vbr_off:Va=ht.brate;break;default:Va=ht.VBR_min_bitrate_kbps}switch(ht.VBR.ordinal()<de.length?$t=de[ht.VBR.ordinal()]:$t=0,re=16*te+$t,ee.findReplayGain&&(ee.RadioGain>510&&(ee.RadioGain=510),ee.RadioGain<-510&&(ee.RadioGain=-510),Ie=8192,Ie|=3072,ee.RadioGain>=0?Ie|=ee.RadioGain:(Ie|=512,Ie|=-ee.RadioGain)),ee.findPeakSample&&(ze=Math.abs(0|ee.PeakSample/32767*Math.pow(2,23)+.5)),Bs!=-1&&(Lr>0&&(Bn=!0),Lr<Bs-1&&(an=!0)),Os=fs+((mn?1:0)<<4)+((Qr?1:0)<<5)+((an?1:0)<<6)+((Bn?1:0)<<7),Me<0&&(Me=0),ht.mode){case MONO:ki=0;break;case STEREO:ki=1;break;case DUAL_CHANNEL:ki=2;break;case JOINT_STEREO:ht.force_ms?ki=4:ki=3;break;case NOT_SET:default:ki=7;break}ht.in_samplerate<=32e3?Yi=0:ht.in_samplerate==48e3?Yi=2:ht.in_samplerate>48e3?Yi=3:Yi=1,(ht.short_blocks==Nf.short_block_forced||ht.short_blocks==Nf.short_block_dispensed||ht.lowpassfreq==-1&&ht.highpassfreq==-1||ht.scale_left<ht.scale_right||ht.scale_left>ht.scale_right||ht.disable_reservoir&&ht.brate<320||ht.noATH||ht.ATHonly||fs==0||ht.in_samplerate<=32e3)&&(Ni=1),Mi=rr+(ki<<2)+(Ni<<5)+(Yi<<6),Ar=ee.nMusicCRC,zt(vt,Yt+pe,Me),pe+=4;for(var pa=0;pa<9;pa++)vt[Yt+pe+pa]=255&wt.charAt(pa);pe+=9,vt[Yt+pe]=255&re,pe++,vt[Yt+pe]=255&Je,pe++,zt(vt,Yt+pe,ze),pe+=4,Ht(vt,Yt+pe,Ie),pe+=2,Ht(vt,Yt+pe,ci),pe+=2,vt[Yt+pe]=255&Os,pe++,Va>=255?vt[Yt+pe]=255:vt[Yt+pe]=255&Va,pe++,vt[Yt+pe]=255&at>>4,vt[Yt+pe+1]=255&(at<<4)+(gt>>8),vt[Yt+pe+2]=255&gt,pe+=3,vt[Yt+pe]=255&Mi,pe++,vt[Yt+pe++]=0,Ht(vt,Yt+pe,ht.preset),pe+=2,zt(vt,Yt+pe,pt),pe+=4,Ht(vt,Yt+pe,Ar),pe+=2;for(var Ou=0;Ou<pe;Ou++)Ae=ct(vt[Yt+Ou],Ae);return Ht(vt,Yt+pe,Ae),pe+=2,pe}function kt(ht){ht.seek(0);var pt=Jl(10);ht.readFully(pt);var vt;return new String(pt,"ISO-8859-1").startsWith("ID3")?vt=0:vt=((pt[6]&127)<<21|(pt[7]&127)<<14|(pt[8]&127)<<7|pt[9]&127)+pt.length,vt}this.getLameTagFrame=function(ht,pt){var vt=ht.internal_flags;if(!ht.bWriteVbrTag||vt.Class_ID!=tn.LAME_ID||vt.VBR_seek_table.pos<=0)return 0;if(pt.length<vt.VBR_seek_table.TotalFrameSize)return vt.VBR_seek_table.TotalFrameSize;rb.fill(pt,0,vt.VBR_seek_table.TotalFrameSize,0),bt(ht,pt);var Yt=Jl(hi);if(ht.free_format)for(var Ae=1;Ae<hi;++Ae)Yt[Ae]=255&255*Ae/100;else Dt(vt.VBR_seek_table,Yt);var ee=vt.sideinfo_len;ht.error_protection&&(ee-=2),ht.VBR==Of.vbr_off?(pt[ee++]=255&ne.charAt(0),pt[ee++]=255&ne.charAt(1),pt[ee++]=255&ne.charAt(2),pt[ee++]=255&ne.charAt(3)):(pt[ee++]=255&ae.charAt(0),pt[ee++]=255&ae.charAt(1),pt[ee++]=255&ae.charAt(2),pt[ee++]=255&ae.charAt(3)),zt(pt,ee,Se+Le+me+_e),ee+=4,zt(pt,ee,vt.VBR_seek_table.nVbrNumFrames),ee+=4;var pe=vt.VBR_seek_table.nBytesWritten+vt.VBR_seek_table.TotalFrameSize;zt(pt,ee,0|pe),ee+=4,x0.arraycopy(Yt,0,pt,ee,Yt.length),ee+=Yt.length,ht.error_protection&&ge.CRC_writeheader(vt,pt);for(var at=0,Ae=0;Ae<ee;Ae++)at=ct(pt[Ae],at);return ee+=Tt(ht,pe,pt,ee,at),vt.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(ht,pt){var vt=ht.internal_flags;if(vt.VBR_seek_table.pos<=0||(pt.seek(pt.length()),pt.length()==0))return-1;var Yt=kt(pt);pt.seek(Yt);var Ae=Jl(ai),ee=getLameTagFrame(ht,Ae);return ee>Ae.length?-1:(ee<1||pt.write(Ae,0,ee),0)}}var Cp=Dh,S0=m.new_byte,nb=m.assert,tn=Zx,L=bp,H=In,it=Di,st=ib,mt=ll,St=wp,Nt=le,ue=Xl;function he(){this.setModules=function(Xt,ge){}}function ke(){this.setModules=function(Xt,ge,be){}}function Ye(){}function Qe(){this.setModules=function(Xt,ge){}}function Be(Xt,ge,be){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),Xt=1,ge=44100,be=128);var Se=new tn,Le=new he,me=new H,_e=new ue,hi=new L,ai=new it,se=new st,Ge=new Cp,Gt=new Tp,Vt=new Qe,Qt=new St,J=new mt,ae=new ke,ne=new Ye;Se.setModules(me,_e,hi,ai,se,Ge,Gt,Vt,ne),_e.setModules(me,ne,Gt,Ge),Vt.setModules(_e,Gt),hi.setModules(Se),se.setModules(_e,Qt,ai,J),ai.setModules(J,Qt,Se.enc.psy),Qt.setModules(_e),J.setModules(ai),Ge.setModules(Se,_e,Gt),Le.setModules(ae,ne),ae.setModules(Gt,Vt,hi);var Zt=Se.lame_init();Zt.num_channels=Xt,Zt.in_samplerate=ge,Zt.brate=be,Zt.mode=Nt.STEREO,Zt.quality=3,Zt.bWriteVbrTag=!1,Zt.disable_reservoir=!0,Zt.write_id3tag_automatic=!1,Se.lame_init_params(Zt);var lt=1152,Dt=0|1.25*lt+7200,Ut=S0(Dt);this.encodeBuffer=function(zt,Ht){Xt==1&&(Ht=zt),nb(zt.length==Ht.length),zt.length>lt&&(lt=zt.length,Dt=0|1.25*lt+7200,Ut=S0(Dt));var nt=Se.lame_encode_buffer(Zt,zt,Ht,zt.length,Ut,0,Dt);return new Int8Array(Ut.subarray(0,nt))},this.flush=function(){var zt=Se.lame_encode_flush(Zt,Ut,0,Dt);return new Int8Array(Ut.subarray(0,zt))}}function qe(Xt){return Xt.charCodeAt(0)<<24|Xt.charCodeAt(1)<<16|Xt.charCodeAt(2)<<8|Xt.charCodeAt(3)}qe("RIFF"),qe("WAVE"),qe("fmt "),qe("data");var qi=Be,Sr=function(Xt,ge){if(!(Xt instanceof ge))throw new TypeError("Cannot call a class as a function")},sr=function(){function Xt(ge,be){for(var Se=0;Se<be.length;Se++){var Le=be[Se];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(ge,Le.key,Le)}}return function(ge,be,Se){return be&&Xt(ge.prototype,be),Se&&Xt(ge,Se),ge}}(),Jn=function(){function Xt(ge){Sr(this,Xt),this.config={sampleRate:44100,bitRate:128},Object.assign(this.config,ge),this.mp3Encoder=new qi(1,this.config.sampleRate,this.config.bitRate),this.maxSamples=1152,this.samplesMono=null,this.clearBuffer()}return sr(Xt,[{key:"clearBuffer",value:function(){this.dataBuffer=[]}},{key:"appendToBuffer",value:function(be){this.dataBuffer.push(new Int8Array(be))}},{key:"floatTo16BitPCM",value:function(be,Se){for(var Le=0;Le<be.length;Le++){var me=Math.max(-1,Math.min(1,be[Le]));Se[Le]=me<0?me*32768:me*32767}}},{key:"convertBuffer",value:function(be){var Se=new Float32Array(be),Le=new Int16Array(be.length);return this.floatTo16BitPCM(Se,Le),Le}},{key:"encode",value:function(be){this.samplesMono=this.convertBuffer(be);for(var Se=this.samplesMono.length,Le=0;Se>=0;Le+=this.maxSamples){var me=this.samplesMono.subarray(Le,Le+this.maxSamples),_e=this.mp3Encoder.encodeBuffer(me);this.appendToBuffer(_e),Se-=this.maxSamples}}},{key:"finish",value:function(){return this.appendToBuffer(this.mp3Encoder.flush()),this.dataBuffer}}]),Xt}(),Es=function(){function Xt(ge){Sr(this,Xt),this.config={bitRate:128,startRecordingAt:300,deviceId:null},this.activeStream=null,this.context=null,this.microphone=null,this.processor=null,this.startTime=0,Object.assign(this.config,ge)}return sr(Xt,[{key:"addMicrophoneListener",value:function(be){var Se=this;this.activeStream=be,this.timerToStart=setTimeout(function(){delete Se.timerToStart},this.config.startRecordingAt),this.microphone=this.context.createMediaStreamSource(be),this.processor=this.context.createScriptProcessor(0,1,1),this.processor.onaudioprocess=function(Le){Se.timerToStart||Se.lameEncoder.encode(Le.inputBuffer.getChannelData(0))},this.microphone.connect(this.processor),this.processor.connect(this.context.destination)}},{key:"stop",value:function(){return this.processor&&this.microphone&&(this.microphone.disconnect(),this.processor.disconnect(),this.context&&this.context.state!=="closed"&&this.context.close(),this.processor.onaudioprocess=null,this.activeStream.getAudioTracks().forEach(function(be){return be.stop()})),this}},{key:"start",value:function(){var be=this,Se=window.AudioContext||window.webkitAudioContext;this.context=new Se,this.config.sampleRate=this.context.sampleRate,this.lameEncoder=new Jn(this.config);var Le=this.config.deviceId?{deviceId:{exact:this.config.deviceId}}:!0;return new Promise(function(me,_e){navigator.mediaDevices.getUserMedia({audio:Le}).then(function(hi){be.addMicrophoneListener(hi),me(hi)}).catch(function(hi){_e(hi)})})}},{key:"getMp3",value:function(){var be=this,Se=this.lameEncoder.finish();return new Promise(function(Le,me){Se.length===0?me(new Error("No buffer to send")):(Le([Se,new Blob(Se,{type:"audio/mp3"})]),be.lameEncoder.clearBuffer())})}}]),Xt}();return Es})})(cU);var qFt=cU.exports;const tLt=Rs(qFt),eLt="_modal_4rcxv_1",iLt="_mainContainer_4rcxv_14",rLt="_header_4rcxv_32",nLt="_audioRow_4rcxv_50",sLt="_timer_4rcxv_59",aLt="_button_4rcxv_65",oLt="_buttonRecording_4rcxv_86",lLt="_buttonIcon_4rcxv_90",uLt="_buttonBottom_4rcxv_95",hLt="_recordIcon_4rcxv_99",cLt="_blink_4rcxv_1",fLt="_audio_4rcxv_50",dLt="_insertButton_4rcxv_115",pLt="_errorContainer_4rcxv_136",vLt="_errorIcon_4rcxv_148",mLt="_errorText_4rcxv_155",gLt="_hiddenInput_4rcxv_159",Ys={modal:eLt,mainContainer:iLt,header:rLt,audioRow:nLt,timer:sLt,button:aLt,buttonRecording:oLt,buttonIcon:lLt,buttonBottom:uLt,recordIcon:hLt,blink:cLt,audio:fLt,insertButton:dLt,errorContainer:pLt,errorIcon:vLt,errorText:mLt,hiddenInput:gLt},yLt=30,xLt=e=>{const t=Math.floor(e/60),r=e-t*60,n=(c,S,s)=>(new Array(s+1).join(S)+c).slice(-s);return`${n(t,"0",2)}:${n(r,"0",2)}`};class fU extends ti.Component{constructor(t){super(t),this.state={timer:0,recordState:"stopped",audioData:null,error:""},this.uploadInput=ti.createRef(),this.onUpload=this.onUpload.bind(this),this.startRecording=this.startRecording.bind(this),this.stopRecording=this.stopRecording.bind(this)}componentDidMount(){return oi(this,null,function*(){this.recorder=new tLt({bitRate:128})})}componentWillUnmount(){clearInterval(this.timerInterval)}onUpload(t){t.stopPropagation(),t.preventDefault();const r=t.target.files[0];if(r){if(r.size>2e6)return this.setState({error:"File too big (2MB Max)"});this.setState({audioData:null},()=>{this.setState({error:"",audioData:{blob:r,url:URL.createObjectURL(r)}})})}}startRecording(){this.recorder.start().then(()=>{this.setState({recordState:"recording",error:""},()=>{this.timerInterval=setInterval(()=>{const t=this.state.timer+1;this.setState({timer:t}),t>=yLt&&this.stopRecording()},1e3)})}).catch(()=>{this.setState({error:"Browser did not allow audio recording."})})}stopRecording(){return oi(this,null,function*(){clearInterval(this.timerInterval),this.recorder.stop().getMp3().then(([,t])=>{this.setState({audioData:null,recordState:"stopped",timer:0},()=>{this.setState({audioData:{url:URL.createObjectURL(t),blob:t},error:""})})})})}render(){return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:Ys.modal,role:"button",tabIndex:0,onClick:this.props.onClose}),A.jsxs("div",{className:Ys.mainContainer,children:[A.jsx("div",{className:Ys.header,children:"Add Audio"}),A.jsxs("div",{className:Ys.audioRow,children:[A.jsxs("div",{className:Ct(Ys.button,{[Ys.buttonRecording]:this.state.recordState==="recording"}),role:"button",tabIndex:0,onClick:this.state.recordState==="recording"?this.stopRecording:this.startRecording,children:[A.jsx("i",{className:Ct(this.state.recordState==="recording"?"fas fa-save":"fas fa-microphone-alt",Ys.buttonIcon)}),this.state.recordState==="recording"?"Stop Recording":"Record Audio"]}),this.state.recordState==="recording"?A.jsxs(A.Fragment,{children:[A.jsx("i",{className:Ct("fas fa-circle",Ys.recordIcon)}),A.jsx("div",{className:Ys.timer,children:xLt(this.state.timer)})]}):null]}),A.jsxs("div",{className:Ct(Ys.button,Ys.buttonBottom),role:"button",tabIndex:0,onClick:()=>this.uploadInput.current.click(),children:[A.jsx("i",{className:Ct("fas fa-file-upload",Ys.buttonIcon)}),"Upload Audio"]}),A.jsx("input",{type:"file",className:Ys.hiddenInput,onChange:this.onUpload,ref:this.uploadInput,accept:"audio/*"}),this.state.error?A.jsxs("div",{className:Ys.errorContainer,children:[A.jsx("i",{className:Ct(Ys.errorIcon,"fas fa-times-circle")}),A.jsx("div",{className:Ys.errorText,children:this.state.error})]}):this.state.audioData?A.jsxs(A.Fragment,{children:[A.jsx("audio",{controls:!0,className:Ys.audio,children:A.jsx("source",{src:this.state.audioData.url,type:"audio/mpeg"})}),A.jsx("div",{className:Ys.insertButton,role:"button",tabIndex:0,onClick:()=>this.props.onDone(this.state.audioData),children:"Insert"})]}):null]})]})}}fU.propTypes={onDone:Wt.func.isRequired,onClose:Wt.func.isRequired};const bLt="_modal_c3d0v_1",SLt="_mainContainer_c3d0v_14",wLt="_mainRegularBody_c3d0v_33",TLt="_header_c3d0v_56",CLt="_group_c3d0v_74",ELt="_groupName_c3d0v_80",kLt="_symbolContainer_c3d0v_86",DLt="_symbol_c3d0v_86",ALt="_link_c3d0v_111",PLt="_spacer_c3d0v_115",tu={modal:bLt,mainContainer:SLt,mainRegularBody:wLt,header:TLt,group:CLt,groupName:ELt,symbolContainer:kLt,symbol:DLt,link:ALt,spacer:PLt},RLt={Superscript:["","","","","","","","","","","","","","",""],Subscript:["","","","","","","","","","","","","","",""],"Lowercase Accents":["","","","","","","",""," ","","","","","","","","","","","","","","","","","","","","",""],"Uppercase Accents":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Common:["","","","","","",""," ","","","","","","","","","",""],"Lowercase Greek":["","","","","","","","","","","","","","","","","","","","","","","",""],"Uppercase Greek":["","","","","","","","","","","","","","",""," ","","","","","","","",""]},dU=({select:e})=>A.jsxs(A.Fragment,{children:[A.jsx("div",{className:tu.modal,role:"button",tabIndex:0,onClick:()=>e("")}),A.jsxs("div",{className:tu.mainContainer,children:[A.jsx("div",{className:tu.header,children:"Symbol Keyboard"}),A.jsxs("div",{className:tu.mainRegularBody,children:[Object.entries(RLt).map(([t,r])=>A.jsxs("div",{className:tu.group,children:[A.jsx("div",{className:tu.groupName,children:t}),A.jsx("div",{className:tu.symbolContainer,children:r.map(n=>A.jsx("div",{className:tu.symbol,role:"button",tabIndex:0,onClick:()=>e(n),children:n},n))})]},t)),A.jsx("a",{href:"https://symbolsalad.com/",target:"_blank",rel:"noopener noreferrer",className:tu.link,children:"More Symbols"})]}),A.jsx("div",{className:tu.spacer})]})]});dU.propTypes={select:Wt.func.isRequired};const ILt="_modal_yp3ka_1",MLt="_mainContainer_yp3ka_14",BLt="_header_yp3ka_29",OLt="_buttonsHolder_yp3ka_47",NLt="_button_yp3ka_47",FLt="_buttonIcon_yp3ka_78",td={modal:ILt,mainContainer:MLt,header:BLt,buttonsHolder:OLt,button:NLt,buttonIcon:FLt},RC={mc:{name:"Multiple Choice",icon:"fas fa-th-large"},typing:{name:"Typing Answer",icon:"fas fa-keyboard"}};class pU extends ti.Component{constructor(t){super(t),this.state={}}render(){return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:td.modal,role:"button",tabIndex:0,onClick:this.props.onClose}),A.jsxs("div",{className:td.mainContainer,children:[A.jsx("div",{className:td.header,children:"Question Type"}),A.jsx("div",{className:td.buttonsHolder,children:Object.entries(RC).map(([t,r])=>A.jsxs("div",{className:td.button,role:"button",tabIndex:0,onClick:()=>this.props.onDone(t),children:[A.jsx("i",{className:Ct(r.icon,td.buttonIcon)}),r.name]},t))})]})]})}}pU.propTypes={onDone:Wt.func.isRequired,onClose:Wt.func.isRequired};var vU={};Ln.addStyles();const lT=e=>{e!==document.activeElement&&setTimeout(()=>{e.focus(),e.setSelectionRange(e.value.length,e.value.length)},0)},zP=e=>oi(bn,null,function*(){return new Promise(t=>oi(bn,null,function*(){if(e.id)return t(e);let r={};e.file?r=yield new Promise(n=>{const c=new FormData;c.append("file",e.file),c.append("tags",""),c.append("upload_preset","normal"),c.append("api_key",vU.CLOUDINARY_API_KEY),c.append("timestamp",parseInt(Date.now()/1e3,10)),qm.post("https://api.cloudinary.com/v1_1/blooket/image/upload",c,{headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!1}).then(S=>{n({url:S.data.secure_url,id:S.data.public_id})}).catch(S=>{Ue.logError(S),n({})})}):e.url&&(r.url=e.url,r.id="",e.url.includes("https://images.unsplash.com")&&(r.id="u")),t(r)}))}),LLt=e=>new Promise(t=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.readAsDataURL(e)}),_Lt=e=>oi(bn,null,function*(){return new Promise(t=>oi(bn,null,function*(){if(!e||e.id)return t(e||{});let r={};if(e.blob){const n=yield LLt(e.blob);r=yield new Promise(c=>{const S=new FormData;S.append("file",n),S.append("tags",""),S.append("upload_preset","to_mp3"),S.append("api_key",vU.CLOUDINARY_API_KEY),S.append("timestamp",parseInt(Date.now()/1e3,10)),qm.post("https://api.cloudinary.com/v1_1/blooket/upload",S,{headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!1}).then(s=>{c({url:s.data.secure_url,id:s.data.public_id})}).catch(s=>{Ue.logError(s),c({})})})}t(r)}))}),GP=e=>{let t="";for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].textContent?t+=e.childNodes[r].textContent:t+=`
`;return t=t.trim(),t};class IC extends ti.Component{constructor(t){super(t);const r=t.question||{},n={qType:r.qType||"mc",answers:[],answerTypes:[]},c=[];if(r.correctAnswers)for(let g=0;g<r.correctAnswers.length;g++)c.push(r.answers.indexOf(r.correctAnswers[g])+1);const S=r.question||"",s=["",""];if(S.includes("`*`")?(s[1]=S.slice(S.indexOf("`*`")+3,S.length-3),s[0]=S.slice(0,S.indexOf("`*`"))):s[0]=S,n.question=s[0]?s[0].replaceAll(`
`,"<br>"):"",n.qEq=s[1],n.qType==="typing")n.answers=r.answers,n.answerTypes=r.answerTypes;else for(let g=1;g<=4;g++){const i=r.answers&&r.answers.length>=g?r.answers[g-1]:"",a=["","",{}],v=i.split("`~`");v.length===2?a[2]={id:v[0],url:v[1]}:i.slice(0,3)==="`*`"?a[1]=i.slice(3,i.length-3):a[0]=i,n[`answer${g}`]=a[0],n[`answer${g}Eq`]=a[1],n[`answer${g}Img`]=a[2]}this.state=Or(ji({},n),{qImg:r.image||{},qAudio:r.audio||null,equation:"",correctAnswers:c,timeLimit:r.timeLimit||20,random:r.random!==void 0?r.random:!0,number:r.number,addingImgNum:0,addingQImg:!1,addingEqNum:0,addingAudio:!1,symbolTarget:0,loading:!1,error:{},plusMsg:"",editingQType:!1}),this.question=ti.createRef(),this.answer1=ti.createRef(),this.answer2=ti.createRef(),this.answer3=ti.createRef(),this.answer4=ti.createRef(),this.gotPlus=!1,this.plus=!1,this.onKeyPress=this.onKeyPress.bind(this),this.onTextAreaInput=this.onTextAreaInput.bind(this),this.setCorrect=this.setCorrect.bind(this),this.setQuestionType=this.setQuestionType.bind(this),this.setStateArrayVal=this.setStateArrayVal.bind(this),this.addEquation=this.addEquation.bind(this),this.addAudio=this.addAudio.bind(this),this.addSymbol=this.addSymbol.bind(this),this.save=this.save.bind(this),this.resetTextAreaPositions=this.resetTextAreaPositions.bind(this)}componentDidMount(){document.addEventListener("keydown",this.onKeyPress),this.state.question||lT(this.question.current),this.resetTextAreaPositions()}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyPress)}onKeyPress(t){this.state.addingImgNum||this.state.addingQImg||this.state.addingAudio||this.state.addingEqNum||this.state.symbolTarget||t.keyCode===13&&t.shiftKey===!1&&this.save(t)}onTextAreaInput(t,r){this.setState({[r]:t.target.value,error:this.state.error.type===r?{}:this.state.error},()=>{this[r].current.style.height=0,this[r].current.style.height=`${this[r].current.scrollHeight}px`})}getIsPlus(t,r){return oi(this,null,function*(){if(this.gotPlus||(this.plus=yield new Promise(n=>{vi.get("/api/users/plan").then(c=>{n(c.data.hasPlus)}).catch(c=>{Ue.logError(c),n(!1)})}),this.gotPlus=!0),!this.plus)return this.setState({plusMsg:t});r()})}setCorrect(t){let r=this.state.error;(r.type==="correctAnswers"||r.type==="answer3"&&t===3||r.type==="answer4"&&t===4)&&(r={});const n=[...this.state.correctAnswers],c=n.indexOf(t);c===-1?n.push(t):n.splice(c,1),this.setState({correctAnswers:n,error:r})}setQuestionType(t){const r={};if(t==="mc"){this.state.answers.forEach((n,c)=>{r[`answer${c+1}`]=n,r[`answer${c+1}Eq`]="",r[`answer${c+1}Img`]={}});for(let n=this.state.answers.length;n<4;n++)r[`answer${n+1}`]="",r[`answer${n+1}Eq`]="",r[`answer${n+1}Img`]={}}else t==="typing"&&(r.answers=[],r.answerTypes=[],[1,2,3,4].forEach(n=>{this.state[`answer${n}`]&&(r.answers.push(this.state[`answer${n}`]),r.answerTypes.push("exactly"))}),r.answers.length===0&&(r.answers.push(""),r.answerTypes.push("exactly")));this.setState(Or(ji({},r),{qType:t,correctAnswers:[],editingQType:!1}),this.resetTextAreaPositions)}setStateArrayVal(t,r,n){this.setState({[t]:this.state[t].map((c,S)=>r===S?n:c)})}addEquation(t){let r="q";this.state.addingEqNum<5&&(r=`answer${this.state.addingEqNum}`),this.setState({[`${r}Eq`]:t,[`${r}Img`]:{},qAudio:r==="q"?null:this.state.qAudio,addingEqNum:0})}addAudio(t){this.setState({addingAudio:!1}),t&&this.setState({qAudio:null},()=>{this.setState({qAudio:t,qImg:{},qEq:""})})}addSymbol(t){this.state.symbolTarget===5?(this.setState({question:this.state.question+t}),this.question.current.focus()):(this.setState({[`answer${this.state.symbolTarget}`]:this.state[`answer${this.state.symbolTarget}`]+t}),this[`answer${this.state.symbolTarget}`].current.focus()),this.setState({symbolTarget:0})}save(t){return oi(this,null,function*(){if(t.preventDefault(),this.state.loading)return;this.setState({loading:!0});const r=`${GP(this.question.current)}${this.state.qEq?`\`*\`${this.state.qEq}\`*\``:""}`.replaceAll("<br>",`
`).replaceAll("&nbsp;"," "),n=[],c=[],S=[];let s=[],g=[];if(this.state.qType==="mc")for(let o=0;o<4;o++){const d=this.state[`answer${o+1}Img`];n.push(d);const p=this.state[`answer${o+1}Eq`];d.url?c.push(`img${o+1}`):p?c.push(`\`*\`${p}\`*\``):c.push(GP(this[`answer${o+1}`].current).replaceAll("<br>",`
`).replaceAll("&nbsp;"," "))}else this.state.qType==="typing"&&(s=this.state.answers.filter(o=>!!o));let i={};if(r||(i={msg:"Where's the question?",type:"question"}),this.state.qType==="mc")this.state.correctAnswers[0]||(i={msg:"Which answer is correct?",type:"correctAnswers"}),c[0]||(i={msg:"Answers 1 and 2 must be filled.",type:"answer1"}),c[1]||(i={msg:"Answers 1 and 2 must be filled.",type:"answer2"}),this.state.correctAnswers.includes(3)&&!c[2]&&(i={msg:"Answer 3 can't be correct if it doesn't exist.",type:"answer3"}),this.state.correctAnswers.includes(4)&&!c[3]&&(i={msg:"Answer 4 can't be correct if it doesn't exist.",type:"answer4"}),c[0]===c[1]&&(i={msg:"No duplicate answers.",type:"answer2"}),s=[c[0],c[1]],g=[n[0],n[1]],this.state.correctAnswers.includes(1)&&S.push(s[0]),this.state.correctAnswers.includes(2)&&S.push(s[1]),c[2]&&(s.includes(c[2])?i={msg:"No duplicate answers.",type:"answer3"}:(s.push(c[2]),g.push(n[2]),this.state.correctAnswers.includes(3)&&S.push(c[2]))),c[3]&&(s.includes(c[3])?i={msg:"No duplicate answers.",type:"answer4"}:(s.push(c[3]),g.push(n[3]),this.state.correctAnswers.includes(4)&&S.push(c[3])));else if(this.state.qType==="typing"){let o=!1;s.forEach((d,p)=>{s.forEach((l,m)=>{d===l&&p!==m&&(o=!0)})}),o&&(i={msg:"No duplicate answers."}),s.length===0&&(i={msg:"You must include an answer."})}if(this.setState({error:i}),i.msg)return this.setState({loading:!1});const a=[zP(this.state.qImg),_Lt(this.state.qAudio)];s.forEach((o,d)=>{a.push(zP(g[d]||{}))});const v=yield Promise.all(a),f=v[0],h=v[1],u=v.slice(2);this.props.isAdding?vi.put("/api/games/addquestion",{gameId:this.props.gameId,question:r,answers:s,correctAnswers:S,timeLimit:Number(this.state.timeLimit),random:this.state.random,image:f,audio:h,answerImages:u,qType:this.state.qType,answerTypes:this.state.answerTypes}).then(o=>{o.data.success?this.props.onDone(!0):this.setState({error:{msg:o.data.msg,type:"question"},loading:!1})}).catch(o=>{Ue.logError(o);const d=o.response&&o.response.data&&o.response.data.msg?o.response.data.msg:"Something went wrong";this.setState({error:{type:"question",msg:d},loading:!1})}):vi.put("/api/games/updatequestion",{number:this.state.number,gameId:this.props.gameId,question:r,answers:s,correctAnswers:S,timeLimit:Number(this.state.timeLimit),random:this.state.random,image:f,audio:h,answerImages:u,qType:this.state.qType,answerTypes:this.state.answerTypes}).then(o=>{o.data.success?this.props.onDone(!0):this.setState({error:{msg:o.data.msg,type:"question"},loading:!1})}).catch(o=>{Ue.logError(o),this.setState({error:{type:"question",msg:o.response?o.response.data:"Something went wrong."},loading:!1})})})}resetTextAreaPositions(){["question","answer1","answer2","answer3","answer4"].forEach(t=>{this[t].current&&(this[t].current.style.height=0,this[t].current.style.height=`${this[t].current.scrollHeight}px`)})}render(){return A.jsxs("div",{className:mi.wrapper,children:[A.jsx("div",{className:mi.modal,children:A.jsxs("div",{className:mi.mainContainer,children:[A.jsx(Ec,{place:"bottom",effect:"solid",className:mi.tooltip}),A.jsxs("div",{className:mi.header,children:[A.jsxs("div",{className:mi.headerRow,children:[A.jsxs("div",{className:mi.headerContainer,"data-tip":"The max time a student can spend on a question.",children:[A.jsx("i",{className:Ct("far fa-clock",mi.headerIcon)}),A.jsxs("div",{className:mi.headerText,children:["Time",A.jsx("br",{}),"Limit"]}),A.jsx("input",{className:mi.timeInput,onChange:t=>this.setState({timeLimit:Math.max(0,Math.min(300,Math.floor(t.target.value)))}),type:"number",value:this.state.timeLimit})]}),A.jsxs("div",{className:mi.headerContainer,"data-tip":"When checked, answers will be given in a random order.",children:[A.jsx("i",{className:Ct("fas fa-random",mi.headerIcon)}),A.jsxs("div",{className:mi.headerText,children:["Random",A.jsx("br",{}),"Order"]}),A.jsx("div",{className:Ct(mi.randomButton,{[mi.isRandom]:this.state.random}),role:"button",tabIndex:-1,onClick:()=>this.setState({random:!this.state.random}),children:A.jsx("i",{className:Ct("fas fa-check",mi.randomCheck)})})]}),A.jsxs("div",{className:mi.headerContainerButton,role:"button",tabIndex:0,onClick:()=>this.setState({editingQType:!0}),children:[A.jsx("i",{className:Ct(RC[this.state.qType].icon,mi.headerIcon)}),A.jsx("div",{className:mi.headerText,children:RC[this.state.qType].name}),A.jsx("i",{className:Ct("fas fa-chevron-down",mi.questionTypeArrow)})]})]}),A.jsxs("div",{className:mi.headerRow,children:[A.jsxs("div",{className:mi.cancelButton,role:"button",tabIndex:-1,onClick:()=>this.props.onDone(!1),children:[A.jsx("i",{className:Ct("fas fa-times",mi.cancelIcon)}),A.jsx("div",{className:mi.cancelText,children:"Cancel"})]}),A.jsx("div",{className:mi.saveButton,role:"button",tabIndex:-1,onClick:this.save,children:this.state.loading?A.jsx("i",{className:Ct("fas fa-sync",mi.loadingIcon)}):A.jsxs(A.Fragment,{children:[A.jsx("i",{className:Ct("fas fa-save",mi.saveIcon)}),A.jsx("div",{className:mi.saveText,children:"Save"})]})})]})]}),A.jsxs("div",{className:mi.questionRegularBody,children:[A.jsxs("div",{className:mi.questionContainer,style:{backgroundColor:mc.default.background},children:[A.jsxs("div",{className:mi.questionLeftContainer,children:[A.jsxs("div",{className:mi.questionButton,role:"button",tabIndex:-1,onClick:()=>this.setState({addingQImg:!0}),children:[A.jsx("i",{className:Ct("fas fa-image",mi.questionIcon)}),"Image"]}),A.jsxs("div",{className:mi.questionButton,role:"button",tabIndex:-1,onClick:()=>this.setState({addingEqNum:5,equation:this.state.qEq}),children:[A.jsx("i",{className:Ct("fas fa-superscript",mi.questionIcon)}),"Math"]}),A.jsxs("div",{className:mi.questionButton,role:"button",tabIndex:-1,onClick:()=>this.getIsPlus("Record Question Audio",()=>this.setState({addingAudio:!0})),children:[A.jsx("i",{className:Ct("fas fa-microphone-alt",mi.questionIcon)}),"Audio"]})]}),this.state.qAudio?A.jsxs("div",{className:mi.questionImgWrapper,children:[A.jsx(fh,{audioUrl:this.state.qAudio.url}),A.jsxs("div",{className:mi.removeQButton,role:"button",tabIndex:0,onClick:()=>this.setState({qAudio:null}),children:[A.jsx("i",{className:Ct("fas fa-trash-alt",mi.removeQIcon)}),"Remove"]})]}):this.state.qImg.url?A.jsxs("div",{className:mi.questionImgWrapper,children:[A.jsx("div",{className:mi.questionImgContainer,children:A.jsx("img",{src:this.state.qImg.url,alt:"Upload",className:mi.img,draggable:!1})}),A.jsxs("div",{className:mi.removeQButton,role:"button",tabIndex:0,onClick:()=>this.setState({qImg:{}}),children:[A.jsx("i",{className:Ct("fas fa-trash-alt",mi.removeQIcon)}),"Remove"]})]}):this.state.qEq?A.jsxs("div",{className:mi.questionEqWrapper,children:[A.jsx(Ln.StaticMathField,{className:mi.mathField,children:this.state.qEq}),A.jsxs("div",{className:mi.removeQButton,role:"button",tabIndex:0,onClick:()=>this.setState({qEq:""}),children:[A.jsx("i",{className:Ct("fas fa-trash-alt",mi.removeQIcon)}),"Remove"]})]}):null,A.jsxs("div",{className:Ct(mi.questionTextContainer,{[mi.errorBorder]:this.state.error.type==="question"}),role:"button",tabIndex:-1,onClick:()=>lT(this.question.current),children:[A.jsx("textarea",{className:mi.questionText,onChange:t=>this.onTextAreaInput(t,"question"),"data-gramm_editor":"false",spellCheck:"false",value:this.state.question,placeholder:"Question Text",ref:this.question}),A.jsx("i",{className:Ct(mi.keyboardIcon,"far fa-keyboard"),"data-tip":"Show Symbol Keyboard",role:"button",tabIndex:-1,onClick:()=>this.setState({symbolTarget:5})})]}),this.state.error.msg?A.jsx("div",{className:mi.errorContainer,children:this.state.error.msg}):null]}),this.state.qType==="mc"?A.jsx("div",{className:mi.answersHolder,children:[1,2,3,4].map(t=>A.jsx("div",{className:mi.answerWrapper,children:A.jsxs("div",{className:mi.answerContainer,style:{backgroundColor:mc.default.answers[t-1].background},children:[A.jsxs("div",{className:mi.answerLeftContainer,children:[A.jsx("div",{className:Ct(mi.correctButton,{[mi.correctAnswer]:this.state.correctAnswers.includes(t)}),role:"button",tabIndex:-1,onClick:()=>this.setCorrect(t),children:A.jsx("i",{className:Ct("fas fa-check",mi.correctCheck)})}),A.jsxs("div",{className:mi.answerButtonRow,children:[A.jsx("div",{className:mi.answerIconButton,role:"button",tabIndex:-1,onClick:()=>this.getIsPlus("Add Answer Images",()=>this.setState({addingImgNum:t})),"data-tip":"Add Image",children:A.jsx("i",{className:Ct("fas fa-image",mi.answerIcon)})}),A.jsx("div",{className:mi.answerIconButton,role:"button",tabIndex:-1,onClick:()=>this.setState({addingEqNum:t,equation:this.state[`answer${t}Eq`]}),"data-tip":"Add Math",children:A.jsx("i",{className:Ct("fas fa-superscript",mi.answerIcon)})})]})]}),this.state[`answer${t}Img`].url?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:mi.answerImgContainer,children:A.jsx("img",{src:this.state[`answer${t}Img`].url,alt:"Upload",className:mi.img,draggable:!1})}),A.jsx("div",{className:mi.removeButton,role:"button",tabIndex:-1,onClick:()=>this.setState({[`answer${t}Img`]:{}}),children:A.jsx("i",{className:Ct("fas fa-trash-alt",mi.answerIcon)})})]}):this.state[`answer${t}Eq`]?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:mi.answerImgContainer,children:A.jsx(Ln.StaticMathField,{className:mi.mathAnswerField,children:this.state[`answer${t}Eq`]})}),A.jsx("div",{className:mi.removeButton,role:"button",tabIndex:0,onClick:()=>this.setState({[`answer${t}Eq`]:""}),children:A.jsx("i",{className:Ct("fas fa-trash-alt",mi.answerIcon)})})]}):A.jsxs("div",{className:Ct(mi.answerTextContainer,{[mi.errorBorder]:this.state.error.type===`answer${t}`||this.state.error.type==="correctAnswers"&&[1,2].includes(t)}),role:"button",tabIndex:-1,onClick:()=>lT(this[`answer${t}`].current),children:[A.jsx("textarea",{className:mi.answerText,onChange:r=>this.onTextAreaInput(r,`answer${t}`),"data-gramm_editor":"false",spellCheck:"false",value:this.state[`answer${t}`],placeholder:`Answer ${t}${t>2?" (Optional)":""}`,ref:this[`answer${t}`]}),A.jsx("i",{className:Ct(mi.keyboardIcon,"far fa-keyboard"),"data-tip":"Show Symbol Keyboard",role:"button",tabIndex:-1,onClick:()=>this.setState({symbolTarget:t})})]})]})},t))}):this.state.qType==="typing"?A.jsx("div",{className:mi.typingAnswersWrapper,children:A.jsx("div",{className:mi.typingAnswersHolder,children:A.jsxs("div",{className:mi.typingAnswersInside,children:[A.jsx("div",{className:mi.typingAnswerHeader,children:"Possible Answers"}),A.jsx("div",{className:mi.typingAnswerSubheader,children:"(not case sensitive)"}),this.state.answers.map((t,r)=>A.jsxs("div",{className:mi.typingAnswerRow,style:{zIndex:this.state.answers.length-r},children:[A.jsxs("div",{className:mi.answerTypeDropdown,children:[this.state.answerTypes[r]==="exactly"?"is exactly":"contains",A.jsx("i",{className:Ct("fas fa-chevron-down",mi.answerTypeArrow)}),A.jsxs("div",{className:mi.answerTypeDropdownMenu,children:[A.jsx("div",{className:mi.answerTypeDropdownOption,role:"button",tabIndex:0,onClick:()=>this.setStateArrayVal("answerTypes",r,"exactly"),children:"is exactly"}),A.jsx("div",{className:mi.answerTypeDropdownOption,role:"button",tabIndex:0,onClick:()=>this.setStateArrayVal("answerTypes",r,"contains"),children:"contains"})]})]}),A.jsx("div",{className:mi.typingAnswerContainer,children:A.jsx("input",{className:mi.typingAnswerInput,placeholder:`Answer ${r+1}${r>0?" (Optional)":""}`,onChange:n=>this.setStateArrayVal("answers",r,n.target.value),value:this.state.answers[r],type:"text",autoFocus:r===0?"autofocus":""})}),r!==0?A.jsx("div",{className:mi.removeTypingAnswerButton,role:"button",tabIndex:0,onClick:()=>this.setState({answers:this.state.answers.filter((n,c)=>c!==r),answerTypes:this.state.answerTypes.filter((n,c)=>c!==r)}),children:A.jsx("i",{className:Ct("fas fa-trash-alt",mi.removeTrashIcon)})}):null]},r)),this.state.answers.length<10?A.jsx("div",{className:mi.addAnswerButton,role:"button",tabIndex:0,onClick:()=>this.setState({answers:[...this.state.answers,""],answerTypes:[...this.state.answerTypes,"exactly"]}),children:"Add Alternative Answer"}):null]})})}):null]})]})}),this.state.addingImgNum||this.state.addingQImg?A.jsx(uU,{onClose:()=>this.setState({addingImgNum:0,addingQImg:!1}),onDone:(t,r)=>this.setState({addingImgNum:0,addingQImg:!1,[this.state.addingQImg?"qImg":`answer${this.state.addingImgNum}Img`]:{url:t,file:r},qEq:this.state.addingQImg?"":this.state.qEq,qAudio:this.state.addingQImg?null:this.state.qAudio,[`answer${this.state.addingImgNum}Eq`]:this.state.addingQImg?this.state[`answer${this.state.addingImgNum}Eq`]:""})}):this.state.addingEqNum?A.jsx(hU,{equation:this.state.equation,onDone:this.addEquation,onClose:()=>this.setState({addingEqNum:0})}):this.state.addingAudio?A.jsx(fU,{onDone:this.addAudio,onClose:()=>this.setState({addingAudio:!1})}):this.state.symbolTarget?A.jsx(dU,{select:this.addSymbol}):this.state.plusMsg?A.jsx(gr,{text:`Get Blooket Plus to ${this.state.plusMsg}!`,buttonOne:{text:"Upgrade",click:()=>this.props.history.push("/upgrade"),color:"orange"},buttonTwo:{text:"Not Now",click:()=>this.setState({plusMsg:""}),color:"blue"}}):this.state.editingQType?A.jsx(pU,{onDone:this.setQuestionType,onClose:()=>this.setState({editingQType:!1})}):null]})}}IC.propTypes={onDone:Wt.func.isRequired,question:Wt.object,gameId:Wt.string,isAdding:Wt.bool,history:Wt.object.isRequired};const jLt="_modal_1q0cr_1",ULt="_mainContainer_1q0cr_13",zLt="_slideIn_1q0cr_1",GLt="_slideOut_1q0cr_33",HLt="_closeIcon_1q0cr_45",$Lt="_top_1q0cr_56",VLt="_searchContainer_1q0cr_68",WLt="_searchIcon_1q0cr_79",YLt="_searchInput_1q0cr_93",XLt="_filtersHolder_1q0cr_111",QLt="_filterIcon_1q0cr_116",KLt="_filtersColumn_1q0cr_139",JLt="_filterRow_1q0cr_152",ZLt="_filterRowCenter_1q0cr_166",qLt="_filterColumn_1q0cr_170",t_t="_filters_1q0cr_111",e_t="_checkBox_1q0cr_182",i_t="_checkBoxAutoLeft_1q0cr_198",r_t="_checkBoxWide_1q0cr_202",n_t="_checkIcon_1q0cr_206",s_t="_checkYes_1q0cr_211",a_t="_checkNo_1q0cr_217",o_t="_left_1q0cr_223",l_t="_nothingContainer_1q0cr_235",u_t="_nothingBlook_1q0cr_246",h_t="_hitsHolder_1q0cr_252",c_t="_hitContainer_1q0cr_263",f_t="_hitSelected_1q0cr_282",d_t="_hitImageContainer_1q0cr_286",p_t="_hitHasImage_1q0cr_300",v_t="_coverImage_1q0cr_304",m_t="_setFillerText_1q0cr_310",g_t="_setQuestionsText_1q0cr_318",y_t="_hitRight_1q0cr_329",x_t="_setHeader_1q0cr_337",b_t="_setSpacer_1q0cr_344",S_t="_setPlays_1q0cr_350",w_t="_verifiedIcon_1q0cr_357",T_t="_setDescText_1q0cr_362",C_t="_setAuthorContainer_1q0cr_366",E_t="_authorIcon_1q0cr_372",k_t="_showMoreButton_1q0cr_377",D_t="_right_1q0cr_399",A_t="_questionsHolder_1q0cr_411",P_t="_addAllButton_1q0cr_422",R_t="_addAllButtonInside_1q0cr_427",I_t="_addAllIcon_1q0cr_436",M_t="_questionSection_1q0cr_441",B_t="_questionContainer_1q0cr_452",O_t="_questionImageContainer_1q0cr_458",N_t="_questionImageContainerButton_1q0cr_475",F_t="_questionImage_1q0cr_458",L_t="_imageNumber_1q0cr_488",__t="_questionFunc_1q0cr_499",j_t="_qMathField_1q0cr_507",U_t="_questionCenterContainer_1q0cr_515",z_t="_questionWithFunc_1q0cr_523",G_t="_questionText_1q0cr_527",H_t="_addedContainer_1q0cr_538",$_t="_addQuestionButton_1q0cr_549",V_t="_addQuestionButtonInside_1q0cr_555",W_t="_addIcon_1q0cr_566",Y_t="_answerContainer_1q0cr_571",X_t="_typingAnswerContainer_1q0cr_581",Q_t="_typingAnswer_1q0cr_581",K_t="_typingAnswerIcon_1q0cr_595",J_t="_answer_1q0cr_571",Z_t="_answerIcon_1q0cr_616",q_t="_answerMediaContainer_1q0cr_623",tjt="_answerMediaMaxheight_1q0cr_631",ejt="_answerText_1q0cr_635",ijt="_answerImg_1q0cr_643",rjt="_mathField_1q0cr_651",njt="_faded_1q0cr_659",sjt="_plusOverlay_1q0cr_663",ajt="_plusOverlayContainer_1q0cr_676",ojt="_plusOverlayButton_1q0cr_694",ljt="_plusOverlayButtonInside_1q0cr_699",ujt="_setEditedText_1q0cr_779",hjt="_answerImgContainer_1q0cr_859",di={modal:jLt,mainContainer:ULt,slideIn:zLt,slideOut:GLt,closeIcon:HLt,top:$Lt,searchContainer:VLt,searchIcon:WLt,searchInput:YLt,filtersHolder:XLt,filterIcon:QLt,filtersColumn:KLt,filterRow:JLt,filterRowCenter:ZLt,filterColumn:qLt,filters:t_t,checkBox:e_t,checkBoxAutoLeft:i_t,checkBoxWide:r_t,checkIcon:n_t,checkYes:s_t,checkNo:a_t,left:o_t,nothingContainer:l_t,nothingBlook:u_t,hitsHolder:h_t,hitContainer:c_t,hitSelected:f_t,hitImageContainer:d_t,hitHasImage:p_t,coverImage:v_t,setFillerText:m_t,setQuestionsText:g_t,hitRight:y_t,setHeader:x_t,setSpacer:b_t,setPlays:S_t,verifiedIcon:w_t,setDescText:T_t,setAuthorContainer:C_t,authorIcon:E_t,showMoreButton:k_t,right:D_t,questionsHolder:A_t,addAllButton:P_t,addAllButtonInside:R_t,addAllIcon:I_t,questionSection:M_t,questionContainer:B_t,questionImageContainer:O_t,questionImageContainerButton:N_t,questionImage:F_t,imageNumber:L_t,questionFunc:__t,qMathField:j_t,questionCenterContainer:U_t,questionWithFunc:z_t,questionText:G_t,addedContainer:H_t,addQuestionButton:$_t,addQuestionButtonInside:V_t,addIcon:W_t,answerContainer:Y_t,typingAnswerContainer:X_t,typingAnswer:Q_t,typingAnswerIcon:K_t,answer:J_t,answerIcon:Z_t,answerMediaContainer:q_t,answerMediaMaxheight:tjt,answerText:ejt,answerImg:ijt,mathField:rjt,faded:njt,plusOverlay:sjt,plusOverlayContainer:ajt,plusOverlayButton:ojt,plusOverlayButtonInside:ljt,setEditedText:ujt,answerImgContainer:hjt};Ln.addStyles();const mU=({hit:e,setSelected:t,getSet:r})=>{const[n,c]=zi.useState(!1);return A.jsxs("div",{className:Ct(di.hitContainer,{[di.hitSelected]:t&&t._id===e._id}),role:"button",tabIndex:0,onClick:r,children:[A.jsxs("div",{className:Ct(di.hitImageContainer,{[di.hitHasImage]:e.coverImage&&!n}),children:[e.coverImage&&!n?A.jsx(Ul,{height:100,children:A.jsx("img",{src:Dn(e.coverImage.url),alt:"Cover",className:di.coverImage,draggable:!1,onError:()=>c(!0)})}):A.jsx("div",{className:di.setFillerText,children:"Blooket"}),A.jsx("div",{className:di.setQuestionsText,children:`${Ji(e.questions.length)} Qs`})]}),A.jsxs("div",{className:di.hitRight,children:[A.jsx("div",{className:di.setHeader,children:e.title}),A.jsx("div",{className:di.setSpacer}),A.jsxs("div",{className:di.setPlays,children:[`${Ji(e.playCount)} ${e.playCount===1?"Play":"Plays"}`,e.verified?A.jsx("i",{className:Ct("fas fa-check-square",di.verifiedIcon)}):null]}),A.jsx("div",{className:Ct(di.setDescText,di.setEditedText),children:`Edited ${ui(e.date).fromNow()}`}),A.jsxs("div",{className:di.setAuthorContainer,children:[A.jsx("i",{className:Ct(di.authorIcon,"fas fa-user")}),A.jsx("div",{className:di.setDescText,children:e.author})]})]})]})};mU.propTypes={hit:Wt.object,setSelected:Wt.object,getSet:Wt.func};const cjt=(e,t)=>e.playCount!==t.playCount?t.playCount-e.playCount:e.title<t.title?-1:e.title>t.title?1:0;class gU extends ti.Component{constructor(t){super(t),this.state={searchQuery:"",searched:!1,hits:[],hasMore:!1,pageIndex:0,minQuestions:1,hasCoverImage:!1,minPlays:10,setSelected:null,zoomedImage:"",addingNum:0,addedNums:[],isClosing:!1,hasPlus:!1,isReady:!1,addAllLoading:!1},this.here=!0,this.loading=!1,this.setsContainer=ti.createRef(),this.questionsContainer=ti.createRef(),this.onSearch=this.onSearch.bind(this),this.getSet=this.getSet.bind(this),this.addQuestion=this.addQuestion.bind(this),this.addAllQuestions=this.addAllQuestions.bind(this),this.close=this.close.bind(this)}componentDidMount(){vi.get("/api/users/plan").then(t=>{this.setState({hasPlus:t.data.hasPlus,isReady:!0})}).catch(t=>{Ue.logError(t)}),vi.get("/api/users/allsets").then(t=>{if(!this.here)return;const r=[...t.data.games.filter(n=>!n.plusOnly)];r.sort(cjt),this.setState({hits:r,searched:!0},()=>{this.state.hits.length>0&&this.getSet(this.state.hits[0])})}).catch(t=>{Ue.logError(t)})}componentWillUnmount(){clearTimeout(this.closeTimeout),this.here=!1}onSearch(t,r){if(t&&t.preventDefault(),this.loading)return;this.loading=!0;let n=r;n||(n=0),vi.get("/api/games/search",{params:{text:this.state.searchQuery,page:n,minQuestions:this.state.minQuestions,hasCoverImage:this.state.hasCoverImage,minPlays:this.state.minPlays}}).then(c=>{this.loading=!1;const S=c.data.filter(s=>!s.plusOnly);if(n===0){const s={searched:!0,hits:S,hasMore:S.length===24,pageIndex:n,setSelected:null};this.setState(s,()=>{this.setsContainer&&this.setsContainer.current&&(this.setsContainer.current.scrollTop=0,this.setsContainer.current.scrollLeft=0)})}else this.setState({hits:this.state.hits.concat(S),hasMore:S.length===24,pageIndex:n})}).catch(c=>{this.loading=!1,Ue.logError(c)})}getSet(t){this.state.setSelected&&t._id===this.state.setSelected._id||vi.get("/api/games",{params:{gameId:t._id}}).then(r=>{const n=r.data;n.questions.sort((c,S)=>c.number-S.number),this.setState({setSelected:n,addedNums:[]},()=>{this.questionsContainer&&this.questionsContainer.current&&(this.questionsContainer.current.scrollTop=0)})})}addQuestion(t){return oi(this,null,function*(){this.state.addingNum||this.state.addAllLoading||(this.setState({addingNum:t.number}),yield new Promise(r=>this.props.onAdd(t,r)),this.setState({addedNums:[...this.state.addedNums,t.number],addingNum:0}))})}addAllQuestions(){return oi(this,null,function*(){this.state.addAllLoading||this.state.addingNum||(this.setState({addAllLoading:!0}),yield new Promise(t=>this.props.onMassAdd(this.state.setSelected._id,t)),this.setState({addAllLoading:!1,addedNums:this.state.setSelected.questions.map(t=>t.number)}))})}close(){this.setState({isClosing:!0}),this.closeTimeout=setTimeout(()=>{this.props.onClose()},200)}render(){return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:di.modal,role:"button",tabIndex:0,onClick:this.close}),A.jsxs("div",{className:Ct(di.mainContainer,{[di.slideOut]:this.state.isClosing}),children:[A.jsx("i",{className:Ct(di.closeIcon,"fas fa-times"),role:"button",tabIndex:0,onClick:this.close}),A.jsxs("div",{className:di.top,children:[A.jsxs("form",{onSubmit:this.onSearch,className:di.searchContainer,children:[A.jsx("input",{className:di.searchInput,type:"search",value:this.state.searchQuery,onChange:t=>this.setState({searchQuery:t.target.value.slice(0,50)}),placeholder:"Search for any set...",autoFocus:ur?"":"autofocus"}),A.jsx("i",{className:Ct(di.searchIcon,"fas fa-search"),role:"button",tabIndex:0,onClick:this.onSearch})]}),this.state.searched&&this.state.searchQuery?A.jsxs("div",{className:di.filtersHolder,children:[A.jsx("i",{className:Ct(di.filterIcon,"fas fa-sliders-h")}),A.jsxs("div",{className:di.filtersColumn,children:[A.jsxs("div",{className:Ct(di.filterRow,di.filterRowCenter),children:["Has Cover Image:",A.jsx("div",{className:Ct(di.checkBox,di.checkBoxAutoLeft,this.state.hasCoverImage?di.checkYes:di.checkNo),role:"button",tabIndex:0,onClick:()=>this.setState({hasCoverImage:!this.state.hasCoverImage},t=>this.onSearch(t,0)),children:A.jsx("i",{className:Ct(di.checkIcon,"fas fa-check")})})]}),A.jsxs("div",{className:Ct(di.filterRow,di.filterColumn),children:["Minimum Questions:",A.jsx("div",{className:di.filters,children:[1,5,10,25,50].map(t=>A.jsx("div",{className:Ct(di.checkBox,this.state.minQuestions===t?di.checkYes:di.checkNo),role:"button",tabIndex:0,onClick:()=>this.setState({minQuestions:t},r=>this.onSearch(r,0)),children:A.jsx("div",{className:di.checkIcon,children:t})},t))})]}),A.jsxs("div",{className:Ct(di.filterRow,di.filterColumn),children:["Minimum Plays:",A.jsx("div",{className:di.filters,children:[10,100,500,1e3].map(t=>A.jsx("div",{className:Ct(di.checkBox,di.checkBoxWide,this.state.minPlays===t?di.checkYes:di.checkNo),role:"button",tabIndex:0,onClick:()=>this.setState({minPlays:t},r=>this.onSearch(r,0)),children:A.jsx("div",{className:di.checkIcon,children:yo(t)})},t))})]})]})]}):null]}),A.jsx("div",{className:di.left,children:this.state.loading?A.jsx("div",{className:di.nothingContainer,children:A.jsx(no,{})}):this.state.searched?this.state.hits.length===0?A.jsxs("div",{className:di.nothingContainer,children:[A.jsx(xn,{name:"Blobfish",className:di.nothingBlook}),"No Results"]}):A.jsxs("div",{className:di.hitsHolder,ref:this.setsContainer,children:[this.state.hits.map(t=>A.jsx(mU,{hit:t,getSet:()=>this.getSet(t),setSelected:this.state.setSelected},t._id)),this.state.hasMore>0&&!this.state.loading?A.jsx("div",{className:di.showMoreButton,role:"button",tabIndex:0,onClick:t=>this.onSearch(t,this.state.pageIndex+1),children:"Show More"}):null]}):A.jsxs("div",{className:di.nothingContainer,children:[A.jsx(xn,{name:"Chameleon",className:di.nothingBlook}),"Waiting to Search"]})}),A.jsxs("div",{className:di.right,children:[this.state.setSelected?this.state.isReady?A.jsxs("div",{className:di.questionsHolder,ref:this.questionsContainer,children:[this.state.addAllLoading?A.jsx("div",{style:{height:70},children:A.jsx(no,{})}):A.jsxs(Ti,{outsideClass:di.addAllButton,insideClass:di.addAllButtonInside,onClick:this.addAllQuestions,color:"#0bc2cf",children:[A.jsx("i",{className:Ct("fas fa-plus-square",di.addAllIcon)}),"Add All Questions"]}),this.state.setSelected.questions.map(t=>A.jsxs("div",{className:di.questionSection,children:[A.jsxs("div",{className:di.questionContainer,children:[A.jsxs("div",{className:Ct(di.questionImageContainer,{[di.questionImageContainerButton]:t.image&&t.image.url&&!(t.audio&&t.audio.url)}),role:"button",tabIndex:0,onClick:t.image&&t.image.url&&!(t.audio&&t.audio.url)?()=>this.setState({zoomedImage:t.image.url}):()=>{},children:[t.image&&t.image.url&&!(t.audio&&t.audio.url)?ur?A.jsx("img",{src:Dn(t.image.url),alt:"Question Background",className:di.questionImage}):A.jsx(Ul,{height:130,width:170,children:A.jsx("img",{src:Dn(t.image.url),alt:"Question Background",className:di.questionImage})}):null,A.jsx("div",{className:di.imageNumber,children:t.number})]}),t.audio&&t.audio.url?A.jsx("div",{className:di.questionFunc,children:A.jsx(fh,{audioUrl:t.audio.url,width:"40%"})}):t.question.includes("`*`")?A.jsx("div",{className:di.questionFunc,children:A.jsx(Ln.StaticMathField,{className:di.qMathField,children:t.question.slice(t.question.indexOf("`*`")+3,t.question.length-3)})}):null,A.jsx("div",{className:Ct(di.questionCenterContainer,{[di.questionWithFunc]:t.question.includes("`*`")||t.audio&&t.audio.url}),children:A.jsx("div",{className:di.questionText,children:t.question.includes("`*`")?t.question.slice(0,t.question.indexOf("`*`")):t.question})}),this.state.addingNum===t.number?A.jsx("div",{className:di.addedContainer,children:A.jsx(no,{})}):this.state.addedNums.includes(t.number)?A.jsx("div",{className:di.addedContainer,children:"Added!"}):A.jsxs(Ti,{outsideClass:di.addQuestionButton,insideClass:di.addQuestionButtonInside,onClick:()=>this.addQuestion(t),color:"#9a49aa",children:[A.jsx("i",{className:Ct("fas fa-plus-square",di.addIcon)}),"Add Question"]})]}),A.jsx("div",{className:Ct(di.answerContainer,{[di.typingAnswerContainer]:t.qType==="typing"}),children:t.qType==="typing"?t.answers.map(r=>A.jsxs("div",{className:di.typingAnswer,style:{backgroundColor:mc.default.answers[1].background},children:[A.jsx("i",{className:Ct("fas fa-check",di.typingAnswerIcon)}),A.jsx("div",{className:di.answerText,children:r})]},r)):t.answers.map((r,n)=>A.jsxs("div",{className:Ct(di.answer,{[di.faded]:!t.correctAnswers.includes(r)}),style:{backgroundColor:mc.default.answers[n].background},children:[A.jsx("i",{className:Ct(t.correctAnswers.includes(r)?"fas fa-check":"fas fa-times",di.answerIcon)}),A.jsx("div",{className:Ct(di.answerMediaContainer,{[di.answerMediaMaxheight]:r.split("`~`").length===2||r.slice(0,3)==="`*`"}),children:r.split("`~`").length===2?A.jsx("img",{src:Dn(r.split("`~`")[1]),alt:"Answer",className:di.answerImg,draggable:!1}):r.slice(0,3)==="`*`"?A.jsx(Ln.StaticMathField,{className:di.mathField,children:r.slice(3,r.length-3)}):A.jsx("div",{className:di.answerText,children:r})})]},r))})]},t.number))]}):null:A.jsx("div",{className:di.nothingContainer,children:"Select a set to view it here"}),this.state.hasPlus?null:A.jsx("div",{className:di.plusOverlay,children:A.jsxs("div",{className:di.plusOverlayContainer,children:["Blooket Plus Required",A.jsxs(Ti,{outsideClass:di.plusOverlayButton,insideClass:di.plusOverlayButtonInside,linkTo:"/upgrade",color:"#ff7b24",children:[A.jsx("i",{className:Ct("fas fa-plus-square",di.addAllIcon)}),"Upgrade Now"]})]})})]})]}),this.state.zoomedImage?A.jsx("div",{className:Ct(He.modal,He.modalButton),role:"button",tabIndex:0,onClick:()=>this.setState({zoomedImage:""}),children:A.jsx("img",{src:Dn(this.state.zoomedImage,!0),alt:"Upload",className:He.bigImage,draggable:!1})}):null]})}}gU.propTypes={onAdd:Wt.func.isRequired,onMassAdd:Wt.func.isRequired,onClose:Wt.func.isRequired};Ln.addStyles();const fjt=Re.basic.QuizletLogo;class yU extends ti.Component{constructor(t){super(t),this.state={title:"",desc:"",questions:[],private:"",coverImage:"",showingAnswers:[],deleteNum:0,deleting:!1,loadingDelete:!1,copying:!1,saving:!1,quizletImporting:!1,spreadsheetImporting:!1,leave:!1,timeLimitInput:0,loadingTimeLimit:!1,zoomedImage:"",editingQuestion:null,addingQuestion:!1,showQuestionBank:!1,user:null},this.name="",this.id=Ks("id"),this.folderIndex=Ks("f"),this.reorder=!1,this.intervals=[],this.onDoneEditing=this.onDoneEditing.bind(this),this.addQuestion=this.addQuestion.bind(this),this.editQuestion=this.editQuestion.bind(this),this.saveGame=this.saveGame.bind(this),this.setTime=this.setTime.bind(this),this.onShowAnswers=this.onShowAnswers.bind(this),this.onDelete=this.onDelete.bind(this),this.onDeleteConfirm=this.onDeleteConfirm.bind(this),this.onCopy=this.onCopy.bind(this),this.onBankImport=this.onBankImport.bind(this),this.onBankMassImport=this.onBankMassImport.bind(this),this.onMove=this.onMove.bind(this),this.onQuizletImport=this.onQuizletImport.bind(this),this.onSpreadsheetImport=this.onSpreadsheetImport.bind(this),this.loadGame=this.loadGame.bind(this)}componentDidMount(){return oi(this,null,function*(){if(!this.id)return;const t=yield this.props.user.getData();if(!t){Ue.logError("EditPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}this.name=t.name,this.setState({user:t}),this.loadGame()})}componentWillUnmount(){this.intervals&&this.intervals.forEach(t=>clearInterval(t))}onDoneEditing(t){return oi(this,null,function*(){t&&(yield new Promise(r=>this.loadGame(r))),this.setState({editingQuestion:null,addingQuestion:!1})})}onShowAnswers(t){const r=[...this.state.showingAnswers],n=r.indexOf(t);n===-1?r.push(t):r.splice(n,1),this.setState({showingAnswers:r})}onDelete(t){this.setState({deleteNum:t,deleting:!0})}onDeleteConfirm(t){this.loading||(this.loading=!0,t?(this.setState({loadingDelete:!0}),this.saveGame(()=>{vi.put("/api/games/removequestion",{gameId:this.id,number:this.state.deleteNum}).then(r=>{const n=[...r.data.questions.map((c,S)=>Or(ji({},c),{index:S}))];n.sort((c,S)=>c.number-S.number),this.setState({questions:n,deleteNum:"",loadingDelete:!1,deleting:!1}),this.loading=!1}).catch(r=>{Ue.logError(r)})})):(this.loading=!1,this.setState({deleteNum:"",deleting:!1})))}onCopy(t){this.loading||(this.loading=!0,this.setState({copying:!0}),this.saveGame(()=>{const r={};t.image&&t.image.url&&(r.url=t.image.url,t.id==="u"&&(r.id="u"));const n={};t.audio&&t.audio.url&&(n.url=t.audio.url);const c=t.answers,S=t.correctAnswers,s=[];t.answers.forEach((g,i)=>{if(g.split("`~`").length===2){const a=g.split("`~`")[1];s.push({url:a}),c[i]=`img${i+1}`;const v=t.correctAnswers.indexOf(g);v>-1&&(S[v]=`img${i+1}`)}else s.push({})}),vi.put("/api/games/addquestion",{gameId:this.id,question:t.question,answers:c,correctAnswers:S,timeLimit:Number(t.timeLimit),random:t.random,image:r,audio:n,answerImages:s,qType:t.qType||"mc",answerTypes:t.answerTypes}).then(()=>{this.loading=!1,this.loadGame(()=>{this.setState({copying:!1,editingQuestion:this.state.questions[this.state.questions.length-1]})})}).catch(g=>{Ue.logError(g),this.loading=!1,this.setState({copying:!1})})}))}onBankImport(t,r){this.loading||(this.loading=!0,this.saveGame(()=>{const n={id:""};t.image&&t.image.url&&(n.url=t.image.url,t.image.id==="u"&&(n.id="u"));const c={};t.audio&&t.audio.url&&(c.url=t.audio.url);const S=t.answers,s=t.correctAnswers,g=[];t.answers.forEach((i,a)=>{i.split("`~`").length===2?(g.push({url:i.split("`~`")[1]}),S[a]=`img${a+1}`,s[a]=`img${a+1}`):g.push({})}),vi.put("/api/games/addquestion",{gameId:this.id,question:t.question,answers:S,correctAnswers:s,timeLimit:Number(t.timeLimit),random:t.random,image:n,audio:c,answerImages:g,qType:t.qType||"mc",answerTypes:t.answerTypes}).then(()=>{this.loading=!1,this.loadGame(),r()}).catch(i=>{Ue.logError(i),this.loading=!1,r()})}))}onBankMassImport(t,r){return oi(this,null,function*(){this.loading||(this.loading=!0,yield new Promise(n=>this.saveGame(n)),vi.post("/api/games/merge",{game1Id:this.id,game2Id:t}).then(()=>{this.loading=!1,this.loadGame(),r()}).catch(n=>{Ue.logError(n),this.loading=!1,r()}))})}onMove(t,r){this.reorder=!0;const n=JSON.parse(JSON.stringify(this.state.questions)),c=n[t-1],S=r?t-2:t;if(S<0||S>n.length-1)return;const s=[...this.state.showingAnswers],g=s.indexOf(t);g!==-1&&s.splice(g,1);const i=s.indexOf(r?t-1:t+1);i!==-1&&s.splice(i,1),n[t-1]=n[S],n[t-1].moved=!0,n[S]=c,n[S].moved=!0;for(let a=0;a<n.length;a++)n[a].number=a+1;this.setState({questions:n,showingAnswers:s})}onQuizletImport(t,r){r&&this.loadGame(()=>this.setState({quizletImporting:!1}))}onSpreadsheetImport(t,r,n){vi.put("/api/games/spreadsheet-import",{gameId:this.id,spreadsheetData:n}).then(()=>{this.loadGame(()=>this.setState({spreadsheetImporting:!1}))}).catch(()=>{this.loadGame(()=>this.setState({spreadsheetImporting:!1}))})}setTime(t){t.preventDefault(),!this.loading&&(this.loading=!0,this.setState({loadingTimeLimit:!0}),vi.put("/api/games/timelimit",{id:this.id,timeLimit:this.state.timeLimitInput}).then(()=>{this.loading=!1;const r=this.state.questions.map(n=>Or(ji({},n),{timeLimit:this.state.timeLimitInput}));this.setState({questions:r,loadingTimeLimit:!1,timeLimitInput:0})}).catch(r=>{Ue.logError(r),this.loading=!1,this.setState({loadingTimeLimit:!1,timeLimitInput:0})}))}loadGame(t){vi.get("/api/games",{params:{gameId:this.id}}).then(r=>oi(this,null,function*(){if(!r.data||r.data.author!==this.name){this.setState({leave:!0});return}let n=[...r.data.questions.map((s,g)=>Or(ji({},s),{index:g}))];n.sort((s,g)=>s.number-g.number);let c=1,S=!0;n.forEach(s=>{s.number!==c&&(S=!1),c+=1}),S||(n=yield new Promise(s=>{vi.put("/api/games/fix-numbering",{gameId:this.id}).then(g=>s(g.data.questions)).catch(()=>s())})),this.setState({title:r.data.title,desc:r.data.desc,questions:n,private:r.data.private,coverImage:r.data.coverImage},()=>{t&&t()})})).catch(r=>{this.setState({leave:!0}),Ue.logError(r)})}addQuestion(){this.setState({addingQuestion:!0})}editQuestion(t){this.setState({editingQuestion:t})}saveGame(t){this.reorder?(this.setState({saving:!0}),vi.put("/api/games/orderquestions",{id:this.id,changes:this.state.questions.filter(r=>r.moved).map(r=>({index:r.index,num:r.number}))}).then(()=>{this.setState({saving:!1}),t?(this.reorder=!1,t()):this.props.history.push(`/my-sets${this.folderIndex?`?f=${this.folderIndex}`:""}`)}).catch(r=>{Ue.logError(r),this.props.history.push(`/my-sets${this.folderIndex?`?f=${this.folderIndex}`:""}`)})):t?(this.reorder=!1,t()):this.props.history.push(`/my-sets${this.folderIndex?`?f=${this.folderIndex}`:""}`)}render(){if(!this.id){Ue.logError("EditPage cannot be rendered without id"),window.location.href=`${nr.id}/login`;return}if(this.state.leave){Ue.logError("EditPage cannot be rendered if this.state.leave is defined"),window.location.href=`${nr.id}/login`;return}return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Edit a Set | Blooket",desc:"Access your set's information and questions to change or add any questions as well as edit basic information."}),A.jsx(qs,{user:this.state.user,page:"Set Creator"}),this.state.title?A.jsx("div",{className:He.profileBody,children:A.jsxs("div",{className:wi.mainRow,children:[A.jsxs("div",{className:wi.leftColumn,children:[A.jsxs("div",{className:wi.headerContainer,children:[this.state.coverImage?A.jsx("div",{className:wi.coverImageContainer,children:A.jsx("img",{src:Dn(this.state.coverImage.url),alt:"Cover",className:wi.coverImage})}):A.jsx("div",{className:wi.coverFillerContainer,children:A.jsx("img",{src:Re.basic.blooket,alt:"Blooket",className:wi.coverFillerImage})}),A.jsx("div",{className:wi.headerTitle,children:this.state.title}),A.jsx("div",{className:wi.headerDesc,children:this.state.desc}),A.jsxs("div",{className:wi.headerPrivateContainer,children:[A.jsx("i",{className:Ct(wi.headerPrivateIcon,this.state.private?"fas fa-lock":"fas fa-unlock")}),A.jsx("div",{className:wi.headerPrivateText,children:this.state.private?"Private":"Public"})]}),A.jsx(Ti,{color:"#0bc2cf",outsideClass:wi.saveButton,onClick:()=>this.saveGame(),children:A.jsxs("div",{className:wi.saveButtonInside,children:[A.jsx("i",{className:Ct(wi.saveIcon,"fas fa-save")}),"Save Set"]})}),A.jsxs("div",{className:wi.smallButtonsContainer,children:[A.jsxs("div",{className:wi.smallButton,role:"button",tabIndex:0,onClick:()=>this.saveGame(()=>this.props.history.push(`/edit/info?id=${this.id}${this.folderIndex?`&f=${this.folderIndex}`:""}`)),children:[A.jsx("i",{className:Ct(wi.smallIcon,"fas fa-edit")}),"Edit Info"]}),A.jsxs("div",{className:wi.smallButton,role:"button",tabIndex:0,onClick:()=>this.setState({timeLimitInput:this.state.questions.length>0?this.state.questions[0].timeLimit:15,loadingTimeLimit:!1}),children:[A.jsx("i",{className:Ct(wi.smallIcon,"far fa-clock")}),"Time Limit"]})]})]}),A.jsxs("div",{className:wi.addQuestionWrapper,children:[A.jsx(Ti,{color:"#9a49aa",outsideClass:wi.addButton,onClick:this.addQuestion,children:A.jsxs("div",{className:wi.addButtonInside,children:[A.jsx("i",{className:Ct(wi.addIcon,"fas fa-plus-square")}),"Add",A.jsx("br",{}),"Question"]})}),A.jsx(Ti,{color:"#4053b3",outsideClass:wi.addButton,onClick:()=>this.setState({quizletImporting:!0}),children:A.jsxs("div",{className:wi.addButtonInside,children:[A.jsx("img",{src:fjt,alt:"Quizlet",className:wi.addImage}),"Quizlet",A.jsx("br",{}),"Import"]})}),A.jsx(Ti,{color:"#007337",outsideClass:wi.addButton,onClick:()=>this.setState({spreadsheetImporting:!0}),children:A.jsxs("div",{className:wi.addButtonInside,children:[A.jsx("i",{className:Ct(wi.addIcon,"fas fa-table")}),"Spreadsheet",A.jsx("br",{}),"Import"]})}),A.jsx(Ti,{color:"#3a3a3a",outsideClass:wi.addButton,onClick:()=>this.setState({showQuestionBank:!0}),children:A.jsxs("div",{className:wi.addButtonInside,children:[A.jsx("i",{className:Ct(wi.addIcon,"fas fa-university")}),"Question",A.jsx("br",{}),"Bank"]})}),A.jsx(Ti,{color:"#0bc2cf",outsideClass:wi.addButton,onClick:()=>this.setState({showingAnswers:this.state.showingAnswers.length===this.state.questions.length?[]:this.state.questions.map(t=>t.number)}),children:A.jsxs("div",{className:wi.addButtonInside,children:[A.jsx("i",{className:Ct(wi.addIcon,"fas fa-question-circle")}),this.state.showingAnswers.length===this.state.questions.length?"Hide":"Show",A.jsx("br",{}),"Answers"]})})]})]}),A.jsxs("div",{className:wi.questionSection,children:[A.jsxs("div",{className:wi.questionSectionTop,children:[A.jsx("div",{className:wi.numQuestions,children:`${Ji(this.state.questions.length)} Question${this.state.questions.length===1?"":"s"}`}),A.jsx(Ti,{color:"#9a49aa",onClick:this.addQuestion,children:A.jsxs("div",{className:wi.addQuestionButtonInside,children:[A.jsx("i",{className:Ct(wi.addQuestionIcon,"fas fa-plus-square")}),"Add Question"]})})]}),A.jsx(Ec,{place:"top",effect:"solid",className:He.tooltip}),this.state.questions.map((t,r)=>A.jsxs("div",{className:wi.questionContainer,children:[A.jsxs("div",{className:wi.questionRow,children:[A.jsxs("div",{className:wi.questionLeftRow,children:[A.jsxs("div",{className:wi.questionArrowsHolder,children:[A.jsx("button",{type:"button",className:wi.arrowIcon,tabIndex:0,onClick:()=>this.onMove(t.number,!0),children:A.jsx("i",{className:"fas fa-angle-up"})}),A.jsx("button",{type:"button",className:wi.arrowIcon,tabIndex:0,onClick:()=>this.onMove(t.number,!1),children:A.jsx("i",{className:"fas fa-angle-down"})})]}),A.jsxs("div",{className:wi.questionButtonColumn,children:[A.jsx(Ti,{color:"#0bc2cf",onClick:()=>this.editQuestion(t),children:A.jsxs("div",{className:wi.editButton,children:[A.jsx("i",{className:Ct(wi.editIcon,"fas fa-pencil-alt")}),"Edit"]})}),A.jsxs("div",{className:wi.questionButtonRow,children:[A.jsx(Ti,{color:"#f2f2f2",onClick:()=>this.onDelete(t.number),children:A.jsx("i",{className:Ct(wi.questionButtonIcon,"fas fa-trash-alt")})}),A.jsx(Ti,{color:"#f2f2f2",onClick:()=>this.onCopy(t),children:A.jsx("i",{className:Ct(wi.questionButtonIcon,"fas fa-copy")})})]})]})]}),A.jsxs("div",{className:wi.questionTextContainer,role:"button",tabIndex:0,onClick:()=>this.onShowAnswers(t.number),children:[A.jsx("div",{className:wi.questionNum,children:`Question ${t.number}`}),A.jsx("div",{className:wi.questionTextRow,children:A.jsx("div",{className:wi.questionText,children:t.question.includes("`*`")?t.question.slice(0,t.question.indexOf("`*`")):t.question})})]}),t.image&&t.image.url||t.audio&&t.audio.url||t.question.includes("`*`")?A.jsx("div",{className:Ct(wi.questionImageContainer,{[wi.questionImageButton]:t.image&&t.image.url&&!(t.audio&&t.audio.url)}),role:"button",tabIndex:0,onClick:t.image&&t.image.url&&!(t.audio&&t.audio.url)?()=>this.setState({zoomedImage:t.image.url}):()=>{},children:t.audio&&t.audio.url?A.jsx("div",{className:wi.questionFunc,children:A.jsx(fh,{audioUrl:t.audio.url,width:"60%"})}):t.image&&t.image.url?ur?A.jsx("img",{src:Dn(t.image.url),alt:"Question Background",className:wi.questionImage}):A.jsx(Ul,{height:120,width:165,children:A.jsx("img",{src:Dn(t.image.url),alt:"Question Background",className:wi.questionImage})}):t.question.includes("`*`")?A.jsx("div",{className:wi.questionFunc,children:A.jsx(Ln.StaticMathField,{className:wi.qMathField,children:t.question.slice(t.question.indexOf("`*`")+3,t.question.length-3)})}):null}):null,A.jsxs("div",{className:wi.questionInfoRow,children:[t.qType==="typing"?A.jsxs("div",{className:wi.questionInfo,children:[A.jsx("i",{className:Ct("fas fa-keyboard",wi.questionInfoIcon)}),"Typing"]}):t.random?A.jsx("i",{className:Ct("fas fa-random",wi.questionInfo)}):null,A.jsx("div",{className:wi.questionInfo,children:`${t.timeLimit} sec`})]})]}),this.state.showingAnswers.includes(t.number)?A.jsx("div",{className:Ct(wi.answerContainer,{[wi.answerContainerStart]:t.qType==="typing"}),role:"button",tabIndex:0,onClick:()=>this.onShowAnswers(t.number),children:t.qType==="typing"?t.answers.map((n,c)=>A.jsxs("div",{className:wi.typingAnswer,style:{backgroundColor:mc.default.answers[1].background},children:[A.jsx("i",{className:Ct("fas fa-check",wi.typingAnswerIcon)}),A.jsx("div",{className:wi.answerText,children:n})]},c)):t.answers.map((n,c)=>A.jsxs("div",{className:Ct(wi.answer,{[wi.faded]:!t.correctAnswers.includes(n)}),style:{backgroundColor:mc.default.answers[c].background},children:[A.jsx("i",{className:Ct(t.correctAnswers.includes(n)?"fas fa-check":"fas fa-times",wi.answerIcon)}),A.jsx("div",{className:Ct(wi.answerMediaContainer,{[wi.answerMediaCapped]:n.split("`~`").length===2||n.slice(0,3)==="`*`"}),children:n.split("`~`").length===2?A.jsx("img",{src:Dn(n.split("`~`")[1]),alt:"Answer",className:wi.answerImg,draggable:!1}):n.slice(0,3)==="`*`"?A.jsx(Ln.StaticMathField,{className:wi.mathField,children:n.slice(3,n.length-3)}):A.jsx("div",{className:wi.answerText,children:n})})]},c))}):null]},r)),A.jsx("div",{className:wi.bottomSpacer})]})]})}):null,this.state.zoomedImage?A.jsx("div",{className:Ct(He.modal,He.modalButton),role:"button",tabIndex:0,onClick:()=>this.setState({zoomedImage:""}),children:A.jsx("img",{src:Dn(this.state.zoomedImage),alt:"Upload",className:He.bigImage,draggable:!1})}):null,this.state.deleting?A.jsx(gr,{text:this.state.loadingDelete?"Deleting...":"Do you really want to delete this question?",loading:this.state.loadingDelete,buttonOne:{text:"Yes",click:()=>this.onDeleteConfirm(!0),color:"red"},buttonTwo:{text:"No",click:()=>this.onDeleteConfirm(!1),color:"blue"}}):this.state.copying||this.state.saving?A.jsx(gr,{text:this.state.copying?"Copying...":"Saving...",loading:!0}):this.state.timeLimitInput?A.jsx(gr,{text:this.state.loadingTimeLimit?"Processing...":"Set the time limit for all questions (in seconds):",loading:this.state.loadingTimeLimit,timeValue:this.state.timeLimitInput,timeChange:t=>this.setState({timeLimitInput:Math.min(300,Math.max(1,t.target.value))}),onSubmit:this.setTime,buttonOne:{text:"Confirm",click:this.setTime,color:"blue"},buttonTwo:{text:"Back",click:()=>this.setState({timeLimitInput:0}),color:"blue"}}):null,this.state.quizletImporting?A.jsx("div",{className:He.modal,children:A.jsx(r4,{gameId:this.id,done:this.onQuizletImport,close:()=>this.setState({quizletImporting:!1})})}):this.state.spreadsheetImporting?A.jsx("div",{className:He.modal,children:A.jsx(f4,{done:this.onSpreadsheetImport,close:()=>this.setState({spreadsheetImporting:!1})})}):this.state.editingQuestion?A.jsx(IC,{question:this.state.editingQuestion,gameId:this.id,onDone:this.onDoneEditing,history:this.props.history}):this.state.addingQuestion?A.jsx(IC,{isAdding:!0,gameId:this.id,onDone:this.onDoneEditing,history:this.props.history}):this.state.showQuestionBank?A.jsx(gU,{onClose:()=>this.setState({showQuestionBank:!1}),onAdd:this.onBankImport,onMassAdd:this.onBankMassImport}):null]})}}yU.propTypes={history:Wt.object.isRequired,user:Wt.object};const djt=()=>({}),pjt=e=>ws({},e),vjt=Sn(Ts(Is(djt,pjt)(yU))),mjt="_header_xwp23_1",gjt="_wideContainer_xwp23_9",yjt="_wideStart_xwp23_17",xjt="_dropHolder_xwp23_21",bjt="_dropContainer_xwp23_31",Sjt="_activeDropContainer_xwp23_44",wjt="_dropHeader_xwp23_48",Tjt="_dropText_xwp23_58",Cjt="_uploadButtonContainer_xwp23_68",Ejt="_uploadButton_xwp23_68",kjt="_uploadButtonInside_xwp23_81",Djt="_uploadIcon_xwp23_90",Ajt="_uploadText_xwp23_97",Pjt="_imgContainer_xwp23_104",Rjt="_coverImage_xwp23_117",Ijt="_removeImageContainer_xwp23_124",Mjt="_removeImageButton_xwp23_133",Bjt="_removeImageIcon_xwp23_146",Ojt="_removeImageText_xwp23_155",Njt="_upperRightContainer_xwp23_163",Fjt="_titleHeader_xwp23_174",Ljt="_titleSub_xwp23_182",_jt="_descHeader_xwp23_187",jjt="_input_xwp23_195",Ujt="_descInput_xwp23_215",zjt="_inputFilled_xwp23_233",Gjt="_inputError_xwp23_237",Hjt="_categoryContainer_xwp23_241",$jt="_categoryHeader_xwp23_251",Vjt="_categoryDesc_xwp23_258",Wjt="_privacyRow_xwp23_265",Yjt="_privacyCheckbox_xwp23_273",Xjt="_privacyCheckboxChecked_xwp23_286",Qjt="_privacyCheckboxSquare_xwp23_290",Kjt="_privacyText_xwp23_306",Jjt="_privacyTextDesc_xwp23_312",Zjt="_methodContainer_xwp23_316",qjt="_methodButton_xwp23_327",tUt="_methodButtonInside_xwp23_332",eUt="_methodSelected_xwp23_342",iUt="_methodIcon_xwp23_346",rUt="_methodHeader_xwp23_353",nUt="_quizletImage_xwp23_361",sUt="_quizletImageSelected_xwp23_367",aUt="_bottomRow_xwp23_371",oUt="_buttonWrapper_xwp23_380",lUt="_createButton_xwp23_387",uUt="_buttonFilled_xwp23_399",hUt="_buttonError_xwp23_404",cUt="_errorContainer_xwp23_409",fUt="_errorIcon_xwp23_423",dUt="_spacer_xwp23_428",pUt="_hiddenInput_xwp23_432",tr={header:mjt,wideContainer:gjt,wideStart:yjt,dropHolder:xjt,dropContainer:bjt,activeDropContainer:Sjt,dropHeader:wjt,dropText:Tjt,uploadButtonContainer:Cjt,uploadButton:Ejt,uploadButtonInside:kjt,uploadIcon:Djt,uploadText:Ajt,imgContainer:Pjt,coverImage:Rjt,removeImageContainer:Ijt,removeImageButton:Mjt,removeImageIcon:Bjt,removeImageText:Ojt,upperRightContainer:Njt,titleHeader:Fjt,titleSub:Ljt,descHeader:_jt,input:jjt,descInput:Ujt,inputFilled:zjt,inputError:Gjt,categoryContainer:Hjt,categoryHeader:$jt,categoryDesc:Vjt,privacyRow:Wjt,privacyCheckbox:Yjt,privacyCheckboxChecked:Xjt,privacyCheckboxSquare:Qjt,privacyText:Kjt,privacyTextDesc:Jjt,methodContainer:Zjt,methodButton:qjt,methodButtonInside:tUt,methodSelected:eUt,methodIcon:iUt,methodHeader:rUt,quizletImage:nUt,quizletImageSelected:sUt,bottomRow:aUt,buttonWrapper:oUt,createButton:lUt,buttonFilled:uUt,buttonError:hUt,errorContainer:cUt,errorIcon:fUt,spacer:dUt,hiddenInput:pUt};var vUt={};class xU extends ti.Component{constructor(t){super(t),this.state={title:"",desc:"",coverImage:{},private:!1,coverImageFile:{},coverImageURL:"",titleError:"",descError:"",imageError:"",uploadingURL:!1,tempURL:"",urlError:"",loading:!1,showUnsplash:!1,unsplashURL:"",user:null},this.id=Ks("id"),this.folderIndex=Ks("f"),this.onEdit=this.onEdit.bind(this),this.onURLUpdate=this.onURLUpdate.bind(this),this.onImageDrop=this.onImageDrop.bind(this),this.onURLSubmit=this.onURLSubmit.bind(this)}componentDidMount(){return oi(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ue.logError("EditInfoPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}vi.get("/api/games",{params:{gameId:this.id}}).then(r=>oi(this,null,function*(){if(!r.data||r.data.author!==t.name){this.setState({leave:!0});return}this.setState({user:t,title:r.data.title,desc:r.data.desc,private:r.data.private,coverImage:r.data.coverImage,coverImageFile:r.data.coverImage,coverImageURL:r.data.coverImage?r.data.coverImage.url:""})})).catch(r=>{this.setState({leave:!0}),Ue.logError(r)})})}onEdit(t){if(t.preventDefault(),this.state.loading)return;this.setState({loading:!0});const r=rN(this.state.title),n=nN(this.state.desc);if(this.setState({titleError:r,descError:n}),!r&&!n)if(this.state.coverImageFile&&this.state.coverImageFile.size){const c=new c5;c.append("file",this.state.coverImageFile),c.append("tags",""),c.append("upload_preset","normal"),c.append("api_key",vUt.CLOUDINARY_API_KEY),c.append("timestamp",parseInt(Date.now()/1e3,10)),qm.post("https://api.cloudinary.com/v1_1/blooket/image/upload",c,{headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!1}).then(S=>{const s={};s.url=S.data.secure_url,s.id=S.data.public_id,vi.put("/api/games/edit",{id:this.id,title:this.state.title.trim(),author:this.state.user.name,desc:this.state.desc.trim(),coverImage:s,private:this.state.private}).then(()=>{this.props.history.push(`/edit?id=${this.id}${this.folderIndex?`&f=${this.folderIndex}`:""}`)}).catch(g=>{if(g.response){const i={};g.response&&g.response.data&&g.response.data.msg&&g.response.data.msg.includes("description")?i.descError=g.response.data.msg:i.titleError=g.response.data.msg,this.setState(Or(ji({},i),{loading:!1}))}})}).catch(S=>{Ue.logError(S)})}else{let c={};const S=this.state.coverImageURL||this.state.unsplashURL;this.state.coverImage&&this.state.coverImage.url&&S?S!==this.state.coverImage.url?c.url=S:c=this.state.coverImage:S&&(c.url=S),this.state.unsplashURL&&(c.id="u"),vi.put("/api/games/edit",{id:this.id,title:this.state.title.trim(),author:this.state.user.name,desc:this.state.desc.trim(),coverImage:c,private:this.state.private}).then(()=>{this.props.history.push(`/edit?id=${this.id}${this.folderIndex?`&f=${this.folderIndex}`:""}`)}).catch(s=>{if(Ue.logError(s),s.response){const g={};s.response&&s.response.data&&s.response.data.msg&&s.response.data.msg.includes("description")?g.descError=s.response.data.msg:g.titleError=s.response.data.msg,this.setState(Or(ji({},g),{loading:!1}))}})}else this.setState({loading:!1})}onURLUpdate(t){this.setState({tempURL:t.target.value,urlError:""})}onURLSubmit(t){return oi(this,null,function*(){if(t.preventDefault(),this.loading)return;this.loading=!0;let r="";this.state.tempURL||(r="Where's the URL?"),(yield new Promise(c=>{vi.get("/api/games/is-image",{params:{url:this.state.tempURL}}).then(S=>{c(S.data)}).catch(()=>c(!1))}))||(r="We can't find a supported image for that URL."),r?this.setState({imageError:"",urlError:r}):this.setState({imageError:"",coverImageURL:this.state.tempURL,coverImageFile:{},tempURL:"",uploadingURL:!1}),this.loading=!1})}onImageDrop(t){const r=t[0];r?this.setState({imageError:"",coverImageFile:r,coverImageURL:URL.createObjectURL(r)}):this.setState({imageError:"Error Uploading the File.",coverImageFile:{},coverImageURL:""})}render(){if(!this.id){Ue.logError("EditInfoPage cannot be rendered without id"),window.location.href=`${nr.id}/login`;return}if(this.state.leave){Ue.logError("EditInfoPage cannot be rendered if this.state.leave is defined"),window.location.href=`${nr.id}/login`;return}const t=ti.createRef();return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Edit Set Info | Blooket",desc:"Quickly and easily change a set's basic information including the title, description, cover image, and privacy setting."}),A.jsx(qs,{user:this.state.user,page:"Set Creator"}),A.jsxs("div",{className:He.profileBody,children:[A.jsx("div",{className:tr.header,children:"Edit Set Info"}),A.jsxs("form",{onSubmit:this.onEdit,className:tr.inputContainer,children:[A.jsxs("div",{className:tr.wideContainer,children:[A.jsx("div",{className:tr.dropHolder,children:!this.state.coverImageURL&&!this.state.unsplashURL?A.jsxs(Df,{multiple:!1,accept:"image/jpeg, image/png, image/gif",onDropAccepted:this.onImageDrop,onDropRejected:()=>this.setState({imageError:"Image Denied (Check Size < 2.5 MB)"}),className:tr.dropContainer,activeClassName:tr.activeDropContainer,ref:t,maxSize:25e5,disableClick:!0,children:[A.jsx("div",{className:tr.dropHeader,children:"Cover Image"}),A.jsx("div",{className:tr.dropText,children:"Drag and Drop or"}),A.jsxs("div",{className:tr.uploadButtonContainer,children:[A.jsx(Ti,{outsideClass:tr.uploadButton,color:"#fff",onClick:()=>this.setState({showUnsplash:!0}),children:A.jsxs("div",{className:tr.uploadButtonInside,children:[A.jsx("i",{className:Ct(tr.uploadIcon,"fas fa-image")}),A.jsxs("div",{className:tr.uploadText,children:["Image",A.jsx("br",{}),"Gallery"]})]})}),A.jsx(Ti,{outsideClass:tr.uploadButton,color:"#fff",onClick:()=>t.current.open(),children:A.jsxs("div",{className:tr.uploadButtonInside,children:[A.jsx("i",{className:Ct(tr.uploadIcon,"fas fa-file-upload")}),A.jsxs("div",{className:tr.uploadText,children:["Upload",A.jsx("br",{}),"a File"]})]})}),A.jsx(Ti,{outsideClass:tr.uploadButton,color:"#fff",onClick:()=>this.setState({uploadingURL:!0,urlError:""}),children:A.jsxs("div",{className:tr.uploadButtonInside,children:[A.jsx("i",{className:Ct(tr.uploadIcon,"fas fa-link")}),A.jsxs("div",{className:tr.uploadText,children:["Upload",A.jsx("br",{}),"by URL"]})]})})]})]}):A.jsxs("div",{className:tr.imgContainer,children:[A.jsx("img",{src:this.state.coverImageURL||this.state.unsplashURL,alt:"Upload",className:tr.coverImage}),A.jsx("div",{className:tr.removeImageContainer}),A.jsxs("div",{className:tr.removeImageButton,role:"button",tabIndex:0,onClick:()=>this.setState({coverImageURL:"",coverImageFile:{},unsplashURL:""}),children:[A.jsx("i",{className:Ct(tr.removeImageIcon,"fas fa-times")}),A.jsx("div",{className:tr.removeImageText,children:"Remove"})]})]})}),A.jsxs("div",{className:tr.upperRightContainer,children:[A.jsxs("div",{className:tr.titleHeader,children:["Title ",A.jsx("span",{className:tr.titleSub,children:"(required)"})]}),A.jsx("input",{className:Ct(tr.input,{[tr.inputFilled]:this.state.title,[tr.inputError]:this.state.titleError}),onChange:r=>this.setState({title:r.target.value.slice(0,OE)}),value:this.state.title,type:"text",placeholder:"Add a descriptive title",autoFocus:ur?"":"autofocus"}),A.jsx("div",{className:tr.descHeader,children:"Description"}),A.jsx("textarea",{className:Ct(tr.descInput,{[tr.inputFilled]:this.state.desc,[tr.inputError]:this.state.descError}),onChange:r=>this.setState({desc:r.target.value.slice(0,NE)}),value:this.state.desc,placeholder:"Tell users about your question set","data-gramm_editor":"false"})]})]}),A.jsx("div",{className:Ct(tr.wideContainer,tr.wideStart),children:A.jsxs("div",{className:tr.categoryContainer,children:[A.jsx("div",{className:tr.categoryHeader,children:"Privacy Setting"}),A.jsx("div",{className:tr.categoryDesc,children:"This decides who can find and play your question set"}),A.jsxs("div",{className:tr.privacyRow,children:[A.jsx("div",{className:Ct(tr.privacyCheckbox,{[tr.privacyCheckboxChecked]:!this.state.private}),role:"button",tabIndex:0,onClick:()=>this.setState({private:!this.state.private}),children:A.jsx("div",{className:tr.privacyCheckboxSquare})}),A.jsx("div",{className:tr.privacyText,children:this.state.private?"Private":"Public"}),A.jsx("div",{className:tr.privacyTextDesc,children:this.state.private?"Only Playable by You":"Playable by Everyone"})]})]})}),A.jsxs("div",{className:tr.bottomRow,children:[this.state.titleError||this.state.descError||this.state.imageError?A.jsxs("div",{className:tr.errorContainer,children:[A.jsx("i",{className:Ct(tr.errorIcon,"fas fa-times-circle")}),this.state.titleError||this.state.descError||this.state.imageError]}):null,A.jsx("div",{className:tr.buttonWrapper,children:this.state.loading?A.jsx(no,{}):A.jsx(Ti,{color:"#0bc2cf",onClick:this.onEdit,children:A.jsx("div",{className:tr.createButton,children:"Save"})})})]}),A.jsx("div",{className:tr.spacer}),A.jsx("input",{type:"submit",className:tr.hiddenInput})]}),this.state.uploadingURL?A.jsx(gr,{text:"Enter Image URL Address:",loading:this.state.loading,stringValue:this.state.tempURL,stringChange:this.onURLUpdate,stringPlaceholder:"Image URL",onSubmit:this.onURLSubmit,error:this.state.urlError,buttonOne:{text:"Upload",click:this.onURLSubmit,color:"blue"},buttonTwo:{text:"Back",click:()=>this.setState({uploadingURL:!1,tempURL:""}),color:"blue"}}):null]}),this.state.showUnsplash?A.jsx(Jx,{select:r=>this.setState({showUnsplash:!1,unsplashURL:r}),close:()=>this.setState({showUnsplash:!1})}):null]})}}xU.propTypes={history:Wt.object.isRequired,user:Wt.object};const mUt=()=>({}),gUt=e=>ws({},e),yUt=Sn(Ts(Is(mUt,gUt)(xU))),xUt="_container_152zv_1",bUt="_laterButton_152zv_14",SUt="_laterIcon_152zv_35",wUt="_imageContainer_152zv_40",TUt="_image_152zv_40",CUt="_bottomContainer_152zv_54",EUt="_headline_152zv_58",kUt="_text_152zv_64",DUt="_bottomRow_152zv_68",AUt="_backButton_152zv_76",PUt="_nextButton_152zv_95",RUt="_nextButtonInside_152zv_99",IUt="_nextButtonInsideBig_152zv_100",MUt="_hideSmall_152zv_111",Ra={container:xUt,laterButton:bUt,laterIcon:SUt,imageContainer:wUt,image:TUt,bottomContainer:CUt,headline:EUt,text:kUt,bottomRow:DUt,backButton:AUt,nextButton:PUt,nextButtonInside:RUt,nextButtonInsideBig:IUt,hideSmall:MUt},BUt=A.jsx(A.Fragment,{children:"Thanks for joining our vibrant and diverse community! Join the millions of educators and parents who are bringing engagement back to education with Blooket!"}),OUt=A.jsxs(A.Fragment,{children:["With access to ",A.jsx("b",{children:"millions of Question Sets"})," and ",A.jsx("b",{children:"16+ unique game modes"}),", you can get started quickly and keep students engaged with endless possibilities!"]}),NUt=A.jsxs(A.Fragment,{children:["Step 1: Find or Create a Question Set",A.jsx("br",{}),"Step 2: Select a Game Mode",A.jsx("br",{}),"Step 3: Watch Students Come Alive While Learning!!"]}),HP=[{img:"https://media.blooket.com/image/upload/v1705327195/Media/welcomeTour/welcomeTour1.gif",headline:"Welcome to Blooket!",text:BUt},{img:"https://media.blooket.com/image/upload/v1705327194/Media/welcomeTour/welcomeTour3.gif",headline:"Fast & Flexible!",text:OUt},{img:"https://media.blooket.com/image/upload/v1705327195/Media/welcomeTour/welcomeTour2.gif",headline:"Get Started in 3 Steps...",text:NUt}],FUt=e=>{if(!e)return e;let t=e.indexOf("upload/");return t===-1?e:(t+=7,`${e.slice(0,t)}f_auto,q_auto:low,h_342,w_608${e.slice(t-1,e.length)}`)},bU=({done:e})=>{const[t,r]=zi.useState(0),n=HP[t],c=t===HP.length-1,S=s=>{c?e(!0,s):r(t+1)};return A.jsx("div",{className:Ct(He.modal,Ra.hideSmall),children:A.jsxs("div",{className:Ra.container,children:[A.jsxs("div",{className:Ra.laterButton,role:"button",tabIndex:0,onClick:()=>e(),children:[A.jsx("i",{className:Ct("fas fa-times",Ra.laterIcon)}),"Later"]}),A.jsx("div",{className:Ra.imageContainer,children:A.jsx("img",{src:FUt(n.img),alt:n.headline,className:Ra.image,draggable:!1})}),A.jsxs("div",{className:Ra.bottomContainer,children:[A.jsx("div",{className:Ra.headline,children:n.headline}),A.jsx("div",{className:Ra.text,children:n.text})]}),A.jsxs("div",{className:Ra.bottomRow,children:[t>0&&A.jsx("div",{className:Ra.backButton,role:"button",tabIndex:0,onClick:()=>r(t-1),children:"Back"}),c?A.jsxs(A.Fragment,{children:[A.jsx(Ti,{outsideClass:Ra.nextButton,insideClass:Ra.nextButtonInsideBig,color:"#9a49aa",onClick:()=>S("/discover"),children:"Discover Sets"}),A.jsx(Ti,{insideClass:Ra.nextButtonInsideBig,color:"#0bc2cf",onClick:()=>S("/create"),children:"Create A Set"})]}):A.jsx(Ti,{insideClass:Ra.nextButtonInside,color:"#0bc2cf",onClick:S,children:"Next"})]})]})})};bU.propTypes={done:Wt.func};const LUt="_header_1r2d7_1",_Ut="_flex_1r2d7_9",jUt="_topFolderButton_1r2d7_13",UUt="_topFolderIcon_1r2d7_35",zUt="_searchBar_1r2d7_41",GUt="_searchIcon_1r2d7_57",HUt="_searchInput_1r2d7_66",$Ut="_container_1r2d7_79",VUt="_mergeContainer_1r2d7_87",WUt="_mergeName_1r2d7_101",YUt="_mergeSub_1r2d7_109",XUt="_mergeButton_1r2d7_116",QUt="_cancelIcon_1r2d7_137",KUt="_setContainer_1r2d7_141",JUt="_setImageFiller_1r2d7_156",ZUt="_coverImage_1r2d7_164",qUt="_setFillerContainer_1r2d7_174",tzt="_setFillerText_1r2d7_185",ezt="_plusContainer_1r2d7_197",izt="_verifiedContainer_1r2d7_196",rzt="_verifiedIcon_1r2d7_220",nzt="_removeFromFolder_1r2d7_226",szt="_viewButton_1r2d7_249",azt="_setQuestionsContainer_1r2d7_268",ozt="_setQuestionsText_1r2d7_276",lzt="_setHeader_1r2d7_285",uzt="_setSpacer_1r2d7_295",hzt="_setPlays_1r2d7_301",czt="_setLastEdit_1r2d7_309",fzt="_setHorizontalDivider_1r2d7_316",dzt="_setVerticalDivider_1r2d7_322",pzt="_setVerticalDividerTall_1r2d7_328",vzt="_setBottomContainer_1r2d7_332",mzt="_pencilIcon_1r2d7_338",gzt="_trashIcon_1r2d7_354",yzt="_setDropdown_1r2d7_370",xzt="_setDropdownIcon_1r2d7_385",bzt="_setDropdownMenu_1r2d7_389",Szt="_setDropdownOption_1r2d7_416",wzt="_setDropdownOptionIcon_1r2d7_437",Tzt="_justCopied_1r2d7_445",Czt="_setPlayContainer_1r2d7_459",Ezt="_playButton_1r2d7_467",kzt="_playIcon_1r2d7_483",Dzt="_hostButton_1r2d7_490",Azt="_hostButtonInside_1r2d7_494",Pzt="_setPlayText_1r2d7_505",Rzt="_addSetButton_1r2d7_514",Izt="_mergeSetButton_1r2d7_536",Mzt="_nothingContainer_1r2d7_553",Bzt="_nothingHeader_1r2d7_567",Ozt="_nothingButtonsRow_1r2d7_573",Nzt="_nothingButton_1r2d7_573",Fzt="_nothingButtonInside_1r2d7_584",Lzt="_nothingIcon_1r2d7_597",_zt="_nothingLink_1r2d7_602",jzt="_folderHolder_1r2d7_611",Uzt="_folderButton_1r2d7_620",zzt="_folderButtonInside_1r2d7_624",Gzt="_folderButtonIcon_1r2d7_638",Hzt="_folderButtonMinWidth_1r2d7_643",$zt="_folderButtonDropdown_1r2d7_647",Vzt="_folderButtonDropdownIcon_1r2d7_662",Wzt="_folderButtonDropdownMenu_1r2d7_671",Yzt="_folderButtonDropdownOption_1r2d7_698",Xzt="_folderButtonDropdownOptionIcon_1r2d7_718",Qzt="_moveText_1r2d7_724",Kzt="_locationsHolder_1r2d7_733",Jzt="_noFoldersText_1r2d7_759",Zzt="_locationFolderButton_1r2d7_763",qzt="_locationFolderButtonInside_1r2d7_768",tGt="_locationFolderButtonIcon_1r2d7_782",eGt="_moveLocation_1r2d7_787",iGt="_spacer_1r2d7_796",fi={header:LUt,flex:_Ut,topFolderButton:jUt,topFolderIcon:UUt,searchBar:zUt,searchIcon:GUt,searchInput:HUt,container:$Ut,mergeContainer:VUt,mergeName:WUt,mergeSub:YUt,mergeButton:XUt,cancelIcon:QUt,setContainer:KUt,setImageFiller:JUt,coverImage:ZUt,setFillerContainer:qUt,setFillerText:tzt,plusContainer:ezt,verifiedContainer:izt,verifiedIcon:rzt,removeFromFolder:nzt,viewButton:szt,setQuestionsContainer:azt,setQuestionsText:ozt,setHeader:lzt,setSpacer:uzt,setPlays:hzt,setLastEdit:czt,setHorizontalDivider:fzt,setVerticalDivider:dzt,setVerticalDividerTall:pzt,setBottomContainer:vzt,pencilIcon:mzt,trashIcon:gzt,setDropdown:yzt,setDropdownIcon:xzt,setDropdownMenu:bzt,setDropdownOption:Szt,setDropdownOptionIcon:wzt,justCopied:Tzt,setPlayContainer:Czt,playButton:Ezt,playIcon:kzt,hostButton:Dzt,hostButtonInside:Azt,setPlayText:Pzt,addSetButton:Rzt,mergeSetButton:Izt,nothingContainer:Mzt,nothingHeader:Bzt,nothingButtonsRow:Ozt,nothingButton:Nzt,nothingButtonInside:Fzt,nothingIcon:Lzt,nothingLink:_zt,folderHolder:jzt,folderButton:Uzt,folderButtonInside:zzt,folderButtonIcon:Gzt,folderButtonMinWidth:Hzt,folderButtonDropdown:$zt,folderButtonDropdownIcon:Vzt,folderButtonDropdownMenu:Wzt,folderButtonDropdownOption:Yzt,folderButtonDropdownOptionIcon:Xzt,moveText:Qzt,locationsHolder:Kzt,noFoldersText:Jzt,locationFolderButton:Zzt,locationFolderButtonInside:qzt,locationFolderButtonIcon:tGt,moveLocation:eGt,spacer:iGt},$P=(e,t)=>e.playCount!==t.playCount?t.playCount-e.playCount:e.title<t.title?-1:e.title>t.title?1:0,uT=nr.play;class SU extends ti.Component{constructor(t){super(t),this.state={allGames:[],games:[],folders:{},user:null,deleteId:"",deleting:!1,loading:!1,copyGame:!1,copying:!1,noFolder:!1,creatingFolder:!1,editingFolder:!1,folderName:"",oldFolderName:"",folderColor:"#1f77b4",folderError:"",deleteFolder:"",inFolder:!1,justCopied:!1,mergeGame:{},mergeGame2:{},noMerge:!1,searchInput:"",dashboardLayout:null,loadingLayout:!1,showNews:!1},this.loading=!1,this.gotPlus=!1,this.plus=!1,this.here=!0,this.onEdit=this.onEdit.bind(this),this.onDelete=this.onDelete.bind(this),this.onDeleteConfirm=this.onDeleteConfirm.bind(this),this.onCopy=this.onCopy.bind(this),this.onCopyConfirm=this.onCopyConfirm.bind(this),this.onMerge=this.onMerge.bind(this),this.onMergeConfirm=this.onMergeConfirm.bind(this),this.onHost=this.onHost.bind(this),this.onHw=this.onHw.bind(this),this.onSolo=this.onSolo.bind(this),this.getIsPlus=this.getIsPlus.bind(this),this.setDisplay=this.setDisplay.bind(this),this.setLayout=this.setLayout.bind(this),this.openFolder=this.openFolder.bind(this),this.newFolder=this.newFolder.bind(this),this.createFolder=this.createFolder.bind(this),this.editFolder=this.editFolder.bind(this),this.addToFolder=this.addToFolder.bind(this),this.removeFromFolder=this.removeFromFolder.bind(this),this.deleteFolder=this.deleteFolder.bind(this),this.shouldShowFolder=this.shouldShowFolder.bind(this),this.copyToClipboard=this.copyToClipboard.bind(this),this.endTour=this.endTour.bind(this)}componentDidMount(){return oi(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ue.logError("MySetsPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}const r=yield Vr.me();this.setState({user:t,dashboardLayout:r.dashboardLayout}),vi.get("/api/users/allsets").then(n=>{if(!this.here)return;const c=[...n.data.games];c.sort($P);const S=[...c],s=ji({},n.data.folders),g=c.map(a=>a._id);Object.values(s).forEach(a=>{a.sets.forEach(v=>{const f=g.indexOf(v);f!==-1&&(c.splice(f,1),g.splice(f,1))})});let i=!1;n.data.news&&n.data.modalMessage!=="welcome"&&(i=!0,vi.put("/api/users/setnews",{news:!1}).catch(a=>{console.error(a)})),this.setState({allGames:S,games:c,folders:s,tour:n.data.modalMessage==="welcome",showNews:i,ready:!0},()=>{const a=Ks("f"),v=Number(a);a&&v>=0&&v<Object.keys(this.state.folders).length&&this.openFolder(v)})}).catch(n=>{Ue.logError(n)})})}componentWillUnmount(){this.loading=!0,this.here=!1,clearTimeout(this.copyTimeout)}onEdit(t){this.loading||(this.loading=!0,this.props.history.push(`/edit?id=${t}${this.state.inFolder?`&f=${Object.keys(this.state.folders).indexOf(this.state.folderName)}`:""}`))}onDelete(t){this.setState({deleteId:t,deleting:!0})}onDeleteConfirm(t){this.loading||(this.loading=!0,t?(this.setState({loading:!0}),vi.delete("/api/games",{params:{gameId:this.state.deleteId}}).then(()=>{if(!this.here)return;const r=JSON.parse(JSON.stringify(this.state.games));let n=r.map(S=>S._id).indexOf(this.state.deleteId);n!==-1&&r.splice(n,1);const c=JSON.parse(JSON.stringify(this.state.allGames));n=c.map(S=>S._id).indexOf(this.state.deleteId),n!==-1&&c.splice(n,1),this.setState({games:r,allGames:c,deleteId:"",loading:!1,deleting:!1}),this.loading=!1}).catch(r=>{Ue.logError(r)})):(this.loading=!1,this.setState({deleteId:"",deleting:!1})))}onCopy(t){return oi(this,null,function*(){this.loading||(this.loading=!0,this.gotPlus||(yield new Promise(r=>this.getIsPlus(r))),this.plus?this.setState({copyGame:t,copying:!0}):this.setState({copying:!0}),this.loading=!1)})}onCopyConfirm(){this.loading||(this.loading=!0,this.setState({loading:!0}),vi.post("/api/games/copy",{newAuthor:this.state.copyGame.author,id:this.state.copyGame._id,isDuplicate:!1}).then(t=>{this.here&&this.props.history.push(`/edit?id=${t.data._id}`)}).catch(t=>{this.here&&(Ue.logError(t),this.loading=!1,this.setState({copying:!1,loading:!1}))}))}onMerge(t){return oi(this,null,function*(){this.loading||(this.loading=!0,this.gotPlus||(yield new Promise(r=>this.getIsPlus(r))),this.plus?this.setState({mergeGame:t}):this.setState({noMerge:!0}),this.loading=!1)})}onMergeConfirm(){this.loading||(this.loading=!0,this.setState({loading:!0}),vi.post("/api/games/merge",{game1Id:this.state.mergeGame._id,game2Id:this.state.mergeGame2._id}).then(t=>{this.here&&this.props.history.push(`/edit?id=${t.data._id}`)}).catch(t=>{this.here&&(Ue.logError(t),this.loading=!1,this.setState({loading:!1,mergeGame:{},mergeGame2:{}}))}))}onHost(t){if(this.loading)return;this.loading=!0,window.open(`${uT}/host?id=${t}`,"_blank").focus(),this.loading=!1}onHw(t){if(this.loading)return;this.loading=!0,window.open(`${uT}/hw?id=${t}`,"_blank").focus(),this.loading=!1}onSolo(t){this.loading||(this.loading=!0,window&&window.open(`${uT}/solo?id=${t}`,"_blank").focus(),this.loading=!1)}getIsPlus(t){vi.get("/api/users/plan").then(r=>{this.here&&(this.gotPlus=!0,this.plus=r.data.hasPlus,t())}).catch(r=>{this.here&&(Ue.logError(r),this.loading=!1,this.setState({copying:!1,noMerge:!0,noFolder:!0},t))})}setDisplay(t){window.history.pushState({},null,`${window.location.origin}/my-sets`);const r=ji({},t),n=this.state.allGames.map(S=>S._id),c=[...this.state.allGames];Object.values(r).forEach(S=>{S.sets.forEach(s=>{const g=n.indexOf(s);g!==-1&&(c.splice(g,1),n.splice(g,1))})}),this.setState({games:c,folders:r,inFolder:!1})}setLayout(t){return oi(this,null,function*(){const r=t==="Teacher"?To.TEACHER:To.STUDENT;yield Vr.setDashboardLayout({layout:r}),yield this.props.user.getLoggedIn();const n=yield this.props.user.getData();this.setState({user:n,dashboardLayout:t})})}openFolder(t){window.history.pushState({},null,`${window.location.origin}/my-sets?f=${t}`);const r=Object.keys(this.state.folders)[t],n=this.state.folders[r],c=n.sets,S=this.state.allGames.filter(s=>c.includes(s._id));S.sort($P),setTimeout(()=>{this.state.editingFolder||this.state.deleting||this.setState({games:S,folderName:r,folderColor:n.color,inFolder:!0,searchInput:r.toLowerCase().includes(this.state.searchInput.toLowerCase())?"":this.state.searchInput})})}newFolder(){return oi(this,null,function*(){this.loading||(this.loading=!0,this.gotPlus||(yield new Promise(t=>this.getIsPlus(t))),this.plus?this.setState({creatingFolder:!0,folderName:"",folderColor:"#1f77b4"}):this.setState({noFolder:!0}),this.loading=!1)})}createFolder(){if(!this.loading){if(this.loading=!0,!this.state.folderName){this.loading=!1,this.setState({folderError:"You need a folder name."});return}this.setState({loading:!0}),vi.put("/api/users/folders/new",{folderName:this.state.folderName,folderColor:this.state.folderColor}).then(t=>{this.here&&(t.data.success?this.setState({folders:t.data.user.folders,creatingFolder:!1,loading:!1}):this.setState({folderError:t.data.msg,loading:!1}),this.loading=!1)}).catch(t=>{this.here&&(Ue.logError(t),this.loading=!1,this.setState({creatingFolder:!1,loading:!1}))})}}editFolder(){if(!this.loading){if(this.loading=!0,!this.state.folderName){this.loading=!1,this.setState({folderError:"You need a folder name."});return}this.setState({loading:!0}),vi.put("/api/users/folders/edit",{oldFolderName:this.state.oldFolderName,folderName:this.state.folderName,folderColor:this.state.folderColor}).then(t=>{this.here&&(t.data.success?this.setState({folders:t.data.user.folders,editingFolder:!1,loading:!1}):this.setState({folderError:t.data.msg,loading:!1}),this.loading=!1)}).catch(t=>{this.here&&(Ue.logError(t),this.loading=!1,this.setState({editingFolder:!1,loading:!1}))})}}addToFolder(){return oi(this,null,function*(){this.loading||(this.loading=!0,this.state.inFolder&&this.state.folderName&&(yield vi.put("/api/users/folders/removeset",{folderName:this.state.folderName,setId:this.state.movingGame._id}).then().catch(t=>{Ue.logError(t)})),vi.put("/api/users/folders/addsets",{folderName:this.state.moveLocation,sets:[this.state.movingGame._id]}).then(t=>{if(!this.here)return;const r=t.data||this.state.folders;this.setDisplay(r),this.setState({movingGame:""}),this.loading=!1}).catch(t=>{this.here&&(Ue.logError(t),this.loading=!1,this.setState({movingGame:""}))}))})}removeFromFolder(t){this.loading||(this.loading=!0,vi.put("/api/users/folders/removeset",{folderName:this.state.folderName,setId:t}).then(r=>{if(!this.here)return;const n=r.data||this.state.folders,c=JSON.parse(JSON.stringify(this.state.games)),S=c.map(s=>s._id).indexOf(t);S!==-1&&c.splice(S,1),this.setState({folders:n,games:c}),this.loading=!1}).catch(r=>{this.here&&(Ue.logError(r),this.loading=!1)}))}deleteFolder(){this.loading||(this.loading=!0,this.setState({loading:!0}),vi.put("/api/users/folders/delete",{folderName:this.state.deleteFolder}).then(t=>{if(!this.here)return;const r=t.data||this.state.folders;this.setDisplay(r),this.setState({deleting:!1,deleteFolder:"",loading:!1}),this.loading=!1}).catch(t=>{this.here&&(Ue.logError(t),this.loading=!1,this.setState({deleting:!1,deleteFolder:"",loading:!1}))}))}shouldShowFolder(t,r){if(t.toLowerCase().includes(this.state.searchInput.toLowerCase()))return!0;const n=r.sets,c=this.state.allGames.filter(S=>n.includes(S._id));for(let S=0;S<c.length;S++)if(c[S].title.toLowerCase().includes(this.state.searchInput.toLowerCase()))return!0;return!1}copyToClipboard(t){Jit(`${nr.dashboard}/set/${t}`),clearTimeout(this.copyTimeout),this.setState({justCopied:!0},()=>{this.copyTimeout=setTimeout(()=>{this.setState({justCopied:!1})},1200)})}endTour(t,r){this.setState({tour:!1}),t&&vi.put("/api/users/setmessage",{name:this.state.user.name,message:""}).then(()=>{r&&this.props.history.push(r)}).catch(n=>{Ue.logError(n)})}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Dashboard | Blooket",desc:"The Dashboard allows you to access your question sets, favorites, game history, and news about Blooket events!"}),A.jsx(qs,{user:this.state.user,page:"My Sets",newNews:this.state.showNews,afterNews:()=>this.setState({showNews:!1}),topContent:this.state.ready&&(this.state.games.length>0||Object.keys(this.state.folders).length>0)?A.jsxs(A.Fragment,{children:[this.state.inFolder?null:A.jsx("div",{className:fi.topFolderButton,role:"button",tabIndex:0,onClick:this.newFolder,children:A.jsx("i",{className:Ct("fas fa-folder-plus",fi.topFolderIcon)})}),A.jsxs("div",{className:fi.searchBar,children:[A.jsx("i",{className:Ct("fas fa-search",fi.searchIcon)}),A.jsx("input",{className:fi.searchInput,placeholder:"Search your sets...",onChange:t=>this.setState({searchInput:t.target.value}),value:this.state.searchInput,type:"text"})]})]}):null}),A.jsxs("div",{className:He.profileBody,children:[A.jsx("div",{className:fi.header,children:"My Sets"}),this.state.allGames.length===0&&this.state.ready?A.jsx("div",{className:fi.flex,children:A.jsxs("div",{className:fi.nothingContainer,children:[A.jsx("div",{className:fi.nothingHeader,children:"You'll Need a Question Set to Host!"}),A.jsxs("div",{className:fi.nothingButtonsRow,children:[A.jsx(Ti,{color:"#9a49aa",onClick:()=>this.props.history.push("/create"),outsideClass:fi.nothingButton,children:A.jsxs("div",{className:fi.nothingButtonInside,children:[A.jsx("i",{className:Ct("fas fa-edit",fi.nothingIcon)}),"Create a Set"]})}),A.jsx(Ti,{color:"#0bc2cf",onClick:()=>this.props.history.push("/discover"),outsideClass:fi.nothingButton,children:A.jsxs("div",{className:fi.nothingButtonInside,children:[A.jsx("i",{className:Ct("fas fa-compass",fi.nothingIcon)}),"Discover Sets"]})})]}),A.jsx("a",{href:this.state.user.dashboardLayout==="Student"?"https://help.blooket.com/hc/en-us/articles/16015848585879":"https://help.blooket.com/hc/en-us/articles/16015371934487",target:"_blank",rel:"noopener noreferrer",className:fi.nothingLink,children:"Getting Started Tutorial"})]})}):null,this.state.allGames.length>0?A.jsx("div",{className:fi.folderHolder,children:this.state.inFolder?A.jsx(Ti,{outsideClass:fi.folderButton,color:"#0bc2cf",onClick:()=>this.setDisplay(this.state.folders),children:A.jsxs("div",{className:Ct(fi.folderButtonInside,fi.folderButtonMinWidth),children:[A.jsx("i",{className:Ct("fas fa-reply",fi.folderButtonIcon)}),"Back"]})}):Object.entries(this.state.folders).map(([t,r],n)=>this.shouldShowFolder(t,r)?A.jsx(Ti,{outsideClass:fi.folderButton,color:r.color,style:{zIndex:Object.keys(this.state.folders).length-n},onClick:()=>this.openFolder(n),children:A.jsxs("div",{className:fi.folderButtonInside,children:[A.jsx("i",{className:Ct("fas fa-folder",fi.folderButtonIcon)}),t,A.jsxs("div",{className:fi.folderButtonDropdown,role:"button",tabIndex:0,children:[A.jsx("i",{className:Ct("fas fa-ellipsis-v",fi.folderButtonDropdownIcon)}),A.jsxs("div",{className:fi.folderButtonDropdownMenu,children:[A.jsxs("div",{className:fi.folderButtonDropdownOption,role:"button",tabIndex:0,onClick:()=>this.setState({editingFolder:!0,folderName:t,folderColor:r.color,oldFolderName:t}),children:[A.jsx("i",{className:Ct("fas fa-pencil-alt",fi.folderButtonDropdownOptionIcon)}),"Edit"]}),A.jsxs("div",{className:fi.folderButtonDropdownOption,role:"button",tabIndex:0,onClick:()=>this.setState({deleting:!0,deleteFolder:t}),children:[A.jsx("i",{className:Ct("fas fa-trash-alt",fi.folderButtonDropdownOptionIcon)}),"Delete"]})]})]})]})},t):null)}):null,A.jsx("div",{className:fi.container,children:this.state.games.filter(t=>t.title.toLowerCase().includes(this.state.searchInput.toLowerCase())).map(t=>A.jsxs("div",{className:fi.setContainer,children:[t.coverImage?A.jsx("div",{className:fi.setImageFiller,children:A.jsx(Ul,{height:180,children:A.jsx("img",{src:Dn(t.coverImage.url),alt:"Cover",className:fi.coverImage,draggable:!1})})}):A.jsx("div",{className:fi.setFillerContainer,children:A.jsx("div",{className:fi.setFillerText,children:"Blooket"})}),t.plusOnly?A.jsxs("div",{className:fi.plusContainer,children:[A.jsx("i",{className:Ct("fas fa-plus",fi.verifiedIcon)}),"Plus Only"]}):t.verified?A.jsxs("div",{className:fi.verifiedContainer,children:[A.jsx("i",{className:Ct("fas fa-check-square",fi.verifiedIcon)}),"Teacher Verified"]}):null,this.state.inFolder?A.jsx("div",{"data-tip":"Remove from Folder",className:fi.removeFromFolder,role:"button",tabIndex:0,onClick:()=>this.removeFromFolder(t._id),children:A.jsx("i",{className:"fas fa-folder-minus"})}):null,t.private?null:A.jsx(ss,{className:fi.viewButton,"data-tip":"View Set",to:`/set/${t._id}`,children:A.jsx("i",{className:"far fa-eye"})}),A.jsx("div",{className:fi.setQuestionsContainer,children:A.jsx("div",{className:fi.setQuestionsText,children:`${Ji(t.questions.length)} ${t.questions.length===1?"Question":"Questions"}`})}),A.jsx("div",{className:fi.setHeader,children:t.title}),A.jsx("div",{className:fi.setSpacer}),A.jsx("div",{className:fi.setPlays,children:`${Ji(t.playCount)} ${t.playCount===1?"Play":"Plays"}`}),A.jsx("div",{className:fi.setLastEdit,children:`Edited ${ui(t.date).fromNow()}`}),A.jsx("div",{className:fi.setHorizontalDivider}),A.jsxs("div",{className:fi.setBottomContainer,children:[A.jsx("i",{"data-tip":"Edit",className:Ct(fi.pencilIcon,"fas fa-pencil-alt"),role:"button",tabIndex:0,onClick:()=>this.onEdit(t._id)}),A.jsx(Ec,{place:"top",effect:"solid",className:He.tooltip}),A.jsx("div",{className:fi.setVerticalDivider}),A.jsx("i",{"data-tip":"Delete",className:Ct(fi.trashIcon,"fas fa-trash-alt"),role:"button",tabIndex:0,onClick:()=>this.onDelete(t._id)}),A.jsx("div",{className:fi.setVerticalDivider}),A.jsxs("div",{className:fi.setDropdown,role:"button",tabIndex:0,children:[A.jsx("i",{className:Ct("fas fa-cog",fi.setDropdownIcon)}),A.jsxs("div",{className:fi.setDropdownMenu,children:[this.state.dashboardLayout===To.STUDENT?A.jsxs("div",{className:fi.setDropdownOption,role:"button",tabIndex:0,onClick:()=>this.onHw(t._id),children:[A.jsx("i",{className:Ct("fas fa-file-alt",fi.setDropdownOptionIcon)}),"Assign"]}):A.jsxs("div",{className:fi.setDropdownOption,role:"button",tabIndex:0,onClick:()=>this.onSolo(t._id),children:[A.jsx("i",{className:Ct("fas fa-user-astronaut",fi.setDropdownOptionIcon)}),"Solo"]}),A.jsxs("div",{className:fi.setDropdownOption,role:"button",tabIndex:0,onClick:()=>this.setState({movingGame:t,oldMoveLocation:"",moveLocation:""}),children:[A.jsx("i",{className:Ct("fas fa-folder",fi.setDropdownOptionIcon)}),"Move"]}),A.jsxs("div",{className:fi.setDropdownOption,role:"button",tabIndex:0,onClick:()=>this.onCopy(t),children:[A.jsx("i",{className:Ct("fas fa-copy",fi.setDropdownOptionIcon)}),"Copy"]}),A.jsxs("div",{className:fi.setDropdownOption,role:"button",tabIndex:0,onClick:()=>this.onMerge(t),children:[A.jsx("i",{className:Ct("fas fa-random",fi.setDropdownOptionIcon)}),"Merge"]}),t.private?null:A.jsxs("div",{className:fi.setDropdownOption,role:"button",tabIndex:0,onClick:()=>this.copyToClipboard(t._id),children:[A.jsx("i",{className:Ct("fas fa-link",fi.setDropdownOptionIcon)}),"Link",this.state.justCopied?A.jsx("div",{className:fi.justCopied,children:"Copied!"}):null]})]})]})]}),A.jsx("div",{className:fi.setHorizontalDivider}),A.jsxs("div",{className:fi.setPlayContainer,children:[this.state.dashboardLayout===To.STUDENT?A.jsxs("div",{className:fi.playButton,role:"button",tabIndex:0,onClick:()=>this.onSolo(t._id),children:[A.jsx("i",{className:Ct(fi.playIcon,"fas fa-user-astronaut")}),A.jsx("div",{className:fi.setPlayText,children:"Solo"})]}):A.jsxs("div",{className:fi.playButton,role:"button",tabIndex:0,onClick:()=>this.onHw(t._id),children:[A.jsx("i",{className:Ct(fi.playIcon,"fas fa-file-alt")}),A.jsx("div",{className:fi.setPlayText,children:"Assign"})]}),A.jsx("div",{className:Ct(fi.setVerticalDivider,fi.setVerticalDividerTall)}),A.jsx(Ti,{outsideClass:fi.hostButton,color:"#0bc2cf",onClick:()=>this.onHost(t._id),children:A.jsxs("div",{className:fi.hostButtonInside,children:[A.jsx("i",{className:Ct(fi.playIcon,"fas fa-play")}),A.jsx("div",{className:fi.setPlayText,children:"Host"})]})})]}),this.state.mergeGame._id===t._id?A.jsxs("div",{className:fi.mergeContainer,children:[A.jsxs("div",{className:fi.mergeName,children:["Choose a set to merge with",A.jsx("div",{className:fi.mergeSub,children:"This will add all questions from the set you select to this set"})]}),A.jsxs("div",{className:fi.mergeButton,role:"button",tabIndex:0,onClick:()=>this.setState({mergeGame:{}}),children:[A.jsx("i",{className:Ct("fas fa-times",fi.cancelIcon)}),"Cancel"]})]}):this.state.mergeGame._id?A.jsx("div",{className:fi.mergeSetButton,role:"button",tabIndex:0,onClick:()=>this.setState({mergeGame2:t})}):null]},t._id))}),A.jsx("div",{className:fi.spacer}),this.state.deleting?A.jsx(gr,{text:`Do you really want to delete this ${this.state.deleteFolder?"folder (this will not delete the sets inside)":"set"}?`,loading:this.state.loading,buttonOne:{text:"Yes",click:this.state.deleteFolder?this.deleteFolder:()=>this.onDeleteConfirm(!0),color:"red"},buttonTwo:{text:"No",click:this.state.deleteFolder?()=>this.setState({deleting:!1,deleteFolder:""}):()=>this.onDeleteConfirm(!1),color:"blue"}}):this.state.copying||this.state.noFolder?this.state.copyGame.title?A.jsx(gr,{text:this.state.loading?"Copying...":`Do you want to create a copy of "${this.state.copyGame.title}"?`,loading:this.state.loading,buttonOne:{text:"Yes",click:this.onCopyConfirm,color:"blue"},buttonTwo:{text:"No",click:()=>{this.setState({copying:!1,loading:!1,copyGame:{}}),this.loading=!1},color:"blue"}}):A.jsx(gr,{text:this.state.noFolder?"Get Blooket Plus to Create Folders":"Get Blooket Plus to Copy Sets",buttonOne:{text:"Upgrade",click:()=>this.props.history.push("/upgrade"),color:"orange"},buttonTwo:{text:"Not Now",click:()=>{this.setState({copying:!1,loading:!1,noFolder:!1}),this.loading=!1},color:"blue"}}):this.state.creatingFolder||this.state.editingFolder?A.jsx(gr,{text:this.state.creatingFolder?"Enter a folder name and select a color:":"You can change the folder name and color below:",loading:this.state.loading,stringValue:this.state.folderName,stringChange:t=>this.setState({folderName:t.target.value}),colorChange:t=>this.setState({folderColor:t}),colorValue:this.state.folderColor,onSubmit:t=>{t.preventDefault(),this.state.creatingFolder?this.createFolder():this.editFolder()},error:this.state.folderError,buttonOne:{text:this.state.creatingFolder?"Create":"Edit",click:this.state.creatingFolder?this.createFolder:this.editFolder,color:"blue"},buttonTwo:{text:"Back",click:()=>this.setState({creatingFolder:!1,editingFolder:!1}),color:"blue"}}):this.state.noMerge?A.jsx(gr,{text:"Get Blooket Plus to Merge Sets",buttonOne:{text:"Upgrade",click:()=>this.props.history.push("/upgrade"),color:"orange"},buttonTwo:{text:"Not Now",click:()=>this.setState({noMerge:!1}),color:"blue"}}):this.state.mergeGame2._id?A.jsx(gr,{text:this.state.loading?"Merging...":"Do you want to merge these two sets?",loading:this.state.loading,buttonOne:{text:"Yes",click:this.onMergeConfirm,color:"blue"},buttonTwo:{text:"No",click:()=>this.setState({mergeGame:{},mergeGame2:{}}),color:"blue"}}):this.state.movingGame?A.jsx(gr,{loading:this.state.loading,buttonOne:this.state.moveLocation!==this.state.oldMoveLocation?{text:"Move",click:this.addToFolder,color:"blue"}:null,buttonTwo:{text:"Back",click:()=>this.setState({movingGame:!1}),color:"blue"},content:A.jsxs(A.Fragment,{children:[A.jsx("div",{className:fi.moveText,children:"Choose a location to move the set to:"}),A.jsx("div",{className:fi.locationsHolder,children:Object.keys(this.state.folders).length>0?Object.entries(this.state.folders).map(([t,r])=>A.jsx(Ti,{outsideClass:fi.locationFolderButton,color:r.color,onClick:()=>this.setState({moveLocation:t}),children:A.jsxs("div",{className:fi.locationFolderButtonInside,children:[A.jsx("i",{className:Ct("fas fa-folder",fi.locationFolderButtonIcon)}),t]})},t)):A.jsx("div",{className:fi.noFoldersText,children:"No Folders Created"})}),A.jsx("div",{className:fi.moveLocation,children:`Location: ${this.state.moveLocation===""?"No Folder":this.state.moveLocation}`})]})}):this.state.ready&&!this.state.dashboardLayout?A.jsx(gr,{text:this.state.loadingLayout?"Saving...":"Who are you?",loading:this.state.loadingLayout,buttonOne:{text:"Teacher",click:()=>this.setLayout("Teacher"),color:"blue"},buttonTwo:{text:"Student",click:()=>this.setLayout("Student"),color:"blue"}}):this.state.ready&&!ur&&this.state.tour?A.jsx(bU,{done:this.endTour}):null]})]})}}SU.propTypes={history:Wt.object,user:Wt.object};const rGt=()=>({}),nGt=e=>ws({},e),sGt=Sn(Ts(Is(rGt,nGt)(SU))),aGt="_header_1fwq1_3",oGt="_topFolderButton_1fwq1_11",lGt="_topFolderIcon_1fwq1_33",uGt="_searchBar_1fwq1_39",hGt="_searchIcon_1fwq1_55",cGt="_searchInput_1fwq1_64",fGt="_container_1fwq1_77",dGt="_mergeContainer_1fwq1_85",pGt="_mergeName_1fwq1_99",vGt="_mergeButton_1fwq1_107",mGt="_setContainer_1fwq1_127",gGt="_setImageFiller_1fwq1_142",yGt="_coverImage_1fwq1_150",xGt="_setFillerContainer_1fwq1_160",bGt="_setFillerText_1fwq1_171",SGt="_plusContainer_1fwq1_183",wGt="_verifiedContainer_1fwq1_182",TGt="_verifiedIcon_1fwq1_206",CGt="_removeFromFolder_1fwq1_212",EGt="_viewButton_1fwq1_235",kGt="_setQuestionsContainer_1fwq1_254",DGt="_setQuestionsText_1fwq1_262",AGt="_setHeader_1fwq1_271",PGt="_setSpacer_1fwq1_281",RGt="_setPlays_1fwq1_287",IGt="_setLastEdit_1fwq1_295",MGt="_setHorizontalDivider_1fwq1_302",BGt="_setVerticalDivider_1fwq1_308",OGt="_setVerticalDividerHeight_1fwq1_314",NGt="_setBottomContainer_1fwq1_318",FGt="_starIcon_1fwq1_324",LGt="_setPlayContainer_1fwq1_340",_Gt="_playButton_1fwq1_348",jGt="_playIcon_1fwq1_364",UGt="_hostButton_1fwq1_371",zGt="_hostButtonInside_1fwq1_375",GGt="_setPlayText_1fwq1_386",HGt="_addSetButton_1fwq1_395",$Gt="_mergeSetButton_1fwq1_417",VGt="_flex_1fwq1_434",WGt="_nothingContainer_1fwq1_438",YGt="_nothingHeader_1fwq1_452",XGt="_nothingButtonsRow_1fwq1_458",QGt="_nothingButton_1fwq1_458",KGt="_nothingButtonInside_1fwq1_469",JGt="_nothingIcon_1fwq1_482",ZGt="_nothingLink_1fwq1_487",qGt="_modal_1fwq1_496",tHt="_folderHolder_1fwq1_508",eHt="_folderButton_1fwq1_517",iHt="_folderButtonInside_1fwq1_521",rHt="_folderButtonThin_1fwq1_535",nHt="_folderButtonIcon_1fwq1_539",sHt="_folderButtonDropdown_1fwq1_544",aHt="_folderButtonDropdownIcon_1fwq1_559",oHt="_folderButtonDropdownMenu_1fwq1_568",lHt="_folderButtonDropdownOption_1fwq1_595",uHt="_folderButtonDropdownOptionIcon_1fwq1_615",hHt="_moveText_1fwq1_621",cHt="_locationsHolder_1fwq1_630",fHt="_noFoldersText_1fwq1_656",dHt="_locationFolderButton_1fwq1_660",pHt="_locationFolderButtonInside_1fwq1_665",vHt="_locationFolderButtonIcon_1fwq1_679",mHt="_moveLocation_1fwq1_684",gHt="_spacer_1fwq1_693",Ri={header:aGt,topFolderButton:oGt,topFolderIcon:lGt,searchBar:uGt,searchIcon:hGt,searchInput:cGt,container:fGt,mergeContainer:dGt,mergeName:pGt,mergeButton:vGt,setContainer:mGt,setImageFiller:gGt,coverImage:yGt,setFillerContainer:xGt,setFillerText:bGt,plusContainer:SGt,verifiedContainer:wGt,verifiedIcon:TGt,removeFromFolder:CGt,viewButton:EGt,setQuestionsContainer:kGt,setQuestionsText:DGt,setHeader:AGt,setSpacer:PGt,setPlays:RGt,setLastEdit:IGt,setHorizontalDivider:MGt,setVerticalDivider:BGt,setVerticalDividerHeight:OGt,setBottomContainer:NGt,starIcon:FGt,setPlayContainer:LGt,playButton:_Gt,playIcon:jGt,hostButton:UGt,hostButtonInside:zGt,setPlayText:GGt,addSetButton:HGt,mergeSetButton:$Gt,flex:VGt,nothingContainer:WGt,nothingHeader:YGt,nothingButtonsRow:XGt,nothingButton:QGt,nothingButtonInside:KGt,nothingIcon:JGt,nothingLink:ZGt,modal:qGt,folderHolder:tHt,folderButton:eHt,folderButtonInside:iHt,folderButtonThin:rHt,folderButtonIcon:nHt,folderButtonDropdown:sHt,folderButtonDropdownIcon:aHt,folderButtonDropdownMenu:oHt,folderButtonDropdownOption:lHt,folderButtonDropdownOptionIcon:uHt,moveText:hHt,locationsHolder:cHt,noFoldersText:fHt,locationFolderButton:dHt,locationFolderButtonInside:pHt,locationFolderButtonIcon:vHt,moveLocation:mHt,spacer:gHt},hT=nr.play;class wU extends ti.Component{constructor(t){super(t),this.state={allFavorites:[],favorites:[],unfavoriting:!1,folders:{},loading:!1,noFolder:!1,creatingFolder:!1,editingFolder:!1,folderName:"",oldFolderName:"",folderColor:"#1f77b4",folderError:"",deleteFolder:"",inFolder:!1,searchInput:"",user:null,dashboardLayout:null},this.loading=!1,this.here=!0,this.onUnfavorite=this.onUnfavorite.bind(this),this.onHost=this.onHost.bind(this),this.onHw=this.onHw.bind(this),this.onSolo=this.onSolo.bind(this),this.getIsPlus=this.getIsPlus.bind(this),this.setDisplay=this.setDisplay.bind(this),this.openFolder=this.openFolder.bind(this),this.newFolder=this.newFolder.bind(this),this.createFolder=this.createFolder.bind(this),this.editFolder=this.editFolder.bind(this),this.addToFolder=this.addToFolder.bind(this),this.removeFromFolder=this.removeFromFolder.bind(this),this.deleteFolder=this.deleteFolder.bind(this),this.shouldShowFolder=this.shouldShowFolder.bind(this)}componentDidMount(){return oi(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ue.logError("FavoritesPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}const r=yield Vr.me();this.setState({user:t,dashboardLayout:r.dashboardLayout}),vi.get("/api/users/favoriteGames").then(n=>{const c=[...n.data.games].map(i=>Or(ji({},i),{questions:i.questions||[]}));c.sort((i,a)=>a.playCount-i.playCount);const S=[...c],s=ji({},n.data.folders),g=c.map(i=>i._id);Object.values(s).forEach(i=>{i.sets.forEach(a=>{const v=g.indexOf(a);v!==-1&&(c.splice(v,1),g.splice(v,1))})}),this.setState({favorites:c,allFavorites:S,folders:s,ready:!0})}).catch(n=>{Ue.logError(n)})})}componentWillUnmount(){this.loading=!0,this.here=!1}onUnfavorite(t){this.loading||(this.loading=!0,this.setState({unfavoriting:!0}),vi.put("/api/users/updatefavorites",{id:t,isUnfavoriting:!0}).then(()=>{if(!this.here)return;const n=[...this.state.allFavorites.map(S=>S._id)].indexOf(t),c=[...this.state.allFavorites];c.splice(n,1),this.setState({allFavorites:c,unfavoriting:!1},()=>{this.loading=!1,this.setDisplay(this.state.folders)})}).catch(r=>{Ue.logError(r),this.setState({unfavoriting:!1}),this.loading=!1}))}onHost(t){if(this.loading)return;this.loading=!0,window.open(`${hT}/host?id=${t}`,"_blank").focus(),this.loading=!1}onHw(t){if(this.loading)return;this.loading=!0,window.open(`${hT}/hw?id=${t}`,"_blank").focus(),this.loading=!1}onSolo(t){this.loading||(this.loading=!0,window&&window.open(`${hT}/solo?id=${t}`,"_blank").focus(),this.loading=!1)}getIsPlus(t){vi.get("/api/users/plan").then(r=>{this.here&&(this.gotPlus=!0,this.plus=r.data.hasPlus,t())}).catch(r=>{this.here&&(Ue.logError(r),this.loading=!1,this.setState({noFolder:!0},t))})}setDisplay(t){const r=ji({},t),n=this.state.allFavorites.map(S=>S._id),c=[...this.state.allFavorites];Object.values(r).forEach(S=>{S.sets.forEach(s=>{const g=n.indexOf(s);g!==-1&&(c.splice(g,1),n.splice(g,1))})}),this.setState({favorites:c,folders:r,inFolder:!1})}openFolder(t,r){const n=r.sets,c=this.state.allFavorites.filter(S=>n.includes(S._id));c.sort((S,s)=>s.playCount-S.playCount),setTimeout(()=>{this.state.editingFolder||this.state.deleteFolder||this.setState({favorites:c,folderName:t,folderColor:r.color,inFolder:!0,searchInput:t.toLowerCase().includes(this.state.searchInput.toLowerCase())?"":this.state.searchInput})})}newFolder(){return oi(this,null,function*(){this.loading||(this.loading=!0,this.gotPlus||(yield new Promise(t=>this.getIsPlus(t))),this.plus?this.setState({creatingFolder:!0,folderName:"",folderColor:"#1f77b4"}):this.setState({noFolder:!0}),this.loading=!1)})}createFolder(){if(!this.loading){if(this.loading=!0,!this.state.folderName){this.loading=!1,this.setState({folderError:"You need a folder name."});return}this.setState({loading:!0}),vi.put("/api/users/favorite-folders/new",{folderName:this.state.folderName,folderColor:this.state.folderColor}).then(t=>{this.here&&(t.data.success?this.setState({folders:t.data.user.favoriteFolders,creatingFolder:!1,loading:!1}):this.setState({folderError:t.data.msg,loading:!1}),this.loading=!1)}).catch(t=>{this.here&&(Ue.logError(t),this.loading=!1,this.setState({creatingFolder:!1,loading:!1}))})}}editFolder(){if(!this.loading){if(this.loading=!0,!this.state.folderName){this.loading=!1,this.setState({folderError:"You need a folder name."});return}this.setState({loading:!0}),vi.put("/api/users/favorite-folders/edit",{oldFolderName:this.state.oldFolderName,folderName:this.state.folderName,folderColor:this.state.folderColor}).then(t=>{this.here&&(t.data.success?this.setState({folders:t.data.user.favoriteFolders,editingFolder:!1,loading:!1}):this.setState({folderError:t.data.msg,loading:!1}),this.loading=!1)}).catch(t=>{this.here&&(Ue.logError(t),this.loading=!1,this.setState({editingFolder:!1,loading:!1}))})}}addToFolder(){return oi(this,null,function*(){this.loading||(this.loading=!0,this.state.inFolder&&this.state.folderName&&(yield vi.put("/api/users/favorite-folders/removeset",{folderName:this.state.folderName,setId:this.state.movingFavorite._id}).then().catch(t=>{Ue.logError(t)})),vi.put("/api/users/favorite-folders/addsets",{folderName:this.state.moveLocation,sets:[this.state.movingFavorite._id]}).then(t=>{if(!this.here)return;const r=t.data||this.state.folders;this.setDisplay(r),this.setState({movingFavorite:""}),this.loading=!1}).catch(t=>{this.here&&(Ue.logError(t),this.loading=!1,this.setState({movingFavorite:""}))}))})}removeFromFolder(t){this.loading||(this.loading=!0,vi.put("/api/users/favorite-folders/removeset",{folderName:this.state.folderName,setId:t}).then(r=>{if(!this.here)return;const n=r.data||this.state.folders,c=JSON.parse(JSON.stringify(this.state.favorites)),S=c.map(s=>s._id).indexOf(t);S!==-1&&c.splice(S,1),this.setState({folders:n,favorites:c}),this.loading=!1}).catch(r=>{this.here&&(Ue.logError(r),this.loading=!1)}))}deleteFolder(){this.loading||(this.loading=!0,this.setState({loading:!0}),vi.put("/api/users/favorite-folders/delete",{folderName:this.state.deleteFolder}).then(t=>{if(!this.here)return;const r=t.data||this.state.folders;this.setDisplay(r),this.setState({deleteFolder:"",loading:!1}),this.loading=!1}).catch(t=>{this.here&&(Ue.logError(t),this.loading=!1,this.setState({deleteFolder:"",loading:!1}))}))}shouldShowFolder(t,r){if(t.toLowerCase().includes(this.state.searchInput.toLowerCase()))return!0;const n=r.sets,c=this.state.allFavorites.filter(S=>n.includes(S._id));for(let S=0;S<c.length;S++)if(c[S].title.toLowerCase().includes(this.state.searchInput.toLowerCase()))return!0;return!1}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Favorites | Blooket",desc:"Manage your favorite Blooket sets."}),A.jsx(qs,{user:this.state.user,page:"Favorites",topContent:this.state.ready&&(this.state.favorites.length>0||Object.keys(this.state.folders).length>0)?A.jsxs(A.Fragment,{children:[this.state.inFolder?null:A.jsx("div",{className:Ri.topFolderButton,role:"button",tabIndex:0,onClick:this.newFolder,children:A.jsx("i",{className:Ct("fas fa-folder-plus",Ri.topFolderIcon)})}),A.jsxs("div",{className:Ri.searchBar,children:[A.jsx("i",{className:Ct("fas fa-search",Ri.searchIcon)}),A.jsx("input",{className:Ri.searchInput,placeholder:"Search your favorites...",onChange:t=>this.setState({searchInput:t.target.value}),value:this.state.searchInput,type:"text"})]})]}):null}),A.jsxs("div",{className:He.profileBody,children:[A.jsx("div",{className:Ri.header,children:"Favorites"}),this.state.allFavorites.length===0&&this.state.ready?A.jsx("div",{className:Ri.flex,children:A.jsxs("div",{className:Ri.nothingContainer,children:[A.jsx("div",{className:Ri.nothingHeader,children:"You don't have any favorites :("}),A.jsx("div",{className:Ri.nothingButtonsRow,children:A.jsx(Ti,{color:"#0bc2cf",onClick:()=>this.props.history.push("/discover"),outsideClass:Ri.nothingButton,children:A.jsxs("div",{className:Ri.nothingButtonInside,children:[A.jsx("i",{className:Ct("fas fa-compass",Ri.nothingIcon)}),"Discover Favorites"]})})}),A.jsx("a",{href:this.state.user.dashboardLayout==="Student"?"https://help.blooket.com/hc/en-us/articles/16288738478871-Favoriting-a-Set":"https://help.blooket.com/hc/en-us/articles/15999653229463-Favoriting-a-Set",target:"_blank",rel:"noopener noreferrer",className:Ri.nothingLink,children:"Learn How to Favorite Sets"})]})}):null,this.state.allFavorites.length>0?A.jsx("div",{className:Ri.folderHolder,children:this.state.inFolder?A.jsx(Ti,{outsideClass:Ri.folderButton,color:"#0bc2cf",onClick:()=>this.setDisplay(this.state.folders),children:A.jsxs("div",{className:Ct(Ri.folderButtonInside,Ri.folderButtonThin),children:[A.jsx("i",{className:Ct("fas fa-reply",Ri.folderButtonIcon)}),"Back"]})}):Object.entries(this.state.folders).map(([t,r])=>this.shouldShowFolder(t,r)?A.jsx(Ti,{outsideClass:Ri.folderButton,color:r.color,onClick:()=>this.openFolder(t,r),children:A.jsxs("div",{className:Ri.folderButtonInside,children:[A.jsx("i",{className:Ct("fas fa-folder",Ri.folderButtonIcon)}),t,A.jsxs("div",{className:Ri.folderButtonDropdown,role:"button",tabIndex:0,children:[A.jsx("i",{className:Ct("fas fa-ellipsis-v",Ri.folderButtonDropdownIcon)}),A.jsxs("div",{className:Ri.folderButtonDropdownMenu,children:[A.jsxs("div",{className:Ri.folderButtonDropdownOption,role:"button",tabIndex:0,onClick:()=>this.setState({editingFolder:!0,folderName:t,folderColor:r.color,oldFolderName:t}),children:[A.jsx("i",{className:Ct("fas fa-pencil-alt",Ri.folderButtonDropdownOptionIcon)}),"Edit"]}),A.jsxs("div",{className:Ri.folderButtonDropdownOption,role:"button",tabIndex:0,onClick:()=>this.setState({deleteFolder:t}),children:[A.jsx("i",{className:Ct("fas fa-trash-alt",Ri.folderButtonDropdownOptionIcon)}),"Delete"]})]})]})]})},t):null)}):null,A.jsx("div",{className:Ri.container,children:this.state.favorites.filter(t=>t.title.toLowerCase().includes(this.state.searchInput.toLowerCase())).map(t=>A.jsxs("div",{className:Ri.setContainer,children:[t.coverImage?A.jsx("div",{className:Ri.setImageFiller,children:A.jsx(Ul,{height:180,children:A.jsx("img",{src:Dn(t.coverImage.url),alt:"Cover",className:Ri.coverImage,draggable:!1})})}):A.jsx("div",{className:Ri.setFillerContainer,children:A.jsx("div",{className:Ri.setFillerText,children:"Blooket"})}),t.plusOnly?A.jsxs("div",{className:Ri.plusContainer,children:[A.jsx("i",{className:Ct("fas fa-plus",Ri.verifiedIcon)}),"Plus Only"]}):t.verified?A.jsxs("div",{className:Ri.verifiedContainer,children:[A.jsx("i",{className:Ct("fas fa-check-square",Ri.verifiedIcon)}),"Teacher Verified"]}):null,this.state.inFolder?A.jsx("div",{"data-tip":"Remove from Folder",className:Ri.removeFromFolder,role:"button",tabIndex:0,onClick:()=>this.removeFromFolder(t._id),children:A.jsx("i",{className:"fas fa-folder-minus"})}):null,A.jsx("div",{className:Ri.setQuestionsContainer,children:A.jsx("div",{className:Ri.setQuestionsText,children:`${Ji(t.questions.length)} ${t.questions.length===1?"Question":"Questions"}`})}),A.jsx("div",{className:Ri.setHeader,children:t.title}),A.jsx("div",{className:Ri.setSpacer}),A.jsx("div",{className:Ri.setPlays,children:`${Ji(t.playCount)} ${t.playCount===1?"Play":"Plays"}`}),A.jsx("div",{className:Ri.setLastEdit,children:`Edited ${ui(t.date).fromNow()}`}),A.jsx("div",{className:Ri.setHorizontalDivider}),A.jsxs("div",{className:Ri.setBottomContainer,children:[A.jsx(Ec,{place:"top",effect:"solid",className:He.tooltip}),A.jsx("i",{"data-tip":"Unfavorite",className:Ct(Ri.starIcon,"fas fa-star"),role:"button",tabIndex:0,onClick:()=>this.onUnfavorite(t._id)}),A.jsx("div",{className:Ri.setVerticalDivider}),A.jsx("i",{"data-tip":"View",className:Ct(Ri.starIcon,"far fa-eye"),role:"button",tabIndex:0,onClick:()=>this.props.history.push(`/set/${t._id}`)}),A.jsx("div",{className:Ri.setVerticalDivider}),A.jsx("i",{"data-tip":"Move",className:Ct(Ri.starIcon,"fas fa-folder"),role:"button",tabIndex:0,onClick:()=>this.setState({movingFavorite:t,oldMoveLocation:"",moveLocation:""})})]}),A.jsx("div",{className:Ri.setHorizontalDivider}),A.jsxs("div",{className:Ri.setPlayContainer,children:[this.state.dashboardLayout===To.STUDENT?A.jsxs("div",{className:Ri.playButton,role:"button",tabIndex:0,onClick:()=>this.onSolo(t._id),children:[A.jsx("i",{className:Ct(Ri.playIcon,"fas fa-user-astronaut")}),A.jsx("div",{className:Ri.setPlayText,children:"Solo"})]}):A.jsxs("div",{className:Ri.playButton,role:"button",tabIndex:0,onClick:()=>this.onHw(t._id),children:[A.jsx("i",{className:Ct(Ri.playIcon,"fas fa-file-alt")}),A.jsx("div",{className:Ri.setPlayText,children:"Assign"})]}),A.jsx("div",{className:Ct(Ri.setVerticalDivider,Ri.setVerticalDividerHeight)}),A.jsx(Ti,{outsideClass:Ri.hostButton,color:"#0bc2cf",onClick:()=>this.onHost(t._id),children:A.jsxs("div",{className:Ri.hostButtonInside,children:[A.jsx("i",{className:Ct(Ri.playIcon,"fas fa-play")}),A.jsx("div",{className:Ri.setPlayText,children:"Host"})]})})]})]},t._id))}),A.jsx("div",{className:Ri.spacer}),this.state.unfavoriting?A.jsx(gr,{text:"Removing Favorite...",loading:!0}):this.state.deleteFolder?A.jsx(gr,{text:"Do you really want to delete this folder (this will not delete the sets inside)?",loading:this.state.loading,buttonOne:{text:"Yes",click:this.deleteFolder,color:"red"},buttonTwo:{text:"No",click:()=>this.setState({deleteFolder:""}),color:"blue"}}):this.state.noFolder?A.jsx(gr,{text:"Get Blooket Plus to Create Folders",buttonOne:{text:"Upgrade",click:()=>this.props.history.push("/upgrade"),color:"orange"},buttonTwo:{text:"Not Now",click:()=>{this.setState({loading:!1,noFolder:!1}),this.loading=!1},color:"blue"}}):this.state.creatingFolder||this.state.editingFolder?A.jsx(gr,{text:this.state.creatingFolder?"Enter a folder name and select a color:":"You can change the folder name and color below:",loading:this.state.loading,stringValue:this.state.folderName,stringChange:t=>this.setState({folderName:t.target.value}),colorChange:t=>this.setState({folderColor:t}),colorValue:this.state.folderColor,onSubmit:t=>{t.preventDefault(),this.state.creatingFolder?this.createFolder():this.editFolder()},error:this.state.folderError,buttonOne:{text:this.state.creatingFolder?"Create":"Edit",click:this.state.creatingFolder?this.createFolder:this.editFolder,color:"blue"},buttonTwo:{text:"Back",click:()=>this.setState({creatingFolder:!1,editingFolder:!1}),color:"blue"}}):this.state.movingFavorite?A.jsx(gr,{loading:this.state.loading,buttonOne:this.state.moveLocation!==this.state.oldMoveLocation?{text:"Move",click:this.addToFolder,color:"blue"}:null,buttonTwo:{text:"Back",click:()=>this.setState({movingFavorite:!1}),color:"blue"},content:A.jsxs(A.Fragment,{children:[A.jsx("div",{className:Ri.moveText,children:"Choose a location to move the set to:"}),A.jsx("div",{className:Ri.locationsHolder,children:Object.keys(this.state.folders).length>0?Object.entries(this.state.folders).map(([t,r])=>A.jsx(Ti,{outsideClass:Ri.locationFolderButton,color:r.color,onClick:()=>this.setState({moveLocation:t}),children:A.jsxs("div",{className:Ri.locationFolderButtonInside,children:[A.jsx("i",{className:Ct("fas fa-folder",Ri.locationFolderButtonIcon)}),t]})},t)):A.jsx("div",{className:Ri.noFoldersText,children:"No Folders Created"})}),A.jsx("div",{className:Ri.moveLocation,children:`Location: ${this.state.moveLocation===""?"No Folder":this.state.moveLocation}`})]})}):null]})]})}}wU.propTypes={history:Wt.object,user:Wt.object};const yHt=()=>({}),xHt=e=>ws({},e),bHt=Sn(Ts(Is(yHt,xHt)(wU))),SHt="_header_k6yz0_1",wHt="_nothingContainer_k6yz0_9",THt="_nothingHeader_k6yz0_23",CHt="_nothingButtonsRow_k6yz0_29",EHt="_nothingButton_k6yz0_29",kHt="_nothingButtonInside_k6yz0_40",DHt="_nothingIcon_k6yz0_53",AHt="_nothingLink_k6yz0_58",PHt="_gamesContainer_k6yz0_67",RHt="_gameHolder_k6yz0_75",IHt="_container_k6yz0_82",MHt="_blook_k6yz0_102",BHt="_textContainer_k6yz0_109",OHt="_setTitle_k6yz0_115",NHt="_infoRow_k6yz0_127",FHt="_info_k6yz0_127",LHt="_infoIcon_k6yz0_143",_Ht="_bodyContainer_k6yz0_147",jHt="_deleteButton_k6yz0_152",UHt="_trashIcon_k6yz0_176",zHt="_moreButton_k6yz0_182",GHt="_moreButtonInside_k6yz0_186",HHt="_flex_k6yz0_193",Cn={header:SHt,nothingContainer:wHt,nothingHeader:THt,nothingButtonsRow:CHt,nothingButton:EHt,nothingButtonInside:kHt,nothingIcon:DHt,nothingLink:AHt,gamesContainer:PHt,gameHolder:RHt,container:IHt,blook:MHt,textContainer:BHt,setTitle:OHt,infoRow:NHt,info:FHt,infoIcon:LHt,bodyContainer:_Ht,deleteButton:jHt,trashIcon:UHt,moreButton:zHt,moreButtonInside:GHt,flex:HHt},TU={Toy:{name:"Santa's Workshop"},Defense2:{name:"Tower Defense 2"},Brawl:{name:"Monster Brawl"},Gold:{name:"Gold Quest"},Candy:{name:"Candy Quest"},Hack:{name:"Crypto Hack"},Fish:{name:"Fishing Frenzy"},Pirate:{name:"Pirate's Voyage"},Dino:{name:"Deceptive Dinos"},Rush:{name:"Blook Rush"},Royale:{name:"Battle Royale"},Defense:{name:"Tower Defense"},Cafe:{name:"Caf"},Factory:{name:"Factory"},Racing:{name:"Racing"},Kingdom:{name:"Crazy Kingdom"},Tower:{name:"Tower of Doom"},Classic:{name:"Classic"}};class CU extends ti.Component{constructor(t){super(t),this.state={user:null,games:[],numGames:20,ready:!1,deleteId:"",deleteCheck:!1,loading:!1},this.here=!0,this.onDeleteConfirm=this.onDeleteConfirm.bind(this)}componentDidMount(){return oi(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ue.logError("HistoryPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}this.setState({user:t}),vi.get("/api/users/histories",{params:{id:t._id}}).then(r=>{const n=[...r.data];n.sort((c,S)=>ui.utc(S.date).diff(ui.utc(c.date))),this.here&&this.setState({games:n,ready:!0})}).catch(r=>{Ue.logError(r)})})}componentWillUnmount(){this.here=!1}onDeleteConfirm(t){if(!this.state.loading){if(!t)return this.setState({deleteCheck:!1,deleteId:""});this.setState({loading:!0}),vi.delete("/api/history",{params:{id:this.state.deleteId}}).then(()=>{if(!this.here)return;const r=[...this.state.games];r.splice(r.map(n=>n._id).indexOf(this.state.deleteId),1),this.setState({loading:!1,deleteCheck:!1,deleteId:"",games:r})}).catch(r=>{this.setState({deleteCheck:!1,deleteId:""}),Ue.logError(r)})}}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"History | Blooket",desc:"View your recent games and review how the players performed and what questions were most missed."}),A.jsx(qs,{user:this.state.user,page:"History"}),A.jsxs("div",{className:He.profileBody,children:[A.jsx("div",{className:Cn.header,children:"History"}),A.jsxs("div",{className:Cn.gamesContainer,children:[this.state.games.length>0?this.state.games.slice(0,this.state.numGames).map(t=>A.jsxs("div",{className:Cn.gameHolder,children:[A.jsxs(ss,{className:Cn.container,to:`/history/game/${t._id}`,children:[A.jsx(xn,{name:t.standings&&t.standings.length>0?t.standings[0].blook:"Light Blue",className:Cn.blook}),A.jsxs("div",{className:Cn.textContainer,children:[A.jsx("div",{className:Cn.setTitle,children:t.set}),A.jsxs("div",{className:Cn.infoRow,children:[A.jsxs("div",{className:Cn.info,children:[A.jsx("i",{className:Ct("fas fa-gamepad",Cn.infoIcon)}),TU[t.settings.type].name]}),A.jsxs("div",{className:Cn.info,children:[A.jsx("i",{className:Ct("fas fa-users",Cn.infoIcon)}),t.standings?t.standings.length:0]}),A.jsxs("div",{className:Cn.info,children:[A.jsx("i",{className:Ct("far fa-clock",Cn.infoIcon)}),ui(t.date).format("h:mm a, MM/DD/YY")]})]})]})]}),A.jsxs("div",{className:Cn.deleteButton,role:"button",tabIndex:0,onClick:()=>this.setState({deleteCheck:!0,deleteId:t._id}),children:[A.jsx("i",{className:Ct("fas fa-trash-alt",Cn.trashIcon)}),"Delete"]})]},t._id)):this.state.ready?A.jsx("div",{className:Cn.flex,children:A.jsxs("div",{className:Cn.nothingContainer,children:[A.jsx("div",{className:Cn.nothingHeader,children:"You haven't hosted a game yet :("}),A.jsx("div",{className:Cn.nothingButtonsRow,children:A.jsx(Ti,{color:"#0bc2cf",onClick:()=>this.props.history.push("/discover"),outsideClass:Cn.nothingButton,children:A.jsxs("div",{className:Cn.nothingButtonInside,children:[A.jsx("i",{className:Ct("fas fa-compass",Cn.nothingIcon)}),"Discover Sets"]})})}),A.jsx("a",{href:"https://help.blooket.com/hc/en-us/articles/15984215236503-Hosting-a-Blooket-Game",target:"_blank",rel:"noopener noreferrer",className:Cn.nothingLink,children:"Learn How to Host a Game"})]})}):null,this.state.games.length>this.state.numGames?A.jsx(Ti,{outsideClass:Cn.moreButton,color:"#0bc2cf",onClick:()=>this.setState({numGames:this.state.numGames+20}),children:A.jsx("div",{className:Cn.moreButtonInside,children:"Show More"})}):null]})]}),this.state.deleteCheck?A.jsx(gr,{text:"Do you really want to delete this history?",loading:this.state.loading,buttonOne:{text:"Yes",click:()=>this.onDeleteConfirm(!0),color:"red"},buttonTwo:{text:"No",click:()=>this.onDeleteConfirm(!1),color:"blue"}}):null]})}}CU.propTypes={history:Wt.object.isRequired,user:Wt.object};const $Ht=()=>({}),VHt=e=>ws({},e),WHt=Sn(Ts(Is($Ht,VHt)(CU))),YHt="_header_ap9pb_1",XHt="_nothingContainer_ap9pb_9",QHt="_nothingHeader_ap9pb_23",KHt="_nothingButtonsRow_ap9pb_29",JHt="_nothingButton_ap9pb_29",ZHt="_nothingButtonInside_ap9pb_40",qHt="_nothingIcon_ap9pb_53",t$t="_homeworksContainer_ap9pb_58",e$t="_gameHolder_ap9pb_66",i$t="_container_ap9pb_73",r$t="_hwIcon_ap9pb_93",n$t="_hwEnded_ap9pb_101",s$t="_textContainer_ap9pb_105",a$t="_hwTitle_ap9pb_111",o$t="_infoRow_ap9pb_123",l$t="_info_ap9pb_123",u$t="_infoIcon_ap9pb_139",h$t="_bodyContainer_ap9pb_143",c$t="_deleteButton_ap9pb_148",f$t="_trashIcon_ap9pb_172",d$t="_moreButton_ap9pb_178",p$t="_moreButtonInside_ap9pb_182",v$t="_flex_ap9pb_189",En={header:YHt,nothingContainer:XHt,nothingHeader:QHt,nothingButtonsRow:KHt,nothingButton:JHt,nothingButtonInside:ZHt,nothingIcon:qHt,homeworksContainer:t$t,gameHolder:e$t,container:i$t,hwIcon:r$t,hwEnded:n$t,textContainer:s$t,hwTitle:a$t,infoRow:o$t,info:l$t,infoIcon:u$t,bodyContainer:h$t,deleteButton:c$t,trashIcon:f$t,moreButton:d$t,moreButtonInside:p$t,flex:v$t};class EU extends ti.Component{constructor(t){super(t),this.state={user:null,homeworks:[],numHomeworks:20,ready:!1,deleteId:"",deleteCheck:!1,loading:!1},this.here=!0,this.onDeleteConfirm=this.onDeleteConfirm.bind(this)}componentDidMount(){return oi(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ue.logError("HomeworksPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}this.setState({user:t}),vi.get("/api/users/homeworks").then(r=>{const n=[...r.data.map(c=>Or(ji({},c),{isEnded:ui(c.startTime).add(c.duration,"minutes").isBefore()}))];n.sort((c,S)=>ui(S.startTime).add(S.duration,"minutes").diff(ui(c.startTime).add(c.duration,"minutes"))),this.here&&this.setState({homeworks:n,ready:!0})}).catch(r=>{Ue.logError(r)})})}componentWillUnmount(){this.here=!1}onDeleteConfirm(t){if(!this.state.loading){if(!t)return this.setState({deleteCheck:!1,deleteId:""});this.setState({loading:!0}),vi.delete("/api/homeworks",{params:{id:this.state.deleteId}}).then(()=>{if(!this.here)return;const r=[...this.state.homeworks];r.splice(r.map(n=>n._id).indexOf(this.state.deleteId),1),this.setState({loading:!1,deleteCheck:!1,deleteId:"",homeworks:r})}).catch(r=>{this.setState({deleteCheck:!1,deleteId:""}),Ue.logError(r)})}}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Homework | Blooket",desc:"View your recent homework and review how the players performed and what questions were most missed."}),A.jsx(qs,{user:this.state.user,page:"Homework"}),A.jsxs("div",{className:He.profileBody,children:[A.jsx("div",{className:En.header,children:"Homework"}),A.jsxs("div",{className:En.homeworksContainer,children:[this.state.homeworks.length>0?this.state.homeworks.slice(0,this.state.numHomeworks).map(t=>A.jsxs("div",{className:En.gameHolder,children:[A.jsxs(ss,{className:En.container,to:`/homework/${t._id}`,children:[A.jsx("i",{className:Ct("far fa-file-alt",En.hwIcon,{[En.hwEnded]:t.isEnded})}),A.jsxs("div",{className:En.textContainer,children:[A.jsx("div",{className:En.hwTitle,children:t.title}),A.jsxs("div",{className:En.infoRow,children:[A.jsxs("div",{className:En.info,children:[A.jsx("i",{className:Ct("fas fa-gamepad",En.infoIcon)}),TU[t.settings.type].name]}),A.jsxs("div",{className:En.info,children:[A.jsx("i",{className:Ct("fas fa-users",En.infoIcon)}),t.resultIds?t.resultIds.length:0]}),A.jsxs("div",{className:En.info,children:[A.jsx("i",{className:Ct("far fa-clock",En.infoIcon)}),`Due ${ui(t.startTime).add(t.duration,"minutes").fromNow()}`]})]})]})]}),A.jsxs("div",{className:En.deleteButton,role:"button",tabIndex:0,onClick:()=>this.setState({deleteCheck:!0,deleteId:t._id}),children:[A.jsx("i",{className:Ct("fas fa-trash-alt",En.trashIcon)}),"Delete"]})]},t._id)):this.state.ready?A.jsx("div",{className:En.flex,children:A.jsxs("div",{className:En.nothingContainer,children:[A.jsx("div",{className:En.nothingHeader,children:"You haven't assigned any Homeworks yet :("}),A.jsx("div",{className:En.nothingButtonsRow,children:A.jsx(Ti,{color:"#0bc2cf",linkTo:"https://help.blooket.com/hc/en-us/articles/16179771027863-Assigning-Homework",linkNewTab:!0,outsideClass:En.nothingButton,children:A.jsxs("div",{className:En.nothingButtonInside,children:[A.jsx("i",{className:Ct("fas fa-question-circle",En.nothingIcon)}),"Learn How to Assign HW"]})})})]})}):null,this.state.homeworks.length>this.state.numHomeworks?A.jsx(Ti,{outsideClass:En.moreButton,color:"#0bc2cf",onClick:()=>this.setState({numHomeworks:this.state.numHomeworks+20}),children:A.jsx("div",{className:En.moreButtonInside,children:"Show More"})}):null]})]}),this.state.deleteCheck?A.jsx(gr,{text:"Do you really want to delete this homework?",loading:this.state.loading,buttonOne:{text:"Yes",click:()=>this.onDeleteConfirm(!0),color:"red"},buttonTwo:{text:"No",click:()=>this.onDeleteConfirm(!1),color:"blue"}}):null]})}}EU.propTypes={user:Wt.object};const m$t=()=>({}),g$t=e=>ws({},e),y$t=Sn(Ts(Is(m$t,g$t)(EU))),x$t="_header_coony_1",b$t="_infoRow_coony_9",S$t="_infoContainer_coony_17",w$t="_infoIcon_coony_35",T$t="_infoIconNoRight_coony_40",C$t="_reportButton_coony_44",E$t="_linkButton_coony_65",k$t="_endText_coony_91",D$t="_smallButtonRow_coony_109",A$t="_smallButton_coony_109",P$t="_smallButtonRed_coony_142",R$t="_smallButtonIcon_coony_146",I$t="_copiedNotification_coony_151",M$t="_subheaderRow_coony_164",B$t="_subheader_coony_164",O$t="_subheaderSmall_coony_176",N$t="_nothingText_coony_182",F$t="_nothingTextSub_coony_192",L$t="_membersHolder_coony_197",_$t="_memberContainer_coony_204",ln={header:x$t,infoRow:b$t,infoContainer:S$t,infoIcon:w$t,infoIconNoRight:T$t,reportButton:C$t,linkButton:E$t,endText:k$t,smallButtonRow:D$t,smallButton:A$t,smallButtonRed:P$t,smallButtonIcon:R$t,copiedNotification:I$t,subheaderRow:M$t,subheader:B$t,subheaderSmall:O$t,nothingText:N$t,nothingTextSub:F$t,membersHolder:L$t,memberContainer:_$t};class kU extends ti.Component{constructor(t){super(t),this.state={members:[],plan:{},lastDate:"",inviteLink:"",justCopied:!1,memberToRemove:"",groupName:"",isDeleting:!1,isPO:!1,loading:!1},this.here=!0,this.copyToClipboard=this.copyToClipboard.bind(this),this.removeMember=this.removeMember.bind(this),this.deleteGroup=this.deleteGroup.bind(this),this.editStripe=this.editStripe.bind(this),this.dowloadReport=this.dowloadReport.bind(this)}componentDidMount(){return oi(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ue.logError("GroupPlanPage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}this.setState({user:t}),vi.get("/api/groups",{params:{id:t.groupId}}).then(r=>oi(this,null,function*(){const n=r.data.planName;let c=null;n==="Custom"?c={name:"Custom",numUsers:r.data.numPlans,numPlans:r.data.numPlans}:(yield Vr.listGroupPlans({})).plans.forEach(s=>{s.name===n&&(c=s)}),this.here&&this.setState({plan:c,groupName:r.data.groupName,members:r.data.members,lastDate:r.data.lastDate,inviteLink:`${nr.dashboard}/group/join/${t.groupId}`,isPO:r.data.isPO})})).catch(r=>{Ue.logError(r)})})}componentWillUnmount(){this.here=!1}copyToClipboard(){const t=document.createElement("textarea");t.value=this.state.inviteLink,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);const r=document.getSelection().rangeCount>0?document.getSelection().getRangeAt(0):!1;t.select(),document.execCommand("copy"),document.body.removeChild(t),r&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(r)),clearTimeout(this.copyTimeout),this.setState({justCopied:!0},()=>{this.copyTimeout=setTimeout(()=>{this.setState({justCopied:!1})},1500)})}removeMember(){const t=[...this.state.members];t.splice(t.indexOf(this.state.memberToRemove),1),this.setState({members:t,memberToRemove:""}),vi.put("/api/groups/remove-member",{groupId:this.state.user.groupId,member:this.state.memberToRemove}).catch(r=>{Ue.logError(r)})}deleteGroup(){this.state.loading||(this.setState({loading:!0}),vi.delete("/api/groups",{params:{groupId:this.state.user.groupId}}).then(()=>{window.location.reload()}).catch(t=>{Ue.logError(t)}))}editStripe(){return oi(this,null,function*(){this.setState({loading:!0});try{const t=yield Vr.createBillingSession({});window.open(t.url,"_self")}catch(t){Ue.logError(t),this.setState({loading:!1})}})}dowloadReport(){return oi(this,null,function*(){if(this.state.loading)return;this.setState({loading:!0});const t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=[{value:"Email"}];t.forEach(s=>{r.push({value:`${s} Hosts`})}),r.push({value:"Total Year Hosts"}),r.push({value:"Question Sets"});const n=[r],c=yield new Promise(s=>{vi.get("/api/groups/generate-report",{params:{groupId:this.state.user.groupId}}).then(g=>{s(g.data)}).catch(()=>{s([])})});c.sort((s,g)=>s.email<g.email?-1:s.email>g.email?1:0),c.forEach(s=>{const g=[{value:s.email}];t.forEach((i,a)=>{g.push({value:s.histories[a],type:"number"})}),g.push({value:s.histories.reduce((i,a)=>i+a),type:"number"}),g.push({value:s.numGames,type:"number"}),n.push(g)});const S={filename:`${this.state.groupName} Blooket Usage Report`,sheet:{data:n}};q5(S),this.setState({loading:!1})})}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Group Plan | Blooket",desc:"Manage your Blooket group."}),A.jsx(qs,{user:this.state.user,page:"Group Plan"}),A.jsxs("div",{className:He.profileBody,children:[A.jsx("div",{className:ln.header,children:"Group Plan"}),this.state.plan&&this.state.plan.name?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:ln.infoRow,children:[A.jsxs("div",{className:ln.infoContainer,children:[A.jsx("i",{className:Ct("fas fa-school",ln.infoIcon)}),this.state.groupName]}),A.jsxs("div",{className:ln.infoContainer,children:[A.jsx("i",{className:Ct("fas fa-users",ln.infoIcon)}),`${this.state.plan.numUsers-this.state.members.length} Unused Plans`]}),A.jsxs("div",{className:ln.infoContainer,children:[A.jsx("i",{className:Ct("far fa-clock",ln.infoIcon)}),`Plan End: ${ui(this.state.lastDate).add(1,"year").format("MM/DD/YYYY")}`]}),A.jsx(Ec,{place:"left",effect:"solid",className:He.tooltip}),this.state.members.length>0?A.jsx("div",{className:ln.reportButton,role:"button",tabIndex:0,onClick:this.dowloadReport,"data-tip":"Download Report",children:A.jsx("i",{className:Ct("fas fa-table",ln.infoIcon,ln.infoIconNoRight)})}):null]}),A.jsx("div",{className:ln.infoRow,children:A.jsxs("div",{className:ln.linkButton,role:"button",tabIndex:0,onClick:this.copyToClipboard,children:["Invite Link: ",A.jsx("u",{children:this.state.inviteLink}),this.state.justCopied?A.jsx("div",{className:ln.copiedNotification,children:"Copied!"}):null]})}),ui(this.state.lastDate).add(1,"year").subtract(9,"months").isBefore()?A.jsxs("div",{className:ln.smallButtonRow,children:[this.state.isPO?A.jsxs(ss,{className:ln.smallButton,to:`/group/renew/${this.state.user.groupId}`,children:[A.jsx("i",{className:Ct("fas fa-sync-alt",ln.smallButtonIcon)}),"Renew Plan Now"]}):A.jsxs("div",{className:ln.smallButton,role:"button",tabIndex:0,onClick:this.editStripe,children:[A.jsx("i",{className:Ct("far fa-credit-card",ln.smallButtonIcon)}),"Edit Renewal"]}),A.jsxs("div",{className:Ct(ln.smallButton,ln.smallButtonRed),role:"button",tabIndex:0,onClick:()=>this.setState({isDeleting:!0}),children:[A.jsx("i",{className:Ct("fas fa-trash-alt",ln.smallButtonIcon)}),"Delete Group"]})]}):null,A.jsx("div",{className:ln.subheaderRow,children:A.jsxs("div",{className:ln.subheader,children:["Members",A.jsx("span",{className:ln.subheaderSmall,children:"(Click to Remove)"})]})}),this.state.members.length>0?A.jsx("div",{className:ln.membersHolder,children:this.state.members.map(t=>A.jsx("div",{className:ln.memberContainer,role:"button",tabIndex:0,onClick:()=>this.setState({memberToRemove:t}),children:t},t))}):A.jsxs("div",{className:ln.nothingText,children:["No Members Yet",A.jsx("br",{}),A.jsx("span",{className:ln.nothingTextSub,children:"If you want Plus, you must join this group yourself"})]})]}):null,this.state.memberToRemove?A.jsx(gr,{text:"Do you really want to remove this member from the group?",buttonOne:{text:"Yes",click:this.removeMember,color:"red"},buttonTwo:{text:"No",click:()=>this.setState({memberToRemove:""}),color:"blue"}}):this.state.isDeleting?A.jsx(gr,{text:"Do you really want to delete this group?",loading:this.state.loading,buttonOne:{text:"Yes",click:this.deleteGroup,color:"red"},buttonTwo:{text:"No",click:()=>this.setState({isDeleting:!1}),color:"blue"}}):this.state.loading?A.jsx(gr,{text:"Loading...",loading:this.state.loading}):null]})]})}}kU.propTypes={user:Wt.object};const j$t=()=>({}),U$t=e=>ws({},e),z$t=Sn(Ts(Is(j$t,U$t)(kU))),G$t="_container_i6o5v_1",H$t="_containerHeader_i6o5v_15",$$t="_inputContainer_i6o5v_25",V$t="_icon_i6o5v_41",W$t="_inputFilled_i6o5v_46",Y$t="_inputError_i6o5v_50",X$t="_iconFilled_i6o5v_64",Q$t="_iconError_i6o5v_68",K$t="_input_i6o5v_25",J$t="_mInput_i6o5v_91",Z$t="_button_i6o5v_131",q$t="_buttonFilled_i6o5v_156",tVt="_buttonError_i6o5v_162",eVt="_errorContainer_i6o5v_173",iVt="_errorIcon_i6o5v_185",rVt="_errorText_i6o5v_194",nVt="_google_i6o5v_202",As={container:G$t,containerHeader:H$t,inputContainer:$$t,icon:V$t,inputFilled:W$t,inputError:Y$t,iconFilled:X$t,iconError:Q$t,input:K$t,mInput:J$t,button:Z$t,buttonFilled:q$t,buttonError:tVt,errorContainer:eVt,errorIcon:iVt,errorText:rVt,google:nVt},sVt=()=>oi(bn,null,function*(){window.location.href=`${nr.id}/logout`});class DU extends ti.Component{constructor(t){super(t),this.state={name:"",nameError:"",loading:!1},this.loading=!1,this.name="",this.onSubmit=this.onSubmit.bind(this)}componentDidMount(){return oi(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ue.logError("NamePage cannot proceed without user"),window.location.href=`${nr.id}/login`;return}this.name=t.name})}onSubmit(t){if(t.preventDefault(),this.loading)return;this.loading=!0,this.setState({loading:!0});const r=Kit(this.state.name);this.setState({nameError:r},()=>{this.state.nameError?(this.loading=!1,this.setState({loading:!1})):vi.put("/api/users/change/name",{name:this.name,newName:this.state.name}).then(n=>{n.data.success===!0?sVt():(this.loading=!1,this.setState({loading:!1,[`${n.data.errType}Error`]:n.data.msg}))}).catch(n=>{Ue.logError(n)})})}render(){return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Change Name | Blooket",desc:"Change the name for your Blooket account."}),A.jsx(Ro,{rightText:"Settings",rightLink:"/settings"}),A.jsx("div",{className:He.slantBackground}),A.jsx("div",{className:He.regularBody,children:A.jsxs("form",{onSubmit:this.onSubmit,className:As.container,children:[A.jsx("div",{className:As.containerHeader,children:"Change Name"}),A.jsxs("div",{children:[A.jsxs("div",{className:Ct(As.inputContainer,{[As.inputFilled]:this.state.name},{[As.inputError]:this.state.nameError}),children:[A.jsx("i",{className:Ct(As.icon,"fas fa-user",{[As.iconFilled]:this.state.name},{[As.iconError]:this.state.nameError})}),A.jsx("input",{className:Ct(As.input,{[As.inputError]:this.state.nameError}),placeholder:"New Name",onChange:t=>this.setState({name:t.target.value.trim().slice(0,15),nameError:""}),value:this.state.name,type:"text",autoFocus:ur?"":"autofocus"})]}),this.state.loading?A.jsx(no,{}):A.jsx("input",{type:"submit",value:"Change Name",className:Ct(As.button,{[As.buttonFilled]:this.state.name},{[As.buttonError]:this.state.nameError}),tabIndex:0})]}),this.state.nameError?A.jsxs("div",{className:As.errorContainer,children:[A.jsx("i",{className:Ct(As.errorIcon,"fas fa-times-circle")}),A.jsx("div",{className:As.errorText,children:this.state.nameError})]}):null]})})]})}}DU.propTypes={user:Wt.object};const aVt=()=>({}),oVt=e=>ws({},e),lVt=Sn(Ts(Is(aVt,oVt)(DU)));class AU extends ti.Component{constructor(t){super(t),this.state={loading:!1,success:!1,done:!1},this.email=Ks("e"),this.onSubmit=this.onSubmit.bind(this)}onSubmit(t){t.preventDefault(),!this.state.loading&&(this.setState({loading:!0}),vi.put("/api/users/unsubscribe",{email:decodeURIComponent(this.email).toLowerCase()}).then(r=>{this.setState({success:r.data.success,done:!0})}).catch(r=>{Ue.logError(r)}))}render(){if(!this.email){Ue.logError("UnsubscribePage cannot be rendered without an email"),window.location.href=`${nr.id}/login`;return}return A.jsxs("div",{className:ur?He.mBody:He.body,children:[A.jsx(nn,{title:"Unsubscribe | Blooket",desc:"Unsubscribe from Blooket emails."}),A.jsx(Ro,{rightText:"Settings",rightLink:"/settings"}),A.jsx("div",{className:He.slantBackground}),A.jsx("div",{className:He.regularBody,children:A.jsxs("form",{onSubmit:this.onSubmit,className:As.container,children:[A.jsx("div",{className:As.containerHeader,children:this.state.done?this.state.success?"Successfully Unsubscribed!":"Please Refresh and Try Again":"Unsubscribe from Emails?"}),this.state.done?null:A.jsx("div",{children:this.state.loading?A.jsx(no,{}):A.jsx("input",{type:"submit",value:"Yes",className:Ct(As.button,As.buttonFilled),tabIndex:0})})]})})]})}}AU.propTypes={};const uVt=()=>({}),hVt=e=>ws({},e),cVt=Sn(Ts(Is(uVt,hVt)(AU))),fVt="_blueBg_pt2gm_1",dVt="_container_pt2gm_5",pVt="_containerHeader_pt2gm_17",vVt="_blook_pt2gm_29",mVt="_containerText_pt2gm_46",lv={blueBg:fVt,container:dVt,containerHeader:pVt,blook:vVt,containerText:mVt};class PU extends ti.Component{constructor(t){super(t),this.state={}}render(){return window.location.pathname==="/"||!this.props.match.params?A.jsx(hc,{to:"/my-sets"}):A.jsxs("div",{className:Ct(ur?He.mBody:He.body,lv.blueBg),children:[A.jsx(nn,{title:"404 | Blooket",desc:"I don't know what is, but this ain't it chief."}),A.jsx(Ro,{}),A.jsx("div",{className:He.regularBody,children:A.jsxs("div",{className:lv.container,children:[A.jsxs("div",{className:lv.containerHeader,children:["4",A.jsx(xn,{name:"Blobfish",className:lv.blook}),"4"]}),A.jsxs("div",{className:lv.containerText,children:["I don't know what you were looking for,",A.jsx("br",{}),"but it's not this."]})]})})]})}}PU.propTypes={match:Wt.object};const gVt=()=>({}),yVt=e=>ws({},e),xVt=Ts(Is(gVt,yVt)(PU)),bVt=["basil","gold","crypto"],d4=e=>{let t=!1;bVt.forEach(r=>{e.toLowerCase().includes(r)&&(t=!0)}),t&&(Xit(),window.location.href=__BLOOKET_WWW_BASE__)};window.alert=d4;window.prompt=d4;window.confirm=d4;(function(){const e=["blooket.com","packcomputing.com","localhost","127.0.0.1"],t=new URL(window.location.href).hostname;let r=!1;e.forEach(n=>{t.endsWith(n)&&(r=!0)}),r||(window.location.href=`${__BLOOKET_WWW_BASE__}/terms`)})();(function(){let e=!1;window.blooketUtility&&(e=!0),localStorage.getItem("blooket-utility")&&(e=!0),localStorage.removeItem("blooket-utility"),e&&(window.location.href=`${__BLOOKET_WWW_BASE__}/terms`),delete window.blooketUtility,delete window._fetch;const t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t);const r=t.contentWindow;window.fetch=r.fetch,XMLHttpRequest.prototype.open=r.XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.send=r.XMLHttpRequest.prototype.send,String.prototype.concat=r.String.prototype.concat,window.ontouchstart=null,window.onkeydown=null})();const SVt=Ue.ErrorBoundary;SW();DY();vi.get("/api/config").then(e=>{const t=e.data.securityBase;Ue.setSecurityBaseURL(t)});const wVt=vK();KG.render(A.jsx(SVt,{children:A.jsx(u7,{store:wVt,children:A.jsx(vm.Provider,{value:new qrt,children:A.jsx(P$,{children:A.jsx("div",{children:A.jsxs(k$,{children:[A.jsx(on,{exact:!0,path:"/upgrade",component:Sat}),A.jsx(on,{exact:!0,path:"/upgrade/group/price",component:Klt}),A.jsx(on,{exact:!0,path:"/group/join/:id",component:qdt}),A.jsx(on,{exact:!0,path:"/upgrade/checkout/:plan",component:On(xlt)}),A.jsx(on,{exact:!0,path:"/upgrade/success",component:On(Elt)}),A.jsx(on,{exact:!0,path:"/upgrade/cancel",component:On(klt)}),A.jsx(on,{exact:!0,path:"/upgrade/group",component:On(lut)}),A.jsx(on,{exact:!0,path:"/upgrade/group/po",component:On(Wdt)}),A.jsx(on,{exact:!0,path:"/group/renew/:id",component:On(tpt)}),A.jsx(on,{exact:!0,path:"/discover",component:On(Tbt)}),A.jsx(on,{exact:!0,path:"/set/:id",component:On(Vwt)}),A.jsx(on,{exact:!0,path:"/category/:category",component:On(vTt)}),A.jsx(on,{exact:!0,path:"/history/game/:id",component:On(R6t)}),A.jsx(on,{exact:!0,path:"/homework/:id",component:On(ikt)}),A.jsx(on,{exact:!0,path:"/stats",component:On(RAt)}),A.jsx(on,{exact:!0,path:"/market",component:On(vIt)}),A.jsx(on,{exact:!0,path:"/blooks",component:On(eIt)}),A.jsx(on,{exact:!0,path:"/settings",component:On(NIt)}),A.jsx(on,{exact:!0,path:"/create",component:On(HBt)}),A.jsx(on,{exact:!0,path:"/edit",component:On(vjt)}),A.jsx(on,{exact:!0,path:"/edit/info",component:On(yUt)}),A.jsx(on,{exact:!0,path:"/my-sets",component:On(sGt)}),A.jsx(on,{exact:!0,path:"/favorites",component:On(bHt)}),A.jsx(on,{exact:!0,path:"/history",component:On(WHt)}),A.jsx(on,{exact:!0,path:"/homeworks",component:On(y$t)}),A.jsx(on,{exact:!0,path:"/group-plan",component:On(z$t)}),A.jsx(on,{exact:!0,path:"/change/name",component:On(lVt)}),A.jsx(on,{exact:!0,path:"/unsubscribe",component:On(cVt)}),A.jsx(hc,{exact:!0,from:"/dashboard",to:"/my-sets"}),A.jsx(hc,{exact:!0,from:"/profile",to:"/my-sets"}),A.jsx(on,{component:xVt})]})})})})})}),document.getElementById("app"))});export default TVt();
